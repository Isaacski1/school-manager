var nF=Object.defineProperty;var sF=(n,e,t)=>e in n?nF(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var _r=(n,e,t)=>sF(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();var Pj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zb(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function rF(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(s){var a=Object.getOwnPropertyDescriptor(n,s);Object.defineProperty(t,s,a.get?a:{enumerable:!0,get:function(){return n[s]}})}),t}var yy={exports:{}},mp={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kj;function aF(){if(kj)return mp;kj=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:n,type:s,key:c,ref:a!==void 0?a:null,props:o}}return mp.Fragment=e,mp.jsx=t,mp.jsxs=t,mp}var Mj;function iF(){return Mj||(Mj=1,yy.exports=aF()),yy.exports}var i=iF(),by={exports:{}},hs={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hj;function oF(){if(Hj)return hs;Hj=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),v=Symbol.iterator;function g(ne){return ne===null||typeof ne!="object"?null:(ne=v&&ne[v]||ne["@@iterator"],typeof ne=="function"?ne:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,N={};function E(ne,V,W){this.props=ne,this.context=V,this.refs=N,this.updater=W||b}E.prototype.isReactComponent={},E.prototype.setState=function(ne,V){if(typeof ne!="object"&&typeof ne!="function"&&ne!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ne,V,"setState")},E.prototype.forceUpdate=function(ne){this.updater.enqueueForceUpdate(this,ne,"forceUpdate")};function I(){}I.prototype=E.prototype;function F(ne,V,W){this.props=ne,this.context=V,this.refs=N,this.updater=W||b}var D=F.prototype=new I;D.constructor=F,S(D,E.prototype),D.isPureReactComponent=!0;var P=Array.isArray;function K(){}var L={H:null,A:null,T:null,S:null},Q=Object.prototype.hasOwnProperty;function R(ne,V,W){var ae=W.ref;return{$$typeof:n,type:ne,key:V,ref:ae!==void 0?ae:null,props:W}}function M(ne,V){return R(ne.type,V,ne.props)}function O(ne){return typeof ne=="object"&&ne!==null&&ne.$$typeof===n}function H(ne){var V={"=":"=0",":":"=2"};return"$"+ne.replace(/[=:]/g,function(W){return V[W]})}var G=/\/+/g;function ie(ne,V){return typeof ne=="object"&&ne!==null&&ne.key!=null?H(""+ne.key):V.toString(36)}function ge(ne){switch(ne.status){case"fulfilled":return ne.value;case"rejected":throw ne.reason;default:switch(typeof ne.status=="string"?ne.then(K,K):(ne.status="pending",ne.then(function(V){ne.status==="pending"&&(ne.status="fulfilled",ne.value=V)},function(V){ne.status==="pending"&&(ne.status="rejected",ne.reason=V)})),ne.status){case"fulfilled":return ne.value;case"rejected":throw ne.reason}}throw ne}function J(ne,V,W,ae,ce){var Ae=typeof ne;(Ae==="undefined"||Ae==="boolean")&&(ne=null);var pe=!1;if(ne===null)pe=!0;else switch(Ae){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(ne.$$typeof){case n:case e:pe=!0;break;case A:return pe=ne._init,J(pe(ne._payload),V,W,ae,ce)}}if(pe)return ce=ce(ne),pe=ae===""?"."+ie(ne,0):ae,P(ce)?(W="",pe!=null&&(W=pe.replace(G,"$&/")+"/"),J(ce,V,W,"",function(Ie){return Ie})):ce!=null&&(O(ce)&&(ce=M(ce,W+(ce.key==null||ne&&ne.key===ce.key?"":(""+ce.key).replace(G,"$&/")+"/")+pe)),V.push(ce)),1;pe=0;var Se=ae===""?".":ae+":";if(P(ne))for(var xe=0;xe<ne.length;xe++)ae=ne[xe],Ae=Se+ie(ae,xe),pe+=J(ae,V,W,Ae,ce);else if(xe=g(ne),typeof xe=="function")for(ne=xe.call(ne),xe=0;!(ae=ne.next()).done;)ae=ae.value,Ae=Se+ie(ae,xe++),pe+=J(ae,V,W,Ae,ce);else if(Ae==="object"){if(typeof ne.then=="function")return J(ge(ne),V,W,ae,ce);throw V=String(ne),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(ne).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return pe}function re(ne,V,W){if(ne==null)return ne;var ae=[],ce=0;return J(ne,ae,"","",function(Ae){return V.call(W,Ae,ce++)}),ae}function se(ne){if(ne._status===-1){var V=ne._result;V=V(),V.then(function(W){(ne._status===0||ne._status===-1)&&(ne._status=1,ne._result=W)},function(W){(ne._status===0||ne._status===-1)&&(ne._status=2,ne._result=W)}),ne._status===-1&&(ne._status=0,ne._result=V)}if(ne._status===1)return ne._result.default;throw ne._result}var he=typeof reportError=="function"?reportError:function(ne){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ne=="object"&&ne!==null&&typeof ne.message=="string"?String(ne.message):String(ne),error:ne});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ne);return}console.error(ne)},je={map:re,forEach:function(ne,V,W){re(ne,function(){V.apply(this,arguments)},W)},count:function(ne){var V=0;return re(ne,function(){V++}),V},toArray:function(ne){return re(ne,function(V){return V})||[]},only:function(ne){if(!O(ne))throw Error("React.Children.only expected to receive a single React element child.");return ne}};return hs.Activity=m,hs.Children=je,hs.Component=E,hs.Fragment=t,hs.Profiler=a,hs.PureComponent=F,hs.StrictMode=s,hs.Suspense=u,hs.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,hs.__COMPILER_RUNTIME={__proto__:null,c:function(ne){return L.H.useMemoCache(ne)}},hs.cache=function(ne){return function(){return ne.apply(null,arguments)}},hs.cacheSignal=function(){return null},hs.cloneElement=function(ne,V,W){if(ne==null)throw Error("The argument must be a React element, but you passed "+ne+".");var ae=S({},ne.props),ce=ne.key;if(V!=null)for(Ae in V.key!==void 0&&(ce=""+V.key),V)!Q.call(V,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&V.ref===void 0||(ae[Ae]=V[Ae]);var Ae=arguments.length-2;if(Ae===1)ae.children=W;else if(1<Ae){for(var pe=Array(Ae),Se=0;Se<Ae;Se++)pe[Se]=arguments[Se+2];ae.children=pe}return R(ne.type,ce,ae)},hs.createContext=function(ne){return ne={$$typeof:c,_currentValue:ne,_currentValue2:ne,_threadCount:0,Provider:null,Consumer:null},ne.Provider=ne,ne.Consumer={$$typeof:o,_context:ne},ne},hs.createElement=function(ne,V,W){var ae,ce={},Ae=null;if(V!=null)for(ae in V.key!==void 0&&(Ae=""+V.key),V)Q.call(V,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(ce[ae]=V[ae]);var pe=arguments.length-2;if(pe===1)ce.children=W;else if(1<pe){for(var Se=Array(pe),xe=0;xe<pe;xe++)Se[xe]=arguments[xe+2];ce.children=Se}if(ne&&ne.defaultProps)for(ae in pe=ne.defaultProps,pe)ce[ae]===void 0&&(ce[ae]=pe[ae]);return R(ne,Ae,ce)},hs.createRef=function(){return{current:null}},hs.forwardRef=function(ne){return{$$typeof:h,render:ne}},hs.isValidElement=O,hs.lazy=function(ne){return{$$typeof:A,_payload:{_status:-1,_result:ne},_init:se}},hs.memo=function(ne,V){return{$$typeof:f,type:ne,compare:V===void 0?null:V}},hs.startTransition=function(ne){var V=L.T,W={};L.T=W;try{var ae=ne(),ce=L.S;ce!==null&&ce(W,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(K,he)}catch(Ae){he(Ae)}finally{V!==null&&W.types!==null&&(V.types=W.types),L.T=V}},hs.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},hs.use=function(ne){return L.H.use(ne)},hs.useActionState=function(ne,V,W){return L.H.useActionState(ne,V,W)},hs.useCallback=function(ne,V){return L.H.useCallback(ne,V)},hs.useContext=function(ne){return L.H.useContext(ne)},hs.useDebugValue=function(){},hs.useDeferredValue=function(ne,V){return L.H.useDeferredValue(ne,V)},hs.useEffect=function(ne,V){return L.H.useEffect(ne,V)},hs.useEffectEvent=function(ne){return L.H.useEffectEvent(ne)},hs.useId=function(){return L.H.useId()},hs.useImperativeHandle=function(ne,V,W){return L.H.useImperativeHandle(ne,V,W)},hs.useInsertionEffect=function(ne,V){return L.H.useInsertionEffect(ne,V)},hs.useLayoutEffect=function(ne,V){return L.H.useLayoutEffect(ne,V)},hs.useMemo=function(ne,V){return L.H.useMemo(ne,V)},hs.useOptimistic=function(ne,V){return L.H.useOptimistic(ne,V)},hs.useReducer=function(ne,V,W){return L.H.useReducer(ne,V,W)},hs.useRef=function(ne){return L.H.useRef(ne)},hs.useState=function(ne){return L.H.useState(ne)},hs.useSyncExternalStore=function(ne,V,W){return L.H.useSyncExternalStore(ne,V,W)},hs.useTransition=function(){return L.H.useTransition()},hs.version="19.2.3",hs}var Vj;function Gb(){return Vj||(Vj=1,by.exports=oF()),by.exports}var ee=Gb();const $b=zb(ee);var wy={exports:{}},pp={},jy={exports:{}},By={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kj;function lF(){return Kj||(Kj=1,(function(n){function e(J,re){var se=J.length;J.push(re);e:for(;0<se;){var he=se-1>>>1,je=J[he];if(0<a(je,re))J[he]=re,J[se]=je,se=he;else break e}}function t(J){return J.length===0?null:J[0]}function s(J){if(J.length===0)return null;var re=J[0],se=J.pop();if(se!==re){J[0]=se;e:for(var he=0,je=J.length,ne=je>>>1;he<ne;){var V=2*(he+1)-1,W=J[V],ae=V+1,ce=J[ae];if(0>a(W,se))ae<je&&0>a(ce,W)?(J[he]=ce,J[ae]=se,he=ae):(J[he]=W,J[V]=se,he=V);else if(ae<je&&0>a(ce,se))J[he]=ce,J[ae]=se,he=ae;else break e}}return re}function a(J,re){var se=J.sortIndex-re.sortIndex;return se!==0?se:J.id-re.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var u=[],f=[],A=1,m=null,v=3,g=!1,b=!1,S=!1,N=!1,E=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function D(J){for(var re=t(f);re!==null;){if(re.callback===null)s(f);else if(re.startTime<=J)s(f),re.sortIndex=re.expirationTime,e(u,re);else break;re=t(f)}}function P(J){if(S=!1,D(J),!b)if(t(u)!==null)b=!0,K||(K=!0,H());else{var re=t(f);re!==null&&ge(P,re.startTime-J)}}var K=!1,L=-1,Q=5,R=-1;function M(){return N?!0:!(n.unstable_now()-R<Q)}function O(){if(N=!1,K){var J=n.unstable_now();R=J;var re=!0;try{e:{b=!1,S&&(S=!1,I(L),L=-1),g=!0;var se=v;try{t:{for(D(J),m=t(u);m!==null&&!(m.expirationTime>J&&M());){var he=m.callback;if(typeof he=="function"){m.callback=null,v=m.priorityLevel;var je=he(m.expirationTime<=J);if(J=n.unstable_now(),typeof je=="function"){m.callback=je,D(J),re=!0;break t}m===t(u)&&s(u),D(J)}else s(u);m=t(u)}if(m!==null)re=!0;else{var ne=t(f);ne!==null&&ge(P,ne.startTime-J),re=!1}}break e}finally{m=null,v=se,g=!1}re=void 0}}finally{re?H():K=!1}}}var H;if(typeof F=="function")H=function(){F(O)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,ie=G.port2;G.port1.onmessage=O,H=function(){ie.postMessage(null)}}else H=function(){E(O,0)};function ge(J,re){L=E(function(){J(n.unstable_now())},re)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(J){J.callback=null},n.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<J?Math.floor(1e3/J):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_next=function(J){switch(v){case 1:case 2:case 3:var re=3;break;default:re=v}var se=v;v=re;try{return J()}finally{v=se}},n.unstable_requestPaint=function(){N=!0},n.unstable_runWithPriority=function(J,re){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var se=v;v=J;try{return re()}finally{v=se}},n.unstable_scheduleCallback=function(J,re,se){var he=n.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?he+se:he):se=he,J){case 1:var je=-1;break;case 2:je=250;break;case 5:je=1073741823;break;case 4:je=1e4;break;default:je=5e3}return je=se+je,J={id:A++,callback:re,priorityLevel:J,startTime:se,expirationTime:je,sortIndex:-1},se>he?(J.sortIndex=se,e(f,J),t(u)===null&&J===t(f)&&(S?(I(L),L=-1):S=!0,ge(P,se-he))):(J.sortIndex=je,e(u,J),b||g||(b=!0,K||(K=!0,H()))),J},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(J){var re=v;return function(){var se=v;v=re;try{return J.apply(this,arguments)}finally{v=se}}}})(By)),By}var zj;function AF(){return zj||(zj=1,jy.exports=lF()),jy.exports}var Cy={exports:{}},Qo={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gj;function cF(){if(Gj)return Qo;Gj=1;var n=Gb();function e(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)f+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(u,f,A){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:m==null?null:""+m,children:u,containerInfo:f,implementation:A}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(u,f){if(u==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Qo.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qo.createPortal=function(u,f){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(u,f,null,A)},Qo.flushSync=function(u){var f=c.T,A=s.p;try{if(c.T=null,s.p=2,u)return u()}finally{c.T=f,s.p=A,s.d.f()}},Qo.preconnect=function(u,f){typeof u=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,s.d.C(u,f))},Qo.prefetchDNS=function(u){typeof u=="string"&&s.d.D(u)},Qo.preinit=function(u,f){if(typeof u=="string"&&f&&typeof f.as=="string"){var A=f.as,m=h(A,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,g=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;A==="style"?s.d.S(u,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:v,fetchPriority:g}):A==="script"&&s.d.X(u,{crossOrigin:m,integrity:v,fetchPriority:g,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Qo.preinitModule=function(u,f){if(typeof u=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var A=h(f.as,f.crossOrigin);s.d.M(u,{crossOrigin:A,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&s.d.M(u)},Qo.preload=function(u,f){if(typeof u=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var A=f.as,m=h(A,f.crossOrigin);s.d.L(u,A,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Qo.preloadModule=function(u,f){if(typeof u=="string")if(f){var A=h(f.as,f.crossOrigin);s.d.m(u,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:A,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else s.d.m(u)},Qo.requestFormReset=function(u){s.d.r(u)},Qo.unstable_batchedUpdates=function(u,f){return u(f)},Qo.useFormState=function(u,f,A){return c.H.useFormState(u,f,A)},Qo.useFormStatus=function(){return c.H.useHostTransitionStatus()},Qo.version="19.2.3",Qo}var $j;function uF(){if($j)return Cy.exports;$j=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Cy.exports=cF(),Cy.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yj;function dF(){if(Yj)return pp;Yj=1;var n=AF(),e=Gb(),t=uF();function s(r){var l="https://react.dev/errors/"+r;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+r+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var l=r,d=r;if(r.alternate)for(;l.return;)l=l.return;else{r=l;do l=r,(l.flags&4098)!==0&&(d=l.return),r=l.return;while(r)}return l.tag===3?d:null}function c(r){if(r.tag===13){var l=r.memoizedState;if(l===null&&(r=r.alternate,r!==null&&(l=r.memoizedState)),l!==null)return l.dehydrated}return null}function h(r){if(r.tag===31){var l=r.memoizedState;if(l===null&&(r=r.alternate,r!==null&&(l=r.memoizedState)),l!==null)return l.dehydrated}return null}function u(r){if(o(r)!==r)throw Error(s(188))}function f(r){var l=r.alternate;if(!l){if(l=o(r),l===null)throw Error(s(188));return l!==r?null:r}for(var d=r,p=l;;){var T=d.return;if(T===null)break;var U=T.alternate;if(U===null){if(p=T.return,p!==null){d=p;continue}break}if(T.child===U.child){for(U=T.child;U;){if(U===d)return u(T),r;if(U===p)return u(T),l;U=U.sibling}throw Error(s(188))}if(d.return!==p.return)d=T,p=U;else{for(var q=!1,ve=T.child;ve;){if(ve===d){q=!0,d=T,p=U;break}if(ve===p){q=!0,p=T,d=U;break}ve=ve.sibling}if(!q){for(ve=U.child;ve;){if(ve===d){q=!0,d=U,p=T;break}if(ve===p){q=!0,p=U,d=T;break}ve=ve.sibling}if(!q)throw Error(s(189))}}if(d.alternate!==p)throw Error(s(190))}if(d.tag!==3)throw Error(s(188));return d.stateNode.current===d?r:l}function A(r){var l=r.tag;if(l===5||l===26||l===27||l===6)return r;for(r=r.child;r!==null;){if(l=A(r),l!==null)return l;r=r.sibling}return null}var m=Object.assign,v=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),F=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function H(r){return r===null||typeof r!="object"?null:(r=O&&r[O]||r["@@iterator"],typeof r=="function"?r:null)}var G=Symbol.for("react.client.reference");function ie(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===G?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case S:return"Fragment";case E:return"Profiler";case N:return"StrictMode";case P:return"Suspense";case K:return"SuspenseList";case R:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case b:return"Portal";case F:return r.displayName||"Context";case I:return(r._context.displayName||"Context")+".Consumer";case D:var l=r.render;return r=r.displayName,r||(r=l.displayName||l.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case L:return l=r.displayName||null,l!==null?l:ie(r.type)||"Memo";case Q:l=r._payload,r=r._init;try{return ie(r(l))}catch{}}return null}var ge=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},he=[],je=-1;function ne(r){return{current:r}}function V(r){0>je||(r.current=he[je],he[je]=null,je--)}function W(r,l){je++,he[je]=r.current,r.current=l}var ae=ne(null),ce=ne(null),Ae=ne(null),pe=ne(null);function Se(r,l){switch(W(Ae,l),W(ce,r),W(ae,null),l.nodeType){case 9:case 11:r=(r=l.documentElement)&&(r=r.namespaceURI)?lj(r):0;break;default:if(r=l.tagName,l=l.namespaceURI)l=lj(l),r=Aj(l,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}V(ae),W(ae,r)}function xe(){V(ae),V(ce),V(Ae)}function Ie(r){r.memoizedState!==null&&W(pe,r);var l=ae.current,d=Aj(l,r.type);l!==d&&(W(ce,r),W(ae,d))}function _e(r){ce.current===r&&(V(ae),V(ce)),pe.current===r&&(V(pe),up._currentValue=se)}var De,st;function He(r){if(De===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);De=l&&l[1]||"",st=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+De+r+st}var de=!1;function rt(r,l){if(!r||de)return"";de=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(l){var Bt=function(){throw Error()};if(Object.defineProperty(Bt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Bt,[])}catch(it){var nt=it}Reflect.construct(r,[],Bt)}else{try{Bt.call()}catch(it){nt=it}r.call(Bt.prototype)}}else{try{throw Error()}catch(it){nt=it}(Bt=r())&&typeof Bt.catch=="function"&&Bt.catch(function(){})}}catch(it){if(it&&nt&&typeof it.stack=="string")return[it.stack,nt.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var T=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");T&&T.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var U=p.DetermineComponentFrameRoot(),q=U[0],ve=U[1];if(q&&ve){var Fe=q.split(`
`),et=ve.split(`
`);for(T=p=0;p<Fe.length&&!Fe[p].includes("DetermineComponentFrameRoot");)p++;for(;T<et.length&&!et[T].includes("DetermineComponentFrameRoot");)T++;if(p===Fe.length||T===et.length)for(p=Fe.length-1,T=et.length-1;1<=p&&0<=T&&Fe[p]!==et[T];)T--;for(;1<=p&&0<=T;p--,T--)if(Fe[p]!==et[T]){if(p!==1||T!==1)do if(p--,T--,0>T||Fe[p]!==et[T]){var pt=`
`+Fe[p].replace(" at new "," at ");return r.displayName&&pt.includes("<anonymous>")&&(pt=pt.replace("<anonymous>",r.displayName)),pt}while(1<=p&&0<=T);break}}}finally{de=!1,Error.prepareStackTrace=d}return(d=r?r.displayName||r.name:"")?He(d):""}function _t(r,l){switch(r.tag){case 26:case 27:case 5:return He(r.type);case 16:return He("Lazy");case 13:return r.child!==l&&l!==null?He("Suspense Fallback"):He("Suspense");case 19:return He("SuspenseList");case 0:case 15:return rt(r.type,!1);case 11:return rt(r.type.render,!1);case 1:return rt(r.type,!0);case 31:return He("Activity");default:return""}}function vt(r){try{var l="",d=null;do l+=_t(r,d),d=r,r=r.return;while(r);return l}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var qe=Object.prototype.hasOwnProperty,We=n.unstable_scheduleCallback,dt=n.unstable_cancelCallback,Qt=n.unstable_shouldYield,Pt=n.unstable_requestPaint,Gt=n.unstable_now,sn=n.unstable_getCurrentPriorityLevel,en=n.unstable_ImmediatePriority,Nn=n.unstable_UserBlockingPriority,xt=n.unstable_NormalPriority,St=n.unstable_LowPriority,$t=n.unstable_IdlePriority,Ht=n.log,Rn=n.unstable_setDisableYieldValue,Ke=null,yt=null;function ze(r){if(typeof Ht=="function"&&Rn(r),yt&&typeof yt.setStrictMode=="function")try{yt.setStrictMode(Ke,r)}catch{}}var ot=Math.clz32?Math.clz32:Ct,ft=Math.log,Lt=Math.LN2;function Ct(r){return r>>>=0,r===0?32:31-(ft(r)/Lt|0)|0}var zt=256,yn=262144,Tt=4194304;function ht(r){var l=r&42;if(l!==0)return l;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Ot(r,l,d){var p=r.pendingLanes;if(p===0)return 0;var T=0,U=r.suspendedLanes,q=r.pingedLanes;r=r.warmLanes;var ve=p&134217727;return ve!==0?(p=ve&~U,p!==0?T=ht(p):(q&=ve,q!==0?T=ht(q):d||(d=ve&~r,d!==0&&(T=ht(d))))):(ve=p&~U,ve!==0?T=ht(ve):q!==0?T=ht(q):d||(d=p&~r,d!==0&&(T=ht(d)))),T===0?0:l!==0&&l!==T&&(l&U)===0&&(U=T&-T,d=l&-l,U>=d||U===32&&(d&4194048)!==0)?l:T}function qt(r,l){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&l)===0}function on(r,l){switch(r){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cs(){var r=Tt;return Tt<<=1,(Tt&62914560)===0&&(Tt=4194304),r}function js(r){for(var l=[],d=0;31>d;d++)l.push(r);return l}function cn(r,l){r.pendingLanes|=l,l!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function ri(r,l,d,p,T,U){var q=r.pendingLanes;r.pendingLanes=d,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=d,r.entangledLanes&=d,r.errorRecoveryDisabledLanes&=d,r.shellSuspendCounter=0;var ve=r.entanglements,Fe=r.expirationTimes,et=r.hiddenUpdates;for(d=q&~d;0<d;){var pt=31-ot(d),Bt=1<<pt;ve[pt]=0,Fe[pt]=-1;var nt=et[pt];if(nt!==null)for(et[pt]=null,pt=0;pt<nt.length;pt++){var it=nt[pt];it!==null&&(it.lane&=-536870913)}d&=~Bt}p!==0&&Ua(r,p,0),U!==0&&T===0&&r.tag!==0&&(r.suspendedLanes|=U&~(q&~l))}function Ua(r,l,d){r.pendingLanes|=l,r.suspendedLanes&=~l;var p=31-ot(l);r.entangledLanes|=l,r.entanglements[p]=r.entanglements[p]|1073741824|d&261930}function ua(r,l){var d=r.entangledLanes|=l;for(r=r.entanglements;d;){var p=31-ot(d),T=1<<p;T&l|r[p]&l&&(r[p]|=l),d&=~T}}function $r(r,l){var d=l&-l;return d=(d&42)!==0?1:ln(d),(d&(r.suspendedLanes|l))!==0?0:d}function ln(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Le(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Rt(){var r=re.p;return r!==0?r:(r=window.event,r===void 0?32:Fj(r.type))}function Vt(r,l){var d=re.p;try{return re.p=r,l()}finally{re.p=d}}var Ft=Math.random().toString(36).slice(2),Yt="__reactFiber$"+Ft,Ut="__reactProps$"+Ft,vn="__reactContainer$"+Ft,Sn="__reactEvents$"+Ft,On="__reactListeners$"+Ft,dr="__reactHandles$"+Ft,Kn="__reactResources$"+Ft,In="__reactMarker$"+Ft;function Us(r){delete r[Yt],delete r[Ut],delete r[Sn],delete r[On],delete r[dr]}function Ss(r){var l=r[Yt];if(l)return l;for(var d=r.parentNode;d;){if(l=d[vn]||d[Yt]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(r=pj(r);r!==null;){if(d=r[Yt])return d;r=pj(r)}return l}r=d,d=r.parentNode}return null}function lr(r){if(r=r[Yt]||r[vn]){var l=r.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return r}return null}function sr(r){var l=r.tag;if(l===5||l===26||l===27||l===6)return r.stateNode;throw Error(s(33))}function Js(r){var l=r[Kn];return l||(l=r[Kn]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function zs(r){r[In]=!0}var Ga=new Set,Yr={};function da(r,l){ai(r,l),ai(r+"Capture",l)}function ai(r,l){for(Yr[r]=l,r=0;r<l.length;r++)Ga.add(l[r])}var Ci=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ul={},Yo={};function po(r){return qe.call(Yo,r)?!0:qe.call(ul,r)?!1:Ci.test(r)?Yo[r]=!0:(ul[r]=!0,!1)}function jr(r,l,d){if(po(l))if(d===null)r.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":r.removeAttribute(l);return;case"boolean":var p=l.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){r.removeAttribute(l);return}}r.setAttribute(l,""+d)}}function na(r,l,d){if(d===null)r.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttribute(l,""+d)}}function vr(r,l,d,p){if(p===null)r.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(d);return}r.setAttributeNS(l,d,""+p)}}function ls(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ra(r){var l=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Cn(r,l,d){var p=Object.getOwnPropertyDescriptor(r.constructor.prototype,l);if(!r.hasOwnProperty(l)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var T=p.get,U=p.set;return Object.defineProperty(r,l,{configurable:!0,get:function(){return T.call(this)},set:function(q){d=""+q,U.call(this,q)}}),Object.defineProperty(r,l,{enumerable:p.enumerable}),{getValue:function(){return d},setValue:function(q){d=""+q},stopTracking:function(){r._valueTracker=null,delete r[l]}}}}function mn(r){if(!r._valueTracker){var l=Ra(r)?"checked":"value";r._valueTracker=Cn(r,l,""+r[l])}}function Ns(r){if(!r)return!1;var l=r._valueTracker;if(!l)return!0;var d=l.getValue(),p="";return r&&(p=Ra(r)?r.checked?"true":"false":r.value),r=p,r!==d?(l.setValue(r),!0):!1}function Dn(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Pn=/[\n"\\]/g;function Wt(r){return r.replace(Pn,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function qs(r,l,d,p,T,U,q,ve){r.name="",q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"?r.type=q:r.removeAttribute("type"),l!=null?q==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+ls(l)):r.value!==""+ls(l)&&(r.value=""+ls(l)):q!=="submit"&&q!=="reset"||r.removeAttribute("value"),l!=null?Yi(r,q,ls(l)):d!=null?Yi(r,q,ls(d)):p!=null&&r.removeAttribute("value"),T==null&&U!=null&&(r.defaultChecked=!!U),T!=null&&(r.checked=T&&typeof T!="function"&&typeof T!="symbol"),ve!=null&&typeof ve!="function"&&typeof ve!="symbol"&&typeof ve!="boolean"?r.name=""+ls(ve):r.removeAttribute("name")}function Si(r,l,d,p,T,U,q,ve){if(U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"&&(r.type=U),l!=null||d!=null){if(!(U!=="submit"&&U!=="reset"||l!=null)){mn(r);return}d=d!=null?""+ls(d):"",l=l!=null?""+ls(l):d,ve||l===r.value||(r.value=l),r.defaultValue=l}p=p??T,p=typeof p!="function"&&typeof p!="symbol"&&!!p,r.checked=ve?r.checked:!!p,r.defaultChecked=!!p,q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"&&(r.name=q),mn(r)}function Yi(r,l,d){l==="number"&&Dn(r.ownerDocument)===r||r.defaultValue===""+d||(r.defaultValue=""+d)}function Or(r,l,d,p){if(r=r.options,l){l={};for(var T=0;T<d.length;T++)l["$"+d[T]]=!0;for(d=0;d<r.length;d++)T=l.hasOwnProperty("$"+r[d].value),r[d].selected!==T&&(r[d].selected=T),T&&p&&(r[d].defaultSelected=!0)}else{for(d=""+ls(d),l=null,T=0;T<r.length;T++){if(r[T].value===d){r[T].selected=!0,p&&(r[T].defaultSelected=!0);return}l!==null||r[T].disabled||(l=r[T])}l!==null&&(l.selected=!0)}}function Wo(r,l,d){if(l!=null&&(l=""+ls(l),l!==r.value&&(r.value=l),d==null)){r.defaultValue!==l&&(r.defaultValue=l);return}r.defaultValue=d!=null?""+ls(d):""}function Ur(r,l,d,p){if(l==null){if(p!=null){if(d!=null)throw Error(s(92));if(ge(p)){if(1<p.length)throw Error(s(93));p=p[0]}d=p}d==null&&(d=""),l=d}d=ls(l),r.defaultValue=d,p=r.textContent,p===d&&p!==""&&p!==null&&(r.value=p),mn(r)}function Qs(r,l){if(l){var d=r.firstChild;if(d&&d===r.lastChild&&d.nodeType===3){d.nodeValue=l;return}}r.textContent=l}var Mi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function go(r,l,d){var p=l.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?p?r.setProperty(l,""):l==="float"?r.cssFloat="":r[l]="":p?r.setProperty(l,d):typeof d!="number"||d===0||Mi.has(l)?l==="float"?r.cssFloat=d:r[l]=(""+d).trim():r[l]=d+"px"}function Xo(r,l,d){if(l!=null&&typeof l!="object")throw Error(s(62));if(r=r.style,d!=null){for(var p in d)!d.hasOwnProperty(p)||l!=null&&l.hasOwnProperty(p)||(p.indexOf("--")===0?r.setProperty(p,""):p==="float"?r.cssFloat="":r[p]="");for(var T in l)p=l[T],l.hasOwnProperty(T)&&d[T]!==p&&go(r,T,p)}else for(var U in l)l.hasOwnProperty(U)&&go(r,U,l[U])}function iA(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ol=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wr(r){return Wi.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function Xi(){}var Jo=null;function ii(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Hi=null,kn=null;function Pl(r){var l=lr(r);if(l&&(r=l.stateNode)){var d=r[Ut]||null;e:switch(r=l.stateNode,l.type){case"input":if(qs(r,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),l=d.name,d.type==="radio"&&l!=null){for(d=r;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Wt(""+l)+'"][type="radio"]'),l=0;l<d.length;l++){var p=d[l];if(p!==r&&p.form===r.form){var T=p[Ut]||null;if(!T)throw Error(s(90));qs(p,T.value,T.defaultValue,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name)}}for(l=0;l<d.length;l++)p=d[l],p.form===r.form&&Ns(p)}break e;case"textarea":Wo(r,d.value,d.defaultValue);break e;case"select":l=d.value,l!=null&&Or(r,!!d.multiple,l,!1)}}}var oA=!1;function dl(r,l,d){if(oA)return r(l,d);oA=!0;try{var p=r(l);return p}finally{if(oA=!1,(Hi!==null||kn!==null)&&(Li(),Hi&&(l=Hi,r=kn,kn=Hi=null,Pl(l),r)))for(l=0;l<r.length;l++)Pl(r[l])}}function Sa(r,l){var d=r.stateNode;if(d===null)return null;var p=d[Ut]||null;if(p===null)return null;d=p[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(r=r.type,p=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!p;break e;default:r=!1}if(r)return null;if(d&&typeof d!="function")throw Error(s(231,l,typeof d));return d}var ha=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Da=!1;if(ha)try{var Gs={};Object.defineProperty(Gs,"passive",{get:function(){Da=!0}}),window.addEventListener("test",Gs,Gs),window.removeEventListener("test",Gs,Gs)}catch{Da=!1}var oi=null,hl=null,Ji=null;function RA(){if(Ji)return Ji;var r,l=hl,d=l.length,p,T="value"in oi?oi.value:oi.textContent,U=T.length;for(r=0;r<d&&l[r]===T[r];r++);var q=d-r;for(p=1;p<=q&&l[d-p]===T[U-p];p++);return Ji=T.slice(r,1<p?1-p:void 0)}function Ni(r){var l=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&l===13&&(r=13)):r=l,r===10&&(r=13),32<=r||r===13?r:0}function vo(){return!0}function li(){return!1}function Xr(r){function l(d,p,T,U,q){this._reactName=d,this._targetInst=T,this.type=p,this.nativeEvent=U,this.target=q,this.currentTarget=null;for(var ve in r)r.hasOwnProperty(ve)&&(d=r[ve],this[ve]=d?d(U):U[ve]);return this.isDefaultPrevented=(U.defaultPrevented!=null?U.defaultPrevented:U.returnValue===!1)?vo:li,this.isPropagationStopped=li,this}return m(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=vo)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=vo)},persist:function(){},isPersistent:vo}),l}var xo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},La=Xr(xo),hr=m({},xo,{view:0,detail:0}),fl=Xr(hr),$a,yo,Vi,kl=m({},hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mn,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Vi&&(Vi&&r.type==="mousemove"?($a=r.screenX-Vi.screenX,yo=r.screenY-Vi.screenY):yo=$a=0,Vi=r),$a)},movementY:function(r){return"movementY"in r?r.movementY:yo}}),lA=Xr(kl),Qa=m({},kl,{dataTransfer:0}),Ei=Xr(Qa),AA=m({},hr,{relatedTarget:0}),qi=Xr(AA),Ti=m({},xo,{animationName:0,elapsedTime:0,pseudoElement:0}),k=Xr(Ti),oe=m({},xo,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Ee=Xr(oe),Ue=m({},xo,{data:0}),Ve=Xr(Ue),mt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bn(r){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(r):(r=hn[r])?!!l[r]:!1}function Mn(){return bn}var _n=m({},hr,{key:function(r){if(r.key){var l=mt[r.key]||r.key;if(l!=="Unidentified")return l}return r.type==="keypress"?(r=Ni(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Nt[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mn,charCode:function(r){return r.type==="keypress"?Ni(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ni(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),ys=Xr(_n),xr=m({},kl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ar=Xr(xr),w=m({},hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mn}),Y=Xr(w),te=m({},xo,{propertyName:0,elapsedTime:0,pseudoElement:0}),be=Xr(te),$e=m({},kl,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),tt=Xr($e),kt=m({},xo,{newState:0,oldState:0}),qn=Xr(kt),yr=[9,13,27,32],us=ha&&"CompositionEvent"in window,$s=null;ha&&"documentMode"in document&&($s=document.documentMode);var Na=ha&&"TextEvent"in window&&!$s,sa=ha&&(!us||$s&&8<$s&&11>=$s),Os=" ",rs=!1;function Zi(r,l){switch(r){case"keyup":return yr.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bo(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var qo=!1;function fa(r,l){switch(r){case"compositionend":return bo(l);case"keypress":return l.which!==32?null:(rs=!0,Os);case"textInput":return r=l.data,r===Os&&rs?null:r;default:return null}}function Oa(r,l){if(qo)return r==="compositionend"||!us&&Zi(r,l)?(r=RA(),Ji=hl=oi=null,qo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return sa&&l.locale!=="ko"?null:l.data;default:return null}}var hc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wo(r){var l=r&&r.nodeName&&r.nodeName.toLowerCase();return l==="input"?!!hc[r.type]:l==="textarea"}function Ps(r,l,d,p){Hi?kn?kn.push(p):kn=[p]:Hi=p,l=x0(l,"onChange"),0<l.length&&(d=new La("onChange","change",null,d,p),r.push({event:d,listeners:l}))}var jo=null,Br=null;function DA(r){nj(r,0)}function Pa(r){var l=sr(r);if(Ns(l))return r}function Bo(r,l){if(r==="change")return l}var gs=!1;if(ha){var Ai;if(ha){var Zo="oninput"in document;if(!Zo){var el=document.createElement("div");el.setAttribute("oninput","return;"),Zo=typeof el.oninput=="function"}Ai=Zo}else Ai=!1;gs=Ai&&(!document.documentMode||9<document.documentMode)}function ml(){jo&&(jo.detachEvent("onpropertychange",Ml),Br=jo=null)}function Ml(r){if(r.propertyName==="value"&&Pa(Br)){var l=[];Ps(l,Br,r,ii(r)),dl(DA,l)}}function LA(r,l,d){r==="focusin"?(ml(),jo=l,Br=d,jo.attachEvent("onpropertychange",Ml)):r==="focusout"&&ml()}function Jr(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Pa(Br)}function Ii(r,l){if(r==="click")return Pa(l)}function Ya(r,l){if(r==="input"||r==="change")return Pa(l)}function Wa(r,l){return r===l&&(r!==0||1/r===1/l)||r!==r&&l!==l}var Es=typeof Object.is=="function"?Object.is:Wa;function ci(r,l){if(Es(r,l))return!0;if(typeof r!="object"||r===null||typeof l!="object"||l===null)return!1;var d=Object.keys(r),p=Object.keys(l);if(d.length!==p.length)return!1;for(p=0;p<d.length;p++){var T=d[p];if(!qe.call(l,T)||!Es(r[T],l[T]))return!1}return!0}function QA(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function OA(r,l){var d=QA(r);r=0;for(var p;d;){if(d.nodeType===3){if(p=r+d.textContent.length,r<=l&&p>=l)return{node:d,offset:l-r};r=p}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=QA(d)}}function tl(r,l){return r&&l?r===l?!0:r&&r.nodeType===3?!1:l&&l.nodeType===3?tl(r,l.parentNode):"contains"in r?r.contains(l):r.compareDocumentPosition?!!(r.compareDocumentPosition(l)&16):!1:!1}function pl(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var l=Dn(r.document);l instanceof r.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)r=l.contentWindow;else break;l=Dn(r.document)}return l}function gl(r){var l=r&&r.nodeName&&r.nodeName.toLowerCase();return l&&(l==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||l==="textarea"||r.contentEditable==="true")}var nl=ha&&"documentMode"in document&&11>=document.documentMode,ra=null,Hl=null,ui=null,_i=!1;function ks(r,l,d){var p=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;_i||ra==null||ra!==Dn(p)||(p=ra,"selectionStart"in p&&gl(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),ui&&ci(ui,p)||(ui=p,p=x0(Hl,"onSelect"),0<p.length&&(l=new La("onSelect","select",null,l,d),r.push({event:l,listeners:p}),l.target=ra)))}function Rs(r,l){var d={};return d[r.toLowerCase()]=l.toLowerCase(),d["Webkit"+r]="webkit"+l,d["Moz"+r]="moz"+l,d}var br={animationend:Rs("Animation","AnimationEnd"),animationiteration:Rs("Animation","AnimationIteration"),animationstart:Rs("Animation","AnimationStart"),transitionrun:Rs("Transition","TransitionRun"),transitionstart:Rs("Transition","TransitionStart"),transitioncancel:Rs("Transition","TransitionCancel"),transitionend:Rs("Transition","TransitionEnd")},Ys={},sl={};ha&&(sl=document.createElement("div").style,"AnimationEvent"in window||(delete br.animationend.animation,delete br.animationiteration.animation,delete br.animationstart.animation),"TransitionEvent"in window||delete br.transitionend.transition);function rl(r){if(Ys[r])return Ys[r];if(!br[r])return r;var l=br[r],d;for(d in l)if(l.hasOwnProperty(d)&&d in sl)return Ys[r]=l[d];return r}var PA=rl("animationend"),cA=rl("animationiteration"),qd=rl("animationstart"),Zd=rl("transitionrun"),eh=rl("transitionstart"),th=rl("transitioncancel"),Du=rl("transitionend"),Lu=new Map,uA="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");uA.push("scrollEnd");function eo(r,l){Lu.set(r,l),da(l,[r])}var fc=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},to=[],vl=0,Qu=0;function Jc(){for(var r=vl,l=Qu=vl=0;l<r;){var d=to[l];to[l++]=null;var p=to[l];to[l++]=null;var T=to[l];to[l++]=null;var U=to[l];if(to[l++]=null,p!==null&&T!==null){var q=p.pending;q===null?T.next=T:(T.next=q.next,q.next=T),p.pending=T}U!==0&&qc(d,T,U)}}function kA(r,l,d,p){to[vl++]=r,to[vl++]=l,to[vl++]=d,to[vl++]=p,Qu|=p,r.lanes|=p,r=r.alternate,r!==null&&(r.lanes|=p)}function Ou(r,l,d,p){return kA(r,l,d,p),di(r)}function xl(r,l){return kA(r,null,null,l),di(r)}function qc(r,l,d){r.lanes|=d;var p=r.alternate;p!==null&&(p.lanes|=d);for(var T=!1,U=r.return;U!==null;)U.childLanes|=d,p=U.alternate,p!==null&&(p.childLanes|=d),U.tag===22&&(r=U.stateNode,r===null||r._visibility&1||(T=!0)),r=U,U=U.return;return r.tag===3?(U=r.stateNode,T&&l!==null&&(T=31-ot(d),r=U.hiddenUpdates,p=r[T],p===null?r[T]=[l]:p.push(l),l.lane=d|536870912),U):null}function di(r){if(50<ws)throw ws=0,Fs=null,Error(s(185));for(var l=r.return;l!==null;)r=l,l=r.return;return r.tag===3?r.stateNode:null}var Xa={};function Pu(r,l,d,p){this.tag=r,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hi(r,l,d,p){return new Pu(r,l,d,p)}function Vl(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Co(r,l){var d=r.alternate;return d===null?(d=hi(r.tag,l,r.key,r.mode),d.elementType=r.elementType,d.type=r.type,d.stateNode=r.stateNode,d.alternate=r,r.alternate=d):(d.pendingProps=l,d.type=r.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=r.flags&65011712,d.childLanes=r.childLanes,d.lanes=r.lanes,d.child=r.child,d.memoizedProps=r.memoizedProps,d.memoizedState=r.memoizedState,d.updateQueue=r.updateQueue,l=r.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=r.sibling,d.index=r.index,d.ref=r.ref,d.refCleanup=r.refCleanup,d}function Zc(r,l){r.flags&=65011714;var d=r.alternate;return d===null?(r.childLanes=0,r.lanes=l,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=d.childLanes,r.lanes=d.lanes,r.child=d.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=d.memoizedProps,r.memoizedState=d.memoizedState,r.updateQueue=d.updateQueue,r.type=d.type,l=d.dependencies,r.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),r}function Kl(r,l,d,p,T,U){var q=0;if(p=r,typeof r=="function")Vl(r)&&(q=1);else if(typeof r=="string")q=K_(r,d,ae.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case R:return r=hi(31,d,l,T),r.elementType=R,r.lanes=U,r;case S:return dA(d.children,T,U,l);case N:q=8,T|=24;break;case E:return r=hi(12,d,l,T|2),r.elementType=E,r.lanes=U,r;case P:return r=hi(13,d,l,T),r.elementType=P,r.lanes=U,r;case K:return r=hi(19,d,l,T),r.elementType=K,r.lanes=U,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case F:q=10;break e;case I:q=9;break e;case D:q=11;break e;case L:q=14;break e;case Q:q=16,p=null;break e}q=29,d=Error(s(130,r===null?"null":typeof r,"")),p=null}return l=hi(q,d,l,T),l.elementType=r,l.type=p,l.lanes=U,l}function dA(r,l,d,p){return r=hi(7,r,p,l),r.lanes=d,r}function eu(r,l,d){return r=hi(6,r,null,l),r.lanes=d,r}function ku(r){var l=hi(18,null,null,0);return l.stateNode=r,l}function mc(r,l,d){return l=hi(4,r.children!==null?r.children:[],r.key,l),l.lanes=d,l.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},l}var MA=new WeakMap;function So(r,l){if(typeof r=="object"&&r!==null){var d=MA.get(r);return d!==void 0?d:(l={value:r,source:l,stack:vt(l)},MA.set(r,l),l)}return{value:r,source:l,stack:vt(l)}}var pc=[],HA=0,Mu=null,hA=0,No=[],Eo=0,fA=null,To=1,Fi="";function no(r,l){pc[HA++]=hA,pc[HA++]=Mu,Mu=r,hA=l}function of(r,l,d){No[Eo++]=To,No[Eo++]=Fi,No[Eo++]=fA,fA=r;var p=To;r=Fi;var T=32-ot(p)-1;p&=~(1<<T),d+=1;var U=32-ot(l)+T;if(30<U){var q=T-T%5;U=(p&(1<<q)-1).toString(32),p>>=q,T-=q,To=1<<32-ot(l)+T|d<<T|p,Fi=U+r}else To=1<<U|d<<T|p,Fi=r}function nh(r){r.return!==null&&(no(r,1),of(r,1,0))}function Hu(r){for(;r===Mu;)Mu=pc[--HA],pc[HA]=null,hA=pc[--HA],pc[HA]=null;for(;r===fA;)fA=No[--Eo],No[Eo]=null,Fi=No[--Eo],No[Eo]=null,To=No[--Eo],No[Eo]=null}function lf(r,l){No[Eo++]=To,No[Eo++]=Fi,No[Eo++]=fA,To=l.id,Fi=l.overflow,fA=r}var Ja=null,Cr=null,Bs=!1,Ui=null,qr=!1,Ki=Error(s(519));function mA(r){var l=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zl(So(l,r)),Ki}function sh(r){var l=r.stateNode,d=r.type,p=r.memoizedProps;switch(l[Yt]=r,l[Ut]=p,d){case"dialog":Ls("cancel",l),Ls("close",l);break;case"iframe":case"object":case"embed":Ls("load",l);break;case"video":case"audio":for(d=0;d<ip.length;d++)Ls(ip[d],l);break;case"source":Ls("error",l);break;case"img":case"image":case"link":Ls("error",l),Ls("load",l);break;case"details":Ls("toggle",l);break;case"input":Ls("invalid",l),Si(l,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":Ls("invalid",l);break;case"textarea":Ls("invalid",l),Ur(l,p.value,p.defaultValue,p.children)}d=p.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||l.textContent===""+d||p.suppressHydrationWarning===!0||ij(l.textContent,d)?(p.popover!=null&&(Ls("beforetoggle",l),Ls("toggle",l)),p.onScroll!=null&&Ls("scroll",l),p.onScrollEnd!=null&&Ls("scrollend",l),p.onClick!=null&&(l.onclick=Xi),l=!0):l=!1,l||mA(r,!0)}function yl(r){for(Ja=r.return;Ja;)switch(Ja.tag){case 5:case 31:case 13:qr=!1;return;case 27:case 3:qr=!0;return;default:Ja=Ja.return}}function qa(r){if(r!==Ja)return!1;if(!Bs)return yl(r),Bs=!0,!1;var l=r.tag,d;if((d=l!==3&&l!==27)&&((d=l===5)&&(d=r.type,d=!(d!=="form"&&d!=="button")||ay(r.type,r.memoizedProps)),d=!d),d&&Cr&&mA(r),yl(r),l===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));Cr=mj(r)}else if(l===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));Cr=mj(r)}else l===27?(l=Cr,cd(r.type)?(r=cy,cy=null,Cr=r):Cr=l):Cr=Ja?CA(r.stateNode.nextSibling):null;return!0}function VA(){Cr=Ja=null,Bs=!1}function tu(){var r=Ui;return r!==null&&(Re===null?Re=r:Re.push.apply(Re,r),Ui=null),r}function zl(r){Ui===null?Ui=[r]:Ui.push(r)}var Vu=ne(null),pA=null,bl=null;function gA(r,l,d){W(Vu,l._currentValue),l._currentValue=d}function Io(r){r._currentValue=Vu.current,V(Vu)}function gc(r,l,d){for(;r!==null;){var p=r.alternate;if((r.childLanes&l)!==l?(r.childLanes|=l,p!==null&&(p.childLanes|=l)):p!==null&&(p.childLanes&l)!==l&&(p.childLanes|=l),r===d)break;r=r.return}}function wl(r,l,d,p){var T=r.child;for(T!==null&&(T.return=r);T!==null;){var U=T.dependencies;if(U!==null){var q=T.child;U=U.firstContext;e:for(;U!==null;){var ve=U;U=T;for(var Fe=0;Fe<l.length;Fe++)if(ve.context===l[Fe]){U.lanes|=d,ve=U.alternate,ve!==null&&(ve.lanes|=d),gc(U.return,d,r),p||(q=null);break e}U=ve.next}}else if(T.tag===18){if(q=T.return,q===null)throw Error(s(341));q.lanes|=d,U=q.alternate,U!==null&&(U.lanes|=d),gc(q,d,r),q=null}else q=T.child;if(q!==null)q.return=T;else for(q=T;q!==null;){if(q===r){q=null;break}if(T=q.sibling,T!==null){T.return=q.return,q=T;break}q=q.return}T=q}}function vA(r,l,d,p){r=null;for(var T=l,U=!1;T!==null;){if(!U){if((T.flags&524288)!==0)U=!0;else if((T.flags&262144)!==0)break}if(T.tag===10){var q=T.alternate;if(q===null)throw Error(s(387));if(q=q.memoizedProps,q!==null){var ve=T.type;Es(T.pendingProps.value,q.value)||(r!==null?r.push(ve):r=[ve])}}else if(T===pe.current){if(q=T.alternate,q===null)throw Error(s(387));q.memoizedState.memoizedState!==T.memoizedState.memoizedState&&(r!==null?r.push(up):r=[up])}T=T.return}r!==null&&wl(l,r,d,p),l.flags|=262144}function Ku(r){for(r=r.firstContext;r!==null;){if(!Es(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function xA(r){pA=r,bl=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Za(r){return Af(pA,r)}function zu(r,l){return pA===null&&xA(r),Af(r,l)}function Af(r,l){var d=l._currentValue;if(l={context:l,memoizedValue:d,next:null},bl===null){if(r===null)throw Error(s(308));bl=l,r.dependencies={lanes:0,firstContext:l},r.flags|=524288}else bl=bl.next=l;return d}var Nm=typeof AbortController<"u"?AbortController:function(){var r=[],l=this.signal={aborted:!1,addEventListener:function(d,p){r.push(p)}};this.abort=function(){l.aborted=!0,r.forEach(function(d){return d()})}},Em=n.unstable_scheduleCallback,Tm=n.unstable_NormalPriority,aa={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vc(){return{controller:new Nm,data:new Map,refCount:0}}function nu(r){r.refCount--,r.refCount===0&&Em(Tm,function(){r.controller.abort()})}var xc=null,Gu=0,y=0,_=null;function z(r,l){if(xc===null){var d=xc=[];Gu=0,y=Xx(),_={status:"pending",value:void 0,then:function(p){d.push(p)}}}return Gu++,l.then(X,X),l}function X(){if(--Gu===0&&xc!==null){_!==null&&(_.status="fulfilled");var r=xc;xc=null,y=0,_=null;for(var l=0;l<r.length;l++)(0,r[l])()}}function le(r,l){var d=[],p={status:"pending",value:null,reason:null,then:function(T){d.push(T)}};return r.then(function(){p.status="fulfilled",p.value=l;for(var T=0;T<d.length;T++)(0,d[T])(l)},function(T){for(p.status="rejected",p.reason=T,T=0;T<d.length;T++)(0,d[T])(void 0)}),p}var fe=J.S;J.S=function(r,l){ct=Gt(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&z(r,l),fe!==null&&fe(r,l)};var me=ne(null);function ye(){var r=me.current;return r!==null?r:Er.pooledCache}function we(r,l){l===null?W(me,me.current):W(me,l.pool)}function Te(){var r=ye();return r===null?null:{parent:aa._currentValue,pool:r}}var Qe=Error(s(460)),Je=Error(s(474)),Ne=Error(s(542)),Pe={then:function(){}};function ke(r){return r=r.status,r==="fulfilled"||r==="rejected"}function At(r,l,d){switch(d=r[d],d===void 0?r.push(l):d!==l&&(l.then(Xi,Xi),l=d),l.status){case"fulfilled":return l.value;case"rejected":throw r=l.reason,Dt(r),r;default:if(typeof l.status=="string")l.then(Xi,Xi);else{if(r=Er,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=l,r.status="pending",r.then(function(p){if(l.status==="pending"){var T=l;T.status="fulfilled",T.value=p}},function(p){if(l.status==="pending"){var T=l;T.status="rejected",T.reason=p}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw r=l.reason,Dt(r),r}throw lt=l,Qe}}function Xe(r){try{var l=r._init;return l(r._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(lt=d,Qe):d}}var lt=null;function gt(){if(lt===null)throw Error(s(459));var r=lt;return lt=null,r}function Dt(r){if(r===Qe||r===Ne)throw Error(s(483))}var jt=null,wn=0;function un(r){var l=wn;return wn+=1,jt===null&&(jt=[]),At(jt,r,l)}function ts(r,l){l=l.props.ref,r.ref=l!==void 0?l:null}function pn(r,l){throw l.$$typeof===v?Error(s(525)):(r=Object.prototype.toString.call(l),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":r)))}function bs(r){function l(Ge,Oe){if(r){var Ze=Ge.deletions;Ze===null?(Ge.deletions=[Oe],Ge.flags|=16):Ze.push(Oe)}}function d(Ge,Oe){if(!r)return null;for(;Oe!==null;)l(Ge,Oe),Oe=Oe.sibling;return null}function p(Ge){for(var Oe=new Map;Ge!==null;)Ge.key!==null?Oe.set(Ge.key,Ge):Oe.set(Ge.index,Ge),Ge=Ge.sibling;return Oe}function T(Ge,Oe){return Ge=Co(Ge,Oe),Ge.index=0,Ge.sibling=null,Ge}function U(Ge,Oe,Ze){return Ge.index=Ze,r?(Ze=Ge.alternate,Ze!==null?(Ze=Ze.index,Ze<Oe?(Ge.flags|=67108866,Oe):Ze):(Ge.flags|=67108866,Oe)):(Ge.flags|=1048576,Oe)}function q(Ge){return r&&Ge.alternate===null&&(Ge.flags|=67108866),Ge}function ve(Ge,Oe,Ze,wt){return Oe===null||Oe.tag!==6?(Oe=eu(Ze,Ge.mode,wt),Oe.return=Ge,Oe):(Oe=T(Oe,Ze),Oe.return=Ge,Oe)}function Fe(Ge,Oe,Ze,wt){var Gn=Ze.type;return Gn===S?pt(Ge,Oe,Ze.props.children,wt,Ze.key):Oe!==null&&(Oe.elementType===Gn||typeof Gn=="object"&&Gn!==null&&Gn.$$typeof===Q&&Xe(Gn)===Oe.type)?(Oe=T(Oe,Ze.props),ts(Oe,Ze),Oe.return=Ge,Oe):(Oe=Kl(Ze.type,Ze.key,Ze.props,null,Ge.mode,wt),ts(Oe,Ze),Oe.return=Ge,Oe)}function et(Ge,Oe,Ze,wt){return Oe===null||Oe.tag!==4||Oe.stateNode.containerInfo!==Ze.containerInfo||Oe.stateNode.implementation!==Ze.implementation?(Oe=mc(Ze,Ge.mode,wt),Oe.return=Ge,Oe):(Oe=T(Oe,Ze.children||[]),Oe.return=Ge,Oe)}function pt(Ge,Oe,Ze,wt,Gn){return Oe===null||Oe.tag!==7?(Oe=dA(Ze,Ge.mode,wt,Gn),Oe.return=Ge,Oe):(Oe=T(Oe,Ze),Oe.return=Ge,Oe)}function Bt(Ge,Oe,Ze){if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint")return Oe=eu(""+Oe,Ge.mode,Ze),Oe.return=Ge,Oe;if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case g:return Ze=Kl(Oe.type,Oe.key,Oe.props,null,Ge.mode,Ze),ts(Ze,Oe),Ze.return=Ge,Ze;case b:return Oe=mc(Oe,Ge.mode,Ze),Oe.return=Ge,Oe;case Q:return Oe=Xe(Oe),Bt(Ge,Oe,Ze)}if(ge(Oe)||H(Oe))return Oe=dA(Oe,Ge.mode,Ze,null),Oe.return=Ge,Oe;if(typeof Oe.then=="function")return Bt(Ge,un(Oe),Ze);if(Oe.$$typeof===F)return Bt(Ge,zu(Ge,Oe),Ze);pn(Ge,Oe)}return null}function nt(Ge,Oe,Ze,wt){var Gn=Oe!==null?Oe.key:null;if(typeof Ze=="string"&&Ze!==""||typeof Ze=="number"||typeof Ze=="bigint")return Gn!==null?null:ve(Ge,Oe,""+Ze,wt);if(typeof Ze=="object"&&Ze!==null){switch(Ze.$$typeof){case g:return Ze.key===Gn?Fe(Ge,Oe,Ze,wt):null;case b:return Ze.key===Gn?et(Ge,Oe,Ze,wt):null;case Q:return Ze=Xe(Ze),nt(Ge,Oe,Ze,wt)}if(ge(Ze)||H(Ze))return Gn!==null?null:pt(Ge,Oe,Ze,wt,null);if(typeof Ze.then=="function")return nt(Ge,Oe,un(Ze),wt);if(Ze.$$typeof===F)return nt(Ge,Oe,zu(Ge,Ze),wt);pn(Ge,Ze)}return null}function it(Ge,Oe,Ze,wt,Gn){if(typeof wt=="string"&&wt!==""||typeof wt=="number"||typeof wt=="bigint")return Ge=Ge.get(Ze)||null,ve(Oe,Ge,""+wt,Gn);if(typeof wt=="object"&&wt!==null){switch(wt.$$typeof){case g:return Ge=Ge.get(wt.key===null?Ze:wt.key)||null,Fe(Oe,Ge,wt,Gn);case b:return Ge=Ge.get(wt.key===null?Ze:wt.key)||null,et(Oe,Ge,wt,Gn);case Q:return wt=Xe(wt),it(Ge,Oe,Ze,wt,Gn)}if(ge(wt)||H(wt))return Ge=Ge.get(Ze)||null,pt(Oe,Ge,wt,Gn,null);if(typeof wt.then=="function")return it(Ge,Oe,Ze,un(wt),Gn);if(wt.$$typeof===F)return it(Ge,Oe,Ze,zu(Oe,wt),Gn);pn(Oe,wt)}return null}function jn(Ge,Oe,Ze,wt){for(var Gn=null,cr=null,Tn=Oe,xs=Oe=0,Hs=null;Tn!==null&&xs<Ze.length;xs++){Tn.index>xs?(Hs=Tn,Tn=null):Hs=Tn.sibling;var ur=nt(Ge,Tn,Ze[xs],wt);if(ur===null){Tn===null&&(Tn=Hs);break}r&&Tn&&ur.alternate===null&&l(Ge,Tn),Oe=U(ur,Oe,xs),cr===null?Gn=ur:cr.sibling=ur,cr=ur,Tn=Hs}if(xs===Ze.length)return d(Ge,Tn),Bs&&no(Ge,xs),Gn;if(Tn===null){for(;xs<Ze.length;xs++)Tn=Bt(Ge,Ze[xs],wt),Tn!==null&&(Oe=U(Tn,Oe,xs),cr===null?Gn=Tn:cr.sibling=Tn,cr=Tn);return Bs&&no(Ge,xs),Gn}for(Tn=p(Tn);xs<Ze.length;xs++)Hs=it(Tn,Ge,xs,Ze[xs],wt),Hs!==null&&(r&&Hs.alternate!==null&&Tn.delete(Hs.key===null?xs:Hs.key),Oe=U(Hs,Oe,xs),cr===null?Gn=Hs:cr.sibling=Hs,cr=Hs);return r&&Tn.forEach(function(md){return l(Ge,md)}),Bs&&no(Ge,xs),Gn}function Jn(Ge,Oe,Ze,wt){if(Ze==null)throw Error(s(151));for(var Gn=null,cr=null,Tn=Oe,xs=Oe=0,Hs=null,ur=Ze.next();Tn!==null&&!ur.done;xs++,ur=Ze.next()){Tn.index>xs?(Hs=Tn,Tn=null):Hs=Tn.sibling;var md=nt(Ge,Tn,ur.value,wt);if(md===null){Tn===null&&(Tn=Hs);break}r&&Tn&&md.alternate===null&&l(Ge,Tn),Oe=U(md,Oe,xs),cr===null?Gn=md:cr.sibling=md,cr=md,Tn=Hs}if(ur.done)return d(Ge,Tn),Bs&&no(Ge,xs),Gn;if(Tn===null){for(;!ur.done;xs++,ur=Ze.next())ur=Bt(Ge,ur.value,wt),ur!==null&&(Oe=U(ur,Oe,xs),cr===null?Gn=ur:cr.sibling=ur,cr=ur);return Bs&&no(Ge,xs),Gn}for(Tn=p(Tn);!ur.done;xs++,ur=Ze.next())ur=it(Tn,Ge,xs,ur.value,wt),ur!==null&&(r&&ur.alternate!==null&&Tn.delete(ur.key===null?xs:ur.key),Oe=U(ur,Oe,xs),cr===null?Gn=ur:cr.sibling=ur,cr=ur);return r&&Tn.forEach(function(tF){return l(Ge,tF)}),Bs&&no(Ge,xs),Gn}function Qr(Ge,Oe,Ze,wt){if(typeof Ze=="object"&&Ze!==null&&Ze.type===S&&Ze.key===null&&(Ze=Ze.props.children),typeof Ze=="object"&&Ze!==null){switch(Ze.$$typeof){case g:e:{for(var Gn=Ze.key;Oe!==null;){if(Oe.key===Gn){if(Gn=Ze.type,Gn===S){if(Oe.tag===7){d(Ge,Oe.sibling),wt=T(Oe,Ze.props.children),wt.return=Ge,Ge=wt;break e}}else if(Oe.elementType===Gn||typeof Gn=="object"&&Gn!==null&&Gn.$$typeof===Q&&Xe(Gn)===Oe.type){d(Ge,Oe.sibling),wt=T(Oe,Ze.props),ts(wt,Ze),wt.return=Ge,Ge=wt;break e}d(Ge,Oe);break}else l(Ge,Oe);Oe=Oe.sibling}Ze.type===S?(wt=dA(Ze.props.children,Ge.mode,wt,Ze.key),wt.return=Ge,Ge=wt):(wt=Kl(Ze.type,Ze.key,Ze.props,null,Ge.mode,wt),ts(wt,Ze),wt.return=Ge,Ge=wt)}return q(Ge);case b:e:{for(Gn=Ze.key;Oe!==null;){if(Oe.key===Gn)if(Oe.tag===4&&Oe.stateNode.containerInfo===Ze.containerInfo&&Oe.stateNode.implementation===Ze.implementation){d(Ge,Oe.sibling),wt=T(Oe,Ze.children||[]),wt.return=Ge,Ge=wt;break e}else{d(Ge,Oe);break}else l(Ge,Oe);Oe=Oe.sibling}wt=mc(Ze,Ge.mode,wt),wt.return=Ge,Ge=wt}return q(Ge);case Q:return Ze=Xe(Ze),Qr(Ge,Oe,Ze,wt)}if(ge(Ze))return jn(Ge,Oe,Ze,wt);if(H(Ze)){if(Gn=H(Ze),typeof Gn!="function")throw Error(s(150));return Ze=Gn.call(Ze),Jn(Ge,Oe,Ze,wt)}if(typeof Ze.then=="function")return Qr(Ge,Oe,un(Ze),wt);if(Ze.$$typeof===F)return Qr(Ge,Oe,zu(Ge,Ze),wt);pn(Ge,Ze)}return typeof Ze=="string"&&Ze!==""||typeof Ze=="number"||typeof Ze=="bigint"?(Ze=""+Ze,Oe!==null&&Oe.tag===6?(d(Ge,Oe.sibling),wt=T(Oe,Ze),wt.return=Ge,Ge=wt):(d(Ge,Oe),wt=eu(Ze,Ge.mode,wt),wt.return=Ge,Ge=wt),q(Ge)):d(Ge,Oe)}return function(Ge,Oe,Ze,wt){try{wn=0;var Gn=Qr(Ge,Oe,Ze,wt);return jt=null,Gn}catch(Tn){if(Tn===Qe||Tn===Ne)throw Tn;var cr=hi(29,Tn,null,Ge.mode);return cr.lanes=wt,cr.return=Ge,cr}finally{}}}var Sr=bs(!0),is=bs(!1),at=!1;function Xt(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pr(r,l){r=r.updateQueue,l.updateQueue===r&&(l.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function zn(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Yn(r,l,d){var p=r.updateQueue;if(p===null)return null;if(p=p.shared,(or&2)!==0){var T=p.pending;return T===null?l.next=l:(l.next=T.next,T.next=l),p.pending=l,l=di(r),qc(r,null,d),l}return kA(r,p,l,d),di(r)}function rr(r,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194048)!==0)){var p=l.lanes;p&=r.pendingLanes,d|=p,l.lanes=d,ua(r,d)}}function ma(r,l){var d=r.updateQueue,p=r.alternate;if(p!==null&&(p=p.updateQueue,d===p)){var T=null,U=null;if(d=d.firstBaseUpdate,d!==null){do{var q={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};U===null?T=U=q:U=U.next=q,d=d.next}while(d!==null);U===null?T=U=l:U=U.next=l}else T=U=l;d={baseState:p.baseState,firstBaseUpdate:T,lastBaseUpdate:U,shared:p.shared,callbacks:p.callbacks},r.updateQueue=d;return}r=d.lastBaseUpdate,r===null?d.firstBaseUpdate=l:r.next=l,d.lastBaseUpdate=l}var ia=!1;function ar(){if(ia){var r=_;if(r!==null)throw r}}function pa(r,l,d,p){ia=!1;var T=r.updateQueue;at=!1;var U=T.firstBaseUpdate,q=T.lastBaseUpdate,ve=T.shared.pending;if(ve!==null){T.shared.pending=null;var Fe=ve,et=Fe.next;Fe.next=null,q===null?U=et:q.next=et,q=Fe;var pt=r.alternate;pt!==null&&(pt=pt.updateQueue,ve=pt.lastBaseUpdate,ve!==q&&(ve===null?pt.firstBaseUpdate=et:ve.next=et,pt.lastBaseUpdate=Fe))}if(U!==null){var Bt=T.baseState;q=0,pt=et=Fe=null,ve=U;do{var nt=ve.lane&-536870913,it=nt!==ve.lane;if(it?(_s&nt)===nt:(p&nt)===nt){nt!==0&&nt===y&&(ia=!0),pt!==null&&(pt=pt.next={lane:0,tag:ve.tag,payload:ve.payload,callback:null,next:null});e:{var jn=r,Jn=ve;nt=l;var Qr=d;switch(Jn.tag){case 1:if(jn=Jn.payload,typeof jn=="function"){Bt=jn.call(Qr,Bt,nt);break e}Bt=jn;break e;case 3:jn.flags=jn.flags&-65537|128;case 0:if(jn=Jn.payload,nt=typeof jn=="function"?jn.call(Qr,Bt,nt):jn,nt==null)break e;Bt=m({},Bt,nt);break e;case 2:at=!0}}nt=ve.callback,nt!==null&&(r.flags|=64,it&&(r.flags|=8192),it=T.callbacks,it===null?T.callbacks=[nt]:it.push(nt))}else it={lane:nt,tag:ve.tag,payload:ve.payload,callback:ve.callback,next:null},pt===null?(et=pt=it,Fe=Bt):pt=pt.next=it,q|=nt;if(ve=ve.next,ve===null){if(ve=T.shared.pending,ve===null)break;it=ve,ve=it.next,it.next=null,T.lastBaseUpdate=it,T.shared.pending=null}}while(!0);pt===null&&(Fe=Bt),T.baseState=Fe,T.firstBaseUpdate=et,T.lastBaseUpdate=pt,U===null&&(T.shared.lanes=0),B|=q,r.lanes=q,r.memoizedState=Bt}}function fi(r,l){if(typeof r!="function")throw Error(s(191,r));r.call(l)}function ga(r,l){var d=r.callbacks;if(d!==null)for(r.callbacks=null,r=0;r<d.length;r++)fi(d[r],l)}var as=ne(null),Ts=ne(0);function Nr(r,l){r=x,W(Ts,r),W(as,l),x=r|l.baseLanes}function Ws(){W(Ts,x),W(as,as.current)}function va(){x=Ts.current,V(as),V(Ts)}var kr=ne(null),Is=null;function oa(r){var l=r.alternate;W(Ds,Ds.current&1),W(kr,r),Is===null&&(l===null||as.current!==null||l.memoizedState!==null)&&(Is=r)}function ir(r){W(Ds,Ds.current),W(kr,r),Is===null&&(Is=r)}function xa(r){r.tag===22?(W(Ds,Ds.current),W(kr,r),Is===null&&(Is=r)):ya()}function ya(){W(Ds,Ds.current),W(kr,kr.current)}function fr(r){V(kr),Is===r&&(Is=null),V(Ds)}var Ds=ne(0);function mi(r){for(var l=r;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||ly(d)||Ay(d)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===r)break;for(;l.sibling===null;){if(l.return===null||l.return===r)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Zr=0,Ln=null,Hn=null,Ms=null,zi=!1,so=!1,Ri=!1,Mr=0,yA=0,jl=null,yc=0;function mr(){throw Error(s(321))}function $u(r,l){if(l===null)return!1;for(var d=0;d<l.length&&d<r.length;d++)if(!Es(r[d],l[d]))return!1;return!0}function rh(r,l,d,p,T,U){return Zr=U,Ln=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,J.H=r===null||r.memoizedState===null?Yg:gf,Ri=!1,U=d(p,T),Ri=!1,so&&(U=al(l,d,p,T)),su(r),U}function su(r){J.H=hh;var l=Hn!==null&&Hn.next!==null;if(Zr=0,Ms=Hn=Ln=null,zi=!1,yA=0,jl=null,l)throw Error(s(300));r===null||Hr||(r=r.dependencies,r!==null&&Ku(r)&&(Hr=!0))}function al(r,l,d,p){Ln=r;var T=0;do{if(so&&(jl=null),yA=0,so=!1,25<=T)throw Error(s(301));if(T+=1,Ms=Hn=null,r.updateQueue!=null){var U=r.updateQueue;U.lastEffect=null,U.events=null,U.stores=null,U.memoCache!=null&&(U.memoCache.index=0)}J.H=vf,U=l(d,p)}while(so);return U}function ah(){var r=J.H,l=r.useState()[0];return l=typeof l.then=="function"?bA(l):l,r=r.useState()[0],(Hn!==null?Hn.memoizedState:null)!==r&&(Ln.flags|=1024),l}function Yu(){var r=Mr!==0;return Mr=0,r}function Wu(r,l,d){l.updateQueue=r.updateQueue,l.flags&=-2053,r.lanes&=~d}function ru(r){if(zi){for(r=r.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}zi=!1}Zr=0,Ms=Hn=Ln=null,so=!1,yA=Mr=0,jl=null}function Ea(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ms===null?Ln.memoizedState=Ms=r:Ms=Ms.next=r,Ms}function Rr(){if(Hn===null){var r=Ln.alternate;r=r!==null?r.memoizedState:null}else r=Hn.next;var l=Ms===null?Ln.memoizedState:Ms.next;if(l!==null)Ms=l,Hn=r;else{if(r===null)throw Ln.alternate===null?Error(s(467)):Error(s(310));Hn=r,r={memoizedState:Hn.memoizedState,baseState:Hn.baseState,baseQueue:Hn.baseQueue,queue:Hn.queue,next:null},Ms===null?Ln.memoizedState=Ms=r:Ms=Ms.next=r}return Ms}function au(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bA(r){var l=yA;return yA+=1,jl===null&&(jl=[]),r=At(jl,r,l),l=Ln,(Ms===null?l.memoizedState:Ms.next)===null&&(l=l.alternate,J.H=l===null||l.memoizedState===null?Yg:gf),r}function bc(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return bA(r);if(r.$$typeof===F)return Za(r)}throw Error(s(438,String(r)))}function ka(r){var l=null,d=Ln.updateQueue;if(d!==null&&(l=d.memoCache),l==null){var p=Ln.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(l={data:p.data.map(function(T){return T.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),d===null&&(d=au(),Ln.updateQueue=d),d.memoCache=l,d=l.data[l.index],d===void 0)for(d=l.data[l.index]=Array(r),p=0;p<r;p++)d[p]=M;return l.index++,d}function _o(r,l){return typeof l=="function"?l(r):l}function Xu(r){var l=Rr();return wc(l,Hn,r)}function wc(r,l,d){var p=r.queue;if(p===null)throw Error(s(311));p.lastRenderedReducer=d;var T=r.baseQueue,U=p.pending;if(U!==null){if(T!==null){var q=T.next;T.next=U.next,U.next=q}l.baseQueue=T=U,p.pending=null}if(U=r.baseState,T===null)r.memoizedState=U;else{l=T.next;var ve=q=null,Fe=null,et=l,pt=!1;do{var Bt=et.lane&-536870913;if(Bt!==et.lane?(_s&Bt)===Bt:(Zr&Bt)===Bt){var nt=et.revertLane;if(nt===0)Fe!==null&&(Fe=Fe.next={lane:0,revertLane:0,gesture:null,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null}),Bt===y&&(pt=!0);else if((Zr&nt)===nt){et=et.next,nt===y&&(pt=!0);continue}else Bt={lane:0,revertLane:et.revertLane,gesture:null,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null},Fe===null?(ve=Fe=Bt,q=U):Fe=Fe.next=Bt,Ln.lanes|=nt,B|=nt;Bt=et.action,Ri&&d(U,Bt),U=et.hasEagerState?et.eagerState:d(U,Bt)}else nt={lane:Bt,revertLane:et.revertLane,gesture:et.gesture,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null},Fe===null?(ve=Fe=nt,q=U):Fe=Fe.next=nt,Ln.lanes|=Bt,B|=Bt;et=et.next}while(et!==null&&et!==l);if(Fe===null?q=U:Fe.next=ve,!Es(U,r.memoizedState)&&(Hr=!0,pt&&(d=_,d!==null)))throw d;r.memoizedState=U,r.baseState=q,r.baseQueue=Fe,p.lastRenderedState=U}return T===null&&(p.lanes=0),[r.memoizedState,p.dispatch]}function Ju(r){var l=Rr(),d=l.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=r;var p=d.dispatch,T=d.pending,U=l.memoizedState;if(T!==null){d.pending=null;var q=T=T.next;do U=r(U,q.action),q=q.next;while(q!==T);Es(U,l.memoizedState)||(Hr=!0),l.memoizedState=U,l.baseQueue===null&&(l.baseState=U),d.lastRenderedState=U}return[U,p]}function qu(r,l,d){var p=Ln,T=Rr(),U=Bs;if(U){if(d===void 0)throw Error(s(407));d=d()}else d=l();var q=!Es((Hn||T).memoizedState,d);if(q&&(T.memoizedState=d,Hr=!0),T=T.queue,hf(oh.bind(null,p,T,r),[r]),T.getSnapshot!==l||q||Ms!==null&&Ms.memoizedState.tag&1){if(p.flags|=2048,zA(9,{destroy:void 0},ih.bind(null,p,T,d,l),null),Er===null)throw Error(s(349));U||(Zr&127)!==0||Gl(p,l,d)}return d}function Gl(r,l,d){r.flags|=16384,r={getSnapshot:l,value:d},l=Ln.updateQueue,l===null?(l=au(),Ln.updateQueue=l,l.stores=[r]):(d=l.stores,d===null?l.stores=[r]:d.push(r))}function ih(r,l,d,p){l.value=d,l.getSnapshot=p,cf(l)&&lh(r)}function oh(r,l,d){return d(function(){cf(l)&&lh(r)})}function cf(r){var l=r.getSnapshot;r=r.value;try{var d=l();return!Es(r,d)}catch{return!0}}function lh(r){var l=xl(r,2);l!==null&&Tr(l,r,2)}function $l(r){var l=Ea();if(typeof r=="function"){var d=r;if(r=d(),Ri){ze(!0);try{d()}finally{ze(!1)}}}return l.memoizedState=l.baseState=r,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_o,lastRenderedState:r},l}function uf(r,l,d,p){return r.baseState=d,wc(r,Hn,typeof p=="function"?p:_o)}function Zu(r,l,d,p,T){if(iu(r))throw Error(s(485));if(r=l.action,r!==null){var U={payload:T,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(q){U.listeners.push(q)}};J.T!==null?d(!0):U.isTransition=!1,p(U),d=l.pending,d===null?(U.next=l.pending=U,Ah(l,U)):(U.next=d.next,l.pending=d.next=U)}}function Ah(r,l){var d=l.action,p=l.payload,T=r.state;if(l.isTransition){var U=J.T,q={};J.T=q;try{var ve=d(T,p),Fe=J.S;Fe!==null&&Fe(q,ve),Ta(r,l,ve)}catch(et){KA(r,l,et)}finally{U!==null&&q.types!==null&&(U.types=q.types),J.T=U}}else try{U=d(T,p),Ta(r,l,U)}catch(et){KA(r,l,et)}}function Ta(r,l,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(p){jc(r,l,p)},function(p){return KA(r,l,p)}):jc(r,l,d)}function jc(r,l,d){l.status="fulfilled",l.value=d,ed(l),r.state=d,l=r.pending,l!==null&&(d=l.next,d===l?r.pending=null:(d=d.next,l.next=d,Ah(r,d)))}function KA(r,l,d){var p=r.pending;if(r.pending=null,p!==null){p=p.next;do l.status="rejected",l.reason=d,ed(l),l=l.next;while(l!==p)}r.action=null}function ed(r){r=r.listeners;for(var l=0;l<r.length;l++)(0,r[l])()}function Bc(r,l){return l}function Fo(r,l){if(Bs){var d=Er.formState;if(d!==null){e:{var p=Ln;if(Bs){if(Cr){t:{for(var T=Cr,U=qr;T.nodeType!==8;){if(!U){T=null;break t}if(T=CA(T.nextSibling),T===null){T=null;break t}}U=T.data,T=U==="F!"||U==="F"?T:null}if(T){Cr=CA(T.nextSibling),p=T.data==="F!";break e}}mA(p)}p=!1}p&&(l=d[0])}}return d=Ea(),d.memoizedState=d.baseState=l,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bc,lastRenderedState:l},d.queue=p,d=Om.bind(null,Ln,p),p.dispatch=d,p=$l(!1),U=dh.bind(null,Ln,!1,p.queue),p=Ea(),T={state:l,dispatch:null,action:r,pending:null},p.queue=T,d=Zu.bind(null,Ln,T,U,d),T.dispatch=d,p.memoizedState=r,[l,d,!1]}function Yl(r){var l=Rr();return Wl(l,Hn,r)}function Wl(r,l,d){if(l=wc(r,l,Bc)[0],r=Xu(_o)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var p=bA(l)}catch(q){throw q===Qe?Ne:q}else p=l;l=Rr();var T=l.queue,U=T.dispatch;return d!==l.memoizedState&&(Ln.flags|=2048,zA(9,{destroy:void 0},td.bind(null,T,d),null)),[p,U,r]}function td(r,l){r.action=l}function nd(r){var l=Rr(),d=Hn;if(d!==null)return Wl(l,d,r);Rr(),l=l.memoizedState,d=Rr();var p=d.queue.dispatch;return d.memoizedState=r,[l,p,!1]}function zA(r,l,d,p){return r={tag:r,create:d,deps:p,inst:l,next:null},l=Ln.updateQueue,l===null&&(l=au(),Ln.updateQueue=l),d=l.lastEffect,d===null?l.lastEffect=r.next=r:(p=d.next,d.next=r,r.next=p,l.lastEffect=r),r}function df(){return Rr().memoizedState}function Cc(r,l,d,p){var T=Ea();Ln.flags|=r,T.memoizedState=zA(1|l,{destroy:void 0},d,p===void 0?null:p)}function Sc(r,l,d,p){var T=Rr();p=p===void 0?null:p;var U=T.memoizedState.inst;Hn!==null&&p!==null&&$u(p,Hn.memoizedState.deps)?T.memoizedState=zA(l,U,d,p):(Ln.flags|=r,T.memoizedState=zA(1|l,U,d,p))}function Im(r,l){Cc(8390656,8,r,l)}function hf(r,l){Sc(2048,8,r,l)}function kg(r){Ln.flags|=4;var l=Ln.updateQueue;if(l===null)l=au(),Ln.updateQueue=l,l.events=[r];else{var d=l.events;d===null?l.events=[r]:d.push(r)}}function _m(r){var l=Rr().memoizedState;return kg({ref:l,nextImpl:r}),function(){if((or&2)!==0)throw Error(s(440));return l.impl.apply(void 0,arguments)}}function ff(r,l){return Sc(4,2,r,l)}function Mg(r,l){return Sc(4,4,r,l)}function Hg(r,l){if(typeof l=="function"){r=r();var d=l(r);return function(){typeof d=="function"?d():l(null)}}if(l!=null)return r=r(),l.current=r,function(){l.current=null}}function Vg(r,l,d){d=d!=null?d.concat([r]):null,Sc(4,4,Hg.bind(null,l,r),d)}function Fm(){}function ch(r,l){var d=Rr();l=l===void 0?null:l;var p=d.memoizedState;return l!==null&&$u(l,p[1])?p[0]:(d.memoizedState=[r,l],r)}function uh(r,l){var d=Rr();l=l===void 0?null:l;var p=d.memoizedState;if(l!==null&&$u(l,p[1]))return p[0];if(p=r(),Ri){ze(!0);try{r()}finally{ze(!1)}}return d.memoizedState=[p,l],p}function Um(r,l,d){return d===void 0||(Zr&1073741824)!==0&&(_s&261930)===0?r.memoizedState=l:(r.memoizedState=d,r=Ia(),Ln.lanes|=r,B|=r,d)}function Rm(r,l,d,p){return Es(d,l)?d:as.current!==null?(r=Um(r,d,p),Es(r,l)||(Hr=!0),r):(Zr&42)===0||(Zr&1073741824)!==0&&(_s&261930)===0?(Hr=!0,r.memoizedState=d):(r=Ia(),Ln.lanes|=r,B|=r,l)}function mf(r,l,d,p,T){var U=re.p;re.p=U!==0&&8>U?U:8;var q=J.T,ve={};J.T=ve,dh(r,!1,l,d);try{var Fe=T(),et=J.S;if(et!==null&&et(ve,Fe),Fe!==null&&typeof Fe=="object"&&typeof Fe.then=="function"){var pt=le(Fe,p);wA(r,l,pt,Fn(r))}else wA(r,l,p,Fn(r))}catch(Bt){wA(r,l,{then:function(){},status:"rejected",reason:Bt},Fn())}finally{re.p=U,q!==null&&ve.types!==null&&(q.types=ve.types),J.T=q}}function Kg(){}function pf(r,l,d,p){if(r.tag!==5)throw Error(s(476));var T=Dm(r).queue;mf(r,T,l,se,d===null?Kg:function(){return zg(r),d(p)})}function Dm(r){var l=r.memoizedState;if(l!==null)return l;l={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_o,lastRenderedState:se},next:null};var d={};return l.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_o,lastRenderedState:d},next:null},r.memoizedState=l,r=r.alternate,r!==null&&(r.memoizedState=l),l}function zg(r){var l=Dm(r);l.next===null&&(l=r.alternate.memoizedState),wA(r,l.next.queue,{},Fn())}function sd(){return Za(up)}function Lm(){return Rr().memoizedState}function Qm(){return Rr().memoizedState}function kx(r){for(var l=r.return;l!==null;){switch(l.tag){case 24:case 3:var d=Fn();r=zn(d);var p=Yn(l,r,d);p!==null&&(Tr(p,l,d),rr(p,l,d)),l={cache:vc()},r.payload=l;return}l=l.return}}function Mx(r,l,d){var p=Fn();d={lane:p,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},iu(r)?Gg(l,d):(d=Ou(r,l,d,p),d!==null&&(Tr(d,r,p),$g(d,l,p)))}function Om(r,l,d){var p=Fn();wA(r,l,d,p)}function wA(r,l,d,p){var T={lane:p,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(iu(r))Gg(l,T);else{var U=r.alternate;if(r.lanes===0&&(U===null||U.lanes===0)&&(U=l.lastRenderedReducer,U!==null))try{var q=l.lastRenderedState,ve=U(q,d);if(T.hasEagerState=!0,T.eagerState=ve,Es(ve,q))return kA(r,l,T,0),Er===null&&Jc(),!1}catch{}finally{}if(d=Ou(r,l,T,p),d!==null)return Tr(d,r,p),$g(d,l,p),!0}return!1}function dh(r,l,d,p){if(p={lane:2,revertLane:Xx(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},iu(r)){if(l)throw Error(s(479))}else l=Ou(r,d,p,2),l!==null&&Tr(l,r,2)}function iu(r){var l=r.alternate;return r===Ln||l!==null&&l===Ln}function Gg(r,l){so=zi=!0;var d=r.pending;d===null?l.next=l:(l.next=d.next,d.next=l),r.pending=l}function $g(r,l,d){if((d&4194048)!==0){var p=l.lanes;p&=r.pendingLanes,d|=p,l.lanes=d,ua(r,d)}}var hh={readContext:Za,use:bc,useCallback:mr,useContext:mr,useEffect:mr,useImperativeHandle:mr,useLayoutEffect:mr,useInsertionEffect:mr,useMemo:mr,useReducer:mr,useRef:mr,useState:mr,useDebugValue:mr,useDeferredValue:mr,useTransition:mr,useSyncExternalStore:mr,useId:mr,useHostTransitionStatus:mr,useFormState:mr,useActionState:mr,useOptimistic:mr,useMemoCache:mr,useCacheRefresh:mr};hh.useEffectEvent=mr;var Yg={readContext:Za,use:bc,useCallback:function(r,l){return Ea().memoizedState=[r,l===void 0?null:l],r},useContext:Za,useEffect:Im,useImperativeHandle:function(r,l,d){d=d!=null?d.concat([r]):null,Cc(4194308,4,Hg.bind(null,l,r),d)},useLayoutEffect:function(r,l){return Cc(4194308,4,r,l)},useInsertionEffect:function(r,l){Cc(4,2,r,l)},useMemo:function(r,l){var d=Ea();l=l===void 0?null:l;var p=r();if(Ri){ze(!0);try{r()}finally{ze(!1)}}return d.memoizedState=[p,l],p},useReducer:function(r,l,d){var p=Ea();if(d!==void 0){var T=d(l);if(Ri){ze(!0);try{d(l)}finally{ze(!1)}}}else T=l;return p.memoizedState=p.baseState=T,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:T},p.queue=r,r=r.dispatch=Mx.bind(null,Ln,r),[p.memoizedState,r]},useRef:function(r){var l=Ea();return r={current:r},l.memoizedState=r},useState:function(r){r=$l(r);var l=r.queue,d=Om.bind(null,Ln,l);return l.dispatch=d,[r.memoizedState,d]},useDebugValue:Fm,useDeferredValue:function(r,l){var d=Ea();return Um(d,r,l)},useTransition:function(){var r=$l(!1);return r=mf.bind(null,Ln,r.queue,!0,!1),Ea().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,l,d){var p=Ln,T=Ea();if(Bs){if(d===void 0)throw Error(s(407));d=d()}else{if(d=l(),Er===null)throw Error(s(349));(_s&127)!==0||Gl(p,l,d)}T.memoizedState=d;var U={value:d,getSnapshot:l};return T.queue=U,Im(oh.bind(null,p,U,r),[r]),p.flags|=2048,zA(9,{destroy:void 0},ih.bind(null,p,U,d,l),null),d},useId:function(){var r=Ea(),l=Er.identifierPrefix;if(Bs){var d=Fi,p=To;d=(p&~(1<<32-ot(p)-1)).toString(32)+d,l="_"+l+"R_"+d,d=Mr++,0<d&&(l+="H"+d.toString(32)),l+="_"}else d=yc++,l="_"+l+"r_"+d.toString(32)+"_";return r.memoizedState=l},useHostTransitionStatus:sd,useFormState:Fo,useActionState:Fo,useOptimistic:function(r){var l=Ea();l.memoizedState=l.baseState=r;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=d,l=dh.bind(null,Ln,!0,d),d.dispatch=l,[r,l]},useMemoCache:ka,useCacheRefresh:function(){return Ea().memoizedState=kx.bind(null,Ln)},useEffectEvent:function(r){var l=Ea(),d={impl:r};return l.memoizedState=d,function(){if((or&2)!==0)throw Error(s(440));return d.impl.apply(void 0,arguments)}}},gf={readContext:Za,use:bc,useCallback:ch,useContext:Za,useEffect:hf,useImperativeHandle:Vg,useInsertionEffect:ff,useLayoutEffect:Mg,useMemo:uh,useReducer:Xu,useRef:df,useState:function(){return Xu(_o)},useDebugValue:Fm,useDeferredValue:function(r,l){var d=Rr();return Rm(d,Hn.memoizedState,r,l)},useTransition:function(){var r=Xu(_o)[0],l=Rr().memoizedState;return[typeof r=="boolean"?r:bA(r),l]},useSyncExternalStore:qu,useId:Lm,useHostTransitionStatus:sd,useFormState:Yl,useActionState:Yl,useOptimistic:function(r,l){var d=Rr();return uf(d,Hn,r,l)},useMemoCache:ka,useCacheRefresh:Qm};gf.useEffectEvent=_m;var vf={readContext:Za,use:bc,useCallback:ch,useContext:Za,useEffect:hf,useImperativeHandle:Vg,useInsertionEffect:ff,useLayoutEffect:Mg,useMemo:uh,useReducer:Ju,useRef:df,useState:function(){return Ju(_o)},useDebugValue:Fm,useDeferredValue:function(r,l){var d=Rr();return Hn===null?Um(d,r,l):Rm(d,Hn.memoizedState,r,l)},useTransition:function(){var r=Ju(_o)[0],l=Rr().memoizedState;return[typeof r=="boolean"?r:bA(r),l]},useSyncExternalStore:qu,useId:Lm,useHostTransitionStatus:sd,useFormState:nd,useActionState:nd,useOptimistic:function(r,l){var d=Rr();return Hn!==null?uf(d,Hn,r,l):(d.baseState=r,[r,d.queue.dispatch])},useMemoCache:ka,useCacheRefresh:Qm};vf.useEffectEvent=_m;function xf(r,l,d,p){l=r.memoizedState,d=d(p,l),d=d==null?l:m({},l,d),r.memoizedState=d,r.lanes===0&&(r.updateQueue.baseState=d)}var yf={enqueueSetState:function(r,l,d){r=r._reactInternals;var p=Fn(),T=zn(p);T.payload=l,d!=null&&(T.callback=d),l=Yn(r,T,p),l!==null&&(Tr(l,r,p),rr(l,r,p))},enqueueReplaceState:function(r,l,d){r=r._reactInternals;var p=Fn(),T=zn(p);T.tag=1,T.payload=l,d!=null&&(T.callback=d),l=Yn(r,T,p),l!==null&&(Tr(l,r,p),rr(l,r,p))},enqueueForceUpdate:function(r,l){r=r._reactInternals;var d=Fn(),p=zn(d);p.tag=2,l!=null&&(p.callback=l),l=Yn(r,p,d),l!==null&&(Tr(l,r,d),rr(l,r,d))}};function bf(r,l,d,p,T,U,q){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(p,U,q):l.prototype&&l.prototype.isPureReactComponent?!ci(d,p)||!ci(T,U):!0}function Pm(r,l,d,p){r=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,p),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,p),l.state!==r&&yf.enqueueReplaceState(l,l.state,null)}function Nc(r,l){var d=l;if("ref"in l){d={};for(var p in l)p!=="ref"&&(d[p]=l[p])}if(r=r.defaultProps){d===l&&(d=m({},d));for(var T in r)d[T]===void 0&&(d[T]=r[T])}return d}function Wg(r){fc(r)}function fh(r){console.error(r)}function mh(r){fc(r)}function ph(r,l){try{var d=r.onUncaughtError;d(l.value,{componentStack:l.stack})}catch(p){setTimeout(function(){throw p})}}function km(r,l,d){try{var p=r.onCaughtError;p(d.value,{componentStack:d.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(T){setTimeout(function(){throw T})}}function Mm(r,l,d){return d=zn(d),d.tag=3,d.payload={element:null},d.callback=function(){ph(r,l)},d}function Hm(r){return r=zn(r),r.tag=3,r}function Vm(r,l,d,p){var T=d.type.getDerivedStateFromError;if(typeof T=="function"){var U=p.value;r.payload=function(){return T(U)},r.callback=function(){km(l,d,p)}}var q=d.stateNode;q!==null&&typeof q.componentDidCatch=="function"&&(r.callback=function(){km(l,d,p),typeof T!="function"&&(Jt===null?Jt=new Set([this]):Jt.add(this));var ve=p.stack;this.componentDidCatch(p.value,{componentStack:ve!==null?ve:""})})}function Hx(r,l,d,p,T){if(d.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(l=d.alternate,l!==null&&vA(l,d,T,!0),d=kr.current,d!==null){switch(d.tag){case 31:case 13:return Is===null?Tl():d.alternate===null&&C===0&&(C=3),d.flags&=-257,d.flags|=65536,d.lanes=T,p===Pe?d.flags|=16384:(l=d.updateQueue,l===null?d.updateQueue=new Set([p]):l.add(p),$x(r,p,T)),!1;case 22:return d.flags|=65536,p===Pe?d.flags|=16384:(l=d.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([p])},d.updateQueue=l):(d=l.retryQueue,d===null?l.retryQueue=new Set([p]):d.add(p)),$x(r,p,T)),!1}throw Error(s(435,d.tag))}return $x(r,p,T),Tl(),!1}if(Bs)return l=kr.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=T,p!==Ki&&(r=Error(s(422),{cause:p}),zl(So(r,d)))):(p!==Ki&&(l=Error(s(423),{cause:p}),zl(So(l,d))),r=r.current.alternate,r.flags|=65536,T&=-T,r.lanes|=T,p=So(p,d),T=Mm(r.stateNode,p,T),ma(r,T),C!==4&&(C=2)),!1;var U=Error(s(520),{cause:p});if(U=So(U,d),Ce===null?Ce=[U]:Ce.push(U),C!==4&&(C=2),l===null)return!0;p=So(p,d),d=l;do{switch(d.tag){case 3:return d.flags|=65536,r=T&-T,d.lanes|=r,r=Mm(d.stateNode,p,r),ma(d,r),!1;case 1:if(l=d.type,U=d.stateNode,(d.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(Jt===null||!Jt.has(U))))return d.flags|=65536,T&=-T,d.lanes|=T,T=Hm(T),Vm(T,r,d,p),ma(d,T),!1}d=d.return}while(d!==null);return!1}var Km=Error(s(461)),Hr=!1;function pi(r,l,d,p){l.child=r===null?is(l,null,d,p):Sr(l,r.child,d,p)}function ba(r,l,d,p,T){d=d.render;var U=l.ref;if("ref"in p){var q={};for(var ve in p)ve!=="ref"&&(q[ve]=p[ve])}else q=p;return xA(l),p=rh(r,l,d,q,U,T),ve=Yu(),r!==null&&!Hr?(Wu(r,l,T),$A(r,l,T)):(Bs&&ve&&nh(l),l.flags|=1,pi(r,l,p,T),l.child)}function Ec(r,l,d,p,T){if(r===null){var U=d.type;return typeof U=="function"&&!Vl(U)&&U.defaultProps===void 0&&d.compare===null?(l.tag=15,l.type=U,ou(r,l,U,p,T)):(r=Kl(d.type,null,p,l,l.mode,T),r.ref=l.ref,r.return=l,l.child=r)}if(U=r.child,!qm(r,T)){var q=U.memoizedProps;if(d=d.compare,d=d!==null?d:ci,d(q,p)&&r.ref===l.ref)return $A(r,l,T)}return l.flags|=1,r=Co(U,p),r.ref=l.ref,r.return=l,l.child=r}function ou(r,l,d,p,T){if(r!==null){var U=r.memoizedProps;if(ci(U,p)&&r.ref===l.ref)if(Hr=!1,l.pendingProps=p=U,qm(r,T))(r.flags&131072)!==0&&(Hr=!0);else return l.lanes=r.lanes,$A(r,l,T)}return vh(r,l,d,p,T)}function GA(r,l,d,p){var T=p.children,U=r!==null?r.memoizedState:null;if(r===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((l.flags&128)!==0){if(U=U!==null?U.baseLanes|d:d,r!==null){for(p=l.child=r.child,T=0;p!==null;)T=T|p.lanes|p.childLanes,p=p.sibling;p=T&~U}else p=0,l.child=null;return rd(r,l,U,d,p)}if((d&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},r!==null&&we(l,U!==null?U.cachePool:null),U!==null?Nr(l,U):Ws(),xa(l);else return p=l.lanes=536870912,rd(r,l,U!==null?U.baseLanes|d:d,d,p)}else U!==null?(we(l,U.cachePool),Nr(l,U),ya(),l.memoizedState=null):(r!==null&&we(l,null),Ws(),ya());return pi(r,l,T,d),l.child}function Bl(r,l){return r!==null&&r.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function rd(r,l,d,p,T){var U=ye();return U=U===null?null:{parent:aa._currentValue,pool:U},l.memoizedState={baseLanes:d,cachePool:U},r!==null&&we(l,null),Ws(),xa(l),r!==null&&vA(r,l,p,!0),l.childLanes=T,null}function Cl(r,l){return l=wf({mode:l.mode,children:l.children},r.mode),l.ref=r.ref,r.child=l,l.return=r,l}function zm(r,l,d){return Sr(l,r.child,null,d),r=Cl(l,l.pendingProps),r.flags|=2,fr(l),l.memoizedState=null,r}function Xg(r,l,d){var p=l.pendingProps,T=(l.flags&128)!==0;if(l.flags&=-129,r===null){if(Bs){if(p.mode==="hidden")return r=Cl(l,p),l.lanes=536870912,Bl(null,r);if(ir(l),(r=Cr)?(r=fj(r,qr),r=r!==null&&r.data==="&"?r:null,r!==null&&(l.memoizedState={dehydrated:r,treeContext:fA!==null?{id:To,overflow:Fi}:null,retryLane:536870912,hydrationErrors:null},d=ku(r),d.return=l,l.child=d,Ja=l,Cr=null)):r=null,r===null)throw mA(l);return l.lanes=536870912,null}return Cl(l,p)}var U=r.memoizedState;if(U!==null){var q=U.dehydrated;if(ir(l),T)if(l.flags&256)l.flags&=-257,l=zm(r,l,d);else if(l.memoizedState!==null)l.child=r.child,l.flags|=128,l=null;else throw Error(s(558));else if(Hr||vA(r,l,d,!1),T=(d&r.childLanes)!==0,Hr||T){if(p=Er,p!==null&&(q=$r(p,d),q!==0&&q!==U.retryLane))throw U.retryLane=q,xl(r,q),Tr(p,r,q),Km;Tl(),l=zm(r,l,d)}else r=U.treeContext,Cr=CA(q.nextSibling),Ja=l,Bs=!0,Ui=null,qr=!1,r!==null&&lf(l,r),l=Cl(l,p),l.flags|=4096;return l}return r=Co(r.child,{mode:p.mode,children:p.children}),r.ref=l.ref,l.child=r,r.return=l,r}function gh(r,l){var d=l.ref;if(d===null)r!==null&&r.ref!==null&&(l.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(s(284));(r===null||r.ref!==d)&&(l.flags|=4194816)}}function vh(r,l,d,p,T){return xA(l),d=rh(r,l,d,p,void 0,T),p=Yu(),r!==null&&!Hr?(Wu(r,l,T),$A(r,l,T)):(Bs&&p&&nh(l),l.flags|=1,pi(r,l,d,T),l.child)}function ad(r,l,d,p,T,U){return xA(l),l.updateQueue=null,d=al(l,p,d,T),su(r),p=Yu(),r!==null&&!Hr?(Wu(r,l,U),$A(r,l,U)):(Bs&&p&&nh(l),l.flags|=1,pi(r,l,d,U),l.child)}function Gm(r,l,d,p,T){if(xA(l),l.stateNode===null){var U=Xa,q=d.contextType;typeof q=="object"&&q!==null&&(U=Za(q)),U=new d(p,U),l.memoizedState=U.state!==null&&U.state!==void 0?U.state:null,U.updater=yf,l.stateNode=U,U._reactInternals=l,U=l.stateNode,U.props=p,U.state=l.memoizedState,U.refs={},Xt(l),q=d.contextType,U.context=typeof q=="object"&&q!==null?Za(q):Xa,U.state=l.memoizedState,q=d.getDerivedStateFromProps,typeof q=="function"&&(xf(l,d,q,p),U.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof U.getSnapshotBeforeUpdate=="function"||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(q=U.state,typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount(),q!==U.state&&yf.enqueueReplaceState(U,U.state,null),pa(l,p,U,T),ar(),U.state=l.memoizedState),typeof U.componentDidMount=="function"&&(l.flags|=4194308),p=!0}else if(r===null){U=l.stateNode;var ve=l.memoizedProps,Fe=Nc(d,ve);U.props=Fe;var et=U.context,pt=d.contextType;q=Xa,typeof pt=="object"&&pt!==null&&(q=Za(pt));var Bt=d.getDerivedStateFromProps;pt=typeof Bt=="function"||typeof U.getSnapshotBeforeUpdate=="function",ve=l.pendingProps!==ve,pt||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(ve||et!==q)&&Pm(l,U,p,q),at=!1;var nt=l.memoizedState;U.state=nt,pa(l,p,U,T),ar(),et=l.memoizedState,ve||nt!==et||at?(typeof Bt=="function"&&(xf(l,d,Bt,p),et=l.memoizedState),(Fe=at||bf(l,d,Fe,p,nt,et,q))?(pt||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount()),typeof U.componentDidMount=="function"&&(l.flags|=4194308)):(typeof U.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=p,l.memoizedState=et),U.props=p,U.state=et,U.context=q,p=Fe):(typeof U.componentDidMount=="function"&&(l.flags|=4194308),p=!1)}else{U=l.stateNode,Pr(r,l),q=l.memoizedProps,pt=Nc(d,q),U.props=pt,Bt=l.pendingProps,nt=U.context,et=d.contextType,Fe=Xa,typeof et=="object"&&et!==null&&(Fe=Za(et)),ve=d.getDerivedStateFromProps,(et=typeof ve=="function"||typeof U.getSnapshotBeforeUpdate=="function")||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(q!==Bt||nt!==Fe)&&Pm(l,U,p,Fe),at=!1,nt=l.memoizedState,U.state=nt,pa(l,p,U,T),ar();var it=l.memoizedState;q!==Bt||nt!==it||at||r!==null&&r.dependencies!==null&&Ku(r.dependencies)?(typeof ve=="function"&&(xf(l,d,ve,p),it=l.memoizedState),(pt=at||bf(l,d,pt,p,nt,it,Fe)||r!==null&&r.dependencies!==null&&Ku(r.dependencies))?(et||typeof U.UNSAFE_componentWillUpdate!="function"&&typeof U.componentWillUpdate!="function"||(typeof U.componentWillUpdate=="function"&&U.componentWillUpdate(p,it,Fe),typeof U.UNSAFE_componentWillUpdate=="function"&&U.UNSAFE_componentWillUpdate(p,it,Fe)),typeof U.componentDidUpdate=="function"&&(l.flags|=4),typeof U.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof U.componentDidUpdate!="function"||q===r.memoizedProps&&nt===r.memoizedState||(l.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||q===r.memoizedProps&&nt===r.memoizedState||(l.flags|=1024),l.memoizedProps=p,l.memoizedState=it),U.props=p,U.state=it,U.context=Fe,p=pt):(typeof U.componentDidUpdate!="function"||q===r.memoizedProps&&nt===r.memoizedState||(l.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||q===r.memoizedProps&&nt===r.memoizedState||(l.flags|=1024),p=!1)}return U=p,gh(r,l),p=(l.flags&128)!==0,U||p?(U=l.stateNode,d=p&&typeof d.getDerivedStateFromError!="function"?null:U.render(),l.flags|=1,r!==null&&p?(l.child=Sr(l,r.child,null,T),l.child=Sr(l,null,d,T)):pi(r,l,d,T),l.memoizedState=U.state,r=l.child):r=$A(r,l,T),r}function $m(r,l,d,p){return VA(),l.flags|=256,pi(r,l,d,p),l.child}var lu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ym(r){return{baseLanes:r,cachePool:Te()}}function Wm(r,l,d){return r=r!==null?r.childLanes&~d:0,l&&(r|=ue),r}function Jg(r,l,d){var p=l.pendingProps,T=!1,U=(l.flags&128)!==0,q;if((q=U)||(q=r!==null&&r.memoizedState===null?!1:(Ds.current&2)!==0),q&&(T=!0,l.flags&=-129),q=(l.flags&32)!==0,l.flags&=-33,r===null){if(Bs){if(T?oa(l):ya(),(r=Cr)?(r=fj(r,qr),r=r!==null&&r.data!=="&"?r:null,r!==null&&(l.memoizedState={dehydrated:r,treeContext:fA!==null?{id:To,overflow:Fi}:null,retryLane:536870912,hydrationErrors:null},d=ku(r),d.return=l,l.child=d,Ja=l,Cr=null)):r=null,r===null)throw mA(l);return Ay(r)?l.lanes=32:l.lanes=536870912,null}var ve=p.children;return p=p.fallback,T?(ya(),T=l.mode,ve=wf({mode:"hidden",children:ve},T),p=dA(p,T,d,null),ve.return=l,p.return=l,ve.sibling=p,l.child=ve,p=l.child,p.memoizedState=Ym(d),p.childLanes=Wm(r,q,d),l.memoizedState=lu,Bl(null,p)):(oa(l),Xm(l,ve))}var Fe=r.memoizedState;if(Fe!==null&&(ve=Fe.dehydrated,ve!==null)){if(U)l.flags&256?(oa(l),l.flags&=-257,l=xh(r,l,d)):l.memoizedState!==null?(ya(),l.child=r.child,l.flags|=128,l=null):(ya(),ve=p.fallback,T=l.mode,p=wf({mode:"visible",children:p.children},T),ve=dA(ve,T,d,null),ve.flags|=2,p.return=l,ve.return=l,p.sibling=ve,l.child=p,Sr(l,r.child,null,d),p=l.child,p.memoizedState=Ym(d),p.childLanes=Wm(r,q,d),l.memoizedState=lu,l=Bl(null,p));else if(oa(l),Ay(ve)){if(q=ve.nextSibling&&ve.nextSibling.dataset,q)var et=q.dgst;q=et,p=Error(s(419)),p.stack="",p.digest=q,zl({value:p,source:null,stack:null}),l=xh(r,l,d)}else if(Hr||vA(r,l,d,!1),q=(d&r.childLanes)!==0,Hr||q){if(q=Er,q!==null&&(p=$r(q,d),p!==0&&p!==Fe.retryLane))throw Fe.retryLane=p,xl(r,p),Tr(q,r,p),Km;ly(ve)||Tl(),l=xh(r,l,d)}else ly(ve)?(l.flags|=192,l.child=r.child,l=null):(r=Fe.treeContext,Cr=CA(ve.nextSibling),Ja=l,Bs=!0,Ui=null,qr=!1,r!==null&&lf(l,r),l=Xm(l,p.children),l.flags|=4096);return l}return T?(ya(),ve=p.fallback,T=l.mode,Fe=r.child,et=Fe.sibling,p=Co(Fe,{mode:"hidden",children:p.children}),p.subtreeFlags=Fe.subtreeFlags&65011712,et!==null?ve=Co(et,ve):(ve=dA(ve,T,d,null),ve.flags|=2),ve.return=l,p.return=l,p.sibling=ve,l.child=p,Bl(null,p),p=l.child,ve=r.child.memoizedState,ve===null?ve=Ym(d):(T=ve.cachePool,T!==null?(Fe=aa._currentValue,T=T.parent!==Fe?{parent:Fe,pool:Fe}:T):T=Te(),ve={baseLanes:ve.baseLanes|d,cachePool:T}),p.memoizedState=ve,p.childLanes=Wm(r,q,d),l.memoizedState=lu,Bl(r.child,p)):(oa(l),d=r.child,r=d.sibling,d=Co(d,{mode:"visible",children:p.children}),d.return=l,d.sibling=null,r!==null&&(q=l.deletions,q===null?(l.deletions=[r],l.flags|=16):q.push(r)),l.child=d,l.memoizedState=null,d)}function Xm(r,l){return l=wf({mode:"visible",children:l},r.mode),l.return=r,r.child=l}function wf(r,l){return r=hi(22,r,null,l),r.lanes=0,r}function xh(r,l,d){return Sr(l,r.child,null,d),r=Xm(l,l.pendingProps.children),r.flags|=2,l.memoizedState=null,r}function qg(r,l,d){r.lanes|=l;var p=r.alternate;p!==null&&(p.lanes|=l),gc(r.return,l,d)}function Jm(r,l,d,p,T,U){var q=r.memoizedState;q===null?r.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:p,tail:d,tailMode:T,treeForkCount:U}:(q.isBackwards=l,q.rendering=null,q.renderingStartTime=0,q.last=p,q.tail=d,q.tailMode=T,q.treeForkCount=U)}function Zg(r,l,d){var p=l.pendingProps,T=p.revealOrder,U=p.tail;p=p.children;var q=Ds.current,ve=(q&2)!==0;if(ve?(q=q&1|2,l.flags|=128):q&=1,W(Ds,q),pi(r,l,p,d),p=Bs?hA:0,!ve&&r!==null&&(r.flags&128)!==0)e:for(r=l.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&qg(r,d,l);else if(r.tag===19)qg(r,d,l);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===l)break e;for(;r.sibling===null;){if(r.return===null||r.return===l)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(T){case"forwards":for(d=l.child,T=null;d!==null;)r=d.alternate,r!==null&&mi(r)===null&&(T=d),d=d.sibling;d=T,d===null?(T=l.child,l.child=null):(T=d.sibling,d.sibling=null),Jm(l,!1,T,d,U,p);break;case"backwards":case"unstable_legacy-backwards":for(d=null,T=l.child,l.child=null;T!==null;){if(r=T.alternate,r!==null&&mi(r)===null){l.child=T;break}r=T.sibling,T.sibling=d,d=T,T=r}Jm(l,!0,d,null,U,p);break;case"together":Jm(l,!1,null,null,void 0,p);break;default:l.memoizedState=null}return l.child}function $A(r,l,d){if(r!==null&&(l.dependencies=r.dependencies),B|=l.lanes,(d&l.childLanes)===0)if(r!==null){if(vA(r,l,d,!1),(d&l.childLanes)===0)return null}else return null;if(r!==null&&l.child!==r.child)throw Error(s(153));if(l.child!==null){for(r=l.child,d=Co(r,r.pendingProps),l.child=d,d.return=l;r.sibling!==null;)r=r.sibling,d=d.sibling=Co(r,r.pendingProps),d.return=l;d.sibling=null}return l.child}function qm(r,l){return(r.lanes&l)!==0?!0:(r=r.dependencies,!!(r!==null&&Ku(r)))}function Zm(r,l,d){switch(l.tag){case 3:Se(l,l.stateNode.containerInfo),gA(l,aa,r.memoizedState.cache),VA();break;case 27:case 5:Ie(l);break;case 4:Se(l,l.stateNode.containerInfo);break;case 10:gA(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,ir(l),null;break;case 13:var p=l.memoizedState;if(p!==null)return p.dehydrated!==null?(oa(l),l.flags|=128,null):(d&l.child.childLanes)!==0?Jg(r,l,d):(oa(l),r=$A(r,l,d),r!==null?r.sibling:null);oa(l);break;case 19:var T=(r.flags&128)!==0;if(p=(d&l.childLanes)!==0,p||(vA(r,l,d,!1),p=(d&l.childLanes)!==0),T){if(p)return Zg(r,l,d);l.flags|=128}if(T=l.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),W(Ds,Ds.current),p)break;return null;case 22:return l.lanes=0,GA(r,l,d,l.pendingProps);case 24:gA(l,aa,r.memoizedState.cache)}return $A(r,l,d)}function jf(r,l,d){if(r!==null)if(r.memoizedProps!==l.pendingProps)Hr=!0;else{if(!qm(r,d)&&(l.flags&128)===0)return Hr=!1,Zm(r,l,d);Hr=(r.flags&131072)!==0}else Hr=!1,Bs&&(l.flags&1048576)!==0&&of(l,hA,l.index);switch(l.lanes=0,l.tag){case 16:e:{var p=l.pendingProps;if(r=Xe(l.elementType),l.type=r,typeof r=="function")Vl(r)?(p=Nc(r,p),l.tag=1,l=Gm(null,l,r,p,d)):(l.tag=0,l=vh(null,l,r,p,d));else{if(r!=null){var T=r.$$typeof;if(T===D){l.tag=11,l=ba(null,l,r,p,d);break e}else if(T===L){l.tag=14,l=Ec(null,l,r,p,d);break e}}throw l=ie(r)||r,Error(s(306,l,""))}}return l;case 0:return vh(r,l,l.type,l.pendingProps,d);case 1:return p=l.type,T=Nc(p,l.pendingProps),Gm(r,l,p,T,d);case 3:e:{if(Se(l,l.stateNode.containerInfo),r===null)throw Error(s(387));p=l.pendingProps;var U=l.memoizedState;T=U.element,Pr(r,l),pa(l,p,null,d);var q=l.memoizedState;if(p=q.cache,gA(l,aa,p),p!==U.cache&&wl(l,[aa],d,!0),ar(),p=q.element,U.isDehydrated)if(U={element:p,isDehydrated:!1,cache:q.cache},l.updateQueue.baseState=U,l.memoizedState=U,l.flags&256){l=$m(r,l,p,d);break e}else if(p!==T){T=So(Error(s(424)),l),zl(T),l=$m(r,l,p,d);break e}else{switch(r=l.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Cr=CA(r.firstChild),Ja=l,Bs=!0,Ui=null,qr=!0,d=is(l,null,p,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(VA(),p===T){l=$A(r,l,d);break e}pi(r,l,p,d)}l=l.child}return l;case 26:return gh(r,l),r===null?(d=yj(l.type,null,l.pendingProps,null))?l.memoizedState=d:Bs||(d=l.type,r=l.pendingProps,p=y0(Ae.current).createElement(d),p[Yt]=l,p[Ut]=r,oo(p,d,r),zs(p),l.stateNode=p):l.memoizedState=yj(l.type,r.memoizedProps,l.pendingProps,r.memoizedState),null;case 27:return Ie(l),r===null&&Bs&&(p=l.stateNode=gj(l.type,l.pendingProps,Ae.current),Ja=l,qr=!0,T=Cr,cd(l.type)?(cy=T,Cr=CA(p.firstChild)):Cr=T),pi(r,l,l.pendingProps.children,d),gh(r,l),r===null&&(l.flags|=4194304),l.child;case 5:return r===null&&Bs&&((T=p=Cr)&&(p=__(p,l.type,l.pendingProps,qr),p!==null?(l.stateNode=p,Ja=l,Cr=CA(p.firstChild),qr=!1,T=!0):T=!1),T||mA(l)),Ie(l),T=l.type,U=l.pendingProps,q=r!==null?r.memoizedProps:null,p=U.children,ay(T,U)?p=null:q!==null&&ay(T,q)&&(l.flags|=32),l.memoizedState!==null&&(T=rh(r,l,ah,null,null,d),up._currentValue=T),gh(r,l),pi(r,l,p,d),l.child;case 6:return r===null&&Bs&&((r=d=Cr)&&(d=F_(d,l.pendingProps,qr),d!==null?(l.stateNode=d,Ja=l,Cr=null,r=!0):r=!1),r||mA(l)),null;case 13:return Jg(r,l,d);case 4:return Se(l,l.stateNode.containerInfo),p=l.pendingProps,r===null?l.child=Sr(l,null,p,d):pi(r,l,p,d),l.child;case 11:return ba(r,l,l.type,l.pendingProps,d);case 7:return pi(r,l,l.pendingProps,d),l.child;case 8:return pi(r,l,l.pendingProps.children,d),l.child;case 12:return pi(r,l,l.pendingProps.children,d),l.child;case 10:return p=l.pendingProps,gA(l,l.type,p.value),pi(r,l,p.children,d),l.child;case 9:return T=l.type._context,p=l.pendingProps.children,xA(l),T=Za(T),p=p(T),l.flags|=1,pi(r,l,p,d),l.child;case 14:return Ec(r,l,l.type,l.pendingProps,d);case 15:return ou(r,l,l.type,l.pendingProps,d);case 19:return Zg(r,l,d);case 31:return Xg(r,l,d);case 22:return GA(r,l,d,l.pendingProps);case 24:return xA(l),p=Za(aa),r===null?(T=ye(),T===null&&(T=Er,U=vc(),T.pooledCache=U,U.refCount++,U!==null&&(T.pooledCacheLanes|=d),T=U),l.memoizedState={parent:p,cache:T},Xt(l),gA(l,aa,T)):((r.lanes&d)!==0&&(Pr(r,l),pa(l,null,null,d),ar()),T=r.memoizedState,U=l.memoizedState,T.parent!==p?(T={parent:p,cache:p},l.memoizedState=T,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=T),gA(l,aa,p)):(p=U.cache,gA(l,aa,p),p!==T.cache&&wl(l,[aa],d,!0))),pi(r,l,l.pendingProps.children,d),l.child;case 29:throw l.pendingProps}throw Error(s(156,l.tag))}function jA(r){r.flags|=4}function ep(r,l,d,p,T){if((l=(r.mode&32)!==0)&&(l=!1),l){if(r.flags|=16777216,(T&335544128)===T)if(r.stateNode.complete)r.flags|=8192;else if(WA())r.flags|=8192;else throw lt=Pe,Je}else r.flags&=-16777217}function e0(r,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Cj(l))if(WA())r.flags|=8192;else throw lt=Pe,Je}function yh(r,l){l!==null&&(r.flags|=4),r.flags&16384&&(l=r.tag!==22?cs():536870912,r.lanes|=l,Be|=l)}function bh(r,l){if(!Bs)switch(r.tailMode){case"hidden":l=r.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?r.tail=null:d.sibling=null;break;case"collapsed":d=r.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?l||r.tail===null?r.tail=null:r.tail.sibling=null:p.sibling=null}}function Vr(r){var l=r.alternate!==null&&r.alternate.child===r.child,d=0,p=0;if(l)for(var T=r.child;T!==null;)d|=T.lanes|T.childLanes,p|=T.subtreeFlags&65011712,p|=T.flags&65011712,T.return=r,T=T.sibling;else for(T=r.child;T!==null;)d|=T.lanes|T.childLanes,p|=T.subtreeFlags,p|=T.flags,T.return=r,T=T.sibling;return r.subtreeFlags|=p,r.childLanes=d,l}function Vx(r,l,d){var p=l.pendingProps;switch(Hu(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vr(l),null;case 1:return Vr(l),null;case 3:return d=l.stateNode,p=null,r!==null&&(p=r.memoizedState.cache),l.memoizedState.cache!==p&&(l.flags|=2048),Io(aa),xe(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(qa(l)?jA(l):r===null||r.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,tu())),Vr(l),null;case 26:var T=l.type,U=l.memoizedState;return r===null?(jA(l),U!==null?(Vr(l),e0(l,U)):(Vr(l),ep(l,T,null,p,d))):U?U!==r.memoizedState?(jA(l),Vr(l),e0(l,U)):(Vr(l),l.flags&=-16777217):(r=r.memoizedProps,r!==p&&jA(l),Vr(l),ep(l,T,r,p,d)),null;case 27:if(_e(l),d=Ae.current,T=l.type,r!==null&&l.stateNode!=null)r.memoizedProps!==p&&jA(l);else{if(!p){if(l.stateNode===null)throw Error(s(166));return Vr(l),null}r=ae.current,qa(l)?sh(l):(r=gj(T,p,d),l.stateNode=r,jA(l))}return Vr(l),null;case 5:if(_e(l),T=l.type,r!==null&&l.stateNode!=null)r.memoizedProps!==p&&jA(l);else{if(!p){if(l.stateNode===null)throw Error(s(166));return Vr(l),null}if(U=ae.current,qa(l))sh(l);else{var q=y0(Ae.current);switch(U){case 1:U=q.createElementNS("http://www.w3.org/2000/svg",T);break;case 2:U=q.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;default:switch(T){case"svg":U=q.createElementNS("http://www.w3.org/2000/svg",T);break;case"math":U=q.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;case"script":U=q.createElement("div"),U.innerHTML="<script><\/script>",U=U.removeChild(U.firstChild);break;case"select":U=typeof p.is=="string"?q.createElement("select",{is:p.is}):q.createElement("select"),p.multiple?U.multiple=!0:p.size&&(U.size=p.size);break;default:U=typeof p.is=="string"?q.createElement(T,{is:p.is}):q.createElement(T)}}U[Yt]=l,U[Ut]=p;e:for(q=l.child;q!==null;){if(q.tag===5||q.tag===6)U.appendChild(q.stateNode);else if(q.tag!==4&&q.tag!==27&&q.child!==null){q.child.return=q,q=q.child;continue}if(q===l)break e;for(;q.sibling===null;){if(q.return===null||q.return===l)break e;q=q.return}q.sibling.return=q.return,q=q.sibling}l.stateNode=U;e:switch(oo(U,T,p),T){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&jA(l)}}return Vr(l),ep(l,l.type,r===null?null:r.memoizedProps,l.pendingProps,d),null;case 6:if(r&&l.stateNode!=null)r.memoizedProps!==p&&jA(l);else{if(typeof p!="string"&&l.stateNode===null)throw Error(s(166));if(r=Ae.current,qa(l)){if(r=l.stateNode,d=l.memoizedProps,p=null,T=Ja,T!==null)switch(T.tag){case 27:case 5:p=T.memoizedProps}r[Yt]=l,r=!!(r.nodeValue===d||p!==null&&p.suppressHydrationWarning===!0||ij(r.nodeValue,d)),r||mA(l,!0)}else r=y0(r).createTextNode(p),r[Yt]=l,l.stateNode=r}return Vr(l),null;case 31:if(d=l.memoizedState,r===null||r.memoizedState!==null){if(p=qa(l),d!==null){if(r===null){if(!p)throw Error(s(318));if(r=l.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(557));r[Yt]=l}else VA(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Vr(l),r=!1}else d=tu(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=d),r=!0;if(!r)return l.flags&256?(fr(l),l):(fr(l),null);if((l.flags&128)!==0)throw Error(s(558))}return Vr(l),null;case 13:if(p=l.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(T=qa(l),p!==null&&p.dehydrated!==null){if(r===null){if(!T)throw Error(s(318));if(T=l.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(s(317));T[Yt]=l}else VA(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Vr(l),T=!1}else T=tu(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=T),T=!0;if(!T)return l.flags&256?(fr(l),l):(fr(l),null)}return fr(l),(l.flags&128)!==0?(l.lanes=d,l):(d=p!==null,r=r!==null&&r.memoizedState!==null,d&&(p=l.child,T=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(T=p.alternate.memoizedState.cachePool.pool),U=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(U=p.memoizedState.cachePool.pool),U!==T&&(p.flags|=2048)),d!==r&&d&&(l.child.flags|=8192),yh(l,l.updateQueue),Vr(l),null);case 4:return xe(),r===null&&ey(l.stateNode.containerInfo),Vr(l),null;case 10:return Io(l.type),Vr(l),null;case 19:if(V(Ds),p=l.memoizedState,p===null)return Vr(l),null;if(T=(l.flags&128)!==0,U=p.rendering,U===null)if(T)bh(p,!1);else{if(C!==0||r!==null&&(r.flags&128)!==0)for(r=l.child;r!==null;){if(U=mi(r),U!==null){for(l.flags|=128,bh(p,!1),r=U.updateQueue,l.updateQueue=r,yh(l,r),l.subtreeFlags=0,r=d,d=l.child;d!==null;)Zc(d,r),d=d.sibling;return W(Ds,Ds.current&1|2),Bs&&no(l,p.treeForkCount),l.child}r=r.sibling}p.tail!==null&&Gt()>rn&&(l.flags|=128,T=!0,bh(p,!1),l.lanes=4194304)}else{if(!T)if(r=mi(U),r!==null){if(l.flags|=128,T=!0,r=r.updateQueue,l.updateQueue=r,yh(l,r),bh(p,!0),p.tail===null&&p.tailMode==="hidden"&&!U.alternate&&!Bs)return Vr(l),null}else 2*Gt()-p.renderingStartTime>rn&&d!==536870912&&(l.flags|=128,T=!0,bh(p,!1),l.lanes=4194304);p.isBackwards?(U.sibling=l.child,l.child=U):(r=p.last,r!==null?r.sibling=U:l.child=U,p.last=U)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=Gt(),r.sibling=null,d=Ds.current,W(Ds,T?d&1|2:d&1),Bs&&no(l,p.treeForkCount),r):(Vr(l),null);case 22:case 23:return fr(l),va(),p=l.memoizedState!==null,r!==null?r.memoizedState!==null!==p&&(l.flags|=8192):p&&(l.flags|=8192),p?(d&536870912)!==0&&(l.flags&128)===0&&(Vr(l),l.subtreeFlags&6&&(l.flags|=8192)):Vr(l),d=l.updateQueue,d!==null&&yh(l,d.retryQueue),d=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),p=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==d&&(l.flags|=2048),r!==null&&V(me),null;case 24:return d=null,r!==null&&(d=r.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),Io(aa),Vr(l),null;case 25:return null;case 30:return null}throw Error(s(156,l.tag))}function Kx(r,l){switch(Hu(l),l.tag){case 1:return r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 3:return Io(aa),xe(),r=l.flags,(r&65536)!==0&&(r&128)===0?(l.flags=r&-65537|128,l):null;case 26:case 27:case 5:return _e(l),null;case 31:if(l.memoizedState!==null){if(fr(l),l.alternate===null)throw Error(s(340));VA()}return r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 13:if(fr(l),r=l.memoizedState,r!==null&&r.dehydrated!==null){if(l.alternate===null)throw Error(s(340));VA()}return r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 19:return V(Ds),null;case 4:return xe(),null;case 10:return Io(l.type),null;case 22:case 23:return fr(l),va(),r!==null&&V(me),r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 24:return Io(aa),null;case 25:return null;default:return null}}function t0(r,l){switch(Hu(l),l.tag){case 3:Io(aa),xe();break;case 26:case 27:case 5:_e(l);break;case 4:xe();break;case 31:l.memoizedState!==null&&fr(l);break;case 13:fr(l);break;case 19:V(Ds);break;case 10:Io(l.type);break;case 22:case 23:fr(l),va(),r!==null&&V(me);break;case 24:Io(aa)}}function Au(r,l){try{var d=l.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var T=p.next;d=T;do{if((d.tag&r)===r){p=void 0;var U=d.create,q=d.inst;p=U(),q.destroy=p}d=d.next}while(d!==T)}}catch(ve){Ir(l,l.return,ve)}}function Tc(r,l,d){try{var p=l.updateQueue,T=p!==null?p.lastEffect:null;if(T!==null){var U=T.next;p=U;do{if((p.tag&r)===r){var q=p.inst,ve=q.destroy;if(ve!==void 0){q.destroy=void 0,T=l;var Fe=d,et=ve;try{et()}catch(pt){Ir(T,Fe,pt)}}}p=p.next}while(p!==U)}}catch(pt){Ir(l,l.return,pt)}}function Bf(r){var l=r.updateQueue;if(l!==null){var d=r.stateNode;try{ga(l,d)}catch(p){Ir(r,r.return,p)}}}function n0(r,l,d){d.props=Nc(r.type,r.memoizedProps),d.state=r.memoizedState;try{d.componentWillUnmount()}catch(p){Ir(r,l,p)}}function tn(r,l){try{var d=r.ref;if(d!==null){switch(r.tag){case 26:case 27:case 5:var p=r.stateNode;break;case 30:p=r.stateNode;break;default:p=r.stateNode}typeof d=="function"?r.refCleanup=d(p):d.current=p}}catch(T){Ir(r,l,T)}}function ro(r,l){var d=r.ref,p=r.refCleanup;if(d!==null)if(typeof p=="function")try{p()}catch(T){Ir(r,l,T)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(T){Ir(r,l,T)}else d.current=null}function wh(r){var l=r.type,d=r.memoizedProps,p=r.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":d.autoFocus&&p.focus();break e;case"img":d.src?p.src=d.src:d.srcSet&&(p.srcset=d.srcSet)}}catch(T){Ir(r,r.return,T)}}function Uo(r,l,d){try{var p=r.stateNode;C_(p,r.type,d,l),p[Ut]=l}catch(T){Ir(r,r.return,T)}}function s0(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&cd(r.type)||r.tag===4}function Zs(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||s0(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&cd(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Dr(r,l,d){var p=r.tag;if(p===5||p===6)r=r.stateNode,l?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(r,l):(l=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,l.appendChild(r),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=Xi));else if(p!==4&&(p===27&&cd(r.type)&&(d=r.stateNode,l=null),r=r.child,r!==null))for(Dr(r,l,d),r=r.sibling;r!==null;)Dr(r,l,d),r=r.sibling}function cu(r,l,d){var p=r.tag;if(p===5||p===6)r=r.stateNode,l?d.insertBefore(r,l):d.appendChild(r);else if(p!==4&&(p===27&&cd(r.type)&&(d=r.stateNode),r=r.child,r!==null))for(cu(r,l,d),r=r.sibling;r!==null;)cu(r,l,d),r=r.sibling}function r0(r){var l=r.stateNode,d=r.memoizedProps;try{for(var p=r.type,T=l.attributes;T.length;)l.removeAttributeNode(T[0]);oo(l,p,d),l[Yt]=r,l[Ut]=d}catch(U){Ir(r,r.return,U)}}var Sl=!1,Ma=!1,id=!1,a0=typeof WeakSet=="function"?WeakSet:Set,gi=null;function i0(r,l){if(r=r.containerInfo,sy=N0,r=pl(r),gl(r)){if("selectionStart"in r)var d={start:r.selectionStart,end:r.selectionEnd};else e:{d=(d=r.ownerDocument)&&d.defaultView||window;var p=d.getSelection&&d.getSelection();if(p&&p.rangeCount!==0){d=p.anchorNode;var T=p.anchorOffset,U=p.focusNode;p=p.focusOffset;try{d.nodeType,U.nodeType}catch{d=null;break e}var q=0,ve=-1,Fe=-1,et=0,pt=0,Bt=r,nt=null;t:for(;;){for(var it;Bt!==d||T!==0&&Bt.nodeType!==3||(ve=q+T),Bt!==U||p!==0&&Bt.nodeType!==3||(Fe=q+p),Bt.nodeType===3&&(q+=Bt.nodeValue.length),(it=Bt.firstChild)!==null;)nt=Bt,Bt=it;for(;;){if(Bt===r)break t;if(nt===d&&++et===T&&(ve=q),nt===U&&++pt===p&&(Fe=q),(it=Bt.nextSibling)!==null)break;Bt=nt,nt=Bt.parentNode}Bt=it}d=ve===-1||Fe===-1?null:{start:ve,end:Fe}}else d=null}d=d||{start:0,end:0}}else d=null;for(ry={focusedElem:r,selectionRange:d},N0=!1,gi=l;gi!==null;)if(l=gi,r=l.child,(l.subtreeFlags&1028)!==0&&r!==null)r.return=l,gi=r;else for(;gi!==null;){switch(l=gi,U=l.alternate,r=l.flags,l.tag){case 0:if((r&4)!==0&&(r=l.updateQueue,r=r!==null?r.events:null,r!==null))for(d=0;d<r.length;d++)T=r[d],T.ref.impl=T.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&U!==null){r=void 0,d=l,T=U.memoizedProps,U=U.memoizedState,p=d.stateNode;try{var jn=Nc(d.type,T);r=p.getSnapshotBeforeUpdate(jn,U),p.__reactInternalSnapshotBeforeUpdate=r}catch(Jn){Ir(d,d.return,Jn)}}break;case 3:if((r&1024)!==0){if(r=l.stateNode.containerInfo,d=r.nodeType,d===9)oy(r);else if(d===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":oy(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(s(163))}if(r=l.sibling,r!==null){r.return=l.return,gi=r;break}gi=l.return}}function o0(r,l,d){var p=d.flags;switch(d.tag){case 0:case 11:case 15:Nl(r,d),p&4&&Au(5,d);break;case 1:if(Nl(r,d),p&4)if(r=d.stateNode,l===null)try{r.componentDidMount()}catch(q){Ir(d,d.return,q)}else{var T=Nc(d.type,l.memoizedProps);l=l.memoizedState;try{r.componentDidUpdate(T,l,r.__reactInternalSnapshotBeforeUpdate)}catch(q){Ir(d,d.return,q)}}p&64&&Bf(d),p&512&&tn(d,d.return);break;case 3:if(Nl(r,d),p&64&&(r=d.updateQueue,r!==null)){if(l=null,d.child!==null)switch(d.child.tag){case 27:case 5:l=d.child.stateNode;break;case 1:l=d.child.stateNode}try{ga(r,l)}catch(q){Ir(d,d.return,q)}}break;case 27:l===null&&p&4&&r0(d);case 26:case 5:Nl(r,d),l===null&&p&4&&wh(d),p&512&&tn(d,d.return);break;case 12:Nl(r,d);break;case 31:Nl(r,d),p&4&&np(r,d);break;case 13:Nl(r,d),p&4&&l0(r,d),p&64&&(r=d.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(d=h_.bind(null,d),U_(r,d))));break;case 22:if(p=d.memoizedState!==null||Sl,!p){l=l!==null&&l.memoizedState!==null||Ma,T=Sl;var U=Ma;Sl=p,(Ma=l)&&!U?YA(r,d,(d.subtreeFlags&8772)!==0):Nl(r,d),Sl=T,Ma=U}break;case 30:break;default:Nl(r,d)}}function tp(r){var l=r.alternate;l!==null&&(r.alternate=null,tp(l)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(l=r.stateNode,l!==null&&Us(l)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var ea=null,ao=!1;function BA(r,l,d){for(d=d.child;d!==null;)Cf(r,l,d),d=d.sibling}function Cf(r,l,d){if(yt&&typeof yt.onCommitFiberUnmount=="function")try{yt.onCommitFiberUnmount(Ke,d)}catch{}switch(d.tag){case 26:Ma||ro(d,l),BA(r,l,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:Ma||ro(d,l);var p=ea,T=ao;cd(d.type)&&(ea=d.stateNode,ao=!1),BA(r,l,d),lp(d.stateNode),ea=p,ao=T;break;case 5:Ma||ro(d,l);case 6:if(p=ea,T=ao,ea=null,BA(r,l,d),ea=p,ao=T,ea!==null)if(ao)try{(ea.nodeType===9?ea.body:ea.nodeName==="HTML"?ea.ownerDocument.body:ea).removeChild(d.stateNode)}catch(U){Ir(d,l,U)}else try{ea.removeChild(d.stateNode)}catch(U){Ir(d,l,U)}break;case 18:ea!==null&&(ao?(r=ea,dj(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,d.stateNode),Uf(r)):dj(ea,d.stateNode));break;case 4:p=ea,T=ao,ea=d.stateNode.containerInfo,ao=!0,BA(r,l,d),ea=p,ao=T;break;case 0:case 11:case 14:case 15:Tc(2,d,l),Ma||Tc(4,d,l),BA(r,l,d);break;case 1:Ma||(ro(d,l),p=d.stateNode,typeof p.componentWillUnmount=="function"&&n0(d,l,p)),BA(r,l,d);break;case 21:BA(r,l,d);break;case 22:Ma=(p=Ma)||d.memoizedState!==null,BA(r,l,d),Ma=p;break;default:BA(r,l,d)}}function np(r,l){if(l.memoizedState===null&&(r=l.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{Uf(r)}catch(d){Ir(l,l.return,d)}}}function l0(r,l){if(l.memoizedState===null&&(r=l.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Uf(r)}catch(d){Ir(l,l.return,d)}}function A0(r){switch(r.tag){case 31:case 13:case 19:var l=r.stateNode;return l===null&&(l=r.stateNode=new a0),l;case 22:return r=r.stateNode,l=r._retryCache,l===null&&(l=r._retryCache=new a0),l;default:throw Error(s(435,r.tag))}}function Sf(r,l){var d=A0(r);l.forEach(function(p){if(!d.has(p)){d.add(p);var T=f_.bind(null,r,p);p.then(T,T)}})}function Ro(r,l){var d=l.deletions;if(d!==null)for(var p=0;p<d.length;p++){var T=d[p],U=r,q=l,ve=q;e:for(;ve!==null;){switch(ve.tag){case 27:if(cd(ve.type)){ea=ve.stateNode,ao=!1;break e}break;case 5:ea=ve.stateNode,ao=!1;break e;case 3:case 4:ea=ve.stateNode.containerInfo,ao=!0;break e}ve=ve.return}if(ea===null)throw Error(s(160));Cf(U,q,T),ea=null,ao=!1,U=T.alternate,U!==null&&(U.return=null),T.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)jh(l,r),l=l.sibling}var Xl=null;function jh(r,l){var d=r.alternate,p=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Ro(l,r),Kr(r),p&4&&(Tc(3,r,r.return),Au(3,r),Tc(5,r,r.return));break;case 1:Ro(l,r),Kr(r),p&512&&(Ma||d===null||ro(d,d.return)),p&64&&Sl&&(r=r.updateQueue,r!==null&&(p=r.callbacks,p!==null&&(d=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=d===null?p:d.concat(p))));break;case 26:var T=Xl;if(Ro(l,r),Kr(r),p&512&&(Ma||d===null||ro(d,d.return)),p&4){var U=d!==null?d.memoizedState:null;if(p=r.memoizedState,d===null)if(p===null)if(r.stateNode===null){e:{p=r.type,d=r.memoizedProps,T=T.ownerDocument||T;t:switch(p){case"title":U=T.getElementsByTagName("title")[0],(!U||U[In]||U[Yt]||U.namespaceURI==="http://www.w3.org/2000/svg"||U.hasAttribute("itemprop"))&&(U=T.createElement(p),T.head.insertBefore(U,T.querySelector("head > title"))),oo(U,p,d),U[Yt]=r,zs(U),p=U;break e;case"link":var q=jj("link","href",T).get(p+(d.href||""));if(q){for(var ve=0;ve<q.length;ve++)if(U=q[ve],U.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&U.getAttribute("rel")===(d.rel==null?null:d.rel)&&U.getAttribute("title")===(d.title==null?null:d.title)&&U.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){q.splice(ve,1);break t}}U=T.createElement(p),oo(U,p,d),T.head.appendChild(U);break;case"meta":if(q=jj("meta","content",T).get(p+(d.content||""))){for(ve=0;ve<q.length;ve++)if(U=q[ve],U.getAttribute("content")===(d.content==null?null:""+d.content)&&U.getAttribute("name")===(d.name==null?null:d.name)&&U.getAttribute("property")===(d.property==null?null:d.property)&&U.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&U.getAttribute("charset")===(d.charSet==null?null:d.charSet)){q.splice(ve,1);break t}}U=T.createElement(p),oo(U,p,d),T.head.appendChild(U);break;default:throw Error(s(468,p))}U[Yt]=r,zs(U),p=U}r.stateNode=p}else Bj(T,r.type,r.stateNode);else r.stateNode=wj(T,p,r.memoizedProps);else U!==p?(U===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):U.count--,p===null?Bj(T,r.type,r.stateNode):wj(T,p,r.memoizedProps)):p===null&&r.stateNode!==null&&Uo(r,r.memoizedProps,d.memoizedProps)}break;case 27:Ro(l,r),Kr(r),p&512&&(Ma||d===null||ro(d,d.return)),d!==null&&p&4&&Uo(r,r.memoizedProps,d.memoizedProps);break;case 5:if(Ro(l,r),Kr(r),p&512&&(Ma||d===null||ro(d,d.return)),r.flags&32){T=r.stateNode;try{Qs(T,"")}catch(jn){Ir(r,r.return,jn)}}p&4&&r.stateNode!=null&&(T=r.memoizedProps,Uo(r,T,d!==null?d.memoizedProps:T)),p&1024&&(id=!0);break;case 6:if(Ro(l,r),Kr(r),p&4){if(r.stateNode===null)throw Error(s(162));p=r.memoizedProps,d=r.stateNode;try{d.nodeValue=p}catch(jn){Ir(r,r.return,jn)}}break;case 3:if(j0=null,T=Xl,Xl=b0(l.containerInfo),Ro(l,r),Xl=T,Kr(r),p&4&&d!==null&&d.memoizedState.isDehydrated)try{Uf(l.containerInfo)}catch(jn){Ir(r,r.return,jn)}id&&(id=!1,sp(r));break;case 4:p=Xl,Xl=b0(r.stateNode.containerInfo),Ro(l,r),Kr(r),Xl=p;break;case 12:Ro(l,r),Kr(r);break;case 31:Ro(l,r),Kr(r),p&4&&(p=r.updateQueue,p!==null&&(r.updateQueue=null,Sf(r,p)));break;case 13:Ro(l,r),Kr(r),r.child.flags&8192&&r.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(Ye=Gt()),p&4&&(p=r.updateQueue,p!==null&&(r.updateQueue=null,Sf(r,p)));break;case 22:T=r.memoizedState!==null;var Fe=d!==null&&d.memoizedState!==null,et=Sl,pt=Ma;if(Sl=et||T,Ma=pt||Fe,Ro(l,r),Ma=pt,Sl=et,Kr(r),p&8192)e:for(l=r.stateNode,l._visibility=T?l._visibility&-2:l._visibility|1,T&&(d===null||Fe||Sl||Ma||uu(r)),d=null,l=r;;){if(l.tag===5||l.tag===26){if(d===null){Fe=d=l;try{if(U=Fe.stateNode,T)q=U.style,typeof q.setProperty=="function"?q.setProperty("display","none","important"):q.display="none";else{ve=Fe.stateNode;var Bt=Fe.memoizedProps.style,nt=Bt!=null&&Bt.hasOwnProperty("display")?Bt.display:null;ve.style.display=nt==null||typeof nt=="boolean"?"":(""+nt).trim()}}catch(jn){Ir(Fe,Fe.return,jn)}}}else if(l.tag===6){if(d===null){Fe=l;try{Fe.stateNode.nodeValue=T?"":Fe.memoizedProps}catch(jn){Ir(Fe,Fe.return,jn)}}}else if(l.tag===18){if(d===null){Fe=l;try{var it=Fe.stateNode;T?hj(it,!0):hj(Fe.stateNode,!1)}catch(jn){Ir(Fe,Fe.return,jn)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===r)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===r)break e;for(;l.sibling===null;){if(l.return===null||l.return===r)break e;d===l&&(d=null),l=l.return}d===l&&(d=null),l.sibling.return=l.return,l=l.sibling}p&4&&(p=r.updateQueue,p!==null&&(d=p.retryQueue,d!==null&&(p.retryQueue=null,Sf(r,d))));break;case 19:Ro(l,r),Kr(r),p&4&&(p=r.updateQueue,p!==null&&(r.updateQueue=null,Sf(r,p)));break;case 30:break;case 21:break;default:Ro(l,r),Kr(r)}}function Kr(r){var l=r.flags;if(l&2){try{for(var d,p=r.return;p!==null;){if(s0(p)){d=p;break}p=p.return}if(d==null)throw Error(s(160));switch(d.tag){case 27:var T=d.stateNode,U=Zs(r);cu(r,U,T);break;case 5:var q=d.stateNode;d.flags&32&&(Qs(q,""),d.flags&=-33);var ve=Zs(r);cu(r,ve,q);break;case 3:case 4:var Fe=d.stateNode.containerInfo,et=Zs(r);Dr(r,et,Fe);break;default:throw Error(s(161))}}catch(pt){Ir(r,r.return,pt)}r.flags&=-3}l&4096&&(r.flags&=-4097)}function sp(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var l=r;sp(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),r=r.sibling}}function Nl(r,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)o0(r,l.alternate,l),l=l.sibling}function uu(r){for(r=r.child;r!==null;){var l=r;switch(l.tag){case 0:case 11:case 14:case 15:Tc(4,l,l.return),uu(l);break;case 1:ro(l,l.return);var d=l.stateNode;typeof d.componentWillUnmount=="function"&&n0(l,l.return,d),uu(l);break;case 27:lp(l.stateNode);case 26:case 5:ro(l,l.return),uu(l);break;case 22:l.memoizedState===null&&uu(l);break;case 30:uu(l);break;default:uu(l)}r=r.sibling}}function YA(r,l,d){for(d=d&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var p=l.alternate,T=r,U=l,q=U.flags;switch(U.tag){case 0:case 11:case 15:YA(T,U,d),Au(4,U);break;case 1:if(YA(T,U,d),p=U,T=p.stateNode,typeof T.componentDidMount=="function")try{T.componentDidMount()}catch(et){Ir(p,p.return,et)}if(p=U,T=p.updateQueue,T!==null){var ve=p.stateNode;try{var Fe=T.shared.hiddenCallbacks;if(Fe!==null)for(T.shared.hiddenCallbacks=null,T=0;T<Fe.length;T++)fi(Fe[T],ve)}catch(et){Ir(p,p.return,et)}}d&&q&64&&Bf(U),tn(U,U.return);break;case 27:r0(U);case 26:case 5:YA(T,U,d),d&&p===null&&q&4&&wh(U),tn(U,U.return);break;case 12:YA(T,U,d);break;case 31:YA(T,U,d),d&&q&4&&np(T,U);break;case 13:YA(T,U,d),d&&q&4&&l0(T,U);break;case 22:U.memoizedState===null&&YA(T,U,d),tn(U,U.return);break;case 30:break;default:YA(T,U,d)}l=l.sibling}}function Bh(r,l){var d=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),r=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(r=l.memoizedState.cachePool.pool),r!==d&&(r!=null&&r.refCount++,d!=null&&nu(d))}function Ic(r,l){r=null,l.alternate!==null&&(r=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==r&&(l.refCount++,r!=null&&nu(r))}function Do(r,l,d,p){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)c0(r,l,d,p),l=l.sibling}function c0(r,l,d,p){var T=l.flags;switch(l.tag){case 0:case 11:case 15:Do(r,l,d,p),T&2048&&Au(9,l);break;case 1:Do(r,l,d,p);break;case 3:Do(r,l,d,p),T&2048&&(r=null,l.alternate!==null&&(r=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==r&&(l.refCount++,r!=null&&nu(r)));break;case 12:if(T&2048){Do(r,l,d,p),r=l.stateNode;try{var U=l.memoizedProps,q=U.id,ve=U.onPostCommit;typeof ve=="function"&&ve(q,l.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(Fe){Ir(l,l.return,Fe)}}else Do(r,l,d,p);break;case 31:Do(r,l,d,p);break;case 13:Do(r,l,d,p);break;case 23:break;case 22:U=l.stateNode,q=l.alternate,l.memoizedState!==null?U._visibility&2?Do(r,l,d,p):Ch(r,l):U._visibility&2?Do(r,l,d,p):(U._visibility|=2,Jl(r,l,d,p,(l.subtreeFlags&10256)!==0||!1)),T&2048&&Bh(q,l);break;case 24:Do(r,l,d,p),T&2048&&Ic(l.alternate,l);break;default:Do(r,l,d,p)}}function Jl(r,l,d,p,T){for(T=T&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var U=r,q=l,ve=d,Fe=p,et=q.flags;switch(q.tag){case 0:case 11:case 15:Jl(U,q,ve,Fe,T),Au(8,q);break;case 23:break;case 22:var pt=q.stateNode;q.memoizedState!==null?pt._visibility&2?Jl(U,q,ve,Fe,T):Ch(U,q):(pt._visibility|=2,Jl(U,q,ve,Fe,T)),T&&et&2048&&Bh(q.alternate,q);break;case 24:Jl(U,q,ve,Fe,T),T&&et&2048&&Ic(q.alternate,q);break;default:Jl(U,q,ve,Fe,T)}l=l.sibling}}function Ch(r,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var d=r,p=l,T=p.flags;switch(p.tag){case 22:Ch(d,p),T&2048&&Bh(p.alternate,p);break;case 24:Ch(d,p),T&2048&&Ic(p.alternate,p);break;default:Ch(d,p)}l=l.sibling}}var Sh=8192;function du(r,l,d){if(r.subtreeFlags&Sh)for(r=r.child;r!==null;)u0(r,l,d),r=r.sibling}function u0(r,l,d){switch(r.tag){case 26:du(r,l,d),r.flags&Sh&&r.memoizedState!==null&&z_(d,Xl,r.memoizedState,r.memoizedProps);break;case 5:du(r,l,d);break;case 3:case 4:var p=Xl;Xl=b0(r.stateNode.containerInfo),du(r,l,d),Xl=p;break;case 22:r.memoizedState===null&&(p=r.alternate,p!==null&&p.memoizedState!==null?(p=Sh,Sh=16777216,du(r,l,d),Sh=p):du(r,l,d));break;default:du(r,l,d)}}function rp(r){var l=r.alternate;if(l!==null&&(r=l.child,r!==null)){l.child=null;do l=r.sibling,r.sibling=null,r=l;while(r!==null)}}function Nh(r){var l=r.deletions;if((r.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];gi=p,h0(p,r)}rp(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)d0(r),r=r.sibling}function d0(r){switch(r.tag){case 0:case 11:case 15:Nh(r),r.flags&2048&&Tc(9,r,r.return);break;case 3:Nh(r);break;case 12:Nh(r);break;case 22:var l=r.stateNode;r.memoizedState!==null&&l._visibility&2&&(r.return===null||r.return.tag!==13)?(l._visibility&=-3,Nf(r)):Nh(r);break;default:Nh(r)}}function Nf(r){var l=r.deletions;if((r.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];gi=p,h0(p,r)}rp(r)}for(r=r.child;r!==null;){switch(l=r,l.tag){case 0:case 11:case 15:Tc(8,l,l.return),Nf(l);break;case 22:d=l.stateNode,d._visibility&2&&(d._visibility&=-3,Nf(l));break;default:Nf(l)}r=r.sibling}}function h0(r,l){for(;gi!==null;){var d=gi;switch(d.tag){case 0:case 11:case 15:Tc(8,d,l);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var p=d.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:nu(d.memoizedState.cache)}if(p=d.child,p!==null)p.return=d,gi=p;else e:for(d=r;gi!==null;){p=gi;var T=p.sibling,U=p.return;if(tp(p),p===d){gi=null;break e}if(T!==null){T.return=U,gi=T;break e}gi=U}}}var zx={getCacheForType:function(r){var l=Za(aa),d=l.data.get(r);return d===void 0&&(d=r(),l.data.set(r,d)),d},cacheSignal:function(){return Za(aa).controller.signal}},Gx=typeof WeakMap=="function"?WeakMap:Map,or=0,Er=null,Cs=null,_s=0,pr=0,il=null,_c=!1,od=!1,j=!1,x=0,C=0,B=0,$=0,Z=0,ue=0,Be=0,Ce=null,Re=null,Me=!1,Ye=0,ct=0,rn=1/0,Kt=null,Jt=null,En=0,fn=null,dn=null,vs=0,ds=0,Xn=null,An=null,ws=0,Fs=null;function Fn(){return(or&2)!==0&&_s!==0?_s&-_s:J.T!==null?Xx():Rt()}function Ia(){if(ue===0)if((_s&536870912)===0||Bs){var r=yn;yn<<=1,(yn&3932160)===0&&(yn=262144),ue=r}else ue=536870912;return r=kr.current,r!==null&&(r.flags|=32),ue}function Tr(r,l,d){(r===Er&&(pr===2||pr===9)||r.cancelPendingCommit!==null)&&(El(r,0),io(r,_s,ue,!1)),cn(r,d),((or&2)===0||r!==Er)&&(r===Er&&((or&2)===0&&($|=d),C===4&&io(r,_s,ue,!1)),Rc(r))}function Lo(r,l,d){if((or&6)!==0)throw Error(s(327));var p=!d&&(l&127)===0&&(l&r.expiredLanes)===0||qt(r,l),T=p?ld(r,l):XA(r,l,!0),U=p;do{if(T===0){od&&!p&&io(r,l,0,!1);break}else{if(d=r.current.alternate,U&&!Di(d)){T=XA(r,l,!1),U=!1;continue}if(T===2){if(U=l,r.errorRecoveryDisabledLanes&U)var q=0;else q=r.pendingLanes&-536870913,q=q!==0?q:q&536870912?536870912:0;if(q!==0){l=q;e:{var ve=r;T=Ce;var Fe=ve.current.memoizedState.isDehydrated;if(Fe&&(El(ve,q).flags|=256),q=XA(ve,q,!1),q!==2){if(j&&!Fe){ve.errorRecoveryDisabledLanes|=U,$|=U,T=4;break e}U=Re,Re=T,U!==null&&(Re===null?Re=U:Re.push.apply(Re,U))}T=q}if(U=!1,T!==2)continue}}if(T===1){El(r,0),io(r,l,0,!0);break}e:{switch(p=r,U=T,U){case 0:case 1:throw Error(s(345));case 4:if((l&4194048)!==l)break;case 6:io(p,l,ue,!_c);break e;case 2:Re=null;break;case 3:case 5:break;default:throw Error(s(329))}if((l&62914560)===l&&(T=Ye+300-Gt(),10<T)){if(io(p,l,ue,!_c),Ot(p,0,!0)!==0)break e;vs=l,p.timeoutHandle=cj(gr.bind(null,p,d,Re,Kt,Me,l,ue,$,Be,_c,U,"Throttled",-0,0),T);break e}gr(p,d,Re,Kt,Me,l,ue,$,Be,_c,U,null,-0,0)}}break}while(!0);Rc(r)}function gr(r,l,d,p,T,U,q,ve,Fe,et,pt,Bt,nt,it){if(r.timeoutHandle=-1,Bt=l.subtreeFlags,Bt&8192||(Bt&16785408)===16785408){Bt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Xi},u0(l,U,Bt);var jn=(U&62914560)===U?Ye-Gt():(U&4194048)===U?ct-Gt():0;if(jn=G_(Bt,jn),jn!==null){vs=U,r.cancelPendingCommit=jn(H2.bind(null,r,l,U,d,p,T,q,ve,Fe,pt,Bt,null,nt,it)),io(r,U,q,!et);return}}H2(r,l,U,d,p,T,q,ve,Fe)}function Di(r){for(var l=r;;){var d=l.tag;if((d===0||d===11||d===15)&&l.flags&16384&&(d=l.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var p=0;p<d.length;p++){var T=d[p],U=T.getSnapshot;T=T.value;try{if(!Es(U(),T))return!1}catch{return!1}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===r)break;for(;l.sibling===null;){if(l.return===null||l.return===r)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function io(r,l,d,p){l&=~Z,l&=~$,r.suspendedLanes|=l,r.pingedLanes&=~l,p&&(r.warmLanes|=l),p=r.expirationTimes;for(var T=l;0<T;){var U=31-ot(T),q=1<<U;p[U]=-1,T&=~q}d!==0&&Ua(r,d,l)}function Li(){return(or&6)===0?(ap(0),!1):!0}function Gi(){if(Cs!==null){if(pr===0)var r=Cs.return;else r=Cs,bl=pA=null,ru(r),jt=null,wn=0,r=Cs;for(;r!==null;)t0(r.alternate,r),r=r.return;Cs=null}}function El(r,l){var d=r.timeoutHandle;d!==-1&&(r.timeoutHandle=-1,E_(d)),d=r.cancelPendingCommit,d!==null&&(r.cancelPendingCommit=null,d()),vs=0,Gi(),Er=r,Cs=d=Co(r.current,null),_s=l,pr=0,il=null,_c=!1,od=qt(r,l),j=!1,Be=ue=Z=$=B=C=0,Re=Ce=null,Me=!1,(l&8)!==0&&(l|=l&32);var p=r.entangledLanes;if(p!==0)for(r=r.entanglements,p&=l;0<p;){var T=31-ot(p),U=1<<T;l|=r[T],p&=~U}return x=l,Jc(),d}function ql(r,l){Ln=null,J.H=hh,l===Qe||l===Ne?(l=gt(),pr=3):l===Je?(l=gt(),pr=4):pr=l===Km?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,il=l,Cs===null&&(C=1,ph(r,So(l,r.current)))}function WA(){var r=kr.current;return r===null?!0:(_s&4194048)===_s?Is===null:(_s&62914560)===_s||(_s&536870912)!==0?r===Is:!1}function Fc(){var r=J.H;return J.H=hh,r===null?hh:r}function Uc(){var r=J.A;return J.A=zx,r}function Tl(){C=4,_c||(_s&4194048)!==_s&&kr.current!==null||(od=!0),(B&134217727)===0&&($&134217727)===0||Er===null||io(Er,_s,ue,!1)}function XA(r,l,d){var p=or;or|=2;var T=Fc(),U=Uc();(Er!==r||_s!==l)&&(Kt=null,El(r,l)),l=!1;var q=C;e:do try{if(pr!==0&&Cs!==null){var ve=Cs,Fe=il;switch(pr){case 8:Gi(),q=6;break e;case 3:case 2:case 9:case 6:kr.current===null&&(l=!0);var et=pr;if(pr=0,il=null,Ef(r,ve,Fe,et),d&&od){q=0;break e}break;default:et=pr,pr=0,il=null,Ef(r,ve,Fe,et)}}JA(),q=C;break}catch(pt){ql(r,pt)}while(!0);return l&&r.shellSuspendCounter++,bl=pA=null,or=p,J.H=T,J.A=U,Cs===null&&(Er=null,_s=0,Jc()),q}function JA(){for(;Cs!==null;)P2(Cs)}function ld(r,l){var d=or;or|=2;var p=Fc(),T=Uc();Er!==r||_s!==l?(Kt=null,rn=Gt()+500,El(r,l)):od=qt(r,l);e:do try{if(pr!==0&&Cs!==null){l=Cs;var U=il;t:switch(pr){case 1:pr=0,il=null,Ef(r,l,U,1);break;case 2:case 9:if(ke(U)){pr=0,il=null,k2(l);break}l=function(){pr!==2&&pr!==9||Er!==r||(pr=7),Rc(r)},U.then(l,l);break e;case 3:pr=7;break e;case 4:pr=5;break e;case 7:ke(U)?(pr=0,il=null,k2(l)):(pr=0,il=null,Ef(r,l,U,7));break;case 5:var q=null;switch(Cs.tag){case 26:q=Cs.memoizedState;case 5:case 27:var ve=Cs;if(q?Cj(q):ve.stateNode.complete){pr=0,il=null;var Fe=ve.sibling;if(Fe!==null)Cs=Fe;else{var et=ve.return;et!==null?(Cs=et,f0(et)):Cs=null}break t}}pr=0,il=null,Ef(r,l,U,5);break;case 6:pr=0,il=null,Ef(r,l,U,6);break;case 8:Gi(),C=6;break e;default:throw Error(s(462))}}Eh();break}catch(pt){ql(r,pt)}while(!0);return bl=pA=null,J.H=p,J.A=T,or=d,Cs!==null?0:(Er=null,_s=0,Jc(),C)}function Eh(){for(;Cs!==null&&!Qt();)P2(Cs)}function P2(r){var l=jf(r.alternate,r,x);r.memoizedProps=r.pendingProps,l===null?f0(r):Cs=l}function k2(r){var l=r,d=l.alternate;switch(l.tag){case 15:case 0:l=ad(d,l,l.pendingProps,l.type,void 0,_s);break;case 11:l=ad(d,l,l.pendingProps,l.type.render,l.ref,_s);break;case 5:ru(l);default:t0(d,l),l=Cs=Zc(l,x),l=jf(d,l,x)}r.memoizedProps=r.pendingProps,l===null?f0(r):Cs=l}function Ef(r,l,d,p){bl=pA=null,ru(l),jt=null,wn=0;var T=l.return;try{if(Hx(r,T,l,d,_s)){C=1,ph(r,So(d,r.current)),Cs=null;return}}catch(U){if(T!==null)throw Cs=T,U;C=1,ph(r,So(d,r.current)),Cs=null;return}l.flags&32768?(Bs||p===1?r=!0:od||(_s&536870912)!==0?r=!1:(_c=r=!0,(p===2||p===9||p===3||p===6)&&(p=kr.current,p!==null&&p.tag===13&&(p.flags|=16384))),M2(l,r)):f0(l)}function f0(r){var l=r;do{if((l.flags&32768)!==0){M2(l,_c);return}r=l.return;var d=Vx(l.alternate,l,x);if(d!==null){Cs=d;return}if(l=l.sibling,l!==null){Cs=l;return}Cs=l=r}while(l!==null);C===0&&(C=5)}function M2(r,l){do{var d=Kx(r.alternate,r);if(d!==null){d.flags&=32767,Cs=d;return}if(d=r.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!l&&(r=r.sibling,r!==null)){Cs=r;return}Cs=r=d}while(r!==null);C=6,Cs=null}function H2(r,l,d,p,T,U,q,ve,Fe){r.cancelPendingCommit=null;do m0();while(En!==0);if((or&6)!==0)throw Error(s(327));if(l!==null){if(l===r.current)throw Error(s(177));if(U=l.lanes|l.childLanes,U|=Qu,ri(r,d,U,q,ve,Fe),r===Er&&(Cs=Er=null,_s=0),dn=l,fn=r,vs=d,ds=U,Xn=T,An=p,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,m_(xt,function(){return $2(),null})):(r.callbackNode=null,r.callbackPriority=0),p=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||p){p=J.T,J.T=null,T=re.p,re.p=2,q=or,or|=4;try{i0(r,l,d)}finally{or=q,re.p=T,J.T=p}}En=1,V2(),K2(),z2()}}function V2(){if(En===1){En=0;var r=fn,l=dn,d=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||d){d=J.T,J.T=null;var p=re.p;re.p=2;var T=or;or|=4;try{jh(l,r);var U=ry,q=pl(r.containerInfo),ve=U.focusedElem,Fe=U.selectionRange;if(q!==ve&&ve&&ve.ownerDocument&&tl(ve.ownerDocument.documentElement,ve)){if(Fe!==null&&gl(ve)){var et=Fe.start,pt=Fe.end;if(pt===void 0&&(pt=et),"selectionStart"in ve)ve.selectionStart=et,ve.selectionEnd=Math.min(pt,ve.value.length);else{var Bt=ve.ownerDocument||document,nt=Bt&&Bt.defaultView||window;if(nt.getSelection){var it=nt.getSelection(),jn=ve.textContent.length,Jn=Math.min(Fe.start,jn),Qr=Fe.end===void 0?Jn:Math.min(Fe.end,jn);!it.extend&&Jn>Qr&&(q=Qr,Qr=Jn,Jn=q);var Ge=OA(ve,Jn),Oe=OA(ve,Qr);if(Ge&&Oe&&(it.rangeCount!==1||it.anchorNode!==Ge.node||it.anchorOffset!==Ge.offset||it.focusNode!==Oe.node||it.focusOffset!==Oe.offset)){var Ze=Bt.createRange();Ze.setStart(Ge.node,Ge.offset),it.removeAllRanges(),Jn>Qr?(it.addRange(Ze),it.extend(Oe.node,Oe.offset)):(Ze.setEnd(Oe.node,Oe.offset),it.addRange(Ze))}}}}for(Bt=[],it=ve;it=it.parentNode;)it.nodeType===1&&Bt.push({element:it,left:it.scrollLeft,top:it.scrollTop});for(typeof ve.focus=="function"&&ve.focus(),ve=0;ve<Bt.length;ve++){var wt=Bt[ve];wt.element.scrollLeft=wt.left,wt.element.scrollTop=wt.top}}N0=!!sy,ry=sy=null}finally{or=T,re.p=p,J.T=d}}r.current=l,En=2}}function K2(){if(En===2){En=0;var r=fn,l=dn,d=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||d){d=J.T,J.T=null;var p=re.p;re.p=2;var T=or;or|=4;try{o0(r,l.alternate,l)}finally{or=T,re.p=p,J.T=d}}En=3}}function z2(){if(En===4||En===3){En=0,Pt();var r=fn,l=dn,d=vs,p=An;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?En=5:(En=0,dn=fn=null,G2(r,r.pendingLanes));var T=r.pendingLanes;if(T===0&&(Jt=null),Le(d),l=l.stateNode,yt&&typeof yt.onCommitFiberRoot=="function")try{yt.onCommitFiberRoot(Ke,l,void 0,(l.current.flags&128)===128)}catch{}if(p!==null){l=J.T,T=re.p,re.p=2,J.T=null;try{for(var U=r.onRecoverableError,q=0;q<p.length;q++){var ve=p[q];U(ve.value,{componentStack:ve.stack})}}finally{J.T=l,re.p=T}}(vs&3)!==0&&m0(),Rc(r),T=r.pendingLanes,(d&261930)!==0&&(T&42)!==0?r===Fs?ws++:(ws=0,Fs=r):ws=0,ap(0)}}function G2(r,l){(r.pooledCacheLanes&=l)===0&&(l=r.pooledCache,l!=null&&(r.pooledCache=null,nu(l)))}function m0(){return V2(),K2(),z2(),$2()}function $2(){if(En!==5)return!1;var r=fn,l=ds;ds=0;var d=Le(vs),p=J.T,T=re.p;try{re.p=32>d?32:d,J.T=null,d=Xn,Xn=null;var U=fn,q=vs;if(En=0,dn=fn=null,vs=0,(or&6)!==0)throw Error(s(331));var ve=or;if(or|=4,d0(U.current),c0(U,U.current,q,d),or=ve,ap(0,!1),yt&&typeof yt.onPostCommitFiberRoot=="function")try{yt.onPostCommitFiberRoot(Ke,U)}catch{}return!0}finally{re.p=T,J.T=p,G2(r,l)}}function Y2(r,l,d){l=So(d,l),l=Mm(r.stateNode,l,2),r=Yn(r,l,2),r!==null&&(cn(r,2),Rc(r))}function Ir(r,l,d){if(r.tag===3)Y2(r,r,d);else for(;l!==null;){if(l.tag===3){Y2(l,r,d);break}else if(l.tag===1){var p=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Jt===null||!Jt.has(p))){r=So(d,r),d=Hm(2),p=Yn(l,d,2),p!==null&&(Vm(d,p,l,r),cn(p,2),Rc(p));break}}l=l.return}}function $x(r,l,d){var p=r.pingCache;if(p===null){p=r.pingCache=new Gx;var T=new Set;p.set(l,T)}else T=p.get(l),T===void 0&&(T=new Set,p.set(l,T));T.has(d)||(j=!0,T.add(d),r=d_.bind(null,r,l,d),l.then(r,r))}function d_(r,l,d){var p=r.pingCache;p!==null&&p.delete(l),r.pingedLanes|=r.suspendedLanes&d,r.warmLanes&=~d,Er===r&&(_s&d)===d&&(C===4||C===3&&(_s&62914560)===_s&&300>Gt()-Ye?(or&2)===0&&El(r,0):Z|=d,Be===_s&&(Be=0)),Rc(r)}function W2(r,l){l===0&&(l=cs()),r=xl(r,l),r!==null&&(cn(r,l),Rc(r))}function h_(r){var l=r.memoizedState,d=0;l!==null&&(d=l.retryLane),W2(r,d)}function f_(r,l){var d=0;switch(r.tag){case 31:case 13:var p=r.stateNode,T=r.memoizedState;T!==null&&(d=T.retryLane);break;case 19:p=r.stateNode;break;case 22:p=r.stateNode._retryCache;break;default:throw Error(s(314))}p!==null&&p.delete(l),W2(r,d)}function m_(r,l){return We(r,l)}var p0=null,Tf=null,Yx=!1,g0=!1,Wx=!1,Ad=0;function Rc(r){r!==Tf&&r.next===null&&(Tf===null?p0=Tf=r:Tf=Tf.next=r),g0=!0,Yx||(Yx=!0,g_())}function ap(r,l){if(!Wx&&g0){Wx=!0;do for(var d=!1,p=p0;p!==null;){if(r!==0){var T=p.pendingLanes;if(T===0)var U=0;else{var q=p.suspendedLanes,ve=p.pingedLanes;U=(1<<31-ot(42|r)+1)-1,U&=T&~(q&~ve),U=U&201326741?U&201326741|1:U?U|2:0}U!==0&&(d=!0,Z2(p,U))}else U=_s,U=Ot(p,p===Er?U:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(U&3)===0||qt(p,U)||(d=!0,Z2(p,U));p=p.next}while(d);Wx=!1}}function p_(){X2()}function X2(){g0=Yx=!1;var r=0;Ad!==0&&N_()&&(r=Ad);for(var l=Gt(),d=null,p=p0;p!==null;){var T=p.next,U=J2(p,l);U===0?(p.next=null,d===null?p0=T:d.next=T,T===null&&(Tf=d)):(d=p,(r!==0||(U&3)!==0)&&(g0=!0)),p=T}En!==0&&En!==5||ap(r),Ad!==0&&(Ad=0)}function J2(r,l){for(var d=r.suspendedLanes,p=r.pingedLanes,T=r.expirationTimes,U=r.pendingLanes&-62914561;0<U;){var q=31-ot(U),ve=1<<q,Fe=T[q];Fe===-1?((ve&d)===0||(ve&p)!==0)&&(T[q]=on(ve,l)):Fe<=l&&(r.expiredLanes|=ve),U&=~ve}if(l=Er,d=_s,d=Ot(r,r===l?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),p=r.callbackNode,d===0||r===l&&(pr===2||pr===9)||r.cancelPendingCommit!==null)return p!==null&&p!==null&&dt(p),r.callbackNode=null,r.callbackPriority=0;if((d&3)===0||qt(r,d)){if(l=d&-d,l===r.callbackPriority)return l;switch(p!==null&&dt(p),Le(d)){case 2:case 8:d=Nn;break;case 32:d=xt;break;case 268435456:d=$t;break;default:d=xt}return p=q2.bind(null,r),d=We(d,p),r.callbackPriority=l,r.callbackNode=d,l}return p!==null&&p!==null&&dt(p),r.callbackPriority=2,r.callbackNode=null,2}function q2(r,l){if(En!==0&&En!==5)return r.callbackNode=null,r.callbackPriority=0,null;var d=r.callbackNode;if(m0()&&r.callbackNode!==d)return null;var p=_s;return p=Ot(r,r===Er?p:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),p===0?null:(Lo(r,p,l),J2(r,Gt()),r.callbackNode!=null&&r.callbackNode===d?q2.bind(null,r):null)}function Z2(r,l){if(m0())return null;Lo(r,l,!0)}function g_(){T_(function(){(or&6)!==0?We(en,p_):X2()})}function Xx(){if(Ad===0){var r=y;r===0&&(r=zt,zt<<=1,(zt&261888)===0&&(zt=256)),Ad=r}return Ad}function ej(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Wr(""+r)}function tj(r,l){var d=l.ownerDocument.createElement("input");return d.name=l.name,d.value=l.value,r.id&&d.setAttribute("form",r.id),l.parentNode.insertBefore(d,l),r=new FormData(r),d.parentNode.removeChild(d),r}function v_(r,l,d,p,T){if(l==="submit"&&d&&d.stateNode===T){var U=ej((T[Ut]||null).action),q=p.submitter;q&&(l=(l=q[Ut]||null)?ej(l.formAction):q.getAttribute("formAction"),l!==null&&(U=l,q=null));var ve=new La("action","action",null,p,T);r.push({event:ve,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(Ad!==0){var Fe=q?tj(T,q):new FormData(T);pf(d,{pending:!0,data:Fe,method:T.method,action:U},null,Fe)}}else typeof U=="function"&&(ve.preventDefault(),Fe=q?tj(T,q):new FormData(T),pf(d,{pending:!0,data:Fe,method:T.method,action:U},U,Fe))},currentTarget:T}]})}}for(var Jx=0;Jx<uA.length;Jx++){var qx=uA[Jx],x_=qx.toLowerCase(),y_=qx[0].toUpperCase()+qx.slice(1);eo(x_,"on"+y_)}eo(PA,"onAnimationEnd"),eo(cA,"onAnimationIteration"),eo(qd,"onAnimationStart"),eo("dblclick","onDoubleClick"),eo("focusin","onFocus"),eo("focusout","onBlur"),eo(Zd,"onTransitionRun"),eo(eh,"onTransitionStart"),eo(th,"onTransitionCancel"),eo(Du,"onTransitionEnd"),ai("onMouseEnter",["mouseout","mouseover"]),ai("onMouseLeave",["mouseout","mouseover"]),ai("onPointerEnter",["pointerout","pointerover"]),ai("onPointerLeave",["pointerout","pointerover"]),da("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),da("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),da("onBeforeInput",["compositionend","keypress","textInput","paste"]),da("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),da("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),da("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ip="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),b_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ip));function nj(r,l){l=(l&4)!==0;for(var d=0;d<r.length;d++){var p=r[d],T=p.event;p=p.listeners;e:{var U=void 0;if(l)for(var q=p.length-1;0<=q;q--){var ve=p[q],Fe=ve.instance,et=ve.currentTarget;if(ve=ve.listener,Fe!==U&&T.isPropagationStopped())break e;U=ve,T.currentTarget=et;try{U(T)}catch(pt){fc(pt)}T.currentTarget=null,U=Fe}else for(q=0;q<p.length;q++){if(ve=p[q],Fe=ve.instance,et=ve.currentTarget,ve=ve.listener,Fe!==U&&T.isPropagationStopped())break e;U=ve,T.currentTarget=et;try{U(T)}catch(pt){fc(pt)}T.currentTarget=null,U=Fe}}}}function Ls(r,l){var d=l[Sn];d===void 0&&(d=l[Sn]=new Set);var p=r+"__bubble";d.has(p)||(sj(l,r,2,!1),d.add(p))}function Zx(r,l,d){var p=0;l&&(p|=4),sj(d,r,p,l)}var v0="_reactListening"+Math.random().toString(36).slice(2);function ey(r){if(!r[v0]){r[v0]=!0,Ga.forEach(function(d){d!=="selectionchange"&&(b_.has(d)||Zx(d,!1,r),Zx(d,!0,r))});var l=r.nodeType===9?r:r.ownerDocument;l===null||l[v0]||(l[v0]=!0,Zx("selectionchange",!1,l))}}function sj(r,l,d,p){switch(Fj(l)){case 2:var T=W_;break;case 8:T=X_;break;default:T=my}d=T.bind(null,l,d,r),T=void 0,!Da||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(T=!0),p?T!==void 0?r.addEventListener(l,d,{capture:!0,passive:T}):r.addEventListener(l,d,!0):T!==void 0?r.addEventListener(l,d,{passive:T}):r.addEventListener(l,d,!1)}function ty(r,l,d,p,T){var U=p;if((l&1)===0&&(l&2)===0&&p!==null)e:for(;;){if(p===null)return;var q=p.tag;if(q===3||q===4){var ve=p.stateNode.containerInfo;if(ve===T)break;if(q===4)for(q=p.return;q!==null;){var Fe=q.tag;if((Fe===3||Fe===4)&&q.stateNode.containerInfo===T)return;q=q.return}for(;ve!==null;){if(q=Ss(ve),q===null)return;if(Fe=q.tag,Fe===5||Fe===6||Fe===26||Fe===27){p=U=q;continue e}ve=ve.parentNode}}p=p.return}dl(function(){var et=U,pt=ii(d),Bt=[];e:{var nt=Lu.get(r);if(nt!==void 0){var it=La,jn=r;switch(r){case"keypress":if(Ni(d)===0)break e;case"keydown":case"keyup":it=ys;break;case"focusin":jn="focus",it=qi;break;case"focusout":jn="blur",it=qi;break;case"beforeblur":case"afterblur":it=qi;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":it=lA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":it=Ei;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":it=Y;break;case PA:case cA:case qd:it=k;break;case Du:it=be;break;case"scroll":case"scrollend":it=fl;break;case"wheel":it=tt;break;case"copy":case"cut":case"paste":it=Ee;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":it=Ar;break;case"toggle":case"beforetoggle":it=qn}var Jn=(l&4)!==0,Qr=!Jn&&(r==="scroll"||r==="scrollend"),Ge=Jn?nt!==null?nt+"Capture":null:nt;Jn=[];for(var Oe=et,Ze;Oe!==null;){var wt=Oe;if(Ze=wt.stateNode,wt=wt.tag,wt!==5&&wt!==26&&wt!==27||Ze===null||Ge===null||(wt=Sa(Oe,Ge),wt!=null&&Jn.push(op(Oe,wt,Ze))),Qr)break;Oe=Oe.return}0<Jn.length&&(nt=new it(nt,jn,null,d,pt),Bt.push({event:nt,listeners:Jn}))}}if((l&7)===0){e:{if(nt=r==="mouseover"||r==="pointerover",it=r==="mouseout"||r==="pointerout",nt&&d!==Jo&&(jn=d.relatedTarget||d.fromElement)&&(Ss(jn)||jn[vn]))break e;if((it||nt)&&(nt=pt.window===pt?pt:(nt=pt.ownerDocument)?nt.defaultView||nt.parentWindow:window,it?(jn=d.relatedTarget||d.toElement,it=et,jn=jn?Ss(jn):null,jn!==null&&(Qr=o(jn),Jn=jn.tag,jn!==Qr||Jn!==5&&Jn!==27&&Jn!==6)&&(jn=null)):(it=null,jn=et),it!==jn)){if(Jn=lA,wt="onMouseLeave",Ge="onMouseEnter",Oe="mouse",(r==="pointerout"||r==="pointerover")&&(Jn=Ar,wt="onPointerLeave",Ge="onPointerEnter",Oe="pointer"),Qr=it==null?nt:sr(it),Ze=jn==null?nt:sr(jn),nt=new Jn(wt,Oe+"leave",it,d,pt),nt.target=Qr,nt.relatedTarget=Ze,wt=null,Ss(pt)===et&&(Jn=new Jn(Ge,Oe+"enter",jn,d,pt),Jn.target=Ze,Jn.relatedTarget=Qr,wt=Jn),Qr=wt,it&&jn)t:{for(Jn=w_,Ge=it,Oe=jn,Ze=0,wt=Ge;wt;wt=Jn(wt))Ze++;wt=0;for(var Gn=Oe;Gn;Gn=Jn(Gn))wt++;for(;0<Ze-wt;)Ge=Jn(Ge),Ze--;for(;0<wt-Ze;)Oe=Jn(Oe),wt--;for(;Ze--;){if(Ge===Oe||Oe!==null&&Ge===Oe.alternate){Jn=Ge;break t}Ge=Jn(Ge),Oe=Jn(Oe)}Jn=null}else Jn=null;it!==null&&rj(Bt,nt,it,Jn,!1),jn!==null&&Qr!==null&&rj(Bt,Qr,jn,Jn,!0)}}e:{if(nt=et?sr(et):window,it=nt.nodeName&&nt.nodeName.toLowerCase(),it==="select"||it==="input"&&nt.type==="file")var cr=Bo;else if(wo(nt))if(gs)cr=Ya;else{cr=Jr;var Tn=LA}else it=nt.nodeName,!it||it.toLowerCase()!=="input"||nt.type!=="checkbox"&&nt.type!=="radio"?et&&iA(et.elementType)&&(cr=Bo):cr=Ii;if(cr&&(cr=cr(r,et))){Ps(Bt,cr,d,pt);break e}Tn&&Tn(r,nt,et),r==="focusout"&&et&&nt.type==="number"&&et.memoizedProps.value!=null&&Yi(nt,"number",nt.value)}switch(Tn=et?sr(et):window,r){case"focusin":(wo(Tn)||Tn.contentEditable==="true")&&(ra=Tn,Hl=et,ui=null);break;case"focusout":ui=Hl=ra=null;break;case"mousedown":_i=!0;break;case"contextmenu":case"mouseup":case"dragend":_i=!1,ks(Bt,d,pt);break;case"selectionchange":if(nl)break;case"keydown":case"keyup":ks(Bt,d,pt)}var xs;if(us)e:{switch(r){case"compositionstart":var Hs="onCompositionStart";break e;case"compositionend":Hs="onCompositionEnd";break e;case"compositionupdate":Hs="onCompositionUpdate";break e}Hs=void 0}else qo?Zi(r,d)&&(Hs="onCompositionEnd"):r==="keydown"&&d.keyCode===229&&(Hs="onCompositionStart");Hs&&(sa&&d.locale!=="ko"&&(qo||Hs!=="onCompositionStart"?Hs==="onCompositionEnd"&&qo&&(xs=RA()):(oi=pt,hl="value"in oi?oi.value:oi.textContent,qo=!0)),Tn=x0(et,Hs),0<Tn.length&&(Hs=new Ve(Hs,r,null,d,pt),Bt.push({event:Hs,listeners:Tn}),xs?Hs.data=xs:(xs=bo(d),xs!==null&&(Hs.data=xs)))),(xs=Na?fa(r,d):Oa(r,d))&&(Hs=x0(et,"onBeforeInput"),0<Hs.length&&(Tn=new Ve("onBeforeInput","beforeinput",null,d,pt),Bt.push({event:Tn,listeners:Hs}),Tn.data=xs)),v_(Bt,r,et,d,pt)}nj(Bt,l)})}function op(r,l,d){return{instance:r,listener:l,currentTarget:d}}function x0(r,l){for(var d=l+"Capture",p=[];r!==null;){var T=r,U=T.stateNode;if(T=T.tag,T!==5&&T!==26&&T!==27||U===null||(T=Sa(r,d),T!=null&&p.unshift(op(r,T,U)),T=Sa(r,l),T!=null&&p.push(op(r,T,U))),r.tag===3)return p;r=r.return}return[]}function w_(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function rj(r,l,d,p,T){for(var U=l._reactName,q=[];d!==null&&d!==p;){var ve=d,Fe=ve.alternate,et=ve.stateNode;if(ve=ve.tag,Fe!==null&&Fe===p)break;ve!==5&&ve!==26&&ve!==27||et===null||(Fe=et,T?(et=Sa(d,U),et!=null&&q.unshift(op(d,et,Fe))):T||(et=Sa(d,U),et!=null&&q.push(op(d,et,Fe)))),d=d.return}q.length!==0&&r.push({event:l,listeners:q})}var j_=/\r\n?/g,B_=/\u0000|\uFFFD/g;function aj(r){return(typeof r=="string"?r:""+r).replace(j_,`
`).replace(B_,"")}function ij(r,l){return l=aj(l),aj(r)===l}function Lr(r,l,d,p,T,U){switch(d){case"children":typeof p=="string"?l==="body"||l==="textarea"&&p===""||Qs(r,p):(typeof p=="number"||typeof p=="bigint")&&l!=="body"&&Qs(r,""+p);break;case"className":na(r,"class",p);break;case"tabIndex":na(r,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":na(r,d,p);break;case"style":Xo(r,p,U);break;case"data":if(l!=="object"){na(r,"data",p);break}case"src":case"href":if(p===""&&(l!=="a"||d!=="href")){r.removeAttribute(d);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){r.removeAttribute(d);break}p=Wr(""+p),r.setAttribute(d,p);break;case"action":case"formAction":if(typeof p=="function"){r.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof U=="function"&&(d==="formAction"?(l!=="input"&&Lr(r,l,"name",T.name,T,null),Lr(r,l,"formEncType",T.formEncType,T,null),Lr(r,l,"formMethod",T.formMethod,T,null),Lr(r,l,"formTarget",T.formTarget,T,null)):(Lr(r,l,"encType",T.encType,T,null),Lr(r,l,"method",T.method,T,null),Lr(r,l,"target",T.target,T,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){r.removeAttribute(d);break}p=Wr(""+p),r.setAttribute(d,p);break;case"onClick":p!=null&&(r.onclick=Xi);break;case"onScroll":p!=null&&Ls("scroll",r);break;case"onScrollEnd":p!=null&&Ls("scrollend",r);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(s(61));if(d=p.__html,d!=null){if(T.children!=null)throw Error(s(60));r.innerHTML=d}}break;case"multiple":r.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":r.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){r.removeAttribute("xlink:href");break}d=Wr(""+p),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?r.setAttribute(d,""+p):r.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?r.setAttribute(d,""):r.removeAttribute(d);break;case"capture":case"download":p===!0?r.setAttribute(d,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?r.setAttribute(d,p):r.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?r.setAttribute(d,p):r.removeAttribute(d);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?r.removeAttribute(d):r.setAttribute(d,p);break;case"popover":Ls("beforetoggle",r),Ls("toggle",r),jr(r,"popover",p);break;case"xlinkActuate":vr(r,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":vr(r,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":vr(r,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":vr(r,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":vr(r,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":vr(r,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":vr(r,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":vr(r,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":vr(r,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":jr(r,"is",p);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=Ol.get(d)||d,jr(r,d,p))}}function ny(r,l,d,p,T,U){switch(d){case"style":Xo(r,p,U);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(s(61));if(d=p.__html,d!=null){if(T.children!=null)throw Error(s(60));r.innerHTML=d}}break;case"children":typeof p=="string"?Qs(r,p):(typeof p=="number"||typeof p=="bigint")&&Qs(r,""+p);break;case"onScroll":p!=null&&Ls("scroll",r);break;case"onScrollEnd":p!=null&&Ls("scrollend",r);break;case"onClick":p!=null&&(r.onclick=Xi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yr.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(T=d.endsWith("Capture"),l=d.slice(2,T?d.length-7:void 0),U=r[Ut]||null,U=U!=null?U[d]:null,typeof U=="function"&&r.removeEventListener(l,U,T),typeof p=="function")){typeof U!="function"&&U!==null&&(d in r?r[d]=null:r.hasAttribute(d)&&r.removeAttribute(d)),r.addEventListener(l,p,T);break e}d in r?r[d]=p:p===!0?r.setAttribute(d,""):jr(r,d,p)}}}function oo(r,l,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ls("error",r),Ls("load",r);var p=!1,T=!1,U;for(U in d)if(d.hasOwnProperty(U)){var q=d[U];if(q!=null)switch(U){case"src":p=!0;break;case"srcSet":T=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,l));default:Lr(r,l,U,q,d,null)}}T&&Lr(r,l,"srcSet",d.srcSet,d,null),p&&Lr(r,l,"src",d.src,d,null);return;case"input":Ls("invalid",r);var ve=U=q=T=null,Fe=null,et=null;for(p in d)if(d.hasOwnProperty(p)){var pt=d[p];if(pt!=null)switch(p){case"name":T=pt;break;case"type":q=pt;break;case"checked":Fe=pt;break;case"defaultChecked":et=pt;break;case"value":U=pt;break;case"defaultValue":ve=pt;break;case"children":case"dangerouslySetInnerHTML":if(pt!=null)throw Error(s(137,l));break;default:Lr(r,l,p,pt,d,null)}}Si(r,U,ve,Fe,et,q,T,!1);return;case"select":Ls("invalid",r),p=q=U=null;for(T in d)if(d.hasOwnProperty(T)&&(ve=d[T],ve!=null))switch(T){case"value":U=ve;break;case"defaultValue":q=ve;break;case"multiple":p=ve;default:Lr(r,l,T,ve,d,null)}l=U,d=q,r.multiple=!!p,l!=null?Or(r,!!p,l,!1):d!=null&&Or(r,!!p,d,!0);return;case"textarea":Ls("invalid",r),U=T=p=null;for(q in d)if(d.hasOwnProperty(q)&&(ve=d[q],ve!=null))switch(q){case"value":p=ve;break;case"defaultValue":T=ve;break;case"children":U=ve;break;case"dangerouslySetInnerHTML":if(ve!=null)throw Error(s(91));break;default:Lr(r,l,q,ve,d,null)}Ur(r,p,T,U);return;case"option":for(Fe in d)if(d.hasOwnProperty(Fe)&&(p=d[Fe],p!=null))switch(Fe){case"selected":r.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:Lr(r,l,Fe,p,d,null)}return;case"dialog":Ls("beforetoggle",r),Ls("toggle",r),Ls("cancel",r),Ls("close",r);break;case"iframe":case"object":Ls("load",r);break;case"video":case"audio":for(p=0;p<ip.length;p++)Ls(ip[p],r);break;case"image":Ls("error",r),Ls("load",r);break;case"details":Ls("toggle",r);break;case"embed":case"source":case"link":Ls("error",r),Ls("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(et in d)if(d.hasOwnProperty(et)&&(p=d[et],p!=null))switch(et){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,l));default:Lr(r,l,et,p,d,null)}return;default:if(iA(l)){for(pt in d)d.hasOwnProperty(pt)&&(p=d[pt],p!==void 0&&ny(r,l,pt,p,d,void 0));return}}for(ve in d)d.hasOwnProperty(ve)&&(p=d[ve],p!=null&&Lr(r,l,ve,p,d,null))}function C_(r,l,d,p){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var T=null,U=null,q=null,ve=null,Fe=null,et=null,pt=null;for(it in d){var Bt=d[it];if(d.hasOwnProperty(it)&&Bt!=null)switch(it){case"checked":break;case"value":break;case"defaultValue":Fe=Bt;default:p.hasOwnProperty(it)||Lr(r,l,it,null,p,Bt)}}for(var nt in p){var it=p[nt];if(Bt=d[nt],p.hasOwnProperty(nt)&&(it!=null||Bt!=null))switch(nt){case"type":U=it;break;case"name":T=it;break;case"checked":et=it;break;case"defaultChecked":pt=it;break;case"value":q=it;break;case"defaultValue":ve=it;break;case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(s(137,l));break;default:it!==Bt&&Lr(r,l,nt,it,p,Bt)}}qs(r,q,ve,Fe,et,pt,U,T);return;case"select":it=q=ve=nt=null;for(U in d)if(Fe=d[U],d.hasOwnProperty(U)&&Fe!=null)switch(U){case"value":break;case"multiple":it=Fe;default:p.hasOwnProperty(U)||Lr(r,l,U,null,p,Fe)}for(T in p)if(U=p[T],Fe=d[T],p.hasOwnProperty(T)&&(U!=null||Fe!=null))switch(T){case"value":nt=U;break;case"defaultValue":ve=U;break;case"multiple":q=U;default:U!==Fe&&Lr(r,l,T,U,p,Fe)}l=ve,d=q,p=it,nt!=null?Or(r,!!d,nt,!1):!!p!=!!d&&(l!=null?Or(r,!!d,l,!0):Or(r,!!d,d?[]:"",!1));return;case"textarea":it=nt=null;for(ve in d)if(T=d[ve],d.hasOwnProperty(ve)&&T!=null&&!p.hasOwnProperty(ve))switch(ve){case"value":break;case"children":break;default:Lr(r,l,ve,null,p,T)}for(q in p)if(T=p[q],U=d[q],p.hasOwnProperty(q)&&(T!=null||U!=null))switch(q){case"value":nt=T;break;case"defaultValue":it=T;break;case"children":break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:T!==U&&Lr(r,l,q,T,p,U)}Wo(r,nt,it);return;case"option":for(var jn in d)if(nt=d[jn],d.hasOwnProperty(jn)&&nt!=null&&!p.hasOwnProperty(jn))switch(jn){case"selected":r.selected=!1;break;default:Lr(r,l,jn,null,p,nt)}for(Fe in p)if(nt=p[Fe],it=d[Fe],p.hasOwnProperty(Fe)&&nt!==it&&(nt!=null||it!=null))switch(Fe){case"selected":r.selected=nt&&typeof nt!="function"&&typeof nt!="symbol";break;default:Lr(r,l,Fe,nt,p,it)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Jn in d)nt=d[Jn],d.hasOwnProperty(Jn)&&nt!=null&&!p.hasOwnProperty(Jn)&&Lr(r,l,Jn,null,p,nt);for(et in p)if(nt=p[et],it=d[et],p.hasOwnProperty(et)&&nt!==it&&(nt!=null||it!=null))switch(et){case"children":case"dangerouslySetInnerHTML":if(nt!=null)throw Error(s(137,l));break;default:Lr(r,l,et,nt,p,it)}return;default:if(iA(l)){for(var Qr in d)nt=d[Qr],d.hasOwnProperty(Qr)&&nt!==void 0&&!p.hasOwnProperty(Qr)&&ny(r,l,Qr,void 0,p,nt);for(pt in p)nt=p[pt],it=d[pt],!p.hasOwnProperty(pt)||nt===it||nt===void 0&&it===void 0||ny(r,l,pt,nt,p,it);return}}for(var Ge in d)nt=d[Ge],d.hasOwnProperty(Ge)&&nt!=null&&!p.hasOwnProperty(Ge)&&Lr(r,l,Ge,null,p,nt);for(Bt in p)nt=p[Bt],it=d[Bt],!p.hasOwnProperty(Bt)||nt===it||nt==null&&it==null||Lr(r,l,Bt,nt,p,it)}function oj(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function S_(){if(typeof performance.getEntriesByType=="function"){for(var r=0,l=0,d=performance.getEntriesByType("resource"),p=0;p<d.length;p++){var T=d[p],U=T.transferSize,q=T.initiatorType,ve=T.duration;if(U&&ve&&oj(q)){for(q=0,ve=T.responseEnd,p+=1;p<d.length;p++){var Fe=d[p],et=Fe.startTime;if(et>ve)break;var pt=Fe.transferSize,Bt=Fe.initiatorType;pt&&oj(Bt)&&(Fe=Fe.responseEnd,q+=pt*(Fe<ve?1:(ve-et)/(Fe-et)))}if(--p,l+=8*(U+q)/(T.duration/1e3),r++,10<r)break}}if(0<r)return l/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var sy=null,ry=null;function y0(r){return r.nodeType===9?r:r.ownerDocument}function lj(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Aj(r,l){if(r===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&l==="foreignObject"?0:r}function ay(r,l){return r==="textarea"||r==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var iy=null;function N_(){var r=window.event;return r&&r.type==="popstate"?r===iy?!1:(iy=r,!0):(iy=null,!1)}var cj=typeof setTimeout=="function"?setTimeout:void 0,E_=typeof clearTimeout=="function"?clearTimeout:void 0,uj=typeof Promise=="function"?Promise:void 0,T_=typeof queueMicrotask=="function"?queueMicrotask:typeof uj<"u"?function(r){return uj.resolve(null).then(r).catch(I_)}:cj;function I_(r){setTimeout(function(){throw r})}function cd(r){return r==="head"}function dj(r,l){var d=l,p=0;do{var T=d.nextSibling;if(r.removeChild(d),T&&T.nodeType===8)if(d=T.data,d==="/$"||d==="/&"){if(p===0){r.removeChild(T),Uf(l);return}p--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")p++;else if(d==="html")lp(r.ownerDocument.documentElement);else if(d==="head"){d=r.ownerDocument.head,lp(d);for(var U=d.firstChild;U;){var q=U.nextSibling,ve=U.nodeName;U[In]||ve==="SCRIPT"||ve==="STYLE"||ve==="LINK"&&U.rel.toLowerCase()==="stylesheet"||d.removeChild(U),U=q}}else d==="body"&&lp(r.ownerDocument.body);d=T}while(d);Uf(l)}function hj(r,l){var d=r;r=0;do{var p=d.nextSibling;if(d.nodeType===1?l?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(l?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),p&&p.nodeType===8)if(d=p.data,d==="/$"){if(r===0)break;r--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||r++;d=p}while(d)}function oy(r){var l=r.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var d=l;switch(l=l.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":oy(d),Us(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}r.removeChild(d)}}function __(r,l,d,p){for(;r.nodeType===1;){var T=d;if(r.nodeName.toLowerCase()!==l.toLowerCase()){if(!p&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(p){if(!r[In])switch(l){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(U=r.getAttribute("rel"),U==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(U!==T.rel||r.getAttribute("href")!==(T.href==null||T.href===""?null:T.href)||r.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin)||r.getAttribute("title")!==(T.title==null?null:T.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(U=r.getAttribute("src"),(U!==(T.src==null?null:T.src)||r.getAttribute("type")!==(T.type==null?null:T.type)||r.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin))&&U&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(l==="input"&&r.type==="hidden"){var U=T.name==null?null:""+T.name;if(T.type==="hidden"&&r.getAttribute("name")===U)return r}else return r;if(r=CA(r.nextSibling),r===null)break}return null}function F_(r,l,d){if(l==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!d||(r=CA(r.nextSibling),r===null))return null;return r}function fj(r,l){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=CA(r.nextSibling),r===null))return null;return r}function ly(r){return r.data==="$?"||r.data==="$~"}function Ay(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function U_(r,l){var d=r.ownerDocument;if(r.data==="$~")r._reactRetry=l;else if(r.data!=="$?"||d.readyState!=="loading")l();else{var p=function(){l(),d.removeEventListener("DOMContentLoaded",p)};d.addEventListener("DOMContentLoaded",p),r._reactRetry=p}}function CA(r){for(;r!=null;r=r.nextSibling){var l=r.nodeType;if(l===1||l===3)break;if(l===8){if(l=r.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return r}var cy=null;function mj(r){r=r.nextSibling;for(var l=0;r;){if(r.nodeType===8){var d=r.data;if(d==="/$"||d==="/&"){if(l===0)return CA(r.nextSibling);l--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||l++}r=r.nextSibling}return null}function pj(r){r=r.previousSibling;for(var l=0;r;){if(r.nodeType===8){var d=r.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(l===0)return r;l--}else d!=="/$"&&d!=="/&"||l++}r=r.previousSibling}return null}function gj(r,l,d){switch(l=y0(d),r){case"html":if(r=l.documentElement,!r)throw Error(s(452));return r;case"head":if(r=l.head,!r)throw Error(s(453));return r;case"body":if(r=l.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}function lp(r){for(var l=r.attributes;l.length;)r.removeAttributeNode(l[0]);Us(r)}var SA=new Map,vj=new Set;function b0(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var hu=re.d;re.d={f:R_,r:D_,D:L_,C:Q_,L:O_,m:P_,X:M_,S:k_,M:H_};function R_(){var r=hu.f(),l=Li();return r||l}function D_(r){var l=lr(r);l!==null&&l.tag===5&&l.type==="form"?zg(l):hu.r(r)}var If=typeof document>"u"?null:document;function xj(r,l,d){var p=If;if(p&&typeof l=="string"&&l){var T=Wt(l);T='link[rel="'+r+'"][href="'+T+'"]',typeof d=="string"&&(T+='[crossorigin="'+d+'"]'),vj.has(T)||(vj.add(T),r={rel:r,crossOrigin:d,href:l},p.querySelector(T)===null&&(l=p.createElement("link"),oo(l,"link",r),zs(l),p.head.appendChild(l)))}}function L_(r){hu.D(r),xj("dns-prefetch",r,null)}function Q_(r,l){hu.C(r,l),xj("preconnect",r,l)}function O_(r,l,d){hu.L(r,l,d);var p=If;if(p&&r&&l){var T='link[rel="preload"][as="'+Wt(l)+'"]';l==="image"&&d&&d.imageSrcSet?(T+='[imagesrcset="'+Wt(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(T+='[imagesizes="'+Wt(d.imageSizes)+'"]')):T+='[href="'+Wt(r)+'"]';var U=T;switch(l){case"style":U=_f(r);break;case"script":U=Ff(r)}SA.has(U)||(r=m({rel:"preload",href:l==="image"&&d&&d.imageSrcSet?void 0:r,as:l},d),SA.set(U,r),p.querySelector(T)!==null||l==="style"&&p.querySelector(Ap(U))||l==="script"&&p.querySelector(cp(U))||(l=p.createElement("link"),oo(l,"link",r),zs(l),p.head.appendChild(l)))}}function P_(r,l){hu.m(r,l);var d=If;if(d&&r){var p=l&&typeof l.as=="string"?l.as:"script",T='link[rel="modulepreload"][as="'+Wt(p)+'"][href="'+Wt(r)+'"]',U=T;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":U=Ff(r)}if(!SA.has(U)&&(r=m({rel:"modulepreload",href:r},l),SA.set(U,r),d.querySelector(T)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(cp(U)))return}p=d.createElement("link"),oo(p,"link",r),zs(p),d.head.appendChild(p)}}}function k_(r,l,d){hu.S(r,l,d);var p=If;if(p&&r){var T=Js(p).hoistableStyles,U=_f(r);l=l||"default";var q=T.get(U);if(!q){var ve={loading:0,preload:null};if(q=p.querySelector(Ap(U)))ve.loading=5;else{r=m({rel:"stylesheet",href:r,"data-precedence":l},d),(d=SA.get(U))&&uy(r,d);var Fe=q=p.createElement("link");zs(Fe),oo(Fe,"link",r),Fe._p=new Promise(function(et,pt){Fe.onload=et,Fe.onerror=pt}),Fe.addEventListener("load",function(){ve.loading|=1}),Fe.addEventListener("error",function(){ve.loading|=2}),ve.loading|=4,w0(q,l,p)}q={type:"stylesheet",instance:q,count:1,state:ve},T.set(U,q)}}}function M_(r,l){hu.X(r,l);var d=If;if(d&&r){var p=Js(d).hoistableScripts,T=Ff(r),U=p.get(T);U||(U=d.querySelector(cp(T)),U||(r=m({src:r,async:!0},l),(l=SA.get(T))&&dy(r,l),U=d.createElement("script"),zs(U),oo(U,"link",r),d.head.appendChild(U)),U={type:"script",instance:U,count:1,state:null},p.set(T,U))}}function H_(r,l){hu.M(r,l);var d=If;if(d&&r){var p=Js(d).hoistableScripts,T=Ff(r),U=p.get(T);U||(U=d.querySelector(cp(T)),U||(r=m({src:r,async:!0,type:"module"},l),(l=SA.get(T))&&dy(r,l),U=d.createElement("script"),zs(U),oo(U,"link",r),d.head.appendChild(U)),U={type:"script",instance:U,count:1,state:null},p.set(T,U))}}function yj(r,l,d,p){var T=(T=Ae.current)?b0(T):null;if(!T)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(l=_f(d.href),d=Js(T).hoistableStyles,p=d.get(l),p||(p={type:"style",instance:null,count:0,state:null},d.set(l,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){r=_f(d.href);var U=Js(T).hoistableStyles,q=U.get(r);if(q||(T=T.ownerDocument||T,q={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},U.set(r,q),(U=T.querySelector(Ap(r)))&&!U._p&&(q.instance=U,q.state.loading=5),SA.has(r)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},SA.set(r,d),U||V_(T,r,d,q.state))),l&&p===null)throw Error(s(528,""));return q}if(l&&p!==null)throw Error(s(529,""));return null;case"script":return l=d.async,d=d.src,typeof d=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Ff(d),d=Js(T).hoistableScripts,p=d.get(l),p||(p={type:"script",instance:null,count:0,state:null},d.set(l,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function _f(r){return'href="'+Wt(r)+'"'}function Ap(r){return'link[rel="stylesheet"]['+r+"]"}function bj(r){return m({},r,{"data-precedence":r.precedence,precedence:null})}function V_(r,l,d,p){r.querySelector('link[rel="preload"][as="style"]['+l+"]")?p.loading=1:(l=r.createElement("link"),p.preload=l,l.addEventListener("load",function(){return p.loading|=1}),l.addEventListener("error",function(){return p.loading|=2}),oo(l,"link",d),zs(l),r.head.appendChild(l))}function Ff(r){return'[src="'+Wt(r)+'"]'}function cp(r){return"script[async]"+r}function wj(r,l,d){if(l.count++,l.instance===null)switch(l.type){case"style":var p=r.querySelector('style[data-href~="'+Wt(d.href)+'"]');if(p)return l.instance=p,zs(p),p;var T=m({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return p=(r.ownerDocument||r).createElement("style"),zs(p),oo(p,"style",T),w0(p,d.precedence,r),l.instance=p;case"stylesheet":T=_f(d.href);var U=r.querySelector(Ap(T));if(U)return l.state.loading|=4,l.instance=U,zs(U),U;p=bj(d),(T=SA.get(T))&&uy(p,T),U=(r.ownerDocument||r).createElement("link"),zs(U);var q=U;return q._p=new Promise(function(ve,Fe){q.onload=ve,q.onerror=Fe}),oo(U,"link",p),l.state.loading|=4,w0(U,d.precedence,r),l.instance=U;case"script":return U=Ff(d.src),(T=r.querySelector(cp(U)))?(l.instance=T,zs(T),T):(p=d,(T=SA.get(U))&&(p=m({},d),dy(p,T)),r=r.ownerDocument||r,T=r.createElement("script"),zs(T),oo(T,"link",p),r.head.appendChild(T),l.instance=T);case"void":return null;default:throw Error(s(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(p=l.instance,l.state.loading|=4,w0(p,d.precedence,r));return l.instance}function w0(r,l,d){for(var p=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),T=p.length?p[p.length-1]:null,U=T,q=0;q<p.length;q++){var ve=p[q];if(ve.dataset.precedence===l)U=ve;else if(U!==T)break}U?U.parentNode.insertBefore(r,U.nextSibling):(l=d.nodeType===9?d.head:d,l.insertBefore(r,l.firstChild))}function uy(r,l){r.crossOrigin==null&&(r.crossOrigin=l.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=l.referrerPolicy),r.title==null&&(r.title=l.title)}function dy(r,l){r.crossOrigin==null&&(r.crossOrigin=l.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=l.referrerPolicy),r.integrity==null&&(r.integrity=l.integrity)}var j0=null;function jj(r,l,d){if(j0===null){var p=new Map,T=j0=new Map;T.set(d,p)}else T=j0,p=T.get(d),p||(p=new Map,T.set(d,p));if(p.has(r))return p;for(p.set(r,null),d=d.getElementsByTagName(r),T=0;T<d.length;T++){var U=d[T];if(!(U[In]||U[Yt]||r==="link"&&U.getAttribute("rel")==="stylesheet")&&U.namespaceURI!=="http://www.w3.org/2000/svg"){var q=U.getAttribute(l)||"";q=r+q;var ve=p.get(q);ve?ve.push(U):p.set(q,[U])}}return p}function Bj(r,l,d){r=r.ownerDocument||r,r.head.insertBefore(d,l==="title"?r.querySelector("head > title"):null)}function K_(r,l,d){if(d===1||l.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return r=l.disabled,typeof l.precedence=="string"&&r==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function Cj(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function z_(r,l,d,p){if(d.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var T=_f(p.href),U=l.querySelector(Ap(T));if(U){l=U._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(r.count++,r=B0.bind(r),l.then(r,r)),d.state.loading|=4,d.instance=U,zs(U);return}U=l.ownerDocument||l,p=bj(p),(T=SA.get(T))&&uy(p,T),U=U.createElement("link"),zs(U);var q=U;q._p=new Promise(function(ve,Fe){q.onload=ve,q.onerror=Fe}),oo(U,"link",p),d.instance=U}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(d,l),(l=d.state.preload)&&(d.state.loading&3)===0&&(r.count++,d=B0.bind(r),l.addEventListener("load",d),l.addEventListener("error",d))}}var hy=0;function G_(r,l){return r.stylesheets&&r.count===0&&S0(r,r.stylesheets),0<r.count||0<r.imgCount?function(d){var p=setTimeout(function(){if(r.stylesheets&&S0(r,r.stylesheets),r.unsuspend){var U=r.unsuspend;r.unsuspend=null,U()}},6e4+l);0<r.imgBytes&&hy===0&&(hy=62500*S_());var T=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&S0(r,r.stylesheets),r.unsuspend)){var U=r.unsuspend;r.unsuspend=null,U()}},(r.imgBytes>hy?50:800)+l);return r.unsuspend=d,function(){r.unsuspend=null,clearTimeout(p),clearTimeout(T)}}:null}function B0(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)S0(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var C0=null;function S0(r,l){r.stylesheets=null,r.unsuspend!==null&&(r.count++,C0=new Map,l.forEach($_,r),C0=null,B0.call(r))}function $_(r,l){if(!(l.state.loading&4)){var d=C0.get(r);if(d)var p=d.get(null);else{d=new Map,C0.set(r,d);for(var T=r.querySelectorAll("link[data-precedence],style[data-precedence]"),U=0;U<T.length;U++){var q=T[U];(q.nodeName==="LINK"||q.getAttribute("media")!=="not all")&&(d.set(q.dataset.precedence,q),p=q)}p&&d.set(null,p)}T=l.instance,q=T.getAttribute("data-precedence"),U=d.get(q)||p,U===p&&d.set(null,T),d.set(q,T),this.count++,p=B0.bind(this),T.addEventListener("load",p),T.addEventListener("error",p),U?U.parentNode.insertBefore(T,U.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(T,r.firstChild)),l.state.loading|=4}}var up={$$typeof:F,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function Y_(r,l,d,p,T,U,q,ve,Fe){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=js(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=js(0),this.hiddenUpdates=js(null),this.identifierPrefix=p,this.onUncaughtError=T,this.onCaughtError=U,this.onRecoverableError=q,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Fe,this.incompleteTransitions=new Map}function Sj(r,l,d,p,T,U,q,ve,Fe,et,pt,Bt){return r=new Y_(r,l,d,q,Fe,et,pt,Bt,ve),l=1,U===!0&&(l|=24),U=hi(3,null,null,l),r.current=U,U.stateNode=r,l=vc(),l.refCount++,r.pooledCache=l,l.refCount++,U.memoizedState={element:p,isDehydrated:d,cache:l},Xt(U),r}function Nj(r){return r?(r=Xa,r):Xa}function Ej(r,l,d,p,T,U){T=Nj(T),p.context===null?p.context=T:p.pendingContext=T,p=zn(l),p.payload={element:d},U=U===void 0?null:U,U!==null&&(p.callback=U),d=Yn(r,p,l),d!==null&&(Tr(d,r,l),rr(d,r,l))}function Tj(r,l){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var d=r.retryLane;r.retryLane=d!==0&&d<l?d:l}}function fy(r,l){Tj(r,l),(r=r.alternate)&&Tj(r,l)}function Ij(r){if(r.tag===13||r.tag===31){var l=xl(r,67108864);l!==null&&Tr(l,r,67108864),fy(r,67108864)}}function _j(r){if(r.tag===13||r.tag===31){var l=Fn();l=ln(l);var d=xl(r,l);d!==null&&Tr(d,r,l),fy(r,l)}}var N0=!0;function W_(r,l,d,p){var T=J.T;J.T=null;var U=re.p;try{re.p=2,my(r,l,d,p)}finally{re.p=U,J.T=T}}function X_(r,l,d,p){var T=J.T;J.T=null;var U=re.p;try{re.p=8,my(r,l,d,p)}finally{re.p=U,J.T=T}}function my(r,l,d,p){if(N0){var T=py(p);if(T===null)ty(r,l,p,E0,d),Uj(r,p);else if(q_(T,r,l,d,p))p.stopPropagation();else if(Uj(r,p),l&4&&-1<J_.indexOf(r)){for(;T!==null;){var U=lr(T);if(U!==null)switch(U.tag){case 3:if(U=U.stateNode,U.current.memoizedState.isDehydrated){var q=ht(U.pendingLanes);if(q!==0){var ve=U;for(ve.pendingLanes|=2,ve.entangledLanes|=2;q;){var Fe=1<<31-ot(q);ve.entanglements[1]|=Fe,q&=~Fe}Rc(U),(or&6)===0&&(rn=Gt()+500,ap(0))}}break;case 31:case 13:ve=xl(U,2),ve!==null&&Tr(ve,U,2),Li(),fy(U,2)}if(U=py(p),U===null&&ty(r,l,p,E0,d),U===T)break;T=U}T!==null&&p.stopPropagation()}else ty(r,l,p,null,d)}}function py(r){return r=ii(r),gy(r)}var E0=null;function gy(r){if(E0=null,r=Ss(r),r!==null){var l=o(r);if(l===null)r=null;else{var d=l.tag;if(d===13){if(r=c(l),r!==null)return r;r=null}else if(d===31){if(r=h(l),r!==null)return r;r=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;r=null}else l!==r&&(r=null)}}return E0=r,null}function Fj(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(sn()){case en:return 2;case Nn:return 8;case xt:case St:return 32;case $t:return 268435456;default:return 32}default:return 32}}var vy=!1,ud=null,dd=null,hd=null,dp=new Map,hp=new Map,fd=[],J_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Uj(r,l){switch(r){case"focusin":case"focusout":ud=null;break;case"dragenter":case"dragleave":dd=null;break;case"mouseover":case"mouseout":hd=null;break;case"pointerover":case"pointerout":dp.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":hp.delete(l.pointerId)}}function fp(r,l,d,p,T,U){return r===null||r.nativeEvent!==U?(r={blockedOn:l,domEventName:d,eventSystemFlags:p,nativeEvent:U,targetContainers:[T]},l!==null&&(l=lr(l),l!==null&&Ij(l)),r):(r.eventSystemFlags|=p,l=r.targetContainers,T!==null&&l.indexOf(T)===-1&&l.push(T),r)}function q_(r,l,d,p,T){switch(l){case"focusin":return ud=fp(ud,r,l,d,p,T),!0;case"dragenter":return dd=fp(dd,r,l,d,p,T),!0;case"mouseover":return hd=fp(hd,r,l,d,p,T),!0;case"pointerover":var U=T.pointerId;return dp.set(U,fp(dp.get(U)||null,r,l,d,p,T)),!0;case"gotpointercapture":return U=T.pointerId,hp.set(U,fp(hp.get(U)||null,r,l,d,p,T)),!0}return!1}function Rj(r){var l=Ss(r.target);if(l!==null){var d=o(l);if(d!==null){if(l=d.tag,l===13){if(l=c(d),l!==null){r.blockedOn=l,Vt(r.priority,function(){_j(d)});return}}else if(l===31){if(l=h(d),l!==null){r.blockedOn=l,Vt(r.priority,function(){_j(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){r.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}r.blockedOn=null}function T0(r){if(r.blockedOn!==null)return!1;for(var l=r.targetContainers;0<l.length;){var d=py(r.nativeEvent);if(d===null){d=r.nativeEvent;var p=new d.constructor(d.type,d);Jo=p,d.target.dispatchEvent(p),Jo=null}else return l=lr(d),l!==null&&Ij(l),r.blockedOn=d,!1;l.shift()}return!0}function Dj(r,l,d){T0(r)&&d.delete(l)}function Z_(){vy=!1,ud!==null&&T0(ud)&&(ud=null),dd!==null&&T0(dd)&&(dd=null),hd!==null&&T0(hd)&&(hd=null),dp.forEach(Dj),hp.forEach(Dj)}function I0(r,l){r.blockedOn===l&&(r.blockedOn=null,vy||(vy=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Z_)))}var _0=null;function Lj(r){_0!==r&&(_0=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){_0===r&&(_0=null);for(var l=0;l<r.length;l+=3){var d=r[l],p=r[l+1],T=r[l+2];if(typeof p!="function"){if(gy(p||d)===null)continue;break}var U=lr(d);U!==null&&(r.splice(l,3),l-=3,pf(U,{pending:!0,data:T,method:d.method,action:p},p,T))}}))}function Uf(r){function l(Fe){return I0(Fe,r)}ud!==null&&I0(ud,r),dd!==null&&I0(dd,r),hd!==null&&I0(hd,r),dp.forEach(l),hp.forEach(l);for(var d=0;d<fd.length;d++){var p=fd[d];p.blockedOn===r&&(p.blockedOn=null)}for(;0<fd.length&&(d=fd[0],d.blockedOn===null);)Rj(d),d.blockedOn===null&&fd.shift();if(d=(r.ownerDocument||r).$$reactFormReplay,d!=null)for(p=0;p<d.length;p+=3){var T=d[p],U=d[p+1],q=T[Ut]||null;if(typeof U=="function")q||Lj(d);else if(q){var ve=null;if(U&&U.hasAttribute("formAction")){if(T=U,q=U[Ut]||null)ve=q.formAction;else if(gy(T)!==null)continue}else ve=q.action;typeof ve=="function"?d[p+1]=ve:(d.splice(p,3),p-=3),Lj(d)}}}function Qj(){function r(U){U.canIntercept&&U.info==="react-transition"&&U.intercept({handler:function(){return new Promise(function(q){return T=q})},focusReset:"manual",scroll:"manual"})}function l(){T!==null&&(T(),T=null),p||setTimeout(d,20)}function d(){if(!p&&!navigation.transition){var U=navigation.currentEntry;U&&U.url!=null&&navigation.navigate(U.url,{state:U.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,T=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(d,100),function(){p=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),T!==null&&(T(),T=null)}}}function xy(r){this._internalRoot=r}F0.prototype.render=xy.prototype.render=function(r){var l=this._internalRoot;if(l===null)throw Error(s(409));var d=l.current,p=Fn();Ej(d,p,r,l,null,null)},F0.prototype.unmount=xy.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var l=r.containerInfo;Ej(r.current,2,null,r,null,null),Li(),l[vn]=null}};function F0(r){this._internalRoot=r}F0.prototype.unstable_scheduleHydration=function(r){if(r){var l=Rt();r={blockedOn:null,target:r,priority:l};for(var d=0;d<fd.length&&l!==0&&l<fd[d].priority;d++);fd.splice(d,0,r),d===0&&Rj(r)}};var Oj=e.version;if(Oj!=="19.2.3")throw Error(s(527,Oj,"19.2.3"));re.findDOMNode=function(r){var l=r._reactInternals;if(l===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=f(l),r=r!==null?A(r):null,r=r===null?null:r.stateNode,r};var eF={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var U0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!U0.isDisabled&&U0.supportsFiber)try{Ke=U0.inject(eF),yt=U0}catch{}}return pp.createRoot=function(r,l){if(!a(r))throw Error(s(299));var d=!1,p="",T=Wg,U=fh,q=mh;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(T=l.onUncaughtError),l.onCaughtError!==void 0&&(U=l.onCaughtError),l.onRecoverableError!==void 0&&(q=l.onRecoverableError)),l=Sj(r,1,!1,null,null,d,p,null,T,U,q,Qj),r[vn]=l.current,ey(r),new xy(l)},pp.hydrateRoot=function(r,l,d){if(!a(r))throw Error(s(299));var p=!1,T="",U=Wg,q=fh,ve=mh,Fe=null;return d!=null&&(d.unstable_strictMode===!0&&(p=!0),d.identifierPrefix!==void 0&&(T=d.identifierPrefix),d.onUncaughtError!==void 0&&(U=d.onUncaughtError),d.onCaughtError!==void 0&&(q=d.onCaughtError),d.onRecoverableError!==void 0&&(ve=d.onRecoverableError),d.formState!==void 0&&(Fe=d.formState)),l=Sj(r,1,!0,l,d??null,p,T,Fe,U,q,ve,Qj),l.context=Nj(null),d=l.current,p=Fn(),p=ln(p),T=zn(p),T.callback=null,Yn(d,T,p),d=p,l.current.lanes=d,cn(l,d),Rc(l),r[vn]=l.current,ey(r),new F0(l)},pp.version="19.2.3",pp}var Wj;function hF(){if(Wj)return wy.exports;Wj=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),wy.exports=dF(),wy.exports}var fF=hF();const mF=zb(fF);/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Xj="popstate";function pF(n={}){function e(a,o){let{pathname:c="/",search:h="",hash:u=""}=Zh(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),F1("",{pathname:c,search:h,hash:u},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(a,o){let c=a.document.querySelector("base"),h="";if(c&&c.getAttribute("href")){let u=a.location.href,f=u.indexOf("#");h=f===-1?u:u.slice(0,f)}return h+"#"+(typeof o=="string"?o:Xp(o))}function s(a,o){rA(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return vF(e,t,s,n)}function Ba(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function rA(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function gF(){return Math.random().toString(36).substring(2,10)}function Jj(n,e){return{usr:n.state,key:n.key,idx:e}}function F1(n,e,t=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Zh(e):e,state:t,key:e&&e.key||s||gF()}}function Xp({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Zh(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substring(s),n=n.substring(0,s)),n&&(e.pathname=n)}return e}function vF(n,e,t,s={}){let{window:a=document.defaultView,v5Compat:o=!1}=s,c=a.history,h="POP",u=null,f=A();f==null&&(f=0,c.replaceState({...c.state,idx:f},""));function A(){return(c.state||{idx:null}).idx}function m(){h="POP";let N=A(),E=N==null?null:N-f;f=N,u&&u({action:h,location:S.location,delta:E})}function v(N,E){h="PUSH";let I=F1(S.location,N,E);t&&t(I,N),f=A()+1;let F=Jj(I,f),D=S.createHref(I);try{c.pushState(F,"",D)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;a.location.assign(D)}o&&u&&u({action:h,location:S.location,delta:1})}function g(N,E){h="REPLACE";let I=F1(S.location,N,E);t&&t(I,N),f=A();let F=Jj(I,f),D=S.createHref(I);c.replaceState(F,"",D),o&&u&&u({action:h,location:S.location,delta:0})}function b(N){return xF(N)}let S={get action(){return h},get location(){return n(a,c)},listen(N){if(u)throw new Error("A history only accepts one active listener");return a.addEventListener(Xj,m),u=N,()=>{a.removeEventListener(Xj,m),u=null}},createHref(N){return e(a,N)},createURL:b,encodeLocation(N){let E=b(N);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:v,replace:g,go(N){return c.go(N)}};return S}function xF(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Ba(t,"No window.location.(origin|href) available to create URL");let s=typeof n=="string"?n:Xp(n);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function UN(n,e,t="/"){return yF(n,e,t,!1)}function yF(n,e,t,s){let a=typeof e=="string"?Zh(e):e,o=Cu(a.pathname||"/",t);if(o==null)return null;let c=RN(n);bF(c);let h=null;for(let u=0;h==null&&u<c.length;++u){let f=FF(o);h=IF(c[u],f,s)}return h}function RN(n,e=[],t=[],s="",a=!1){let o=(c,h,u=a,f)=>{let A={relativePath:f===void 0?c.path||"":f,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(A.relativePath.startsWith("/")){if(!A.relativePath.startsWith(s)&&u)return;Ba(A.relativePath.startsWith(s),`Absolute route path "${A.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),A.relativePath=A.relativePath.slice(s.length)}let m=bu([s,A.relativePath]),v=t.concat(A);c.children&&c.children.length>0&&(Ba(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),RN(c.children,e,v,m,u)),!(c.path==null&&!c.index)&&e.push({path:m,score:EF(m,c.index),routesMeta:v})};return n.forEach((c,h)=>{var u;if(c.path===""||!((u=c.path)!=null&&u.includes("?")))o(c,h);else for(let f of DN(c.path))o(c,h,!0,f)}),e}function DN(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,a=t.endsWith("?"),o=t.replace(/\?$/,"");if(s.length===0)return a?[o,""]:[o];let c=DN(s.join("/")),h=[];return h.push(...c.map(u=>u===""?o:[o,u].join("/"))),a&&h.push(...c),h.map(u=>n.startsWith("/")&&u===""?"/":u)}function bF(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:TF(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var wF=/^:[\w-]+$/,jF=3,BF=2,CF=1,SF=10,NF=-2,qj=n=>n==="*";function EF(n,e){let t=n.split("/"),s=t.length;return t.some(qj)&&(s+=NF),e&&(s+=BF),t.filter(a=>!qj(a)).reduce((a,o)=>a+(wF.test(o)?jF:o===""?CF:SF),s)}function TF(n,e){return n.length===e.length&&n.slice(0,-1).every((s,a)=>s===e[a])?n[n.length-1]-e[e.length-1]:0}function IF(n,e,t=!1){let{routesMeta:s}=n,a={},o="/",c=[];for(let h=0;h<s.length;++h){let u=s[h],f=h===s.length-1,A=o==="/"?e:e.slice(o.length)||"/",m=jv({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},A),v=u.route;if(!m&&f&&t&&!s[s.length-1].route.index&&(m=jv({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},A)),!m)return null;Object.assign(a,m.params),c.push({params:a,pathname:bu([o,m.pathname]),pathnameBase:LF(bu([o,m.pathnameBase])),route:v}),m.pathnameBase!=="/"&&(o=bu([o,m.pathnameBase]))}return c}function jv(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=_F(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let o=a[0],c=o.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:s.reduce((f,{paramName:A,isOptional:m},v)=>{if(A==="*"){let b=h[v]||"";c=o.slice(0,o.length-b.length).replace(/(.)\/+$/,"$1")}const g=h[v];return m&&!g?f[A]=void 0:f[A]=(g||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:c,pattern:n}}function _F(n,e=!1,t=!0){rA(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,u)=>(s.push({paramName:h,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(s.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function FF(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return rA(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Cu(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}var LN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,UF=n=>LN.test(n);function RF(n,e="/"){let{pathname:t,search:s="",hash:a=""}=typeof n=="string"?Zh(n):n,o;if(t)if(UF(t))o=t;else{if(t.includes("//")){let c=t;t=t.replace(/\/\/+/g,"/"),rA(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${t}`)}t.startsWith("/")?o=Zj(t.substring(1),"/"):o=Zj(t,e)}else o=e;return{pathname:o,search:QF(s),hash:OF(a)}}function Zj(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Sy(n,e,t,s){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function DF(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Yb(n){let e=DF(n);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function Wb(n,e,t,s=!1){let a;typeof n=="string"?a=Zh(n):(a={...n},Ba(!a.pathname||!a.pathname.includes("?"),Sy("?","pathname","search",a)),Ba(!a.pathname||!a.pathname.includes("#"),Sy("#","pathname","hash",a)),Ba(!a.search||!a.search.includes("#"),Sy("#","search","hash",a)));let o=n===""||a.pathname==="",c=o?"/":a.pathname,h;if(c==null)h=t;else{let m=e.length-1;if(!s&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),m-=1;a.pathname=v.join("/")}h=m>=0?e[m]:"/"}let u=RF(a,h),f=c&&c!=="/"&&c.endsWith("/"),A=(o||c===".")&&t.endsWith("/");return!u.pathname.endsWith("/")&&(f||A)&&(u.pathname+="/"),u}var bu=n=>n.join("/").replace(/\/\/+/g,"/"),LF=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),QF=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,OF=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,PF=class{constructor(n,e,t,s=!1){this.status=n,this.statusText=e||"",this.internal=s,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function kF(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function MF(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var QN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ON(n,e){let t=n;if(typeof t!="string"||!LN.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let s=t,a=!1;if(QN)try{let o=new URL(window.location.href),c=t.startsWith("//")?new URL(o.protocol+t):new URL(t),h=Cu(c.pathname,e);c.origin===o.origin&&h!=null?t=h+c.search+c.hash:a=!0}catch{rA(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:a,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var PN=["POST","PUT","PATCH","DELETE"];new Set(PN);var HF=["GET",...PN];new Set(HF);var fm=ee.createContext(null);fm.displayName="DataRouter";var ox=ee.createContext(null);ox.displayName="DataRouterState";var VF=ee.createContext(!1),kN=ee.createContext({isTransitioning:!1});kN.displayName="ViewTransition";var KF=ee.createContext(new Map);KF.displayName="Fetchers";var zF=ee.createContext(null);zF.displayName="Await";var aA=ee.createContext(null);aA.displayName="Navigation";var pg=ee.createContext(null);pg.displayName="Location";var lc=ee.createContext({outlet:null,matches:[],isDataRoute:!1});lc.displayName="Route";var Xb=ee.createContext(null);Xb.displayName="RouteError";var MN="REACT_ROUTER_ERROR",GF="REDIRECT",$F="ROUTE_ERROR_RESPONSE";function YF(n){if(n.startsWith(`${MN}:${GF}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function WF(n){if(n.startsWith(`${MN}:${$F}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new PF(e.status,e.statusText,e.data)}catch{}}function XF(n,{relative:e}={}){Ba(mm(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=ee.useContext(aA),{hash:a,pathname:o,search:c}=vg(n,{relative:e}),h=o;return t!=="/"&&(h=o==="/"?t:bu([t,o])),s.createHref({pathname:h,search:c,hash:a})}function mm(){return ee.useContext(pg)!=null}function Fu(){return Ba(mm(),"useLocation() may be used only in the context of a <Router> component."),ee.useContext(pg).location}var HN="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function VN(n){ee.useContext(aA).static||ee.useLayoutEffect(n)}function gg(){let{isDataRoute:n}=ee.useContext(lc);return n?c6():JF()}function JF(){Ba(mm(),"useNavigate() may be used only in the context of a <Router> component.");let n=ee.useContext(fm),{basename:e,navigator:t}=ee.useContext(aA),{matches:s}=ee.useContext(lc),{pathname:a}=Fu(),o=JSON.stringify(Yb(s)),c=ee.useRef(!1);return VN(()=>{c.current=!0}),ee.useCallback((u,f={})=>{if(rA(c.current,HN),!c.current)return;if(typeof u=="number"){t.go(u);return}let A=Wb(u,JSON.parse(o),a,f.relative==="path");n==null&&e!=="/"&&(A.pathname=A.pathname==="/"?e:bu([e,A.pathname])),(f.replace?t.replace:t.push)(A,f.state,f)},[e,t,o,a,n])}ee.createContext(null);function qF(){let{matches:n}=ee.useContext(lc),e=n[n.length-1];return e?e.params:{}}function vg(n,{relative:e}={}){let{matches:t}=ee.useContext(lc),{pathname:s}=Fu(),a=JSON.stringify(Yb(t));return ee.useMemo(()=>Wb(n,JSON.parse(a),s,e==="path"),[n,a,s,e])}function ZF(n,e){return KN(n,e)}function KN(n,e,t,s,a){var I;Ba(mm(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=ee.useContext(aA),{matches:c}=ee.useContext(lc),h=c[c.length-1],u=h?h.params:{},f=h?h.pathname:"/",A=h?h.pathnameBase:"/",m=h&&h.route;{let F=m&&m.path||"";GN(f,!m||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let v=Fu(),g;if(e){let F=typeof e=="string"?Zh(e):e;Ba(A==="/"||((I=F.pathname)==null?void 0:I.startsWith(A)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${A}" but pathname "${F.pathname}" was given in the \`location\` prop.`),g=F}else g=v;let b=g.pathname||"/",S=b;if(A!=="/"){let F=A.replace(/^\//,"").split("/");S="/"+b.replace(/^\//,"").split("/").slice(F.length).join("/")}let N=UN(n,{pathname:S});rA(m||N!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),rA(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=r6(N&&N.map(F=>Object.assign({},F,{params:Object.assign({},u,F.params),pathname:bu([A,o.encodeLocation?o.encodeLocation(F.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?A:bu([A,o.encodeLocation?o.encodeLocation(F.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathnameBase])})),c,t,s,a);return e&&E?ee.createElement(pg.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},E):E}function e6(){let n=A6(),e=kF(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},o={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=ee.createElement(ee.Fragment,null,ee.createElement("p",null," Hey developer "),ee.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ee.createElement("code",{style:o},"ErrorBoundary")," or"," ",ee.createElement("code",{style:o},"errorElement")," prop on your route.")),ee.createElement(ee.Fragment,null,ee.createElement("h2",null,"Unexpected Application Error!"),ee.createElement("h3",{style:{fontStyle:"italic"}},e),t?ee.createElement("pre",{style:a},t):null,c)}var t6=ee.createElement(e6,null),zN=class extends ee.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=WF(n.digest);t&&(n=t)}let e=n!==void 0?ee.createElement(lc.Provider,{value:this.props.routeContext},ee.createElement(Xb.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?ee.createElement(n6,{error:n},e):e}};zN.contextType=VF;var Ny=new WeakMap;function n6({children:n,error:e}){let{basename:t}=ee.useContext(aA);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=YF(e.digest);if(s){let a=Ny.get(e);if(a)throw a;let o=ON(s.location,t);if(QN&&!Ny.get(e))if(o.isExternal||s.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:s.replace}));throw Ny.set(e,c),c}return ee.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return n}function s6({routeContext:n,match:e,children:t}){let s=ee.useContext(fm);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),ee.createElement(lc.Provider,{value:n},t)}function r6(n,e=[],t=null,s=null,a=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,c=t==null?void 0:t.errors;if(c!=null){let A=o.findIndex(m=>m.route.id&&(c==null?void 0:c[m.route.id])!==void 0);Ba(A>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,A+1))}let h=!1,u=-1;if(t)for(let A=0;A<o.length;A++){let m=o[A];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=A),m.route.id){let{loaderData:v,errors:g}=t,b=m.route.loader&&!v.hasOwnProperty(m.route.id)&&(!g||g[m.route.id]===void 0);if(m.route.lazy||b){h=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}let f=t&&s?(A,m)=>{var v,g;s(A,{location:t.location,params:((g=(v=t.matches)==null?void 0:v[0])==null?void 0:g.params)??{},unstable_pattern:MF(t.matches),errorInfo:m})}:void 0;return o.reduceRight((A,m,v)=>{let g,b=!1,S=null,N=null;t&&(g=c&&m.route.id?c[m.route.id]:void 0,S=m.route.errorElement||t6,h&&(u<0&&v===0?(GN("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,N=null):u===v&&(b=!0,N=m.route.hydrateFallbackElement||null)));let E=e.concat(o.slice(0,v+1)),I=()=>{let F;return g?F=S:b?F=N:m.route.Component?F=ee.createElement(m.route.Component,null):m.route.element?F=m.route.element:F=A,ee.createElement(s6,{match:m,routeContext:{outlet:A,matches:E,isDataRoute:t!=null},children:F})};return t&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?ee.createElement(zN,{location:t.location,revalidation:t.revalidation,component:S,error:g,children:I(),routeContext:{outlet:null,matches:E,isDataRoute:!0},onError:f}):I()},null)}function Jb(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function a6(n){let e=ee.useContext(fm);return Ba(e,Jb(n)),e}function i6(n){let e=ee.useContext(ox);return Ba(e,Jb(n)),e}function o6(n){let e=ee.useContext(lc);return Ba(e,Jb(n)),e}function qb(n){let e=o6(n),t=e.matches[e.matches.length-1];return Ba(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function l6(){return qb("useRouteId")}function A6(){var s;let n=ee.useContext(Xb),e=i6("useRouteError"),t=qb("useRouteError");return n!==void 0?n:(s=e.errors)==null?void 0:s[t]}function c6(){let{router:n}=a6("useNavigate"),e=qb("useNavigate"),t=ee.useRef(!1);return VN(()=>{t.current=!0}),ee.useCallback(async(a,o={})=>{rA(t.current,HN),t.current&&(typeof a=="number"?await n.navigate(a):await n.navigate(a,{fromRouteId:e,...o}))},[n,e])}var eB={};function GN(n,e,t){!e&&!eB[n]&&(eB[n]=!0,rA(!1,t))}ee.memo(u6);function u6({routes:n,future:e,state:t,onError:s}){return KN(n,void 0,t,s,e)}function U1({to:n,replace:e,state:t,relative:s}){Ba(mm(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=ee.useContext(aA);rA(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=ee.useContext(lc),{pathname:c}=Fu(),h=gg(),u=Wb(n,Yb(o),c,s==="path"),f=JSON.stringify(u);return ee.useEffect(()=>{h(JSON.parse(f),{replace:e,state:t,relative:s})},[h,f,s,e,t]),null}function ja(n){Ba(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function d6({basename:n="/",children:e=null,location:t,navigationType:s="POP",navigator:a,static:o=!1,unstable_useTransitions:c}){Ba(!mm(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=n.replace(/^\/*/,"/"),u=ee.useMemo(()=>({basename:h,navigator:a,static:o,unstable_useTransitions:c,future:{}}),[h,a,o,c]);typeof t=="string"&&(t=Zh(t));let{pathname:f="/",search:A="",hash:m="",state:v=null,key:g="default"}=t,b=ee.useMemo(()=>{let S=Cu(f,h);return S==null?null:{location:{pathname:S,search:A,hash:m,state:v,key:g},navigationType:s}},[h,f,A,m,v,g,s]);return rA(b!=null,`<Router basename="${h}"> is not able to match the URL "${f}${A}${m}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:ee.createElement(aA.Provider,{value:u},ee.createElement(pg.Provider,{children:e,value:b}))}function h6({children:n,location:e}){return ZF(R1(n),e)}function R1(n,e=[]){let t=[];return ee.Children.forEach(n,(s,a)=>{if(!ee.isValidElement(s))return;let o=[...e,a];if(s.type===ee.Fragment){t.push.apply(t,R1(s.props.children,o));return}Ba(s.type===ja,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ba(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||o.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=R1(s.props.children,o)),t.push(c)}),t}var sv="get",rv="application/x-www-form-urlencoded";function lx(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function f6(n){return lx(n)&&n.tagName.toLowerCase()==="button"}function m6(n){return lx(n)&&n.tagName.toLowerCase()==="form"}function p6(n){return lx(n)&&n.tagName.toLowerCase()==="input"}function g6(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function v6(n,e){return n.button===0&&(!e||e==="_self")&&!g6(n)}var R0=null;function x6(){if(R0===null)try{new FormData(document.createElement("form"),0),R0=!1}catch{R0=!0}return R0}var y6=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ey(n){return n!=null&&!y6.has(n)?(rA(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${rv}"`),null):n}function b6(n,e){let t,s,a,o,c;if(m6(n)){let h=n.getAttribute("action");s=h?Cu(h,e):null,t=n.getAttribute("method")||sv,a=Ey(n.getAttribute("enctype"))||rv,o=new FormData(n)}else if(f6(n)||p6(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=n.getAttribute("formaction")||h.getAttribute("action");if(s=u?Cu(u,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||sv,a=Ey(n.getAttribute("formenctype"))||Ey(h.getAttribute("enctype"))||rv,o=new FormData(h,n),!x6()){let{name:f,type:A,value:m}=n;if(A==="image"){let v=f?`${f}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else f&&o.append(f,m)}}else{if(lx(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=sv,s=null,a=rv,c=n}return o&&a==="text/plain"&&(c=o,o=void 0),{action:s,method:t.toLowerCase(),encType:a,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Zb(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function w6(n,e,t){let s=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&Cu(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function j6(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function B6(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function C6(n,e,t){let s=await Promise.all(n.map(async a=>{let o=e.routes[a.route.id];if(o){let c=await j6(o,t);return c.links?c.links():[]}return[]}));return T6(s.flat(1).filter(B6).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function tB(n,e,t,s,a,o){let c=(u,f)=>t[f]?u.route.id!==t[f].route.id:!0,h=(u,f)=>{var A;return t[f].pathname!==u.pathname||((A=t[f].route.path)==null?void 0:A.endsWith("*"))&&t[f].params["*"]!==u.params["*"]};return o==="assets"?e.filter((u,f)=>c(u,f)||h(u,f)):o==="data"?e.filter((u,f)=>{var m;let A=s.routes[u.route.id];if(!A||!A.hasLoader)return!1;if(c(u,f)||h(u,f))return!0;if(u.route.shouldRevalidate){let v=u.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((m=t[0])==null?void 0:m.params)||{},nextUrl:new URL(n,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function S6(n,e,{includeHydrateFallback:t}={}){return N6(n.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function N6(n){return[...new Set(n)]}function E6(n){let e={},t=Object.keys(n).sort();for(let s of t)e[s]=n[s];return e}function T6(n,e){let t=new Set;return new Set(e),n.reduce((s,a)=>{let o=JSON.stringify(E6(a));return t.has(o)||(t.add(o),s.push({key:o,link:a})),s},[])}function $N(){let n=ee.useContext(fm);return Zb(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function I6(){let n=ee.useContext(ox);return Zb(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var ew=ee.createContext(void 0);ew.displayName="FrameworkContext";function YN(){let n=ee.useContext(ew);return Zb(n,"You must render this element inside a <HydratedRouter> element"),n}function _6(n,e){let t=ee.useContext(ew),[s,a]=ee.useState(!1),[o,c]=ee.useState(!1),{onFocus:h,onBlur:u,onMouseEnter:f,onMouseLeave:A,onTouchStart:m}=e,v=ee.useRef(null);ee.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let S=E=>{E.forEach(I=>{c(I.isIntersecting)})},N=new IntersectionObserver(S,{threshold:.5});return v.current&&N.observe(v.current),()=>{N.disconnect()}}},[n]),ee.useEffect(()=>{if(s){let S=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(S)}}},[s]);let g=()=>{a(!0)},b=()=>{a(!1),c(!1)};return t?n!=="intent"?[o,v,{}]:[o,v,{onFocus:gp(h,g),onBlur:gp(u,b),onMouseEnter:gp(f,g),onMouseLeave:gp(A,b),onTouchStart:gp(m,g)}]:[!1,v,{}]}function gp(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function F6({page:n,...e}){let{router:t}=$N(),s=ee.useMemo(()=>UN(t.routes,n,t.basename),[t.routes,n,t.basename]);return s?ee.createElement(R6,{page:n,matches:s,...e}):null}function U6(n){let{manifest:e,routeModules:t}=YN(),[s,a]=ee.useState([]);return ee.useEffect(()=>{let o=!1;return C6(n,e,t).then(c=>{o||a(c)}),()=>{o=!0}},[n,e,t]),s}function R6({page:n,matches:e,...t}){let s=Fu(),{manifest:a,routeModules:o}=YN(),{basename:c}=$N(),{loaderData:h,matches:u}=I6(),f=ee.useMemo(()=>tB(n,e,u,a,s,"data"),[n,e,u,a,s]),A=ee.useMemo(()=>tB(n,e,u,a,s,"assets"),[n,e,u,a,s]),m=ee.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let b=new Set,S=!1;if(e.forEach(E=>{var F;let I=a.routes[E.route.id];!I||!I.hasLoader||(!f.some(D=>D.route.id===E.route.id)&&E.route.id in h&&((F=o[E.route.id])!=null&&F.shouldRevalidate)||I.hasClientLoader?S=!0:b.add(E.route.id))}),b.size===0)return[];let N=w6(n,c,"data");return S&&b.size>0&&N.searchParams.set("_routes",e.filter(E=>b.has(E.route.id)).map(E=>E.route.id).join(",")),[N.pathname+N.search]},[c,h,s,a,f,e,n,o]),v=ee.useMemo(()=>S6(A,a),[A,a]),g=U6(A);return ee.createElement(ee.Fragment,null,m.map(b=>ee.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...t})),v.map(b=>ee.createElement("link",{key:b,rel:"modulepreload",href:b,...t})),g.map(({key:b,link:S})=>ee.createElement("link",{key:b,nonce:t.nonce,...S})))}function D6(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var L6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{L6&&(window.__reactRouterVersion="7.11.0")}catch{}function Q6({basename:n,children:e,unstable_useTransitions:t,window:s}){let a=ee.useRef();a.current==null&&(a.current=pF({window:s,v5Compat:!0}));let o=a.current,[c,h]=ee.useState({action:o.action,location:o.location}),u=ee.useCallback(f=>{t===!1?h(f):ee.startTransition(()=>h(f))},[t]);return ee.useLayoutEffect(()=>o.listen(u),[o,u]),ee.createElement(d6,{basename:n,children:e,location:c.location,navigationType:c.action,navigator:o,unstable_useTransitions:t})}var WN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wi=ee.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:a,reloadDocument:o,replace:c,state:h,target:u,to:f,preventScrollReset:A,viewTransition:m,unstable_defaultShouldRevalidate:v,...g},b){let{basename:S,unstable_useTransitions:N}=ee.useContext(aA),E=typeof f=="string"&&WN.test(f),I=ON(f,S);f=I.to;let F=XF(f,{relative:a}),[D,P,K]=_6(s,g),L=M6(f,{replace:c,state:h,target:u,preventScrollReset:A,relative:a,viewTransition:m,unstable_defaultShouldRevalidate:v,unstable_useTransitions:N});function Q(M){e&&e(M),M.defaultPrevented||L(M)}let R=ee.createElement("a",{...g,...K,href:I.absoluteURL||F,onClick:I.isExternal||o?e:Q,ref:D6(b,P),target:u,"data-discover":!E&&t==="render"?"true":void 0});return D&&!E?ee.createElement(ee.Fragment,null,R,ee.createElement(F6,{page:F})):R});wi.displayName="Link";var O6=ee.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:a=!1,style:o,to:c,viewTransition:h,children:u,...f},A){let m=vg(c,{relative:f.relative}),v=Fu(),g=ee.useContext(ox),{navigator:b,basename:S}=ee.useContext(aA),N=g!=null&&G6(m)&&h===!0,E=b.encodeLocation?b.encodeLocation(m).pathname:m.pathname,I=v.pathname,F=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;t||(I=I.toLowerCase(),F=F?F.toLowerCase():null,E=E.toLowerCase()),F&&S&&(F=Cu(F,S)||F);const D=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let P=I===E||!a&&I.startsWith(E)&&I.charAt(D)==="/",K=F!=null&&(F===E||!a&&F.startsWith(E)&&F.charAt(E.length)==="/"),L={isActive:P,isPending:K,isTransitioning:N},Q=P?e:void 0,R;typeof s=="function"?R=s(L):R=[s,P?"active":null,K?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let M=typeof o=="function"?o(L):o;return ee.createElement(wi,{...f,"aria-current":Q,className:R,ref:A,style:M,to:c,viewTransition:h},typeof u=="function"?u(L):u)});O6.displayName="NavLink";var P6=ee.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:a,state:o,method:c=sv,action:h,onSubmit:u,relative:f,preventScrollReset:A,viewTransition:m,unstable_defaultShouldRevalidate:v,...g},b)=>{let{unstable_useTransitions:S}=ee.useContext(aA),N=K6(),E=z6(h,{relative:f}),I=c.toLowerCase()==="get"?"get":"post",F=typeof h=="string"&&WN.test(h),D=P=>{if(u&&u(P),P.defaultPrevented)return;P.preventDefault();let K=P.nativeEvent.submitter,L=(K==null?void 0:K.getAttribute("formmethod"))||c,Q=()=>N(K||P.currentTarget,{fetcherKey:e,method:L,navigate:t,replace:a,state:o,relative:f,preventScrollReset:A,viewTransition:m,unstable_defaultShouldRevalidate:v});S&&t!==!1?ee.startTransition(()=>Q()):Q()};return ee.createElement("form",{ref:b,method:I,action:E,onSubmit:s?u:D,...g,"data-discover":!F&&n==="render"?"true":void 0})});P6.displayName="Form";function k6(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XN(n){let e=ee.useContext(fm);return Ba(e,k6(n)),e}function M6(n,{target:e,replace:t,state:s,preventScrollReset:a,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:h,unstable_useTransitions:u}={}){let f=gg(),A=Fu(),m=vg(n,{relative:o});return ee.useCallback(v=>{if(v6(v,e)){v.preventDefault();let g=t!==void 0?t:Xp(A)===Xp(m),b=()=>f(n,{replace:g,state:s,preventScrollReset:a,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:h});u?ee.startTransition(()=>b()):b()}},[A,f,m,t,s,e,n,a,o,c,h,u])}var H6=0,V6=()=>`__${String(++H6)}__`;function K6(){let{router:n}=XN("useSubmit"),{basename:e}=ee.useContext(aA),t=l6(),s=n.fetch,a=n.navigate;return ee.useCallback(async(o,c={})=>{let{action:h,method:u,encType:f,formData:A,body:m}=b6(o,e);if(c.navigate===!1){let v=c.fetcherKey||V6();await s(v,t,c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:A,body:m,formMethod:c.method||u,formEncType:c.encType||f,flushSync:c.flushSync})}else await a(c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:A,body:m,formMethod:c.method||u,formEncType:c.encType||f,replace:c.replace,state:c.state,fromRouteId:t,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,a,e,t])}function z6(n,{relative:e}={}){let{basename:t}=ee.useContext(aA),s=ee.useContext(lc);Ba(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),o={...vg(n||".",{relative:e})},c=Fu();if(n==null){o.search=c.search;let h=new URLSearchParams(o.search),u=h.getAll("index");if(u.some(A=>A==="")){h.delete("index"),u.filter(m=>m).forEach(m=>h.append("index",m));let A=h.toString();o.search=A?`?${A}`:""}}return(!n||n===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:bu([t,o.pathname])),Xp(o)}function G6(n,{relative:e}={}){let t=ee.useContext(kN);Ba(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=XN("useViewTransitionState"),a=vg(n,{relative:e});if(!t.isTransitioning)return!1;let o=Cu(t.currentLocation.pathname,s)||t.currentLocation.pathname,c=Cu(t.nextLocation.pathname,s)||t.nextLocation.pathname;return jv(a.pathname,c)!=null||jv(a.pathname,o)!=null}const $6=()=>{};var nB={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let a=n.charCodeAt(s);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},Y6=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const a=n[t++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const o=n[t++];e[s++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=n[t++],c=n[t++],h=n[t++],u=((a&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;e[s++]=String.fromCharCode(55296+(u>>10)),e[s++]=String.fromCharCode(56320+(u&1023))}else{const o=n[t++],c=n[t++];e[s++]=String.fromCharCode((a&15)<<12|(o&63)<<6|c&63)}}return e.join("")},qN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<n.length;a+=3){const o=n[a],c=a+1<n.length,h=c?n[a+1]:0,u=a+2<n.length,f=u?n[a+2]:0,A=o>>2,m=(o&3)<<4|h>>4;let v=(h&15)<<2|f>>6,g=f&63;u||(g=64,c||(v=64)),s.push(t[A],t[m],t[v],t[g])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(JN(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Y6(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<n.length;){const o=t[n.charAt(a++)],h=a<n.length?t[n.charAt(a)]:0;++a;const f=a<n.length?t[n.charAt(a)]:64;++a;const m=a<n.length?t[n.charAt(a)]:64;if(++a,o==null||h==null||f==null||m==null)throw new W6;const v=o<<2|h>>4;if(s.push(v),f!==64){const g=h<<4&240|f>>2;if(s.push(g),m!==64){const b=f<<6&192|m;s.push(b)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class W6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const X6=function(n){const e=JN(n);return qN.encodeByteArray(e,!0)},Bv=function(n){return X6(n).replace(/\./g,"")},ZN=function(n){try{return qN.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q6=()=>J6().__FIREBASE_DEFAULTS__,Z6=()=>{if(typeof process>"u"||typeof nB>"u")return;const n=nB.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},eU=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&ZN(n[1]);return e&&JSON.parse(e)},Ax=()=>{try{return $6()||q6()||Z6()||eU()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},eE=n=>{var e,t;return(t=(e=Ax())==null?void 0:e.emulatorHosts)==null?void 0:t[n]},tE=n=>{const e=eE(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},nE=()=>{var n;return(n=Ax())==null?void 0:n.config},sE=n=>{var e;return(e=Ax())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tU{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function tw(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nU(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",a=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Bv(JSON.stringify(t)),Bv(JSON.stringify(c)),""].join(".")}const Ip={};function sU(){const n={prod:[],emulator:[]};for(const e of Object.keys(Ip))Ip[e]?n.emulator.push(e):n.prod.push(e);return n}function rU(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let sB=!1;function nw(n,e){if(typeof window>"u"||typeof document>"u"||!Gd(window.location.host)||Ip[n]===e||Ip[n]||sB)return;Ip[n]=e;function t(v){return`__firebase__banner__${v}`}const s="__firebase__banner",o=sU().prod.length>0;function c(){const v=document.getElementById(s);v&&v.remove()}function h(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function u(v,g){v.setAttribute("width","24"),v.setAttribute("id",g),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function f(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{sB=!0,c()},v}function A(v,g){v.setAttribute("id",g),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function m(){const v=rU(s),g=t("text"),b=document.getElementById(g)||document.createElement("span"),S=t("learnmore"),N=document.getElementById(S)||document.createElement("a"),E=t("preprendIcon"),I=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const F=v.element;h(F),A(N,S);const D=f();u(I,E),F.append(I,b,N,D),document.body.appendChild(F)}o?(b.innerText="Preview backend disconnected.",I.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(I.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Go(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function aU(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Go())}function iU(){var e;const n=(e=Ax())==null?void 0:e.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function oU(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function lU(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function AU(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cU(){const n=Go();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function uU(){return!iU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dU(){try{return typeof indexedDB=="object"}catch{return!1}}function hU(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var o;e(((o=a.error)==null?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fU="FirebaseError";class Ac extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=fU,Object.setPrototypeOf(this,Ac.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xg.prototype.create)}}class xg{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},a=`${this.service}/${e}`,o=this.errors[e],c=o?mU(o,s):"Error",h=`${this.serviceName}: ${c} (${a}).`;return new Ac(a,h,s)}}function mU(n,e){return n.replace(pU,(t,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const pU=/\{\$([^}]+)}/g;function gU(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function $h(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const a of t){if(!s.includes(a))return!1;const o=n[a],c=e[a];if(rB(o)&&rB(c)){if(!$h(o,c))return!1}else if(o!==c)return!1}for(const a of s)if(!t.includes(a))return!1;return!0}function rB(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yg(n){const e=[];for(const[t,s]of Object.entries(n))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function wp(n){const e={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,o]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(o)}}),e}function jp(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function vU(n,e){const t=new xU(n,e);return t.subscribe.bind(t)}class xU{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let a;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");yU(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:s},a.next===void 0&&(a.next=Ty),a.error===void 0&&(a.error=Ty),a.complete===void 0&&(a.complete=Ty);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yU(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Ty(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ca(n){return n&&n._delegate?n._delegate:n}let Cv=class{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bU{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new tU;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jU(e))try{this.getOrInitializeService({instanceIdentifier:Ih})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:a});s.resolve(o)}catch{}}}}clearInstance(e=Ih){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ih){return this.instances.has(e)}getOptions(e=Ih){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);s===h&&c.resolve(a)}return a}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const o=this.instances.get(s);return o&&e(o,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const a of s)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:wU(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ih){return this.component?this.component.multipleInstances?e:Ih:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wU(n){return n===Ih?void 0:n}function jU(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BU{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new bU(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var la;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(la||(la={}));const CU={debug:la.DEBUG,verbose:la.VERBOSE,info:la.INFO,warn:la.WARN,error:la.ERROR,silent:la.SILENT},SU=la.INFO,NU={[la.DEBUG]:"log",[la.VERBOSE]:"log",[la.INFO]:"info",[la.WARN]:"warn",[la.ERROR]:"error"},EU=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),a=NU[e];if(a)console[a](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let TU=class{constructor(e){this.name=e,this._logLevel=SU,this._logHandler=EU,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in la))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?CU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,la.DEBUG,...e),this._logHandler(this,la.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,la.VERBOSE,...e),this._logHandler(this,la.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,la.INFO,...e),this._logHandler(this,la.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,la.WARN,...e),this._logHandler(this,la.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,la.ERROR,...e),this._logHandler(this,la.ERROR,...e)}};const IU=(n,e)=>e.some(t=>n instanceof t);let aB,iB;function _U(){return aB||(aB=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FU(){return iB||(iB=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rE=new WeakMap,D1=new WeakMap,aE=new WeakMap,Iy=new WeakMap,sw=new WeakMap;function UU(n){const e=new Promise((t,s)=>{const a=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{t(Td(n.result)),a()},c=()=>{s(n.error),a()};n.addEventListener("success",o),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&rE.set(t,n)}).catch(()=>{}),sw.set(e,n),e}function RU(n){if(D1.has(n))return;const e=new Promise((t,s)=>{const a=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{t(),a()},c=()=>{s(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});D1.set(n,e)}let L1={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return D1.get(n);if(e==="objectStoreNames")return n.objectStoreNames||aE.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Td(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function DU(n){L1=n(L1)}function LU(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(_y(this),e,...t);return aE.set(s,e.sort?e.sort():[e]),Td(s)}:FU().includes(n)?function(...e){return n.apply(_y(this),e),Td(rE.get(this))}:function(...e){return Td(n.apply(_y(this),e))}}function QU(n){return typeof n=="function"?LU(n):(n instanceof IDBTransaction&&RU(n),IU(n,_U())?new Proxy(n,L1):n)}function Td(n){if(n instanceof IDBRequest)return UU(n);if(Iy.has(n))return Iy.get(n);const e=QU(n);return e!==n&&(Iy.set(n,e),sw.set(e,n)),e}const _y=n=>sw.get(n);function OU(n,e,{blocked:t,upgrade:s,blocking:a,terminated:o}={}){const c=indexedDB.open(n,e),h=Td(c);return s&&c.addEventListener("upgradeneeded",u=>{s(Td(c.result),u.oldVersion,u.newVersion,Td(c.transaction),u)}),t&&c.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),h.then(u=>{o&&u.addEventListener("close",()=>o()),a&&u.addEventListener("versionchange",f=>a(f.oldVersion,f.newVersion,f))}).catch(()=>{}),h}const PU=["get","getKey","getAll","getAllKeys","count"],kU=["put","add","delete","clear"],Fy=new Map;function oB(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Fy.get(e))return Fy.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,a=kU.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(a||PU.includes(t)))return;const o=async function(c,...h){const u=this.transaction(c,a?"readwrite":"readonly");let f=u.store;return s&&(f=f.index(h.shift())),(await Promise.all([f[t](...h),a&&u.done]))[0]};return Fy.set(e,o),o}DU(n=>({...n,get:(e,t,s)=>oB(e,t)||n.get(e,t,s),has:(e,t)=>!!oB(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MU{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(HU(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function HU(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Q1="@firebase/app",lB="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Su=new TU("@firebase/app"),VU="@firebase/app-compat",KU="@firebase/analytics-compat",zU="@firebase/analytics",GU="@firebase/app-check-compat",$U="@firebase/app-check",YU="@firebase/auth",WU="@firebase/auth-compat",XU="@firebase/database",JU="@firebase/data-connect",qU="@firebase/database-compat",ZU="@firebase/functions",eR="@firebase/functions-compat",tR="@firebase/installations",nR="@firebase/installations-compat",sR="@firebase/messaging",rR="@firebase/messaging-compat",aR="@firebase/performance",iR="@firebase/performance-compat",oR="@firebase/remote-config",lR="@firebase/remote-config-compat",AR="@firebase/storage",cR="@firebase/storage-compat",uR="@firebase/firestore",dR="@firebase/ai",hR="@firebase/firestore-compat",fR="firebase",mR="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1="[DEFAULT]",pR={[Q1]:"fire-core",[VU]:"fire-core-compat",[zU]:"fire-analytics",[KU]:"fire-analytics-compat",[$U]:"fire-app-check",[GU]:"fire-app-check-compat",[YU]:"fire-auth",[WU]:"fire-auth-compat",[XU]:"fire-rtdb",[JU]:"fire-data-connect",[qU]:"fire-rtdb-compat",[ZU]:"fire-fn",[eR]:"fire-fn-compat",[tR]:"fire-iid",[nR]:"fire-iid-compat",[sR]:"fire-fcm",[rR]:"fire-fcm-compat",[aR]:"fire-perf",[iR]:"fire-perf-compat",[oR]:"fire-rc",[lR]:"fire-rc-compat",[AR]:"fire-gcs",[cR]:"fire-gcs-compat",[uR]:"fire-fst",[hR]:"fire-fst-compat",[dR]:"fire-vertex","fire-js":"fire-js",[fR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv=new Map,gR=new Map,P1=new Map;function AB(n,e){try{n.container.addComponent(e)}catch(t){Su.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ld(n){const e=n.name;if(P1.has(e))return Su.debug(`There were multiple attempts to register component ${e}.`),!1;P1.set(e,n);for(const t of Sv.values())AB(t,n);for(const t of gR.values())AB(t,n);return!0}function cx(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function eA(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Id=new xg("app","Firebase",vR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Cv("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Id.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ef=mR;function iE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s={name:O1,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw Id.create("bad-app-name",{appName:String(a)});if(t||(t=nE()),!t)throw Id.create("no-options");const o=Sv.get(a);if(o){if($h(t,o.options)&&$h(s,o.config))return o;throw Id.create("duplicate-app",{appName:a})}const c=new BU(a);for(const u of P1.values())c.addComponent(u);const h=new xR(t,s,c);return Sv.set(a,h),h}function rw(n=O1){const e=Sv.get(n);if(!e&&n===O1&&nE())return iE();if(!e)throw Id.create("no-app",{appName:n});return e}function IA(n,e,t){let s=pR[n]??n;t&&(s+=`-${t}`);const a=s.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const c=[`Unable to register library "${s}" with version "${e}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Su.warn(c.join(" "));return}Ld(new Cv(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR="firebase-heartbeat-database",bR=1,Jp="firebase-heartbeat-store";let Uy=null;function oE(){return Uy||(Uy=OU(yR,bR,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Jp)}catch(t){console.warn(t)}}}}).catch(n=>{throw Id.create("idb-open",{originalErrorMessage:n.message})})),Uy}async function wR(n){try{const t=(await oE()).transaction(Jp),s=await t.objectStore(Jp).get(lE(n));return await t.done,s}catch(e){if(e instanceof Ac)Su.warn(e.message);else{const t=Id.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Su.warn(t.message)}}}async function cB(n,e){try{const s=(await oE()).transaction(Jp,"readwrite");await s.objectStore(Jp).put(e,lE(n)),await s.done}catch(t){if(t instanceof Ac)Su.warn(t.message);else{const s=Id.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Su.warn(s.message)}}}function lE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR=1024,BR=30;class CR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new NR(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=uB();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(c=>c.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:a}),this._heartbeatsCache.heartbeats.length>BR){const c=ER(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Su.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=uB(),{heartbeatsToSend:s,unsentEntries:a}=SR(this._heartbeatsCache.heartbeats),o=Bv(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Su.warn(t),""}}}function uB(){return new Date().toISOString().substring(0,10)}function SR(n,e=jR){const t=[];let s=n.slice();for(const a of n){const o=t.find(c=>c.agent===a.agent);if(o){if(o.dates.push(a.date),dB(t)>e){o.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),dB(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class NR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dU()?hU().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await wR(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return cB(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return cB(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function dB(n){return Bv(JSON.stringify({version:2,heartbeats:n})).length}function ER(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let s=1;s<n.length;s++)n[s].date<t&&(t=n[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(n){Ld(new Cv("platform-logger",e=>new MU(e),"PRIVATE")),Ld(new Cv("heartbeat",e=>new CR(e),"PRIVATE")),IA(Q1,lB,n),IA(Q1,lB,"esm2020"),IA("fire-js","")}TR("");var IR="firebase",_R="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */IA(IR,_R,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gr;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Gr||(Gr={}));const FR={debug:Gr.DEBUG,verbose:Gr.VERBOSE,info:Gr.INFO,warn:Gr.WARN,error:Gr.ERROR,silent:Gr.SILENT},UR=Gr.INFO,RR={[Gr.DEBUG]:"log",[Gr.VERBOSE]:"log",[Gr.INFO]:"info",[Gr.WARN]:"warn",[Gr.ERROR]:"error"},DR=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),a=RR[e];if(a)console[a](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let LR=class{constructor(e){this.name=e,this._logLevel=UR,this._logHandler=DR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Gr))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?FR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Gr.DEBUG,...e),this._logHandler(this,Gr.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Gr.VERBOSE,...e),this._logHandler(this,Gr.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Gr.INFO,...e),this._logHandler(this,Gr.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Gr.WARN,...e),this._logHandler(this,Gr.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Gr.ERROR,...e),this._logHandler(this,Gr.ERROR,...e)}},hB=class{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};function AE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const QR=AE,cE=new xg("auth","Firebase",AE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv=new LR("@firebase/auth");function OR(n,...e){Nv.logLevel<=Gr.WARN&&Nv.warn(`Auth (${ef}): ${n}`,...e)}function av(n,...e){Nv.logLevel<=Gr.ERROR&&Nv.error(`Auth (${ef}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rc(n,...e){throw aw(n,...e)}function Pc(n,...e){return aw(n,...e)}function uE(n,e,t){const s={...QR(),[e]:t};return new xg("auth","Firebase",s).create(e,{appName:n.name})}function _d(n){return uE(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function aw(n,...e){if(typeof n!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(t,...s)}return cE.create(n,...e)}function ns(n,e,...t){if(!n)throw aw(e,...t)}function xu(n){const e="INTERNAL ASSERTION FAILED: "+n;throw av(e),new Error(e)}function Nu(n,e){n||xu(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function PR(){return fB()==="http:"||fB()==="https:"}function fB(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(PR()||lU()||"connection"in navigator)?navigator.onLine:!0}function MR(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e,t){this.shortDelay=e,this.longDelay=t,Nu(t>e,"Short delay should be less than long delay!"),this.isMobile=aU()||AU()}get(){return kR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(n,e){Nu(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],KR=new bg(3e4,6e4);function $d(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Uu(n,e,t,s,a={}){return hE(n,a,async()=>{let o={},c={};s&&(e==="GET"?c=s:o={body:JSON.stringify(s)});const h=yg({key:n.config.apiKey,...c}).slice(1),u=await n._getAdditionalHeaders();u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode);const f={method:e,headers:u,...o};return oU()||(f.referrerPolicy="no-referrer"),n.emulatorConfig&&Gd(n.emulatorConfig.host)&&(f.credentials="include"),dE.fetch()(await fE(n,n.config.apiHost,t,h),f)})}async function hE(n,e,t){n._canInitEmulator=!1;const s={...HR,...e};try{const a=new GR(n),o=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw D0(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const h=o.ok?c.errorMessage:c.error.message,[u,f]=h.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw D0(n,"credential-already-in-use",c);if(u==="EMAIL_EXISTS")throw D0(n,"email-already-in-use",c);if(u==="USER_DISABLED")throw D0(n,"user-disabled",c);const A=s[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw uE(n,A,f);rc(n,A)}}catch(a){if(a instanceof Ac)throw a;rc(n,"network-request-failed",{message:String(a)})}}async function ux(n,e,t,s,a={}){const o=await Uu(n,e,t,s,a);return"mfaPendingCredential"in o&&rc(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function fE(n,e,t,s){const a=`${e}${t}?${s}`,o=n,c=o.config.emulator?iw(n.config,a):`${n.config.apiScheme}://${a}`;return VR.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function zR(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class GR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Pc(this.auth,"network-request-failed")),KR.get())})}}function D0(n,e,t){const s={appName:n.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const a=Pc(n,e,s);return a.customData._tokenResponse=t,a}function mB(n){return n!==void 0&&n.enterprise!==void 0}class $R{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return zR(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function YR(n,e){return Uu(n,"GET","/v2/recaptchaConfig",$d(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WR(n,e){return Uu(n,"POST","/v1/accounts:delete",e)}async function Ev(n,e){return Uu(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function XR(n,e=!1){const t=Ca(n),s=await t.getIdToken(e),a=ow(s);ns(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,c=o==null?void 0:o.sign_in_provider;return{claims:a,token:s,authTime:_p(Ry(a.auth_time)),issuedAtTime:_p(Ry(a.iat)),expirationTime:_p(Ry(a.exp)),signInProvider:c||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Ry(n){return Number(n)*1e3}function ow(n){const[e,t,s]=n.split(".");if(e===void 0||t===void 0||s===void 0)return av("JWT malformed, contained fewer than 3 sections"),null;try{const a=ZN(t);return a?JSON.parse(a):(av("Failed to decode base64 JWT payload"),null)}catch(a){return av("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function pB(n){const e=ow(n);return ns(e,"internal-error"),ns(typeof e.exp<"u","internal-error"),ns(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qp(n,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Ac&&JR(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function JR({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=_p(this.lastLoginAt),this.creationTime=_p(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tv(n){var m;const e=n.auth,t=await n.getIdToken(),s=await qp(n,Ev(e,{idToken:t}));ns(s==null?void 0:s.users.length,e,"internal-error");const a=s.users[0];n._notifyReloadListener(a);const o=(m=a.providerUserInfo)!=null&&m.length?mE(a.providerUserInfo):[],c=eD(n.providerData,o),h=n.isAnonymous,u=!(n.email&&a.passwordHash)&&!(c!=null&&c.length),f=h?u:!1,A={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new M1(a.createdAt,a.lastLoginAt),isAnonymous:f};Object.assign(n,A)}async function ZR(n){const e=Ca(n);await Tv(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function eD(n,e){return[...n.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function mE(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tD(n,e){const t=await hE(n,{},async()=>{const s=yg({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=n.config,c=await fE(n,a,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:h,body:s};return n.emulatorConfig&&Gd(n.emulatorConfig.host)&&(u.credentials="include"),dE.fetch()(c,u)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function nD(n,e){return Uu(n,"POST","/v2/accounts:revokeToken",$d(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ns(e.idToken,"internal-error"),ns(typeof e.idToken<"u","internal-error"),ns(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):pB(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ns(e.length!==0,"internal-error");const t=pB(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ns(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:a,expiresIn:o}=await tD(e,t);this.updateTokensAndExpiration(s,a,Number(o))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:a,expirationTime:o}=t,c=new Xf;return s&&(ns(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),a&&(ns(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),o&&(ns(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xf,this.toJSON())}_performRefresh(){return xu("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pd(n,e){ns(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class tc{constructor({uid:e,auth:t,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new qR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new M1(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await qp(this,this.stsTokenManager.getToken(this.auth,e));return ns(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return XR(this,e)}reload(){return ZR(this)}_assign(e){this!==e&&(ns(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new tc({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){ns(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Tv(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(eA(this.auth.app))return Promise.reject(_d(this.auth));const e=await this.getIdToken();return await qp(this,WR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,a=t.email??void 0,o=t.phoneNumber??void 0,c=t.photoURL??void 0,h=t.tenantId??void 0,u=t._redirectEventId??void 0,f=t.createdAt??void 0,A=t.lastLoginAt??void 0,{uid:m,emailVerified:v,isAnonymous:g,providerData:b,stsTokenManager:S}=t;ns(m&&S,e,"internal-error");const N=Xf.fromJSON(this.name,S);ns(typeof m=="string",e,"internal-error"),pd(s,e.name),pd(a,e.name),ns(typeof v=="boolean",e,"internal-error"),ns(typeof g=="boolean",e,"internal-error"),pd(o,e.name),pd(c,e.name),pd(h,e.name),pd(u,e.name),pd(f,e.name),pd(A,e.name);const E=new tc({uid:m,auth:e,email:a,emailVerified:v,displayName:s,isAnonymous:g,photoURL:c,phoneNumber:o,tenantId:h,stsTokenManager:N,createdAt:f,lastLoginAt:A});return b&&Array.isArray(b)&&(E.providerData=b.map(I=>({...I}))),u&&(E._redirectEventId=u),E}static async _fromIdTokenResponse(e,t,s=!1){const a=new Xf;a.updateFromServerResponse(t);const o=new tc({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await Tv(o),o}static async _fromGetAccountInfoResponse(e,t,s){const a=t.users[0];ns(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?mE(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(o!=null&&o.length),h=new Xf;h.updateFromIdToken(s);const u=new tc({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:c}),f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new M1(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(o!=null&&o.length)};return Object.assign(u,f),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gB=new Map;function yu(n){Nu(n instanceof Function,"Expected a class definition");let e=gB.get(n);return e?(Nu(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,gB.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}pE.type="NONE";const vB=pE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iv(n,e,t){return`firebase:${n}:${e}:${t}`}class Jf{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:a,name:o}=this.auth;this.fullUserKey=iv(this.userKey,a.apiKey,o),this.fullPersistenceKey=iv("persistence",a.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Ev(this.auth,{idToken:e}).catch(()=>{});return t?tc._fromGetAccountInfoResponse(this.auth,t,e):null}return tc._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Jf(yu(vB),e,s);const a=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=a[0]||yu(vB);const c=iv(s,e.config.apiKey,e.name);let h=null;for(const f of t)try{const A=await f._get(c);if(A){let m;if(typeof A=="string"){const v=await Ev(e,{idToken:A}).catch(()=>{});if(!v)break;m=await tc._fromGetAccountInfoResponse(e,v,A)}else m=tc._fromJSON(e,A);f!==o&&(h=m),o=f;break}}catch{}const u=a.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new Jf(o,e,s):(o=u[0],h&&await o._set(c,h.toJSON()),await Promise.all(t.map(async f=>{if(f!==o)try{await f._remove(c)}catch{}})),new Jf(o,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xB(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(yE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(gE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(wE(e))return"Blackberry";if(jE(e))return"Webos";if(vE(e))return"Safari";if((e.includes("chrome/")||xE(e))&&!e.includes("edge/"))return"Chrome";if(bE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function gE(n=Go()){return/firefox\//i.test(n)}function vE(n=Go()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function xE(n=Go()){return/crios\//i.test(n)}function yE(n=Go()){return/iemobile/i.test(n)}function bE(n=Go()){return/android/i.test(n)}function wE(n=Go()){return/blackberry/i.test(n)}function jE(n=Go()){return/webos/i.test(n)}function lw(n=Go()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function sD(n=Go()){var e;return lw(n)&&!!((e=window.navigator)!=null&&e.standalone)}function rD(){return cU()&&document.documentMode===10}function BE(n=Go()){return lw(n)||bE(n)||jE(n)||wE(n)||/windows phone/i.test(n)||yE(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CE(n,e=[]){let t;switch(n){case"Browser":t=xB(Go());break;case"Worker":t=`${xB(Go())}-${n}`;break;default:t=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ef}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=o=>new Promise((c,h)=>{try{const u=e(o);c(u)}catch(u){h(u)}});s.onAbort=t,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iD(n,e={}){return Uu(n,"GET","/v2/passwordPolicy",$d(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD=6;class lD{constructor(e){var s;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??oD,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e,t,s,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yB(this),this.idTokenSubscription=new yB(this),this.beforeStateQueue=new aD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=yu(t)),this._initializationPromise=this.queue(async()=>{var s,a,o;if(!this._deleted&&(this.persistenceManager=await Jf.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Ev(this,{idToken:e}),s=await tc._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(eA(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(o=this.redirectUser)==null?void 0:o._redirectEventId,h=s==null?void 0:s._redirectEventId,u=await this.tryRedirectSignIn(e);(!c||c===h)&&(u!=null&&u.user)&&(s=u.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ns(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Tv(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=MR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(eA(this.app))return Promise.reject(_d(this));const t=e?Ca(e):null;return t&&ns(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ns(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return eA(this.app)?Promise.reject(_d(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return eA(this.app)?Promise.reject(_d(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(yu(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await iD(this),t=new lD(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new xg("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await nD(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&yu(e)||this._popupRedirectResolver;ns(t,this,"argument-error"),this.redirectPersistenceManager=await Jf.create(this,[yu(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,a){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(ns(h,this,"internal-error"),h.then(()=>{c||o(this.currentUser)}),typeof t=="function"){const u=e.addObserver(t,s,a);return()=>{c=!0,u()}}else{const u=e.addObserver(t);return()=>{c=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ns(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=CE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var t;if(eA(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&OR(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function tf(n){return Ca(n)}class yB{constructor(e){this.auth=e,this.observer=null,this.addObserver=vU(t=>this.observer=t)}get next(){return ns(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dx={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cD(n){dx=n}function SE(n){return dx.loadJS(n)}function uD(){return dx.recaptchaEnterpriseScript}function dD(){return dx.gapiScript}function hD(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class fD{constructor(){this.enterprise=new mD}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class mD{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const pD="recaptcha-enterprise",NE="NO_RECAPTCHA";class gD{constructor(e){this.type=pD,this.auth=tf(e)}async verify(e="verify",t=!1){async function s(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,h)=>{YR(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const f=new $R(u);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,c(f.siteKey)}}).catch(u=>{h(u)})})}function a(o,c,h){const u=window.grecaptcha;mB(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(f=>{c(f)}).catch(()=>{c(NE)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new fD().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{s(this.auth).then(h=>{if(!t&&mB(window.grecaptcha))a(h,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let u=uD();u.length!==0&&(u+=h),SE(u).then(()=>{a(h,o,c)}).catch(f=>{c(f)})}}).catch(h=>{c(h)})})}}async function bB(n,e,t,s=!1,a=!1){const o=new gD(n);let c;if(a)c=NE;else try{c=await o.verify(t)}catch{c=await o.verify(t,!0)}const h={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const u=h.phoneEnrollmentInfo.phoneNumber,f=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const u=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return s?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function H1(n,e,t,s,a){var o;if((o=n._getRecaptchaConfig())!=null&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await bB(n,e,t,t==="getOobCode");return s(n,c)}else return s(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await bB(n,e,t,t==="getOobCode");return s(n,h)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(n,e){const t=cx(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),o=t.getOptions();if($h(o,e??{}))return a;rc(a,"already-initialized")}return t.initialize({options:e})}function xD(n,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(yu);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function yD(n,e,t){const s=tf(n);ns(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,o=EE(e),{host:c,port:h}=bD(e),u=h===null?"":`:${h}`,f={url:`${o}//${c}${u}/`},A=Object.freeze({host:c,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){ns(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ns($h(f,s.config.emulator)&&$h(A,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=f,s.emulatorConfig=A,s.settings.appVerificationDisabledForTesting=!0,Gd(c)?(tw(`${o}//${c}${u}`),nw("Auth",!0)):wD()}function EE(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function bD(n){const e=EE(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const o=a[1];return{host:o,port:wB(s.substr(o.length+1))}}else{const[o,c]=s.split(":");return{host:o,port:wB(c)}}}function wB(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function wD(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return xu("not implemented")}_getIdTokenResponse(e){return xu("not implemented")}_linkToIdToken(e,t){return xu("not implemented")}_getReauthenticationResolver(e){return xu("not implemented")}}async function jD(n,e){return Uu(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BD(n,e){return ux(n,"POST","/v1/accounts:signInWithPassword",$d(n,e))}async function CD(n,e){return Uu(n,"POST","/v1/accounts:sendOobCode",$d(n,e))}async function SD(n,e){return CD(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ND(n,e){return ux(n,"POST","/v1/accounts:signInWithEmailLink",$d(n,e))}async function ED(n,e){return ux(n,"POST","/v1/accounts:signInWithEmailLink",$d(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp extends Aw{constructor(e,t,s,a=null){super("password",s),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new Zp(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new Zp(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return H1(e,t,"signInWithPassword",BD);case"emailLink":return ND(e,{email:this._email,oobCode:this._password});default:rc(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return H1(e,s,"signUpPassword",jD);case"emailLink":return ED(e,{idToken:t,email:this._email,oobCode:this._password});default:rc(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qf(n,e){return ux(n,"POST","/v1/accounts:signInWithIdp",$d(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD="http://localhost";class Yh extends Aw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Yh(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):rc("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...o}=t;if(!s||!a)return null;const c=new Yh(s,a);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return qf(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,qf(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,qf(e,t)}buildRequest(){const e={requestUri:TD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=yg(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _D(n){const e=wp(jp(n)).link,t=e?wp(jp(e)).deep_link_id:null,s=wp(jp(n)).deep_link_id;return(s?wp(jp(s)).link:null)||s||t||e||n}class cw{constructor(e){const t=wp(jp(e)),s=t.apiKey??null,a=t.oobCode??null,o=ID(t.mode??null);ns(s&&a&&o,"argument-error"),this.apiKey=s,this.operation=o,this.code=a,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=_D(e);try{return new cw(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(){this.providerId=pm.PROVIDER_ID}static credential(e,t){return Zp._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=cw.parseLink(t);return ns(s,"argument-error"),Zp._fromEmailAndCode(e,s.code,s.tenantId)}}pm.PROVIDER_ID="password";pm.EMAIL_PASSWORD_SIGN_IN_METHOD="password";pm.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg extends TE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd extends wg{constructor(){super("facebook.com")}static credential(e){return Yh._fromParams({providerId:yd.PROVIDER_ID,signInMethod:yd.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yd.credentialFromTaggedObject(e)}static credentialFromError(e){return yd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yd.credential(e.oauthAccessToken)}catch{return null}}}yd.FACEBOOK_SIGN_IN_METHOD="facebook.com";yd.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd extends wg{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Yh._fromParams({providerId:bd.PROVIDER_ID,signInMethod:bd.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return bd.credentialFromTaggedObject(e)}static credentialFromError(e){return bd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return bd.credential(t,s)}catch{return null}}}bd.GOOGLE_SIGN_IN_METHOD="google.com";bd.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd extends wg{constructor(){super("github.com")}static credential(e){return Yh._fromParams({providerId:wd.PROVIDER_ID,signInMethod:wd.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wd.credentialFromTaggedObject(e)}static credentialFromError(e){return wd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wd.credential(e.oauthAccessToken)}catch{return null}}}wd.GITHUB_SIGN_IN_METHOD="github.com";wd.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd extends wg{constructor(){super("twitter.com")}static credential(e,t){return Yh._fromParams({providerId:jd.PROVIDER_ID,signInMethod:jd.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return jd.credentialFromTaggedObject(e)}static credentialFromError(e){return jd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return jd.credential(t,s)}catch{return null}}}jd.TWITTER_SIGN_IN_METHOD="twitter.com";jd.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,a=!1){const o=await tc._fromIdTokenResponse(e,s,a),c=jB(s);return new tm({user:o,providerId:c,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const a=jB(s);return new tm({user:e,providerId:a,_tokenResponse:s,operationType:t})}}function jB(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv extends Ac{constructor(e,t,s,a){super(t.code,t.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,Iv.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,a){return new Iv(e,t,s,a)}}function IE(n,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Iv._fromErrorAndOperation(n,o,e,s):o})}async function FD(n,e,t=!1){const s=await qp(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return tm._forOperation(n,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UD(n,e,t=!1){const{auth:s}=n;if(eA(s.app))return Promise.reject(_d(s));const a="reauthenticate";try{const o=await qp(n,IE(s,a,e,n),t);ns(o.idToken,s,"internal-error");const c=ow(o.idToken);ns(c,s,"internal-error");const{sub:h}=c;return ns(n.uid===h,s,"user-mismatch"),tm._forOperation(n,a,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&rc(s,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _E(n,e,t=!1){if(eA(n.app))return Promise.reject(_d(n));const s="signIn",a=await IE(n,s,e),o=await tm._fromIdTokenResponse(n,s,a);return t||await n._updateCurrentUser(o.user),o}async function RD(n,e){return _E(tf(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DD(n){const e=tf(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function LD(n,e,t){const s=tf(n);await H1(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",SD)}function QD(n,e,t){return eA(n.app)?Promise.reject(_d(n)):RD(Ca(n),pm.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&DD(n),s})}function OD(n,e,t,s){return Ca(n).onIdTokenChanged(e,t,s)}function PD(n,e,t){return Ca(n).beforeAuthStateChanged(e,t)}function kD(n,e,t,s){return Ca(n).onAuthStateChanged(e,t,s)}function vp(n){return Ca(n).signOut()}const _v="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(_v,"1"),this.storage.removeItem(_v),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD=1e3,HD=10;class UE extends FE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=BE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),a=this.localCache[t];s!==a&&e(t,a,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,h,u)=>{this.notifyListeners(c,u)});return}const s=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!t&&this.localCache[s]===c||this.notifyListeners(s,c)},o=this.storage.getItem(s);rD()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,HD):a()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},MD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}UE.type="LOCAL";const VD=UE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE extends FE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}RE.type="SESSION";const DE=RE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KD(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const s=new hx(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:a,data:o}=t.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const h=Array.from(c).map(async f=>f(t.origin,o)),u=await KD(h);t.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:u})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hx.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uw(n="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,c;return new Promise((h,u)=>{const f=uw("",20);a.port1.start();const A=setTimeout(()=>{u(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(m){const v=m;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(A),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(v.data.response);break;default:clearTimeout(A),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(){return window}function GD(n){kc().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(){return typeof kc().WorkerGlobalScope<"u"&&typeof kc().importScripts=="function"}async function $D(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function YD(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function WD(){return LE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE="firebaseLocalStorageDb",XD=1,Fv="firebaseLocalStorage",OE="fbase_key";class jg{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function fx(n,e){return n.transaction([Fv],e?"readwrite":"readonly").objectStore(Fv)}function JD(){const n=indexedDB.deleteDatabase(QE);return new jg(n).toPromise()}function V1(){const n=indexedDB.open(QE,XD);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(Fv,{keyPath:OE})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(Fv)?e(s):(s.close(),await JD(),e(await V1()))})})}async function BB(n,e,t){const s=fx(n,!0).put({[OE]:e,value:t});return new jg(s).toPromise()}async function qD(n,e){const t=fx(n,!1).get(e),s=await new jg(t).toPromise();return s===void 0?null:s.value}function CB(n,e){const t=fx(n,!0).delete(e);return new jg(t).toPromise()}const ZD=800,eL=3;class PE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await V1(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>eL)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return LE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hx._getInstance(WD()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,s;if(this.activeServiceWorker=await $D(),!this.activeServiceWorker)return;this.sender=new zD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||YD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await V1();return await BB(e,_v,"1"),await CB(e,_v),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>BB(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>qD(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>CB(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=fx(a,!1).getAll();return new jg(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ZD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}PE.type="LOCAL";const tL=PE;new bg(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nL(n,e){return e?yu(e):(ns(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw extends Aw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qf(e,this._buildIdpRequest())}_linkToIdToken(e,t){return qf(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return qf(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function sL(n){return _E(n.auth,new dw(n),n.bypassAuthState)}function rL(n){const{auth:e,user:t}=n;return ns(t,e,"internal-error"),UD(t,new dw(n),n.bypassAuthState)}async function aL(n){const{auth:e,user:t}=n;return ns(t,e,"internal-error"),FD(t,new dw(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(e,t,s,a,o=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:a,tenantId:o,error:c,type:h}=e;if(c){this.reject(c);return}const u={auth:this.auth,requestUri:t,sessionId:s,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(u))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sL;case"linkViaPopup":case"linkViaRedirect":return aL;case"reauthViaPopup":case"reauthViaRedirect":return rL;default:rc(this.auth,"internal-error")}}resolve(e){Nu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Nu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iL=new bg(2e3,1e4);class Kf extends kE{constructor(e,t,s,a,o){super(e,t,a,o),this.provider=s,this.authWindow=null,this.pollId=null,Kf.currentPopupAction&&Kf.currentPopupAction.cancel(),Kf.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ns(e,this.auth,"internal-error"),e}async onExecution(){Nu(this.filter.length===1,"Popup operations only handle one event");const e=uw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Pc(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Pc(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Kf.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if((s=(t=this.authWindow)==null?void 0:t.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pc(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,iL.get())};e()}}Kf.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oL="pendingRedirect",ov=new Map;class lL extends kE{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=ov.get(this.auth._key());if(!e){try{const s=await AL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}ov.set(this.auth._key(),e)}return this.bypassAuthState||ov.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function AL(n,e){const t=dL(e),s=uL(n);if(!await s._isAvailable())return!1;const a=await s._get(t)==="true";return await s._remove(t),a}function cL(n,e){ov.set(n._key(),e)}function uL(n){return yu(n._redirectPersistence)}function dL(n){return iv(oL,n.config.apiKey,n.name)}async function hL(n,e,t=!1){if(eA(n.app))return Promise.reject(_d(n));const s=tf(n),a=nL(s,e),c=await new lL(s,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fL=600*1e3;class mL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!pL(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!ME(e)){const a=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";t.onError(Pc(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=fL&&this.cachedEventUids.clear(),this.cachedEventUids.has(SB(e))}saveEventToCache(e){this.cachedEventUids.add(SB(e)),this.lastProcessedEventTime=Date.now()}}function SB(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function ME({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function pL(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ME(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gL(n,e={}){return Uu(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xL=/^https?/;async function yL(n){if(n.config.emulator)return;const{authorizedDomains:e}=await gL(n);for(const t of e)try{if(bL(t))return}catch{}rc(n,"unauthorized-domain")}function bL(n){const e=k1(),{protocol:t,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&s===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===s}if(!xL.test(t))return!1;if(vL.test(n))return s===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wL=new bg(3e4,6e4);function NB(){const n=kc().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function jL(n){return new Promise((e,t)=>{var a,o,c;function s(){NB(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{NB(),t(Pc(n,"network-request-failed"))},timeout:wL.get()})}if((o=(a=kc().gapi)==null?void 0:a.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((c=kc().gapi)!=null&&c.load)s();else{const h=hD("iframefcb");return kc()[h]=()=>{gapi.load?s():t(Pc(n,"network-request-failed"))},SE(`${dD()}?onload=${h}`).catch(u=>t(u))}}).catch(e=>{throw lv=null,e})}let lv=null;function BL(n){return lv=lv||jL(n),lv}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CL=new bg(5e3,15e3),SL="__/auth/iframe",NL="emulator/auth/iframe",EL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},TL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function IL(n){const e=n.config;ns(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?iw(e,NL):`https://${n.config.authDomain}/${SL}`,s={apiKey:e.apiKey,appName:n.name,v:ef},a=TL.get(n.config.apiHost);a&&(s.eid=a);const o=n._getFrameworks();return o.length&&(s.fw=o.join(",")),`${t}?${yg(s).slice(1)}`}async function _L(n){const e=await BL(n),t=kc().gapi;return ns(t,n,"internal-error"),e.open({where:document.body,url:IL(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:EL,dontclear:!0},s=>new Promise(async(a,o)=>{await s.restyle({setHideOnLeave:!1});const c=Pc(n,"network-request-failed"),h=kc().setTimeout(()=>{o(c)},CL.get());function u(){kc().clearTimeout(h),a(s)}s.ping(u).then(u,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},UL=500,RL=600,DL="_blank",LL="http://localhost";class EB{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function QL(n,e,t,s=UL,a=RL){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let h="";const u={...FL,width:s.toString(),height:a.toString(),top:o,left:c},f=Go().toLowerCase();t&&(h=xE(f)?DL:t),gE(f)&&(e=e||LL,u.scrollbars="yes");const A=Object.entries(u).reduce((v,[g,b])=>`${v}${g}=${b},`,"");if(sD(f)&&h!=="_self")return OL(e||"",h),new EB(null);const m=window.open(e||"",h,A);ns(m,n,"popup-blocked");try{m.focus()}catch{}return new EB(m)}function OL(n,e){const t=document.createElement("a");t.href=n,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL="__/auth/handler",kL="emulator/auth/handler",ML=encodeURIComponent("fac");async function TB(n,e,t,s,a,o){ns(n.config.authDomain,n,"auth-domain-config-required"),ns(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:s,v:ef,eventId:a};if(e instanceof TE){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",gU(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[A,m]of Object.entries({}))c[A]=m}if(e instanceof wg){const A=e.getScopes().filter(m=>m!=="");A.length>0&&(c.scopes=A.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const A of Object.keys(h))h[A]===void 0&&delete h[A];const u=await n._getAppCheckToken(),f=u?`#${ML}=${encodeURIComponent(u)}`:"";return`${HL(n)}?${yg(h).slice(1)}${f}`}function HL({config:n}){return n.emulator?iw(n,kL):`https://${n.authDomain}/${PL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dy="webStorageSupport";class VL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=DE,this._completeRedirectFn=hL,this._overrideRedirectResult=cL}async _openPopup(e,t,s,a){var c;Nu((c=this.eventManagers[e._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const o=await TB(e,t,s,k1(),a);return QL(e,o,uw())}async _openRedirect(e,t,s,a){await this._originValidation(e);const o=await TB(e,t,s,k1(),a);return GD(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:o}=this.eventManagers[t];return a?Promise.resolve(a):(Nu(o,"If manager is not set, promise should be"),o)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await _L(e),s=new mL(e);return t.register("authEvent",a=>(ns(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Dy,{type:Dy},a=>{var c;const o=(c=a==null?void 0:a[0])==null?void 0:c[Dy];o!==void 0&&t(!!o),rc(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=yL(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return BE()||vE()||lw()}}const KL=VL;var IB="@firebase/auth",_B="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ns(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GL(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $L(n){Ld(new hB("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=s.options;ns(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const u={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:CE(n)},f=new AD(s,a,o,u);return xD(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Ld(new hB("auth-internal",e=>{const t=tf(e.getProvider("auth").getImmediate());return(s=>new zL(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),IA(IB,_B,GL(n)),IA(IB,_B,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YL=300,WL=sE("authIdTokenMaxAge")||YL;let FB=null;const XL=n=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>WL)return;const a=t==null?void 0:t.token;FB!==a&&(FB=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function JL(n=rw()){const e=cx(n,"auth");if(e.isInitialized())return e.getImmediate();const t=vD(n,{popupRedirectResolver:KL,persistence:[tL,VD,DE]}),s=sE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(s,location.origin);if(location.origin===o.origin){const c=XL(o.toString());PD(t,c,()=>c(t.currentUser)),OD(t,h=>c(h))}}const a=eE("auth");return a&&yD(t,`http://${a}`),t}function qL(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}cD({loadJS(n){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=a=>{const o=Pc("internal-error");o.customData=a,t(o)},s.type="text/javascript",s.charset="UTF-8",qL().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$L("Browser");let ZL=class{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tr;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(tr||(tr={}));const eQ={debug:tr.DEBUG,verbose:tr.VERBOSE,info:tr.INFO,warn:tr.WARN,error:tr.ERROR,silent:tr.SILENT},tQ=tr.INFO,nQ={[tr.DEBUG]:"log",[tr.VERBOSE]:"log",[tr.INFO]:"info",[tr.WARN]:"warn",[tr.ERROR]:"error"},sQ=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),a=nQ[e];if(a)console[a](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class rQ{constructor(e){this.name=e,this._logLevel=tQ,this._logHandler=sQ,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in tr))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?eQ[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,tr.DEBUG,...e),this._logHandler(this,tr.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,tr.VERBOSE,...e),this._logHandler(this,tr.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,tr.INFO,...e),this._logHandler(this,tr.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,tr.WARN,...e),this._logHandler(this,tr.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,tr.ERROR,...e),this._logHandler(this,tr.ERROR,...e)}}var UB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fd,HE;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(L,Q){function R(){}R.prototype=Q.prototype,L.F=Q.prototype,L.prototype=new R,L.prototype.constructor=L,L.D=function(M,O,H){for(var G=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)G[ie-2]=arguments[ie];return Q.prototype[O].apply(M,G)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,t),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(L,Q,R){R||(R=0);const M=Array(16);if(typeof Q=="string")for(var O=0;O<16;++O)M[O]=Q.charCodeAt(R++)|Q.charCodeAt(R++)<<8|Q.charCodeAt(R++)<<16|Q.charCodeAt(R++)<<24;else for(O=0;O<16;++O)M[O]=Q[R++]|Q[R++]<<8|Q[R++]<<16|Q[R++]<<24;Q=L.g[0],R=L.g[1],O=L.g[2];let H=L.g[3],G;G=Q+(H^R&(O^H))+M[0]+3614090360&4294967295,Q=R+(G<<7&4294967295|G>>>25),G=H+(O^Q&(R^O))+M[1]+3905402710&4294967295,H=Q+(G<<12&4294967295|G>>>20),G=O+(R^H&(Q^R))+M[2]+606105819&4294967295,O=H+(G<<17&4294967295|G>>>15),G=R+(Q^O&(H^Q))+M[3]+3250441966&4294967295,R=O+(G<<22&4294967295|G>>>10),G=Q+(H^R&(O^H))+M[4]+4118548399&4294967295,Q=R+(G<<7&4294967295|G>>>25),G=H+(O^Q&(R^O))+M[5]+1200080426&4294967295,H=Q+(G<<12&4294967295|G>>>20),G=O+(R^H&(Q^R))+M[6]+2821735955&4294967295,O=H+(G<<17&4294967295|G>>>15),G=R+(Q^O&(H^Q))+M[7]+4249261313&4294967295,R=O+(G<<22&4294967295|G>>>10),G=Q+(H^R&(O^H))+M[8]+1770035416&4294967295,Q=R+(G<<7&4294967295|G>>>25),G=H+(O^Q&(R^O))+M[9]+2336552879&4294967295,H=Q+(G<<12&4294967295|G>>>20),G=O+(R^H&(Q^R))+M[10]+4294925233&4294967295,O=H+(G<<17&4294967295|G>>>15),G=R+(Q^O&(H^Q))+M[11]+2304563134&4294967295,R=O+(G<<22&4294967295|G>>>10),G=Q+(H^R&(O^H))+M[12]+1804603682&4294967295,Q=R+(G<<7&4294967295|G>>>25),G=H+(O^Q&(R^O))+M[13]+4254626195&4294967295,H=Q+(G<<12&4294967295|G>>>20),G=O+(R^H&(Q^R))+M[14]+2792965006&4294967295,O=H+(G<<17&4294967295|G>>>15),G=R+(Q^O&(H^Q))+M[15]+1236535329&4294967295,R=O+(G<<22&4294967295|G>>>10),G=Q+(O^H&(R^O))+M[1]+4129170786&4294967295,Q=R+(G<<5&4294967295|G>>>27),G=H+(R^O&(Q^R))+M[6]+3225465664&4294967295,H=Q+(G<<9&4294967295|G>>>23),G=O+(Q^R&(H^Q))+M[11]+643717713&4294967295,O=H+(G<<14&4294967295|G>>>18),G=R+(H^Q&(O^H))+M[0]+3921069994&4294967295,R=O+(G<<20&4294967295|G>>>12),G=Q+(O^H&(R^O))+M[5]+3593408605&4294967295,Q=R+(G<<5&4294967295|G>>>27),G=H+(R^O&(Q^R))+M[10]+38016083&4294967295,H=Q+(G<<9&4294967295|G>>>23),G=O+(Q^R&(H^Q))+M[15]+3634488961&4294967295,O=H+(G<<14&4294967295|G>>>18),G=R+(H^Q&(O^H))+M[4]+3889429448&4294967295,R=O+(G<<20&4294967295|G>>>12),G=Q+(O^H&(R^O))+M[9]+568446438&4294967295,Q=R+(G<<5&4294967295|G>>>27),G=H+(R^O&(Q^R))+M[14]+3275163606&4294967295,H=Q+(G<<9&4294967295|G>>>23),G=O+(Q^R&(H^Q))+M[3]+4107603335&4294967295,O=H+(G<<14&4294967295|G>>>18),G=R+(H^Q&(O^H))+M[8]+1163531501&4294967295,R=O+(G<<20&4294967295|G>>>12),G=Q+(O^H&(R^O))+M[13]+2850285829&4294967295,Q=R+(G<<5&4294967295|G>>>27),G=H+(R^O&(Q^R))+M[2]+4243563512&4294967295,H=Q+(G<<9&4294967295|G>>>23),G=O+(Q^R&(H^Q))+M[7]+1735328473&4294967295,O=H+(G<<14&4294967295|G>>>18),G=R+(H^Q&(O^H))+M[12]+2368359562&4294967295,R=O+(G<<20&4294967295|G>>>12),G=Q+(R^O^H)+M[5]+4294588738&4294967295,Q=R+(G<<4&4294967295|G>>>28),G=H+(Q^R^O)+M[8]+2272392833&4294967295,H=Q+(G<<11&4294967295|G>>>21),G=O+(H^Q^R)+M[11]+1839030562&4294967295,O=H+(G<<16&4294967295|G>>>16),G=R+(O^H^Q)+M[14]+4259657740&4294967295,R=O+(G<<23&4294967295|G>>>9),G=Q+(R^O^H)+M[1]+2763975236&4294967295,Q=R+(G<<4&4294967295|G>>>28),G=H+(Q^R^O)+M[4]+1272893353&4294967295,H=Q+(G<<11&4294967295|G>>>21),G=O+(H^Q^R)+M[7]+4139469664&4294967295,O=H+(G<<16&4294967295|G>>>16),G=R+(O^H^Q)+M[10]+3200236656&4294967295,R=O+(G<<23&4294967295|G>>>9),G=Q+(R^O^H)+M[13]+681279174&4294967295,Q=R+(G<<4&4294967295|G>>>28),G=H+(Q^R^O)+M[0]+3936430074&4294967295,H=Q+(G<<11&4294967295|G>>>21),G=O+(H^Q^R)+M[3]+3572445317&4294967295,O=H+(G<<16&4294967295|G>>>16),G=R+(O^H^Q)+M[6]+76029189&4294967295,R=O+(G<<23&4294967295|G>>>9),G=Q+(R^O^H)+M[9]+3654602809&4294967295,Q=R+(G<<4&4294967295|G>>>28),G=H+(Q^R^O)+M[12]+3873151461&4294967295,H=Q+(G<<11&4294967295|G>>>21),G=O+(H^Q^R)+M[15]+530742520&4294967295,O=H+(G<<16&4294967295|G>>>16),G=R+(O^H^Q)+M[2]+3299628645&4294967295,R=O+(G<<23&4294967295|G>>>9),G=Q+(O^(R|~H))+M[0]+4096336452&4294967295,Q=R+(G<<6&4294967295|G>>>26),G=H+(R^(Q|~O))+M[7]+1126891415&4294967295,H=Q+(G<<10&4294967295|G>>>22),G=O+(Q^(H|~R))+M[14]+2878612391&4294967295,O=H+(G<<15&4294967295|G>>>17),G=R+(H^(O|~Q))+M[5]+4237533241&4294967295,R=O+(G<<21&4294967295|G>>>11),G=Q+(O^(R|~H))+M[12]+1700485571&4294967295,Q=R+(G<<6&4294967295|G>>>26),G=H+(R^(Q|~O))+M[3]+2399980690&4294967295,H=Q+(G<<10&4294967295|G>>>22),G=O+(Q^(H|~R))+M[10]+4293915773&4294967295,O=H+(G<<15&4294967295|G>>>17),G=R+(H^(O|~Q))+M[1]+2240044497&4294967295,R=O+(G<<21&4294967295|G>>>11),G=Q+(O^(R|~H))+M[8]+1873313359&4294967295,Q=R+(G<<6&4294967295|G>>>26),G=H+(R^(Q|~O))+M[15]+4264355552&4294967295,H=Q+(G<<10&4294967295|G>>>22),G=O+(Q^(H|~R))+M[6]+2734768916&4294967295,O=H+(G<<15&4294967295|G>>>17),G=R+(H^(O|~Q))+M[13]+1309151649&4294967295,R=O+(G<<21&4294967295|G>>>11),G=Q+(O^(R|~H))+M[4]+4149444226&4294967295,Q=R+(G<<6&4294967295|G>>>26),G=H+(R^(Q|~O))+M[11]+3174756917&4294967295,H=Q+(G<<10&4294967295|G>>>22),G=O+(Q^(H|~R))+M[2]+718787259&4294967295,O=H+(G<<15&4294967295|G>>>17),G=R+(H^(O|~Q))+M[9]+3951481745&4294967295,L.g[0]=L.g[0]+Q&4294967295,L.g[1]=L.g[1]+(O+(G<<21&4294967295|G>>>11))&4294967295,L.g[2]=L.g[2]+O&4294967295,L.g[3]=L.g[3]+H&4294967295}s.prototype.v=function(L,Q){Q===void 0&&(Q=L.length);const R=Q-this.blockSize,M=this.C;let O=this.h,H=0;for(;H<Q;){if(O==0)for(;H<=R;)a(this,L,H),H+=this.blockSize;if(typeof L=="string"){for(;H<Q;)if(M[O++]=L.charCodeAt(H++),O==this.blockSize){a(this,M),O=0;break}}else for(;H<Q;)if(M[O++]=L[H++],O==this.blockSize){a(this,M),O=0;break}}this.h=O,this.o+=Q},s.prototype.A=function(){var L=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);L[0]=128;for(var Q=1;Q<L.length-8;++Q)L[Q]=0;Q=this.o*8;for(var R=L.length-8;R<L.length;++R)L[R]=Q&255,Q/=256;for(this.v(L),L=Array(16),Q=0,R=0;R<4;++R)for(let M=0;M<32;M+=8)L[Q++]=this.g[R]>>>M&255;return L};function o(L,Q){var R=h;return Object.prototype.hasOwnProperty.call(R,L)?R[L]:R[L]=Q(L)}function c(L,Q){this.h=Q;const R=[];let M=!0;for(let O=L.length-1;O>=0;O--){const H=L[O]|0;M&&H==Q||(R[O]=H,M=!1)}this.g=R}var h={};function u(L){return-128<=L&&L<128?o(L,function(Q){return new c([Q|0],Q<0?-1:0)}):new c([L|0],L<0?-1:0)}function f(L){if(isNaN(L)||!isFinite(L))return m;if(L<0)return N(f(-L));const Q=[];let R=1;for(let M=0;L>=R;M++)Q[M]=L/R|0,R*=4294967296;return new c(Q,0)}function A(L,Q){if(L.length==0)throw Error("number format error: empty string");if(Q=Q||10,Q<2||36<Q)throw Error("radix out of range: "+Q);if(L.charAt(0)=="-")return N(A(L.substring(1),Q));if(L.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=f(Math.pow(Q,8));let M=m;for(let H=0;H<L.length;H+=8){var O=Math.min(8,L.length-H);const G=parseInt(L.substring(H,H+O),Q);O<8?(O=f(Math.pow(Q,O)),M=M.j(O).add(f(G))):(M=M.j(R),M=M.add(f(G)))}return M}var m=u(0),v=u(1),g=u(16777216);n=c.prototype,n.m=function(){if(S(this))return-N(this).m();let L=0,Q=1;for(let R=0;R<this.g.length;R++){const M=this.i(R);L+=(M>=0?M:4294967296+M)*Q,Q*=4294967296}return L},n.toString=function(L){if(L=L||10,L<2||36<L)throw Error("radix out of range: "+L);if(b(this))return"0";if(S(this))return"-"+N(this).toString(L);const Q=f(Math.pow(L,6));var R=this;let M="";for(;;){const O=D(R,Q).g;R=E(R,O.j(Q));let H=((R.g.length>0?R.g[0]:R.h)>>>0).toString(L);if(R=O,b(R))return H+M;for(;H.length<6;)H="0"+H;M=H+M}},n.i=function(L){return L<0?0:L<this.g.length?this.g[L]:this.h};function b(L){if(L.h!=0)return!1;for(let Q=0;Q<L.g.length;Q++)if(L.g[Q]!=0)return!1;return!0}function S(L){return L.h==-1}n.l=function(L){return L=E(this,L),S(L)?-1:b(L)?0:1};function N(L){const Q=L.g.length,R=[];for(let M=0;M<Q;M++)R[M]=~L.g[M];return new c(R,~L.h).add(v)}n.abs=function(){return S(this)?N(this):this},n.add=function(L){const Q=Math.max(this.g.length,L.g.length),R=[];let M=0;for(let O=0;O<=Q;O++){let H=M+(this.i(O)&65535)+(L.i(O)&65535),G=(H>>>16)+(this.i(O)>>>16)+(L.i(O)>>>16);M=G>>>16,H&=65535,G&=65535,R[O]=G<<16|H}return new c(R,R[R.length-1]&-2147483648?-1:0)};function E(L,Q){return L.add(N(Q))}n.j=function(L){if(b(this)||b(L))return m;if(S(this))return S(L)?N(this).j(N(L)):N(N(this).j(L));if(S(L))return N(this.j(N(L)));if(this.l(g)<0&&L.l(g)<0)return f(this.m()*L.m());const Q=this.g.length+L.g.length,R=[];for(var M=0;M<2*Q;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(let O=0;O<L.g.length;O++){const H=this.i(M)>>>16,G=this.i(M)&65535,ie=L.i(O)>>>16,ge=L.i(O)&65535;R[2*M+2*O]+=G*ge,I(R,2*M+2*O),R[2*M+2*O+1]+=H*ge,I(R,2*M+2*O+1),R[2*M+2*O+1]+=G*ie,I(R,2*M+2*O+1),R[2*M+2*O+2]+=H*ie,I(R,2*M+2*O+2)}for(L=0;L<Q;L++)R[L]=R[2*L+1]<<16|R[2*L];for(L=Q;L<2*Q;L++)R[L]=0;return new c(R,0)};function I(L,Q){for(;(L[Q]&65535)!=L[Q];)L[Q+1]+=L[Q]>>>16,L[Q]&=65535,Q++}function F(L,Q){this.g=L,this.h=Q}function D(L,Q){if(b(Q))throw Error("division by zero");if(b(L))return new F(m,m);if(S(L))return Q=D(N(L),Q),new F(N(Q.g),N(Q.h));if(S(Q))return Q=D(L,N(Q)),new F(N(Q.g),Q.h);if(L.g.length>30){if(S(L)||S(Q))throw Error("slowDivide_ only works with positive integers.");for(var R=v,M=Q;M.l(L)<=0;)R=P(R),M=P(M);var O=K(R,1),H=K(M,1);for(M=K(M,2),R=K(R,2);!b(M);){var G=H.add(M);G.l(L)<=0&&(O=O.add(R),H=G),M=K(M,1),R=K(R,1)}return Q=E(L,O.j(Q)),new F(O,Q)}for(O=m;L.l(Q)>=0;){for(R=Math.max(1,Math.floor(L.m()/Q.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),H=f(R),G=H.j(Q);S(G)||G.l(L)>0;)R-=M,H=f(R),G=H.j(Q);b(H)&&(H=v),O=O.add(H),L=E(L,G)}return new F(O,L)}n.B=function(L){return D(this,L).h},n.and=function(L){const Q=Math.max(this.g.length,L.g.length),R=[];for(let M=0;M<Q;M++)R[M]=this.i(M)&L.i(M);return new c(R,this.h&L.h)},n.or=function(L){const Q=Math.max(this.g.length,L.g.length),R=[];for(let M=0;M<Q;M++)R[M]=this.i(M)|L.i(M);return new c(R,this.h|L.h)},n.xor=function(L){const Q=Math.max(this.g.length,L.g.length),R=[];for(let M=0;M<Q;M++)R[M]=this.i(M)^L.i(M);return new c(R,this.h^L.h)};function P(L){const Q=L.g.length+1,R=[];for(let M=0;M<Q;M++)R[M]=L.i(M)<<1|L.i(M-1)>>>31;return new c(R,L.h)}function K(L,Q){const R=Q>>5;Q%=32;const M=L.g.length-R,O=[];for(let H=0;H<M;H++)O[H]=Q>0?L.i(H+R)>>>Q|L.i(H+R+1)<<32-Q:L.i(H+R);return new c(O,L.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,HE=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=f,c.fromString=A,Fd=c}).apply(typeof UB<"u"?UB:typeof self<"u"?self:typeof window<"u"?window:{});var L0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var VE,Bp,KE,Av,K1,zE,GE,$E;(function(){var n,e=Object.defineProperty;function t(w){w=[typeof globalThis=="object"&&globalThis,w,typeof window=="object"&&window,typeof self=="object"&&self,typeof L0=="object"&&L0];for(var Y=0;Y<w.length;++Y){var te=w[Y];if(te&&te.Math==Math)return te}throw Error("Cannot find global object")}var s=t(this);function a(w,Y){if(Y)e:{var te=s;w=w.split(".");for(var be=0;be<w.length-1;be++){var $e=w[be];if(!($e in te))break e;te=te[$e]}w=w[w.length-1],be=te[w],Y=Y(be),Y!=be&&Y!=null&&e(te,w,{configurable:!0,writable:!0,value:Y})}}a("Symbol.dispose",function(w){return w||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(w){return w||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(w){return w||function(Y){var te=[],be;for(be in Y)Object.prototype.hasOwnProperty.call(Y,be)&&te.push([be,Y[be]]);return te}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},c=this||self;function h(w){var Y=typeof w;return Y=="object"&&w!=null||Y=="function"}function u(w,Y,te){return w.call.apply(w.bind,arguments)}function f(w,Y,te){return f=u,f.apply(null,arguments)}function A(w,Y){var te=Array.prototype.slice.call(arguments,1);return function(){var be=te.slice();return be.push.apply(be,arguments),w.apply(this,be)}}function m(w,Y){function te(){}te.prototype=Y.prototype,w.Z=Y.prototype,w.prototype=new te,w.prototype.constructor=w,w.Ob=function(be,$e,tt){for(var kt=Array(arguments.length-2),qn=2;qn<arguments.length;qn++)kt[qn-2]=arguments[qn];return Y.prototype[$e].apply(be,kt)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?w=>w&&AsyncContext.Snapshot.wrap(w):w=>w;function g(w){const Y=w.length;if(Y>0){const te=Array(Y);for(let be=0;be<Y;be++)te[be]=w[be];return te}return[]}function b(w,Y){for(let be=1;be<arguments.length;be++){const $e=arguments[be];var te=typeof $e;if(te=te!="object"?te:$e?Array.isArray($e)?"array":te:"null",te=="array"||te=="object"&&typeof $e.length=="number"){te=w.length||0;const tt=$e.length||0;w.length=te+tt;for(let kt=0;kt<tt;kt++)w[te+kt]=$e[kt]}else w.push($e)}}class S{constructor(Y,te){this.i=Y,this.j=te,this.h=0,this.g=null}get(){let Y;return this.h>0?(this.h--,Y=this.g,this.g=Y.next,Y.next=null):Y=this.i(),Y}}function N(w){c.setTimeout(()=>{throw w},0)}function E(){var w=L;let Y=null;return w.g&&(Y=w.g,w.g=w.g.next,w.g||(w.h=null),Y.next=null),Y}class I{constructor(){this.h=this.g=null}add(Y,te){const be=F.get();be.set(Y,te),this.h?this.h.next=be:this.g=be,this.h=be}}var F=new S(()=>new D,w=>w.reset());class D{constructor(){this.next=this.g=this.h=null}set(Y,te){this.h=Y,this.g=te,this.next=null}reset(){this.next=this.g=this.h=null}}let P,K=!1,L=new I,Q=()=>{const w=Promise.resolve(void 0);P=()=>{w.then(R)}};function R(){for(var w;w=E();){try{w.h.call(w.g)}catch(te){N(te)}var Y=F;Y.j(w),Y.h<100&&(Y.h++,w.next=Y.g,Y.g=w)}K=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(w,Y){this.type=w,this.g=this.target=Y,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var H=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var w=!1,Y=Object.defineProperty({},"passive",{get:function(){w=!0}});try{const te=()=>{};c.addEventListener("test",te,Y),c.removeEventListener("test",te,Y)}catch{}return w})();function G(w){return/^[\s\xa0]*$/.test(w)}function ie(w,Y){O.call(this,w?w.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,w&&this.init(w,Y)}m(ie,O),ie.prototype.init=function(w,Y){const te=this.type=w.type,be=w.changedTouches&&w.changedTouches.length?w.changedTouches[0]:null;this.target=w.target||w.srcElement,this.g=Y,Y=w.relatedTarget,Y||(te=="mouseover"?Y=w.fromElement:te=="mouseout"&&(Y=w.toElement)),this.relatedTarget=Y,be?(this.clientX=be.clientX!==void 0?be.clientX:be.pageX,this.clientY=be.clientY!==void 0?be.clientY:be.pageY,this.screenX=be.screenX||0,this.screenY=be.screenY||0):(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0),this.button=w.button,this.key=w.key||"",this.ctrlKey=w.ctrlKey,this.altKey=w.altKey,this.shiftKey=w.shiftKey,this.metaKey=w.metaKey,this.pointerId=w.pointerId||0,this.pointerType=w.pointerType,this.state=w.state,this.i=w,w.defaultPrevented&&ie.Z.h.call(this)},ie.prototype.h=function(){ie.Z.h.call(this);const w=this.i;w.preventDefault?w.preventDefault():w.returnValue=!1};var ge="closure_listenable_"+(Math.random()*1e6|0),J=0;function re(w,Y,te,be,$e){this.listener=w,this.proxy=null,this.src=Y,this.type=te,this.capture=!!be,this.ha=$e,this.key=++J,this.da=this.fa=!1}function se(w){w.da=!0,w.listener=null,w.proxy=null,w.src=null,w.ha=null}function he(w,Y,te){for(const be in w)Y.call(te,w[be],be,w)}function je(w,Y){for(const te in w)Y.call(void 0,w[te],te,w)}function ne(w){const Y={};for(const te in w)Y[te]=w[te];return Y}const V="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W(w,Y){let te,be;for(let $e=1;$e<arguments.length;$e++){be=arguments[$e];for(te in be)w[te]=be[te];for(let tt=0;tt<V.length;tt++)te=V[tt],Object.prototype.hasOwnProperty.call(be,te)&&(w[te]=be[te])}}function ae(w){this.src=w,this.g={},this.h=0}ae.prototype.add=function(w,Y,te,be,$e){const tt=w.toString();w=this.g[tt],w||(w=this.g[tt]=[],this.h++);const kt=Ae(w,Y,be,$e);return kt>-1?(Y=w[kt],te||(Y.fa=!1)):(Y=new re(Y,this.src,tt,!!be,$e),Y.fa=te,w.push(Y)),Y};function ce(w,Y){const te=Y.type;if(te in w.g){var be=w.g[te],$e=Array.prototype.indexOf.call(be,Y,void 0),tt;(tt=$e>=0)&&Array.prototype.splice.call(be,$e,1),tt&&(se(Y),w.g[te].length==0&&(delete w.g[te],w.h--))}}function Ae(w,Y,te,be){for(let $e=0;$e<w.length;++$e){const tt=w[$e];if(!tt.da&&tt.listener==Y&&tt.capture==!!te&&tt.ha==be)return $e}return-1}var pe="closure_lm_"+(Math.random()*1e6|0),Se={};function xe(w,Y,te,be,$e){if(Array.isArray(Y)){for(let tt=0;tt<Y.length;tt++)xe(w,Y[tt],te,be,$e);return null}return te=vt(te),w&&w[ge]?w.J(Y,te,h(be)?!!be.capture:!1,$e):Ie(w,Y,te,!1,be,$e)}function Ie(w,Y,te,be,$e,tt){if(!Y)throw Error("Invalid event type");const kt=h($e)?!!$e.capture:!!$e;let qn=rt(w);if(qn||(w[pe]=qn=new ae(w)),te=qn.add(Y,te,be,kt,tt),te.proxy)return te;if(be=_e(),te.proxy=be,be.src=w,be.listener=te,w.addEventListener)H||($e=kt),$e===void 0&&($e=!1),w.addEventListener(Y.toString(),be,$e);else if(w.attachEvent)w.attachEvent(He(Y.toString()),be);else if(w.addListener&&w.removeListener)w.addListener(be);else throw Error("addEventListener and attachEvent are unavailable.");return te}function _e(){function w(te){return Y.call(w.src,w.listener,te)}const Y=de;return w}function De(w,Y,te,be,$e){if(Array.isArray(Y))for(var tt=0;tt<Y.length;tt++)De(w,Y[tt],te,be,$e);else be=h(be)?!!be.capture:!!be,te=vt(te),w&&w[ge]?(w=w.i,tt=String(Y).toString(),tt in w.g&&(Y=w.g[tt],te=Ae(Y,te,be,$e),te>-1&&(se(Y[te]),Array.prototype.splice.call(Y,te,1),Y.length==0&&(delete w.g[tt],w.h--)))):w&&(w=rt(w))&&(Y=w.g[Y.toString()],w=-1,Y&&(w=Ae(Y,te,be,$e)),(te=w>-1?Y[w]:null)&&st(te))}function st(w){if(typeof w!="number"&&w&&!w.da){var Y=w.src;if(Y&&Y[ge])ce(Y.i,w);else{var te=w.type,be=w.proxy;Y.removeEventListener?Y.removeEventListener(te,be,w.capture):Y.detachEvent?Y.detachEvent(He(te),be):Y.addListener&&Y.removeListener&&Y.removeListener(be),(te=rt(Y))?(ce(te,w),te.h==0&&(te.src=null,Y[pe]=null)):se(w)}}}function He(w){return w in Se?Se[w]:Se[w]="on"+w}function de(w,Y){if(w.da)w=!0;else{Y=new ie(Y,this);const te=w.listener,be=w.ha||w.src;w.fa&&st(w),w=te.call(be,Y)}return w}function rt(w){return w=w[pe],w instanceof ae?w:null}var _t="__closure_events_fn_"+(Math.random()*1e9>>>0);function vt(w){return typeof w=="function"?w:(w[_t]||(w[_t]=function(Y){return w.handleEvent(Y)}),w[_t])}function qe(){M.call(this),this.i=new ae(this),this.M=this,this.G=null}m(qe,M),qe.prototype[ge]=!0,qe.prototype.removeEventListener=function(w,Y,te,be){De(this,w,Y,te,be)};function We(w,Y){var te,be=w.G;if(be)for(te=[];be;be=be.G)te.push(be);if(w=w.M,be=Y.type||Y,typeof Y=="string")Y=new O(Y,w);else if(Y instanceof O)Y.target=Y.target||w;else{var $e=Y;Y=new O(be,w),W(Y,$e)}$e=!0;let tt,kt;if(te)for(kt=te.length-1;kt>=0;kt--)tt=Y.g=te[kt],$e=dt(tt,be,!0,Y)&&$e;if(tt=Y.g=w,$e=dt(tt,be,!0,Y)&&$e,$e=dt(tt,be,!1,Y)&&$e,te)for(kt=0;kt<te.length;kt++)tt=Y.g=te[kt],$e=dt(tt,be,!1,Y)&&$e}qe.prototype.N=function(){if(qe.Z.N.call(this),this.i){var w=this.i;for(const Y in w.g){const te=w.g[Y];for(let be=0;be<te.length;be++)se(te[be]);delete w.g[Y],w.h--}}this.G=null},qe.prototype.J=function(w,Y,te,be){return this.i.add(String(w),Y,!1,te,be)},qe.prototype.K=function(w,Y,te,be){return this.i.add(String(w),Y,!0,te,be)};function dt(w,Y,te,be){if(Y=w.i.g[String(Y)],!Y)return!0;Y=Y.concat();let $e=!0;for(let tt=0;tt<Y.length;++tt){const kt=Y[tt];if(kt&&!kt.da&&kt.capture==te){const qn=kt.listener,yr=kt.ha||kt.src;kt.fa&&ce(w.i,kt),$e=qn.call(yr,be)!==!1&&$e}}return $e&&!be.defaultPrevented}function Qt(w,Y){if(typeof w!="function")if(w&&typeof w.handleEvent=="function")w=f(w.handleEvent,w);else throw Error("Invalid listener argument");return Number(Y)>2147483647?-1:c.setTimeout(w,Y||0)}function Pt(w){w.g=Qt(()=>{w.g=null,w.i&&(w.i=!1,Pt(w))},w.l);const Y=w.h;w.h=null,w.m.apply(null,Y)}class Gt extends M{constructor(Y,te){super(),this.m=Y,this.l=te,this.h=null,this.i=!1,this.g=null}j(Y){this.h=arguments,this.g?this.i=!0:Pt(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sn(w){M.call(this),this.h=w,this.g={}}m(sn,M);var en=[];function Nn(w){he(w.g,function(Y,te){this.g.hasOwnProperty(te)&&st(Y)},w),w.g={}}sn.prototype.N=function(){sn.Z.N.call(this),Nn(this)},sn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xt=c.JSON.stringify,St=c.JSON.parse,$t=class{stringify(w){return c.JSON.stringify(w,void 0)}parse(w){return c.JSON.parse(w,void 0)}};function Ht(){}function Rn(){}var Ke={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function yt(){O.call(this,"d")}m(yt,O);function ze(){O.call(this,"c")}m(ze,O);var ot={},ft=null;function Lt(){return ft=ft||new qe}ot.Ia="serverreachability";function Ct(w){O.call(this,ot.Ia,w)}m(Ct,O);function zt(w){const Y=Lt();We(Y,new Ct(Y))}ot.STAT_EVENT="statevent";function yn(w,Y){O.call(this,ot.STAT_EVENT,w),this.stat=Y}m(yn,O);function Tt(w){const Y=Lt();We(Y,new yn(Y,w))}ot.Ja="timingevent";function ht(w,Y){O.call(this,ot.Ja,w),this.size=Y}m(ht,O);function Ot(w,Y){if(typeof w!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){w()},Y)}function qt(){this.g=!0}qt.prototype.ua=function(){this.g=!1};function on(w,Y,te,be,$e,tt){w.info(function(){if(w.g)if(tt){var kt="",qn=tt.split("&");for(let us=0;us<qn.length;us++){var yr=qn[us].split("=");if(yr.length>1){const $s=yr[0];yr=yr[1];const Na=$s.split("_");kt=Na.length>=2&&Na[1]=="type"?kt+($s+"="+yr+"&"):kt+($s+"=redacted&")}}}else kt=null;else kt=tt;return"XMLHTTP REQ ("+be+") [attempt "+$e+"]: "+Y+`
`+te+`
`+kt})}function cs(w,Y,te,be,$e,tt,kt){w.info(function(){return"XMLHTTP RESP ("+be+") [ attempt "+$e+"]: "+Y+`
`+te+`
`+tt+" "+kt})}function js(w,Y,te,be){w.info(function(){return"XMLHTTP TEXT ("+Y+"): "+ri(w,te)+(be?" "+be:"")})}function cn(w,Y){w.info(function(){return"TIMEOUT: "+Y})}qt.prototype.info=function(){};function ri(w,Y){if(!w.g)return Y;if(!Y)return null;try{const tt=JSON.parse(Y);if(tt){for(w=0;w<tt.length;w++)if(Array.isArray(tt[w])){var te=tt[w];if(!(te.length<2)){var be=te[1];if(Array.isArray(be)&&!(be.length<1)){var $e=be[0];if($e!="noop"&&$e!="stop"&&$e!="close")for(let kt=1;kt<be.length;kt++)be[kt]=""}}}}return xt(tt)}catch{return Y}}var Ua={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ua={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},$r;function ln(){}m(ln,Ht),ln.prototype.g=function(){return new XMLHttpRequest},$r=new ln;function Le(w){return encodeURIComponent(String(w))}function Rt(w){var Y=1;w=w.split(":");const te=[];for(;Y>0&&w.length;)te.push(w.shift()),Y--;return w.length&&te.push(w.join(":")),te}function Vt(w,Y,te,be){this.j=w,this.i=Y,this.l=te,this.S=be||1,this.V=new sn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ft}function Ft(){this.i=null,this.g="",this.h=!1}var Yt={},Ut={};function vn(w,Y,te){w.M=1,w.A=Ns(vr(Y)),w.u=te,w.R=!0,Sn(w,null)}function Sn(w,Y){w.F=Date.now(),In(w),w.B=vr(w.A);var te=w.B,be=w.S;Array.isArray(be)||(be=[String(be)]),iA(te.i,"t",be),w.C=0,te=w.j.L,w.h=new Ft,w.g=hn(w.j,te?Y:null,!w.u),w.P>0&&(w.O=new Gt(f(w.Y,w,w.g),w.P)),Y=w.V,te=w.g,be=w.ba;var $e="readystatechange";Array.isArray($e)||($e&&(en[0]=$e.toString()),$e=en);for(let tt=0;tt<$e.length;tt++){const kt=xe(te,$e[tt],be||Y.handleEvent,!1,Y.h||Y);if(!kt)break;Y.g[kt.key]=kt}Y=w.J?ne(w.J):{},w.u?(w.v||(w.v="POST"),Y["Content-Type"]="application/x-www-form-urlencoded",w.g.ea(w.B,w.v,w.u,Y)):(w.v="GET",w.g.ea(w.B,w.v,null,Y)),zt(),on(w.i,w.v,w.B,w.l,w.S,w.u)}Vt.prototype.ba=function(w){w=w.target;const Y=this.O;Y&&li(w)==3?Y.j():this.Y(w)},Vt.prototype.Y=function(w){try{if(w==this.g)e:{const qn=li(this.g),yr=this.g.ya(),us=this.g.ca();if(!(qn<3)&&(qn!=3||this.g&&(this.h.h||this.g.la()||Xr(this.g)))){this.K||qn!=4||yr==7||(yr==8||us<=0?zt(3):zt(2)),Ss(this);var Y=this.g.ca();this.X=Y;var te=On(this);if(this.o=Y==200,cs(this.i,this.v,this.B,this.l,this.S,qn,Y),this.o){if(this.U&&!this.L){t:{if(this.g){var be,$e=this.g;if((be=$e.g?$e.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(be)){var tt=be;break t}}tt=null}if(w=tt)js(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Js(this,w);else{this.o=!1,this.m=3,Tt(12),sr(this),lr(this);break e}}if(this.R){w=!0;let $s;for(;!this.K&&this.C<te.length;)if($s=Kn(this,te),$s==Ut){qn==4&&(this.m=4,Tt(14),w=!1),js(this.i,this.l,null,"[Incomplete Response]");break}else if($s==Yt){this.m=4,Tt(15),js(this.i,this.l,te,"[Invalid Chunk]"),w=!1;break}else js(this.i,this.l,$s,null),Js(this,$s);if(dr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),qn!=4||te.length!=0||this.h.h||(this.m=1,Tt(16),w=!1),this.o=this.o&&w,!w)js(this.i,this.l,te,"[Invalid Chunked Response]"),sr(this),lr(this);else if(te.length>0&&!this.W){this.W=!0;var kt=this.j;kt.g==this&&kt.aa&&!kt.P&&(kt.j.info("Great, no buffering proxy detected. Bytes received: "+te.length),Ti(kt),kt.P=!0,Tt(11))}}else js(this.i,this.l,te,null),Js(this,te);qn==4&&sr(this),this.o&&!this.K&&(qn==4?Ee(this.j,this):(this.o=!1,In(this)))}else xo(this.g),Y==400&&te.indexOf("Unknown SID")>0?(this.m=3,Tt(12)):(this.m=0,Tt(13)),sr(this),lr(this)}}}catch{}finally{}};function On(w){if(!dr(w))return w.g.la();const Y=Xr(w.g);if(Y==="")return"";let te="";const be=Y.length,$e=li(w.g)==4;if(!w.h.i){if(typeof TextDecoder>"u")return sr(w),lr(w),"";w.h.i=new c.TextDecoder}for(let tt=0;tt<be;tt++)w.h.h=!0,te+=w.h.i.decode(Y[tt],{stream:!($e&&tt==be-1)});return Y.length=0,w.h.g+=te,w.C=0,w.h.g}function dr(w){return w.g?w.v=="GET"&&w.M!=2&&w.j.Aa:!1}function Kn(w,Y){var te=w.C,be=Y.indexOf(`
`,te);return be==-1?Ut:(te=Number(Y.substring(te,be)),isNaN(te)?Yt:(be+=1,be+te>Y.length?Ut:(Y=Y.slice(be,be+te),w.C=be+te,Y)))}Vt.prototype.cancel=function(){this.K=!0,sr(this)};function In(w){w.T=Date.now()+w.H,Us(w,w.H)}function Us(w,Y){if(w.D!=null)throw Error("WatchDog timer not null");w.D=Ot(f(w.aa,w),Y)}function Ss(w){w.D&&(c.clearTimeout(w.D),w.D=null)}Vt.prototype.aa=function(){this.D=null;const w=Date.now();w-this.T>=0?(cn(this.i,this.B),this.M!=2&&(zt(),Tt(17)),sr(this),this.m=2,lr(this)):Us(this,this.T-w)};function lr(w){w.j.I==0||w.K||Ee(w.j,w)}function sr(w){Ss(w);var Y=w.O;Y&&typeof Y.dispose=="function"&&Y.dispose(),w.O=null,Nn(w.V),w.g&&(Y=w.g,w.g=null,Y.abort(),Y.dispose())}function Js(w,Y){try{var te=w.j;if(te.I!=0&&(te.g==w||ai(te.h,w))){if(!w.L&&ai(te.h,w)&&te.I==3){try{var be=te.Ba.g.parse(Y)}catch{be=null}if(Array.isArray(be)&&be.length==3){var $e=be;if($e[0]==0){e:if(!te.v){if(te.g)if(te.g.F+3e3<w.F)oe(te),$a(te);else break e;qi(te),Tt(18)}}else te.xa=$e[1],0<te.xa-te.K&&$e[2]<37500&&te.F&&te.A==0&&!te.C&&(te.C=Ot(f(te.Va,te),6e3));da(te.h)<=1&&te.ta&&(te.ta=void 0)}else Ve(te,11)}else if((w.L||te.g==w)&&oe(te),!G(Y))for($e=te.Ba.g.parse(Y),Y=0;Y<$e.length;Y++){let us=$e[Y];const $s=us[0];if(!($s<=te.K))if(te.K=$s,us=us[1],te.I==2)if(us[0]=="c"){te.M=us[1],te.ba=us[2];const Na=us[3];Na!=null&&(te.ka=Na,te.j.info("VER="+te.ka));const sa=us[4];sa!=null&&(te.za=sa,te.j.info("SVER="+te.za));const Os=us[5];Os!=null&&typeof Os=="number"&&Os>0&&(be=1.5*Os,te.O=be,te.j.info("backChannelRequestTimeoutMs_="+be)),be=te;const rs=w.g;if(rs){const Zi=rs.g?rs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zi){var tt=be.h;tt.g||Zi.indexOf("spdy")==-1&&Zi.indexOf("quic")==-1&&Zi.indexOf("h2")==-1||(tt.j=tt.l,tt.g=new Set,tt.h&&(Ci(tt,tt.h),tt.h=null))}if(be.G){const bo=rs.g?rs.g.getResponseHeader("X-HTTP-Session-Id"):null;bo&&(be.wa=bo,mn(be.J,be.G,bo))}}te.I=3,te.l&&te.l.ra(),te.aa&&(te.T=Date.now()-w.F,te.j.info("Handshake RTT: "+te.T+"ms")),be=te;var kt=w;if(be.na=Nt(be,be.L?be.ba:null,be.W),kt.L){ul(be.h,kt);var qn=kt,yr=be.O;yr&&(qn.H=yr),qn.D&&(Ss(qn),In(qn)),be.g=kt}else AA(be);te.i.length>0&&Vi(te)}else us[0]!="stop"&&us[0]!="close"||Ve(te,7);else te.I==3&&(us[0]=="stop"||us[0]=="close"?us[0]=="stop"?Ve(te,7):fl(te):us[0]!="noop"&&te.l&&te.l.qa(us),te.A=0)}}zt(4)}catch{}}var zs=class{constructor(w,Y){this.g=w,this.map=Y}};function Ga(w){this.l=w||10,c.PerformanceNavigationTiming?(w=c.performance.getEntriesByType("navigation"),w=w.length>0&&(w[0].nextHopProtocol=="hq"||w[0].nextHopProtocol=="h2")):w=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=w?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Yr(w){return w.h?!0:w.g?w.g.size>=w.j:!1}function da(w){return w.h?1:w.g?w.g.size:0}function ai(w,Y){return w.h?w.h==Y:w.g?w.g.has(Y):!1}function Ci(w,Y){w.g?w.g.add(Y):w.h=Y}function ul(w,Y){w.h&&w.h==Y?w.h=null:w.g&&w.g.has(Y)&&w.g.delete(Y)}Ga.prototype.cancel=function(){if(this.i=Yo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const w of this.g.values())w.cancel();this.g.clear()}};function Yo(w){if(w.h!=null)return w.i.concat(w.h.G);if(w.g!=null&&w.g.size!==0){let Y=w.i;for(const te of w.g.values())Y=Y.concat(te.G);return Y}return g(w.i)}var po=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jr(w,Y){if(w){w=w.split("&");for(let te=0;te<w.length;te++){const be=w[te].indexOf("=");let $e,tt=null;be>=0?($e=w[te].substring(0,be),tt=w[te].substring(be+1)):$e=w[te],Y($e,tt?decodeURIComponent(tt.replace(/\+/g," ")):"")}}}function na(w){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let Y;w instanceof na?(this.l=w.l,ls(this,w.j),this.o=w.o,this.g=w.g,Ra(this,w.u),this.h=w.h,Cn(this,Ol(w.i)),this.m=w.m):w&&(Y=String(w).match(po))?(this.l=!1,ls(this,Y[1]||"",!0),this.o=Dn(Y[2]||""),this.g=Dn(Y[3]||"",!0),Ra(this,Y[4]),this.h=Dn(Y[5]||"",!0),Cn(this,Y[6]||"",!0),this.m=Dn(Y[7]||"")):(this.l=!1,this.i=new Ur(null,this.l))}na.prototype.toString=function(){const w=[];var Y=this.j;Y&&w.push(Pn(Y,qs,!0),":");var te=this.g;return(te||Y=="file")&&(w.push("//"),(Y=this.o)&&w.push(Pn(Y,qs,!0),"@"),w.push(Le(te).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),te=this.u,te!=null&&w.push(":",String(te))),(te=this.h)&&(this.g&&te.charAt(0)!="/"&&w.push("/"),w.push(Pn(te,te.charAt(0)=="/"?Yi:Si,!0))),(te=this.i.toString())&&w.push("?",te),(te=this.m)&&w.push("#",Pn(te,Wo)),w.join("")},na.prototype.resolve=function(w){const Y=vr(this);let te=!!w.j;te?ls(Y,w.j):te=!!w.o,te?Y.o=w.o:te=!!w.g,te?Y.g=w.g:te=w.u!=null;var be=w.h;if(te)Ra(Y,w.u);else if(te=!!w.h){if(be.charAt(0)!="/")if(this.g&&!this.h)be="/"+be;else{var $e=Y.h.lastIndexOf("/");$e!=-1&&(be=Y.h.slice(0,$e+1)+be)}if($e=be,$e==".."||$e==".")be="";else if($e.indexOf("./")!=-1||$e.indexOf("/.")!=-1){be=$e.lastIndexOf("/",0)==0,$e=$e.split("/");const tt=[];for(let kt=0;kt<$e.length;){const qn=$e[kt++];qn=="."?be&&kt==$e.length&&tt.push(""):qn==".."?((tt.length>1||tt.length==1&&tt[0]!="")&&tt.pop(),be&&kt==$e.length&&tt.push("")):(tt.push(qn),be=!0)}be=tt.join("/")}else be=$e}return te?Y.h=be:te=w.i.toString()!=="",te?Cn(Y,Ol(w.i)):te=!!w.m,te&&(Y.m=w.m),Y};function vr(w){return new na(w)}function ls(w,Y,te){w.j=te?Dn(Y,!0):Y,w.j&&(w.j=w.j.replace(/:$/,""))}function Ra(w,Y){if(Y){if(Y=Number(Y),isNaN(Y)||Y<0)throw Error("Bad port number "+Y);w.u=Y}else w.u=null}function Cn(w,Y,te){Y instanceof Ur?(w.i=Y,Wr(w.i,w.l)):(te||(Y=Pn(Y,Or)),w.i=new Ur(Y,w.l))}function mn(w,Y,te){w.i.set(Y,te)}function Ns(w){return mn(w,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),w}function Dn(w,Y){return w?Y?decodeURI(w.replace(/%25/g,"%2525")):decodeURIComponent(w):""}function Pn(w,Y,te){return typeof w=="string"?(w=encodeURI(w).replace(Y,Wt),te&&(w=w.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w):null}function Wt(w){return w=w.charCodeAt(0),"%"+(w>>4&15).toString(16)+(w&15).toString(16)}var qs=/[#\/\?@]/g,Si=/[#\?:]/g,Yi=/[#\?]/g,Or=/[#\?@]/g,Wo=/#/g;function Ur(w,Y){this.h=this.g=null,this.i=w||null,this.j=!!Y}function Qs(w){w.g||(w.g=new Map,w.h=0,w.i&&jr(w.i,function(Y,te){w.add(decodeURIComponent(Y.replace(/\+/g," ")),te)}))}n=Ur.prototype,n.add=function(w,Y){Qs(this),this.i=null,w=Wi(this,w);let te=this.g.get(w);return te||this.g.set(w,te=[]),te.push(Y),this.h+=1,this};function Mi(w,Y){Qs(w),Y=Wi(w,Y),w.g.has(Y)&&(w.i=null,w.h-=w.g.get(Y).length,w.g.delete(Y))}function go(w,Y){return Qs(w),Y=Wi(w,Y),w.g.has(Y)}n.forEach=function(w,Y){Qs(this),this.g.forEach(function(te,be){te.forEach(function($e){w.call(Y,$e,be,this)},this)},this)};function Xo(w,Y){Qs(w);let te=[];if(typeof Y=="string")go(w,Y)&&(te=te.concat(w.g.get(Wi(w,Y))));else for(w=Array.from(w.g.values()),Y=0;Y<w.length;Y++)te=te.concat(w[Y]);return te}n.set=function(w,Y){return Qs(this),this.i=null,w=Wi(this,w),go(this,w)&&(this.h-=this.g.get(w).length),this.g.set(w,[Y]),this.h+=1,this},n.get=function(w,Y){return w?(w=Xo(this,w),w.length>0?String(w[0]):Y):Y};function iA(w,Y,te){Mi(w,Y),te.length>0&&(w.i=null,w.g.set(Wi(w,Y),g(te)),w.h+=te.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const w=[],Y=Array.from(this.g.keys());for(let be=0;be<Y.length;be++){var te=Y[be];const $e=Le(te);te=Xo(this,te);for(let tt=0;tt<te.length;tt++){let kt=$e;te[tt]!==""&&(kt+="="+Le(te[tt])),w.push(kt)}}return this.i=w.join("&")};function Ol(w){const Y=new Ur;return Y.i=w.i,w.g&&(Y.g=new Map(w.g),Y.h=w.h),Y}function Wi(w,Y){return Y=String(Y),w.j&&(Y=Y.toLowerCase()),Y}function Wr(w,Y){Y&&!w.j&&(Qs(w),w.i=null,w.g.forEach(function(te,be){const $e=be.toLowerCase();be!=$e&&(Mi(this,be),iA(this,$e,te))},w)),w.j=Y}function Xi(w,Y){const te=new qt;if(c.Image){const be=new Image;be.onload=A(ii,te,"TestLoadImage: loaded",!0,Y,be),be.onerror=A(ii,te,"TestLoadImage: error",!1,Y,be),be.onabort=A(ii,te,"TestLoadImage: abort",!1,Y,be),be.ontimeout=A(ii,te,"TestLoadImage: timeout",!1,Y,be),c.setTimeout(function(){be.ontimeout&&be.ontimeout()},1e4),be.src=w}else Y(!1)}function Jo(w,Y){const te=new qt,be=new AbortController,$e=setTimeout(()=>{be.abort(),ii(te,"TestPingServer: timeout",!1,Y)},1e4);fetch(w,{signal:be.signal}).then(tt=>{clearTimeout($e),tt.ok?ii(te,"TestPingServer: ok",!0,Y):ii(te,"TestPingServer: server error",!1,Y)}).catch(()=>{clearTimeout($e),ii(te,"TestPingServer: error",!1,Y)})}function ii(w,Y,te,be,$e){try{$e&&($e.onload=null,$e.onerror=null,$e.onabort=null,$e.ontimeout=null),be(te)}catch{}}function Hi(){this.g=new $t}function kn(w){this.i=w.Sb||null,this.h=w.ab||!1}m(kn,Ht),kn.prototype.g=function(){return new Pl(this.i,this.h)};function Pl(w,Y){qe.call(this),this.H=w,this.o=Y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(Pl,qe),n=Pl.prototype,n.open=function(w,Y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=w,this.D=Y,this.readyState=1,Sa(this)},n.send=function(w){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const Y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};w&&(Y.body=w),(this.H||c).fetch(new Request(this.D,Y)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,dl(this)),this.readyState=0},n.Pa=function(w){if(this.g&&(this.l=w,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=w.headers,this.readyState=2,Sa(this)),this.g&&(this.readyState=3,Sa(this),this.g)))if(this.responseType==="arraybuffer")w.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in w){if(this.j=w.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;oA(this)}else w.text().then(this.Oa.bind(this),this.ga.bind(this))};function oA(w){w.j.read().then(w.Ma.bind(w)).catch(w.ga.bind(w))}n.Ma=function(w){if(this.g){if(this.o&&w.value)this.response.push(w.value);else if(!this.o){var Y=w.value?w.value:new Uint8Array(0);(Y=this.B.decode(Y,{stream:!w.done}))&&(this.response=this.responseText+=Y)}w.done?dl(this):Sa(this),this.readyState==3&&oA(this)}},n.Oa=function(w){this.g&&(this.response=this.responseText=w,dl(this))},n.Na=function(w){this.g&&(this.response=w,dl(this))},n.ga=function(){this.g&&dl(this)};function dl(w){w.readyState=4,w.l=null,w.j=null,w.B=null,Sa(w)}n.setRequestHeader=function(w,Y){this.A.append(w,Y)},n.getResponseHeader=function(w){return this.h&&this.h.get(w.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const w=[],Y=this.h.entries();for(var te=Y.next();!te.done;)te=te.value,w.push(te[0]+": "+te[1]),te=Y.next();return w.join(`\r
`)};function Sa(w){w.onreadystatechange&&w.onreadystatechange.call(w)}Object.defineProperty(Pl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(w){this.m=w?"include":"same-origin"}});function ha(w){let Y="";return he(w,function(te,be){Y+=be,Y+=":",Y+=te,Y+=`\r
`}),Y}function Da(w,Y,te){e:{for(be in te){var be=!1;break e}be=!0}be||(te=ha(te),typeof w=="string"?te!=null&&Le(te):mn(w,Y,te))}function Gs(w){qe.call(this),this.headers=new Map,this.L=w||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(Gs,qe);var oi=/^https?$/i,hl=["POST","PUT"];n=Gs.prototype,n.Fa=function(w){this.H=w},n.ea=function(w,Y,te,be){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+w);Y=Y?Y.toUpperCase():"GET",this.D=w,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():$r.g(),this.g.onreadystatechange=v(f(this.Ca,this));try{this.B=!0,this.g.open(Y,String(w),!0),this.B=!1}catch(tt){Ji(this,tt);return}if(w=te||"",te=new Map(this.headers),be)if(Object.getPrototypeOf(be)===Object.prototype)for(var $e in be)te.set($e,be[$e]);else if(typeof be.keys=="function"&&typeof be.get=="function")for(const tt of be.keys())te.set(tt,be.get(tt));else throw Error("Unknown input type for opt_headers: "+String(be));be=Array.from(te.keys()).find(tt=>tt.toLowerCase()=="content-type"),$e=c.FormData&&w instanceof c.FormData,!(Array.prototype.indexOf.call(hl,Y,void 0)>=0)||be||$e||te.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[tt,kt]of te)this.g.setRequestHeader(tt,kt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(w),this.v=!1}catch(tt){Ji(this,tt)}};function Ji(w,Y){w.h=!1,w.g&&(w.j=!0,w.g.abort(),w.j=!1),w.l=Y,w.o=5,RA(w),vo(w)}function RA(w){w.A||(w.A=!0,We(w,"complete"),We(w,"error"))}n.abort=function(w){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=w||7,We(this,"complete"),We(this,"abort"),vo(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vo(this,!0)),Gs.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Ni(this):this.Xa())},n.Xa=function(){Ni(this)};function Ni(w){if(w.h&&typeof o<"u"){if(w.v&&li(w)==4)setTimeout(w.Ca.bind(w),0);else if(We(w,"readystatechange"),li(w)==4){w.h=!1;try{const tt=w.ca();e:switch(tt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var Y=!0;break e;default:Y=!1}var te;if(!(te=Y)){var be;if(be=tt===0){let kt=String(w.D).match(po)[1]||null;!kt&&c.self&&c.self.location&&(kt=c.self.location.protocol.slice(0,-1)),be=!oi.test(kt?kt.toLowerCase():"")}te=be}if(te)We(w,"complete"),We(w,"success");else{w.o=6;try{var $e=li(w)>2?w.g.statusText:""}catch{$e=""}w.l=$e+" ["+w.ca()+"]",RA(w)}}finally{vo(w)}}}}function vo(w,Y){if(w.g){w.m&&(clearTimeout(w.m),w.m=null);const te=w.g;w.g=null,Y||We(w,"ready");try{te.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function li(w){return w.g?w.g.readyState:0}n.ca=function(){try{return li(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(w){if(this.g){var Y=this.g.responseText;return w&&Y.indexOf(w)==0&&(Y=Y.substring(w.length)),St(Y)}};function Xr(w){try{if(!w.g)return null;if("response"in w.g)return w.g.response;switch(w.F){case"":case"text":return w.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in w.g)return w.g.mozResponseArrayBuffer}return null}catch{return null}}function xo(w){const Y={};w=(w.g&&li(w)>=2&&w.g.getAllResponseHeaders()||"").split(`\r
`);for(let be=0;be<w.length;be++){if(G(w[be]))continue;var te=Rt(w[be]);const $e=te[0];if(te=te[1],typeof te!="string")continue;te=te.trim();const tt=Y[$e]||[];Y[$e]=tt,tt.push(te)}je(Y,function(be){return be.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function La(w,Y,te){return te&&te.internalChannelParams&&te.internalChannelParams[w]||Y}function hr(w){this.za=0,this.i=[],this.j=new qt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=La("failFast",!1,w),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=La("baseRetryDelayMs",5e3,w),this.Za=La("retryDelaySeedMs",1e4,w),this.Ta=La("forwardChannelMaxRetries",2,w),this.va=La("forwardChannelRequestTimeoutMs",2e4,w),this.ma=w&&w.xmlHttpFactory||void 0,this.Ua=w&&w.Rb||void 0,this.Aa=w&&w.useFetchStreams||!1,this.O=void 0,this.L=w&&w.supportsCrossDomainXhr||!1,this.M="",this.h=new Ga(w&&w.concurrentRequestLimit),this.Ba=new Hi,this.S=w&&w.fastHandshake||!1,this.R=w&&w.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=w&&w.Pb||!1,w&&w.ua&&this.j.ua(),w&&w.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&w&&w.detectBufferingProxy||!1,this.ia=void 0,w&&w.longPollingTimeout&&w.longPollingTimeout>0&&(this.ia=w.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=hr.prototype,n.ka=8,n.I=1,n.connect=function(w,Y,te,be){Tt(0),this.W=w,this.H=Y||{},te&&be!==void 0&&(this.H.OSID=te,this.H.OAID=be),this.F=this.X,this.J=Nt(this,null,this.W),Vi(this)};function fl(w){if(yo(w),w.I==3){var Y=w.V++,te=vr(w.J);if(mn(te,"SID",w.M),mn(te,"RID",Y),mn(te,"TYPE","terminate"),Qa(w,te),Y=new Vt(w,w.j,Y),Y.M=2,Y.A=Ns(vr(te)),te=!1,c.navigator&&c.navigator.sendBeacon)try{te=c.navigator.sendBeacon(Y.A.toString(),"")}catch{}!te&&c.Image&&(new Image().src=Y.A,te=!0),te||(Y.g=hn(Y.j,null),Y.g.ea(Y.A)),Y.F=Date.now(),In(Y)}mt(w)}function $a(w){w.g&&(Ti(w),w.g.cancel(),w.g=null)}function yo(w){$a(w),w.v&&(c.clearTimeout(w.v),w.v=null),oe(w),w.h.cancel(),w.m&&(typeof w.m=="number"&&c.clearTimeout(w.m),w.m=null)}function Vi(w){if(!Yr(w.h)&&!w.m){w.m=!0;var Y=w.Ea;P||Q(),K||(P(),K=!0),L.add(Y,w),w.D=0}}function kl(w,Y){return da(w.h)>=w.h.j-(w.m?1:0)?!1:w.m?(w.i=Y.G.concat(w.i),!0):w.I==1||w.I==2||w.D>=(w.Sa?0:w.Ta)?!1:(w.m=Ot(f(w.Ea,w,Y),Ue(w,w.D)),w.D++,!0)}n.Ea=function(w){if(this.m)if(this.m=null,this.I==1){if(!w){this.V=Math.floor(Math.random()*1e5),w=this.V++;const $e=new Vt(this,this.j,w);let tt=this.o;if(this.U&&(tt?(tt=ne(tt),W(tt,this.U)):tt=this.U),this.u!==null||this.R||($e.J=tt,tt=null),this.S)e:{for(var Y=0,te=0;te<this.i.length;te++){t:{var be=this.i[te];if("__data__"in be.map&&(be=be.map.__data__,typeof be=="string")){be=be.length;break t}be=void 0}if(be===void 0)break;if(Y+=be,Y>4096){Y=te;break e}if(Y===4096||te===this.i.length-1){Y=te+1;break e}}Y=1e3}else Y=1e3;Y=Ei(this,$e,Y),te=vr(this.J),mn(te,"RID",w),mn(te,"CVER",22),this.G&&mn(te,"X-HTTP-Session-Id",this.G),Qa(this,te),tt&&(this.R?Y="headers="+Le(ha(tt))+"&"+Y:this.u&&Da(te,this.u,tt)),Ci(this.h,$e),this.Ra&&mn(te,"TYPE","init"),this.S?(mn(te,"$req",Y),mn(te,"SID","null"),$e.U=!0,vn($e,te,null)):vn($e,te,Y),this.I=2}}else this.I==3&&(w?lA(this,w):this.i.length==0||Yr(this.h)||lA(this))};function lA(w,Y){var te;Y?te=Y.l:te=w.V++;const be=vr(w.J);mn(be,"SID",w.M),mn(be,"RID",te),mn(be,"AID",w.K),Qa(w,be),w.u&&w.o&&Da(be,w.u,w.o),te=new Vt(w,w.j,te,w.D+1),w.u===null&&(te.J=w.o),Y&&(w.i=Y.G.concat(w.i)),Y=Ei(w,te,1e3),te.H=Math.round(w.va*.5)+Math.round(w.va*.5*Math.random()),Ci(w.h,te),vn(te,be,Y)}function Qa(w,Y){w.H&&he(w.H,function(te,be){mn(Y,be,te)}),w.l&&he({},function(te,be){mn(Y,be,te)})}function Ei(w,Y,te){te=Math.min(w.i.length,te);const be=w.l?f(w.l.Ka,w.l,w):null;e:{var $e=w.i;let qn=-1;for(;;){const yr=["count="+te];qn==-1?te>0?(qn=$e[0].g,yr.push("ofs="+qn)):qn=0:yr.push("ofs="+qn);let us=!0;for(let $s=0;$s<te;$s++){var tt=$e[$s].g;const Na=$e[$s].map;if(tt-=qn,tt<0)qn=Math.max(0,$e[$s].g-100),us=!1;else try{tt="req"+tt+"_"||"";try{var kt=Na instanceof Map?Na:Object.entries(Na);for(const[sa,Os]of kt){let rs=Os;h(Os)&&(rs=xt(Os)),yr.push(tt+sa+"="+encodeURIComponent(rs))}}catch(sa){throw yr.push(tt+"type="+encodeURIComponent("_badmap")),sa}}catch{be&&be(Na)}}if(us){kt=yr.join("&");break e}}kt=void 0}return w=w.i.splice(0,te),Y.G=w,kt}function AA(w){if(!w.g&&!w.v){w.Y=1;var Y=w.Da;P||Q(),K||(P(),K=!0),L.add(Y,w),w.A=0}}function qi(w){return w.g||w.v||w.A>=3?!1:(w.Y++,w.v=Ot(f(w.Da,w),Ue(w,w.A)),w.A++,!0)}n.Da=function(){if(this.v=null,k(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var w=4*this.T;this.j.info("BP detection timer enabled: "+w),this.B=Ot(f(this.Wa,this),w)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Tt(10),$a(this),k(this))};function Ti(w){w.B!=null&&(c.clearTimeout(w.B),w.B=null)}function k(w){w.g=new Vt(w,w.j,"rpc",w.Y),w.u===null&&(w.g.J=w.o),w.g.P=0;var Y=vr(w.na);mn(Y,"RID","rpc"),mn(Y,"SID",w.M),mn(Y,"AID",w.K),mn(Y,"CI",w.F?"0":"1"),!w.F&&w.ia&&mn(Y,"TO",w.ia),mn(Y,"TYPE","xmlhttp"),Qa(w,Y),w.u&&w.o&&Da(Y,w.u,w.o),w.O&&(w.g.H=w.O);var te=w.g;w=w.ba,te.M=1,te.A=Ns(vr(Y)),te.u=null,te.R=!0,Sn(te,w)}n.Va=function(){this.C!=null&&(this.C=null,$a(this),qi(this),Tt(19))};function oe(w){w.C!=null&&(c.clearTimeout(w.C),w.C=null)}function Ee(w,Y){var te=null;if(w.g==Y){oe(w),Ti(w),w.g=null;var be=2}else if(ai(w.h,Y))te=Y.G,ul(w.h,Y),be=1;else return;if(w.I!=0){if(Y.o)if(be==1){te=Y.u?Y.u.length:0,Y=Date.now()-Y.F;var $e=w.D;be=Lt(),We(be,new ht(be,te)),Vi(w)}else AA(w);else if($e=Y.m,$e==3||$e==0&&Y.X>0||!(be==1&&kl(w,Y)||be==2&&qi(w)))switch(te&&te.length>0&&(Y=w.h,Y.i=Y.i.concat(te)),$e){case 1:Ve(w,5);break;case 4:Ve(w,10);break;case 3:Ve(w,6);break;default:Ve(w,2)}}}function Ue(w,Y){let te=w.Qa+Math.floor(Math.random()*w.Za);return w.isActive()||(te*=2),te*Y}function Ve(w,Y){if(w.j.info("Error code "+Y),Y==2){var te=f(w.bb,w),be=w.Ua;const $e=!be;be=new na(be||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||ls(be,"https"),Ns(be),$e?Xi(be.toString(),te):Jo(be.toString(),te)}else Tt(2);w.I=0,w.l&&w.l.pa(Y),mt(w),yo(w)}n.bb=function(w){w?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function mt(w){if(w.I=0,w.ja=[],w.l){const Y=Yo(w.h);(Y.length!=0||w.i.length!=0)&&(b(w.ja,Y),b(w.ja,w.i),w.h.i.length=0,g(w.i),w.i.length=0),w.l.oa()}}function Nt(w,Y,te){var be=te instanceof na?vr(te):new na(te);if(be.g!="")Y&&(be.g=Y+"."+be.g),Ra(be,be.u);else{var $e=c.location;be=$e.protocol,Y=Y?Y+"."+$e.hostname:$e.hostname,$e=+$e.port;const tt=new na(null);be&&ls(tt,be),Y&&(tt.g=Y),$e&&Ra(tt,$e),te&&(tt.h=te),be=tt}return te=w.G,Y=w.wa,te&&Y&&mn(be,te,Y),mn(be,"VER",w.ka),Qa(w,be),be}function hn(w,Y,te){if(Y&&!w.L)throw Error("Can't create secondary domain capable XhrIo object.");return Y=w.Aa&&!w.ma?new Gs(new kn({ab:te})):new Gs(w.ma),Y.Fa(w.L),Y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function bn(){}n=bn.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Mn(){}Mn.prototype.g=function(w,Y){return new _n(w,Y)};function _n(w,Y){qe.call(this),this.g=new hr(Y),this.l=w,this.h=Y&&Y.messageUrlParams||null,w=Y&&Y.messageHeaders||null,Y&&Y.clientProtocolHeaderRequired&&(w?w["X-Client-Protocol"]="webchannel":w={"X-Client-Protocol":"webchannel"}),this.g.o=w,w=Y&&Y.initMessageHeaders||null,Y&&Y.messageContentType&&(w?w["X-WebChannel-Content-Type"]=Y.messageContentType:w={"X-WebChannel-Content-Type":Y.messageContentType}),Y&&Y.sa&&(w?w["X-WebChannel-Client-Profile"]=Y.sa:w={"X-WebChannel-Client-Profile":Y.sa}),this.g.U=w,(w=Y&&Y.Qb)&&!G(w)&&(this.g.u=w),this.A=Y&&Y.supportsCrossDomainXhr||!1,this.v=Y&&Y.sendRawJson||!1,(Y=Y&&Y.httpSessionIdParam)&&!G(Y)&&(this.g.G=Y,w=this.h,w!==null&&Y in w&&(w=this.h,Y in w&&delete w[Y])),this.j=new Ar(this)}m(_n,qe),_n.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){fl(this.g)},_n.prototype.o=function(w){var Y=this.g;if(typeof w=="string"){var te={};te.__data__=w,w=te}else this.v&&(te={},te.__data__=xt(w),w=te);Y.i.push(new zs(Y.Ya++,w)),Y.I==3&&Vi(Y)},_n.prototype.N=function(){this.g.l=null,delete this.j,fl(this.g),delete this.g,_n.Z.N.call(this)};function ys(w){yt.call(this),w.__headers__&&(this.headers=w.__headers__,this.statusCode=w.__status__,delete w.__headers__,delete w.__status__);var Y=w.__sm__;if(Y){e:{for(const te in Y){w=te;break e}w=void 0}(this.i=w)&&(w=this.i,Y=Y!==null&&w in Y?Y[w]:void 0),this.data=Y}else this.data=w}m(ys,yt);function xr(){ze.call(this),this.status=1}m(xr,ze);function Ar(w){this.g=w}m(Ar,bn),Ar.prototype.ra=function(){We(this.g,"a")},Ar.prototype.qa=function(w){We(this.g,new ys(w))},Ar.prototype.pa=function(w){We(this.g,new xr)},Ar.prototype.oa=function(){We(this.g,"b")},Mn.prototype.createWebChannel=Mn.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,$E=function(){return new Mn},GE=function(){return Lt()},zE=ot,K1={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ua.NO_ERROR=0,Ua.TIMEOUT=8,Ua.HTTP_ERROR=6,Av=Ua,ua.COMPLETE="complete",KE=ua,Rn.EventType=Ke,Ke.OPEN="a",Ke.CLOSE="b",Ke.ERROR="c",Ke.MESSAGE="d",qe.prototype.listen=qe.prototype.J,Bp=Rn,Gs.prototype.listenOnce=Gs.prototype.K,Gs.prototype.getLastError=Gs.prototype.Ha,Gs.prototype.getLastErrorCode=Gs.prototype.ya,Gs.prototype.getStatus=Gs.prototype.ca,Gs.prototype.getResponseJson=Gs.prototype.La,Gs.prototype.getResponseText=Gs.prototype.la,Gs.prototype.send=Gs.prototype.ea,Gs.prototype.setWithCredentials=Gs.prototype.Fa,VE=Gs}).apply(typeof L0<"u"?L0:typeof self<"u"?self:typeof window<"u"?window:{});const RB="@firebase/firestore",DB="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vo=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Vo.UNAUTHENTICATED=new Vo(null),Vo.GOOGLE_CREDENTIALS=new Vo("google-credentials-uid"),Vo.FIRST_PARTY=new Vo("first-party-uid"),Vo.MOCK_USER=new Vo("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gm="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wh=new rQ("@firebase/firestore");function Of(){return Wh.logLevel}function gn(n,...e){if(Wh.logLevel<=tr.DEBUG){const t=e.map(hw);Wh.debug(`Firestore (${gm}): ${n}`,...t)}}function Eu(n,...e){if(Wh.logLevel<=tr.ERROR){const t=e.map(hw);Wh.error(`Firestore (${gm}): ${n}`,...t)}}function nm(n,...e){if(Wh.logLevel<=tr.WARN){const t=e.map(hw);Wh.warn(`Firestore (${gm}): ${n}`,...t)}}function hw(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(n,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,YE(n,s,t)}function YE(n,e,t){let s=`FIRESTORE (${gm}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw Eu(s),new Error(s)}function wr(n,e,t,s){let a="Unexpected state";typeof t=="string"?a=t:s=t,n||YE(e,a,s)}function ps(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class nn extends Ac{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class aQ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Vo.UNAUTHENTICATED)))}shutdown(){}}class iQ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class oQ{constructor(e){this.t=e,this.currentUser=Vo.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){wr(this.o===void 0,42304);let s=this.i;const a=u=>this.i!==s?(s=this.i,t(u)):Promise.resolve();let o=new wu;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new wu,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const u=o;e.enqueueRetryable((async()=>{await u.promise,await a(this.currentUser)}))},h=u=>{gn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((u=>h(u))),setTimeout((()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?h(u):(gn("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new wu)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(gn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(wr(typeof s.accessToken=="string",31837,{l:s}),new WE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return wr(e===null||typeof e=="string",2055,{h:e}),new Vo(e)}}class lQ{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=Vo.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class AQ{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new lQ(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Vo.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class LB{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cQ{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,eA(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){wr(this.o===void 0,3512);const s=o=>{o.error!=null&&gn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,gn("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>s(o)))};const a=o=>{gn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>a(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):gn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new LB(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(wr(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new LB(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uQ(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=uQ(40);for(let o=0;o<a.length;++o)s.length<20&&a[o]<t&&(s+=e.charAt(a[o]%62))}return s}}function Vs(n,e){return n<e?-1:n>e?1:0}function z1(n,e){const t=Math.min(n.length,e.length);for(let s=0;s<t;s++){const a=n.charAt(s),o=e.charAt(s);if(a!==o)return Ly(a)===Ly(o)?Vs(a,o):Ly(a)?1:-1}return Vs(n.length,e.length)}const dQ=55296,hQ=57343;function Ly(n){const e=n.charCodeAt(0);return e>=dQ&&e<=hQ}function sm(n,e,t){return n.length===e.length&&n.every(((s,a)=>t(s,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QB="__name__";class Qc{constructor(e,t,s){t===void 0?t=0:t>e.length&&ss(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&ss(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Qc.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Qc?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const o=Qc.compareSegments(e.get(a),t.get(a));if(o!==0)return o}return Vs(e.length,t.length)}static compareSegments(e,t){const s=Qc.isNumericId(e),a=Qc.isNumericId(t);return s&&!a?-1:!s&&a?1:s&&a?Qc.extractNumericId(e).compare(Qc.extractNumericId(t)):z1(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Fd.fromString(e.substring(4,e.length-2))}}class ta extends Qc{construct(e,t,s){return new ta(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new nn(bt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((a=>a.length>0)))}return new ta(t)}static emptyPath(){return new ta([])}}const fQ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class uo extends Qc{construct(e,t,s){return new uo(e,t,s)}static isValidIdentifier(e){return fQ.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),uo.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===QB}static keyField(){return new uo([QB])}static fromServerFormat(e){const t=[];let s="",a=0;const o=()=>{if(s.length===0)throw new nn(bt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let c=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new nn(bt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[a+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new nn(bt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=u,a+=2}else h==="`"?(c=!c,a++):h!=="."||c?(s+=h,a++):(o(),a++)}if(o(),c)throw new nn(bt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new uo(t)}static emptyPath(){return new uo([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.path=e}static fromPath(e){return new $n(ta.fromString(e))}static fromName(e){return new $n(ta.fromString(e).popFirst(5))}static empty(){return new $n(ta.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ta.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ta.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new $n(new ta(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(n,e,t){if(!t)throw new nn(bt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function mQ(n,e,t,s){if(e===!0&&s===!0)throw new nn(bt.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function OB(n){if(!$n.isDocumentKey(n))throw new nn(bt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function PB(n){if($n.isDocumentKey(n))throw new nn(bt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function JE(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function mx(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ss(12329,{type:typeof n})}function Ul(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new nn(bt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=mx(n);throw new nn(bt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function pQ(n,e){if(e<=0)throw new nn(bt.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bi(n,e){const t={typeString:n};return e&&(t.value=e),t}function Bg(n,e){if(!JE(n))throw new nn(bt.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const a=e[s].typeString,o="value"in e[s]?{value:e[s].value}:void 0;if(!(s in n)){t=`JSON missing required field: '${s}'`;break}const c=n[s];if(a&&typeof c!==a){t=`JSON field '${s}' must be a ${a}.`;break}if(o!==void 0&&c!==o.value){t=`Expected '${s}' field to equal '${o.value}'`;break}}if(t)throw new nn(bt.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kB=-62135596800,MB=1e6;class nr{static now(){return nr.fromMillis(Date.now())}static fromDate(e){return nr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*MB);return new nr(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new nn(bt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new nn(bt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<kB)throw new nn(bt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new nn(bt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/MB}_compareTo(e){return this.seconds===e.seconds?Vs(this.nanoseconds,e.nanoseconds):Vs(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:nr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Bg(e,nr._jsonSchema))return new nr(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-kB;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}nr._jsonSchemaVersion="firestore/timestamp/1.0",nr._jsonSchema={type:Bi("string",nr._jsonSchemaVersion),seconds:Bi("number"),nanoseconds:Bi("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{static fromTimestamp(e){return new As(e)}static min(){return new As(new nr(0,0))}static max(){return new As(new nr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eg=-1;function gQ(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,a=As.fromTimestamp(s===1e9?new nr(t+1,0):new nr(t,s));return new Qd(a,$n.empty(),e)}function vQ(n){return new Qd(n.readTime,n.key,eg)}class Qd{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Qd(As.min(),$n.empty(),eg)}static max(){return new Qd(As.max(),$n.empty(),eg)}}function xQ(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=$n.comparator(n.documentKey,e.documentKey),t!==0?t:Vs(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yQ="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bQ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vm(n){if(n.code!==bt.FAILED_PRECONDITION||n.message!==yQ)throw n;gn("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ss(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new It(((s,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(s,a)},this.catchCallback=o=>{this.wrapFailure(t,o).next(s,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof It?t:It.resolve(t)}catch(t){return It.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):It.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):It.reject(t)}static resolve(e){return new It(((t,s)=>{t(e)}))}static reject(e){return new It(((t,s)=>{s(e)}))}static waitFor(e){return new It(((t,s)=>{let a=0,o=0,c=!1;e.forEach((h=>{++a,h.next((()=>{++o,c&&o===a&&t()}),(u=>s(u)))})),c=!0,o===a&&t()}))}static or(e){let t=It.resolve(!1);for(const s of e)t=t.next((a=>a?It.resolve(a):s()));return t}static forEach(e,t){const s=[];return e.forEach(((a,o)=>{s.push(t.call(this,a,o))})),this.waitFor(s)}static mapArray(e,t){return new It(((s,a)=>{const o=e.length,c=new Array(o);let h=0;for(let u=0;u<o;u++){const f=u;t(e[f]).next((A=>{c[f]=A,++h,h===o&&s(c)}),(A=>a(A)))}}))}static doWhile(e,t){return new It(((s,a)=>{const o=()=>{e()===!0?t().next((()=>{o()}),a):s()};o()}))}}function wQ(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function xm(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}px.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw=-1;function gx(n){return n==null}function Uv(n){return n===0&&1/n==-1/0}function jQ(n){return typeof n=="number"&&Number.isInteger(n)&&!Uv(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE="";function BQ(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=HB(e)),e=CQ(n.get(t),e);return HB(e)}function CQ(n,e){let t=e;const s=n.length;for(let a=0;a<s;a++){const o=n.charAt(a);switch(o){case"\0":t+="";break;case qE:t+="";break;default:t+=o}}return t}function HB(n){return n+qE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VB(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Yd(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function ZE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e,t){this.comparator=e,this.root=t||co.EMPTY}insert(e,t){return new Fa(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,co.BLACK,null,null))}remove(e){return new Fa(this.comparator,this.root.remove(e,this.comparator).copy(null,null,co.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Q0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Q0(this.root,e,this.comparator,!1)}getReverseIterator(){return new Q0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Q0(this.root,e,this.comparator,!0)}}class Q0{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?s(e.key,t):1,t&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class co{constructor(e,t,s,a,o){this.key=e,this.value=t,this.color=s??co.RED,this.left=a??co.EMPTY,this.right=o??co.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,o){return new co(e??this.key,t??this.value,s??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const o=s(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,t,s),null):o===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return co.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return co.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,co.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,co.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ss(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ss(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ss(27949);return e+(this.isRed()?0:1)}}co.EMPTY=null,co.RED=!0,co.BLACK=!1;co.EMPTY=new class{constructor(){this.size=0}get key(){throw ss(57766)}get value(){throw ss(16141)}get color(){throw ss(16727)}get left(){throw ss(29726)}get right(){throw ss(36894)}copy(e,t,s,a,o){return this}insert(e,t,s){return new co(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e){this.comparator=e,this.data=new Fa(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new KB(this.data.getIterator())}getIteratorFrom(e){return new KB(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof ki)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=s.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new ki(this.comparator);return t.data=e,t}}class KB{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e){this.fields=e,e.sort(uo.comparator)}static empty(){return new tA([])}unionWith(e){let t=new ki(uo.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new tA(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return sm(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new e4("Invalid base64 string: "+o):o}})(e);return new mo(t)}static fromUint8Array(e){const t=(function(a){let o="";for(let c=0;c<a.length;++c)o+=String.fromCharCode(a[c]);return o})(e);return new mo(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let a=0;a<t.length;a++)s[a]=t.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Vs(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mo.EMPTY_BYTE_STRING=new mo("");const SQ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Od(n){if(wr(!!n,39018),typeof n=="string"){let e=0;const t=SQ.exec(n);if(wr(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ei(n.seconds),nanos:ei(n.nanos)}}function ei(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Pd(n){return typeof n=="string"?mo.fromBase64String(n):mo.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t4="server_timestamp",n4="__type__",s4="__previous_value__",r4="__local_write_time__";function pw(n){var t,s;return((s=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[n4])==null?void 0:s.stringValue)===t4}function vx(n){const e=n.mapValue.fields[s4];return pw(e)?vx(e):e}function tg(n){const e=Od(n.mapValue.fields[r4].timestampValue);return new nr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NQ{constructor(e,t,s,a,o,c,h,u,f,A){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=u,this.useFetchStreams=f,this.isUsingEmulator=A}}const Rv="(default)";class ng{constructor(e,t){this.projectId=e,this.database=t||Rv}static empty(){return new ng("","")}get isDefaultDatabase(){return this.database===Rv}isEqual(e){return e instanceof ng&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4="__type__",EQ="__max__",O0={mapValue:{}},i4="__vector__",Dv="value";function kd(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?pw(n)?4:IQ(n)?9007199254740991:TQ(n)?10:11:ss(28295,{value:n})}function Gc(n,e){if(n===e)return!0;const t=kd(n);if(t!==kd(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return tg(n).isEqual(tg(e));case 3:return(function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const c=Od(a.timestampValue),h=Od(o.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(a,o){return Pd(a.bytesValue).isEqual(Pd(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(a,o){return ei(a.geoPointValue.latitude)===ei(o.geoPointValue.latitude)&&ei(a.geoPointValue.longitude)===ei(o.geoPointValue.longitude)})(n,e);case 2:return(function(a,o){if("integerValue"in a&&"integerValue"in o)return ei(a.integerValue)===ei(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const c=ei(a.doubleValue),h=ei(o.doubleValue);return c===h?Uv(c)===Uv(h):isNaN(c)&&isNaN(h)}return!1})(n,e);case 9:return sm(n.arrayValue.values||[],e.arrayValue.values||[],Gc);case 10:case 11:return(function(a,o){const c=a.mapValue.fields||{},h=o.mapValue.fields||{};if(VB(c)!==VB(h))return!1;for(const u in c)if(c.hasOwnProperty(u)&&(h[u]===void 0||!Gc(c[u],h[u])))return!1;return!0})(n,e);default:return ss(52216,{left:n})}}function sg(n,e){return(n.values||[]).find((t=>Gc(t,e)))!==void 0}function rm(n,e){if(n===e)return 0;const t=kd(n),s=kd(e);if(t!==s)return Vs(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Vs(n.booleanValue,e.booleanValue);case 2:return(function(o,c){const h=ei(o.integerValue||o.doubleValue),u=ei(c.integerValue||c.doubleValue);return h<u?-1:h>u?1:h===u?0:isNaN(h)?isNaN(u)?0:-1:1})(n,e);case 3:return zB(n.timestampValue,e.timestampValue);case 4:return zB(tg(n),tg(e));case 5:return z1(n.stringValue,e.stringValue);case 6:return(function(o,c){const h=Pd(o),u=Pd(c);return h.compareTo(u)})(n.bytesValue,e.bytesValue);case 7:return(function(o,c){const h=o.split("/"),u=c.split("/");for(let f=0;f<h.length&&f<u.length;f++){const A=Vs(h[f],u[f]);if(A!==0)return A}return Vs(h.length,u.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,c){const h=Vs(ei(o.latitude),ei(c.latitude));return h!==0?h:Vs(ei(o.longitude),ei(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return GB(n.arrayValue,e.arrayValue);case 10:return(function(o,c){var v,g,b,S;const h=o.fields||{},u=c.fields||{},f=(v=h[Dv])==null?void 0:v.arrayValue,A=(g=u[Dv])==null?void 0:g.arrayValue,m=Vs(((b=f==null?void 0:f.values)==null?void 0:b.length)||0,((S=A==null?void 0:A.values)==null?void 0:S.length)||0);return m!==0?m:GB(f,A)})(n.mapValue,e.mapValue);case 11:return(function(o,c){if(o===O0.mapValue&&c===O0.mapValue)return 0;if(o===O0.mapValue)return 1;if(c===O0.mapValue)return-1;const h=o.fields||{},u=Object.keys(h),f=c.fields||{},A=Object.keys(f);u.sort(),A.sort();for(let m=0;m<u.length&&m<A.length;++m){const v=z1(u[m],A[m]);if(v!==0)return v;const g=rm(h[u[m]],f[A[m]]);if(g!==0)return g}return Vs(u.length,A.length)})(n.mapValue,e.mapValue);default:throw ss(23264,{he:t})}}function zB(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Vs(n,e);const t=Od(n),s=Od(e),a=Vs(t.seconds,s.seconds);return a!==0?a:Vs(t.nanos,s.nanos)}function GB(n,e){const t=n.values||[],s=e.values||[];for(let a=0;a<t.length&&a<s.length;++a){const o=rm(t[a],s[a]);if(o)return o}return Vs(t.length,s.length)}function am(n){return G1(n)}function G1(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const s=Od(t);return`time(${s.seconds},${s.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Pd(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return $n.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let s="[",a=!0;for(const o of t.values||[])a?a=!1:s+=",",s+=G1(o);return s+"]"})(n.arrayValue):"mapValue"in n?(function(t){const s=Object.keys(t.fields||{}).sort();let a="{",o=!0;for(const c of s)o?o=!1:a+=",",a+=`${c}:${G1(t.fields[c])}`;return a+"}"})(n.mapValue):ss(61005,{value:n})}function cv(n){switch(kd(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=vx(n);return e?16+cv(e):16;case 5:return 2*n.stringValue.length;case 6:return Pd(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,o)=>a+cv(o)),0)})(n.arrayValue);case 10:case 11:return(function(s){let a=0;return Yd(s.fields,((o,c)=>{a+=o.length+cv(c)})),a})(n.mapValue);default:throw ss(13486,{value:n})}}function $B(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function $1(n){return!!n&&"integerValue"in n}function gw(n){return!!n&&"arrayValue"in n}function YB(n){return!!n&&"nullValue"in n}function WB(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function uv(n){return!!n&&"mapValue"in n}function TQ(n){var t,s;return((s=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[a4])==null?void 0:s.stringValue)===i4}function Fp(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Yd(n.mapValue.fields,((t,s)=>e.mapValue.fields[t]=Fp(s))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Fp(n.arrayValue.values[t]);return e}return{...n}}function IQ(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===EQ}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e){this.value=e}static empty(){return new _l({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!uv(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fp(t)}setAll(e){let t=uo.emptyPath(),s={},a=[];e.forEach(((c,h)=>{if(!t.isImmediateParentOf(h)){const u=this.getFieldsMap(t);this.applyChanges(u,s,a),s={},a=[],t=h.popLast()}c?s[h.lastSegment()]=Fp(c):a.push(h.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,s,a)}delete(e){const t=this.field(e.popLast());uv(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Gc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];uv(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){Yd(t,((a,o)=>e[a]=o));for(const a of s)delete e[a]}clone(){return new _l(Fp(this.value))}}function o4(n){const e=[];return Yd(n.fields,((t,s)=>{const a=new uo([t]);if(uv(s)){const o=o4(s.mapValue).fields;if(o.length===0)e.push(a);else for(const c of o)e.push(a.child(c))}else e.push(a)})),new tA(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e,t,s,a,o,c,h){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=o,this.data=c,this.documentState=h}static newInvalidDocument(e){return new Ko(e,0,As.min(),As.min(),As.min(),_l.empty(),0)}static newFoundDocument(e,t,s,a){return new Ko(e,1,t,As.min(),s,a,0)}static newNoDocument(e,t){return new Ko(e,2,t,As.min(),As.min(),_l.empty(),0)}static newUnknownDocument(e,t){return new Ko(e,3,t,As.min(),As.min(),_l.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(As.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_l.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_l.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=As.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ko&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ko(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(e,t){this.position=e,this.inclusive=t}}function XB(n,e,t){let s=0;for(let a=0;a<n.position.length;a++){const o=e[a],c=n.position[a];if(o.field.isKeyField()?s=$n.comparator($n.fromName(c.referenceValue),t.key):s=rm(c,t.data.field(o.field)),o.dir==="desc"&&(s*=-1),s!==0)break}return s}function JB(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Gc(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,t="asc"){this.field=e,this.dir=t}}function _Q(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{}class ji extends l4{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new UQ(e,t,s):t==="array-contains"?new LQ(e,s):t==="in"?new QQ(e,s):t==="not-in"?new OQ(e,s):t==="array-contains-any"?new PQ(e,s):new ji(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new RQ(e,s):new DQ(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(rm(t,this.value)):t!==null&&kd(this.value)===kd(t)&&this.matchesComparison(rm(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ss(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ac extends l4{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new ac(e,t)}matches(e){return A4(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function A4(n){return n.op==="and"}function c4(n){return FQ(n)&&A4(n)}function FQ(n){for(const e of n.filters)if(e instanceof ac)return!1;return!0}function Y1(n){if(n instanceof ji)return n.field.canonicalString()+n.op.toString()+am(n.value);if(c4(n))return n.filters.map((e=>Y1(e))).join(",");{const e=n.filters.map((t=>Y1(t))).join(",");return`${n.op}(${e})`}}function u4(n,e){return n instanceof ji?(function(s,a){return a instanceof ji&&s.op===a.op&&s.field.isEqual(a.field)&&Gc(s.value,a.value)})(n,e):n instanceof ac?(function(s,a){return a instanceof ac&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((o,c,h)=>o&&u4(c,a.filters[h])),!0):!1})(n,e):void ss(19439)}function d4(n){return n instanceof ji?(function(t){return`${t.field.canonicalString()} ${t.op} ${am(t.value)}`})(n):n instanceof ac?(function(t){return t.op.toString()+" {"+t.getFilters().map(d4).join(" ,")+"}"})(n):"Filter"}class UQ extends ji{constructor(e,t,s){super(e,t,s),this.key=$n.fromName(s.referenceValue)}matches(e){const t=$n.comparator(e.key,this.key);return this.matchesComparison(t)}}class RQ extends ji{constructor(e,t){super(e,"in",t),this.keys=h4("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class DQ extends ji{constructor(e,t){super(e,"not-in",t),this.keys=h4("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function h4(n,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((s=>$n.fromName(s.referenceValue)))}class LQ extends ji{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return gw(t)&&sg(t.arrayValue,this.value)}}class QQ extends ji{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&sg(this.value.arrayValue,t)}}class OQ extends ji{constructor(e,t){super(e,"not-in",t)}matches(e){if(sg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!sg(this.value.arrayValue,t)}}class PQ extends ji{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!gw(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>sg(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kQ{constructor(e,t=null,s=[],a=[],o=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=o,this.startAt=c,this.endAt=h,this.Te=null}}function qB(n,e=null,t=[],s=[],a=null,o=null,c=null){return new kQ(n,e,t,s,a,o,c)}function vw(n){const e=ps(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>Y1(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(o){return o.field.canonicalString()+o.dir})(s))).join(","),gx(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>am(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>am(s))).join(",")),e.Te=t}return e.Te}function xw(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!_Q(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!u4(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!JB(n.startAt,e.startAt)&&JB(n.endAt,e.endAt)}function W1(n){return $n.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e,t=null,s=[],a=[],o=null,c="F",h=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function MQ(n,e,t,s,a,o,c,h){return new ym(n,e,t,s,a,o,c,h)}function xx(n){return new ym(n)}function ZB(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function f4(n){return n.collectionGroup!==null}function Up(n){const e=ps(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new ki(uo.comparator);return c.filters.forEach((u=>{u.getFlattenedFilters().forEach((f=>{f.isInequality()&&(h=h.add(f.field))}))})),h})(e).forEach((o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new rg(o,s))})),t.has(uo.keyField().canonicalString())||e.Ie.push(new rg(uo.keyField(),s))}return e.Ie}function Mc(n){const e=ps(n);return e.Ee||(e.Ee=HQ(e,Up(n))),e.Ee}function HQ(n,e){if(n.limitType==="F")return qB(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((a=>{const o=a.dir==="desc"?"asc":"desc";return new rg(a.field,o)}));const t=n.endAt?new Lv(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new Lv(n.startAt.position,n.startAt.inclusive):null;return qB(n.path,n.collectionGroup,e,n.filters,n.limit,t,s)}}function X1(n,e){const t=n.filters.concat([e]);return new ym(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Qv(n,e,t){return new ym(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function yx(n,e){return xw(Mc(n),Mc(e))&&n.limitType===e.limitType}function m4(n){return`${vw(Mc(n))}|lt:${n.limitType}`}function Pf(n){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((a=>d4(a))).join(", ")}]`),gx(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((a=>am(a))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((a=>am(a))).join(",")),`Target(${s})`})(Mc(n))}; limitType=${n.limitType})`}function bx(n,e){return e.isFoundDocument()&&(function(s,a){const o=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(o):$n.isDocumentKey(s.path)?s.path.isEqual(o):s.path.isImmediateParentOf(o)})(n,e)&&(function(s,a){for(const o of Up(s))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(s,a){for(const o of s.filters)if(!o.matches(a))return!1;return!0})(n,e)&&(function(s,a){return!(s.startAt&&!(function(c,h,u){const f=XB(c,h,u);return c.inclusive?f<=0:f<0})(s.startAt,Up(s),a)||s.endAt&&!(function(c,h,u){const f=XB(c,h,u);return c.inclusive?f>=0:f>0})(s.endAt,Up(s),a))})(n,e)}function VQ(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function p4(n){return(e,t)=>{let s=!1;for(const a of Up(n)){const o=KQ(a,e,t);if(o!==0)return o;s=s||a.field.isKeyField()}return 0}}function KQ(n,e,t){const s=n.field.isKeyField()?$n.comparator(e.key,t.key):(function(o,c,h){const u=c.data.field(o),f=h.data.field(o);return u!==null&&f!==null?rm(u,f):ss(42886)})(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return ss(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[a,o]of s)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Yd(this.inner,((t,s)=>{for(const[a,o]of s)e(a,o)}))}isEmpty(){return ZE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zQ=new Fa($n.comparator);function Tu(){return zQ}const g4=new Fa($n.comparator);function Cp(...n){let e=g4;for(const t of n)e=e.insert(t.key,t);return e}function v4(n){let e=g4;return n.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function Rh(){return Rp()}function x4(){return Rp()}function Rp(){return new nf((n=>n.toString()),((n,e)=>n.isEqual(e)))}const GQ=new Fa($n.comparator),$Q=new ki($n.comparator);function Ks(...n){let e=$Q;for(const t of n)e=e.add(t);return e}const YQ=new ki(Vs);function WQ(){return YQ}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yw(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uv(e)?"-0":e}}function y4(n){return{integerValue:""+n}}function XQ(n,e){return jQ(e)?y4(e):yw(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(){this._=void 0}}function JQ(n,e,t){return n instanceof Ov?(function(a,o){const c={fields:{[n4]:{stringValue:t4},[r4]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&pw(o)&&(o=vx(o)),o&&(c.fields[s4]=o),{mapValue:c}})(t,e):n instanceof ag?w4(n,e):n instanceof ig?j4(n,e):(function(a,o){const c=b4(a,o),h=e5(c)+e5(a.Ae);return $1(c)&&$1(a.Ae)?y4(h):yw(a.serializer,h)})(n,e)}function qQ(n,e,t){return n instanceof ag?w4(n,e):n instanceof ig?j4(n,e):t}function b4(n,e){return n instanceof Pv?(function(s){return $1(s)||(function(o){return!!o&&"doubleValue"in o})(s)})(e)?e:{integerValue:0}:null}class Ov extends wx{}class ag extends wx{constructor(e){super(),this.elements=e}}function w4(n,e){const t=B4(e);for(const s of n.elements)t.some((a=>Gc(a,s)))||t.push(s);return{arrayValue:{values:t}}}class ig extends wx{constructor(e){super(),this.elements=e}}function j4(n,e){let t=B4(e);for(const s of n.elements)t=t.filter((a=>!Gc(a,s)));return{arrayValue:{values:t}}}class Pv extends wx{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function e5(n){return ei(n.integerValue||n.doubleValue)}function B4(n){return gw(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function ZQ(n,e){return n.field.isEqual(e.field)&&(function(s,a){return s instanceof ag&&a instanceof ag||s instanceof ig&&a instanceof ig?sm(s.elements,a.elements,Gc):s instanceof Pv&&a instanceof Pv?Gc(s.Ae,a.Ae):s instanceof Ov&&a instanceof Ov})(n.transform,e.transform)}class e8{constructor(e,t){this.version=e,this.transformResults=t}}class Rl{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Rl}static exists(e){return new Rl(void 0,e)}static updateTime(e){return new Rl(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dv(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class jx{}function C4(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Bx(n.key,Rl.none()):new Cg(n.key,n.data,Rl.none());{const t=n.data,s=_l.empty();let a=new ki(uo.comparator);for(let o of e.fields)if(!a.has(o)){let c=t.field(o);c===null&&o.length>1&&(o=o.popLast(),c=t.field(o)),c===null?s.delete(o):s.set(o,c),a=a.add(o)}return new Wd(n.key,s,new tA(a.toArray()),Rl.none())}}function t8(n,e,t){n instanceof Cg?(function(a,o,c){const h=a.value.clone(),u=n5(a.fieldTransforms,o,c.transformResults);h.setAll(u),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(n,e,t):n instanceof Wd?(function(a,o,c){if(!dv(a.precondition,o))return void o.convertToUnknownDocument(c.version);const h=n5(a.fieldTransforms,o,c.transformResults),u=o.data;u.setAll(S4(a)),u.setAll(h),o.convertToFoundDocument(c.version,u).setHasCommittedMutations()})(n,e,t):(function(a,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function Dp(n,e,t,s){return n instanceof Cg?(function(o,c,h,u){if(!dv(o.precondition,c))return h;const f=o.value.clone(),A=s5(o.fieldTransforms,u,c);return f.setAll(A),c.convertToFoundDocument(c.version,f).setHasLocalMutations(),null})(n,e,t,s):n instanceof Wd?(function(o,c,h,u){if(!dv(o.precondition,c))return h;const f=s5(o.fieldTransforms,u,c),A=c.data;return A.setAll(S4(o)),A.setAll(f),c.convertToFoundDocument(c.version,A).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((m=>m.field)))})(n,e,t,s):(function(o,c,h){return dv(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(n,e,t)}function n8(n,e){let t=null;for(const s of n.fieldTransforms){const a=e.data.field(s.field),o=b4(s.transform,a||null);o!=null&&(t===null&&(t=_l.empty()),t.set(s.field,o))}return t||null}function t5(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&sm(s,a,((o,c)=>ZQ(o,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Cg extends jx{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Wd extends jx{constructor(e,t,s,a,o=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function S4(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}})),e}function n5(n,e,t){const s=new Map;wr(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let a=0;a<t.length;a++){const o=n[a],c=o.transform,h=e.data.field(o.field);s.set(o.field,qQ(c,h,t[a]))}return s}function s5(n,e,t){const s=new Map;for(const a of n){const o=a.transform,c=t.data.field(a.field);s.set(a.field,JQ(o,c,e))}return s}class Bx extends jx{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class s8 extends jx{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r8{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&t8(o,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Dp(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Dp(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=x4();return this.mutations.forEach((a=>{const o=e.get(a.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=t.has(a.key)?null:h;const u=C4(c,h);u!==null&&s.set(a.key,u),c.isValidDocument()||c.convertToNoDocument(As.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ks())}isEqual(e){return this.batchId===e.batchId&&sm(this.mutations,e.mutations,((t,s)=>t5(t,s)))&&sm(this.baseMutations,e.baseMutations,((t,s)=>t5(t,s)))}}class bw{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){wr(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return GQ})();const o=e.mutations;for(let c=0;c<o.length;c++)a=a.insert(o[c].key,s[c].version);return new bw(e,t,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a8{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i8{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xi,er;function o8(n){switch(n){case bt.OK:return ss(64938);case bt.CANCELLED:case bt.UNKNOWN:case bt.DEADLINE_EXCEEDED:case bt.RESOURCE_EXHAUSTED:case bt.INTERNAL:case bt.UNAVAILABLE:case bt.UNAUTHENTICATED:return!1;case bt.INVALID_ARGUMENT:case bt.NOT_FOUND:case bt.ALREADY_EXISTS:case bt.PERMISSION_DENIED:case bt.FAILED_PRECONDITION:case bt.ABORTED:case bt.OUT_OF_RANGE:case bt.UNIMPLEMENTED:case bt.DATA_LOSS:return!0;default:return ss(15467,{code:n})}}function N4(n){if(n===void 0)return Eu("GRPC error has no .code"),bt.UNKNOWN;switch(n){case xi.OK:return bt.OK;case xi.CANCELLED:return bt.CANCELLED;case xi.UNKNOWN:return bt.UNKNOWN;case xi.DEADLINE_EXCEEDED:return bt.DEADLINE_EXCEEDED;case xi.RESOURCE_EXHAUSTED:return bt.RESOURCE_EXHAUSTED;case xi.INTERNAL:return bt.INTERNAL;case xi.UNAVAILABLE:return bt.UNAVAILABLE;case xi.UNAUTHENTICATED:return bt.UNAUTHENTICATED;case xi.INVALID_ARGUMENT:return bt.INVALID_ARGUMENT;case xi.NOT_FOUND:return bt.NOT_FOUND;case xi.ALREADY_EXISTS:return bt.ALREADY_EXISTS;case xi.PERMISSION_DENIED:return bt.PERMISSION_DENIED;case xi.FAILED_PRECONDITION:return bt.FAILED_PRECONDITION;case xi.ABORTED:return bt.ABORTED;case xi.OUT_OF_RANGE:return bt.OUT_OF_RANGE;case xi.UNIMPLEMENTED:return bt.UNIMPLEMENTED;case xi.DATA_LOSS:return bt.DATA_LOSS;default:return ss(39323,{code:n})}}(er=xi||(xi={}))[er.OK=0]="OK",er[er.CANCELLED=1]="CANCELLED",er[er.UNKNOWN=2]="UNKNOWN",er[er.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",er[er.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",er[er.NOT_FOUND=5]="NOT_FOUND",er[er.ALREADY_EXISTS=6]="ALREADY_EXISTS",er[er.PERMISSION_DENIED=7]="PERMISSION_DENIED",er[er.UNAUTHENTICATED=16]="UNAUTHENTICATED",er[er.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",er[er.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",er[er.ABORTED=10]="ABORTED",er[er.OUT_OF_RANGE=11]="OUT_OF_RANGE",er[er.UNIMPLEMENTED=12]="UNIMPLEMENTED",er[er.INTERNAL=13]="INTERNAL",er[er.UNAVAILABLE=14]="UNAVAILABLE",er[er.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l8(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A8=new Fd([4294967295,4294967295],0);function r5(n){const e=l8().encode(n),t=new HE;return t.update(e),new Uint8Array(t.digest())}function a5(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Fd([t,s],0),new Fd([a,o],0)]}class ww{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Sp(`Invalid padding: ${t}`);if(s<0)throw new Sp(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Sp(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Sp(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Fd.fromNumber(this.ge)}ye(e,t,s){let a=e.add(t.multiply(Fd.fromNumber(s)));return a.compare(A8)===1&&(a=new Fd([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=r5(e),[s,a]=a5(t);for(let o=0;o<this.hashCount;o++){const c=this.ye(s,a,o);if(!this.we(c))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new ww(o,a,t);return s.forEach((h=>c.insert(h))),c}insert(e){if(this.ge===0)return;const t=r5(e),[s,a]=a5(t);for(let o=0;o<this.hashCount;o++){const c=this.ye(s,a,o);this.Se(c)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Sp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e,t,s,a,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,Sg.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Cx(As.min(),a,new Fa(Vs),Tu(),Ks())}}class Sg{constructor(e,t,s,a,o){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Sg(s,t,Ks(),Ks(),Ks())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(e,t,s,a){this.be=e,this.removedTargetIds=t,this.key=s,this.De=a}}class E4{constructor(e,t){this.targetId=e,this.Ce=t}}class T4{constructor(e,t,s=mo.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class i5{constructor(){this.ve=0,this.Fe=o5(),this.Me=mo.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ks(),t=Ks(),s=Ks();return this.Fe.forEach(((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:ss(38017,{changeType:o})}})),new Sg(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=o5()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,wr(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class c8{constructor(e){this.Ge=e,this.ze=new Map,this.je=Tu(),this.Je=P0(),this.He=P0(),this.Ye=new Fa(Vs)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:ss(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,s=e.Ce.count,a=this.ot(t);if(a){const o=a.target;if(W1(o))if(s===0){const c=new $n(o.path);this.et(t,c,Ko.newNoDocument(c,As.min()))}else wr(s===1,20013,{expectedCount:s});else{const c=this._t(t);if(c!==s){const h=this.ut(e),u=h?this.ct(h,e,c):1;if(u!==0){this.it(t);const f=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,f)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:o=0}=t;let c,h;try{c=Pd(s).toUint8Array()}catch(u){if(u instanceof e4)return nm("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{h=new ww(c,a,o)}catch(u){return nm(u instanceof Sp?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return h.ge===0?null:h}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let a=0;return s.forEach((o=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.et(t,o,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((o,c)=>{const h=this.ot(c);if(h){if(o.current&&W1(h.target)){const u=new $n(h.target.path);this.It(u).has(c)||this.Et(c,u)||this.et(c,u,Ko.newNoDocument(u,e))}o.Be&&(t.set(c,o.ke()),o.qe())}}));let s=Ks();this.He.forEach(((o,c)=>{let h=!0;c.forEachWhile((u=>{const f=this.ot(u);return!f||f.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(s=s.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(e)));const a=new Cx(e,t,this.Ye,this.je,s);return this.je=Tu(),this.Je=P0(),this.He=P0(),this.Ye=new Fa(Vs),a}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.Qe(t,1):a.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new i5,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new ki(Vs),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new ki(Vs),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||gn("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new i5),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function P0(){return new Fa($n.comparator)}function o5(){return new Fa($n.comparator)}const u8={asc:"ASCENDING",desc:"DESCENDING"},d8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},h8={and:"AND",or:"OR"};class f8{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function J1(n,e){return n.useProto3Json||gx(e)?e:{value:e}}function kv(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function I4(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function m8(n,e){return kv(n,e.toTimestamp())}function Hc(n){return wr(!!n,49232),As.fromTimestamp((function(t){const s=Od(t);return new nr(s.seconds,s.nanos)})(n))}function jw(n,e){return q1(n,e).canonicalString()}function q1(n,e){const t=(function(a){return new ta(["projects",a.projectId,"databases",a.database])})(n).child("documents");return e===void 0?t:t.child(e)}function _4(n){const e=ta.fromString(n);return wr(L4(e),10190,{key:e.toString()}),e}function Z1(n,e){return jw(n.databaseId,e.path)}function Qy(n,e){const t=_4(e);if(t.get(1)!==n.databaseId.projectId)throw new nn(bt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new nn(bt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new $n(U4(t))}function F4(n,e){return jw(n.databaseId,e)}function p8(n){const e=_4(n);return e.length===4?ta.emptyPath():U4(e)}function eb(n){return new ta(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function U4(n){return wr(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function l5(n,e,t){return{name:Z1(n,e),fields:t.value.mapValue.fields}}function g8(n,e){let t;if("targetChange"in e){e.targetChange;const s=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:ss(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=(function(f,A){return f.useProto3Json?(wr(A===void 0||typeof A=="string",58123),mo.fromBase64String(A||"")):(wr(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),mo.fromUint8Array(A||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(f){const A=f.code===void 0?bt.UNKNOWN:N4(f.code);return new nn(A,f.message||"")})(c);t=new T4(s,a,o,h||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Qy(n,s.document.name),o=Hc(s.document.updateTime),c=s.document.createTime?Hc(s.document.createTime):As.min(),h=new _l({mapValue:{fields:s.document.fields}}),u=Ko.newFoundDocument(a,o,c,h),f=s.targetIds||[],A=s.removedTargetIds||[];t=new hv(f,A,u.key,u)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Qy(n,s.document),o=s.readTime?Hc(s.readTime):As.min(),c=Ko.newNoDocument(a,o),h=s.removedTargetIds||[];t=new hv([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Qy(n,s.document),o=s.removedTargetIds||[];t=new hv([],o,a,null)}else{if(!("filter"in e))return ss(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:o}=s,c=new i8(a,o),h=s.targetId;t=new E4(h,c)}}return t}function v8(n,e){let t;if(e instanceof Cg)t={update:l5(n,e.key,e.value)};else if(e instanceof Bx)t={delete:Z1(n,e.key)};else if(e instanceof Wd)t={update:l5(n,e.key,e.data),updateMask:N8(e.fieldMask)};else{if(!(e instanceof s8))return ss(16599,{Vt:e.type});t={verify:Z1(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(o,c){const h=c.transform;if(h instanceof Ov)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof ag)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof ig)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Pv)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw ss(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(a,o){return o.updateTime!==void 0?{updateTime:m8(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ss(27497)})(n,e.precondition)),t}function x8(n,e){return n&&n.length>0?(wr(e!==void 0,14353),n.map((t=>(function(a,o){let c=a.updateTime?Hc(a.updateTime):Hc(o);return c.isEqual(As.min())&&(c=Hc(o)),new e8(c,a.transformResults||[])})(t,e)))):[]}function y8(n,e){return{documents:[F4(n,e.path)]}}function b8(n,e){const t={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=F4(n,a);const o=(function(f){if(f.length!==0)return D4(ac.create(f,"and"))})(e.filters);o&&(t.structuredQuery.where=o);const c=(function(f){if(f.length!==0)return f.map((A=>(function(v){return{field:kf(v.field),direction:B8(v.dir)}})(A)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const h=J1(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:t,parent:a}}function w8(n){let e=p8(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){wr(s===1,65062);const A=t.from[0];A.allDescendants?a=A.collectionId:e=e.child(A.collectionId)}let o=[];t.where&&(o=(function(m){const v=R4(m);return v instanceof ac&&c4(v)?v.getFilters():[v]})(t.where));let c=[];t.orderBy&&(c=(function(m){return m.map((v=>(function(b){return new rg(Mf(b.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(b.direction))})(v)))})(t.orderBy));let h=null;t.limit&&(h=(function(m){let v;return v=typeof m=="object"?m.value:m,gx(v)?null:v})(t.limit));let u=null;t.startAt&&(u=(function(m){const v=!!m.before,g=m.values||[];return new Lv(g,v)})(t.startAt));let f=null;return t.endAt&&(f=(function(m){const v=!m.before,g=m.values||[];return new Lv(g,v)})(t.endAt)),MQ(e,a,c,o,h,"F",u,f)}function j8(n,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ss(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function R4(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Mf(t.unaryFilter.field);return ji.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Mf(t.unaryFilter.field);return ji.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Mf(t.unaryFilter.field);return ji.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Mf(t.unaryFilter.field);return ji.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ss(61313);default:return ss(60726)}})(n):n.fieldFilter!==void 0?(function(t){return ji.create(Mf(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ss(58110);default:return ss(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return ac.create(t.compositeFilter.filters.map((s=>R4(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return ss(1026)}})(t.compositeFilter.op))})(n):ss(30097,{filter:n})}function B8(n){return u8[n]}function C8(n){return d8[n]}function S8(n){return h8[n]}function kf(n){return{fieldPath:n.canonicalString()}}function Mf(n){return uo.fromServerFormat(n.fieldPath)}function D4(n){return n instanceof ji?(function(t){if(t.op==="=="){if(WB(t.value))return{unaryFilter:{field:kf(t.field),op:"IS_NAN"}};if(YB(t.value))return{unaryFilter:{field:kf(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(WB(t.value))return{unaryFilter:{field:kf(t.field),op:"IS_NOT_NAN"}};if(YB(t.value))return{unaryFilter:{field:kf(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:kf(t.field),op:C8(t.op),value:t.value}}})(n):n instanceof ac?(function(t){const s=t.getFilters().map((a=>D4(a)));return s.length===1?s[0]:{compositeFilter:{op:S8(t.op),filters:s}}})(n):ss(54877,{filter:n})}function N8(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function L4(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,t,s,a,o=As.min(),c=As.min(),h=mo.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=u}withSequenceNumber(e){return new Cd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Cd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Cd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Cd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E8{constructor(e){this.yt=e}}function T8(n){const e=w8({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Qv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I8{constructor(){this.Cn=new _8}addToCollectionParentIndex(e,t){return this.Cn.add(t),It.resolve()}getCollectionParents(e,t){return It.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return It.resolve()}deleteFieldIndex(e,t){return It.resolve()}deleteAllFieldIndexes(e){return It.resolve()}createTargetIndexes(e,t){return It.resolve()}getDocumentsMatchingTarget(e,t){return It.resolve(null)}getIndexType(e,t){return It.resolve(0)}getFieldIndexes(e,t){return It.resolve([])}getNextCollectionGroupToUpdate(e){return It.resolve(null)}getMinOffset(e,t){return It.resolve(Qd.min())}getMinOffsetFromCollectionGroup(e,t){return It.resolve(Qd.min())}updateCollectionGroup(e,t,s){return It.resolve()}updateIndexEntries(e,t){return It.resolve()}}class _8{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new ki(ta.comparator),o=!a.has(s);return this.index[t]=a.add(s),o}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new ki(ta.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A5={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Q4=41943040;class Il{static withCacheSize(e){return new Il(e,Il.DEFAULT_COLLECTION_PERCENTILE,Il.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Il.DEFAULT_COLLECTION_PERCENTILE=10,Il.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Il.DEFAULT=new Il(Q4,Il.DEFAULT_COLLECTION_PERCENTILE,Il.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Il.DISABLED=new Il(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new im(0)}static cr(){return new im(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c5="LruGarbageCollector",F8=1048576;function u5([n,e],[t,s]){const a=Vs(n,t);return a===0?Vs(e,s):a}class U8{constructor(e){this.Ir=e,this.buffer=new ki(u5),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();u5(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class R8{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){gn(c5,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){xm(t)?gn(c5,"Ignoring IndexedDB error during garbage collection: ",t):await vm(t)}await this.Vr(3e5)}))}}class D8{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return It.resolve(px.ce);const s=new U8(t);return this.mr.forEachTarget(e,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(gn("LruGarbageCollector","Garbage collection skipped; disabled"),It.resolve(A5)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(gn("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),A5):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,a,o,c,h,u,f;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((m=>(m>this.params.maximumSequenceNumbersToCollect?(gn("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),a=this.params.maximumSequenceNumbersToCollect):a=m,c=Date.now(),this.nthSequenceNumber(e,a)))).next((m=>(s=m,h=Date.now(),this.removeTargets(e,s,t)))).next((m=>(o=m,u=Date.now(),this.removeOrphanedDocuments(e,s)))).next((m=>(f=Date.now(),Of()<=tr.DEBUG&&gn("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-A}ms
	Determined least recently used ${a} in `+(h-c)+`ms
	Removed ${o} targets in `+(u-h)+`ms
	Removed ${m} documents in `+(f-u)+`ms
Total Duration: ${f-A}ms`),It.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:m}))))}}function L8(n,e){return new D8(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q8{constructor(){this.changes=new nf((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ko.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?It.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O8{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P8{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(s!==null&&Dp(s.mutation,a,tA.empty(),nr.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,Ks()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=Ks()){const a=Rh();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,s).next((o=>{let c=Cp();return o.forEach(((h,u)=>{c=c.insert(h,u.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const s=Rh();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,Ks())))}populateOverlays(e,t,s){const a=[];return s.forEach((o=>{t.has(o)||a.push(o)})),this.documentOverlayCache.getOverlays(e,a).next((o=>{o.forEach(((c,h)=>{t.set(c,h)}))}))}computeViews(e,t,s,a){let o=Tu();const c=Rp(),h=(function(){return Rp()})();return t.forEach(((u,f)=>{const A=s.get(f.key);a.has(f.key)&&(A===void 0||A.mutation instanceof Wd)?o=o.insert(f.key,f):A!==void 0?(c.set(f.key,A.mutation.getFieldMask()),Dp(A.mutation,f,A.mutation.getFieldMask(),nr.now())):c.set(f.key,tA.empty())})),this.recalculateAndSaveOverlays(e,o).next((u=>(u.forEach(((f,A)=>c.set(f,A))),t.forEach(((f,A)=>h.set(f,new O8(A,c.get(f)??null)))),h)))}recalculateAndSaveOverlays(e,t){const s=Rp();let a=new Fa(((c,h)=>c-h)),o=Ks();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const h of c)h.keys().forEach((u=>{const f=t.get(u);if(f===null)return;let A=s.get(u)||tA.empty();A=h.applyToLocalView(f,A),s.set(u,A);const m=(a.get(h.batchId)||Ks()).add(u);a=a.insert(h.batchId,m)}))})).next((()=>{const c=[],h=a.getReverseIterator();for(;h.hasNext();){const u=h.getNext(),f=u.key,A=u.value,m=x4();A.forEach((v=>{if(!o.has(v)){const g=C4(t.get(v),s.get(v));g!==null&&m.set(v,g),o=o.add(v)}})),c.push(this.documentOverlayCache.saveOverlays(e,f,m))}return It.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,a){return(function(c){return $n.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):f4(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,a):this.getDocumentsMatchingCollectionQuery(e,t,s,a)}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next((o=>{const c=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-o.size):It.resolve(Rh());let h=eg,u=o;return c.next((f=>It.forEach(f,((A,m)=>(h<m.largestBatchId&&(h=m.largestBatchId),o.get(A)?It.resolve():this.remoteDocumentCache.getEntry(e,A).next((v=>{u=u.insert(A,v)}))))).next((()=>this.populateOverlays(e,f,o))).next((()=>this.computeViews(e,u,f,Ks()))).next((A=>({batchId:h,changes:v4(A)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new $n(t)).next((s=>{let a=Cp();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,a){const o=t.collectionGroup;let c=Cp();return this.indexManager.getCollectionParents(e,o).next((h=>It.forEach(h,(u=>{const f=(function(m,v){return new ym(v,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,s,a).next((A=>{A.forEach(((m,v)=>{c=c.insert(m,v)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,s,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,o,a)))).next((c=>{o.forEach(((u,f)=>{const A=f.getKey();c.get(A)===null&&(c=c.insert(A,Ko.newInvalidDocument(A)))}));let h=Cp();return c.forEach(((u,f)=>{const A=o.get(u);A!==void 0&&Dp(A.mutation,f,tA.empty(),nr.now()),bx(t,f)&&(h=h.insert(u,f))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k8{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return It.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:Hc(a.createTime)}})(t)),It.resolve()}getNamedQuery(e,t){return It.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(a){return{name:a.name,query:T8(a.bundledQuery),readTime:Hc(a.readTime)}})(t)),It.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M8{constructor(){this.overlays=new Fa($n.comparator),this.qr=new Map}getOverlay(e,t){return It.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Rh();return It.forEach(t,(a=>this.getOverlay(e,a).next((o=>{o!==null&&s.set(a,o)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((a,o)=>{this.St(e,t,o)})),It.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(s)),It.resolve()}getOverlaysForCollection(e,t,s){const a=Rh(),o=t.length+1,c=new $n(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const u=h.getNext().value,f=u.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===o&&u.largestBatchId>s&&a.set(u.getKey(),u)}return It.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let o=new Fa(((f,A)=>f-A));const c=this.overlays.getIterator();for(;c.hasNext();){const f=c.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>s){let A=o.get(f.largestBatchId);A===null&&(A=Rh(),o=o.insert(f.largestBatchId,A)),A.set(f.getKey(),f)}}const h=Rh(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach(((f,A)=>h.set(f,A))),!(h.size()>=a)););return It.resolve(h)}St(e,t,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new a8(t,s));let o=this.qr.get(t);o===void 0&&(o=Ks(),this.qr.set(t,o)),this.qr.set(t,o.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H8{constructor(){this.sessionToken=mo.EMPTY_BYTE_STRING}getSessionToken(e){return It.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,It.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(){this.Qr=new ki($i.$r),this.Ur=new ki($i.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new $i(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Gr(new $i(e,t))}zr(e,t){e.forEach((s=>this.removeReference(s,t)))}jr(e){const t=new $n(new ta([])),s=new $i(t,e),a=new $i(t,e+1),o=[];return this.Ur.forEachInRange([s,a],(c=>{this.Gr(c),o.push(c.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new $n(new ta([])),s=new $i(t,e),a=new $i(t,e+1);let o=Ks();return this.Ur.forEachInRange([s,a],(c=>{o=o.add(c.key)})),o}containsKey(e){const t=new $i(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class $i{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return $n.comparator(e.key,t.key)||Vs(e.Yr,t.Yr)}static Kr(e,t){return Vs(e.Yr,t.Yr)||$n.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V8{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new ki($i.$r)}checkEmpty(e){return It.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,a){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new r8(o,t,s,a);this.mutationQueue.push(c);for(const h of a)this.Zr=this.Zr.add(new $i(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return It.resolve(c)}lookupMutationBatch(e,t){return It.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=this.ei(s),o=a<0?0:a;return It.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return It.resolve(this.mutationQueue.length===0?mw:this.tr-1)}getAllMutationBatches(e){return It.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new $i(t,0),a=new $i(t,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([s,a],(c=>{const h=this.Xr(c.Yr);o.push(h)})),It.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new ki(Vs);return t.forEach((a=>{const o=new $i(a,0),c=new $i(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,c],(h=>{s=s.add(h.Yr)}))})),It.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let o=s;$n.isDocumentKey(o)||(o=o.child(""));const c=new $i(new $n(o),0);let h=new ki(Vs);return this.Zr.forEachWhile((u=>{const f=u.key.path;return!!s.isPrefixOf(f)&&(f.length===a&&(h=h.add(u.Yr)),!0)}),c),It.resolve(this.ti(h))}ti(e){const t=[];return e.forEach((s=>{const a=this.Xr(s);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){wr(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return It.forEach(t.mutations,(a=>{const o=new $i(a.key,t.batchId);return s=s.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,t){const s=new $i(t,0),a=this.Zr.firstAfterOrEqual(s);return It.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,It.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K8{constructor(e){this.ri=e,this.docs=(function(){return new Fa($n.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),o=a?a.size:0,c=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return It.resolve(s?s.document.mutableCopy():Ko.newInvalidDocument(t))}getEntries(e,t){let s=Tu();return t.forEach((a=>{const o=this.docs.get(a);s=s.insert(a,o?o.document.mutableCopy():Ko.newInvalidDocument(a))})),It.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let o=Tu();const c=t.path,h=new $n(c.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(h);for(;u.hasNext();){const{key:f,value:{document:A}}=u.getNext();if(!c.isPrefixOf(f.path))break;f.path.length>c.length+1||xQ(vQ(A),s)<=0||(a.has(A.key)||bx(t,A))&&(o=o.insert(A.key,A.mutableCopy()))}return It.resolve(o)}getAllFromCollectionGroup(e,t,s,a){ss(9500)}ii(e,t){return It.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new z8(this)}getSize(e){return It.resolve(this.size)}}class z8 extends Q8{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?t.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)})),It.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G8{constructor(e){this.persistence=e,this.si=new nf((t=>vw(t)),xw),this.lastRemoteSnapshotVersion=As.min(),this.highestTargetId=0,this.oi=0,this._i=new Bw,this.targetCount=0,this.ai=im.ur()}forEachTarget(e,t){return this.si.forEach(((s,a)=>t(a))),It.resolve()}getLastRemoteSnapshotVersion(e){return It.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return It.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),It.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),It.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new im(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,It.resolve()}updateTargetData(e,t){return this.Pr(t),It.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,It.resolve()}removeTargets(e,t,s){let a=0;const o=[];return this.si.forEach(((c,h)=>{h.sequenceNumber<=t&&s.get(h.targetId)===null&&(this.si.delete(c),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),It.waitFor(o).next((()=>a))}getTargetCount(e){return It.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return It.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),It.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const a=this.persistence.referenceDelegate,o=[];return a&&t.forEach((c=>{o.push(a.markPotentiallyOrphaned(e,c))})),It.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),It.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return It.resolve(s)}containsKey(e,t){return It.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(e,t){this.ui={},this.overlays={},this.ci=new px(0),this.li=!1,this.li=!0,this.hi=new H8,this.referenceDelegate=e(this),this.Pi=new G8(this),this.indexManager=new I8,this.remoteDocumentCache=(function(a){return new K8(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new E8(t),this.Ii=new k8(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new M8,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new V8(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){gn("MemoryPersistence","Starting transaction:",e);const a=new $8(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((o=>this.referenceDelegate.di(a).next((()=>o)))).toPromise().then((o=>(a.raiseOnCommittedEvent(),o)))}Ai(e,t){return It.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,t))))}}class $8 extends bQ{constructor(e){super(),this.currentSequenceNumber=e}}class Cw{constructor(e){this.persistence=e,this.Ri=new Bw,this.Vi=null}static mi(e){return new Cw(e)}get fi(){if(this.Vi)return this.Vi;throw ss(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),It.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),It.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),It.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((o=>this.fi.add(o.toString())))})).next((()=>s.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return It.forEach(this.fi,(s=>{const a=$n.fromPath(s);return this.gi(e,a).next((o=>{o||t.removeEntry(a,As.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return It.or([()=>It.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Mv{constructor(e,t){this.persistence=e,this.pi=new nf((s=>BQ(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=L8(this,t)}static mi(e,t){return new Mv(e,t)}Ei(){}di(e){return It.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((a=>s+a))))}wr(e){let t=0;return this.pr(e,(s=>{t++})).next((()=>t))}pr(e,t){return It.forEach(this.pi,((s,a)=>this.br(e,s,a).next((o=>o?It.resolve():t(a)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,t).next((h=>{h||(s++,o.removeEntry(c,As.min()))})))).next((()=>o.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),It.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),It.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),It.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),It.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=cv(e.data.value)),t}br(e,t,s){return It.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.pi.get(t);return It.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=a}static As(e,t){let s=Ks(),a=Ks();for(const o of t.docChanges)switch(o.type){case 0:s=s.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new Sw(e,t.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y8{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W8{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return uU()?8:wQ(Go())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,a){const o={result:null};return this.ys(e,t).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ws(e,t,a,s).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new Y8;return this.Ss(e,t,c).next((h=>{if(o.result=h,this.Vs)return this.bs(e,t,c,h.size)}))})).next((()=>o.result))}bs(e,t,s,a){return s.documentReadCount<this.fs?(Of()<=tr.DEBUG&&gn("QueryEngine","SDK will not create cache indexes for query:",Pf(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),It.resolve()):(Of()<=tr.DEBUG&&gn("QueryEngine","Query:",Pf(t),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(Of()<=tr.DEBUG&&gn("QueryEngine","The SDK decides to create cache indexes for query:",Pf(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mc(t))):It.resolve())}ys(e,t){if(ZB(t))return It.resolve(null);let s=Mc(t);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=Qv(t,null,"F"),s=Mc(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((o=>{const c=Ks(...o);return this.ps.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,s).next((u=>{const f=this.Ds(t,h);return this.Cs(t,f,c,u.readTime)?this.ys(e,Qv(t,null,"F")):this.vs(e,f,t,u)}))))})))))}ws(e,t,s,a){return ZB(t)||a.isEqual(As.min())?It.resolve(null):this.ps.getDocuments(e,s).next((o=>{const c=this.Ds(t,o);return this.Cs(t,c,s,a)?It.resolve(null):(Of()<=tr.DEBUG&&gn("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Pf(t)),this.vs(e,c,t,gQ(a,eg)).next((h=>h)))}))}Ds(e,t){let s=new ki(p4(e));return t.forEach(((a,o)=>{bx(e,o)&&(s=s.add(o))})),s}Cs(e,t,s,a){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}Ss(e,t,s){return Of()<=tr.DEBUG&&gn("QueryEngine","Using full collection scan to execute query:",Pf(t)),this.ps.getDocumentsMatchingQuery(e,t,Qd.min(),s)}vs(e,t,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next((o=>(t.forEach((c=>{o=o.insert(c.key,c)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw="LocalStore",X8=3e8;class J8{constructor(e,t,s,a){this.persistence=e,this.Fs=t,this.serializer=a,this.Ms=new Fa(Vs),this.xs=new nf((o=>vw(o)),xw),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new P8(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function q8(n,e,t,s){return new J8(n,e,t,s)}async function P4(n,e){const t=ps(n);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next((o=>(a=o,t.Bs(e),t.mutationQueue.getAllMutationBatches(s)))).next((o=>{const c=[],h=[];let u=Ks();for(const f of a){c.push(f.batchId);for(const A of f.mutations)u=u.add(A.key)}for(const f of o){h.push(f.batchId);for(const A of f.mutations)u=u.add(A.key)}return t.localDocuments.getDocuments(s,u).next((f=>({Ls:f,removedBatchIds:c,addedBatchIds:h})))}))}))}function Z8(n,e){const t=ps(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),o=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,u,f,A){const m=f.batch,v=m.keys();let g=It.resolve();return v.forEach((b=>{g=g.next((()=>A.getEntry(u,b))).next((S=>{const N=f.docVersions.get(b);wr(N!==null,48541),S.version.compareTo(N)<0&&(m.applyToRemoteDocument(S,f),S.isValidDocument()&&(S.setReadTime(f.commitVersion),A.addEntry(S)))}))})),g.next((()=>h.mutationQueue.removeMutationBatch(u,m)))})(t,s,e,o).next((()=>o.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(h){let u=Ks();for(let f=0;f<h.mutationResults.length;++f)h.mutationResults[f].transformResults.length>0&&(u=u.add(h.batch.mutations[f].key));return u})(e)))).next((()=>t.localDocuments.getDocuments(s,a)))}))}function k4(n){const e=ps(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function eO(n,e){const t=ps(n),s=e.snapshotVersion;let a=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});a=t.Ms;const h=[];e.targetChanges.forEach(((A,m)=>{const v=a.get(m);if(!v)return;h.push(t.Pi.removeMatchingKeys(o,A.removedDocuments,m).next((()=>t.Pi.addMatchingKeys(o,A.addedDocuments,m))));let g=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(m)!==null?g=g.withResumeToken(mo.EMPTY_BYTE_STRING,As.min()).withLastLimboFreeSnapshotVersion(As.min()):A.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(A.resumeToken,s)),a=a.insert(m,g),(function(S,N,E){return S.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=X8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0})(v,g,A)&&h.push(t.Pi.updateTargetData(o,g))}));let u=Tu(),f=Ks();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(o,A))})),h.push(tO(o,c,e.documentUpdates).next((A=>{u=A.ks,f=A.qs}))),!s.isEqual(As.min())){const A=t.Pi.getLastRemoteSnapshotVersion(o).next((m=>t.Pi.setTargetsMetadata(o,o.currentSequenceNumber,s)));h.push(A)}return It.waitFor(h).next((()=>c.apply(o))).next((()=>t.localDocuments.getLocalViewOfDocuments(o,u,f))).next((()=>u))})).then((o=>(t.Ms=a,o)))}function tO(n,e,t){let s=Ks(),a=Ks();return t.forEach((o=>s=s.add(o))),e.getEntries(n,s).next((o=>{let c=Tu();return t.forEach(((h,u)=>{const f=o.get(h);u.isFoundDocument()!==f.isFoundDocument()&&(a=a.add(h)),u.isNoDocument()&&u.version.isEqual(As.min())?(e.removeEntry(h,u.readTime),c=c.insert(h,u)):!f.isValidDocument()||u.version.compareTo(f.version)>0||u.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(u),c=c.insert(h,u)):gn(Nw,"Ignoring outdated watch update for ",h,". Current version:",f.version," Watch version:",u.version)})),{ks:c,qs:a}}))}function nO(n,e){const t=ps(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=mw),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function sO(n,e){const t=ps(n);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return t.Pi.getTargetData(s,e).next((o=>o?(a=o,It.resolve(a)):t.Pi.allocateTargetId(s).next((c=>(a=new Cd(e,c,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=t.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s}))}async function tb(n,e,t){const s=ps(n),a=s.Ms.get(e),o=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",o,(c=>s.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!xm(c))throw c;gn(Nw,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function d5(n,e,t){const s=ps(n);let a=As.min(),o=Ks();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(u,f,A){const m=ps(u),v=m.xs.get(A);return v!==void 0?It.resolve(m.Ms.get(v)):m.Pi.getTargetData(f,A)})(s,c,Mc(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,h.targetId).next((u=>{o=u}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,e,t?a:As.min(),t?o:Ks()))).next((h=>(rO(s,VQ(e),h),{documents:h,Qs:o})))))}function rO(n,e,t){let s=n.Os.get(e)||As.min();t.forEach(((a,o)=>{o.readTime.compareTo(s)>0&&(s=o.readTime)})),n.Os.set(e,s)}class h5{constructor(){this.activeTargetIds=WQ()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class aO{constructor(){this.Mo=new h5,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new h5,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f5="ConnectivityMonitor";class m5{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){gn(f5,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){gn(f5,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let k0=null;function nb(){return k0===null?k0=(function(){return 268435456+Math.round(2147483648*Math.random())})():k0++,"0x"+k0.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy="RestConnection",oO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class lO{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===Rv?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,t,s,a,o){const c=nb(),h=this.zo(e,t.toUriEncodedString());gn(Oy,`Sending RPC '${e}' ${c}:`,h,s);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,a,o);const{host:f}=new URL(h),A=Gd(f);return this.Jo(e,h,u,s,A).then((m=>(gn(Oy,`Received RPC '${e}' ${c}: `,m),m)),(m=>{throw nm(Oy,`RPC '${e}' ${c} failed with error: `,m,"url: ",h,"request:",s),m}))}Ho(e,t,s,a,o,c){return this.Go(e,t,s,a,o)}jo(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+gm})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,o)=>e[o]=a)),s&&s.headers.forEach(((a,o)=>e[o]=a))}zo(e,t){const s=oO[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo="WebChannelConnection";class cO extends lO{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,a,o){const c=nb();return new Promise(((h,u)=>{const f=new VE;f.setWithCredentials(!0),f.listenOnce(KE.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case Av.NO_ERROR:const m=f.getResponseJson();gn(Oo,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(m)),h(m);break;case Av.TIMEOUT:gn(Oo,`RPC '${e}' ${c} timed out`),u(new nn(bt.DEADLINE_EXCEEDED,"Request time out"));break;case Av.HTTP_ERROR:const v=f.getStatus();if(gn(Oo,`RPC '${e}' ${c} failed with status:`,v,"response text:",f.getResponseText()),v>0){let g=f.getResponseJson();Array.isArray(g)&&(g=g[0]);const b=g==null?void 0:g.error;if(b&&b.status&&b.message){const S=(function(E){const I=E.toLowerCase().replace(/_/g,"-");return Object.values(bt).indexOf(I)>=0?I:bt.UNKNOWN})(b.status);u(new nn(S,b.message))}else u(new nn(bt.UNKNOWN,"Server responded with status "+f.getStatus()))}else u(new nn(bt.UNAVAILABLE,"Connection failed."));break;default:ss(9055,{l_:e,streamId:c,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{gn(Oo,`RPC '${e}' ${c} completed.`)}}));const A=JSON.stringify(a);gn(Oo,`RPC '${e}' ${c} sending request:`,a),f.send(t,"POST",A,s,15)}))}T_(e,t,s){const a=nb(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=$E(),h=GE(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(u.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,t,s),u.encodeInitMessageHeaders=!0;const A=o.join("");gn(Oo,`Creating RPC '${e}' stream ${a}: ${A}`,u);const m=c.createWebChannel(A,u);this.I_(m);let v=!1,g=!1;const b=new AO({Yo:N=>{g?gn(Oo,`Not sending because RPC '${e}' stream ${a} is closed:`,N):(v||(gn(Oo,`Opening RPC '${e}' stream ${a} transport.`),m.open(),v=!0),gn(Oo,`RPC '${e}' stream ${a} sending:`,N),m.send(N))},Zo:()=>m.close()}),S=(N,E,I)=>{N.listen(E,(F=>{try{I(F)}catch(D){setTimeout((()=>{throw D}),0)}}))};return S(m,Bp.EventType.OPEN,(()=>{g||(gn(Oo,`RPC '${e}' stream ${a} transport opened.`),b.o_())})),S(m,Bp.EventType.CLOSE,(()=>{g||(g=!0,gn(Oo,`RPC '${e}' stream ${a} transport closed`),b.a_(),this.E_(m))})),S(m,Bp.EventType.ERROR,(N=>{g||(g=!0,nm(Oo,`RPC '${e}' stream ${a} transport errored. Name:`,N.name,"Message:",N.message),b.a_(new nn(bt.UNAVAILABLE,"The operation could not be completed")))})),S(m,Bp.EventType.MESSAGE,(N=>{var E;if(!g){const I=N.data[0];wr(!!I,16349);const F=I,D=(F==null?void 0:F.error)||((E=F[0])==null?void 0:E.error);if(D){gn(Oo,`RPC '${e}' stream ${a} received error:`,D);const P=D.status;let K=(function(R){const M=xi[R];if(M!==void 0)return N4(M)})(P),L=D.message;K===void 0&&(K=bt.INTERNAL,L="Unknown error status: "+P+" with message "+D.message),g=!0,b.a_(new nn(K,L)),m.close()}else gn(Oo,`RPC '${e}' stream ${a} received:`,I),b.u_(I)}})),S(h,zE.STAT_EVENT,(N=>{N.stat===K1.PROXY?gn(Oo,`RPC '${e}' stream ${a} detected buffering proxy`):N.stat===K1.NOPROXY&&gn(Oo,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{b.__()}),0),b}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Py(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sx(n){return new f8(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e,t,s=1e3,a=1.5,o=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=a,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-s);a>0&&gn("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p5="PersistentStream";class H4{constructor(e,t,s,a,o,c,h,u){this.Mi=e,this.S_=s,this.b_=a,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new M4(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===bt.RESOURCE_EXHAUSTED?(Eu(t.toString()),Eu("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===bt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===t&&this.G_(s,a)}),(s=>{e((()=>{const a=new nn(bt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return gn(p5,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(gn(p5,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class uO extends H4{constructor(e,t,s,a,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,c),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=g8(this.serializer,e),s=(function(o){if(!("targetChange"in o))return As.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?As.min():c.readTime?Hc(c.readTime):As.min()})(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=eb(this.serializer),t.addTarget=(function(o,c){let h;const u=c.target;if(h=W1(u)?{documents:y8(o,u)}:{query:b8(o,u).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=I4(o,c.resumeToken);const f=J1(o,c.expectedCount);f!==null&&(h.expectedCount=f)}else if(c.snapshotVersion.compareTo(As.min())>0){h.readTime=kv(o,c.snapshotVersion.toTimestamp());const f=J1(o,c.expectedCount);f!==null&&(h.expectedCount=f)}return h})(this.serializer,e);const s=j8(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=eb(this.serializer),t.removeTarget=e,this.q_(t)}}class dO extends H4{constructor(e,t,s,a,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,c),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return wr(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,wr(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){wr(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=x8(e.writeResults,e.commitTime),s=Hc(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=eb(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>v8(this.serializer,s)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{}class fO extends hO{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new nn(bt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Go(e,q1(t,s),a,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===bt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new nn(bt.UNKNOWN,o.toString())}))}Ho(e,t,s,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Ho(e,q1(t,s),a,c,h,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===bt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new nn(bt.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class mO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Eu(t),this.aa=!1):gn("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xh="RemoteStore";class pO{constructor(e,t,s,a,o){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{sf(this)&&(gn(Xh,"Restarting streams for network reachability change."),await(async function(u){const f=ps(u);f.Ea.add(4),await Ng(f),f.Ra.set("Unknown"),f.Ea.delete(4),await Nx(f)})(this))}))})),this.Ra=new mO(s,a)}}async function Nx(n){if(sf(n))for(const e of n.da)await e(!0)}async function Ng(n){for(const e of n.da)await e(!1)}function V4(n,e){const t=ps(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),_w(t)?Iw(t):bm(t).O_()&&Tw(t,e))}function Ew(n,e){const t=ps(n),s=bm(t);t.Ia.delete(e),s.O_()&&K4(t,e),t.Ia.size===0&&(s.O_()?s.L_():sf(t)&&t.Ra.set("Unknown"))}function Tw(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(As.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}bm(n).Y_(e)}function K4(n,e){n.Va.Ue(e),bm(n).Z_(e)}function Iw(n){n.Va=new c8({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),bm(n).start(),n.Ra.ua()}function _w(n){return sf(n)&&!bm(n).x_()&&n.Ia.size>0}function sf(n){return ps(n).Ea.size===0}function z4(n){n.Va=void 0}async function gO(n){n.Ra.set("Online")}async function vO(n){n.Ia.forEach(((e,t)=>{Tw(n,e)}))}async function xO(n,e){z4(n),_w(n)?(n.Ra.ha(e),Iw(n)):n.Ra.set("Unknown")}async function yO(n,e,t){if(n.Ra.set("Online"),e instanceof T4&&e.state===2&&e.cause)try{await(async function(a,o){const c=o.cause;for(const h of o.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,c),a.Ia.delete(h),a.Va.removeTarget(h))})(n,e)}catch(s){gn(Xh,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Hv(n,s)}else if(e instanceof hv?n.Va.Ze(e):e instanceof E4?n.Va.st(e):n.Va.tt(e),!t.isEqual(As.min()))try{const s=await k4(n.localStore);t.compareTo(s)>=0&&await(function(o,c){const h=o.Va.Tt(c);return h.targetChanges.forEach(((u,f)=>{if(u.resumeToken.approximateByteSize()>0){const A=o.Ia.get(f);A&&o.Ia.set(f,A.withResumeToken(u.resumeToken,c))}})),h.targetMismatches.forEach(((u,f)=>{const A=o.Ia.get(u);if(!A)return;o.Ia.set(u,A.withResumeToken(mo.EMPTY_BYTE_STRING,A.snapshotVersion)),K4(o,u);const m=new Cd(A.target,u,f,A.sequenceNumber);Tw(o,m)})),o.remoteSyncer.applyRemoteEvent(h)})(n,t)}catch(s){gn(Xh,"Failed to raise snapshot:",s),await Hv(n,s)}}async function Hv(n,e,t){if(!xm(e))throw e;n.Ea.add(1),await Ng(n),n.Ra.set("Offline"),t||(t=()=>k4(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{gn(Xh,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Nx(n)}))}function G4(n,e){return e().catch((t=>Hv(n,t,e)))}async function Ex(n){const e=ps(n),t=Md(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:mw;for(;bO(e);)try{const a=await nO(e.localStore,s);if(a===null){e.Ta.length===0&&t.L_();break}s=a.batchId,wO(e,a)}catch(a){await Hv(e,a)}$4(e)&&Y4(e)}function bO(n){return sf(n)&&n.Ta.length<10}function wO(n,e){n.Ta.push(e);const t=Md(n);t.O_()&&t.X_&&t.ea(e.mutations)}function $4(n){return sf(n)&&!Md(n).x_()&&n.Ta.length>0}function Y4(n){Md(n).start()}async function jO(n){Md(n).ra()}async function BO(n){const e=Md(n);for(const t of n.Ta)e.ea(t.mutations)}async function CO(n,e,t){const s=n.Ta.shift(),a=bw.from(s,e,t);await G4(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await Ex(n)}async function SO(n,e){e&&Md(n).X_&&await(async function(s,a){if((function(c){return o8(c)&&c!==bt.ABORTED})(a.code)){const o=s.Ta.shift();Md(s).B_(),await G4(s,(()=>s.remoteSyncer.rejectFailedWrite(o.batchId,a))),await Ex(s)}})(n,e),$4(n)&&Y4(n)}async function g5(n,e){const t=ps(n);t.asyncQueue.verifyOperationInProgress(),gn(Xh,"RemoteStore received new credentials");const s=sf(t);t.Ea.add(3),await Ng(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Nx(t)}async function NO(n,e){const t=ps(n);e?(t.Ea.delete(2),await Nx(t)):e||(t.Ea.add(2),await Ng(t),t.Ra.set("Unknown"))}function bm(n){return n.ma||(n.ma=(function(t,s,a){const o=ps(t);return o.sa(),new uO(s,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(n.datastore,n.asyncQueue,{Xo:gO.bind(null,n),t_:vO.bind(null,n),r_:xO.bind(null,n),H_:yO.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),_w(n)?Iw(n):n.Ra.set("Unknown")):(await n.ma.stop(),z4(n))}))),n.ma}function Md(n){return n.fa||(n.fa=(function(t,s,a){const o=ps(t);return o.sa(),new dO(s,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:jO.bind(null,n),r_:SO.bind(null,n),ta:BO.bind(null,n),na:CO.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await Ex(n)):(await n.fa.stop(),n.Ta.length>0&&(gn(Xh,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e,t,s,a,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=o,this.deferred=new wu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,a,o){const c=Date.now()+s,h=new Fw(e,t,c,a,o);return h.start(s),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new nn(bt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Uw(n,e){if(Eu("AsyncQueue",`${e}: ${n}`),xm(n))return new nn(bt.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{static emptySet(e){return new Zf(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||$n.comparator(t.key,s.key):(t,s)=>$n.comparator(t.key,s.key),this.keyedMap=Cp(),this.sortedSet=new Fa(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Zf)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=s.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Zf;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5{constructor(){this.ga=new Fa($n.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):ss(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class om{constructor(e,t,s,a,o,c,h,u,f){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=u,this.hasCachedResults=f}static fromInitialDocuments(e,t,s,a,o){const c=[];return t.forEach((h=>{c.push({type:0,doc:h})})),new om(e,t,Zf.emptySet(t),c,s,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yx(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class TO{constructor(){this.queries=x5(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const a=ps(t),o=a.queries;a.queries=x5(),o.forEach(((c,h)=>{for(const u of h.Sa)u.onError(s)}))})(this,new nn(bt.ABORTED,"Firestore shutting down"))}}function x5(){return new nf((n=>m4(n)),yx)}async function Rw(n,e){const t=ps(n);let s=3;const a=e.query;let o=t.queries.get(a);o?!o.ba()&&e.Da()&&(s=2):(o=new EO,s=e.Da()?0:1);try{switch(s){case 0:o.wa=await t.onListen(a,!0);break;case 1:o.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const h=Uw(c,`Initialization of query '${Pf(e.query)}' failed`);return void e.onError(h)}t.queries.set(a,o),o.Sa.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&Lw(t)}async function Dw(n,e){const t=ps(n),s=e.query;let a=3;const o=t.queries.get(s);if(o){const c=o.Sa.indexOf(e);c>=0&&(o.Sa.splice(c,1),o.Sa.length===0?a=e.Da()?0:1:!o.ba()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function IO(n,e){const t=ps(n);let s=!1;for(const a of e){const o=a.query,c=t.queries.get(o);if(c){for(const h of c.Sa)h.Fa(a)&&(s=!0);c.wa=a}}s&&Lw(t)}function _O(n,e,t){const s=ps(n),a=s.queries.get(e);if(a)for(const o of a.Sa)o.onError(t);s.queries.delete(e)}function Lw(n){n.Ca.forEach((e=>{e.next()}))}var sb,y5;(y5=sb||(sb={})).Ma="default",y5.Cache="cache";class Qw{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new om(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=om.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==sb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e){this.key=e}}class X4{constructor(e){this.key=e}}class FO{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ks(),this.mutatedKeys=Ks(),this.eu=p4(e),this.tu=new Zf(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new v5,a=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,c=a,h=!1;const u=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,f=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((A,m)=>{const v=a.get(A),g=bx(this.query,m)?m:null,b=!!v&&this.mutatedKeys.has(v.key),S=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let N=!1;v&&g?v.data.isEqual(g.data)?b!==S&&(s.track({type:3,doc:g}),N=!0):this.su(v,g)||(s.track({type:2,doc:g}),N=!0,(u&&this.eu(g,u)>0||f&&this.eu(g,f)<0)&&(h=!0)):!v&&g?(s.track({type:0,doc:g}),N=!0):v&&!g&&(s.track({type:1,doc:v}),N=!0,(u||f)&&(h=!0)),N&&(g?(c=c.add(g),o=S?o.add(A):o.delete(A)):(c=c.delete(A),o=o.delete(A)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const A=this.query.limitType==="F"?c.last():c.first();c=c.delete(A.key),o=o.delete(A.key),s.track({type:1,doc:A})}return{tu:c,iu:s,Cs:h,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,a){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((A,m)=>(function(g,b){const S=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ss(20277,{Rt:N})}};return S(g)-S(b)})(A.type,m.type)||this.eu(A.doc,m.doc))),this.ou(s),a=a??!1;const h=t&&!a?this._u():[],u=this.Xa.size===0&&this.current&&!a?1:0,f=u!==this.Za;return this.Za=u,c.length!==0||f?{snapshot:new om(this.query,e.tu,o,c,e.mutatedKeys,u===0,f,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new v5,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ks(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const t=[];return e.forEach((s=>{this.Xa.has(s)||t.push(new X4(s))})),this.Xa.forEach((s=>{e.has(s)||t.push(new W4(s))})),t}cu(e){this.Ya=e.Qs,this.Xa=Ks();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return om.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ow="SyncEngine";class UO{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class RO{constructor(e){this.key=e,this.hu=!1}}class DO{constructor(e,t,s,a,o,c){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new nf((h=>m4(h)),yx),this.Iu=new Map,this.Eu=new Set,this.du=new Fa($n.comparator),this.Au=new Map,this.Ru=new Bw,this.Vu={},this.mu=new Map,this.fu=im.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function LO(n,e,t=!0){const s=nT(n);let a;const o=s.Tu.get(e);return o?(s.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.lu()):a=await J4(s,e,t,!0),a}async function QO(n,e){const t=nT(n);await J4(t,e,!0,!1)}async function J4(n,e,t,s){const a=await sO(n.localStore,Mc(e)),o=a.targetId,c=n.sharedClientState.addLocalQueryTarget(o,t);let h;return s&&(h=await OO(n,e,o,c==="current",a.resumeToken)),n.isPrimaryClient&&t&&V4(n.remoteStore,a),h}async function OO(n,e,t,s,a){n.pu=(m,v,g)=>(async function(S,N,E,I){let F=N.view.ru(E);F.Cs&&(F=await d5(S.localStore,N.query,!1).then((({documents:L})=>N.view.ru(L,F))));const D=I&&I.targetChanges.get(N.targetId),P=I&&I.targetMismatches.get(N.targetId)!=null,K=N.view.applyChanges(F,S.isPrimaryClient,D,P);return w5(S,N.targetId,K.au),K.snapshot})(n,m,v,g);const o=await d5(n.localStore,e,!0),c=new FO(e,o.Qs),h=c.ru(o.documents),u=Sg.createSynthesizedTargetChangeForCurrentChange(t,s&&n.onlineState!=="Offline",a),f=c.applyChanges(h,n.isPrimaryClient,u);w5(n,t,f.au);const A=new UO(e,t,c);return n.Tu.set(e,A),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),f.snapshot}async function PO(n,e,t){const s=ps(n),a=s.Tu.get(e),o=s.Iu.get(a.targetId);if(o.length>1)return s.Iu.set(a.targetId,o.filter((c=>!yx(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await tb(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),t&&Ew(s.remoteStore,a.targetId),rb(s,a.targetId)})).catch(vm)):(rb(s,a.targetId),await tb(s.localStore,a.targetId,!0))}async function kO(n,e){const t=ps(n),s=t.Tu.get(e),a=t.Iu.get(s.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Ew(t.remoteStore,s.targetId))}async function MO(n,e,t){const s=YO(n);try{const a=await(function(c,h){const u=ps(c),f=nr.now(),A=h.reduce(((g,b)=>g.add(b.key)),Ks());let m,v;return u.persistence.runTransaction("Locally write mutations","readwrite",(g=>{let b=Tu(),S=Ks();return u.Ns.getEntries(g,A).next((N=>{b=N,b.forEach(((E,I)=>{I.isValidDocument()||(S=S.add(E))}))})).next((()=>u.localDocuments.getOverlayedDocuments(g,b))).next((N=>{m=N;const E=[];for(const I of h){const F=n8(I,m.get(I.key).overlayedDocument);F!=null&&E.push(new Wd(I.key,F,o4(F.value.mapValue),Rl.exists(!0)))}return u.mutationQueue.addMutationBatch(g,f,E,h)})).next((N=>{v=N;const E=N.applyToLocalDocumentSet(m,S);return u.documentOverlayCache.saveOverlays(g,N.batchId,E)}))})).then((()=>({batchId:v.batchId,changes:v4(m)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(c,h,u){let f=c.Vu[c.currentUser.toKey()];f||(f=new Fa(Vs)),f=f.insert(h,u),c.Vu[c.currentUser.toKey()]=f})(s,a.batchId,t),await Eg(s,a.changes),await Ex(s.remoteStore)}catch(a){const o=Uw(a,"Failed to persist write");t.reject(o)}}async function q4(n,e){const t=ps(n);try{const s=await eO(t.localStore,e);e.targetChanges.forEach(((a,o)=>{const c=t.Au.get(o);c&&(wr(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?wr(c.hu,14607):a.removedDocuments.size>0&&(wr(c.hu,42227),c.hu=!1))})),await Eg(t,s,e)}catch(s){await vm(s)}}function b5(n,e,t){const s=ps(n);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const a=[];s.Tu.forEach(((o,c)=>{const h=c.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(c,h){const u=ps(c);u.onlineState=h;let f=!1;u.queries.forEach(((A,m)=>{for(const v of m.Sa)v.va(h)&&(f=!0)})),f&&Lw(u)})(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function HO(n,e,t){const s=ps(n);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.Au.get(e),o=a&&a.key;if(o){let c=new Fa($n.comparator);c=c.insert(o,Ko.newNoDocument(o,As.min()));const h=Ks().add(o),u=new Cx(As.min(),new Map,new Fa(Vs),c,h);await q4(s,u),s.du=s.du.remove(o),s.Au.delete(e),Pw(s)}else await tb(s.localStore,e,!1).then((()=>rb(s,e,t))).catch(vm)}async function VO(n,e){const t=ps(n),s=e.batch.batchId;try{const a=await Z8(t.localStore,e);eT(t,s,null),Z4(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Eg(t,a)}catch(a){await vm(a)}}async function KO(n,e,t){const s=ps(n);try{const a=await(function(c,h){const u=ps(c);return u.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let A;return u.mutationQueue.lookupMutationBatch(f,h).next((m=>(wr(m!==null,37113),A=m.keys(),u.mutationQueue.removeMutationBatch(f,m)))).next((()=>u.mutationQueue.performConsistencyCheck(f))).next((()=>u.documentOverlayCache.removeOverlaysForBatchId(f,A,h))).next((()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,A))).next((()=>u.localDocuments.getDocuments(f,A)))}))})(s.localStore,e);eT(s,e,t),Z4(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Eg(s,a)}catch(a){await vm(a)}}function Z4(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function eT(n,e,t){const s=ps(n);let a=s.Vu[s.currentUser.toKey()];if(a){const o=a.get(e);o&&(t?o.reject(t):o.resolve(),a=a.remove(e)),s.Vu[s.currentUser.toKey()]=a}}function rb(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.Iu.get(e))n.Tu.delete(s),t&&n.Pu.yu(s,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((s=>{n.Ru.containsKey(s)||tT(n,s)}))}function tT(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Ew(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),Pw(n))}function w5(n,e,t){for(const s of t)s instanceof W4?(n.Ru.addReference(s.key,e),zO(n,s)):s instanceof X4?(gn(Ow,"Document no longer in limbo: "+s.key),n.Ru.removeReference(s.key,e),n.Ru.containsKey(s.key)||tT(n,s.key)):ss(19791,{wu:s})}function zO(n,e){const t=e.key,s=t.path.canonicalString();n.du.get(t)||n.Eu.has(s)||(gn(Ow,"New document in limbo: "+t),n.Eu.add(s),Pw(n))}function Pw(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new $n(ta.fromString(e)),s=n.fu.next();n.Au.set(s,new RO(t)),n.du=n.du.insert(t,s),V4(n.remoteStore,new Cd(Mc(xx(t.path)),s,"TargetPurposeLimboResolution",px.ce))}}async function Eg(n,e,t){const s=ps(n),a=[],o=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((h,u)=>{c.push(s.pu(u,e,t).then((f=>{var A;if((f||t)&&s.isPrimaryClient){const m=f?!f.fromCache:(A=t==null?void 0:t.targetChanges.get(u.targetId))==null?void 0:A.current;s.sharedClientState.updateQueryState(u.targetId,m?"current":"not-current")}if(f){a.push(f);const m=Sw.As(u.targetId,f);o.push(m)}})))})),await Promise.all(c),s.Pu.H_(a),await(async function(u,f){const A=ps(u);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>It.forEach(f,(v=>It.forEach(v.Es,(g=>A.persistence.referenceDelegate.addReference(m,v.targetId,g))).next((()=>It.forEach(v.ds,(g=>A.persistence.referenceDelegate.removeReference(m,v.targetId,g)))))))))}catch(m){if(!xm(m))throw m;gn(Nw,"Failed to update sequence numbers: "+m)}for(const m of f){const v=m.targetId;if(!m.fromCache){const g=A.Ms.get(v),b=g.snapshotVersion,S=g.withLastLimboFreeSnapshotVersion(b);A.Ms=A.Ms.insert(v,S)}}})(s.localStore,o))}async function GO(n,e){const t=ps(n);if(!t.currentUser.isEqual(e)){gn(Ow,"User change. New user:",e.toKey());const s=await P4(t.localStore,e);t.currentUser=e,(function(o,c){o.mu.forEach((h=>{h.forEach((u=>{u.reject(new nn(bt.CANCELLED,c))}))})),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Eg(t,s.Ls)}}function $O(n,e){const t=ps(n),s=t.Au.get(e);if(s&&s.hu)return Ks().add(s.key);{let a=Ks();const o=t.Iu.get(e);if(!o)return a;for(const c of o){const h=t.Tu.get(c);a=a.unionWith(h.view.nu)}return a}}function nT(n){const e=ps(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=q4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$O.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=HO.bind(null,e),e.Pu.H_=IO.bind(null,e.eventManager),e.Pu.yu=_O.bind(null,e.eventManager),e}function YO(n){const e=ps(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=VO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=KO.bind(null,e),e}class Vv{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Sx(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return q8(this.persistence,new W8,e.initialUser,this.serializer)}Cu(e){return new O4(Cw.mi,this.serializer)}Du(e){return new aO}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vv.provider={build:()=>new Vv};class WO extends Vv{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){wr(this.persistence.referenceDelegate instanceof Mv,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new R8(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Il.withCacheSize(this.cacheSizeBytes):Il.DEFAULT;return new O4((s=>Mv.mi(s,t)),this.serializer)}}class ab{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>b5(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=GO.bind(null,this.syncEngine),await NO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new TO})()}createDatastore(e){const t=Sx(e.databaseInfo.databaseId),s=(function(o){return new cO(o)})(e.databaseInfo);return(function(o,c,h,u){return new fO(o,c,h,u)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,a,o,c,h){return new pO(s,a,o,c,h)})(this.localStore,this.datastore,e.asyncQueue,(t=>b5(this.syncEngine,t,0)),(function(){return m5.v()?new m5:new iO})())}createSyncEngine(e,t){return(function(a,o,c,h,u,f,A){const m=new DO(a,o,c,h,u,f);return A&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(a){const o=ps(a);gn(Xh,"RemoteStore shutting down."),o.Ea.add(5),await Ng(o),o.Aa.shutdown(),o.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}ab.provider={build:()=>new ab};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Eu("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hd="FirestoreClient";class XO{constructor(e,t,s,a,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=Vo.UNAUTHENTICATED,this.clientId=fw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(s,(async c=>{gn(Hd,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(gn(Hd,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new wu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Uw(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function ky(n,e){n.asyncQueue.verifyOperationInProgress(),gn(Hd,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener((async a=>{s.isEqual(a)||(await P4(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function j5(n,e){n.asyncQueue.verifyOperationInProgress();const t=await JO(n);gn(Hd,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((s=>g5(e.remoteStore,s))),n.setAppCheckTokenChangeListener(((s,a)=>g5(e.remoteStore,a))),n._onlineComponents=e}async function JO(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){gn(Hd,"Using user provided OfflineComponentProvider");try{await ky(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===bt.FAILED_PRECONDITION||a.code===bt.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;nm("Error using user provided cache. Falling back to memory cache: "+t),await ky(n,new Vv)}}else gn(Hd,"Using default OfflineComponentProvider"),await ky(n,new WO(void 0));return n._offlineComponents}async function sT(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(gn(Hd,"Using user provided OnlineComponentProvider"),await j5(n,n._uninitializedComponentsProvider._online)):(gn(Hd,"Using default OnlineComponentProvider"),await j5(n,new ab))),n._onlineComponents}function qO(n){return sT(n).then((e=>e.syncEngine))}async function Kv(n){const e=await sT(n),t=e.eventManager;return t.onListen=LO.bind(null,e.syncEngine),t.onUnlisten=PO.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=QO.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=kO.bind(null,e.syncEngine),t}function ZO(n,e,t={}){const s=new wu;return n.asyncQueue.enqueueAndForget((async()=>(function(o,c,h,u,f){const A=new kw({next:v=>{A.Nu(),c.enqueueAndForget((()=>Dw(o,m)));const g=v.docs.has(h);!g&&v.fromCache?f.reject(new nn(bt.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&v.fromCache&&u&&u.source==="server"?f.reject(new nn(bt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(v)},error:v=>f.reject(v)}),m=new Qw(xx(h.path),A,{includeMetadataChanges:!0,qa:!0});return Rw(o,m)})(await Kv(n),n.asyncQueue,e,t,s))),s.promise}function eP(n,e,t={}){const s=new wu;return n.asyncQueue.enqueueAndForget((async()=>(function(o,c,h,u,f){const A=new kw({next:v=>{A.Nu(),c.enqueueAndForget((()=>Dw(o,m))),v.fromCache&&u.source==="server"?f.reject(new nn(bt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(v)},error:v=>f.reject(v)}),m=new Qw(h,A,{includeMetadataChanges:!0,qa:!0});return Rw(o,m)})(await Kv(n),n.asyncQueue,e,t,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B5=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT="firestore.googleapis.com",C5=!0;class S5{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new nn(bt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=aT,this.ssl=C5}else this.host=e.host,this.ssl=e.ssl??C5;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Q4;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<F8)throw new nn(bt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mQ("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rT(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new nn(bt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new nn(bt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new nn(bt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Tx{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new S5({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new nn(bt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new nn(bt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new S5(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new aQ;switch(s.type){case"firstParty":return new AQ(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new nn(bt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=B5.get(t);s&&(gn("ComponentProvider","Removing Datastore"),B5.delete(t),s.terminate())})(this),Promise.resolve()}}function tP(n,e,t,s={}){var f;n=Ul(n,Tx);const a=Gd(e),o=n._getSettings(),c={...o,emulatorOptions:n._getEmulatorOptions()},h=`${e}:${t}`;a&&(tw(`https://${h}`),nw("Firestore",!0)),o.host!==aT&&o.host!==h&&nm("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...o,host:h,ssl:a,emulatorOptions:s};if(!$h(u,c)&&(n._setSettings(u),s.mockUserToken)){let A,m;if(typeof s.mockUserToken=="string")A=s.mockUserToken,m=Vo.MOCK_USER;else{A=nU(s.mockUserToken,(f=n._app)==null?void 0:f.options.projectId);const v=s.mockUserToken.sub||s.mockUserToken.user_id;if(!v)throw new nn(bt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Vo(v)}n._authCredentials=new iQ(new WE(A,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ru(this.firestore,e,this._query)}}class za{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ud(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new za(this.firestore,e,this._key)}toJSON(){return{type:za._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(Bg(t,za._jsonSchema))return new za(e,s||null,new $n(ta.fromString(t.referencePath)))}}za._jsonSchemaVersion="firestore/documentReference/1.0",za._jsonSchema={type:Bi("string",za._jsonSchemaVersion),referencePath:Bi("string")};class Ud extends Ru{constructor(e,t,s){super(e,t,xx(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new za(this.firestore,null,new $n(e))}withConverter(e){return new Ud(this.firestore,e,this._path)}}function Wn(n,e,...t){if(n=Ca(n),XE("collection","path",e),n instanceof Tx){const s=ta.fromString(e,...t);return PB(s),new Ud(n,null,s)}{if(!(n instanceof za||n instanceof Ud))throw new nn(bt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(ta.fromString(e,...t));return PB(s),new Ud(n.firestore,null,s)}}function Vn(n,e,...t){if(n=Ca(n),arguments.length===1&&(e=fw.newId()),XE("doc","path",e),n instanceof Tx){const s=ta.fromString(e,...t);return OB(s),new za(n,null,new $n(s))}{if(!(n instanceof za||n instanceof Ud))throw new nn(bt.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(ta.fromString(e,...t));return OB(s),new za(n.firestore,n instanceof Ud?n.converter:null,new $n(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N5="AsyncQueue";class E5{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new M4(this,"async_queue_retry"),this._c=()=>{const s=Py();s&&gn(N5,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=Py();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Py();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new wu;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!xm(e))throw e;gn(N5,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Eu("INTERNAL UNHANDLED ERROR: ",T5(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=Fw.createAndSchedule(this,e,t,s,(o=>this.hc(o)));return this.tc.push(a),a}uc(){this.nc&&ss(47125,{Pc:T5(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function T5(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I5(n){return(function(t,s){if(typeof t!="object"||t===null)return!1;const a=t;for(const o of s)if(o in a&&typeof a[o]=="function")return!0;return!1})(n,["next","error","complete"])}class Iu extends Tx{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new E5,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new E5(e),this._firestoreClient=void 0,await e}}}function nP(n,e){const t=typeof n=="object"?n:rw(),s=typeof n=="string"?n:Rv,a=cx(t,"firestore").getImmediate({identifier:s});if(!a._initialized){const o=tE("firestore");o&&tP(a,...o)}return a}function Tg(n){if(n._terminated)throw new nn(bt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||sP(n),n._firestoreClient}function sP(n){var s,a,o;const e=n._freezeSettings(),t=(function(h,u,f,A){return new NQ(h,u,f,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,rT(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)})(n._databaseId,((s=n._app)==null?void 0:s.options.appId)||"",n._persistenceKey,e);n._componentsProvider||(a=e.localCache)!=null&&a._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new XO(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(h){const u=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(u),_online:u}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e){this._byteString=e}static fromBase64String(e){try{return new EA(mo.fromBase64String(e))}catch(t){throw new nn(bt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new EA(mo.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:EA._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Bg(e,EA._jsonSchema))return EA.fromBase64String(e.bytes)}}EA._jsonSchemaVersion="firestore/bytes/1.0",EA._jsonSchema={type:Bi("string",EA._jsonSchemaVersion),bytes:Bi("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new nn(bt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new uo(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new nn(bt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new nn(bt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Vs(this._lat,e._lat)||Vs(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Vc._jsonSchemaVersion}}static fromJSON(e){if(Bg(e,Vc._jsonSchema))return new Vc(e.latitude,e.longitude)}}Vc._jsonSchemaVersion="firestore/geoPoint/1.0",Vc._jsonSchema={type:Bi("string",Vc._jsonSchemaVersion),latitude:Bi("number"),longitude:Bi("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let o=0;o<s.length;++o)if(s[o]!==a[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Kc._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Bg(e,Kc._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Kc(e.vectorValues);throw new nn(bt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Kc._jsonSchemaVersion="firestore/vectorValue/1.0",Kc._jsonSchema={type:Bi("string",Kc._jsonSchemaVersion),vectorValues:Bi("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP=/^__.*__$/;class aP{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Wd(e,this.data,this.fieldMask,t,this.fieldTransforms):new Cg(e,this.data,t,this.fieldTransforms)}}class iT{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Wd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function oT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ss(40011,{Ac:n})}}class Hw{constructor(e,t,s,a,o,c){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Hw({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var a;const t=(a=this.path)==null?void 0:a.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){var a;const t=(a=this.path)==null?void 0:a.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return zv(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(oT(this.Ac)&&rP.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class iP{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Sx(e)}Cc(e,t,s,a=!1){return new Hw({Ac:e,methodName:t,Dc:s,path:uo.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ix(n){const e=n._freezeSettings(),t=Sx(n._databaseId);return new iP(n._databaseId,!!e.ignoreUndefinedProperties,t)}function lT(n,e,t,s,a,o={}){const c=n.Cc(o.merge||o.mergeFields?2:0,e,t,a);Vw("Data must be an object, but it was:",c,s);const h=uT(s,c);let u,f;if(o.merge)u=new tA(c.fieldMask),f=c.fieldTransforms;else if(o.mergeFields){const A=[];for(const m of o.mergeFields){const v=ib(e,m,t);if(!c.contains(v))throw new nn(bt.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);hT(A,v)||A.push(v)}u=new tA(A),f=c.fieldTransforms.filter((m=>u.covers(m.field)))}else u=null,f=c.fieldTransforms;return new aP(new _l(h),u,f)}class _x extends Mw{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _x}}function AT(n,e,t,s){const a=n.Cc(1,e,t);Vw("Data must be an object, but it was:",a,s);const o=[],c=_l.empty();Yd(s,((u,f)=>{const A=Kw(e,u,t);f=Ca(f);const m=a.yc(A);if(f instanceof _x)o.push(A);else{const v=_g(f,m);v!=null&&(o.push(A),c.set(A,v))}}));const h=new tA(o);return new iT(c,h,a.fieldTransforms)}function cT(n,e,t,s,a,o){const c=n.Cc(1,e,t),h=[ib(e,s,t)],u=[a];if(o.length%2!=0)throw new nn(bt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)h.push(ib(e,o[v])),u.push(o[v+1]);const f=[],A=_l.empty();for(let v=h.length-1;v>=0;--v)if(!hT(f,h[v])){const g=h[v];let b=u[v];b=Ca(b);const S=c.yc(g);if(b instanceof _x)f.push(g);else{const N=_g(b,S);N!=null&&(f.push(g),A.set(g,N))}}const m=new tA(f);return new iT(A,m,c.fieldTransforms)}function oP(n,e,t,s=!1){return _g(t,n.Cc(s?4:3,e))}function _g(n,e){if(dT(n=Ca(n)))return Vw("Unsupported field value:",e,n),uT(n,e);if(n instanceof Mw)return(function(s,a){if(!oT(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const o=s._toFieldTransform(a);o&&a.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,a){const o=[];let c=0;for(const h of s){let u=_g(h,a.wc(c));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),c++}return{arrayValue:{values:o}}})(n,e)}return(function(s,a){if((s=Ca(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return XQ(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const o=nr.fromDate(s);return{timestampValue:kv(a.serializer,o)}}if(s instanceof nr){const o=new nr(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:kv(a.serializer,o)}}if(s instanceof Vc)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof EA)return{bytesValue:I4(a.serializer,s._byteString)};if(s instanceof za){const o=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(o))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:jw(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Kc)return(function(c,h){return{mapValue:{fields:{[a4]:{stringValue:i4},[Dv]:{arrayValue:{values:c.toArray().map((f=>{if(typeof f!="number")throw h.Sc("VectorValues must only contain numeric values.");return yw(h.serializer,f)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${mx(s)}`)})(n,e)}function uT(n,e){const t={};return ZE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yd(n,((s,a)=>{const o=_g(a,e.mc(s));o!=null&&(t[s]=o)})),{mapValue:{fields:t}}}function dT(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof nr||n instanceof Vc||n instanceof EA||n instanceof za||n instanceof Mw||n instanceof Kc)}function Vw(n,e,t){if(!dT(t)||!JE(t)){const s=mx(t);throw s==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+s)}}function ib(n,e,t){if((e=Ca(e))instanceof Ig)return e._internalPath;if(typeof e=="string")return Kw(n,e);throw zv("Field path arguments must be of type string or ",n,!1,void 0,t)}const lP=new RegExp("[~\\*/\\[\\]]");function Kw(n,e,t){if(e.search(lP)>=0)throw zv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ig(...e.split("."))._internalPath}catch{throw zv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function zv(n,e,t,s,a){const o=s&&!s.isEmpty(),c=a!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let u="";return(o||c)&&(u+=" (found",o&&(u+=` in field ${s}`),c&&(u+=` in document ${a}`),u+=")"),new nn(bt.INVALID_ARGUMENT,h+n+u)}function hT(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(e,t,s,a,o){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new za(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new AP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Fx("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class AP extends fT{data(){return super.data()}}function Fx(n,e){return typeof e=="string"?Kw(n,e):e instanceof Ig?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mT(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new nn(bt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zw{}class Gw extends zw{}function Zn(n,e,...t){let s=[];e instanceof zw&&s.push(e),s=s.concat(t),(function(o){const c=o.filter((u=>u instanceof $w)).length,h=o.filter((u=>u instanceof Ux)).length;if(c>1||c>0&&h>0)throw new nn(bt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)n=a._apply(n);return n}class Ux extends Gw{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Ux(e,t,s)}_apply(e){const t=this._parse(e);return pT(e._query,t),new Ru(e.firestore,e.converter,X1(e._query,t))}_parse(e){const t=Ix(e.firestore);return(function(o,c,h,u,f,A,m){let v;if(f.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new nn(bt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){F5(m,A);const b=[];for(const S of m)b.push(_5(u,o,S));v={arrayValue:{values:b}}}else v=_5(u,o,m)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||F5(m,A),v=oP(h,c,m,A==="in"||A==="not-in");return ji.create(f,A,v)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Zt(n,e,t){const s=e,a=Fx("where",n);return Ux._create(a,s,t)}class $w extends zw{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new $w(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:ac.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,o){let c=a;const h=o.getFlattenedFilters();for(const u of h)pT(c,u),c=X1(c,u)})(e._query,t),new Ru(e.firestore,e.converter,X1(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Yw extends Gw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Yw(e,t)}_apply(e){const t=(function(a,o,c){if(a.startAt!==null)throw new nn(bt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new nn(bt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new rg(o,c)})(e._query,this._field,this._direction);return new Ru(e.firestore,e.converter,(function(a,o){const c=a.explicitOrderBy.concat([o]);return new ym(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,t))}}function ob(n,e="asc"){const t=e,s=Fx("orderBy",n);return Yw._create(s,t)}class Ww extends Gw{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new Ww(e,t,s)}_apply(e){return new Ru(e.firestore,e.converter,Qv(e._query,this._limit,this._limitType))}}function pu(n){return pQ("limit",n),Ww._create("limit",n,"F")}function _5(n,e,t){if(typeof(t=Ca(t))=="string"){if(t==="")throw new nn(bt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!f4(e)&&t.indexOf("/")!==-1)throw new nn(bt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(ta.fromString(t));if(!$n.isDocumentKey(s))throw new nn(bt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return $B(n,new $n(s))}if(t instanceof za)return $B(n,t._key);throw new nn(bt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mx(t)}.`)}function F5(n,e){if(!Array.isArray(n)||n.length===0)throw new nn(bt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function pT(n,e){const t=(function(a,o){for(const c of a)for(const h of c.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new nn(bt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new nn(bt.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class cP{convertValue(e,t="none"){switch(kd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ei(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Pd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ss(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Yd(e,((a,o)=>{s[a]=this.convertValue(o,t)})),s}convertVectorValue(e){var s,a,o;const t=(o=(a=(s=e.fields)==null?void 0:s[Dv].arrayValue)==null?void 0:a.values)==null?void 0:o.map((c=>ei(c.doubleValue)));return new Kc(t)}convertGeoPoint(e){return new Vc(ei(e.latitude),ei(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=vx(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(tg(e));default:return null}}convertTimestamp(e){const t=Od(e);return new nr(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=ta.fromString(e);wr(L4(s),9688,{name:e});const a=new ng(s.get(1),s.get(3)),o=new $n(s.popFirst(5));return a.isEqual(t)||Eu(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gT(n,e,t){let s;return s=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,s}class Np{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Oh extends fT{constructor(e,t,s,a,o,c){super(e,t,s,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new fv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Fx("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new nn(bt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Oh._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Oh._jsonSchemaVersion="firestore/documentSnapshot/1.0",Oh._jsonSchema={type:Bi("string",Oh._jsonSchemaVersion),bundleSource:Bi("string","DocumentSnapshot"),bundleName:Bi("string"),bundle:Bi("string")};class fv extends Oh{data(e={}){return super.data(e)}}class Ph{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Np(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new fv(this._firestore,this._userDataWriter,s.key,s,new Np(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new nn(bt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,o){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((h=>{const u=new fv(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Np(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:u,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const u=new fv(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Np(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let f=-1,A=-1;return h.type!==0&&(f=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),A=c.indexOf(h.doc.key)),{type:uP(h.type),doc:u,oldIndex:f,newIndex:A}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new nn(bt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ph._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=fw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],a=[];return this.docs.forEach((o=>{o._document!==null&&(t.push(o._document),s.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),a.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function uP(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ss(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ju(n){n=Ul(n,za);const e=Ul(n.firestore,Iu);return ZO(Tg(e),n._key).then((t=>vT(e,n,t)))}Ph._jsonSchemaVersion="firestore/querySnapshot/1.0",Ph._jsonSchema={type:Bi("string",Ph._jsonSchemaVersion),bundleSource:Bi("string","QuerySnapshot"),bundleName:Bi("string"),bundle:Bi("string")};class Xw extends cP{constructor(e){super(),this.firestore=e}convertBytes(e){return new EA(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new za(this.firestore,null,t)}}function es(n){n=Ul(n,Ru);const e=Ul(n.firestore,Iu),t=Tg(e),s=new Xw(e);return mT(n._query),eP(t,n._query).then((a=>new Ph(e,s,n,a)))}function vi(n,e,t){n=Ul(n,za);const s=Ul(n.firestore,Iu),a=gT(n.converter,e,t);return Rx(s,[lT(Ix(s),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,Rl.none())])}function Lp(n,e,t,...s){n=Ul(n,za);const a=Ul(n.firestore,Iu),o=Ix(a);let c;return c=typeof(e=Ca(e))=="string"||e instanceof Ig?cT(o,"updateDoc",n._key,e,t,s):AT(o,"updateDoc",n._key,e),Rx(a,[c.toMutation(n._key,Rl.exists(!0))])}function yi(n){return Rx(Ul(n.firestore,Iu),[new Bx(n._key,Rl.none())])}function zf(n,...e){var u,f,A;n=Ca(n);let t={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||I5(e[s])||(t=e[s++]);const a={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(I5(e[s])){const m=e[s];e[s]=(u=m.next)==null?void 0:u.bind(m),e[s+1]=(f=m.error)==null?void 0:f.bind(m),e[s+2]=(A=m.complete)==null?void 0:A.bind(m)}let o,c,h;if(n instanceof za)c=Ul(n.firestore,Iu),h=xx(n._key.path),o={next:m=>{e[s]&&e[s](vT(c,n,m))},error:e[s+1],complete:e[s+2]};else{const m=Ul(n,Ru);c=Ul(m.firestore,Iu),h=m._query;const v=new Xw(c);o={next:g=>{e[s]&&e[s](new Ph(c,v,m,g))},error:e[s+1],complete:e[s+2]},mT(n._query)}return(function(v,g,b,S){const N=new kw(S),E=new Qw(g,N,b);return v.asyncQueue.enqueueAndForget((async()=>Rw(await Kv(v),E))),()=>{N.Nu(),v.asyncQueue.enqueueAndForget((async()=>Dw(await Kv(v),E)))}})(Tg(c),h,a,o)}function Rx(n,e){return(function(s,a){const o=new wu;return s.asyncQueue.enqueueAndForget((async()=>MO(await qO(s),a,o))),o.promise})(Tg(n),e)}function vT(n,e,t){const s=t.docs.get(e._key),a=new Xw(n);return new Oh(n,a,e._key,s,new Np(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Ix(e)}set(e,t,s){this._verifyNotCommitted();const a=My(e,this._firestore),o=gT(a.converter,t,s),c=lT(this._dataReader,"WriteBatch.set",a._key,o,a.converter!==null,s);return this._mutations.push(c.toMutation(a._key,Rl.none())),this}update(e,t,s,...a){this._verifyNotCommitted();const o=My(e,this._firestore);let c;return c=typeof(t=Ca(t))=="string"||t instanceof Ig?cT(this._dataReader,"WriteBatch.update",o._key,t,s,a):AT(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(c.toMutation(o._key,Rl.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=My(e,this._firestore);return this._mutations=this._mutations.concat(new Bx(t._key,Rl.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new nn(bt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function My(n,e){if((n=Ca(n)).firestore!==e)throw new nn(bt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U5(n){return Tg(n=Ul(n,Iu)),new dP(n,(e=>Rx(n,e)))}(function(e,t=!0){(function(a){gm=a})(ef),Ld(new ZL("firestore",((s,{instanceIdentifier:a,options:o})=>{const c=s.getProvider("app").getImmediate(),h=new Iu(new oQ(s.getProvider("auth-internal")),new cQ(c,s.getProvider("app-check-internal")),(function(f,A){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new nn(bt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ng(f.options.projectId,A)})(c,a),c);return o={useFetchStreams:t,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),IA(RB,DB,e),IA(RB,DB,"esm2020")})();let hP=class{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP="type.googleapis.com/google.protobuf.Int64Value",mP="type.googleapis.com/google.protobuf.UInt64Value";function xT(n,e){const t={};for(const s in n)n.hasOwnProperty(s)&&(t[s]=e(n[s]));return t}function Gv(n){if(n==null)return null;if(n instanceof Number&&(n=n.valueOf()),typeof n=="number"&&isFinite(n)||n===!0||n===!1||Object.prototype.toString.call(n)==="[object String]")return n;if(n instanceof Date)return n.toISOString();if(Array.isArray(n))return n.map(e=>Gv(e));if(typeof n=="function"||typeof n=="object")return xT(n,e=>Gv(e));throw new Error("Data cannot be encoded in JSON: "+n)}function lm(n){if(n==null)return n;if(n["@type"])switch(n["@type"]){case fP:case mP:{const e=Number(n.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+n);return e}default:throw new Error("Data cannot be decoded from JSON: "+n)}return Array.isArray(n)?n.map(e=>lm(e)):typeof n=="function"||typeof n=="object"?xT(n,e=>lm(e)):n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R5={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fl extends Ac{constructor(e,t,s){super(`${Jw}/${e}`,t||""),this.details=s,Object.setPrototypeOf(this,Fl.prototype)}}function pP(n){if(n>=200&&n<300)return"ok";switch(n){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function $v(n,e){let t=pP(n),s=t,a;try{const o=e&&e.error;if(o){const c=o.status;if(typeof c=="string"){if(!R5[c])return new Fl("internal","internal");t=R5[c],s=c}const h=o.message;typeof h=="string"&&(s=h),a=o.details,a!==void 0&&(a=lm(a))}}catch{}return t==="ok"?null:new Fl(t,s,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(e,t,s,a){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,eA(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=t.getImmediate({optional:!0}),this.messaging=s.getImmediate({optional:!0}),this.auth||t.get().then(o=>this.auth=o,()=>{}),this.messaging||s.get().then(o=>this.messaging=o,()=>{}),this.appCheck||a==null||a.get().then(o=>this.appCheck=o,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){const t=await this.getAuthToken(),s=await this.getMessagingToken(),a=await this.getAppCheckToken(e);return{authToken:t,messagingToken:s,appCheckToken:a}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb="us-central1",vP=/^data: (.*?)(?:\n|$)/;function xP(n){let e=null;return{promise:new Promise((t,s)=>{e=setTimeout(()=>{s(new Fl("deadline-exceeded","deadline-exceeded"))},n)}),cancel:()=>{e&&clearTimeout(e)}}}class yP{constructor(e,t,s,a,o=lb,c=(...h)=>fetch(...h)){this.app=e,this.fetchImpl=c,this.emulatorOrigin=null,this.contextProvider=new gP(e,t,s,a),this.cancelAllRequests=new Promise(h=>{this.deleteService=()=>Promise.resolve(h())});try{const h=new URL(o);this.customDomain=h.origin+(h.pathname==="/"?"":h.pathname),this.region=lb}catch{this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}function bP(n,e,t){const s=Gd(e);n.emulatorOrigin=`http${s?"s":""}://${e}:${t}`,s&&(tw(n.emulatorOrigin+"/backends"),nw("Functions",!0))}function wP(n,e,t){const s=a=>BP(n,e,a,{});return s.stream=(a,o)=>SP(n,e,a,o),s}function yT(n){return n.emulatorOrigin&&Gd(n.emulatorOrigin)?"include":void 0}async function jP(n,e,t,s,a){t["Content-Type"]="application/json";let o;try{o=await s(n,{method:"POST",body:JSON.stringify(e),headers:t,credentials:yT(a)})}catch{return{status:0,json:null}}let c=null;try{c=await o.json()}catch{}return{status:o.status,json:c}}async function bT(n,e){const t={},s=await n.contextProvider.getContext(e.limitedUseAppCheckTokens);return s.authToken&&(t.Authorization="Bearer "+s.authToken),s.messagingToken&&(t["Firebase-Instance-ID-Token"]=s.messagingToken),s.appCheckToken!==null&&(t["X-Firebase-AppCheck"]=s.appCheckToken),t}function BP(n,e,t,s){const a=n._url(e);return CP(n,a,t,s)}async function CP(n,e,t,s){t=Gv(t);const a={data:t},o=await bT(n,s),c=s.timeout||7e4,h=xP(c),u=await Promise.race([jP(e,a,o,n.fetchImpl,n),h.promise,n.cancelAllRequests]);if(h.cancel(),!u)throw new Fl("cancelled","Firebase Functions instance was deleted.");const f=$v(u.status,u.json);if(f)throw f;if(!u.json)throw new Fl("internal","Response is not valid JSON object.");let A=u.json.data;if(typeof A>"u"&&(A=u.json.result),typeof A>"u")throw new Fl("internal","Response is missing data field.");return{data:lm(A)}}function SP(n,e,t,s){const a=n._url(e);return NP(n,a,t,s||{})}async function NP(n,e,t,s){var v;t=Gv(t);const a={data:t},o=await bT(n,s);o["Content-Type"]="application/json",o.Accept="text/event-stream";let c;try{c=await n.fetchImpl(e,{method:"POST",body:JSON.stringify(a),headers:o,signal:s==null?void 0:s.signal,credentials:yT(n)})}catch(g){if(g instanceof Error&&g.name==="AbortError"){const S=new Fl("cancelled","Request was cancelled.");return{data:Promise.reject(S),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(S)}}}}}}const b=$v(0,null);return{data:Promise.reject(b),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(b)}}}}}}let h,u;const f=new Promise((g,b)=>{h=g,u=b});(v=s==null?void 0:s.signal)==null||v.addEventListener("abort",()=>{const g=new Fl("cancelled","Request was cancelled.");u(g)});const A=c.body.getReader(),m=EP(A,h,u,s==null?void 0:s.signal);return{stream:{[Symbol.asyncIterator](){const g=m.getReader();return{async next(){const{value:b,done:S}=await g.read();return{value:b,done:S}},async return(){return await g.cancel(),{done:!0,value:void 0}}}}},data:f}}function EP(n,e,t,s){const a=(c,h)=>{const u=c.match(vP);if(!u)return;const f=u[1];try{const A=JSON.parse(f);if("result"in A){e(lm(A.result));return}if("message"in A){h.enqueue(lm(A.message));return}if("error"in A){const m=$v(0,A);h.error(m),t(m);return}}catch(A){if(A instanceof Fl){h.error(A),t(A);return}}},o=new TextDecoder;return new ReadableStream({start(c){let h="";return u();async function u(){if(s!=null&&s.aborted){const f=new Fl("cancelled","Request was cancelled");return c.error(f),t(f),Promise.resolve()}try{const{value:f,done:A}=await n.read();if(A){h.trim()&&a(h.trim(),c),c.close();return}if(s!=null&&s.aborted){const v=new Fl("cancelled","Request was cancelled");c.error(v),t(v),await n.cancel();return}h+=o.decode(f,{stream:!0});const m=h.split(`
`);h=m.pop()||"";for(const v of m)v.trim()&&a(v.trim(),c);return u()}catch(f){const A=f instanceof Fl?f:$v(0,null);c.error(A),t(A)}}},cancel(){return n.cancel()}})}const D5="@firebase/functions",L5="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP="auth-internal",IP="app-check-internal",_P="messaging-internal";function FP(n){const e=(t,{instanceIdentifier:s})=>{const a=t.getProvider("app").getImmediate(),o=t.getProvider(TP),c=t.getProvider(_P),h=t.getProvider(IP);return new yP(a,o,c,h,s)};Ld(new hP(Jw,e,"PUBLIC").setMultipleInstances(!0)),IA(D5,L5,n),IA(D5,L5,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UP(n=rw(),e=lb){const s=cx(Ca(n),Jw).getImmediate({identifier:e}),a=tE("functions");return a&&RP(s,...a),s}function RP(n,e,t){bP(Ca(n),e,t)}function Fg(n,e,t){return wP(Ca(n),e)}FP();const DP={apiKey:"AIzaSyCHlCLhumJn50nw2JBgJTGeIH_6GKzjFbA",authDomain:"noble-care-management-system.firebaseapp.com",projectId:"noble-care-management-system",storageBucket:"noble-care-management-system.firebasestorage.app",messagingSenderId:"573085015524",appId:"1:573085015524:web:29ae8a509813ec1199fbf1"},qw=iE(DP),gu=JL(qw),Et=nP(qw),Ug=UP(qw);var ms=(n=>(n.SUPER_ADMIN="super_admin",n.SCHOOL_ADMIN="school_admin",n.TEACHER="teacher",n))(ms||{});async function LP(n){var s;const e=Vn(Et,"users",n.uid),t=await ju(e);if(t.exists()){const a=t.data(),o=a.status||"active";if(o!=="active")throw new Error("ACCOUNT_INACTIVE");const c=a.role,h=a.schoolId||null,u=Array.isArray(a.assignedClassIds)?a.assignedClassIds:[];if((c==="school_admin"||c==="teacher")&&!h)throw console.warn(`[AUTH] ${c==="teacher"?"Teacher":"School Admin"} account incomplete - missing schoolId`,{uid:n.uid,email:n.email,role:c,hasSchoolId:!!h}),new Error(`${c==="teacher"?"Teacher":"School Admin"} account is incomplete: missing schoolId. Please contact your administrator.`);if(c==="school_admin"&&h){const f=Vn(Et,"schools",h),A=await ju(f);if(!A.exists())throw new Error("SCHOOL_NOT_FOUND");const m=A.data();if((m==null?void 0:m.status)!=="active")throw new Error("SCHOOL_INACTIVE")}if(c==="teacher"&&h){const f=Vn(Et,"schools",h),A=await ju(f);if(!A.exists())throw new Error("SCHOOL_NOT_FOUND");const m=A.data();if((m==null?void 0:m.status)!=="active")throw new Error("SCHOOL_INACTIVE")}return{id:n.uid,fullName:a.fullName||n.displayName||"User",email:n.email||"",role:c,schoolId:h,assignedClassIds:u,status:o,createdAt:((s=a.createdAt)==null?void 0:s.toDate())||new Date}}else throw new Error("ACCOUNT_NOT_PROVISIONED")}function wT(n){if(!n)throw new Error("Authentication required");if(n.role===ms.SUPER_ADMIN)throw new Error("Super admin does not belong to a school");if(!n.schoolId)throw new Error("School access required. Please contact your administrator.");return n.schoolId}const jT=ee.createContext(void 0),QP=({children:n})=>{const[e,t]=ee.useState(null),[s,a]=ee.useState(!0),[o,c]=ee.useState(!0),[h,u]=ee.useState(null);ee.useEffect(()=>{const A=kD(gu,async m=>{if(c(!0),m){u(null),a(!0);try{const v=await LP(m);t(v)}catch(v){console.error("Error fetching user profile:",v),t(null);const g=v.message||v.toString();g==="ACCOUNT_NOT_PROVISIONED"?(u("Your account is not set up yet. Please contact your administrator for access."),await vp(gu)):g==="ACCOUNT_INACTIVE"?(u("Your account has been deactivated. Please contact your administrator for access."),await vp(gu)):g==="SCHOOL_NOT_FOUND"?(u("Your school could not be found. Please contact your administrator."),await vp(gu)):g==="SCHOOL_INACTIVE"?(u("Your school has been deactivated. Please contact your administrator."),await vp(gu)):g.includes("Cloud Firestore API has not been used")?u("CRITICAL ERROR: The Firestore Database is not enabled. Go to Firebase Console > Build > Firestore Database > Create Database."):g.includes("permission-denied")||g.includes("Missing or insufficient permissions")?u("PERMISSION DENIED: Database access blocked. Go to Firebase Console > Firestore Database > Rules and change 'allow read, write: if false;' to 'allow read, write: if true;' (for testing)."):g.includes("client is offline")||g.includes("offline")?u("Network Error: Could not connect to the database. Check your internet connection."):u("Failed to load user profile. Please try refreshing the page. Error: "+g)}}else t(null),u(null);c(!1),a(!1)});return()=>A()},[]);const f=async()=>{try{await vp(gu),t(null),u(null)}catch(A){console.error("Logout failed",A)}};return i.jsx(jT.Provider,{value:{user:e,loading:s,authLoading:o,error:h,logout:f,isAuthenticated:!!e},children:n})},$o=()=>{const n=ee.useContext(jT);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n},BT=ee.createContext(void 0),OP=({children:n})=>{const{user:e,isAuthenticated:t}=$o(),[s,a]=ee.useState(null),[o,c]=ee.useState(!1),[h,u]=ee.useState(null);return ee.useEffect(()=>{let f=!1;const m=(()=>{if(a(null),u(null),!t||!e||e.role==="super_admin"){c(!1);return}if(!e.schoolId){c(!1),u("No school assigned to your account");return}c(!0);const v=`school_${e.schoolId}`,g=localStorage.getItem(v);if(g)try{const b=JSON.parse(g);b.status==="active"&&(f||a(b))}catch{localStorage.removeItem(v)}try{const b=Vn(Et,"schools",e.schoolId),S=zf(b,N=>{if(!N.exists()){f||u("School not found. Please contact your administrator."),f||a(null);return}const E={id:N.id,...N.data()};if(E.status!=="active"){f||u("Your school is currently inactive. Please contact your administrator."),f||a(null);return}localStorage.setItem(v,JSON.stringify(E)),f||a(E)},N=>{console.error("Error loading school data:",N),f||u("Failed to load school information. Please try refreshing the page."),f||a(null)});return()=>S()}finally{f||c(!1)}})();return()=>{f=!0,m&&m()}},[t,e==null?void 0:e.id,e==null?void 0:e.schoolId,e==null?void 0:e.role]),i.jsx(BT.Provider,{value:{school:s,schoolLoading:o,schoolError:h},children:n})},cc=()=>{const n=ee.useContext(BT);if(!n)throw new Error("useSchool must be used within a SchoolProvider");return n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PP=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),kP=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),Q5=n=>{const e=kP(n);return e.charAt(0).toUpperCase()+e.slice(1)},CT=(...n)=>n.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim(),MP=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var HP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VP=ee.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:a="",children:o,iconNode:c,...h},u)=>ee.createElement("svg",{ref:u,...HP,width:e,height:e,stroke:n,strokeWidth:s?Number(t)*24/Number(e):t,className:CT("lucide",a),...!o&&!MP(h)&&{"aria-hidden":"true"},...h},[...c.map(([f,A])=>ee.createElement(f,A)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=(n,e)=>{const t=ee.forwardRef(({className:s,...a},o)=>ee.createElement(VP,{ref:o,iconNode:e,className:CT(`lucide-${PP(Q5(n))}`,`lucide-${n}`,s),...a}));return t.displayName=Q5(n),t};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KP=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],O5=an("activity",KP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],GP=an("arrow-down-right",zP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ST=an("arrow-left",$P);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],WP=an("arrow-right",YP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],NT=an("arrow-up-right",XP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JP=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]],qP=an("badge-dollar-sign",JP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Qp=an("bell",ZP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Dl=an("book-open",ek);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tk=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],nk=an("book",tk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sk=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],rk=an("building-2",sk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],Op=an("building",ak);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ik=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],ok=an("calendar-days",ik);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lk=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ol=an("calendar",lk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ak=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V9",key:"uvy0l4"}],["path",{d:"M19 21V3",key:"11j9sm"}]],ck=an("chart-no-axes-column-increasing",Ak);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uk=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],mv=an("chart-no-axes-column",uk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dk=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],hk=an("chart-pie",dk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Pp=an("check",fk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mk=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ET=an("chevron-right",mk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ab=an("circle-alert",pk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gk=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],_A=an("circle-check-big",gk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],kh=an("circle-x",vk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xk=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],Yv=an("clipboard-check",xk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yk=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Rd=an("clock",yk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bk=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],wk=an("coffee",bk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jk=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],P5=an("copy",jk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bk=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],TT=an("credit-card",Bk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ck=[["path",{d:"M11 20H2",key:"nlcfvz"}],["path",{d:"M11 4.562v16.157a1 1 0 0 0 1.242.97L19 20V5.562a2 2 0 0 0-1.515-1.94l-4-1A2 2 0 0 0 11 4.561z",key:"au4z13"}],["path",{d:"M11 4H8a2 2 0 0 0-2 2v14",key:"74r1mk"}],["path",{d:"M14 12h.01",key:"1jfl7z"}],["path",{d:"M22 20h-3",key:"vhrsz"}]],Sk=an("door-open",Ck);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nk=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Wv=an("download",Nk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],Tk=an("ellipsis",Ek);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ik=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],IT=an("eye-off",Ik);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _k=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Xd=an("eye",_k);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fk=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Mh=an("file-text",Fk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uk=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],_T=an("funnel",Uk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rk=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Am=an("graduation-cap",Rk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dk=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Lk=an("history",Dk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qk=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Hy=an("layout-dashboard",Qk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ok=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Vy=an("loader-circle",Ok);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pk=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],kk=an("log-out",Pk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mk=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Hk=an("mail",Mk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vk=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Kk=an("map-pin",Vk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zk=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],Gk=an("megaphone",zk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $k=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Yk=an("menu",$k);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wk=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Xk=an("message-square",Wk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jk=[["path",{d:"M5 12h14",key:"1ays0h"}]],k5=an("minus",Jk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qk=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]],Ky=an("octagon-alert",qk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zk=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],eM=an("pen",Zk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],nM=an("pencil",tM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],rM=an("phone",sM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],cm=an("plus",aM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],FT=an("refresh-ccw",iM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],og=an("refresh-cw",oM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],sA=an("save",lM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],cb=an("search",AM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cM=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Zw=an("settings",cM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uM=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],M5=an("shield-alert",uM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],hM=an("shield-check",dM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fM=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],e2=an("shield",fM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],UT=an("sparkles",mM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],H5=an("square-check-big",pM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gM=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],t2=an("square-pen",gM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vM=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],V5=an("square",vM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xM=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],yM=an("toggle-left",xM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],wM=an("toggle-right",bM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jM=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ic=an("trash-2",jM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BM=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],K5=an("trending-down",BM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Sd=an("trending-up",CM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ll=an("triangle-alert",SM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],EM=an("trophy",NM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],n2=an("user-plus",TM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],RT=an("user",IM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ll=an("users",_M);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FM=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],DT=an("wallet",FM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UM=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],z5=an("wrench",UM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],fo=an("x",RM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DM=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],LM=an("zap",DM);class QM extends ee.Component{constructor(){super(...arguments),this.state={hasError:!1},this.handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("ErrorBoundary caught an error:",e,t),this.setState({error:e,errorInfo:t})}render(){var e;return this.state.hasError?this.props.fallback?this.props.fallback:i.jsx("div",{className:"min-h-[400px] flex items-center justify-center p-8",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-red-200 p-8 max-w-md w-full text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(Ll,{className:"w-8 h-8 text-red-600"})}),i.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"Something went wrong"}),i.jsx("p",{className:"text-slate-600 mb-6",children:"We encountered an unexpected error. Please try refreshing the page or contact support if the problem persists."}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("button",{onClick:this.handleReset,className:"w-full flex items-center justify-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[i.jsx(og,{size:16,className:"mr-2"}),"Try Again"]}),i.jsx("button",{onClick:()=>window.location.reload(),className:"w-full px-4 py-2 bg-slate-100 text-slate-700 rounded-lg hover:bg-slate-200 transition-colors",children:"Refresh Page"})]}),this.state.error&&i.jsxs("details",{className:"mt-4 text-left",children:[i.jsx("summary",{className:"cursor-pointer text-sm text-slate-500 hover:text-slate-700",children:"Error Details (Development)"}),i.jsxs("pre",{className:"mt-2 p-3 bg-slate-100 rounded text-xs text-slate-800 overflow-auto max-h-40",children:[this.state.error?this.state.error.toString():"Error details not available",(e=this.state.errorInfo)==null?void 0:e.componentStack]})]})]})}):this.props.children}}const ub=""+new URL("apple-icon-180x180-CeJtO7PD.png",import.meta.url).href,OM=()=>{const{isAuthenticated:n,loading:e,error:t}=$o(),s=gg(),[a,o]=ee.useState(""),[c,h]=ee.useState(""),[u,f]=ee.useState(!1),[A,m]=ee.useState(""),[v,g]=ee.useState(!1),[b,S]=ee.useState("");ee.useEffect(()=>{n&&!e&&s("/",{replace:!0})},[n,e,s]);const N=async F=>{F.preventDefault(),f(!0),m("");try{await QD(gu,a,c)}catch(D){console.error(D);let P="Failed to sign in.";D.code==="auth/invalid-credential"||D.code==="auth/user-not-found"||D.code==="auth/wrong-password"?P="Invalid email or password.":D.code==="auth/too-many-requests"&&(P="Too many failed attempts. Please try again later."),m(P),f(!1)}},E=async F=>{if(F.preventDefault(),f(!0),m(""),S(""),!a){m("Please enter your email address to reset password."),f(!1);return}try{await LD(gu,a),S("Password reset link has been sent to your email."),m("")}catch(D){console.error(D);let P="Failed to send reset email.";D.code==="auth/user-not-found"?P="No account found with this email address.":D.code==="auth/invalid-email"&&(P="Please enter a valid email address."),m(P)}finally{f(!1)}},I=()=>{g(!v),m(""),S(""),h("")};return e?i.jsx("div",{className:"min-h-screen bg-slate-100 flex items-center justify-center",children:i.jsx("div",{className:"text-red-900 animate-pulse font-semibold",children:"Loading School Manager GH..."})}):i.jsxs("div",{className:"min-h-screen relative overflow-hidden bg-gradient-to-br from-[#E6F0FA] via-[#E6F0FA] to-[#E6F0FA] flex items-center justify-center p-4",children:[i.jsx("style",{children:`
        @keyframes loginGradientShift {
          0% { background-position: 0% 50%; }
          50% { background-position: 100% 50%; }
          100% { background-position: 0% 50%; }
        }
        @keyframes floatBlob {
          0% { transform: translate3d(0, 0, 0) scale(1); }
          50% { transform: translate3d(20px, -30px, 0) scale(1.08); }
          100% { transform: translate3d(0, 0, 0) scale(1); }
        }
        @keyframes floatBlobReverse {
          0% { transform: translate3d(0, 0, 0) scale(1); }
          50% { transform: translate3d(-25px, 25px, 0) scale(1.05); }
          100% { transform: translate3d(0, 0, 0) scale(1); }
        }
      `}),i.jsx("div",{className:"absolute inset-0 opacity-70 pointer-events-none",style:{backgroundImage:"linear-gradient(120deg, rgba(11,143,165,0.14), rgba(216,241,244,0.35), rgba(4,107,126,0.12))",backgroundSize:"200% 200%",animation:"loginGradientShift 18s ease-in-out infinite"},"aria-hidden":"true"}),i.jsx("div",{className:"absolute -top-24 -left-24 w-80 h-80 bg-[#E6F0FA]/35 rounded-full blur-3xl pointer-events-none",style:{animation:"floatBlob 16s ease-in-out infinite"},"aria-hidden":"true"}),i.jsx("div",{className:"absolute top-1/3 -right-28 w-96 h-96 bg-[#1160A8]/25 rounded-full blur-3xl pointer-events-none",style:{animation:"floatBlobReverse 20s ease-in-out infinite"},"aria-hidden":"true"}),i.jsx("div",{className:"absolute -bottom-28 left-1/4 w-72 h-72 bg-[#E6F0FA]/60 rounded-full blur-3xl pointer-events-none",style:{animation:"floatBlob 22s ease-in-out infinite"},"aria-hidden":"true"}),i.jsxs("div",{className:"max-w-md w-full bg-white rounded-xl shadow-xl p-8 border-t-8 border-[#0B4A82]",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("div",{className:"mx-auto w-28 h-28 mb-4 relative p-2 bg-white rounded-full shadow-sm border border-[#E6F0FA]",children:i.jsx("img",{src:ub,alt:"School Manager GH Logo",className:"w-full h-full object-contain rounded-full",onError:F=>{F.currentTarget.style.display="none",F.currentTarget.parentElement.innerHTML='<div class="w-24 h-24 bg-[#0B4A82] rounded-full flex items-center justify-center text-[#E6F0FA] font-bold border-4 border-[#1160A8] text-xs text-center p-1">School Manager GH</div>'}})}),i.jsx("h1",{className:"text-2xl font-bold text-[#0B4A82] font-serif",children:"School Manager GH"}),i.jsx("p",{className:"text-slate-500 mt-2 text-sm",children:v?"Reset your password":"Sign in to manage the system"})]}),t&&i.jsxs("div",{className:"mb-6 p-4 bg-red-50 text-red-800 text-sm rounded-lg border border-red-200 flex items-start",children:[i.jsx(Ab,{className:"w-5 h-5 mr-2 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("span",{className:"font-bold block mb-1",children:"System Error"}),t]})]}),A&&i.jsxs("div",{className:"mb-4 p-3 bg-red-50 text-red-600 text-sm rounded-lg border border-red-100 flex items-center",children:[i.jsx(Ab,{size:16,className:"mr-2 flex-shrink-0"}),A]}),b&&i.jsxs("div",{className:"mb-4 p-3 bg-emerald-50 text-emerald-700 text-sm rounded-lg border border-emerald-100 flex items-center",children:[i.jsx(_A,{size:16,className:"mr-2 flex-shrink-0"}),b]}),v?i.jsxs("form",{onSubmit:E,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Email Address"}),i.jsx("input",{type:"email",value:a,onChange:F=>o(F.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-[#1160A8] focus:border-[#1160A8] outline-none transition-all",placeholder:"Enter your registered email",required:!0}),i.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"We'll send you a link to reset your password."})]}),i.jsx("button",{type:"submit",disabled:u,className:`w-full py-3 px-4 bg-[#1160A8] hover:bg-[#0B4A82] text-white font-bold rounded-lg transition-colors shadow-md flex justify-center items-center ${u?"opacity-70 cursor-not-allowed":""}`,children:u?"Sending...":"Send Reset Link"}),i.jsxs("button",{type:"button",onClick:I,className:"w-full text-center text-sm text-slate-600 hover:text-[#0B4A82] font-medium flex items-center justify-center mt-4",children:[i.jsx(ST,{size:16,className:"mr-1"})," Back to Sign In"]})]}):i.jsxs("form",{onSubmit:N,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Email Address"}),i.jsx("input",{type:"email",value:a,onChange:F=>o(F.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-[#1160A8] focus:border-[#1160A8] outline-none transition-all",placeholder:"e.g., admin@school.com",required:!0})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between items-center mb-1",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700",children:"Password"}),i.jsx("button",{type:"button",onClick:I,className:"text-xs text-[#1160A8] hover:text-[#0B4A82] font-medium",children:"Forgot Password?"})]}),i.jsx("input",{type:"password",value:c,onChange:F=>h(F.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-[#1160A8] focus:border-[#1160A8] outline-none transition-all",placeholder:"Enter your password",required:!0})]}),i.jsx("button",{type:"submit",disabled:u,className:`w-full py-3 px-4 bg-[#0B4A82] hover:bg-[#0B4A82] text-white font-bold rounded-lg transition-colors shadow-md flex justify-center items-center ${u?"opacity-70 cursor-not-allowed":""}`,children:u?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Signing in..."]}):"Sign In"})]}),i.jsx("div",{className:"mt-8 pt-6 border-t border-slate-100 text-center",children:i.jsxs("p",{className:"text-xs text-slate-400",children:[" ",new Date().getFullYear()," School Manager GH  Empowering Excellence"]})})]})]})},ho="2023-2024",Pi=1,Un=[{id:"c_n1",name:"Nursery 1",level:"NURSERY"},{id:"c_n2",name:"Nursery 2",level:"NURSERY"},{id:"c_kg1",name:"KG 1",level:"KG"},{id:"c_kg2",name:"KG 2",level:"KG"},{id:"c_p1",name:"Class 1",level:"PRIMARY"},{id:"c_p2",name:"Class 2",level:"PRIMARY"},{id:"c_p3",name:"Class 3",level:"PRIMARY"},{id:"c_p4",name:"Class 4",level:"PRIMARY"},{id:"c_p5",name:"Class 5",level:"PRIMARY"},{id:"c_p6",name:"Class 6",level:"PRIMARY"},{id:"c_jhs1",name:"JHS 1",level:"JHS"},{id:"c_jhs2",name:"JHS 2",level:"JHS"},{id:"c_jhs3",name:"JHS 3",level:"JHS"}],PM=["Language & Literacy","Numeracy","Environmental Studies","Creative Arts","Physical Development","Social & Emotional Development","Rhymes, Songs & Storytelling"],kM=["Literacy & Language","Numeracy","OWOP","Creative Art","Physical Education"],MM=["English Language","Mathematics","Science","ICT","Religious & Moral Education (RME)","Ghanaian Language","Our World Our People (OWOP)","Creative Arts","Physical Education"],HM=["English Language","Mathematics","Integrated Science","Social Studies","Religious & Moral Education (RME)","ICT","French","Ghanaian Language","Creative Arts & Design","Physical Education","Career Technology","Computing / Coding"],um=n=>n>=80?{total:n,grade:"A",remark:"Excellent"}:n>=70?{total:n,grade:"B",remark:"Very Good"}:n>=60?{total:n,grade:"C",remark:"Good"}:n>=45?{total:n,grade:"D",remark:"Pass"}:{total:n,grade:"F",remark:"Fail"},nc=n=>{const e=(n.testScore||0)+(n.homeworkScore||0)+(n.projectScore||0),t=(n.examScore||0)*.5;return Math.round(e+t)},Rg=n=>{switch(n){case"A":return"text-green-600 bg-green-100";case"B":return"text-red-600 bg-red-100";case"C":return"text-yellow-600 bg-yellow-100";case"D":return"text-orange-600 bg-orange-100";default:return"text-red-600 bg-red-100"}};class VM{async getCollection(e){return(await es(Wn(Et,e))).docs.map(s=>s.data())}requireSchoolId(e,t="operation"){if(!e)throw new Error(`schoolId is required for ${t}`);return e}async getCollectionBySchoolId(e,t){const s=this.requireSchoolId(t,`getCollectionBySchoolId(${e})`),a=Zn(Wn(Et,e),Zt("schoolId","==",s));return(await es(a)).docs.map(c=>c.data())}async getSchoolConfig(e){const t=this.requireSchoolId(e,"getSchoolConfig"),s=Vn(Et,"settings",t),a=await ju(s);return a.exists()?{...a.data(),schoolId:t}:{schoolId:t,schoolName:"New School",academicYear:ho,currentTerm:`Term ${Pi}`,headTeacherRemark:"Keep it up.",termEndDate:"",schoolReopenDate:"",vacationDate:"",nextTermBegins:"",termTransitionProcessed:!1}}async updateSchoolConfig(e){const t=this.requireSchoolId(e.schoolId,"updateSchoolConfig");await vi(Vn(Et,"settings",t),e)}async getUsers(e){const t=this.requireSchoolId(e,"getUsers"),s=Zn(Wn(Et,"users"),Zt("schoolId","==",t));return(await es(s)).docs.map(o=>({id:o.id,...o.data()}))}async addUser(e){await vi(Vn(Et,"users",e.id),e)}async deleteUser(e){await yi(Vn(Et,"users",e))}async updateUserAssignedClasses(e,t){await Lp(Vn(Et,"users",e),{assignedClassIds:t})}async getStudents(e,t){const s=this.requireSchoolId(e,"getStudents"),a=Wn(Et,"students"),o=[Zt("schoolId","==",s)];t&&o.push(Zt("classId","==",t));const c=Zn(a,...o);return(await es(c)).docs.map(u=>u.data())}async addStudent(e){this.requireSchoolId(e.schoolId,"addStudent"),await vi(Vn(Et,"students",e.id),e)}async updateStudent(e){this.requireSchoolId(e.schoolId,"updateStudent"),await Lp(Vn(Et,"students",e.id),{...e,...e.schoolId?{schoolId:e.schoolId}:{}})}async deleteStudent(e){await yi(Vn(Et,"students",e))}async getSubjects(e,t){const s=this.requireSchoolId(e,"getSubjects");if(!t)return[];const a=Zn(Wn(Et,"class_subjects"),Zt("schoolId","==",s),Zt("classId","==",t)),o=await es(a);return o.empty?[]:o.docs[0].data().subjects}async addSubject(e,t,s){const a=this.requireSchoolId(s,"addSubject"),o=await this.getSubjects(a,e);o.includes(t)||await vi(Vn(Et,"class_subjects",`${a}_${e}`),{schoolId:a,classId:e,subjects:[...o,t]})}async updateSubject(e,t,s,a){const o=this.requireSchoolId(a,"updateSubject"),c=await this.getSubjects(o,e),h=c.indexOf(t);h!==-1&&(c[h]=s,await vi(Vn(Et,"class_subjects",`${o}_${e}`),{schoolId:o,classId:e,subjects:c}))}async deleteSubject(e,t,s){const a=this.requireSchoolId(s,"deleteSubject"),c=(await this.getSubjects(a,e)).filter(h=>h!==t);await vi(Vn(Et,"class_subjects",`${a}_${e}`),{schoolId:a,classId:e,subjects:c})}async seedClassSubjects(e,t,s){const a=this.requireSchoolId(s,"seedClassSubjects");await vi(Vn(Et,"class_subjects",`${a}_${e}`),{schoolId:a,classId:e,subjects:t})}async resetAllClassSubjects(e){const t=this.requireSchoolId(e,"resetAllClassSubjects"),s=Zn(Wn(Et,"class_subjects"),Zt("schoolId","==",t)),o=(await es(s)).docs.map(c=>yi(Vn(Et,"class_subjects",c.id)));await Promise.all(o)}async getAttendance(e,t,s){const a=this.requireSchoolId(e,"getAttendance");if(!t||!s)return;const o=Zn(Wn(Et,"attendance"),Zt("schoolId","==",a),Zt("classId","==",t),Zt("date","==",s)),c=await es(o);return c.empty?void 0:c.docs[0].data()}async getClassAttendance(e,t){const s=this.requireSchoolId(e,"getClassAttendance");if(!t)return[];const a=Zn(Wn(Et,"attendance"),Zt("schoolId","==",s),Zt("classId","==",t));return(await es(a)).docs.map(c=>c.data())}async saveAttendance(e){const s=`${this.requireSchoolId(e.schoolId,"saveAttendance")}_${e.classId}_${e.date}`;await vi(Vn(Et,"attendance",s),{...e,id:s})}async getAssessments(e,t,s){const a=this.requireSchoolId(e,"getAssessments");if(!t||!s)return[];const o=Zn(Wn(Et,"assessments"),Zt("schoolId","==",a),Zt("classId","==",t),Zt("subject","==",s));return(await es(o)).docs.map(h=>h.data())}async getAllAssessments(e){return this.getCollectionBySchoolId("assessments",e)}async saveAssessment(e){const t=this.requireSchoolId(e.schoolId,"saveAssessment"),s=e.id||`${t}_${e.studentId}_${e.subject}_${e.term}_${e.academicYear}`;await vi(Vn(Et,"assessments",s),{...e,id:s})}async resetAssessmentsForClass(e,t,s=!1,a){const o=this.requireSchoolId(e,"resetAssessmentsForClass");if(!t)return;const c=Zn(Wn(Et,"assessments"),Zt("schoolId","==",o),Zt("classId","==",t)),u=(await es(c)).docs.map(f=>yi(Vn(Et,"assessments",f.id)));if(await Promise.all(u),s){const f=await this.getStudents(o,t),A=await this.getSubjects(o,t),m=[],v=a||Pi;for(const g of f)for(const b of A){const S=`${g.id}_${b}_${Date.now()}_${Math.random().toString(36).slice(2,6)}`,N={id:S,schoolId:o,studentId:g.id,classId:t,term:v,academicYear:ho,subject:b,testScore:0,homeworkScore:0,projectScore:0,examScore:0,total:0};m.push(vi(Vn(Et,"assessments",S),N))}await Promise.all(m)}}async getNotices(e){const t=this.requireSchoolId(e,"getNotices"),s=Zn(Wn(Et,"notices"),Zt("schoolId","==",t));return(await es(s)).docs.map(o=>o.data())}async addNotice(e){this.requireSchoolId(e.schoolId,"addNotice"),await vi(Vn(Et,"notices",e.id),e)}async deleteNotice(e){await yi(Vn(Et,"notices",e))}async getStudentRemarks(e,t){const s=this.requireSchoolId(e,"getStudentRemarks");if(!t)return[];const a=Zn(Wn(Et,"student_remarks"),Zt("schoolId","==",s),Zt("classId","==",t));return(await es(a)).docs.map(c=>c.data())}async saveStudentRemark(e){this.requireSchoolId(e.schoolId,"saveStudentRemark"),await vi(Vn(Et,"student_remarks",e.id),e)}async getStudentSkills(e,t){const s=this.requireSchoolId(e,"getStudentSkills");if(!t)return[];const a=Zn(Wn(Et,"student_skills"),Zt("schoolId","==",s),Zt("classId","==",t));return(await es(a)).docs.map(c=>c.data())}async saveStudentSkills(e){this.requireSchoolId(e.schoolId,"saveStudentSkills"),await vi(Vn(Et,"student_skills",e.id),e)}async addSystemNotification(e,t,s){const a=this.requireSchoolId(s,"addSystemNotification"),o=`${a}_${Date.now()}`,c={id:o,schoolId:a,message:e,createdAt:Date.now(),isRead:!1,type:t};await vi(Vn(Et,"admin_notifications",o),c)}async getSystemNotifications(e){const t=this.requireSchoolId(e,"getSystemNotifications"),s=Zn(Wn(Et,"admin_notifications"),Zt("schoolId","==",t),pu(20));return(await es(s)).docs.map(o=>o.data()).sort((o,c)=>(c.createdAt??0)-(o.createdAt??0))}async markNotificationAsRead(e){await Lp(Vn(Et,"admin_notifications",e),{isRead:!0})}async deleteSystemNotification(e){await yi(Vn(Et,"admin_notifications",e))}async getTimetable(e,t){const s=this.requireSchoolId(e,"getTimetable");if(!t)return;const a=Zn(Wn(Et,"timetables"),Zt("schoolId","==",s),Zt("classId","==",t),pu(1)),o=await es(a);return o.empty?void 0:o.docs[0].data()}async saveTimetable(e){const t=this.requireSchoolId(e.schoolId,"saveTimetable");await vi(Vn(Et,"timetables",`${t}_${e.classId}`),{...e,schoolId:t})}async getStudentPerformance(e,t,s){const a=await this.getClassAttendance(e,s),o=a.length,c=a.filter(S=>S.presentStudentIds.includes(t)).length,h=o===0?0:Math.round(c/o*100),u=a.map(S=>S.date).sort(),f=a.filter(S=>S.presentStudentIds.includes(t)).map(S=>S.date).sort(),A=Zn(Wn(Et,"assessments"),Zt("schoolId","==",e),Zt("studentId","==",t)),v=(await es(A)).docs.map(S=>S.data()).filter(S=>!0),b=(await this.getSubjects(e,s)).map(S=>{const N=v.find(E=>E.subject===S);return N||{subject:S,total:0}});return{attendance:{total:o,present:c,percentage:h,schoolDates:u,presentDates:f},grades:b}}async getDashboardStats(e){const t=this.requireSchoolId(e,"getDashboardStats"),[s,a,o]=await Promise.all([es(Zn(Wn(Et,"students"),Zt("schoolId","==",t))),es(Zn(Wn(Et,"users"),Zt("schoolId","==",t))),es(Zn(Wn(Et,"attendance"),Zt("schoolId","==",t)))]),c=s.docs.map(v=>v.data()),h=a.docs.map(v=>v.data()),u=o.docs.map(v=>v.data()),f=c.filter(v=>v.gender==="Male").length,A=c.filter(v=>v.gender==="Female").length,m=Un.map(v=>{const g=u.filter(S=>S.classId===v.id),b=c.filter(S=>S.classId===v.id);if(g.length>0&&b.length>0){const S=g.length*b.length,N=g.reduce((I,F)=>I+F.presentStudentIds.length,0),E=Math.round(N/S*100);return{className:v.name,percentage:E,id:v.id}}return{className:v.name,percentage:0,id:v.id}});return{studentsCount:c.length,teachersCount:h.filter(v=>v.role===ms.TEACHER).length,gender:{male:f,female:A},classAttendance:m}}async getTeacherAttendance(e,t,s){const a=this.requireSchoolId(e,"getTeacherAttendance");if(!t||!s)return;const o=Zn(Wn(Et,"teacher_attendance"),Zt("schoolId","==",a),Zt("teacherId","==",t),Zt("date","==",s)),c=await es(o);return c.empty?void 0:c.docs[0].data()}async getAllTeacherAttendance(e,t){const s=this.requireSchoolId(e,"getAllTeacherAttendance");if(!t)return[];const a=Zn(Wn(Et,"teacher_attendance"),Zt("schoolId","==",s),Zt("date","==",t));return(await es(a)).docs.map(c=>c.data())}async saveTeacherAttendance(e){const s=`${this.requireSchoolId(e.schoolId,"saveTeacherAttendance")}_${e.teacherId}_${e.date}`;await vi(Vn(Et,"teacher_attendance",s),{...e,id:s})}async getAllTeacherAttendanceRecords(e){return this.getCollectionBySchoolId("teacher_attendance",e)}async resetAllTeacherAttendance(e){const t=this.requireSchoolId(e,"resetAllTeacherAttendance"),s=Zn(Wn(Et,"teacher_attendance"),Zt("schoolId","==",t)),o=(await es(s)).docs.map(c=>yi(Vn(Et,"teacher_attendance",c.id)));await Promise.all(o)}async getAdminRemark(e,t){const s=this.requireSchoolId(e,"getAdminRemark");if(!t)return;const a=Vn(Et,"admin_remarks",t),o=await ju(a);if(!o.exists())return;const c=o.data();return c.schoolId===s?c:void 0}async saveAdminRemark(e){this.requireSchoolId(e.schoolId,"saveAdminRemark"),await vi(Vn(Et,"admin_remarks",e.id),e)}async createTermBackup(e,t,s){console.log(`Creating backup for ${t}, ${s}...`);try{const a=this.requireSchoolId(e.schoolId,"createTermBackup"),[o,c,h,u,f,A,m,v,g,b,S,N]=await Promise.all([this.getCollectionBySchoolId("students",a),this.getCollectionBySchoolId("users",a),this.getCollectionBySchoolId("attendance",a),this.getCollectionBySchoolId("teacher_attendance",a),this.getCollectionBySchoolId("assessments",a),this.getCollectionBySchoolId("student_remarks",a),this.getCollectionBySchoolId("admin_remarks",a),this.getCollectionBySchoolId("student_skills",a),this.getCollectionBySchoolId("timetables",a),this.getCollectionBySchoolId("notices",a),this.getCollectionBySchoolId("admin_notifications",a),this.getCollectionBySchoolId("activity_logs",a)]),I=(await es(Zn(Wn(Et,"class_subjects"),Zt("schoolId","==",a)))).docs.map(D=>D.data()),F={id:`backup_${Date.now()}`,schoolId:a,timestamp:Date.now(),term:t,academicYear:s,data:{schoolConfig:e,students:o,attendanceRecords:h,teacherAttendanceRecords:u,assessments:f,studentRemarks:A,adminRemarks:m,studentSkills:v,timetables:g,users:c,classSubjects:I,notices:b,adminNotifications:S,activityLogs:N}};await vi(Vn(Et,"backups",F.id),F),console.log(`Backup created successfully: ${F.id}`)}catch(a){throw console.error("Error creating backup:",a),a}}async resetForNewTerm(e){console.log("Initiating term transition for:",e.currentTerm,e.academicYear),await this.createTermBackup(e,e.currentTerm,e.academicYear);const t=Un.map(f=>f.id),s=this.requireSchoolId(e.schoolId,"resetForNewTerm"),a=[(async()=>{const f=Zn(Wn(Et,"attendance"),Zt("schoolId","==",s)),m=(await es(f)).docs.map(v=>yi(Vn(Et,"attendance",v.id)));await Promise.all(m),console.log("Cleared student attendance records.")})(),this.resetAllTeacherAttendance(s),(async()=>{const f=Zn(Wn(Et,"student_remarks"),Zt("schoolId","==",s)),m=(await es(f)).docs.map(v=>yi(Vn(Et,"student_remarks",v.id)));await Promise.all(m),console.log("Cleared student remarks.")})(),(async()=>{const f=Zn(Wn(Et,"student_skills"),Zt("schoolId","==",s)),m=(await es(f)).docs.map(v=>yi(Vn(Et,"student_skills",v.id)));await Promise.all(m),console.log("Cleared student skills.")})(),(async()=>{const f=Zn(Wn(Et,"admin_remarks"),Zt("schoolId","==",s)),m=(await es(f)).docs.map(v=>yi(Vn(Et,"admin_remarks",v.id)));await Promise.all(m),console.log("Cleared admin remarks.")})(),(async()=>{const f=Zn(Wn(Et,"admin_notifications"),Zt("schoolId","==",s)),m=(await es(f)).docs.map(v=>yi(Vn(Et,"admin_notifications",v.id)));await Promise.all(m),console.log("Cleared system notifications.")})(),(async()=>{const f=Zn(Wn(Et,"notices"),Zt("schoolId","==",s)),m=(await es(f)).docs.map(v=>yi(Vn(Et,"notices",v.id)));await Promise.all(m),console.log("Cleared notices.")})()];await Promise.all(a);let o=1,c=e.academicYear;const h=parseInt(e.currentTerm.split(" ")[1]);if(h===3){o=1;const f=e.academicYear.split("-").map(Number);c=`${f[0]+1}-${f[1]+1}`}else o=h+1;for(const f of t)await this.resetAssessmentsForClass(e.schoolId,f,!0,o),console.log(`Reset and re-seeded assessments for class: ${f} with term ${o}`);const u={...e,currentTerm:`Term ${o}`,academicYear:c,termTransitionProcessed:!0,schoolReopenDate:e.nextTermBegins||"",vacationDate:"",nextTermBegins:""};await this.updateSchoolConfig(u),console.log("SchoolConfig updated for new term:",`Term ${o}`,c)}async getTeacherAttendanceAnalytics(e,t,s){const a=this.requireSchoolId(e,"getTeacherAttendanceAnalytics"),o=await this.getSchoolConfig(a);if(!t&&!o.schoolReopenDate)return[];const h=(await this.getUsers(a)).filter(b=>b.role===ms.TEACHER),u=await this.getAllTeacherAttendanceRecords(a),A=`${(o.academicYear||ho).split("-")[0]}-09-01`,m=t||o.schoolReopenDate||A,v=s||new Date().toISOString().split("T")[0],g=[];for(const b of h){const N=u.filter(K=>K.teacherId===b.id).filter(K=>K.date>=m&&K.date<=v),E={};N.forEach(K=>{const L=new Date(K.date),Q=`${L.getFullYear()}-${String(L.getMonth()+1).padStart(2,"0")}`;E[Q]||(E[Q]={total:0,present:0}),E[Q].total+=1,K.status==="present"&&(E[Q].present+=1)});const I=Object.entries(E).map(([K,L])=>{const[Q,R]=K.split("-"),M=L.total>0?Math.round(L.present/L.total*100):0;return{teacherId:b.id,teacherName:b.fullName,month:K,year:parseInt(Q),totalWorkingDays:L.total,presentDays:L.present,absentDays:L.total-L.present,attendanceRate:M,trend:"stable"}}).sort((K,L)=>K.month.localeCompare(L.month));for(let K=0;K<I.length;K++)if(K>0){const L=I[K].attendanceRate,Q=I[K-1].attendanceRate;L>Q+5?I[K].trend="improving":L<Q-5?I[K].trend="declining":I[K].trend="stable"}const F=I.reduce((K,L)=>K+L.totalWorkingDays,0),D=I.reduce((K,L)=>K+L.presentDays,0),P=F>0?Math.round(D/F*100):0;g.push({teacherId:b.id,teacherName:b.fullName,overallAttendance:P,monthlyBreakdown:I,termStartDate:m,vacationDate:v!==new Date().toISOString().split("T")[0]?v:void 0})}return g}async getBackups(e){const t=this.requireSchoolId(e==null?void 0:e.schoolId,"getBackups");let s=Zn(Wn(Et,"backups"),Zt("schoolId","==",t));const a=[];if(e!=null&&e.term&&a.push(Zt("term","==",e.term)),e!=null&&e.academicYear&&a.push(Zt("academicYear","==",e.academicYear)),e!=null&&e.date){const c=new Date(e.date).getTime(),h=c+1440*60*1e3-1;a.push(Zt("timestamp",">=",c),Zt("timestamp","<=",h))}return a.length>0&&(s=Zn(s,...a)),(await es(s)).docs.map(c=>c.data())}async getBackupDetails(e,t){const s=this.requireSchoolId(e,"getBackupDetails");if(!t)return;const a=await ju(Vn(Et,"backups",t));if(!a.exists())return;const o=a.data();return o.schoolId===s?o:void 0}async deleteBackup(e,t){const s=this.requireSchoolId(e,"deleteBackup");!t||!await this.getBackupDetails(s,t)||await yi(Vn(Et,"backups",t))}async deleteAllBackups(e){const t=this.requireSchoolId(e,"deleteAllBackups"),s=Zn(Wn(Et,"backups"),Zt("schoolId","==",t)),o=(await es(s)).docs.map(c=>yi(Vn(Et,"backups",c.id)));await Promise.all(o)}}const ut=new VM,KM=({toast:n,onClose:e})=>{ee.useEffect(()=>{const s=setTimeout(()=>e(n.id),n.duration);return()=>clearTimeout(s)},[n,e]);const t=n.type==="success"?"bg-emerald-50 border-emerald-200 text-emerald-800":n.type==="error"?"bg-red-50 border-red-200 text-red-800":"bg-[#E6F0FA] border-[#E6F0FA] text-[#0B4A82]";return i.jsx("div",{className:`max-w-sm w-full px-4 py-3 rounded-lg border shadow-md ${t} transform transition-all`,children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"flex-1 text-sm leading-tight",children:n.message}),i.jsx("button",{onClick:()=>e(n.id),className:"text-slate-400 hover:text-slate-600 ml-2","aria-label":"Close notification",children:i.jsx(fo,{size:14})})]})})},zM=()=>{const[n,e]=ee.useState([]);ee.useEffect(()=>{let s=1;const a=o=>{const{message:c,type:h,duration:u}=o.detail||{},f=s++;e(A=>[{id:f,message:c,type:h,duration:u},...A])};return window.addEventListener("app-toast",a),()=>window.removeEventListener("app-toast",a)},[]);const t=s=>e(a=>a.filter(o=>o.id!==s));return n.length===0?null:i.jsx("div",{className:"fixed right-4 top-20 z-60 flex flex-col gap-3",children:n.map(s=>i.jsx(KM,{toast:s,onClose:t},s.id))})},Xs=({children:n,title:e})=>{const{user:t,logout:s}=$o(),{school:a}=cc(),o=(a==null?void 0:a.id)||null,[c,h]=ee.useState(!1),u=Fu(),[f,A]=ee.useState([]),[m,v]=ee.useState(!1),[g,b]=ee.useState(0),S=(t==null?void 0:t.role)===ms.SCHOOL_ADMIN,N=(t==null?void 0:t.role)===ms.SUPER_ADMIN;ee.useEffect(()=>{if(S||N){const D=async()=>{try{if(!o)return;const K=await ut.getSystemNotifications(o);A(K),b(K.filter(L=>!L.isRead).length)}catch(K){console.error("Failed to fetch notifications",K)}};D();const P=setInterval(D,3e4);return()=>clearInterval(P)}},[S,N,o]);const E=async(D,P)=>{P.stopPropagation(),await ut.markNotificationAsRead(D),A(K=>K.map(L=>L.id===D?{...L,isRead:!0}:L)),b(K=>Math.max(0,K-1))},I=async(D,P)=>{P.stopPropagation();try{await ut.deleteSystemNotification(D),A(K=>K.filter(L=>L.id!==D)),b(K=>f.find(Q=>Q.id===D&&!Q.isRead)?Math.max(0,K-1):K)}catch(K){console.error("Failed to delete notification",K)}},F=({href:D,icon:P,label:K})=>{const L=u.pathname===D;return i.jsxs(wi,{to:D,className:`flex items-center px-4 py-3 transition-colors ${L?"bg-[#0B4A82] text-white border-r-4 border-[#1160A8]":"text-[#E6F0FA] hover:bg-[#1160A8] hover:text-white"}`,onClick:()=>h(!1),children:[i.jsx(P,{className:`w-5 h-5 mr-3 ${L?"text-white":"text-[#E6F0FA]"}`}),i.jsx("span",{className:"font-medium",children:K})]})};return i.jsxs("div",{className:"h-screen bg-[#fafafa] flex",children:[c&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-20 md:hidden",onClick:()=>h(!1)}),i.jsxs("aside",{className:`
        fixed inset-y-0 left-0 z-30 w-64 bg-[#0B4A82] text-white transform transition-transform duration-200 ease-in-out overflow-y-auto
        ${c?"translate-x-0":"-translate-x-full"}
        md:relative md:translate-x-0 flex flex-col shadow-xl border-r border-[#0B4A82]
      `,children:[i.jsxs("div",{className:"p-6 border-b border-[#0B4A82] bg-[#0B4A82] flex flex-col items-center justify-center relative",children:[i.jsx("button",{onClick:()=>h(!1),className:"md:hidden absolute top-4 right-4 text-[#E6F0FA] hover:text-white",children:i.jsx(fo,{size:24})}),N?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-20 h-20 mb-3 bg-white rounded-full p-1 shadow-lg border-2 border-[#E6F0FA] overflow-hidden",children:i.jsx("img",{src:ub,alt:"School Manager GH Logo",className:"w-full h-full object-contain rounded-full"})}),i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-xl font-bold text-[#E6F0FA] leading-tight tracking-wide font-serif break-words px-2",children:"Super Admin Panel"}),i.jsx("p",{className:"text-xs text-[#E6F0FA] mt-1 uppercase tracking-wider",children:"System Administration"})]})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-20 h-20 mb-3 bg-white rounded-full p-1 shadow-lg border-2 border-amber-500 overflow-hidden",children:i.jsx("img",{src:(a==null?void 0:a.logoUrl)||ub,alt:(a==null?void 0:a.name)||"School Management System",className:"w-full h-full object-contain rounded-full"})}),i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-xl font-bold text-[#E6F0FA] leading-tight tracking-wide font-serif break-words px-2",children:(a==null?void 0:a.name)||"School Management System"}),i.jsx("p",{className:"text-xs text-[#E6F0FA] mt-1 uppercase tracking-wider",children:"Management System"})]})]})]}),i.jsx("nav",{className:"flex-1 py-6 space-y-1",children:N?i.jsxs(i.Fragment,{children:[i.jsx(F,{href:"/",icon:Hy,label:"Dashboard"}),i.jsx(F,{href:"/super-admin/schools",icon:Am,label:"Schools"}),i.jsx(F,{href:"/super-admin/backups",icon:e2,label:"Backups"}),i.jsx(F,{href:"/super-admin/payments",icon:DT,label:"Payments"})]}):S?i.jsxs(i.Fragment,{children:[i.jsx(F,{href:"/",icon:Hy,label:"Dashboard"}),i.jsx(F,{href:"/admin/students",icon:Am,label:"Students"}),i.jsx(F,{href:"/admin/teachers",icon:ll,label:"Teachers"}),i.jsx(F,{href:"/admin/attendance",icon:ck,label:"Student Attendance"}),i.jsx(F,{href:"/admin/teacher-attendance",icon:Yv,label:"Teacher Attendance"}),i.jsx(F,{href:"/admin/reports",icon:Dl,label:"Reports"}),i.jsx(F,{href:"/admin/report-card",icon:Dl,label:"Report Card"}),i.jsx(F,{href:"/admin/timetable",icon:ok,label:"Timetable"}),i.jsx(F,{href:"/admin/settings",icon:Zw,label:"Settings"}),i.jsx(F,{href:"/admin/billing",icon:TT,label:"Billing"})]}):i.jsxs(i.Fragment,{children:[i.jsx(F,{href:"/",icon:Hy,label:"Dashboard"}),i.jsx(F,{href:"/teacher/my-attendance",icon:Yv,label:"My Attendance"}),i.jsx(F,{href:"/teacher/attendance",icon:ll,label:"Student Attendance"}),i.jsx(F,{href:"/teacher/assessment",icon:Dl,label:"Assessment"})]})}),i.jsxs("div",{className:"p-4 border-t border-[#0B4A82] bg-[#0B4A82]",children:[i.jsxs("div",{className:"flex items-center mb-4",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-[#1160A8] border-2 border-[#E6F0FA] flex items-center justify-center text-sm font-bold shadow-lg text-white",children:t==null?void 0:t.fullName.charAt(0)}),i.jsxs("div",{className:"ml-3",children:[i.jsx("p",{className:"text-sm font-medium text-white",children:t==null?void 0:t.fullName}),i.jsx("p",{className:"text-xs text-[#E6F0FA] capitalize",children:(t==null?void 0:t.role)===ms.SUPER_ADMIN?"Super Admin":(t==null?void 0:t.role)===ms.SCHOOL_ADMIN?"School Admin":"Teacher"})]})]}),i.jsxs("button",{onClick:s,className:"w-full flex items-center justify-center px-4 py-2 text-sm text-[#E6F0FA] hover:text-white hover:bg-[#1160A8] rounded-md transition-colors",children:[i.jsx(kk,{size:16,className:"mr-2"}),"Sign Out"]})]})]}),i.jsxs("div",{className:"flex-1 flex flex-col min-h-screen overflow-hidden",children:[i.jsxs("header",{className:"bg-white shadow-sm h-16 flex items-center justify-between px-4 md:px-8 z-10 border-b border-[#E6F0FA]",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("button",{onClick:()=>h(!0),className:"md:hidden p-2 -ml-2 text-[#0B4A82] hover:text-[#1160A8]",children:i.jsx(Yk,{size:24})}),i.jsx("h2",{className:"text-xl font-bold text-[#0B4A82] ml-2 md:ml-0",children:e})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[(S||N)&&i.jsxs("div",{className:"relative",children:[i.jsxs("button",{onClick:()=>v(!m),className:`relative p-2 transition-colors ${m?"text-[#0B4A82] bg-[#E6F0FA] rounded-full":"text-slate-400 hover:text-[#0B4A82]"}`,children:[i.jsx(Qp,{size:20}),g>0&&i.jsx("span",{className:"absolute top-1 right-1 w-2.5 h-2.5 bg-[#1160A8] rounded-full border-2 border-white"})]}),m&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>v(!1)}),i.jsxs("div",{className:"fixed right-4 top-16 w-80 sm:w-96 bg-white bg-opacity-100 rounded-xl shadow-2xl border border-slate-200 z-50 overflow-hidden",children:[i.jsxs("div",{className:"p-3 border-b border-slate-100 bg-slate-50 flex justify-between items-center",children:[i.jsx("h4",{className:"font-bold text-slate-800 text-sm",children:"Notifications"}),i.jsxs("span",{className:"text-xs text-slate-500",children:[g," unread"]})]}),i.jsx("div",{className:"max-h-80 overflow-y-auto bg-white",children:f.length===0?i.jsx("div",{className:"p-8 text-center text-slate-400 text-sm",children:"No new activity."}):f.map(D=>i.jsx("div",{className:`p-3 border-b border-slate-100 hover:bg-slate-50 transition-colors ${D.isRead?"bg-slate-50":"bg-white border-l-4 border-l-[#1160A8]"}`,children:i.jsxs("div",{className:"flex justify-between items-start gap-2",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:`text-sm leading-snug mb-1 ${D.isRead?"text-slate-500":"text-slate-800 font-medium"}`,children:D.message}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded font-bold uppercase tracking-wide ${D.isRead?"bg-slate-200 text-slate-500":"bg-[#E6F0FA] text-[#0B4A82]"}`,children:D.isRead?"Read":"Unread"}),i.jsx("span",{className:"text-[10px] text-slate-400",children:new Date(D.createdAt).toLocaleString()})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[!D.isRead&&i.jsx("button",{onClick:P=>E(D.id,P),className:"text-emerald-500 hover:text-emerald-700 p-1 hover:bg-emerald-50 rounded transition-colors shrink-0",title:"Mark as read",children:i.jsx(Pp,{size:16})}),i.jsx("button",{onClick:P=>I(D.id,P),className:"text-slate-400 hover:text-red-600 p-1 hover:bg-red-50 rounded transition-colors shrink-0",title:"Delete notification",children:i.jsx(fo,{size:16})})]})]})},D.id))})]})]})]}),i.jsx("div",{className:"h-6 w-px bg-slate-200 mx-2 hidden sm:block"}),i.jsx("div",{className:"text-sm text-slate-500 hidden sm:block font-medium",children:new Date().toLocaleDateString("en-GB",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]}),i.jsx("main",{className:"flex-1 overflow-auto p-4 md:p-8",children:n}),i.jsx(zM,{})]})]})},Mt=(n,e)=>{const t={message:n,type:(e==null?void 0:e.type)||"info",duration:(e==null?void 0:e.duration)??4e3};window.dispatchEvent(new CustomEvent("app-toast",{detail:t}))},GM=({data:n,week:e,onPreviousWeek:t,onNextWeek:s,onCurrentWeek:a,schoolReopenDate:o})=>{if(e===null)return i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-md border border-slate-100 h-full flex flex-col items-center justify-center",children:[i.jsx("div",{className:"relative w-12 h-12 border-3 border-slate-100 border-t-red-900 rounded-full animate-spin"}),i.jsx("p",{className:"text-slate-400 text-sm mt-4",children:"Loading attendance data..."})]});const{monday:c,friday:h}=LT(e),f=$M().toDateString()===c.toDateString(),A=b=>{const S=b.split("-");return S.length===3?new Date(parseInt(S[0]),parseInt(S[1])-1,parseInt(S[2])):new Date(b)};let m="",v=null;o&&(v=A(o),v>new Date?m="School Closed":m="School Open");const g=b=>new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric"}).format(b);return i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-md border border-slate-100 h-full flex flex-col",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6 pb-4 border-b border-slate-100",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-slate-800 text-lg",children:"Class Attendance"}),i.jsx("p",{className:"text-xs text-slate-500",children:"Weekly participation overview"})]}),m&&i.jsx("div",{className:`text-xs font-bold px-3 py-1 rounded-full ${m==="School Closed"?"bg-red-100 text-red-700":"bg-emerald-100 text-emerald-700"}`,children:m})]}),i.jsxs("div",{className:"mb-6 p-4 bg-gradient-to-r from-red-50 to-amber-50 rounded-xl border border-red-100",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("button",{onClick:t,className:"flex items-center justify-center w-10 h-10 rounded-lg bg-white border border-slate-200 hover:bg-slate-50 hover:border-red-400 transition-colors shadow-sm text-slate-600 hover:text-red-700 font-semibold",title:"Previous week",children:""}),i.jsx("div",{className:"flex-1 mx-4 text-center",children:i.jsxs("div",{className:"flex flex-col items-center gap-1",children:[i.jsxs("p",{className:"text-sm font-semibold text-slate-800",children:[g(c),"  ",g(h)]}),i.jsx("p",{className:"text-xs text-slate-500 font-medium",children:c.getFullYear()}),f&&i.jsx("span",{className:"inline-block px-2 py-0.5 bg-red-100 text-red-700 text-[10px] font-bold rounded-full mt-1 uppercase tracking-wide",children:"Current Week"})]})}),i.jsx("button",{onClick:s,disabled:f,className:"flex items-center justify-center w-10 h-10 rounded-lg bg-white border border-slate-200 hover:bg-slate-50 hover:border-red-400 transition-colors shadow-sm text-slate-600 hover:text-red-700 font-semibold disabled:opacity-40 disabled:cursor-not-allowed disabled:hover:border-slate-200 disabled:hover:text-slate-600",title:f?"You are viewing the current week":"Next week",children:""})]}),!f&&i.jsx("div",{className:"mt-3 text-center",children:i.jsx("button",{onClick:a,className:"text-xs text-red-700 hover:text-red-800 font-semibold bg-white border border-red-200 px-3 py-1.5 rounded-md hover:bg-red-50 transition-colors",children:"Return to Current Week"})})]}),m==="School Closed"&&v&&i.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:i.jsxs("p",{className:"text-sm text-red-800 font-semibold",children:["School is currently closed. Attendance records will begin from"," ",g(v)]})}),i.jsx("div",{className:"flex-1 flex items-end justify-between gap-1 sm:gap-2 px-1 pb-2 h-96 w-full overflow-x-auto",children:n.map(b=>{let S="bg-amber-500";return b.percentage<50?S="bg-red-600":b.percentage>=80&&(S="bg-emerald-500"),i.jsxs("div",{className:"flex flex-col items-center flex-1 group h-full justify-end min-w-[20px]",children:[i.jsxs("div",{className:"w-full max-w-[30px] bg-slate-50 rounded-t-sm relative flex items-end h-full hover:bg-slate-100 transition-colors",children:[i.jsxs("div",{className:"absolute -top-10 left-1/2 transform -translate-x-1/2 bg-slate-800 text-white text-[10px] py-1 px-2 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10 pointer-events-none",children:[b.className,": ",b.percentage,"%"]}),i.jsx("div",{className:`w-full ${S} rounded-t-sm transition-all duration-1000 ease-out relative`,style:{height:`${b.percentage}%`}})]}),i.jsx("span",{className:"text-[10px] text-slate-400 mt-2 font-medium truncate w-full text-center",children:b.className.replace("Nursery ","N").replace("Class ","P").replace("Primary ","P").replace("KG ","K").replace("JHS ","J")})]},b.id)})})]})},LT=n=>{const e=new Date(n),t=e.getDay(),s=new Date(e);s.setDate(e.getDate()-(t===0?6:t-1));const a=new Date(s);return a.setDate(s.getDate()+4),{monday:s,friday:a}},$M=()=>LT(new Date).monday,YM=()=>{var ln;gg();const{school:n,schoolLoading:e}=cc(),t=(n==null?void 0:n.id)||null,[s,a]=ee.useState({students:0,teachers:0,classes:Un.length,maleStudents:0,femaleStudents:0,classAttendance:[]}),[o,c]=ee.useState([]),[h,u]=ee.useState([]),[f,A]=ee.useState(!0),[m,v]=ee.useState(null),[g,b]=ee.useState(null),[S,N]=ee.useState([]),[E,I]=ee.useState([]),[F,D]=ee.useState([]),[P,K]=ee.useState([]),[L,Q]=ee.useState(!1),[R,M]=ee.useState(null),O=$b.useRef(null),[H,G]=ee.useState(Date.now()),[ie,ge]=ee.useState(0),[J,re]=ee.useState(0),[se,he]=ee.useState(0),[je,ne]=ee.useState(null),[V,W]=ee.useState(null),[ae,ce]=ee.useState({academicYear:"",currentTerm:"",schoolReopenDate:"",schoolName:"",headTeacherRemark:"",termEndDate:"",vacationDate:"",nextTermBegins:"",termTransitionProcessed:!1}),[Ae,pe]=ee.useState(null),[Se,xe]=ee.useState({A:0,B:0,C:0,D:0,F:0}),[Ie,_e]=ee.useState([]),[De,st]=ee.useState({A:[],B:[],C:[],D:[],F:[]}),[He,de]=ee.useState(null),[rt,_t]=ee.useState({}),[vt,qe]=ee.useState([]),[We,dt]=ee.useState({}),[Qt,Pt]=ee.useState({}),[Gt,sn]=ee.useState(null),[en,Nn]=ee.useState(null),[xt,St]=ee.useState(null),[$t,Ht]=ee.useState({}),Rn=async()=>{var Le,Rt;A(!0),v(null);try{if(!t){v("School context not loaded.");return}const Vt=await ut.getDashboardStats(t),Ft=await ut.getStudents(t),Yt=await ut.getNotices(t),Ut=await ut.getSchoolConfig(t),vn=new Date,Sn=`${vn.getFullYear()}-${String(vn.getMonth()+1).padStart(2,"0")}-${String(vn.getDate()).padStart(2,"0")}`,On=await ut.getUsers(t),dr=await ut.getAllTeacherAttendance(t,Sn),Kn=await ut.getAllTeacherAttendanceRecords(t),In=[],Us=new Date,Ss=Ut.schoolReopenDate?new Date(Ut.schoolReopenDate+"T00:00:00"):null,lr=!Ss||Us>=Ss,sr=Ut.vacationDate?new Date(Ut.vacationDate+"T00:00:00"):null;sr&&sr.setHours(0,0,0,0);const Js=Ut.nextTermBegins?new Date(Ut.nextTermBegins+"T00:00:00"):null;Us.setHours(0,0,0,0);const zs=sr&&Js&&Us>=sr&&Us<Js,Ga=5;if(lr&&!zs&&Kn.length>0){const Cn=Pn=>{if(!Pn)return null;let Wt=[];if(Pn.includes("-")){if(Wt=Pn.split("-"),Wt.length===3)return new Date(parseInt(Wt[0]),parseInt(Wt[1])-1,parseInt(Wt[2]))}else if(Pn.includes("/")&&(Wt=Pn.split("/"),Wt.length===3))return new Date(parseInt(Wt[2]),parseInt(Wt[0])-1,parseInt(Wt[1]));return null},mn=Cn(Ut.schoolReopenDate),Ns=Cn(Ut.vacationDate);let Dn=new Date;for(let Pn=0;Pn<Ga;Pn++){let Wt=new Date(Dn),qs=Wt.getDay();do{Wt.setDate(Wt.getDate()-1),qs=Wt.getDay();const Ur=Ns&&Wt.toDateString()===Ns.toDateString();if(!(qs===0||qs===6||Ur))break}while(!0);const Si=`${Wt.getFullYear()}-${String(Wt.getMonth()+1).padStart(2,"0")}-${String(Wt.getDate()).padStart(2,"0")}`,Yi=Wt.getTime(),Or=mn?mn.getTime():0,Wo=Ns&&Js&&Wt>=Ns&&Wt<Js;if(Yi>=Or&&Or>0&&!Wo)for(const Ur of On.filter(Qs=>Qs.role===ms.TEACHER))await ut.getTeacherAttendance(t,Ur.id,Si)||In.push({teacherId:Ur.id,teacherName:Ur.fullName,date:Si,classes:((Le=Ur.assignedClassIds)==null?void 0:Le.map(Mi=>{var go;return(go=Un.find(Xo=>Xo.id===Mi))==null?void 0:go.name}).join(", "))||"Not Assigned"});else break;Dn=Wt}}const Yr=[];if(lr&&!zs){const Cn=Pn=>{if(!Pn)return null;let Wt=[];if(Pn.includes("-")){if(Wt=Pn.split("-"),Wt.length===3)return new Date(parseInt(Wt[0]),parseInt(Wt[1])-1,parseInt(Wt[2]))}else if(Pn.includes("/")&&(Wt=Pn.split("/"),Wt.length===3))return new Date(parseInt(Wt[2]),parseInt(Wt[0])-1,parseInt(Wt[1]));return null},mn=Cn(Ut.schoolReopenDate),Ns=Cn(Ut.vacationDate);let Dn=new Date;for(let Pn=0;Pn<Ga;Pn++){let Wt=new Date(Dn),qs=Wt.getDay();do{Wt.setDate(Wt.getDate()-1),qs=Wt.getDay();const Ur=Ns&&Wt.toDateString()===Ns.toDateString();if(!(qs===0||qs===6||Ur))break}while(!0);const Si=`${Wt.getFullYear()}-${String(Wt.getMonth()+1).padStart(2,"0")}-${String(Wt.getDate()).padStart(2,"0")}`,Yi=Wt.getTime(),Or=mn?mn.getTime():0,Wo=Ns&&Js&&Wt>=Ns&&Wt<Js;if(Yi>=Or&&Or>0&&!Wo)for(const Ur of On.filter(Qs=>Qs.role===ms.TEACHER&&Qs.assignedClassIds&&Qs.assignedClassIds.length>0)){const Qs=Ur.assignedClassIds[0],Mi=((Rt=Un.find(Xo=>Xo.id===Qs))==null?void 0:Rt.name)||"Unknown Class";await ut.getAttendance(t,Qs,Si)||Yr.push({teacherId:Ur.id,teacherName:Ur.fullName,date:Si,className:Mi})}else break;Dn=Wt}}const ai=((Cn,mn)=>{if(!Cn||!mn)return 0;const Ns=new Date(Cn+"T00:00:00"),Dn=new Date(mn+"T00:00:00");let Pn=0;const Wt=new Date(Ns);for(;Wt<=Dn;){const qs=Wt.getDay();qs!==0&&qs!==6&&Pn++,Wt.setDate(Wt.getDate()+1)}return Pn})(Ut.schoolReopenDate,Ut.vacationDate),Ci=On.filter(Cn=>Cn.role===ms.TEACHER).map(Cn=>{var Wt;const Ns=Kn.filter(qs=>qs.teacherId===Cn.id&&qs.date>=(Ut.schoolReopenDate||"")&&qs.date<=(Ut.vacationDate||"9999-99-99")).filter(qs=>qs.status==="present").length,Dn=ai,Pn=Dn>0?Math.round(Ns/Dn*100):0;return{id:Cn.id,name:Cn.fullName,classes:((Wt=Cn.assignedClassIds)==null?void 0:Wt.map(qs=>{var Si;return(Si=Un.find(Yi=>Yi.id===qs))==null?void 0:Si.name}).join(", "))||"Not Assigned",presentDays:Ns,totalDays:Dn,attendanceRate:Pn}}),ul=dr.map(Cn=>{var Ns;const mn=On.find(Dn=>Dn.id===Cn.teacherId);return{...Cn,teacherName:(mn==null?void 0:mn.fullName)||"Unknown",teacherClasses:((Ns=mn==null?void 0:mn.assignedClassIds)==null?void 0:Ns.map(Dn=>{var Pn;return(Pn=Un.find(Wt=>Wt.id===Dn))==null?void 0:Pn.name}).join(", "))||"Not Assigned"}});if(ce(Cn=>({...Cn,academicYear:Ut.academicYear,currentTerm:Ut.currentTerm,schoolReopenDate:Ut.schoolReopenDate||""})),Ut.nextTermBegins&&new Date>=new Date(Ut.nextTermBegins+"T00:00:00")&&!Ut.termTransitionProcessed)try{await ut.resetForNewTerm(Ut),Mt("Term transition completed automatically.",{type:"success"}),setTimeout(()=>Rn(),1e3)}catch(Cn){console.error("Auto term transition failed:",Cn),Mt("Auto term transition failed. Please check settings.",{type:"error"})}let Yo=Pi;if(Ut.currentTerm){const Cn=Ut.currentTerm.match(/\d+/);Cn&&(Yo=parseInt(Cn[0]))}const po=await ut.getAllAssessments(t),jr={},na=new Map(Ft.map(Cn=>[Cn.id,Cn]));po.forEach(Cn=>{if(Cn.term===Yo&&na.has(Cn.studentId)){if(!jr[Cn.studentId]){const Ns=na.get(Cn.studentId);jr[Cn.studentId]={total:0,count:0,name:Ns.name,classId:Ns.classId}}const mn=Cn.total??nc(Cn);jr[Cn.studentId].total+=mn,jr[Cn.studentId].count+=1}});const vr={A:0,B:0,C:0,D:0,F:0},ls=[],Ra={A:[],B:[],C:[],D:[],F:[]};Object.entries(jr).forEach(([Cn,mn])=>{var Wt;const Ns=mn.count>0?mn.total/mn.count:0,{grade:Dn}=um(Ns);vr[Dn]!==void 0&&vr[Dn]++;const Pn={id:Cn,name:mn.name,class:((Wt=Un.find(qs=>qs.id===mn.classId))==null?void 0:Wt.name)||"N/A",avg:parseFloat(Ns.toFixed(1))};ls.push(Pn),Ra[Dn]&&Ra[Dn].push(Pn)}),ls.sort((Cn,mn)=>mn.avg-Cn.avg),a({students:Vt.studentsCount,teachers:Vt.teachersCount,classes:Un.length,maleStudents:Vt.gender.male,femaleStudents:Vt.gender.female,classAttendance:Vt.classAttendance}),c(Yt),u(Ft.slice(-5).reverse()),N(ul),I(Ci),D(In),K(Yr),xe(vr),_e(ls.slice(0,5)),st(Ra),M(new Date)}catch(Vt){console.error("Dashboard fetch error:",Vt),v("Failed to load dashboard data. Please check your internet connection or database permissions.")}finally{A(!1)}},Ke=async()=>{try{if(!t)return;const Le=await ut.getDashboardStats(t),Rt=(Le.classAttendance||[]).map(Ft=>Ft.percentage||0),Vt=Rt.length>0?Math.round(Rt.reduce((Ft,Yt)=>Ft+Yt,0)/Rt.length):0;a(Ft=>({...Ft,students:Le.studentsCount,teachers:Le.teachersCount,classes:Un.length,maleStudents:Le.gender.male,femaleStudents:Le.gender.female,classAttendance:Le.classAttendance})),M(new Date),ze(ge,Le.studentsCount,600),ze(re,Vt,600);try{const Ft=await ut.getAllAssessments(t),Yt={};Ft.forEach(Sn=>{Yt[Sn.studentId]||(Yt[Sn.studentId]={total:0,count:0});const On=Sn.total??nc(Sn);Yt[Sn.studentId].total+=On,Yt[Sn.studentId].count+=1});const Ut=Object.values(Yt).map(Sn=>Sn.count>0?Sn.total/Sn.count:0),vn=Ut.length>0?Math.round(Ut.reduce((Sn,On)=>Sn+On,0)/Ut.length):0;ze(he,vn,600)}catch(Ft){console.error("Failed to compute grade avg",Ft)}ft().catch(Ft=>console.error(Ft)),yt().catch(Ft=>console.error("Failed to compute visuals",Ft))}catch(Le){console.error("Failed to fetch live stats",Le)}},yt=async()=>{try{if(!t)return;const Le=await ut.getAllAssessments(t),Rt=await ut.getStudents(t),Vt={},Ft={},Yt={},Ut={},vn=new Map(Rt.map(Kn=>[Kn.id,Kn.classId]));Le.forEach(Kn=>{const In=Kn.classId||vn.get(Kn.studentId)||"unknown",Us=Kn.subject||"General",Ss=Kn.total??nc(Kn);Vt[In]||(Vt[In]={}),Vt[In][Us]||(Vt[In][Us]={total:0,count:0}),Vt[In][Us].total+=Ss,Vt[In][Us].count+=1,Ft[In]||(Ft[In]={total:0,count:0}),Ft[In].total+=Ss,Ft[In].count+=1;const lr=Ss,sr=lr>=80?"A":lr>=65?"B":lr>=50?"C":lr>=35?"D":"F";Yt[In]||(Yt[In]={A:0,B:0,C:0,D:0,F:0}),Yt[In][sr]=(Yt[In][sr]||0)+1;const Js=Kn.date?new Date(Kn.date).getTime():Kn.createdAt?new Date(Kn.createdAt).getTime():Date.now();Ut[In]||(Ut[In]=[]),Ut[In].push({date:Js,avg:Ss})});const Sn={};Object.entries(Vt).forEach(([Kn,In])=>{Sn[Kn]={},Object.entries(In).forEach(([Us,Ss])=>{Sn[Kn][Us]=Math.round(Ss.total/Math.max(1,Ss.count))})});const On=Object.entries(Ft).map(([Kn,In])=>{var Us;return{className:((Us=Un.find(Ss=>Ss.id===Kn))==null?void 0:Us.name)||Kn,avg:Math.round(In.total/Math.max(1,In.count))}}).sort((Kn,In)=>In.avg-Kn.avg),dr={};Object.entries(Ut).forEach(([Kn,In])=>{const Us=In.sort((Js,zs)=>Js.date-zs.date),Ss=8,lr=Math.max(1,Math.ceil(Us.length/Ss)),sr=[];for(let Js=0;Js<Us.length;Js+=lr){const zs=Us.slice(Js,Js+lr),Ga=Math.round(zs.reduce((Yr,da)=>Yr+da.avg,0)/zs.length);sr.push(Ga)}for(;sr.length<Ss;)sr.unshift(sr[0]??0);dr[Kn]=sr.slice(-Ss)}),_t(Sn),qe(On),dt(Yt),Pt(dr)}catch(Le){console.error("Error fetching visualizations",Le)}},ze=(Le,Rt,Vt=500)=>{const Ft=Date.now(),Yt=0,Ut=()=>{const vn=Math.min(1,(Date.now()-Ft)/Vt),Sn=Math.round(Yt+(Rt-Yt)*vn);Le(Sn),vn<1&&requestAnimationFrame(Ut)};requestAnimationFrame(Ut)},ot=async(Le,Rt)=>{const Vt=[];for(const Ft of Un)try{if(!t)return null;const Ut=(await ut.getClassAttendance(t,Ft.id)).filter(Sn=>{const On=Sn.date.split("-");if(On.length!==3)return!1;const dr=new Date(parseInt(On[0]),parseInt(On[1])-1,parseInt(On[2]));return dr>=Le&&dr<=Rt}),vn=(await ut.getStudents(t,Ft.id)).length||0;if(Ut.length>0&&vn>0){const Sn=Ut.length*vn,On=Ut.reduce((dr,Kn)=>{var In;return dr+(((In=Kn.presentStudentIds)==null?void 0:In.length)||0)},0);Vt.push(Math.round(On/Sn*100))}}catch(Yt){console.error("Error computing class attendance for",Ft.id,Yt)}return Vt.length===0?null:Math.round(Vt.reduce((Ft,Yt)=>Ft+Yt,0)/Vt.length)},ft=async()=>{const Le=Ae||new Date,{monday:Rt}=ht(Le),Vt=Rt,Ft=new Date(Rt);Ft.setDate(Rt.getDate()+4);const Yt=new Date(Rt);Yt.setDate(Rt.getDate()-7);const Ut=new Date(Yt);Ut.setDate(Yt.getDate()+4);const vn=await ot(Vt,Ft),Sn=await ot(Yt,Ut);ne(vn),W(Sn)};ee.useEffect(()=>{e||Rn()},[e,t]),ee.useEffect(()=>{if(!t)return;const Le=Zn(Wn(Et,"attendance"),Zt("schoolId","==",t)),Rt=Zn(Wn(Et,"assessments"),Zt("schoolId","==",t)),Vt=Zn(Wn(Et,"teacher_attendance"),Zt("schoolId","==",t)),Ft=Vn(Et,"settings",t),Yt=zf(Le,()=>{Ke().catch(On=>console.error("Error refreshing stats on attendance change",On))}),Ut=zf(Rt,()=>{Rn().catch(On=>console.error("Error refreshing data on assessments change",On))}),vn=zf(Vt,()=>{Rn().catch(On=>console.error("Error refreshing data on teacher attendance change",On))}),Sn=zf(Ft,On=>{if(On.exists()){const dr=On.data();ce(Kn=>({...Kn,academicYear:dr.academicYear||ho,currentTerm:dr.currentTerm||`Term ${Pi}`,schoolReopenDate:dr.schoolReopenDate||""}))}});return()=>{Yt(),Ut(),Sn(),vn()}},[t]),ee.useEffect(()=>{if(!L){O.current&&(clearInterval(O.current),O.current=null);return}return Ke(),O.current=window.setInterval(Ke,15e3),()=>{O.current&&(clearInterval(O.current),O.current=null)}},[L]),ee.useEffect(()=>{if(!R)return;G(Date.now());const Le=window.setInterval(()=>G(Date.now()),1e3);return()=>clearInterval(Le)},[R]),ee.useEffect(()=>{if(ae.schoolReopenDate){const Le=ae.schoolReopenDate.split("-"),Rt=Le.length===3?new Date(parseInt(Le[0]),parseInt(Le[1])-1,parseInt(Le[2])):new Date(ae.schoolReopenDate);if(Rt>new Date){pe(ht(Rt).monday);return}}pe(ht(new Date).monday)},[ae.schoolReopenDate]),ee.useEffect(()=>{const Le=()=>b(null);return g&&window.addEventListener("click",Le),()=>window.removeEventListener("click",Le)},[g]);const Lt=(Le,Rt)=>{Le.stopPropagation(),b(g===Rt?null:Rt)},Ct=async Le=>{b(null),sn(Le),Nn(null);try{const Rt=await ut.getStudentPerformance(t,Le.id,Le.classId);Nn(Rt)}catch(Rt){console.error(Rt)}},zt=Le=>{b(null),St(Le),Ht({...Le})},yn=async Le=>{if(Le.preventDefault(),!(!xt||!$t.name))try{const Rt={...xt,...$t};await ut.updateStudent(Rt),Rn(),St(null)}catch{Mt("Failed to update student",{type:"error"})}},Tt=async Le=>{de(null);try{if(!t)return;const Vt=(await ut.getStudents(t)).find(Ft=>Ft.id===Le);Vt?Ct(Vt):Mt("Student not found",{type:"error"})}catch(Rt){console.error(Rt),Mt("Failed to fetch student",{type:"error"})}},ht=Le=>{const Rt=new Date(Le),Vt=Rt.getDay(),Ft=new Date(Rt);Ft.setDate(Rt.getDate()-(Vt===0?6:Vt-1));const Yt=new Date(Ft);return Yt.setDate(Ft.getDate()+4),{monday:Ft,friday:Yt}},Ot=()=>{if(Ae===null)return;const Le=new Date(Ae);if(Le.setDate(Le.getDate()-7),ae.schoolReopenDate){const Rt=ae.schoolReopenDate.split("-"),Vt=Rt.length===3?new Date(parseInt(Rt[0]),parseInt(Rt[1])-1,parseInt(Rt[2])):new Date(ae.schoolReopenDate),Ft=ht(Vt).monday;if(Le<Ft){Mt("Cannot view weeks before school re-opens",{type:"info"});return}}pe(Le)},qt=()=>{if(Ae===null)return;const Le=new Date(Ae);Le.setDate(Le.getDate()+7),pe(Le)},on=()=>{if(ae.schoolReopenDate){const Le=ae.schoolReopenDate.split("-"),Rt=Le.length===3?new Date(parseInt(Le[0]),parseInt(Le[1])-1,parseInt(Le[2])):new Date(ae.schoolReopenDate);if(Rt>new Date){pe(ht(Rt).monday);return}}pe(ht(new Date).monday)},cs=({title:Le,value:Rt,subtext:Vt,icon:Ft,colorClass:Yt,iconColorClass:Ut})=>i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 flex flex-col justify-between relative overflow-hidden group hover:shadow-md transition-shadow min-h-[140px]",children:[i.jsx("div",{className:"flex justify-between items-start z-10",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-500 text-sm font-semibold uppercase tracking-wider",children:Le}),i.jsx("h3",{className:"text-3xl font-bold text-slate-800 mt-2",children:Rt}),Vt&&i.jsx("p",{className:"text-xs text-slate-400 mt-1",children:Vt})]})}),i.jsx("div",{className:`absolute -right-4 -bottom-4 opacity-10 pointer-events-none transform group-hover:scale-110 transition-transform ${Ut}`,children:i.jsx(Ft,{size:100})})]}),js=({title:Le,value:Rt,suffix:Vt,delta:Ft,deltaPositive:Yt})=>i.jsx("div",{className:"bg-white p-4 rounded-2xl shadow-sm border border-slate-100 flex flex-col justify-between",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-slate-400 uppercase font-semibold",children:Le}),i.jsxs("div",{className:"flex items-baseline gap-2",children:[i.jsx("span",{className:"text-2xl font-bold text-slate-800",children:Rt}),Vt&&i.jsx("span",{className:"text-sm text-slate-500",children:Vt})]})]}),i.jsx("div",{className:`text-sm font-semibold px-2 py-1 rounded ${Yt?"bg-emerald-50 text-emerald-700":"bg-red-50 text-red-700"}`,children:Ft??"--"})]})}),cn=()=>i.jsx("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsx(js,{title:"Students Enrolled",value:ie,suffix:"total",delta:null,deltaPositive:!0}),i.jsx(js,{title:"Attendance Now",value:`${J}%`,suffix:null,delta:je!==null&&V!==null?`${je-V}% vs last week`:"No comparison",deltaPositive:je!==null&&V!==null?je-V>=0:!0}),i.jsx(js,{title:"Avg Grade",value:`${se}%`,suffix:null,delta:null,deltaPositive:!0})]})}),ri=()=>i.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-amber-100 p-6 rounded-2xl shadow-md border border-amber-200 flex flex-col justify-between min-h-[140px]",children:[i.jsxs("div",{className:"flex items-start justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-semibold uppercase text-amber-700",children:"Students Enrolled"}),i.jsx("h3",{className:"text-3xl sm:text-4xl font-extrabold text-amber-900 mt-2",children:s.students}),i.jsxs("p",{className:"text-sm text-amber-700 mt-1",children:[s.classes," classes  ",s.teachers," teachers"]})]}),i.jsx("div",{className:"flex items-center gap-3",children:i.jsx("div",{className:"bg-white p-3 rounded-xl shadow-sm hidden sm:flex",children:i.jsx(Am,{className:"text-amber-600",size:28})})})]}),i.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-xs text-slate-500",children:"Female"}),i.jsx("div",{className:"text-lg font-bold text-[#0B4A82]",children:s.femaleStudents})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-xs text-slate-500",children:"Male"}),i.jsx("div",{className:"text-lg font-bold text-amber-600",children:s.maleStudents})]})]}),i.jsx("div",{className:"hidden sm:flex items-end gap-2 flex-1 max-w-[55%]",children:s.classAttendance.slice(0,8).map(Le=>i.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[i.jsx("div",{className:"w-full rounded-sm",title:`${Le.className}: ${Le.percentage}%`,style:{background:Le.percentage>=80?"#16a34a":Le.percentage<50?"#dc2626":"#f59e0b",height:`${Math.max(6,Math.round(Le.percentage/2))}px`}}),i.jsx("div",{className:"text-[10px] text-slate-500 mt-1 truncate text-center",children:Le.className.replace("Primary ","P").replace("Class ","P").replace("Nursery ","N")})]},Le.id))})]}),i.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[i.jsxs("div",{className:"text-xs text-slate-500",children:["Updated"," ",R?`${Math.floor((H-R.getTime())/1e3)}s ago`:""]}),i.jsx("div",{className:"text-xs text-slate-400 hidden sm:block",children:"Responsive  Clean  Insightful"})]})]}),Ua=()=>{const Le=s.teachers>0?Math.round(s.students/s.teachers):"";return i.jsxs("div",{className:"bg-gradient-to-br from-sky-50 to-sky-100 p-6 rounded-2xl shadow-md border border-sky-200 flex flex-col justify-between min-h-[140px]",children:[i.jsxs("div",{className:"flex items-start justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-semibold uppercase text-sky-700",children:"Teachers & Staff"}),i.jsx("h3",{className:"text-3xl sm:text-4xl font-extrabold text-sky-900 mt-2",children:s.teachers}),i.jsxs("p",{className:"text-sm text-sky-700 mt-1",children:["Teaching across ",s.classes," classes"]})]}),i.jsx("div",{className:"flex items-center gap-3",children:i.jsx("div",{className:"bg-white p-3 rounded-xl shadow-sm hidden sm:flex",children:i.jsx(ll,{className:"text-sky-600",size:28})})})]}),i.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-xs text-slate-500",children:"Avg Students / Teacher"}),i.jsx("div",{className:"text-lg font-bold text-sky-800",children:Le})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-xs text-slate-500",children:"Classes"}),i.jsx("div",{className:"text-lg font-bold text-sky-800",children:s.classes})]})]}),i.jsx("div",{className:"hidden sm:flex items-center gap-3",children:i.jsx(wi,{to:"/admin/teachers",className:"text-xs bg-white px-3 py-1 rounded-md font-medium text-sky-700 shadow-sm hover:underline",children:"Manage Staff"})})]}),i.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[i.jsxs("div",{className:"text-xs text-slate-500",children:["Updated"," ",R?`${Math.floor((H-R.getTime())/1e3)}s ago`:""]}),i.jsx("div",{className:"text-xs text-slate-400 hidden sm:block",children:"Professional  Accessible  Responsive"})]})]})},ua=()=>{const Le=s.maleStudents+s.femaleStudents||1,Rt=Math.round(s.maleStudents/Le*100),Vt=Math.round(s.femaleStudents/Le*100);return i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 h-full flex flex-col justify-center items-center",children:[i.jsx("h3",{className:"font-bold text-slate-800 w-full mb-6",children:"Demographics"}),i.jsxs("div",{className:"relative w-48 h-48",children:[i.jsx("div",{className:"absolute inset-0 rounded-full border-8 border-slate-50"}),i.jsx("div",{className:"absolute inset-0 rounded-full",style:{background:`conic-gradient(#1160A8 0% ${Vt}%, #f59e0b ${Vt}% 100%)`,mask:"radial-gradient(transparent 60%, black 61%)",WebkitMask:"radial-gradient(transparent 60%, black 61%)"}}),i.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none",children:[i.jsx("span",{className:"text-3xl font-bold text-slate-800",children:s.students}),i.jsx("span",{className:"text-xs text-slate-500 uppercase tracking-wide",children:"Total"})]})]}),i.jsxs("div",{className:"flex w-full justify-between px-6 mt-8",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-xs text-slate-400 mb-1",children:"Female"}),i.jsxs("p",{className:"text-xl font-bold text-[#0B4A82]",children:[Vt,"%"]}),i.jsx("p",{className:"text-lg font-bold text-[#1160A8] mt-1",children:s.femaleStudents})]}),i.jsx("div",{className:"w-px bg-slate-100"}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-xs text-slate-400 mb-1",children:"Male"}),i.jsxs("p",{className:"text-xl font-bold text-amber-500",children:[Rt,"%"]}),i.jsx("p",{className:"text-lg font-bold text-amber-600 mt-1",children:s.maleStudents})]})]})]})},$r=()=>{const Le=Object.keys(Se).reduce((Ut,vn)=>Ut+Se[vn],0)||0,Rt={A:4,B:3,C:2,D:1,F:0},Vt=Object.entries(Se).reduce((Ut,[vn,Sn])=>{const On=Rt[vn]??0;return Ut+On*Sn},0),Ft=Le>0?Vt/Le:0,Yt=Ft>=3.5?"A":Ft>=2.5?"B":Ft>=1.5?"C":Ft>=.5?"D":"F";return i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8",children:[i.jsxs("div",{className:"lg:col-span-2 bg-white p-4 sm:p-6 rounded-2xl shadow-md border border-slate-100 overflow-x-auto",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 sm:mb-6 gap-3 sm:gap-0",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"p-3 bg-[#E6F0FA] rounded-xl",children:i.jsx(mv,{className:"w-6 h-6 text-[#0B4A82]"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-slate-800",children:"Academic Performance Rate"}),i.jsx("p",{className:"text-xs text-slate-500",children:ae.currentTerm})]}),i.jsxs("div",{className:"grid grid-cols-2 sm:flex sm:ml-6 gap-4 sm:gap-6 sm:hidden",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-slate-500 uppercase",children:"Graded Students"}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-slate-800",children:Le})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-slate-500 uppercase",children:"Average Grade"}),i.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-amber-500",children:[Yt," ",i.jsxs("span",{className:"text-xs sm:text-sm text-slate-500",children:["(",Ft.toFixed(2),")"]})]})]})]}),i.jsxs("div",{className:"hidden sm:block ml-6",children:[i.jsx("p",{className:"text-xs text-slate-500 uppercase",children:"Graded Students"}),i.jsx("p",{className:"text-2xl font-bold text-slate-800",children:Le})]}),i.jsxs("div",{className:"hidden sm:block ml-6",children:[i.jsx("p",{className:"text-xs text-slate-500 uppercase",children:"Average Grade"}),i.jsxs("p",{className:"text-2xl font-bold text-amber-500",children:[Yt," ",i.jsxs("span",{className:"text-sm text-slate-500",children:["(",Ft.toFixed(2),")"]})]})]})]}),i.jsxs("button",{onClick:Rn,disabled:f,className:"flex items-center px-3 py-1.5 bg-slate-100 hover:bg-slate-200 text-slate-600 rounded-lg text-sm font-medium transition-colors disabled:opacity-50",title:"Refresh performance data",children:[i.jsx(og,{size:14,className:`mr-1 ${f?"animate-spin":""}`}),"Refresh"]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"space-y-3",children:Object.entries(Se).map(([Ut,vn])=>{const Sn=Le>0?Math.round(vn/Le*100):0;let On="from-emerald-400 to-emerald-600";return Ut==="B"&&(On="from-[#E6F0FA] to-[#1160A8]"),Ut==="C"&&(On="from-amber-300 to-amber-500"),Ut==="D"&&(On="from-orange-300 to-orange-500"),Ut==="F"&&(On="from-red-400 to-red-600"),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-10 font-bold text-slate-700",children:Ut}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"relative h-4 bg-slate-100 rounded-full overflow-hidden",children:i.jsx("div",{className:`absolute left-0 top-0 h-full rounded-full bg-gradient-to-r ${On} transition-all duration-1000`,style:{width:`${Sn}%`},title:`${vn} students  ${Sn}%`})}),i.jsxs("div",{className:"mt-2 flex justify-between text-xs text-slate-500",children:[i.jsxs("span",{children:[vn," ",vn===1?"student":"students"]}),i.jsxs("span",{className:"font-semibold text-slate-700",children:[Sn,"%"]})]})]}),i.jsx("div",{className:"ml-4",children:i.jsx("button",{onClick:()=>de(Ut),className:"text-xs text-[#0B4A82] hover:underline font-medium",children:"View"})})]},Ut)})}),i.jsxs("div",{className:"mt-4 flex flex-wrap gap-4 items-center",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"w-4 h-4 rounded-sm block bg-gradient-to-r from-emerald-400 to-emerald-600","aria-hidden":!0}),i.jsx("span",{className:"text-xs text-slate-600",children:"A  Excellent"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"w-4 h-4 rounded-sm block bg-gradient-to-r from-[#E6F0FA] to-[#1160A8]","aria-hidden":!0}),i.jsx("span",{className:"text-xs text-slate-600",children:"B  Very Good"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"w-4 h-4 rounded-sm block bg-gradient-to-r from-amber-300 to-amber-500","aria-hidden":!0}),i.jsx("span",{className:"text-xs text-slate-600",children:"C  Satisfactory"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"w-4 h-4 rounded-sm block bg-gradient-to-r from-orange-300 to-orange-500","aria-hidden":!0}),i.jsx("span",{className:"text-xs text-slate-600",children:"D  Needs Support"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"w-4 h-4 rounded-sm block bg-gradient-to-r from-red-400 to-red-600","aria-hidden":!0}),i.jsx("span",{className:"text-xs text-slate-600",children:"F  Intervention Required"})]})]}),Le===0&&i.jsxs("div",{className:"text-center text-slate-400 py-4 text-sm",children:["No academic data available for ",ae.currentTerm,"."]}),i.jsxs("div",{className:"mt-4 p-4 bg-gradient-to-r from-emerald-50 to-[#E6F0FA] rounded-lg text-sm text-slate-700 border border-slate-100",children:[i.jsx("div",{className:"font-semibold text-slate-800 mb-1",children:"What this chart shows"}),i.jsx("div",{className:"text-sm",children:"Each bar represents the number of students who received that grade during the selected term. Percentages are calculated against the total number of graded students. Use the counts and percentages to identify strengths (high A/B) and areas for intervention (high D/F). Hover a bar to see the exact count."})]})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[i.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center",children:[i.jsx(EM,{className:"w-5 h-5 mr-2 text-amber-500"})," Top Performers"]}),i.jsx("div",{className:"space-y-4",children:Ie.length===0?i.jsx("p",{className:"text-sm text-slate-400 italic",children:"No data yet."}):Ie.map((Ut,vn)=>i.jsxs("div",{className:"flex items-center justify-between border-b border-slate-50 pb-2 last:border-0 last:pb-0",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold text-white ${vn===0?"bg-amber-500":"bg-slate-300"}`,children:vn+1}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-slate-800",children:Ut.name}),i.jsx("p",{className:"text-xs text-slate-400",children:Ut.class})]})]}),i.jsx("span",{className:"text-sm font-bold text-[#0B4A82]",children:Ut.avg})]},vn))})]})]})};return f?i.jsx(Xs,{title:"Dashboard",children:i.jsxs("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-8rem)]",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-0 bg-amber-100 rounded-full blur-xl opacity-50 animate-pulse"}),i.jsx("div",{className:"relative w-16 h-16 border-4 border-slate-100 border-t-[#0B4A82] rounded-full animate-spin shadow-sm"}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsx("div",{className:"w-2 h-2 bg-[#0B4A82] rounded-full"})})]}),i.jsxs("div",{className:"mt-8 text-center space-y-2",children:[i.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"School Manager GH"}),i.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[i.jsx("div",{className:"w-2 h-2 bg-amber-400 rounded-full animate-bounce [animation-delay:-0.3s]"}),i.jsx("div",{className:"w-2 h-2 bg-amber-500 rounded-full animate-bounce [animation-delay:-0.15s]"}),i.jsx("div",{className:"w-2 h-2 bg-[#0B4A82] rounded-full animate-bounce"})]})]})]})}):m?i.jsx(Xs,{title:"Dashboard",children:i.jsxs("div",{className:"flex items-center justify-center h-96 flex-col p-8",children:[i.jsx(Ky,{size:48,className:"text-red-400 mb-4"}),i.jsx("h3",{className:"text-lg font-bold text-slate-700",children:"Unable to load dashboard"}),i.jsx("p",{className:"text-slate-500 text-center max-w-md mb-6",children:m}),i.jsxs("button",{onClick:Rn,className:"flex items-center px-4 py-2 bg-red-800 text-white rounded-lg hover:bg-red-900 transition-colors",children:[i.jsx(og,{size:16,className:"mr-2"})," Retry"]})]})}):i.jsxs(Xs,{title:"Dashboard",children:[i.jsxs("div",{className:"mb-8 flex flex-col md:flex-row md:items-end justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Welcome, Headmistress"}),i.jsx("p",{className:"text-slate-500 mt-1",children:"Here is what's happening in your school today."})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"text-right mr-2 hidden sm:block",children:[i.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Academic Period"}),i.jsxs("p",{className:"text-sm font-bold text-[#0B4A82]",children:[ae.currentTerm,"  ",ae.academicYear]})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs(wi,{to:"/admin/students",className:"flex items-center px-4 py-2 bg-[#0B4A82] text-white rounded-lg hover:bg-[#0B4A82] transition-colors shadow-sm text-sm font-medium",children:[i.jsx(n2,{size:16,className:"mr-2"}),"Add Student"]}),i.jsxs(wi,{to:"/admin/teachers",className:"flex items-center px-4 py-2 bg-white border border-slate-200 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors shadow-sm text-sm font-medium",children:[i.jsx(ll,{size:16,className:"mr-2"}),"Add Staff"]})]}),i.jsxs("div",{className:"ml-4 flex flex-col items-end text-right",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:`w-3 h-3 rounded-full ${L?"bg-emerald-500":"bg-slate-300"}`,"aria-hidden":!0}),i.jsx("button",{onClick:()=>Q(Le=>!Le),className:"text-xs text-slate-600 hover:underline",title:"Toggle live metrics polling",children:L?"Live Metrics On":"Enable Live Metrics"})]}),i.jsx("div",{className:"text-xs text-slate-400 mt-1",children:R?`Updated ${Math.floor((H-R.getTime())/1e3)}s ago`:"Not updated"})]})]})]}),F.length>0&&i.jsx("div",{className:"mb-8",children:i.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-orange-50 border border-red-200 rounded-2xl p-6 shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"p-2 bg-red-100 rounded-full",children:i.jsx(Ky,{className:"text-red-600",size:24})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-red-900 text-lg",children:"Attendance Alerts"}),i.jsxs("p",{className:"text-red-700 text-sm",children:[F.length," teacher",F.length!==1?"s":""," have missed attendance recently."]})]})]}),i.jsx("div",{className:"space-y-3",children:F.map(Le=>i.jsx("div",{className:"bg-white p-4 rounded-lg border border-red-100 shadow-sm",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-sm font-bold text-red-600",children:Le.teacherName.charAt(0)})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-slate-800",children:Le.teacherName}),i.jsx("p",{className:"text-sm text-slate-500",children:Le.classes})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"text-sm font-medium text-red-700",children:["Missed:"," ",(()=>{const Rt=Le.date.split("-");return Rt.length===3?`${Rt[1]}/${Rt[2]}/${Rt[0]}`:Le.date})()]}),i.jsx("p",{className:"text-xs text-slate-400",children:"Please follow up"})]})]})},`${Le.teacherId}-${Le.date}`))})]})}),P.length>0&&i.jsx("div",{className:"mb-8",children:i.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-indigo-50 border border-red-200 rounded-2xl p-6 shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"p-2 bg-red-100 rounded-full",children:i.jsx(Ky,{className:"text-red-600",size:24})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-red-900 text-lg",children:"Missed Student Attendance"}),i.jsxs("p",{className:"text-red-700 text-sm",children:[P.length," teacher",P.length!==1?"s":""," have not marked student attendance recently."]})]})]}),i.jsx("div",{className:"space-y-3",children:P.map(Le=>i.jsx("div",{className:"bg-white p-4 rounded-lg border border-red-100 shadow-sm",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-sm font-bold text-red-600",children:Le.teacherName.charAt(0)})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-slate-800",children:Le.teacherName}),i.jsx("p",{className:"text-sm text-slate-500",children:Le.className})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"text-sm font-medium text-red-700",children:["Missed for:"," ",(()=>{const Rt=Le.date.split("-");return Rt.length===3?`${Rt[1]}/${Rt[2]}/${Rt[0]}`:Le.date})()]}),i.jsx("p",{className:"text-xs text-slate-400",children:"Action may be required"})]})]})},`${Le.teacherId}-${Le.date}`))})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[i.jsx(ri,{}),i.jsx(Ua,{}),i.jsx(cs,{title:"Notices",value:o.length,subtext:"Active Announcements",icon:Qp,colorClass:"bg-[#E6F0FA]",iconColorClass:"text-[#0B4A82]"})]}),i.jsx("div",{className:"mb-8",children:i.jsx(cn,{})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8",children:[i.jsx("div",{className:"lg:col-span-2 h-[550px]",children:i.jsx(GM,{data:s.classAttendance,week:Ae,onPreviousWeek:Ot,onNextWeek:qt,onCurrentWeek:on,schoolReopenDate:ae.schoolReopenDate})}),i.jsx("div",{className:"h-96",children:i.jsx(ua,{})})]}),i.jsx($r,{}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[i.jsxs("div",{className:"lg:col-span-2 bg-white rounded-2xl shadow-sm border border-slate-100 overflow-visible",children:[i.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-slate-800",children:"New Admissions"}),i.jsx("p",{className:"text-xs text-slate-500",children:"Recently added students"})]}),i.jsx(wi,{to:"/admin/students",className:"text-sm text-[#0B4A82] hover:text-[#0B4A82] font-medium bg-[#E6F0FA] px-3 py-1 rounded-full transition-colors",children:"View All"})]}),i.jsx("div",{className:"overflow-x-auto overflow-y-visible",children:i.jsxs("table",{className:"w-full text-left text-sm text-slate-600",children:[i.jsx("thead",{className:"bg-slate-50 text-slate-700 font-semibold",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3",children:"Student Name"}),i.jsx("th",{className:"px-6 py-3",children:"Assigned Class"}),i.jsx("th",{className:"px-6 py-3",children:"Status"}),i.jsx("th",{className:"px-6 py-3 text-right",children:"Action"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-100",children:h.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:4,className:"p-6 text-center text-slate-400",children:"No students yet."})}):h.map((Le,Rt)=>{var Vt;return i.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[i.jsxs("td",{className:"px-6 py-4 font-medium text-slate-800 flex items-center",children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs text-white mr-3 shadow-sm ${Le.gender==="Male"?"bg-amber-400":"bg-[#0B4A82]"}`,children:Le.name.charAt(0)}),i.jsxs("div",{children:[i.jsx("p",{children:Le.name}),i.jsx("p",{className:"text-[10px] text-slate-400 uppercase",children:Le.gender})]})]}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("span",{className:"px-2.5 py-1 rounded-md bg-slate-100 text-slate-600 text-xs font-semibold border border-slate-200",children:(Vt=Un.find(Ft=>Ft.id===Le.classId))==null?void 0:Vt.name})}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("span",{className:"inline-flex items-center text-xs font-medium text-emerald-600 bg-emerald-50 px-2 py-1 rounded-full",children:[i.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 mr-1.5"}),"Active"]})}),i.jsx("td",{className:"px-6 py-4 text-right",children:i.jsxs("div",{className:"relative",children:[i.jsx("button",{onClick:Ft=>Lt(Ft,Le.id),className:`transition-colors p-1.5 rounded-full hover:bg-slate-200 ${g===Le.id?"text-[#1160A8] bg-slate-100":"text-slate-400"}`,children:i.jsx(Tk,{size:18})}),g===Le.id&&i.jsxs("div",{className:"absolute right-0 mt-1 w-40 bg-white rounded-lg shadow-xl border border-slate-100 z-50 py-1 text-left animate-in fade-in zoom-in-95 duration-100 origin-top-right",children:[i.jsxs("button",{onClick:()=>Ct(Le),className:"flex items-center w-full px-4 py-2.5 text-xs text-slate-700 hover:bg-slate-50 hover:text-[#1160A8] font-medium transition-colors",children:[i.jsx(Xd,{size:14,className:"mr-2"})," View Details"]}),i.jsxs("button",{onClick:()=>zt(Le),className:"flex items-center w-full px-4 py-2.5 text-xs text-slate-700 hover:bg-slate-50 hover:text-[#1160A8] font-medium transition-colors",children:[i.jsx(t2,{size:14,className:"mr-2"})," Edit Student"]})]})]})})]},Le.id)})})]})})]}),i.jsxs("div",{className:"bg-gradient-to-br from-[#0B4A82] to-[#0B4A82] rounded-2xl shadow-lg border border-[#0B4A82] overflow-hidden flex flex-col text-white self-start",children:[i.jsxs("div",{className:"p-6 border-b border-[#0B4A82] flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-[#E6F0FA]",children:"Notice Board"}),i.jsx("p",{className:"text-xs text-slate-300",children:"School announcements"})]}),i.jsx(wi,{to:"/admin/settings",className:"p-2 rounded-lg hover:bg-white/10 text-slate-300 transition-colors",children:i.jsx(Zw,{size:18})})]}),i.jsx("div",{className:"p-4 space-y-4 flex-1 overflow-y-auto max-h-[400px]",children:o.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center h-40 text-slate-400",children:[i.jsx(ol,{size:40,className:"mb-2 opacity-20"}),i.jsx("p",{className:"text-sm",children:"No new notices"})]}):o.map((Le,Rt)=>i.jsxs("div",{className:"group relative pl-4 pb-4 border-l border-slate-700 last:pb-0",children:[i.jsx("div",{className:`absolute -left-[5px] top-0 w-2.5 h-2.5 rounded-full border-2 border-slate-800 ${Le.type==="urgent"?"bg-red-500":"bg-amber-500"}`}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between items-start mb-1",children:[i.jsx("span",{className:"text-[10px] font-mono text-slate-400 bg-slate-900 px-1.5 py-0.5 rounded",children:Le.date}),Le.type==="urgent"&&i.jsx("span",{className:"text-[10px] text-red-400 font-bold uppercase tracking-wider",children:"Urgent"})]}),i.jsx("p",{className:"text-sm font-medium text-slate-200 group-hover:text-white transition-colors",children:Le.message})]})]},Le.id))}),i.jsx("div",{className:"p-4 bg-slate-900/50 text-center",children:i.jsxs(wi,{to:"/admin/timetable",className:"text-xs font-semibold text-amber-400 hover:text-amber-300 uppercase tracking-wide flex items-center justify-center w-full",children:["View Calendar ",i.jsx(NT,{size:12,className:"ml-1"})]})})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 via-teal-50 to-cyan-50 rounded-2xl shadow-lg border border-emerald-200 flex flex-col min-h-[260px] hover:shadow-xl transition-shadow duration-300",children:[i.jsxs("div",{className:"p-3 sm:p-4 border-b border-emerald-200 flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-emerald-900 text-base sm:text-lg",children:"Teacher Attendance Today"}),i.jsx("p",{className:"text-[10px] sm:text-xs text-emerald-700 mt-0.5",children:"Current day's staff presence overview"})]}),i.jsx("div",{className:"bg-emerald-100 p-1.5 sm:p-2 rounded-full",children:i.jsx(ll,{className:"text-emerald-600",size:16})})]}),i.jsx("div",{className:"p-3 space-y-2 flex-1 overflow-y-auto max-h-[300px] sm:max-h-[350px]",children:S.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center h-24 text-emerald-500",children:[i.jsx("div",{className:"bg-emerald-100 p-3 rounded-full mb-2",children:i.jsx(ll,{size:24,className:"text-emerald-400"})}),i.jsx("p",{className:"text-xs font-medium text-center",children:"No attendance marked yet today"}),i.jsx("p",{className:"text-[10px] text-emerald-400 mt-0.5",children:"Teachers will appear here once they mark attendance"})]}):i.jsxs("div",{className:"space-y-2",children:[S.map(Le=>i.jsx("div",{className:"bg-white p-3 rounded-lg shadow-sm border border-emerald-100 hover:shadow-md transition-all duration-200 hover:border-emerald-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[i.jsx("div",{className:`w-3.5 h-3.5 rounded-full flex-shrink-0 ${Le.status==="present"?"bg-emerald-500":"bg-red-500"} shadow-sm`}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-1.5 mb-0.5 flex-wrap",children:[i.jsx("p",{className:"text-[10px] sm:text-xs font-semibold text-slate-800 truncate max-w-[120px] sm:max-w-none",children:Le.teacherName}),i.jsx("span",{className:`px-1.5 py-0.5 rounded-full text-[9px] font-medium flex-shrink-0 ${Le.status==="present"?"bg-emerald-100 text-emerald-700":"bg-red-100 text-red-700"}`,children:Le.status==="present"?"Present":"Absent"})]}),i.jsx("p",{className:"text-[9px] text-slate-500 truncate",children:Le.teacherClasses||"No classes assigned"}),i.jsx("p",{className:"text-[9px] text-slate-400 mt-0.5",children:Le.date})]})]}),i.jsx("div",{className:"ml-2 flex-shrink-0",children:i.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${Le.status==="present"?"bg-emerald-100 text-emerald-600":"bg-red-100 text-red-600"}`,children:Le.status==="present"?i.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):i.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})})]})},Le.id)),i.jsx("div",{className:"text-center mt-3 pt-2 border-t border-emerald-100",children:i.jsxs("p",{className:"text-[10px] text-emerald-600 font-medium",children:[S.length," teacher",S.length!==1?"s":""," marked attendance today"]})})]})})]}),ae.schoolReopenDate!==new Date().toISOString().split("T")[0]&&i.jsxs("div",{className:"bg-gradient-to-br from-[#E6F0FA] via-[#E6F0FA] to-white rounded-2xl shadow-lg border border-[#E6F0FA] flex flex-col min-h-[280px] hover:shadow-xl transition-shadow duration-300",children:[i.jsxs("div",{className:"p-3 sm:p-4 border-b border-[#E6F0FA] flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-[#0B4A82] text-base sm:text-lg",children:"Teacher Attendance Summary"}),i.jsx("p",{className:"text-[10px] sm:text-xs text-[#1160A8] mt-0.5",children:"Term-wide staff attendance statistics"})]}),i.jsx("div",{className:"bg-[#E6F0FA] p-1.5 sm:p-2 rounded-full",children:i.jsx(mv,{className:"text-[#0B4A82]",size:16})})]}),i.jsx("div",{className:"p-3 space-y-2 flex-1 overflow-y-auto max-h-[300px] sm:max-h-[350px]",children:E.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center h-24 text-[#0B4A82]",children:[i.jsx("div",{className:"bg-[#E6F0FA] p-3 rounded-full mb-2",children:i.jsx(mv,{size:24,className:"text-[#1160A8]"})}),i.jsx("p",{className:"text-xs font-medium text-center",children:"No attendance data available"}),i.jsx("p",{className:"text-[10px] text-[#1160A8] mt-0.5",children:"Term statistics will appear as teachers mark attendance"})]}):i.jsxs("div",{className:"space-y-2",children:[E.map(Le=>i.jsx("div",{className:"bg-white p-3 rounded-lg shadow-sm border border-[#E6F0FA] hover:shadow-md transition-all duration-200 hover:border-[#E6F0FA]",children:i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"w-9 h-9 bg-[#E6F0FA] rounded-full flex items-center justify-center",children:i.jsxs("span",{className:"text-[10px] font-bold text-[#0B4A82]",children:[Le.attendanceRate,"%"]})}),i.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-white rounded-full flex items-center justify-center",children:i.jsx("div",{className:`w-2 h-2 rounded-full ${Le.attendanceRate>=80?"bg-emerald-500":Le.attendanceRate>=70?"bg-amber-500":"bg-red-500"}`})})]})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-1.5 mb-0.5 flex-wrap",children:[i.jsx("p",{className:"text-[10px] sm:text-xs font-semibold text-slate-800 truncate max-w-[120px] sm:max-w-none",children:Le.name}),i.jsx("span",{className:`px-1.5 py-0.5 rounded-full text-[9px] font-medium flex-shrink-0 ${Le.attendanceRate>=80?"bg-emerald-100 text-emerald-700":Le.attendanceRate>=70?"bg-amber-100 text-amber-700":"bg-red-100 text-red-700"}`,children:Le.attendanceRate>=80?"Excellent":Le.attendanceRate>=70?"Good":"Needs Attention"})]}),i.jsx("p",{className:"text-[9px] text-slate-500 truncate",children:Le.classes||"No classes assigned"}),i.jsxs("p",{className:"text-[9px] text-slate-400 mt-0.5",children:[Le.presentDays," present / ",Le.totalDays," ","total days"]})]})]})})},Le.id)),i.jsx("div",{className:"text-center mt-3 pt-2 border-t border-[#E6F0FA]",children:i.jsxs("p",{className:"text-[10px] text-[#0B4A82] font-medium",children:["Average attendance:"," ",E.length>0?Math.round(E.reduce((Le,Rt)=>Le+Rt.attendanceRate,0)/E.length):0,"%"]})})]})})]})]})]}),Gt&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[100] p-4 animate-in fade-in duration-200",children:i.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-2xl flex flex-col",children:[i.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-start bg-slate-50",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-16 h-16 bg-slate-200 rounded-full flex items-center justify-center text-2xl font-bold text-slate-500 shadow-inner",children:Gt.name.charAt(0)}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold text-slate-900",children:Gt.name}),i.jsxs("div",{className:"flex gap-2 text-sm text-slate-500 mt-1",children:[i.jsxs("span",{className:"flex items-center",children:[i.jsx(RT,{size:14,className:"mr-1"})," ",Gt.gender]}),i.jsx("span",{children:""}),i.jsx("span",{children:(ln=Un.find(Le=>Le.id===Gt.classId))==null?void 0:ln.name})]})]})]}),i.jsx("button",{onClick:()=>sn(null),className:"text-slate-400 hover:text-slate-700 transition-colors bg-white p-2 rounded-full shadow-sm hover:shadow",children:i.jsx(fo,{size:20})})]}),i.jsxs("div",{className:"p-6 space-y-8",children:[i.jsxs("div",{className:"bg-amber-50 border border-amber-100 rounded-xl p-5 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 bg-amber-100 rounded-full text-amber-600",children:i.jsx(ol,{size:24})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-amber-900",children:"Attendance Overview"}),i.jsx("p",{className:"text-sm text-amber-700",children:"Current Term Participation"})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("span",{className:"text-3xl font-bold text-amber-600",children:en?`${en.attendance.percentage}%`:"..."}),i.jsx("p",{className:"text-xs text-amber-700 font-medium mt-1",children:en?`${en.attendance.present}/${en.attendance.total} Days`:"Loading"})]})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center",children:[i.jsx(Dl,{size:20,className:"mr-2 text-[#0B4A82]"})," ","Academic Performance (",ae.currentTerm,")"]}),i.jsx("div",{className:"border border-slate-200 rounded-lg overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm text-left",children:[i.jsx("thead",{className:"bg-slate-100 text-slate-600 font-semibold",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3",children:"Subject"}),i.jsx("th",{className:"px-4 py-3 text-center",children:"Score"}),i.jsx("th",{className:"px-4 py-3 text-center",children:"Grade"}),i.jsx("th",{className:"px-4 py-3 text-right",children:"Remark"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-100",children:en?en.grades.map((Le,Rt)=>{const Vt=Le.total??nc(Le),{grade:Ft,remark:Yt}=um(Vt);return i.jsxs("tr",{className:"hover:bg-slate-50",children:[i.jsx("td",{className:"px-4 py-3 font-medium text-slate-800",children:Le.subject}),i.jsx("td",{className:"px-4 py-3 text-center",children:Vt>0?Vt:"-"}),i.jsx("td",{className:"px-4 py-3 text-center",children:i.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${Rg(Ft)}`,children:Vt>0?Ft:"-"})}),i.jsx("td",{className:"px-4 py-3 text-right text-slate-500",children:Vt>0?Yt:"N/A"})]},Rt)}):i.jsx("tr",{children:i.jsx("td",{colSpan:4,className:"p-4 text-center text-slate-400 italic",children:"Fetching academic records..."})})})]})})]})]})]})}),xt&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[100] p-4 animate-in fade-in duration-200",children:i.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6 shadow-xl max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-2",children:[i.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Edit Student Details"}),i.jsx("button",{onClick:()=>St(null),className:"text-slate-400 hover:text-slate-700",children:i.jsx(fo,{size:20})})]}),i.jsxs("form",{onSubmit:yn,className:"space-y-5",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"text-xs font-bold text-[#0B4A82] uppercase tracking-wide",children:"Personal Information"}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Full Name"}),i.jsx("input",{type:"text",required:!0,className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-[#1160A8] outline-none transition-all placeholder-slate-400",value:$t.name||"",onChange:Le=>Ht({...$t,name:Le.target.value})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Gender"}),i.jsxs("select",{className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-[#1160A8] outline-none bg-white text-slate-900",value:$t.gender,onChange:Le=>Ht({...$t,gender:Le.target.value}),children:[i.jsx("option",{value:"Male",children:"Male"}),i.jsx("option",{value:"Female",children:"Female"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Date of Birth"}),i.jsx("input",{type:"date",className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-[#1160A8] outline-none",value:$t.dob||"",onChange:Le=>Ht({...$t,dob:Le.target.value})})]})]})]}),i.jsxs("div",{className:"space-y-4 pt-2 border-t border-slate-50 mt-2",children:[i.jsx("h4",{className:"text-xs font-bold text-[#0B4A82] uppercase tracking-wide",children:"Academic Info"}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Assigned Class"}),i.jsx("select",{className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-[#1160A8] outline-none bg-white text-slate-900",value:$t.classId,onChange:Le=>Ht({...$t,classId:Le.target.value}),children:Un.map(Le=>i.jsx("option",{value:Le.id,children:Le.name},Le.id))})]})]}),i.jsxs("div",{className:"space-y-4 pt-2 border-t border-slate-50 mt-2",children:[i.jsx("h4",{className:"text-xs font-bold text-[#0B4A82] uppercase tracking-wide",children:"Guardian Information"}),i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Guardian Name"}),i.jsx("input",{type:"text",className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-[#1160A8] outline-none placeholder-slate-400",value:$t.guardianName||"",onChange:Le=>Ht({...$t,guardianName:Le.target.value})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Phone Number"}),i.jsx("input",{type:"tel",className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-[#1160A8] outline-none placeholder-slate-400",value:$t.guardianPhone||"",onChange:Le=>Ht({...$t,guardianPhone:Le.target.value})})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-3 mt-8 pt-4 border-t border-slate-100",children:[i.jsx("button",{type:"button",onClick:()=>St(null),className:"px-5 py-2.5 text-slate-600 hover:bg-slate-100 rounded-lg font-medium transition-colors",children:"Cancel"}),i.jsxs("button",{type:"submit",className:"flex items-center px-5 py-2.5 bg-[#0B4A82] text-white rounded-lg hover:bg-[#0B4A82] font-medium shadow-sm transition-colors",children:[i.jsx(sA,{size:18,className:"mr-2"})," Save Changes"]})]})]})]})}),He&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[100] p-4 animate-in fade-in duration-200",children:i.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-2xl flex flex-col",children:[i.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsxs("h2",{className:"text-lg font-bold text-slate-900",children:["Students with grade ",He]}),i.jsxs("p",{className:"text-sm text-slate-500",children:[(De[He]||[]).length," students"]})]}),i.jsx("button",{onClick:()=>de(null),className:"text-slate-400 hover:text-slate-700 transition-colors bg-white p-2 rounded-full shadow-sm hover:shadow",children:i.jsx(fo,{size:20})})]}),i.jsx("div",{className:"p-6 space-y-4",children:!De[He]||De[He].length===0?i.jsx("div",{className:"text-center text-slate-400 py-8",children:"No students in this grade for the selected term."}):i.jsx("div",{className:"space-y-3",children:De[He].map((Le,Rt)=>i.jsxs("div",{className:"flex items-center justify-between border-b border-slate-100 pb-3 last:pb-0",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-slate-800",children:Le.name}),i.jsxs("p",{className:"text-xs text-slate-400",children:[Le.class,"  Avg: ",Le.avg]})]}),i.jsx("div",{className:"flex items-center gap-3",children:i.jsx("button",{onClick:()=>Tt(Le.id),className:"text-xs text-[#0B4A82] hover:underline",children:"View"})})]},Le.id))})})]})})]})},WM=()=>{var V,W,ae,ce,Ae,pe,Se;const{school:n}=cc(),e=(n==null?void 0:n.id)||null,[t,s]=ee.useState([]),[a,o]=ee.useState("all"),[c,h]=ee.useState(!1),[u,f]=ee.useState(null),[A,m]=ee.useState({gender:"Male",classId:"c_p1",dob:""}),[v,g]=ee.useState(null),[b,S]=ee.useState(null),[N,E]=ee.useState(null),[I,F]=ee.useState(!1),D=async()=>{if(!e){s([]);return}const xe=await ut.getStudents(e,void 0);if(s(xe),e){const Ie=xe.filter(_e=>!_e.schoolId);Ie.length>0&&await Promise.all(Ie.map(_e=>ut.updateStudent({..._e,schoolId:e})))}};ee.useEffect(()=>{D()},[e]);const P=async xe=>{S(null),g(xe);const Ie=await ut.getStudentPerformance(e||"",xe.id,xe.classId);S(Ie)},K=()=>{g(null),S(null)},L=t.filter(xe=>a==="all"?!0:xe.classId===a).sort((xe,Ie)=>xe.name.localeCompare(Ie.name)),Q=a==="all"?"All Classes":((V=Un.find(xe=>xe.id===a))==null?void 0:V.name)||a,R=t.length,M=L.length,O=(W=b==null?void 0:b.attendance)==null?void 0:W.total,H=(ae=b==null?void 0:b.attendance)==null?void 0:ae.present,G=O!=null&&H!=null?Math.max(O-H,0):null;(ce=b==null?void 0:b.attendance)==null||ce.percentage;const ie=((Ae=b==null?void 0:b.grades)==null?void 0:Ae.length)??0,ge=()=>{S(null),m({gender:"Male",classId:a!=="all"?a:"c_p1",dob:""}),f(null),h(!0)},J=async xe=>{m(xe),f(xe.id),h(!0),S(null);const Ie=await ut.getStudentPerformance(e||"",xe.id,xe.classId);S(Ie)},re=()=>{h(!1),m({gender:"Male",classId:"c_p1",dob:""}),f(null),S(null)},se=(xe,Ie)=>{Ie.stopPropagation(),E(xe)},he=async()=>{if(!N)return;const xe=N;E(null);const Ie=[...t];s(_e=>_e.filter(De=>De.id!==xe));try{await ut.deleteStudent(xe)}catch(_e){console.error("Delete failed",_e),s(Ie),Mt("Failed to delete student. Please try again.",{type:"error"})}},je=async xe=>{if(xe.preventDefault(),!(!A.name||!A.classId)){F(!0);try{if(u){const Ie={...A,id:u,schoolId:e||A.schoolId};await ut.updateStudent(Ie),Mt("Student updated successfully.",{type:"success"})}else{const Ie={id:Math.random().toString(36).substr(2,9),name:A.name,gender:A.gender,dob:A.dob||"2015-01-01",classId:A.classId,schoolId:e||"",guardianName:A.guardianName||"",guardianPhone:A.guardianPhone||""};await ut.addStudent(Ie),Mt("Student added successfully.",{type:"success"})}await D(),re()}catch(Ie){console.error("Save failed",Ie),Mt("Failed to save student. Please try again.",{type:"error"})}finally{F(!1)}}},ne=()=>{if(!b||!b.attendance||!b.attendance.schoolDates)return null;const{schoolDates:xe,presentDates:Ie}=b.attendance;if(xe.length===0)return i.jsx("div",{className:"text-center text-slate-400 py-4 italic",children:"No attendance records found for this term."});const _e=rt=>(typeof rt=="string"?new Date(rt):rt).toISOString().split("T")[0],De=new Set(xe.map(rt=>_e(rt))),st=new Set(Ie.map(rt=>_e(rt))),He={};xe.forEach(rt=>{const _t=new Date(rt),vt=`${_t.getFullYear()}-${_t.getMonth()}`;He[vt]||(He[vt]={label:_t.toLocaleString("default",{month:"long",year:"numeric"}),year:_t.getFullYear(),month:_t.getMonth()})});const de=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:Object.entries(He).map(([rt,_t])=>{const{year:vt,month:qe,label:We}=_t,dt=new Date(vt,qe,1).getDay(),Qt=new Date(vt,qe+1,0).getDate(),Pt=Math.ceil((dt+Qt)/7)*7;return i.jsxs("div",{className:"relative overflow-hidden border border-slate-200 rounded-2xl p-4 bg-white shadow-sm",children:[i.jsx("div",{className:"absolute -top-10 -right-10 h-24 w-24 rounded-full bg-indigo-100/60 blur-2xl"}),i.jsx("div",{className:"absolute -bottom-12 -left-10 h-28 w-28 rounded-full bg-emerald-100/60 blur-2xl"}),i.jsxs("div",{className:"relative flex items-center justify-between mb-3 border-b border-slate-100 pb-2",children:[i.jsx("h5",{className:"font-semibold text-slate-800 text-sm",children:We}),i.jsx("span",{className:"text-[11px] text-slate-400",children:"Attendance"})]}),i.jsxs("div",{className:"grid grid-cols-7 gap-1 text-center",children:[de.map((Gt,sn)=>i.jsx("div",{className:"text-[10px] text-slate-400 font-semibold uppercase",children:Gt},sn)),Array.from({length:Pt}).map((Gt,sn)=>{const en=sn-dt+1;if(en<1||en>Qt)return i.jsx("div",{className:"h-8"},sn);const Nn=new Date(vt,qe,en),xt=_e(Nn),St=De.has(xt),$t=st.has(xt),Ht=Nn.getDay()===0||Nn.getDay()===6,Rn="h-8 w-8 mx-auto flex items-center justify-center rounded-full text-xs font-semibold transition",Ke=Ht?"text-slate-300 bg-slate-50":"text-slate-600";return St?i.jsx("div",{className:"flex items-center justify-center",children:i.jsx("div",{title:`${xt}: ${$t?"Present":"Absent"}`,className:`${Rn} ${Ke} ${$t?"bg-emerald-100 text-emerald-800 shadow-sm":"bg-sky-100 text-sky-800 shadow-sm"}`,children:en})},sn):i.jsx("div",{className:"h-8 flex items-center justify-center text-[11px] text-slate-200"},sn)})]}),i.jsxs("div",{className:"mt-3 flex justify-center gap-4 text-[11px] text-slate-500",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 bg-emerald-100 rounded-full border border-emerald-200"})," ","Present"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 bg-sky-100 rounded-full border border-sky-200"})," ","Absent"]})]})]},rt)})})};return i.jsxs(Xs,{title:"Manage Students",children:[i.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[i.jsxs("div",{className:"relative overflow-hidden rounded-2xl border bg-gradient-to-br from-indigo-50 via-white to-emerald-50 p-6 shadow-sm",children:[i.jsx("div",{className:"absolute -top-16 -right-16 h-40 w-40 rounded-full bg-indigo-200/40 blur-3xl"}),i.jsx("div",{className:"absolute -bottom-20 -left-16 h-48 w-48 rounded-full bg-emerald-200/40 blur-3xl"}),i.jsxs("div",{className:"relative flex flex-col gap-2",children:[i.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Manage Students"}),i.jsx("p",{className:"text-sm text-slate-600",children:"Organize, update, and review student profiles in a beautiful workspace."}),i.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-3 text-sm",children:[i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-white/80 px-3 py-1 font-medium text-slate-700 shadow-sm",children:[i.jsx(ll,{className:"h-4 w-4 text-indigo-500"}),"Total: ",R]}),i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-emerald-50 px-3 py-1 font-medium text-emerald-700 shadow-sm",children:[i.jsx(_A,{className:"h-4 w-4"}),"Showing: ",M]}),i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-slate-100 px-3 py-1 font-medium text-slate-700 shadow-sm",children:[i.jsx(Dl,{className:"h-4 w-4"}),Q]})]})]})]}),i.jsxs("div",{className:"rounded-2xl border bg-white/80 shadow-sm overflow-hidden",children:[i.jsxs("div",{className:"p-4 border-b border-slate-100 flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[i.jsx("div",{className:"flex gap-2",children:i.jsxs("select",{className:"border border-slate-200 rounded-full px-4 py-2 text-sm bg-white text-slate-700 shadow-sm focus:ring-2 focus:ring-emerald-200",value:a,onChange:xe=>o(xe.target.value),children:[i.jsx("option",{value:"all",children:"All Classes"}),Un.map(xe=>i.jsx("option",{value:xe.id,children:xe.name},xe.id))]})}),i.jsxs("button",{onClick:ge,className:"flex items-center justify-center gap-2 rounded-full bg-emerald-600 text-white px-5 py-2 text-sm font-semibold shadow-sm transition hover:scale-[1.01] hover:bg-emerald-700",children:[i.jsx(cm,{size:16}),"Add Student"]})]}),i.jsx("div",{className:"p-4",children:L.length===0?i.jsx("div",{className:"px-6 py-10 text-center text-slate-400",children:"No students found."}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:L.map(xe=>{var _e;const Ie=((_e=Un.find(De=>De.id===xe.classId))==null?void 0:_e.name)||xe.classId;return i.jsxs("div",{className:"group relative overflow-hidden rounded-2xl border border-slate-200 bg-white p-5 shadow-sm transition duration-300 hover:-translate-y-1 hover:shadow-md",children:[i.jsx("div",{className:"absolute -top-14 -right-14 h-28 w-28 rounded-full bg-indigo-100/60 blur-2xl"}),i.jsx("div",{className:"absolute -bottom-16 -left-10 h-32 w-32 rounded-full bg-emerald-100/60 blur-2xl"}),i.jsxs("div",{className:"relative flex items-center justify-between gap-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"h-11 w-11 rounded-full bg-indigo-100 text-indigo-700 flex items-center justify-center text-sm font-semibold",children:xe.name.charAt(0)}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-slate-900",children:xe.name}),i.jsxs("p",{className:"text-xs text-slate-500",children:["ID: ",xe.id]})]})]}),i.jsx("span",{className:"inline-flex items-center rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-700",children:Ie})]}),i.jsxs("div",{className:"relative mt-4 grid grid-cols-2 gap-3 text-xs text-slate-600",children:[i.jsxs("div",{className:"rounded-xl border border-slate-100 bg-slate-50/60 p-3",children:[i.jsx("p",{className:"text-[11px] uppercase tracking-wide text-slate-400",children:"Gender"}),i.jsx("p",{className:"mt-1 text-sm font-semibold text-slate-800",children:xe.gender})]}),i.jsxs("div",{className:"rounded-xl border border-slate-100 bg-slate-50/60 p-3",children:[i.jsx("p",{className:"text-[11px] uppercase tracking-wide text-slate-400",children:"Guardian"}),i.jsx("p",{className:"mt-1 text-sm font-semibold text-slate-800",children:xe.guardianName||"-"}),i.jsx("p",{className:"text-[11px] text-slate-400",children:xe.guardianPhone||""})]})]}),i.jsxs("div",{className:"relative mt-4 flex items-center justify-between",children:[i.jsxs("button",{type:"button",onClick:()=>P(xe),className:"inline-flex items-center gap-2 rounded-full border border-emerald-200 bg-emerald-50 px-3 py-1.5 text-xs font-semibold text-emerald-700 transition hover:bg-emerald-100",title:"View Performance",children:[i.jsx(Xd,{size:14}),"View"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{type:"button",onClick:()=>J(xe),className:"text-[#1160A8] hover:text-[#0B4A82] p-2 hover:bg-[#E6F0FA] rounded-full transition-colors",title:"Edit Details",children:i.jsx(t2,{size:16})}),i.jsx("button",{type:"button",onClick:De=>se(xe.id,De),className:"text-rose-500 hover:text-rose-700 p-2 hover:bg-rose-50 rounded-full transition-colors cursor-pointer",title:"Delete Student",children:i.jsx(ic,{size:16,className:"pointer-events-none"})})]})]})]},xe.id)})})})]})]}),N&&i.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[60] p-4",children:i.jsx("div",{className:"bg-white rounded-2xl max-w-sm w-full p-6 shadow-2xl transform transition-all",children:i.jsxs("div",{className:"flex flex-col items-center text-center",children:[i.jsx("div",{className:"w-12 h-12 bg-rose-50 rounded-full flex items-center justify-center mb-4",children:i.jsx(Ll,{className:"text-rose-600 w-6 h-6"})}),i.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"Delete Student?"}),i.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"Are you sure you want to delete this student? This action cannot be undone."}),i.jsxs("div",{className:"flex gap-3 w-full",children:[i.jsx("button",{onClick:()=>E(null),className:"flex-1 px-4 py-2 border border-slate-200 text-slate-700 rounded-full hover:bg-slate-50 font-medium transition",children:"Cancel"}),i.jsx("button",{onClick:he,className:"flex-1 px-4 py-2 bg-rose-600 text-white rounded-full hover:bg-rose-700 font-medium transition shadow-sm",children:"Delete"})]})]})})}),c&&i.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-6 shadow-2xl max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"mb-6 border-b border-slate-100 pb-3",children:[i.jsx("h3",{className:"text-lg font-bold text-slate-900",children:u?"Edit Student Details":"Add New Student"}),i.jsx("p",{className:"text-xs text-slate-500",children:"Keep student records accurate and up to date."})]}),u&&i.jsxs("div",{className:"mb-6 bg-slate-50 border border-slate-200 rounded-lg p-4 flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-bold text-slate-700",children:"Attendance Summary"}),i.jsx("p",{className:"text-xs text-slate-500",children:"Current Term Performance"})]}),i.jsx("div",{className:"text-right",children:b?i.jsxs(i.Fragment,{children:[i.jsxs("span",{className:"text-xl font-bold text-emerald-600",children:[b.attendance.percentage,"%"]}),i.jsxs("p",{className:"text-xs text-slate-500",children:[b.attendance.present,"/",b.attendance.total," Days"]})]}):i.jsx("span",{className:"text-xs text-slate-400",children:"Loading data..."})})]}),i.jsxs("form",{onSubmit:je,className:"space-y-5",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"text-sm font-bold text-emerald-600 uppercase tracking-wide",children:"Personal Information"}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Full Name"}),i.jsx("input",{type:"text",required:!0,className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none transition-all placeholder-slate-400",value:A.name||"",onChange:xe=>m({...A,name:xe.target.value}),placeholder:"e.g. Kwame Nkrumah Jnr"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Gender"}),i.jsxs("select",{className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none bg-white text-slate-900",value:A.gender,onChange:xe=>m({...A,gender:xe.target.value}),children:[i.jsx("option",{value:"Male",children:"Male"}),i.jsx("option",{value:"Female",children:"Female"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Date of Birth"}),i.jsx("input",{type:"date",className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none",value:A.dob||"",onChange:xe=>m({...A,dob:xe.target.value})})]})]})]}),i.jsxs("div",{className:"space-y-4 pt-2",children:[i.jsx("h4",{className:"text-sm font-bold text-emerald-600 uppercase tracking-wide",children:"Academic Info"}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Assigned Class"}),i.jsx("select",{className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none bg-white text-slate-900",value:A.classId,onChange:xe=>m({...A,classId:xe.target.value}),children:Un.map(xe=>i.jsx("option",{value:xe.id,children:xe.name},xe.id))})]})]}),i.jsxs("div",{className:"space-y-4 pt-2",children:[i.jsx("h4",{className:"text-sm font-bold text-emerald-600 uppercase tracking-wide",children:"Guardian Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Guardian Name"}),i.jsx("input",{type:"text",className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none placeholder-slate-400",value:A.guardianName||"",onChange:xe=>m({...A,guardianName:xe.target.value}),placeholder:"e.g. Mr. John Doe"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Phone Number"}),i.jsx("input",{type:"tel",className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none placeholder-slate-400",value:A.guardianPhone||"",onChange:xe=>m({...A,guardianPhone:xe.target.value}),placeholder:"e.g. 024 123 4567"})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-3 mt-8 pt-4 border-t border-slate-100",children:[i.jsx("button",{type:"button",onClick:re,className:"px-5 py-2.5 text-slate-600 hover:bg-slate-100 rounded-lg font-medium transition-colors",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:I,className:`px-5 py-2.5 bg-emerald-600 text-white rounded-lg font-medium shadow-sm transition-colors ${I?"opacity-60 cursor-not-allowed hover:bg-emerald-600":"hover:bg-emerald-700"}`,children:I?i.jsxs("span",{className:"flex items-center",children:[i.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),u?"Updating...":"Saving..."]}):u?"Update Student":"Save Student"})]})]})]})}),v&&i.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-4xl max-h-[95vh] overflow-y-auto shadow-2xl flex flex-col",children:[i.jsxs("div",{className:"p-6 border-b border-slate-100 flex flex-col gap-4 bg-gradient-to-r from-slate-50 via-white to-emerald-50 sticky top-0 z-10",children:[i.jsxs("div",{className:"flex items-start justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-16 h-16 bg-indigo-100 text-indigo-700 rounded-2xl flex items-center justify-center text-2xl font-bold shadow-sm",children:v.name.charAt(0)}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:v.name}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-sm text-slate-500 mt-1",children:[i.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-white/80 px-2.5 py-1 text-xs font-semibold text-slate-600 shadow-sm",children:[i.jsx(RT,{size:14}),v.gender]}),i.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-white/80 px-2.5 py-1 text-xs font-semibold text-slate-600 shadow-sm",children:[i.jsx(Dl,{size:14}),(pe=Un.find(xe=>xe.id===v.classId))==null?void 0:pe.name]})]})]})]}),i.jsx("button",{onClick:K,className:"text-slate-400 hover:text-slate-700 bg-white p-2 rounded-full shadow-sm",children:i.jsx(fo,{size:24})})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[i.jsxs("div",{className:"rounded-xl border border-slate-100 bg-white p-3 shadow-sm",children:[i.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Attendance Rate"}),i.jsx("p",{className:`mt-1 text-2xl font-bold ${((Se=b==null?void 0:b.attendance)==null?void 0:Se.percentage)<50?"text-rose-600":"text-emerald-600"}`,children:b?`${b.attendance.percentage}%`:"-"})]}),i.jsxs("div",{className:"rounded-xl border border-slate-100 bg-white p-3 shadow-sm",children:[i.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Days Present"}),i.jsx("p",{className:"mt-1 text-2xl font-bold text-slate-900",children:b?b.attendance.present:"-"})]}),i.jsxs("div",{className:"rounded-xl border border-slate-100 bg-white p-3 shadow-sm",children:[i.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Total School Days"}),i.jsx("p",{className:"mt-1 text-2xl font-bold text-slate-900",children:b?b.attendance.total:"-"})]})]})]}),i.jsxs("div",{className:"p-6 space-y-8",children:[i.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-white/80 p-5 shadow-sm",children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-emerald-100 rounded-lg text-emerald-600",children:i.jsx(ol,{size:20})}),i.jsx("h4",{className:"font-bold text-slate-800 text-lg",children:"Attendance Record"})]}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-emerald-50 px-3 py-1 font-semibold text-emerald-700",children:[i.jsx("div",{className:"w-2.5 h-2.5 bg-emerald-300 rounded-full"}),"Present"]}),i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-sky-50 px-3 py-1 font-semibold text-sky-700",children:[i.jsx("div",{className:"w-2.5 h-2.5 bg-sky-300 rounded-full"}),"Absent"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6",children:[i.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-slate-50/70 p-4",children:[i.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Total Days"}),i.jsx("p",{className:"mt-2 text-2xl font-bold text-slate-900",children:O??"-"})]}),i.jsxs("div",{className:"rounded-2xl border border-emerald-100 bg-emerald-50/70 p-4",children:[i.jsx("p",{className:"text-xs uppercase tracking-wide text-emerald-500",children:"Days Present"}),i.jsx("p",{className:"mt-2 text-2xl font-bold text-emerald-700",children:H??"-"})]}),i.jsxs("div",{className:"rounded-2xl border border-sky-100 bg-sky-50/70 p-4",children:[i.jsx("p",{className:"text-xs uppercase tracking-wide text-sky-500",children:"Days Absent"}),i.jsx("p",{className:"mt-2 text-2xl font-bold text-sky-700",children:G??"-"})]})]}),i.jsx("div",{className:"rounded-2xl border border-slate-100 bg-white p-4 shadow-sm",children:ne()})]}),i.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-white/80 p-5 shadow-sm",children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-4",children:[i.jsxs("h3",{className:"font-bold text-slate-800 flex items-center",children:[i.jsx(Dl,{size:20,className:"mr-2 text-[#0B4A82]"})," ","Academic Performance"]}),i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-indigo-50 px-3 py-1 text-xs font-semibold text-indigo-700",children:["Subjects: ",ie]})]}),i.jsx("div",{className:"border border-slate-200 rounded-2xl overflow-hidden bg-white",children:i.jsxs("table",{className:"w-full text-sm text-left",children:[i.jsx("thead",{className:"bg-slate-50 text-slate-600 font-semibold",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3",children:"Subject"}),i.jsx("th",{className:"px-4 py-3 text-center",children:"Score"}),i.jsx("th",{className:"px-4 py-3 text-center",children:"Grade"}),i.jsx("th",{className:"px-4 py-3 text-right",children:"Remark"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-100",children:b?b.grades.map((xe,Ie)=>{const _e=xe.total||(xe.testScore||0)+(xe.homeworkScore||0)+(xe.projectScore||0)+(xe.examScore||0),{grade:De,remark:st}=um(_e);return i.jsxs("tr",{className:"hover:bg-slate-50",children:[i.jsx("td",{className:"px-4 py-3 font-medium text-slate-800",children:xe.subject}),i.jsx("td",{className:"px-4 py-3 text-center",children:_e>0?_e:"-"}),i.jsx("td",{className:"px-4 py-3 text-center",children:i.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${Rg(De)}`,children:_e>0?De:"-"})}),i.jsx("td",{className:"px-4 py-3 text-right text-slate-500",children:_e>0?st:"N/A"})]},Ie)}):i.jsx("tr",{children:i.jsx("td",{colSpan:4,className:"p-4 text-center",children:"Loading grades..."})})})]})}),i.jsx("div",{className:"mt-3 flex items-center justify-end text-xs text-slate-400",children:"Updated via system records"})]})]}),i.jsx("div",{className:"p-4 bg-slate-50 border-t border-slate-100 text-center",children:i.jsx("p",{className:"text-xs text-slate-400",children:"Generated automatically by School Manager GH System"})})]})})]})};async function XM(){const n=gu.currentUser;if(!n)throw new Error("NO_SESSION");try{return await n.getIdToken(!0)}catch(e){throw console.error("Error refreshing ID token:",e),new Error("TOKEN_REFRESH_FAILED")}}const JM="http://localhost:3001".replace(/\/$/,"")||"https://school-manager-hehk.onrender.com",G5=JM;class M0 extends Error{constructor(e,t,s){super(e),this.code=t,this.status=s,this.name="ApiError"}}async function wm(n,e={}){let t=0;const s=1;for(;t<=s;)try{const a=await XM(),o=await fetch(`${G5}${n}`,{method:e.method||"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:e.body?JSON.stringify(e.body):void 0});if(!o.ok){const c=await o.json().catch(()=>({}));if(o.status===401&&c.code==="ID_TOKEN_EXPIRED"){if(t<s){console.log("ID token expired, retrying request..."),t++;continue}throw new M0("Your session has expired. Please log out and log in again.","SESSION_EXPIRED",o.status)}throw new M0(c.error||`HTTP ${o.status} ${o.statusText}`,c.code,o.status)}return await o.json()}catch(a){throw a.message==="NO_SESSION"?new M0("You are not logged in. Please log in to continue.","NO_SESSION"):a.name==="TypeError"&&a.message==="Failed to fetch"?new M0(`Cannot connect to the backend at ${G5}. Please ensure the server is running.`,"CONNECTION_FAILED"):a}throw new Error("API request failed after all retries.")}async function qM(n){return wm("/api/superadmin/create-school",{body:n})}async function ZM(n){return wm("/api/superadmin/create-school-admin",{body:n})}async function e7(n){return wm("/api/superadmin/reset-school-admin-password",{body:n})}async function t7(n){return wm("/api/createTeacher",{body:n})}async function n7(n){return wm("/api/billing/initiate",{body:n})}async function s7(n){return wm("/api/billing/verify",{body:n})}Fg(Ug,"createSchool");Fg(Ug,"createSchoolAdmin");const r7=Fg(Ug,"deleteSchool");Fg(Ug,"createTeacherAccount");const a7=Fg(Ug,"repairUserSchoolId"),i7=()=>{const{school:n}=cc(),e=(n==null?void 0:n.id)||"",[t,s]=ee.useState([]),[a,o]=ee.useState(!1),[c,h]=ee.useState(!1),[u,f]=ee.useState(!1),[A,m]=ee.useState(null),[v,g]=ee.useState(null),[b,S]=ee.useState(null),[N,E]=ee.useState(!1),[I,F]=ee.useState(!1),[D,P]=ee.useState(!1),[K,L]=ee.useState(null),[Q,R]=ee.useState([]),[M,O]=ee.useState(!1),[H,G]=ee.useState({role:ms.TEACHER,assignedClassIds:[]}),[ie,ge]=ee.useState(null),J=async()=>{if(!e){s([]);return}const pe=(await ut.getUsers(e)).filter(Se=>Se.role===ms.TEACHER);s(pe)};ee.useEffect(()=>{J()},[e]);const re=(Ae,pe)=>{navigator.clipboard.writeText(Ae),g(pe),setTimeout(()=>g(null),2e3)},se=Ae=>{G(pe=>{const Se=pe.assignedClassIds||[];return Se.includes(Ae)?{...pe,assignedClassIds:Se.filter(xe=>xe!==Ae)}:{...pe,assignedClassIds:[...Se,Ae]}})},he=async Ae=>{if(Ae.preventDefault(),!e){Mt("School ID is not available. Please refresh and try again.",{type:"error"});return}if(!H.fullName||!H.email){Mt("Please fill in all fields (full name and email).",{type:"error"});return}h(!0);try{await t7({fullName:H.fullName,email:H.email,password:H.password||void 0,assignedClassIds:H.assignedClassIds||[],schoolId:e}),m({tempPassword:H.password||void 0,email:H.email,fullName:H.fullName,adminProvidedPassword:!!H.password}),f(!0),o(!1),G({role:ms.TEACHER,assignedClassIds:[],email:"",fullName:"",password:""}),F(!1),await J()}catch(pe){console.error("Error creating teacher:",pe),Mt((pe==null?void 0:pe.message)||"Failed to create teacher.",{type:"error",duration:7e3})}finally{h(!1)}},je=Ae=>{ge(Ae)},ne=async()=>{if(!ie)return;const Ae=t.find(xe=>xe.id===ie);if(!Ae){ge(null);return}if(Ae.schoolId!==e){ge(null),Mt("You can only delete teachers from your school.",{type:"error"});return}const pe=ie;ge(null);const Se=[...t];s(xe=>xe.filter(Ie=>Ie.id!==pe));try{await ut.deleteUser(pe);const _e=(await ut.getAllTeacherAttendanceRecords(e)).filter(De=>De.teacherId===pe&&De.schoolId&&De.schoolId===e).map(De=>yi(Vn(Et,"teacher_attendance",De.id)));await Promise.all(_e)}catch(xe){console.error("Failed to delete teacher",xe),s(Se),Mt("Failed to delete teacher profile. Please try again.",{type:"error"})}},V=Ae=>{L(Ae),R(Ae.assignedClassIds||[]),P(!0)},W=Ae=>{R(pe=>(pe||[]).includes(Ae)?(pe||[]).filter(Se=>Se!==Ae):[...pe||[],Ae])},ae=async()=>{if(K){if(K.schoolId!==e){Mt("You can only edit teachers from your school.",{type:"error"});return}O(!0);try{await ut.updateUserAssignedClasses(K.id,Q),Mt("Teacher classes updated successfully.",{type:"success"}),P(!1),L(null),R([]),await J()}catch(Ae){console.error("Error updating teacher classes:",Ae),Mt((Ae==null?void 0:Ae.message)||"Failed to update teacher classes.",{type:"error"})}finally{O(!1)}}},ce=async()=>{if(b){E(!0);try{const Ae=await a7({targetUid:b,schoolId:e}),{message:pe}=Ae.data;Mt(pe||"Teacher account repaired successfully.",{type:"success"}),S(null),await J()}catch(Ae){console.error("Error repairing teacher:",Ae),Mt((Ae==null?void 0:Ae.details)||(Ae==null?void 0:Ae.message)||"Failed to repair teacher account.",{type:"error",duration:6e3})}finally{E(!1)}}};return i.jsxs(Xs,{title:"Manage Teachers",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 overflow-hidden",children:[i.jsxs("div",{className:"p-4 border-b border-slate-100 flex justify-between items-center",children:[i.jsx("h2",{className:"font-semibold text-slate-800",children:"Staff List"}),i.jsxs("button",{onClick:()=>{if(!e){Mt("School ID is not available yet. Please refresh and try again.",{type:"error"});return}o(!0)},className:"flex items-center bg-emerald-600 text-white px-4 py-2 rounded-md hover:bg-emerald-700 transition-colors text-sm font-medium",children:[i.jsx(cm,{size:16,className:"mr-2"}),"Add Teacher"]})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-left text-sm text-slate-600",children:[i.jsx("thead",{className:"bg-slate-50 text-slate-800 font-semibold border-b border-slate-200",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3",children:"Name"}),i.jsx("th",{className:"px-6 py-3",children:"Email"}),i.jsx("th",{className:"px-6 py-3",children:"Account Status"}),i.jsx("th",{className:"px-6 py-3",children:"Assigned Classes"}),i.jsx("th",{className:"px-6 py-3 text-right",children:"Actions"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-100",children:t.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-slate-400",children:"No teachers found for this school."})}):t.map(Ae=>{const Se=(Ae.assignedClassIds||[]).map(Ie=>{var _e;return(_e=Un.find(De=>De.id===Ie))==null?void 0:_e.name}).filter(Boolean),xe=!Ae.schoolId;return i.jsxs("tr",{className:`hover:bg-slate-50 ${xe?"bg-red-50":""}`,children:[i.jsx("td",{className:"px-6 py-3 font-medium text-slate-800",children:Ae.fullName}),i.jsxs("td",{className:"px-6 py-3 flex items-center",children:[i.jsx(Hk,{size:14,className:"mr-2 text-slate-400"}),Ae.email]}),i.jsx("td",{className:"px-6 py-3",children:xe?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ab,{size:16,className:"text-red-600"}),i.jsx("span",{className:"text-red-700 font-semibold text-xs",children:"Missing schoolId"})]}):i.jsx("span",{className:"text-emerald-700 text-xs font-medium",children:" Complete"})}),i.jsx("td",{className:"px-6 py-3",children:i.jsx("div",{className:"flex flex-wrap gap-1",children:Se.length>0?Se.map(Ie=>i.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-700",children:Ie},Ie)):i.jsx("span",{className:"text-slate-400 italic text-xs",children:"No classes"})})}),i.jsxs("td",{className:"px-6 py-3 text-right flex items-center justify-end gap-2",children:[i.jsx("button",{onClick:()=>V(Ae),className:"text-blue-600 hover:text-blue-800 p-2 hover:bg-blue-50 rounded-full transition-colors",title:"Edit Assigned Classes",children:i.jsx(nM,{size:16,className:"pointer-events-none"})}),xe&&i.jsx("button",{onClick:()=>S(Ae.id),className:"text-orange-600 hover:text-orange-800 p-2 hover:bg-orange-50 rounded-full transition-colors",title:"Repair Account",children:i.jsx(z5,{size:16,className:"pointer-events-none"})}),i.jsx("button",{onClick:()=>je(Ae.id),className:"text-red-500 hover:text-red-700 p-2 hover:bg-red-50 rounded-full transition-colors",title:"Remove Teacher",children:i.jsx(ic,{size:16,className:"pointer-events-none"})})]})]},Ae.id)})})]})})]}),ie&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60] p-4",children:i.jsx("div",{className:"bg-white rounded-lg max-w-sm w-full p-6 shadow-xl transform transition-all",children:i.jsxs("div",{className:"flex flex-col items-center text-center",children:[i.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mb-4",children:i.jsx(Ll,{className:"text-red-600 w-6 h-6"})}),i.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"Remove Teacher?"}),i.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"This removes their profile and disables their login account from the system."}),i.jsxs("div",{className:"flex gap-3 w-full",children:[i.jsx("button",{onClick:()=>ge(null),className:"flex-1 px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 font-medium transition-colors",children:"Cancel"}),i.jsx("button",{onClick:ne,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 font-medium transition-colors shadow-sm",children:"Remove"})]})]})})}),a&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6 shadow-xl max-h-[90vh] overflow-y-auto",children:[i.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center text-slate-900 border-b pb-2",children:[i.jsx(n2,{className:"mr-2 text-emerald-600",size:20})," Add New Teacher"]}),i.jsxs("form",{onSubmit:he,className:"space-y-4 pt-2",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Full Name"}),i.jsx("input",{type:"text",required:!0,className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none placeholder-slate-400",value:H.fullName||"",onChange:Ae=>G({...H,fullName:Ae.target.value}),placeholder:"e.g. Mr. John Doe"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Email Address"}),i.jsx("input",{type:"email",required:!0,className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none placeholder-slate-400",value:H.email||"",onChange:Ae=>G({...H,email:Ae.target.value}),placeholder:"teacher@school.com"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Password (Optional)"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:I?"text":"password",className:"w-full border border-slate-300 p-2.5 pr-10 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none placeholder-slate-400",value:H.password||"",onChange:Ae=>G({...H,password:Ae.target.value}),placeholder:"Leave empty to send password reset link"}),i.jsx("button",{type:"button",onClick:()=>F(!I),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-700 transition-colors",title:I?"Hide password":"Show password",children:I?i.jsx(IT,{size:18}):i.jsx(Xd,{size:18})})]})]}),i.jsxs("p",{className:"text-xs text-slate-500 bg-blue-50 p-3 rounded-lg border border-blue-200",children:[" ",i.jsx("strong",{children:"Option 1:"})," Leave password empty - a reset link will be sent to email. ",i.jsx("strong",{children:"Option 2:"})," Set a password above - teacher can log in immediately with it."]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Assign Classes"}),i.jsx("div",{className:"border border-slate-300 rounded-lg p-3 max-h-56 overflow-y-auto bg-slate-50",children:i.jsx("div",{className:"grid grid-cols-2 gap-3",children:Un.map(Ae=>{var Se;const pe=(Se=H.assignedClassIds)==null?void 0:Se.includes(Ae.id);return i.jsxs("button",{type:"button",onClick:()=>se(Ae.id),className:`flex items-center justify-between px-3 py-2.5 rounded-lg text-sm font-medium border transition-all duration-200 ${pe?"bg-emerald-600 border-emerald-600 text-white shadow-md transform scale-[1.02]":"bg-white border-slate-200 text-slate-600 hover:border-emerald-300 hover:shadow-sm"}`,children:[i.jsx("span",{children:Ae.name}),pe?i.jsx(H5,{size:16,className:"text-white ml-2"}):i.jsx(V5,{size:16,className:"text-slate-300 ml-2"})]},Ae.id)})})}),i.jsx("p",{className:"text-[10px] text-slate-400 mt-2",children:"Click classes to select/deselect them."})]}),i.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-4 border-t border-slate-100",children:[i.jsx("button",{type:"button",onClick:()=>o(!1),disabled:c,className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg font-medium transition-colors",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:c,className:"flex items-center px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 font-medium shadow-sm transition-colors disabled:opacity-70",children:c?i.jsxs(i.Fragment,{children:[i.jsx(Vy,{size:16,className:"mr-2 animate-spin"})," ","Creating..."]}):"Create Teacher"})]})]})]})}),b&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60] p-4",children:i.jsx("div",{className:"bg-white rounded-lg max-w-sm w-full p-6 shadow-xl transform transition-all",children:i.jsxs("div",{className:"flex flex-col items-center text-center",children:[i.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center mb-4",children:i.jsx(z5,{className:"text-orange-600 w-6 h-6"})}),i.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"Repair Teacher Account?"}),i.jsx("p",{className:"text-sm text-slate-500 mb-2",children:"This teacher's account is missing the required schoolId field."}),i.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"This action will add your school's ID to their profile so they can log in."}),i.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded p-3 mb-6 w-full",children:i.jsx("p",{className:"text-xs text-orange-700",children:"After repair, the teacher will be able to log in and access the system."})}),i.jsxs("div",{className:"flex gap-3 w-full",children:[i.jsx("button",{onClick:()=>S(null),disabled:N,className:"flex-1 px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 font-medium transition-colors disabled:opacity-50",children:"Cancel"}),i.jsx("button",{onClick:ce,disabled:N,className:"flex-1 flex items-center justify-center px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 font-medium transition-colors shadow-sm disabled:opacity-70",children:N?i.jsxs(i.Fragment,{children:[i.jsx(Vy,{size:16,className:"mr-2 animate-spin"}),"Repairing..."]}):"Repair Account"})]})]})})}),u&&A&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6 shadow-xl",children:[i.jsxs("div",{className:"flex flex-col items-center text-center mb-4",children:[i.jsx("div",{className:"w-12 h-12 bg-emerald-100 rounded-full flex items-center justify-center mb-4",children:i.jsx(Pp,{className:"text-emerald-600 w-6 h-6"})}),i.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"Teacher Created Successfully!"}),i.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"Share these credentials with the teacher."})]}),i.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 space-y-4 mb-4 border border-slate-200",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-semibold text-slate-500 mb-1 uppercase",children:"Email"}),i.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded border border-slate-200",children:[i.jsx("code",{className:"text-sm font-mono text-slate-700",children:A.email}),i.jsx("button",{onClick:()=>re(A.email,"email"),className:"text-slate-400 hover:text-slate-600 transition-colors",title:"Copy to clipboard",children:v==="email"?i.jsx(Pp,{size:16,className:"text-emerald-600"}):i.jsx(P5,{size:16})})]})]}),A.tempPassword&&i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-semibold text-slate-500 mb-1 uppercase",children:A.adminProvidedPassword?"Password":"Temporary Password"}),i.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded border border-slate-200",children:[i.jsx("code",{className:"text-sm font-mono text-slate-700",children:A.tempPassword}),i.jsx("button",{onClick:()=>re(A.tempPassword,"password"),className:"text-slate-400 hover:text-slate-600 transition-colors",title:"Copy to clipboard",children:v==="password"?i.jsx(Pp,{size:16,className:"text-emerald-600"}):i.jsx(P5,{size:16})})]}),!A.adminProvidedPassword&&i.jsx("p",{className:"text-xs text-slate-500 mt-2",children:" Teacher must change password on first login."})]}),A.adminProvidedPassword?i.jsx("div",{className:"bg-green-50 border border-green-200 rounded p-3",children:i.jsx("p",{className:"text-xs text-green-700",children:" Teacher can log in immediately with the password above."})}):i.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded p-3",children:i.jsx("p",{className:"text-xs text-blue-700",children:" A password reset link has been sent to their email inbox."})})]}),i.jsx("button",{onClick:()=>f(!1),className:"w-full px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 font-medium transition-colors",children:"Done"})]})}),D&&K&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60] p-4",children:i.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6 shadow-xl",children:[i.jsx("h3",{className:"text-lg font-bold mb-4 text-slate-900 border-b pb-2",children:"Assign Classes"}),i.jsxs("p",{className:"text-sm text-slate-500 mb-4",children:["Assign classes to ",K.fullName,"."]}),i.jsx("div",{className:"border border-slate-300 rounded-lg p-3 max-h-56 overflow-y-auto bg-slate-50 mb-4",children:i.jsx("div",{className:"grid grid-cols-2 gap-3",children:Un.map(Ae=>{const pe=(Q||[]).includes(Ae.id);return i.jsxs("button",{type:"button",onClick:()=>W(Ae.id),className:`flex items-center justify-between px-3 py-2.5 rounded-lg text-sm font-medium border transition-all duration-200 ${pe?"bg-emerald-600 border-emerald-600 text-white shadow-md transform scale-[1.02]":"bg-white border-slate-200 text-slate-600 hover:border-emerald-300 hover:shadow-sm"}`,children:[i.jsx("span",{children:Ae.name}),pe?i.jsx(H5,{size:16,className:"text-white ml-2"}):i.jsx(V5,{size:16,className:"text-slate-300 ml-2"})]},Ae.id)})})}),i.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[i.jsx("button",{type:"button",onClick:()=>P(!1),disabled:M,className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg font-medium transition-colors disabled:opacity-60",children:"Cancel"}),i.jsx("button",{type:"button",onClick:ae,disabled:M,className:"flex items-center px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 font-medium shadow-sm transition-colors disabled:opacity-60",children:M?i.jsxs(i.Fragment,{children:[i.jsx(Vy,{size:16,className:"mr-2 animate-spin"}),"Saving..."]}):"Save"})]})]})})]})},o7=()=>{const{school:n}=cc(),e=(n==null?void 0:n.id)||null,[t,s]=ee.useState(Un[0].id),[a,o]=ee.useState([]),[c,h]=ee.useState(!1),[u,f]=ee.useState(0);return ee.useEffect(()=>{(async()=>{h(!0);try{if(!e){o([]),f(0);return}const m=await ut.getStudents(e,t),v=await ut.getSchoolConfig(e);let g=0;if(v.schoolReopenDate&&v.vacationDate){const N=new Date(v.schoolReopenDate),E=new Date(v.vacationDate),I=new Date(N);for(;I<=E;)g++,I.setDate(I.getDate()+1)}else g=(await ut.getClassAttendance(e,t)).length;f(g);const b=await ut.getClassAttendance(e,t),S=m.map(N=>{const E=b.filter(F=>F.presentStudentIds.includes(N.id)).length,I=g===0?0:Math.round(E/g*100);return{id:N.id,name:N.name,gender:N.gender,presentDays:E,totalDays:g,percentage:I}});S.sort((N,E)=>N.name.localeCompare(E.name)),o(S)}catch(m){console.error("Error fetching attendance stats:",m)}finally{h(!1)}})()},[t,e]),i.jsx(Xs,{title:"Attendance Statistics",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 flex flex-col h-[calc(100vh-8rem)]",children:[i.jsxs("div",{className:"p-6 border-b border-slate-100 flex flex-col xl:flex-row justify-between xl:items-center gap-4 bg-slate-50",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Select Class"}),i.jsx("select",{className:"border border-slate-300 rounded-md px-3 py-2 text-sm w-48 bg-white text-slate-900",value:t,onChange:A=>s(A.target.value),children:Un.map(A=>i.jsx("option",{value:A.id,children:A.name},A.id))})]}),i.jsxs("div",{className:"bg-white border border-slate-200 rounded-md px-4 py-1.5 shadow-sm",children:[i.jsx("span",{className:"block text-xs text-slate-400 uppercase",children:"Term Total Days"}),i.jsx("span",{className:"font-bold text-lg text-slate-800",children:u})]})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-slate-600 bg-white px-3 py-1.5 rounded-full border border-slate-200 shadow-sm",children:[i.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-emerald-500"})," ","Excellent (90%+)"]}),i.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-slate-600 bg-white px-3 py-1.5 rounded-full border border-slate-200 shadow-sm",children:[i.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-amber-400"})," ","Average (50-89%)"]}),i.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-[#0B4A82] bg-[#E6F0FA] px-3 py-1.5 rounded-full border border-[#E6F0FA] shadow-sm",children:[i.jsx(Ll,{size:12,className:"text-[#0B4A82]"})," Critical (","<","50%)"]})]})]}),i.jsx("div",{className:"flex-1 overflow-auto p-0",children:c?i.jsx("div",{className:"text-center py-20 text-slate-400",children:"Calculating Attendance Data..."}):i.jsxs("table",{className:"w-full text-left text-sm text-slate-600",children:[i.jsx("thead",{className:"bg-slate-50 text-slate-800 font-semibold border-b border-slate-200 sticky top-0 z-10",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4",children:"Student Name"}),i.jsx("th",{className:"px-6 py-4 text-center",children:"Days Present"}),i.jsx("th",{className:"px-6 py-4 text-center",children:"Total School Days"}),i.jsx("th",{className:"px-6 py-4 w-1/3",children:"Attendance Rate"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-100",children:a.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:4,className:"p-8 text-center text-slate-400",children:"No students found in this class."})}):a.map(A=>{let m="bg-emerald-500",v="text-emerald-700 bg-emerald-50 border-emerald-200",g="hover:bg-slate-50",b=null;return A.percentage<50?(m="bg-red-500",v="text-[#0B4A82] bg-[#E6F0FA] border-[#E6F0FA]",g="bg-[#E6F0FA]/60 hover:bg-[#E6F0FA]/80",b=i.jsx("span",{title:"Critical Attendance",children:i.jsx(Ll,{size:14,className:"text-[#0B4A82] ml-2"})})):A.percentage<90&&(m="bg-amber-400",v="text-amber-700 bg-amber-50 border-amber-200"),i.jsxs("tr",{className:`${g} transition-colors border-b border-slate-100 last:border-0`,children:[i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:`w-9 h-9 rounded-full flex items-center justify-center text-sm font-bold text-white mr-3 shadow-sm ${A.gender==="Male"?"bg-[#0B4A82]":"bg-pink-500"}`,children:A.name.charAt(0)}),i.jsxs("div",{children:[i.jsxs("p",{className:"font-semibold text-slate-800 flex items-center",children:[A.name,b]}),i.jsx("p",{className:"text-xs text-slate-500",children:A.gender})]})]})}),i.jsx("td",{className:"px-6 py-4 text-center",children:i.jsx("span",{className:"font-bold text-slate-800 text-lg",children:A.presentDays})}),i.jsx("td",{className:"px-6 py-4 text-center",children:i.jsx("span",{className:"text-slate-500",children:A.totalDays})}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"flex-1 h-2.5 bg-slate-200 rounded-full overflow-hidden shadow-inner",children:i.jsx("div",{className:`h-full ${m} transition-all duration-500 rounded-full`,style:{width:`${A.percentage}%`}})}),i.jsxs("span",{className:`text-xs font-bold px-2.5 py-1 rounded border ${v} min-w-[3.5rem] text-center shadow-sm`,children:[A.percentage,"%"]})]})})]},A.id)})})]})})]})})},l7=()=>{const{school:n}=cc(),e=(n==null?void 0:n.id)||null,[t,s]=ee.useState([]),[a,o]=ee.useState(!1),[c,h]=ee.useState(""),[u,f]=ee.useState("");ee.useEffect(()=>{(async()=>{o(!0);try{if(!e){s([]);return}const g=await ut.getSchoolConfig(e);g.schoolReopenDate&&!c&&h(g.schoolReopenDate),g.vacationDate&&!u&&f(g.vacationDate);const b=c||g.schoolReopenDate||void 0,S=u||g.vacationDate||void 0,N=await ut.getTeacherAttendanceAnalytics(e,b,S);s(N)}catch(g){console.error("Error fetching teacher attendance analytics:",g)}finally{o(!1)}})()},[c,u,e]);const A=v=>{switch(v){case"improving":return i.jsx(Sd,{className:"text-emerald-600",size:16});case"declining":return i.jsx(K5,{className:"text-[#0B4A82]",size:16});default:return i.jsx(k5,{className:"text-slate-400",size:16})}},m=v=>{switch(v){case"improving":return"text-emerald-700 bg-emerald-50 border-emerald-200";case"declining":return"text-[#0B4A82] bg-[#E6F0FA] border-[#E6F0FA]";default:return"text-slate-600 bg-slate-50 border-slate-200"}};return i.jsx(Xs,{title:"Teacher Attendance Analytics",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 flex flex-col h-[calc(100vh-8rem)]",children:[i.jsxs("div",{className:"p-6 border-b border-slate-100 flex flex-col xl:flex-row justify-between xl:items-center gap-4 bg-slate-50",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Teacher Attendance Overview"}),i.jsxs("div",{className:"flex flex-wrap gap-3",children:[i.jsxs("div",{className:"flex flex-col",children:[i.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Term Start Date"}),i.jsx("input",{type:"date",className:"border border-slate-300 rounded-md px-3 py-2 text-sm w-40 bg-white text-slate-900",value:c,onChange:v=>h(v.target.value)})]}),i.jsxs("div",{className:"flex flex-col",children:[i.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Vacation Date"}),i.jsx("input",{type:"date",className:"border border-slate-300 rounded-md px-3 py-2 text-sm w-40 bg-white text-slate-900",value:u,onChange:v=>f(v.target.value)})]})]})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-slate-600 bg-white px-3 py-1.5 rounded-full border border-slate-200 shadow-sm",children:[i.jsx(Sd,{size:12,className:"text-emerald-600"})," Improving"]}),i.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-slate-600 bg-white px-3 py-1.5 rounded-full border border-slate-200 shadow-sm",children:[i.jsx(k5,{size:12,className:"text-slate-400"})," Stable"]}),i.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-[#0B4A82] bg-[#E6F0FA] px-3 py-1.5 rounded-full border border-[#E6F0FA] shadow-sm",children:[i.jsx(K5,{size:12,className:"text-[#0B4A82]"})," Declining"]})]})]}),i.jsx("div",{className:"flex-1 overflow-auto p-0",children:a?i.jsx("div",{className:"text-center py-20 text-slate-400",children:"Analyzing Teacher Attendance Data..."}):i.jsx("div",{className:"p-6 space-y-6",children:t.length===0?i.jsx("div",{className:"text-center py-20 text-slate-400",children:"No teacher attendance data found."}):t.map(v=>i.jsxs("div",{className:"bg-slate-50 rounded-xl p-6 border border-slate-200",children:[i.jsx("div",{className:"flex items-center justify-between mb-6",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-full bg-[#0B4A82] border-2 border-[#E6F0FA] flex items-center justify-center text-white font-bold text-lg shadow-lg",children:v.teacherName.charAt(0)}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-bold text-slate-800",children:v.teacherName}),i.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ol,{size:14,className:"text-slate-500"}),i.jsxs("span",{className:"text-sm text-slate-600",children:[v.termStartDate," -"," ",v.vacationDate||"Present"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(_A,{size:14,className:"text-emerald-600"}),i.jsxs("span",{className:"text-sm font-semibold text-emerald-700",children:[v.overallAttendance,"% Overall Attendance"]})]})]})]})]})}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h4",{className:"text-sm font-semibold text-slate-700 uppercase tracking-wide",children:"Monthly Attendance Breakdown"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:v.monthlyBreakdown.map(g=>i.jsxs("div",{className:"bg-white rounded-lg p-4 border border-slate-200 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"font-semibold text-slate-800",children:g.month}),A(g.trend)]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-slate-600",children:"Working Days:"}),i.jsx("span",{className:"font-medium",children:g.totalWorkingDays})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-slate-600",children:"Present:"}),i.jsx("span",{className:"font-medium text-emerald-700",children:g.presentDays})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-slate-600",children:"Absent:"}),i.jsx("span",{className:"font-medium text-[#0B4A82]",children:g.absentDays})]}),i.jsxs("div",{className:"mt-3",children:[i.jsxs("div",{className:"flex justify-between items-center mb-1",children:[i.jsx("span",{className:"text-xs text-slate-500",children:"Attendance Rate"}),i.jsxs("span",{className:`text-xs font-bold px-2 py-0.5 rounded ${m(g.trend)}`,children:[g.attendanceRate,"%"]})]}),i.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:i.jsx("div",{className:`h-2 rounded-full transition-all duration-500 ${g.attendanceRate>=90?"bg-emerald-500":g.attendanceRate>=70?"bg-amber-400":"bg-[#1160A8]"}`,style:{width:`${g.attendanceRate}%`}})})]})]})]},g.month))})]}),v.overallAttendance<70&&i.jsxs("div",{className:"mt-4 bg-[#E6F0FA] border border-[#E6F0FA] rounded-lg p-4 flex items-center gap-3",children:[i.jsx(Ll,{className:"text-[#0B4A82]",size:20}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-[#0B4A82]",children:"Critical Attendance Alert"}),i.jsx("p",{className:"text-xs text-[#1160A8]",children:"This teacher has below 70% overall attendance and may need intervention."})]})]})]},v.teacherId))})})]})})},A7=()=>{var N,E;const{school:n}=cc(),e=(n==null?void 0:n.id)||null,[t,s]=ee.useState(Un[0].id),[a,o]=ee.useState([]),[c,h]=ee.useState({pass:[],fail:[]}),[u,f]=ee.useState([]),[A,m]=ee.useState(!1),[v,g]=ee.useState({currentTerm:`Term ${Pi}`,academicYear:ho,schoolReopenDate:""}),b=((N=Un.find(I=>I.id===t))==null?void 0:N.name)||"Class";ee.useEffect(()=>{t&&(async()=>{if(m(!0),!e){o([]),f([]),m(!1);return}const F=Un.find(H=>H.id===t);let D=await ut.getSubjects(e,t);if(!D.length&&F)switch(F.level){case"NURSERY":D=PM;break;case"KG":D=kM;break;case"PRIMARY":D=MM;break;case"JHS":D=HM;break;default:D=[]}if(f(D),D.length===0){o([]),m(!1);return}const P=await ut.getSchoolConfig(e);g({currentTerm:P.currentTerm||`Term ${Pi}`,academicYear:P.academicYear||ho,schoolReopenDate:P.schoolReopenDate||""});let K=Pi;if(P.currentTerm){const H=P.currentTerm.match(/\d+/);H&&(K=parseInt(H[0],10))}const L=await ut.getStudents(e,t),Q=await ut.getStudentRemarks(e,t),R=await Promise.all(L.map(async H=>{let G=0,ie=0;const ge={};for(const se of D){const je=(await ut.getAssessments(e,t,se)).find(ne=>ne.studentId===H.id&&ne.term===K);if(je){const ne=je.total??nc(je);ge[se]=ne,G+=ne,ie++}else ge[se]="-"}const J=ie>0?(G/ie).toFixed(1):"0",re=Q.find(se=>se.studentId===H.id&&Number(se.term)===K);return{student:H,scores:ge,totalScore:G,average:J,remark:re?re.remark:"N/A"}}));R.sort((H,G)=>G.totalScore-H.totalScore),o(R);const M=R.filter(H=>H.totalScore>=500),O=R.filter(H=>H.totalScore<500);h({pass:M,fail:O}),m(!1)})()},[t,e]);const S=()=>{var M,O,H;if(a.length===0)return;const I=["Position","Student Name",...u,"Total Score","Average Grade","Remark"],F=a.map((G,ie)=>{const ge=u.map(J=>G.scores[J]);return[ie+1,`"${G.student.name}"`,...ge,G.totalScore,G.average,`"${G.remark}"`]}),D=[I.join(","),...F.map(G=>G.join(","))].join(`
`),P=new Blob([D],{type:"text/csv;charset=utf-8;"}),K=URL.createObjectURL(P),L=document.createElement("a"),R=`${((M=Un.find(G=>G.id===t))==null?void 0:M.name)||"Class"}_Report_${v.academicYear.replace("-","_")}_Term${((H=(O=v.currentTerm)==null?void 0:O.match(/\d+/))==null?void 0:H[0])||Pi}.csv`;L.setAttribute("href",K),L.setAttribute("download",R),L.style.visibility="hidden",document.body.appendChild(L),L.click(),document.body.removeChild(L)};return i.jsxs(Xs,{title:"Academic Reports",children:[i.jsx("style",{children:`
                @media print {
                    @page { size: landscape; margin: 10mm; }
                    body * {
                        visibility: hidden;
                    }
                    #report-content, #report-content * {
                        visibility: visible;
                    }
                    #report-content {
                        position: fixed;
                        left: 0;
                        top: 0;
                        width: 100%;
                        height: 100%;
                        margin: 0;
                        padding: 0;
                        background: white;
                        z-index: 9999;
                    }
                    .no-print {
                        display: none !important;
                    }
                    /* Ensure table expands fully and isn't cut off by scroll areas */
                    #table-container {
                        overflow: visible !important;
                        height: auto !important;
                    }
                }
            `}),i.jsxs("div",{id:"report-content",className:"bg-white rounded-2xl shadow-sm border border-slate-100 flex flex-col h-[calc(100vh-8rem)] print:h-auto print:border-none print:shadow-none",children:[i.jsxs("div",{className:"p-5 border-b border-slate-100 bg-gradient-to-r from-indigo-50 via-white to-emerald-50 print:bg-white print:border-none",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[i.jsxs("div",{className:"flex flex-col gap-2",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"h-12 w-12 rounded-2xl bg-indigo-100 text-indigo-700 flex items-center justify-center",children:i.jsx(Dl,{size:22})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Academic Reports"}),i.jsxs("p",{className:"text-sm text-slate-600",children:[v.currentTerm,"  ",v.academicYear]})]})]}),i.jsxs("div",{className:"hidden print:block text-2xl font-bold text-slate-900",children:[b," Report"]})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[i.jsx("select",{className:"border border-slate-200 rounded-full px-4 py-2 text-sm bg-white text-slate-700 shadow-sm no-print focus:ring-2 focus:ring-emerald-200",value:t,onChange:I=>s(I.target.value),children:Un.map(I=>i.jsx("option",{value:I.id,children:I.name},I.id))}),i.jsxs("button",{onClick:S,disabled:A||a.length===0,className:"flex items-center gap-2 text-emerald-700 bg-emerald-50 hover:bg-emerald-100 border border-emerald-200 px-4 py-2 rounded-full transition-colors no-print font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:[i.jsx(Wv,{size:18})," Export CSV"]})]})]}),i.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-3 text-sm",children:[i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-white/80 px-3 py-1 font-medium text-slate-700 shadow-sm",children:[i.jsx(ll,{className:"h-4 w-4 text-indigo-500"}),"Students: ",a.length]}),i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-emerald-50 px-3 py-1 font-medium text-emerald-700 shadow-sm",children:[i.jsx(_A,{className:"h-4 w-4"}),"Pass: ",c.pass.length]}),i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-rose-50 px-3 py-1 font-medium text-rose-700 shadow-sm",children:[i.jsx(kh,{className:"h-4 w-4"}),"Fail: ",c.fail.length]}),i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-slate-100 px-3 py-1 font-medium text-slate-700 shadow-sm",children:[i.jsx(Dl,{className:"h-4 w-4"}),"Subjects: ",u.length]})]})]}),i.jsxs("div",{id:"table-container",className:"flex-1 overflow-auto p-4 print:overflow-visible print:p-0",children:[((E=v.currentTerm)==null?void 0:E.includes("3"))&&i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 mb-6 no-print",children:[i.jsxs("div",{className:"bg-emerald-50/70 border border-emerald-100 rounded-2xl p-4 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h3",{className:"text-sm font-semibold text-emerald-800",children:"Passed (>= 500)"}),i.jsx("span",{className:"text-xs text-emerald-700 font-semibold",children:c.pass.length})]}),c.pass.length===0?i.jsx("p",{className:"text-sm text-emerald-700",children:"No passing students."}):i.jsx("ul",{className:"text-sm text-emerald-900 space-y-1 max-h-40 overflow-y-auto",children:c.pass.map(I=>i.jsxs("li",{className:"flex items-center justify-between",children:[i.jsx("span",{children:I.student.name}),i.jsx("span",{className:"font-semibold",children:I.totalScore})]},I.student.id))})]}),i.jsxs("div",{className:"bg-rose-50/70 border border-rose-100 rounded-2xl p-4 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h3",{className:"text-sm font-semibold text-rose-800",children:"Failed (< 500)"}),i.jsx("span",{className:"text-xs text-rose-700 font-semibold",children:c.fail.length})]}),c.fail.length===0?i.jsx("p",{className:"text-sm text-rose-700",children:"No failing students."}):i.jsx("ul",{className:"text-sm text-rose-900 space-y-1 max-h-40 overflow-y-auto",children:c.fail.map(I=>i.jsxs("li",{className:"flex items-center justify-between",children:[i.jsx("span",{children:I.student.name}),i.jsx("span",{className:"font-semibold",children:I.totalScore})]},I.student.id))})]})]}),A?i.jsx("div",{className:"text-center py-10 text-slate-400",children:"Loading Report Data..."}):i.jsx("div",{className:"overflow-x-auto print:overflow-visible rounded-2xl border border-slate-100 bg-white shadow-sm",children:i.jsxs("table",{className:"w-full text-left text-sm border-collapse text-black",children:[i.jsx("thead",{className:"bg-slate-50 text-slate-700 font-semibold print:bg-slate-200",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3 border border-slate-200 w-10",children:"Pos"}),i.jsx("th",{className:"px-4 py-3 border border-slate-200 min-w-[200px]",children:"Student Name"}),u.map(I=>i.jsx("th",{className:"px-2 py-3 border border-slate-200 w-24 text-center text-xs",children:I.substring(0,3)},I)),i.jsx("th",{className:"px-4 py-3 border border-slate-200 text-center w-20 bg-emerald-50 text-emerald-900 print:bg-slate-100",children:"Total"}),i.jsx("th",{className:"px-4 py-3 border border-slate-200 text-center w-20 bg-[#E6F0FA] text-[#0B4A82] print:bg-slate-100",children:"Avg"}),i.jsx("th",{className:"px-4 py-3 border border-slate-200 min-w-[200px]",children:"Remark"})]})}),i.jsxs("tbody",{children:[a.map((I,F)=>i.jsxs("tr",{className:"hover:bg-slate-50 print:hover:bg-transparent",children:[i.jsx("td",{className:"px-4 py-2 border border-slate-200 text-center font-medium",children:F+1}),i.jsx("td",{className:"px-4 py-2 border border-slate-200 font-medium",children:I.student.name}),u.map(D=>{const P=I.scores[D],K=typeof P=="number"?um(P).grade:"-";return i.jsx("td",{className:"px-2 py-2 border border-slate-200 text-center",children:i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{children:P}),typeof P=="number"&&i.jsx("span",{className:`text-[10px] font-bold ${Rg(K).split(" ")[0]}`,children:K})]})},D)}),i.jsx("td",{className:"px-4 py-2 border border-slate-200 text-center font-bold bg-emerald-50 text-emerald-900 print:bg-transparent",children:I.totalScore}),i.jsx("td",{className:"px-4 py-2 border border-slate-200 text-center font-bold bg-[#E6F0FA] text-[#0B4A82] print:bg-transparent",children:I.average}),i.jsx("td",{className:"px-4 py-2 border border-slate-200 text-sm",children:I.remark})]},I.student.id)),a.length===0&&i.jsx("tr",{children:i.jsx("td",{colSpan:u.length+5,className:"p-8 text-center text-slate-400",children:"No students found."})})]})]})})]})]})]})};var zy={exports:{}};const c7="modulepreload",u7=function(n,e){return new URL(n,e).href},$5={},Gy=function(e,t,s){let a=Promise.resolve();if(t&&t.length>0){let c=function(A){return Promise.all(A.map(m=>Promise.resolve(m).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};const h=document.getElementsByTagName("link"),u=document.querySelector("meta[property=csp-nonce]"),f=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));a=c(t.map(A=>{if(A=u7(A,s),A in $5)return;$5[A]=!0;const m=A.endsWith(".css"),v=m?'[rel="stylesheet"]':"";if(!!s)for(let S=h.length-1;S>=0;S--){const N=h[S];if(N.href===A&&(!m||N.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${A}"]${v}`))return;const b=document.createElement("link");if(b.rel=m?"stylesheet":c7,m||(b.as="script"),b.crossOrigin="",b.href=A,f&&b.setAttribute("nonce",f),document.head.appendChild(b),m)return new Promise((S,N)=>{b.addEventListener("load",S),b.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${A}`)))})}))}function o(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return a.then(c=>{for(const h of c||[])h.status==="rejected"&&o(h.reason);return e().catch(o)})};function Fr(n){"@babel/helpers - typeof";return Fr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fr(n)}var oc=Uint8Array,nA=Uint16Array,s2=Int32Array,r2=new oc([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),a2=new oc([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Y5=new oc([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),QT=function(n,e){for(var t=new nA(31),s=0;s<31;++s)t[s]=e+=1<<n[s-1];for(var a=new s2(t[30]),s=1;s<30;++s)for(var o=t[s];o<t[s+1];++o)a[o]=o-t[s]<<5|s;return{b:t,r:a}},OT=QT(r2,2),d7=OT.b,db=OT.r;d7[28]=258,db[258]=28;var h7=QT(a2,0),W5=h7.r,hb=new nA(32768);for(var Aa=0;Aa<32768;++Aa){var gd=(Aa&43690)>>1|(Aa&21845)<<1;gd=(gd&52428)>>2|(gd&13107)<<2,gd=(gd&61680)>>4|(gd&3855)<<4,hb[Aa]=((gd&65280)>>8|(gd&255)<<8)>>1}var kp=(function(n,e,t){for(var s=n.length,a=0,o=new nA(e);a<s;++a)n[a]&&++o[n[a]-1];var c=new nA(e);for(a=1;a<e;++a)c[a]=c[a-1]+o[a-1]<<1;var h;if(t){h=new nA(1<<e);var u=15-e;for(a=0;a<s;++a)if(n[a])for(var f=a<<4|n[a],A=e-n[a],m=c[n[a]-1]++<<A,v=m|(1<<A)-1;m<=v;++m)h[hb[m]>>u]=f}else for(h=new nA(s),a=0;a<s;++a)n[a]&&(h[a]=hb[c[n[a]-1]++]>>15-n[a]);return h}),Jh=new oc(288);for(var Aa=0;Aa<144;++Aa)Jh[Aa]=8;for(var Aa=144;Aa<256;++Aa)Jh[Aa]=9;for(var Aa=256;Aa<280;++Aa)Jh[Aa]=7;for(var Aa=280;Aa<288;++Aa)Jh[Aa]=8;var Xv=new oc(32);for(var Aa=0;Aa<32;++Aa)Xv[Aa]=5;var f7=kp(Jh,9,0),m7=kp(Xv,5,0),PT=function(n){return(n+7)/8|0},p7=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new oc(n.subarray(e,t))},fu=function(n,e,t){t<<=e&7;var s=e/8|0;n[s]|=t,n[s+1]|=t>>8},xp=function(n,e,t){t<<=e&7;var s=e/8|0;n[s]|=t,n[s+1]|=t>>8,n[s+2]|=t>>16},$y=function(n,e){for(var t=[],s=0;s<n.length;++s)n[s]&&t.push({s,f:n[s]});var a=t.length,o=t.slice();if(!a)return{t:MT,l:0};if(a==1){var c=new oc(t[0].s+1);return c[t[0].s]=1,{t:c,l:1}}t.sort(function(P,K){return P.f-K.f}),t.push({s:-1,f:25001});var h=t[0],u=t[1],f=0,A=1,m=2;for(t[0]={s:-1,f:h.f+u.f,l:h,r:u};A!=a-1;)h=t[t[f].f<t[m].f?f++:m++],u=t[f!=A&&t[f].f<t[m].f?f++:m++],t[A++]={s:-1,f:h.f+u.f,l:h,r:u};for(var v=o[0].s,s=1;s<a;++s)o[s].s>v&&(v=o[s].s);var g=new nA(v+1),b=fb(t[A-1],g,0);if(b>e){var s=0,S=0,N=b-e,E=1<<N;for(o.sort(function(K,L){return g[L.s]-g[K.s]||K.f-L.f});s<a;++s){var I=o[s].s;if(g[I]>e)S+=E-(1<<b-g[I]),g[I]=e;else break}for(S>>=N;S>0;){var F=o[s].s;g[F]<e?S-=1<<e-g[F]++-1:++s}for(;s>=0&&S;--s){var D=o[s].s;g[D]==e&&(--g[D],++S)}b=e}return{t:new oc(g),l:b}},fb=function(n,e,t){return n.s==-1?Math.max(fb(n.l,e,t+1),fb(n.r,e,t+1)):e[n.s]=t},X5=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new nA(++e),s=0,a=n[0],o=1,c=function(u){t[s++]=u},h=1;h<=e;++h)if(n[h]==a&&h!=e)++o;else{if(!a&&o>2){for(;o>138;o-=138)c(32754);o>2&&(c(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(c(a),--o;o>6;o-=6)c(8304);o>2&&(c(o-3<<5|8208),o=0)}for(;o--;)c(a);o=1,a=n[h]}return{c:t.subarray(0,s),n:e}},yp=function(n,e){for(var t=0,s=0;s<e.length;++s)t+=n[s]*e[s];return t},kT=function(n,e,t){var s=t.length,a=PT(e+2);n[a]=s&255,n[a+1]=s>>8,n[a+2]=n[a]^255,n[a+3]=n[a+1]^255;for(var o=0;o<s;++o)n[a+o+4]=t[o];return(a+4+s)*8},J5=function(n,e,t,s,a,o,c,h,u,f,A){fu(e,A++,t),++a[256];for(var m=$y(a,15),v=m.t,g=m.l,b=$y(o,15),S=b.t,N=b.l,E=X5(v),I=E.c,F=E.n,D=X5(S),P=D.c,K=D.n,L=new nA(19),Q=0;Q<I.length;++Q)++L[I[Q]&31];for(var Q=0;Q<P.length;++Q)++L[P[Q]&31];for(var R=$y(L,7),M=R.t,O=R.l,H=19;H>4&&!M[Y5[H-1]];--H);var G=f+5<<3,ie=yp(a,Jh)+yp(o,Xv)+c,ge=yp(a,v)+yp(o,S)+c+14+3*H+yp(L,M)+2*L[16]+3*L[17]+7*L[18];if(u>=0&&G<=ie&&G<=ge)return kT(e,A,n.subarray(u,u+f));var J,re,se,he;if(fu(e,A,1+(ge<ie)),A+=2,ge<ie){J=kp(v,g,0),re=v,se=kp(S,N,0),he=S;var je=kp(M,O,0);fu(e,A,F-257),fu(e,A+5,K-1),fu(e,A+10,H-4),A+=14;for(var Q=0;Q<H;++Q)fu(e,A+3*Q,M[Y5[Q]]);A+=3*H;for(var ne=[I,P],V=0;V<2;++V)for(var W=ne[V],Q=0;Q<W.length;++Q){var ae=W[Q]&31;fu(e,A,je[ae]),A+=M[ae],ae>15&&(fu(e,A,W[Q]>>5&127),A+=W[Q]>>12)}}else J=f7,re=Jh,se=m7,he=Xv;for(var Q=0;Q<h;++Q){var ce=s[Q];if(ce>255){var ae=ce>>18&31;xp(e,A,J[ae+257]),A+=re[ae+257],ae>7&&(fu(e,A,ce>>23&31),A+=r2[ae]);var Ae=ce&31;xp(e,A,se[Ae]),A+=he[Ae],Ae>3&&(xp(e,A,ce>>5&8191),A+=a2[Ae])}else xp(e,A,J[ce]),A+=re[ce]}return xp(e,A,J[256]),A+re[256]},g7=new s2([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),MT=new oc(0),v7=function(n,e,t,s,a,o){var c=o.z||n.length,h=new oc(s+c+5*(1+Math.ceil(c/7e3))+a),u=h.subarray(s,h.length-a),f=o.l,A=(o.r||0)&7;if(e){A&&(u[0]=o.r>>3);for(var m=g7[e-1],v=m>>13,g=m&8191,b=(1<<t)-1,S=o.p||new nA(32768),N=o.h||new nA(b+1),E=Math.ceil(t/3),I=2*E,F=function(He){return(n[He]^n[He+1]<<E^n[He+2]<<I)&b},D=new s2(25e3),P=new nA(288),K=new nA(32),L=0,Q=0,R=o.i||0,M=0,O=o.w||0,H=0;R+2<c;++R){var G=F(R),ie=R&32767,ge=N[G];if(S[ie]=ge,N[G]=ie,O<=R){var J=c-R;if((L>7e3||M>24576)&&(J>423||!f)){A=J5(n,u,0,D,P,K,Q,M,H,R-H,A),M=L=Q=0,H=R;for(var re=0;re<286;++re)P[re]=0;for(var re=0;re<30;++re)K[re]=0}var se=2,he=0,je=g,ne=ie-ge&32767;if(J>2&&G==F(R-ne))for(var V=Math.min(v,J)-1,W=Math.min(32767,R),ae=Math.min(258,J);ne<=W&&--je&&ie!=ge;){if(n[R+se]==n[R+se-ne]){for(var ce=0;ce<ae&&n[R+ce]==n[R+ce-ne];++ce);if(ce>se){if(se=ce,he=ne,ce>V)break;for(var Ae=Math.min(ne,ce-2),pe=0,re=0;re<Ae;++re){var Se=R-ne+re&32767,xe=S[Se],Ie=Se-xe&32767;Ie>pe&&(pe=Ie,ge=Se)}}}ie=ge,ge=S[ie],ne+=ie-ge&32767}if(he){D[M++]=268435456|db[se]<<18|W5[he];var _e=db[se]&31,De=W5[he]&31;Q+=r2[_e]+a2[De],++P[257+_e],++K[De],O=R+se,++L}else D[M++]=n[R],++P[n[R]]}}for(R=Math.max(R,O);R<c;++R)D[M++]=n[R],++P[n[R]];A=J5(n,u,f,D,P,K,Q,M,H,R-H,A),f||(o.r=A&7|u[A/8|0]<<3,A-=7,o.h=N,o.p=S,o.i=R,o.w=O)}else{for(var R=o.w||0;R<c+f;R+=65535){var st=R+65535;st>=c&&(u[A/8|0]=f,st=c),A=kT(u,A+1,n.subarray(R,st))}o.i=c}return p7(h,0,s+PT(A)+a)},HT=function(){var n=1,e=0;return{p:function(t){for(var s=n,a=e,o=t.length|0,c=0;c!=o;){for(var h=Math.min(c+2655,o);c<h;++c)a+=s+=t[c];s=(s&65535)+15*(s>>16),a=(a&65535)+15*(a>>16)}n=s,e=a},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},x7=function(n,e,t,s,a){if(!a&&(a={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),c=new oc(o.length+n.length);c.set(o),c.set(n,o.length),n=c,a.w=o.length}return v7(n,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,s,a)},VT=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},y7=function(n,e){var t=e.level,s=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=s<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var a=HT();a.p(e.dictionary),VT(n,2,a.d())}};function mb(n,e){e||(e={});var t=HT();t.p(n);var s=x7(n,e,e.dictionary?6:2,4);return y7(s,e),VT(s,s.length-4,t.d()),s}var b7=typeof TextDecoder<"u"&&new TextDecoder,w7=0;try{b7.decode(MT,{stream:!0}),w7=1}catch{}function j7(n){if(Array.isArray(n))return n}function B7(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var s,a,o,c,h=[],u=!0,f=!1;try{if(o=(t=t.call(n)).next,e!==0)for(;!(u=(s=o.call(t)).done)&&(h.push(s.value),h.length!==e);u=!0);}catch(A){f=!0,a=A}finally{try{if(!u&&t.return!=null&&(c=t.return(),Object(c)!==c))return}finally{if(f)throw a}}return h}}function q5(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,s=Array(e);t<e;t++)s[t]=n[t];return s}function C7(n,e){if(n){if(typeof n=="string")return q5(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?q5(n,e):void 0}}function S7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z5(n,e){return j7(n)||B7(n,e)||C7(n,e)||S7()}function eC(n,e="utf8"){return new TextDecoder(e).decode(n)}const N7=new TextEncoder;function E7(n){return N7.encode(n)}const T7=1024*8,I7=(()=>{const n=new Uint8Array(4),e=new Uint32Array(n.buffer);return!((e[0]=1)&n[0])})(),Yy={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class i2{constructor(e=T7,t={}){_r(this,"buffer");_r(this,"byteLength");_r(this,"byteOffset");_r(this,"length");_r(this,"offset");_r(this,"lastWrittenByte");_r(this,"littleEndian");_r(this,"_data");_r(this,"_mark");_r(this,"_marks");let s=!1;typeof e=="number"?e=new ArrayBuffer(e):(s=!0,this.lastWrittenByte=e.byteLength);const a=t.offset?t.offset>>>0:0,o=e.byteLength-a;let c=a;(ArrayBuffer.isView(e)||e instanceof i2)&&(e.byteLength!==e.buffer.byteLength&&(c=e.byteOffset+a),e=e.buffer),s?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=c,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,c,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const s=(this.offset+e)*2,a=new Uint8Array(s);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=s,this.byteLength=s,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const s=Yy[t].BYTES_PER_ELEMENT*e,a=this.byteOffset+this.offset,o=this.buffer.slice(a,a+s);if(this.littleEndian===I7&&t!=="uint8"&&t!=="int8"){const h=new Uint8Array(this.buffer.slice(a,a+s));h.reverse();const u=new Yy[t](h.buffer);return this.offset+=s,u.reverse(),u}const c=new Yy[t](o);return this.offset+=s,c}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let s=0;s<e;s++)t+=this.readChar();return t}readUtf8(e=1){return eC(this.readBytes(e))}decodeText(e=1,t="utf8"){return eC(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(E7(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function jm(n){let e=n.length;for(;--e>=0;)n[e]=0}const _7=3,F7=258,KT=29,U7=256,R7=U7+1+KT,zT=30,D7=512,L7=new Array((R7+2)*2);jm(L7);const Q7=new Array(zT*2);jm(Q7);const O7=new Array(D7);jm(O7);const P7=new Array(F7-_7+1);jm(P7);const k7=new Array(KT);jm(k7);const M7=new Array(zT);jm(M7);const H7=(n,e,t,s)=>{let a=n&65535|0,o=n>>>16&65535|0,c=0;for(;t!==0;){c=t>2e3?2e3:t,t-=c;do a=a+e[s++]|0,o=o+a|0;while(--c);a%=65521,o%=65521}return a|o<<16|0};var pb=H7;const V7=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var s=0;s<8;s++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},K7=new Uint32Array(V7()),z7=(n,e,t,s)=>{const a=K7,o=s+t;n^=-1;for(let c=s;c<o;c++)n=n>>>8^a[(n^e[c])&255];return n^-1};var Dc=z7,gb={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},GT={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const G7=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var $7=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const s in t)G7(t,s)&&(n[s]=t[s])}}return n},Y7=n=>{let e=0;for(let s=0,a=n.length;s<a;s++)e+=n[s].length;const t=new Uint8Array(e);for(let s=0,a=0,o=n.length;s<o;s++){let c=n[s];t.set(c,a),a+=c.length}return t},$T={assign:$7,flattenChunks:Y7};let YT=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{YT=!1}const lg=new Uint8Array(256);for(let n=0;n<256;n++)lg[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;lg[254]=lg[254]=1;var W7=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,s,a,o,c=n.length,h=0;for(a=0;a<c;a++)t=n.charCodeAt(a),(t&64512)===55296&&a+1<c&&(s=n.charCodeAt(a+1),(s&64512)===56320&&(t=65536+(t-55296<<10)+(s-56320),a++)),h+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(h),o=0,a=0;o<h;a++)t=n.charCodeAt(a),(t&64512)===55296&&a+1<c&&(s=n.charCodeAt(a+1),(s&64512)===56320&&(t=65536+(t-55296<<10)+(s-56320),a++)),t<128?e[o++]=t:t<2048?(e[o++]=192|t>>>6,e[o++]=128|t&63):t<65536?(e[o++]=224|t>>>12,e[o++]=128|t>>>6&63,e[o++]=128|t&63):(e[o++]=240|t>>>18,e[o++]=128|t>>>12&63,e[o++]=128|t>>>6&63,e[o++]=128|t&63);return e};const X7=(n,e)=>{if(e<65534&&n.subarray&&YT)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let s=0;s<e;s++)t+=String.fromCharCode(n[s]);return t};var J7=(n,e)=>{const t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let s,a;const o=new Array(t*2);for(a=0,s=0;s<t;){let c=n[s++];if(c<128){o[a++]=c;continue}let h=lg[c];if(h>4){o[a++]=65533,s+=h-1;continue}for(c&=h===2?31:h===3?15:7;h>1&&s<t;)c=c<<6|n[s++]&63,h--;if(h>1){o[a++]=65533;continue}c<65536?o[a++]=c:(c-=65536,o[a++]=55296|c>>10&1023,o[a++]=56320|c&1023)}return X7(o,a)},q7=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+lg[n[t]]>e?t:e},vb={string2buf:W7,buf2string:J7,utf8border:q7};function Z7(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var eH=Z7;const H0=16209,tH=16191;var nH=function(e,t){let s,a,o,c,h,u,f,A,m,v,g,b,S,N,E,I,F,D,P,K,L,Q,R,M;const O=e.state;s=e.next_in,R=e.input,a=s+(e.avail_in-5),o=e.next_out,M=e.output,c=o-(t-e.avail_out),h=o+(e.avail_out-257),u=O.dmax,f=O.wsize,A=O.whave,m=O.wnext,v=O.window,g=O.hold,b=O.bits,S=O.lencode,N=O.distcode,E=(1<<O.lenbits)-1,I=(1<<O.distbits)-1;e:do{b<15&&(g+=R[s++]<<b,b+=8,g+=R[s++]<<b,b+=8),F=S[g&E];t:for(;;){if(D=F>>>24,g>>>=D,b-=D,D=F>>>16&255,D===0)M[o++]=F&65535;else if(D&16){P=F&65535,D&=15,D&&(b<D&&(g+=R[s++]<<b,b+=8),P+=g&(1<<D)-1,g>>>=D,b-=D),b<15&&(g+=R[s++]<<b,b+=8,g+=R[s++]<<b,b+=8),F=N[g&I];n:for(;;){if(D=F>>>24,g>>>=D,b-=D,D=F>>>16&255,D&16){if(K=F&65535,D&=15,b<D&&(g+=R[s++]<<b,b+=8,b<D&&(g+=R[s++]<<b,b+=8)),K+=g&(1<<D)-1,K>u){e.msg="invalid distance too far back",O.mode=H0;break e}if(g>>>=D,b-=D,D=o-c,K>D){if(D=K-D,D>A&&O.sane){e.msg="invalid distance too far back",O.mode=H0;break e}if(L=0,Q=v,m===0){if(L+=f-D,D<P){P-=D;do M[o++]=v[L++];while(--D);L=o-K,Q=M}}else if(m<D){if(L+=f+m-D,D-=m,D<P){P-=D;do M[o++]=v[L++];while(--D);if(L=0,m<P){D=m,P-=D;do M[o++]=v[L++];while(--D);L=o-K,Q=M}}}else if(L+=m-D,D<P){P-=D;do M[o++]=v[L++];while(--D);L=o-K,Q=M}for(;P>2;)M[o++]=Q[L++],M[o++]=Q[L++],M[o++]=Q[L++],P-=3;P&&(M[o++]=Q[L++],P>1&&(M[o++]=Q[L++]))}else{L=o-K;do M[o++]=M[L++],M[o++]=M[L++],M[o++]=M[L++],P-=3;while(P>2);P&&(M[o++]=M[L++],P>1&&(M[o++]=M[L++]))}}else if((D&64)===0){F=N[(F&65535)+(g&(1<<D)-1)];continue n}else{e.msg="invalid distance code",O.mode=H0;break e}break}}else if((D&64)===0){F=S[(F&65535)+(g&(1<<D)-1)];continue t}else if(D&32){O.mode=tH;break e}else{e.msg="invalid literal/length code",O.mode=H0;break e}break}}while(s<a&&o<h);P=b>>3,s-=P,b-=P<<3,g&=(1<<b)-1,e.next_in=s,e.next_out=o,e.avail_in=s<a?5+(a-s):5-(s-a),e.avail_out=o<h?257+(h-o):257-(o-h),O.hold=g,O.bits=b};const Rf=15,tC=852,nC=592,sC=0,Wy=1,rC=2,sH=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),rH=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),aH=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),iH=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),oH=(n,e,t,s,a,o,c,h)=>{const u=h.bits;let f=0,A=0,m=0,v=0,g=0,b=0,S=0,N=0,E=0,I=0,F,D,P,K,L,Q=null,R;const M=new Uint16Array(Rf+1),O=new Uint16Array(Rf+1);let H=null,G,ie,ge;for(f=0;f<=Rf;f++)M[f]=0;for(A=0;A<s;A++)M[e[t+A]]++;for(g=u,v=Rf;v>=1&&M[v]===0;v--);if(g>v&&(g=v),v===0)return a[o++]=1<<24|64<<16|0,a[o++]=1<<24|64<<16|0,h.bits=1,0;for(m=1;m<v&&M[m]===0;m++);for(g<m&&(g=m),N=1,f=1;f<=Rf;f++)if(N<<=1,N-=M[f],N<0)return-1;if(N>0&&(n===sC||v!==1))return-1;for(O[1]=0,f=1;f<Rf;f++)O[f+1]=O[f]+M[f];for(A=0;A<s;A++)e[t+A]!==0&&(c[O[e[t+A]]++]=A);if(n===sC?(Q=H=c,R=20):n===Wy?(Q=sH,H=rH,R=257):(Q=aH,H=iH,R=0),I=0,A=0,f=m,L=o,b=g,S=0,P=-1,E=1<<g,K=E-1,n===Wy&&E>tC||n===rC&&E>nC)return 1;for(;;){G=f-S,c[A]+1<R?(ie=0,ge=c[A]):c[A]>=R?(ie=H[c[A]-R],ge=Q[c[A]-R]):(ie=96,ge=0),F=1<<f-S,D=1<<b,m=D;do D-=F,a[L+(I>>S)+D]=G<<24|ie<<16|ge|0;while(D!==0);for(F=1<<f-1;I&F;)F>>=1;if(F!==0?(I&=F-1,I+=F):I=0,A++,--M[f]===0){if(f===v)break;f=e[t+c[A]]}if(f>g&&(I&K)!==P){for(S===0&&(S=g),L+=m,b=f-S,N=1<<b;b+S<v&&(N-=M[b+S],!(N<=0));)b++,N<<=1;if(E+=1<<b,n===Wy&&E>tC||n===rC&&E>nC)return 1;P=I&K,a[P]=g<<24|b<<16|L-o|0}}return I!==0&&(a[L+I]=f-S<<24|64<<16|0),h.bits=g,0};var Mp=oH;const lH=0,WT=1,XT=2,{Z_FINISH:aC,Z_BLOCK:AH,Z_TREES:V0,Z_OK:qh,Z_STREAM_END:cH,Z_NEED_DICT:uH,Z_STREAM_ERROR:UA,Z_DATA_ERROR:JT,Z_MEM_ERROR:qT,Z_BUF_ERROR:dH,Z_DEFLATED:iC}=GT,Dx=16180,oC=16181,lC=16182,AC=16183,cC=16184,uC=16185,dC=16186,hC=16187,fC=16188,mC=16189,Jv=16190,mu=16191,Xy=16192,pC=16193,Jy=16194,gC=16195,vC=16196,xC=16197,yC=16198,K0=16199,z0=16200,bC=16201,wC=16202,jC=16203,BC=16204,CC=16205,qy=16206,SC=16207,NC=16208,wa=16209,ZT=16210,eI=16211,hH=852,fH=592,mH=15,pH=mH,EC=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function gH(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const rf=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<Dx||e.mode>eI?1:0},tI=n=>{if(rf(n))return UA;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=Dx,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(hH),e.distcode=e.distdyn=new Int32Array(fH),e.sane=1,e.back=-1,qh},nI=n=>{if(rf(n))return UA;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,tI(n)},sI=(n,e)=>{let t;if(rf(n))return UA;const s=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?UA:(s.window!==null&&s.wbits!==e&&(s.window=null),s.wrap=t,s.wbits=e,nI(n))},rI=(n,e)=>{if(!n)return UA;const t=new gH;n.state=t,t.strm=n,t.window=null,t.mode=Dx;const s=sI(n,e);return s!==qh&&(n.state=null),s},vH=n=>rI(n,pH);let TC=!0,Zy,e1;const xH=n=>{if(TC){Zy=new Int32Array(512),e1=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(Mp(WT,n.lens,0,288,Zy,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;Mp(XT,n.lens,0,32,e1,0,n.work,{bits:5}),TC=!1}n.lencode=Zy,n.lenbits=9,n.distcode=e1,n.distbits=5},aI=(n,e,t,s)=>{let a;const o=n.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),s>=o.wsize?(o.window.set(e.subarray(t-o.wsize,t),0),o.wnext=0,o.whave=o.wsize):(a=o.wsize-o.wnext,a>s&&(a=s),o.window.set(e.subarray(t-s,t-s+a),o.wnext),s-=a,s?(o.window.set(e.subarray(t-s,t),0),o.wnext=s,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0},yH=(n,e)=>{let t,s,a,o,c,h,u,f,A,m,v,g,b,S,N=0,E,I,F,D,P,K,L,Q;const R=new Uint8Array(4);let M,O;const H=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(rf(n)||!n.output||!n.input&&n.avail_in!==0)return UA;t=n.state,t.mode===mu&&(t.mode=Xy),c=n.next_out,a=n.output,u=n.avail_out,o=n.next_in,s=n.input,h=n.avail_in,f=t.hold,A=t.bits,m=h,v=u,Q=qh;e:for(;;)switch(t.mode){case Dx:if(t.wrap===0){t.mode=Xy;break}for(;A<16;){if(h===0)break e;h--,f+=s[o++]<<A,A+=8}if(t.wrap&2&&f===35615){t.wbits===0&&(t.wbits=15),t.check=0,R[0]=f&255,R[1]=f>>>8&255,t.check=Dc(t.check,R,2,0),f=0,A=0,t.mode=oC;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((f&255)<<8)+(f>>8))%31){n.msg="incorrect header check",t.mode=wa;break}if((f&15)!==iC){n.msg="unknown compression method",t.mode=wa;break}if(f>>>=4,A-=4,L=(f&15)+8,t.wbits===0&&(t.wbits=L),L>15||L>t.wbits){n.msg="invalid window size",t.mode=wa;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=f&512?mC:mu,f=0,A=0;break;case oC:for(;A<16;){if(h===0)break e;h--,f+=s[o++]<<A,A+=8}if(t.flags=f,(t.flags&255)!==iC){n.msg="unknown compression method",t.mode=wa;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=wa;break}t.head&&(t.head.text=f>>8&1),t.flags&512&&t.wrap&4&&(R[0]=f&255,R[1]=f>>>8&255,t.check=Dc(t.check,R,2,0)),f=0,A=0,t.mode=lC;case lC:for(;A<32;){if(h===0)break e;h--,f+=s[o++]<<A,A+=8}t.head&&(t.head.time=f),t.flags&512&&t.wrap&4&&(R[0]=f&255,R[1]=f>>>8&255,R[2]=f>>>16&255,R[3]=f>>>24&255,t.check=Dc(t.check,R,4,0)),f=0,A=0,t.mode=AC;case AC:for(;A<16;){if(h===0)break e;h--,f+=s[o++]<<A,A+=8}t.head&&(t.head.xflags=f&255,t.head.os=f>>8),t.flags&512&&t.wrap&4&&(R[0]=f&255,R[1]=f>>>8&255,t.check=Dc(t.check,R,2,0)),f=0,A=0,t.mode=cC;case cC:if(t.flags&1024){for(;A<16;){if(h===0)break e;h--,f+=s[o++]<<A,A+=8}t.length=f,t.head&&(t.head.extra_len=f),t.flags&512&&t.wrap&4&&(R[0]=f&255,R[1]=f>>>8&255,t.check=Dc(t.check,R,2,0)),f=0,A=0}else t.head&&(t.head.extra=null);t.mode=uC;case uC:if(t.flags&1024&&(g=t.length,g>h&&(g=h),g&&(t.head&&(L=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(s.subarray(o,o+g),L)),t.flags&512&&t.wrap&4&&(t.check=Dc(t.check,s,g,o)),h-=g,o+=g,t.length-=g),t.length))break e;t.length=0,t.mode=dC;case dC:if(t.flags&2048){if(h===0)break e;g=0;do L=s[o+g++],t.head&&L&&t.length<65536&&(t.head.name+=String.fromCharCode(L));while(L&&g<h);if(t.flags&512&&t.wrap&4&&(t.check=Dc(t.check,s,g,o)),h-=g,o+=g,L)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=hC;case hC:if(t.flags&4096){if(h===0)break e;g=0;do L=s[o+g++],t.head&&L&&t.length<65536&&(t.head.comment+=String.fromCharCode(L));while(L&&g<h);if(t.flags&512&&t.wrap&4&&(t.check=Dc(t.check,s,g,o)),h-=g,o+=g,L)break e}else t.head&&(t.head.comment=null);t.mode=fC;case fC:if(t.flags&512){for(;A<16;){if(h===0)break e;h--,f+=s[o++]<<A,A+=8}if(t.wrap&4&&f!==(t.check&65535)){n.msg="header crc mismatch",t.mode=wa;break}f=0,A=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=mu;break;case mC:for(;A<32;){if(h===0)break e;h--,f+=s[o++]<<A,A+=8}n.adler=t.check=EC(f),f=0,A=0,t.mode=Jv;case Jv:if(t.havedict===0)return n.next_out=c,n.avail_out=u,n.next_in=o,n.avail_in=h,t.hold=f,t.bits=A,uH;n.adler=t.check=1,t.mode=mu;case mu:if(e===AH||e===V0)break e;case Xy:if(t.last){f>>>=A&7,A-=A&7,t.mode=qy;break}for(;A<3;){if(h===0)break e;h--,f+=s[o++]<<A,A+=8}switch(t.last=f&1,f>>>=1,A-=1,f&3){case 0:t.mode=pC;break;case 1:if(xH(t),t.mode=K0,e===V0){f>>>=2,A-=2;break e}break;case 2:t.mode=vC;break;case 3:n.msg="invalid block type",t.mode=wa}f>>>=2,A-=2;break;case pC:for(f>>>=A&7,A-=A&7;A<32;){if(h===0)break e;h--,f+=s[o++]<<A,A+=8}if((f&65535)!==(f>>>16^65535)){n.msg="invalid stored block lengths",t.mode=wa;break}if(t.length=f&65535,f=0,A=0,t.mode=Jy,e===V0)break e;case Jy:t.mode=gC;case gC:if(g=t.length,g){if(g>h&&(g=h),g>u&&(g=u),g===0)break e;a.set(s.subarray(o,o+g),c),h-=g,o+=g,u-=g,c+=g,t.length-=g;break}t.mode=mu;break;case vC:for(;A<14;){if(h===0)break e;h--,f+=s[o++]<<A,A+=8}if(t.nlen=(f&31)+257,f>>>=5,A-=5,t.ndist=(f&31)+1,f>>>=5,A-=5,t.ncode=(f&15)+4,f>>>=4,A-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=wa;break}t.have=0,t.mode=xC;case xC:for(;t.have<t.ncode;){for(;A<3;){if(h===0)break e;h--,f+=s[o++]<<A,A+=8}t.lens[H[t.have++]]=f&7,f>>>=3,A-=3}for(;t.have<19;)t.lens[H[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,M={bits:t.lenbits},Q=Mp(lH,t.lens,0,19,t.lencode,0,t.work,M),t.lenbits=M.bits,Q){n.msg="invalid code lengths set",t.mode=wa;break}t.have=0,t.mode=yC;case yC:for(;t.have<t.nlen+t.ndist;){for(;N=t.lencode[f&(1<<t.lenbits)-1],E=N>>>24,I=N>>>16&255,F=N&65535,!(E<=A);){if(h===0)break e;h--,f+=s[o++]<<A,A+=8}if(F<16)f>>>=E,A-=E,t.lens[t.have++]=F;else{if(F===16){for(O=E+2;A<O;){if(h===0)break e;h--,f+=s[o++]<<A,A+=8}if(f>>>=E,A-=E,t.have===0){n.msg="invalid bit length repeat",t.mode=wa;break}L=t.lens[t.have-1],g=3+(f&3),f>>>=2,A-=2}else if(F===17){for(O=E+3;A<O;){if(h===0)break e;h--,f+=s[o++]<<A,A+=8}f>>>=E,A-=E,L=0,g=3+(f&7),f>>>=3,A-=3}else{for(O=E+7;A<O;){if(h===0)break e;h--,f+=s[o++]<<A,A+=8}f>>>=E,A-=E,L=0,g=11+(f&127),f>>>=7,A-=7}if(t.have+g>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=wa;break}for(;g--;)t.lens[t.have++]=L}}if(t.mode===wa)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=wa;break}if(t.lenbits=9,M={bits:t.lenbits},Q=Mp(WT,t.lens,0,t.nlen,t.lencode,0,t.work,M),t.lenbits=M.bits,Q){n.msg="invalid literal/lengths set",t.mode=wa;break}if(t.distbits=6,t.distcode=t.distdyn,M={bits:t.distbits},Q=Mp(XT,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,M),t.distbits=M.bits,Q){n.msg="invalid distances set",t.mode=wa;break}if(t.mode=K0,e===V0)break e;case K0:t.mode=z0;case z0:if(h>=6&&u>=258){n.next_out=c,n.avail_out=u,n.next_in=o,n.avail_in=h,t.hold=f,t.bits=A,nH(n,v),c=n.next_out,a=n.output,u=n.avail_out,o=n.next_in,s=n.input,h=n.avail_in,f=t.hold,A=t.bits,t.mode===mu&&(t.back=-1);break}for(t.back=0;N=t.lencode[f&(1<<t.lenbits)-1],E=N>>>24,I=N>>>16&255,F=N&65535,!(E<=A);){if(h===0)break e;h--,f+=s[o++]<<A,A+=8}if(I&&(I&240)===0){for(D=E,P=I,K=F;N=t.lencode[K+((f&(1<<D+P)-1)>>D)],E=N>>>24,I=N>>>16&255,F=N&65535,!(D+E<=A);){if(h===0)break e;h--,f+=s[o++]<<A,A+=8}f>>>=D,A-=D,t.back+=D}if(f>>>=E,A-=E,t.back+=E,t.length=F,I===0){t.mode=CC;break}if(I&32){t.back=-1,t.mode=mu;break}if(I&64){n.msg="invalid literal/length code",t.mode=wa;break}t.extra=I&15,t.mode=bC;case bC:if(t.extra){for(O=t.extra;A<O;){if(h===0)break e;h--,f+=s[o++]<<A,A+=8}t.length+=f&(1<<t.extra)-1,f>>>=t.extra,A-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=wC;case wC:for(;N=t.distcode[f&(1<<t.distbits)-1],E=N>>>24,I=N>>>16&255,F=N&65535,!(E<=A);){if(h===0)break e;h--,f+=s[o++]<<A,A+=8}if((I&240)===0){for(D=E,P=I,K=F;N=t.distcode[K+((f&(1<<D+P)-1)>>D)],E=N>>>24,I=N>>>16&255,F=N&65535,!(D+E<=A);){if(h===0)break e;h--,f+=s[o++]<<A,A+=8}f>>>=D,A-=D,t.back+=D}if(f>>>=E,A-=E,t.back+=E,I&64){n.msg="invalid distance code",t.mode=wa;break}t.offset=F,t.extra=I&15,t.mode=jC;case jC:if(t.extra){for(O=t.extra;A<O;){if(h===0)break e;h--,f+=s[o++]<<A,A+=8}t.offset+=f&(1<<t.extra)-1,f>>>=t.extra,A-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=wa;break}t.mode=BC;case BC:if(u===0)break e;if(g=v-u,t.offset>g){if(g=t.offset-g,g>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=wa;break}g>t.wnext?(g-=t.wnext,b=t.wsize-g):b=t.wnext-g,g>t.length&&(g=t.length),S=t.window}else S=a,b=c-t.offset,g=t.length;g>u&&(g=u),u-=g,t.length-=g;do a[c++]=S[b++];while(--g);t.length===0&&(t.mode=z0);break;case CC:if(u===0)break e;a[c++]=t.length,u--,t.mode=z0;break;case qy:if(t.wrap){for(;A<32;){if(h===0)break e;h--,f|=s[o++]<<A,A+=8}if(v-=u,n.total_out+=v,t.total+=v,t.wrap&4&&v&&(n.adler=t.check=t.flags?Dc(t.check,a,v,c-v):pb(t.check,a,v,c-v)),v=u,t.wrap&4&&(t.flags?f:EC(f))!==t.check){n.msg="incorrect data check",t.mode=wa;break}f=0,A=0}t.mode=SC;case SC:if(t.wrap&&t.flags){for(;A<32;){if(h===0)break e;h--,f+=s[o++]<<A,A+=8}if(t.wrap&4&&f!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=wa;break}f=0,A=0}t.mode=NC;case NC:Q=cH;break e;case wa:Q=JT;break e;case ZT:return qT;case eI:default:return UA}return n.next_out=c,n.avail_out=u,n.next_in=o,n.avail_in=h,t.hold=f,t.bits=A,(t.wsize||v!==n.avail_out&&t.mode<wa&&(t.mode<qy||e!==aC))&&aI(n,n.output,n.next_out,v-n.avail_out),m-=n.avail_in,v-=n.avail_out,n.total_in+=m,n.total_out+=v,t.total+=v,t.wrap&4&&v&&(n.adler=t.check=t.flags?Dc(t.check,a,v,n.next_out-v):pb(t.check,a,v,n.next_out-v)),n.data_type=t.bits+(t.last?64:0)+(t.mode===mu?128:0)+(t.mode===K0||t.mode===Jy?256:0),(m===0&&v===0||e===aC)&&Q===qh&&(Q=dH),Q},bH=n=>{if(rf(n))return UA;let e=n.state;return e.window&&(e.window=null),n.state=null,qh},wH=(n,e)=>{if(rf(n))return UA;const t=n.state;return(t.wrap&2)===0?UA:(t.head=e,e.done=!1,qh)},jH=(n,e)=>{const t=e.length;let s,a,o;return rf(n)||(s=n.state,s.wrap!==0&&s.mode!==Jv)?UA:s.mode===Jv&&(a=1,a=pb(a,e,t,0),a!==s.check)?JT:(o=aI(n,e,t,t),o?(s.mode=ZT,qT):(s.havedict=1,qh))};var BH=nI,CH=sI,SH=tI,NH=vH,EH=rI,TH=yH,IH=bH,_H=wH,FH=jH,UH="pako inflate (from Nodeca project)",vu={inflateReset:BH,inflateReset2:CH,inflateResetKeep:SH,inflateInit:NH,inflateInit2:EH,inflate:TH,inflateEnd:IH,inflateGetHeader:_H,inflateSetDictionary:FH,inflateInfo:UH};function RH(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var DH=RH;const iI=Object.prototype.toString,{Z_NO_FLUSH:LH,Z_FINISH:QH,Z_OK:Ag,Z_STREAM_END:t1,Z_NEED_DICT:n1,Z_STREAM_ERROR:OH,Z_DATA_ERROR:IC,Z_MEM_ERROR:PH}=GT;function Dg(n){this.options=$T.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new eH,this.strm.avail_out=0;let t=vu.inflateInit2(this.strm,e.windowBits);if(t!==Ag)throw new Error(gb[t]);if(this.header=new DH,vu.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=vb.string2buf(e.dictionary):iI.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=vu.inflateSetDictionary(this.strm,e.dictionary),t!==Ag)))throw new Error(gb[t])}Dg.prototype.push=function(n,e){const t=this.strm,s=this.options.chunkSize,a=this.options.dictionary;let o,c,h;if(this.ended)return!1;for(e===~~e?c=e:c=e===!0?QH:LH,iI.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(s),t.next_out=0,t.avail_out=s),o=vu.inflate(t,c),o===n1&&a&&(o=vu.inflateSetDictionary(t,a),o===Ag?o=vu.inflate(t,c):o===IC&&(o=n1));t.avail_in>0&&o===t1&&t.state.wrap>0&&n[t.next_in]!==0;)vu.inflateReset(t),o=vu.inflate(t,c);switch(o){case OH:case IC:case n1:case PH:return this.onEnd(o),this.ended=!0,!1}if(h=t.avail_out,t.next_out&&(t.avail_out===0||o===t1))if(this.options.to==="string"){let u=vb.utf8border(t.output,t.next_out),f=t.next_out-u,A=vb.buf2string(t.output,u);t.next_out=f,t.avail_out=s-f,f&&t.output.set(t.output.subarray(u,u+f),0),this.onData(A)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(o===Ag&&h===0)){if(o===t1)return o=vu.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};Dg.prototype.onData=function(n){this.chunks.push(n)};Dg.prototype.onEnd=function(n){n===Ag&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=$T.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function kH(n,e){const t=new Dg(e);if(t.push(n),t.err)throw t.msg||gb[t.err];return t.result}var MH=Dg,HH=kH,VH={Inflate:MH,inflate:HH};const{Inflate:KH,inflate:zH}=VH;var _C=KH,GH=zH;const oI=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;oI[n]=e}const FC=4294967295;function $H(n,e,t){let s=n;for(let a=0;a<t;a++)s=oI[(s^e[a])&255]^s>>>8;return s}function YH(n,e){return($H(FC,n,e)^FC)>>>0}function UC(n,e,t){const s=n.readUint32(),a=YH(new Uint8Array(n.buffer,n.byteOffset+n.offset-e-4,e),e);if(a!==s)throw new Error(`CRC mismatch for chunk ${t}. Expected ${s}, found ${a}`)}function lI(n,e,t){for(let s=0;s<t;s++)e[s]=n[s]}function AI(n,e,t,s){let a=0;for(;a<s;a++)e[a]=n[a];for(;a<t;a++)e[a]=n[a]+e[a-s]&255}function cI(n,e,t,s){let a=0;if(t.length===0)for(;a<s;a++)e[a]=n[a];else for(;a<s;a++)e[a]=n[a]+t[a]&255}function uI(n,e,t,s,a){let o=0;if(t.length===0){for(;o<a;o++)e[o]=n[o];for(;o<s;o++)e[o]=n[o]+(e[o-a]>>1)&255}else{for(;o<a;o++)e[o]=n[o]+(t[o]>>1)&255;for(;o<s;o++)e[o]=n[o]+(e[o-a]+t[o]>>1)&255}}function dI(n,e,t,s,a){let o=0;if(t.length===0){for(;o<a;o++)e[o]=n[o];for(;o<s;o++)e[o]=n[o]+e[o-a]&255}else{for(;o<a;o++)e[o]=n[o]+t[o]&255;for(;o<s;o++)e[o]=n[o]+WH(e[o-a],t[o],t[o-a])&255}}function WH(n,e,t){const s=n+e-t,a=Math.abs(s-n),o=Math.abs(s-e),c=Math.abs(s-t);return a<=o&&a<=c?n:o<=c?e:t}function XH(n,e,t,s,a,o){switch(n){case 0:lI(e,t,a);break;case 1:AI(e,t,a,o);break;case 2:cI(e,t,s,a);break;case 3:uI(e,t,s,a,o);break;case 4:dI(e,t,s,a,o);break;default:throw new Error(`Unsupported filter: ${n}`)}}const JH=new Uint16Array([255]),qH=new Uint8Array(JH.buffer),ZH=qH[0]===255;function e9(n){const{data:e,width:t,height:s,channels:a,depth:o}=n,c=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],h=Math.ceil(o/8)*a,u=new Uint8Array(s*t*h);let f=0;for(let A=0;A<7;A++){const m=c[A],v=Math.ceil((t-m.x)/m.xStep),g=Math.ceil((s-m.y)/m.yStep);if(v<=0||g<=0)continue;const b=v*h,S=new Uint8Array(b);for(let N=0;N<g;N++){const E=e[f++],I=e.subarray(f,f+b);f+=b;const F=new Uint8Array(b);XH(E,I,F,S,b,h),S.set(F);for(let D=0;D<v;D++){const P=m.x+D*m.xStep,K=m.y+N*m.yStep;if(!(P>=t||K>=s))for(let L=0;L<h;L++)u[(K*t+P)*h+L]=F[D*h+L]}}}if(o===16){const A=new Uint16Array(u.buffer);if(ZH)for(let m=0;m<A.length;m++)A[m]=t9(A[m]);return A}else return u}function t9(n){return(n&255)<<8|n>>8&255}const n9=new Uint16Array([255]),s9=new Uint8Array(n9.buffer),r9=s9[0]===255,a9=new Uint8Array(0);function RC(n){const{data:e,width:t,height:s,channels:a,depth:o}=n,c=Math.ceil(o/8)*a,h=Math.ceil(o/8*a*t),u=new Uint8Array(s*h);let f=a9,A=0,m,v;for(let g=0;g<s;g++){switch(m=e.subarray(A+1,A+1+h),v=u.subarray(g*h,(g+1)*h),e[A]){case 0:lI(m,v,h);break;case 1:AI(m,v,h,c);break;case 2:cI(m,v,f,h);break;case 3:uI(m,v,f,h,c);break;case 4:dI(m,v,f,h,c);break;default:throw new Error(`Unsupported filter: ${e[A]}`)}f=v,A+=h+1}if(o===16){const g=new Uint16Array(u.buffer);if(r9)for(let b=0;b<g.length;b++)g[b]=i9(g[b]);return g}else return u}function i9(n){return(n&255)<<8|n>>8&255}const pv=Uint8Array.of(137,80,78,71,13,10,26,10);function DC(n){if(!o9(n.readBytes(pv.length)))throw new Error("wrong PNG signature")}function o9(n){if(n.length<pv.length)return!1;for(let e=0;e<pv.length;e++)if(n[e]!==pv[e])return!1;return!0}const l9="tEXt",A9=0,hI=new TextDecoder("latin1");function c9(n){if(d9(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const u9=/^[\u0000-\u00FF]*$/;function d9(n){if(!u9.test(n))throw new Error("invalid latin1 text")}function h9(n,e,t){const s=fI(e);n[s]=f9(e,t-s.length-1)}function fI(n){for(n.mark();n.readByte()!==A9;);const e=n.offset;n.reset();const t=hI.decode(n.readBytes(e-n.offset-1));return n.skip(1),c9(t),t}function f9(n,e){return hI.decode(n.readBytes(e))}const Zl={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},s1={UNKNOWN:-1,DEFLATE:0},LC={UNKNOWN:-1,ADAPTIVE:0},r1={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},G0={NONE:0,BACKGROUND:1,PREVIOUS:2},a1={SOURCE:0,OVER:1};class m9 extends i2{constructor(t,s={}){super(t);_r(this,"_checkCrc");_r(this,"_inflator");_r(this,"_png");_r(this,"_apng");_r(this,"_end");_r(this,"_hasPalette");_r(this,"_palette");_r(this,"_hasTransparency");_r(this,"_transparency");_r(this,"_compressionMethod");_r(this,"_filterMethod");_r(this,"_interlaceMethod");_r(this,"_colorType");_r(this,"_isAnimated");_r(this,"_numberOfFrames");_r(this,"_numberOfPlays");_r(this,"_frames");_r(this,"_writingDataChunks");const{checkCrc:a=!1}=s;this._checkCrc=a,this._inflator=new _C,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=s1.UNKNOWN,this._filterMethod=LC.UNKNOWN,this._interlaceMethod=r1.UNKNOWN,this._colorType=Zl.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(DC(this);!this._end;){const t=this.readUint32(),s=this.readChars(4);this.decodeChunk(t,s)}return this.decodeImage(),this._png}decodeApng(){for(DC(this);!this._end;){const t=this.readUint32(),s=this.readChars(4);this.decodeApngChunk(t,s)}return this.decodeApngImage(),this._apng}decodeChunk(t,s){const a=this.offset;switch(s){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case l9:h9(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-a!==t)throw new Error(`Length mismatch while decoding chunk ${s}`);this._checkCrc?UC(this,t+4,s):this.skip(4)}decodeApngChunk(t,s){const a=this.offset;switch(s!=="fdAT"&&s!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),s){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,s),this.offset=a+t;break}if(this.offset-a!==t)throw new Error(`Length mismatch while decoding chunk ${s}`);this._checkCrc?UC(this,t+4,s):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=p9(this.readUint8());const s=this.readUint8();this._colorType=s;let a;switch(s){case Zl.GREYSCALE:a=1;break;case Zl.TRUECOLOUR:a=3;break;case Zl.INDEXED_COLOUR:a=1;break;case Zl.GREYSCALE_ALPHA:a=2;break;case Zl.TRUECOLOUR_ALPHA:a=4;break;case Zl.UNKNOWN:default:throw new Error(`Unknown color type: ${s}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==s1.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const s=t/3;this._hasPalette=!0;const a=[];this._palette=a;for(let o=0;o<s;o++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const s=t,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,s)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let s=t,a=this.offset+this.byteOffset;if(a+=4,s-=4,this._inflator.push(new Uint8Array(this.buffer,a,s)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case Zl.GREYSCALE:case Zl.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let s=0;s<t/2;s++)this._transparency[s]=this.readUint16();break}case Zl.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let s=0;for(;s<t;s++){const a=this.readByte();this._palette[s].push(a)}for(;s<this._palette.length;s++)this._palette[s].push(255);break}case Zl.UNKNOWN:case Zl.GREYSCALE_ALPHA:case Zl.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const s=fI(this),a=this.readUint8();if(a!==s1.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const o=this.readBytes(t-s.length-2);this._png.iccEmbeddedProfile={name:s,profile:GH(o)}}decodepHYs(){const t=this.readUint32(),s=this.readUint32(),a=this.readByte();this._png.resolution={x:t,y:s,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const s={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(t);if(a){if(a.data=RC({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)s.data=a.data;else{const o=this._apng.frames.at(t-1);this.disposeFrame(a,o,s),this.addFrameDataToCanvas(s,a)}this._apng.frames.push(s)}}return this._apng}disposeFrame(t,s,a){switch(t.disposeOp){case G0.NONE:break;case G0.BACKGROUND:for(let o=0;o<this._png.height;o++)for(let c=0;c<this._png.width;c++){const h=(o*t.width+c)*this._png.channels;for(let u=0;u<this._png.channels;u++)a.data[h+u]=0}break;case G0.PREVIOUS:a.data.set(s.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,s){const a=1<<this._png.depth,o=(c,h)=>{const u=((c+s.yOffset)*this._png.width+s.xOffset+h)*this._png.channels,f=(c*s.width+h)*this._png.channels;return{index:u,frameIndex:f}};switch(s.blendOp){case a1.SOURCE:for(let c=0;c<s.height;c++)for(let h=0;h<s.width;h++){const{index:u,frameIndex:f}=o(c,h);for(let A=0;A<this._png.channels;A++)t.data[u+A]=s.data[f+A]}break;case a1.OVER:for(let c=0;c<s.height;c++)for(let h=0;h<s.width;h++){const{index:u,frameIndex:f}=o(c,h);for(let A=0;A<this._png.channels;A++){const m=s.data[f+this._png.channels-1]/a,v=A%(this._png.channels-1)===0?1:s.data[f+A],g=Math.floor(m*v+(1-m)*t.data[u+A]);t.data[u+A]+=g}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var s;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?((s=this._frames)==null?void 0:s.at(0)).data:this._inflator.result;if(this._filterMethod!==LC.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===r1.NO_INTERLACE)this._png.data=RC({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===r1.ADAM7)this._png.data=e9({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,s=this._frames.at(-1);s?s.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:G0.NONE,blendOp:a1.SOURCE,data:t}),this._inflator=new _C,this._writingDataChunks=!1}}function p9(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var QC;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(QC||(QC={}));function g9(n,e){return new m9(n,e).decode()}var os=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function i1(){os.console&&typeof os.console.log=="function"&&os.console.log.apply(os.console,arguments)}var zr={log:i1,warn:function(n){os.console&&(typeof os.console.warn=="function"?os.console.warn.apply(os.console,arguments):i1.call(null,arguments))},error:function(n){os.console&&(typeof os.console.error=="function"?os.console.error.apply(os.console,arguments):i1(n))}};function o1(n,e,t){var s=new XMLHttpRequest;s.open("GET",n),s.responseType="blob",s.onload=function(){_h(s.response,e,t)},s.onerror=function(){zr.error("could not download file")},s.send()}function OC(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function $0(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var _h=os.saveAs||((typeof window>"u"?"undefined":Fr(window))!=="object"||window!==os?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var s=os.URL||os.webkitURL,a=document.createElement("a");e=e||n.name||"download",a.download=e,a.rel="noopener",typeof n=="string"?(a.href=n,a.origin!==location.origin?OC(a.href)?o1(n,e,t):$0(a,a.target="_blank"):$0(a)):(a.href=s.createObjectURL(n),setTimeout(function(){s.revokeObjectURL(a.href)},4e4),setTimeout(function(){$0(a)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(OC(n))o1(n,e,t);else{var s=document.createElement("a");s.href=n,s.target="_blank",setTimeout(function(){$0(s)})}else navigator.msSaveOrOpenBlob((function(a,o){return o===void 0?o={autoBom:!1}:Fr(o)!=="object"&&(zr.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(n,t),e)}:function(n,e,t,s){if((s=s||open("","_blank"))&&(s.document.title=s.document.body.innerText="downloading..."),typeof n=="string")return o1(n,e,t);var a=n.type==="application/octet-stream",o=/constructor/i.test(os.HTMLElement)||os.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||a&&o)&&(typeof FileReader>"u"?"undefined":Fr(FileReader))==="object"){var h=new FileReader;h.onloadend=function(){var A=h.result;A=c?A:A.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=A:location=A,s=null},h.readAsDataURL(n)}else{var u=os.URL||os.webkitURL,f=u.createObjectURL(n);s?s.location=f:location.href=f,s=null,setTimeout(function(){u.revokeObjectURL(f)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function mI(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(h){return[parseInt(h[1]),parseInt(h[2]),parseInt(h[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(h){return[parseInt(h[1],16),parseInt(h[2],16),parseInt(h[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(h){return[parseInt(h[1]+h[1],16),parseInt(h[2]+h[2],16),parseInt(h[3]+h[3],16)]}}],s=0;s<t.length;s++){var a=t[s].re,o=t[s].process,c=a.exec(n);c&&(e=o(c),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var h=this.r.toString(16),u=this.g.toString(16),f=this.b.toString(16);return h.length==1&&(h="0"+h),u.length==1&&(u="0"+u),f.length==1&&(f="0"+f),"#"+h+u+f}}var gv=os.atob.bind(os),PC=os.btoa.bind(os);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function l1(n,e){var t=n[0],s=n[1],a=n[2],o=n[3];t=Po(t,s,a,o,e[0],7,-680876936),o=Po(o,t,s,a,e[1],12,-389564586),a=Po(a,o,t,s,e[2],17,606105819),s=Po(s,a,o,t,e[3],22,-1044525330),t=Po(t,s,a,o,e[4],7,-176418897),o=Po(o,t,s,a,e[5],12,1200080426),a=Po(a,o,t,s,e[6],17,-1473231341),s=Po(s,a,o,t,e[7],22,-45705983),t=Po(t,s,a,o,e[8],7,1770035416),o=Po(o,t,s,a,e[9],12,-1958414417),a=Po(a,o,t,s,e[10],17,-42063),s=Po(s,a,o,t,e[11],22,-1990404162),t=Po(t,s,a,o,e[12],7,1804603682),o=Po(o,t,s,a,e[13],12,-40341101),a=Po(a,o,t,s,e[14],17,-1502002290),t=ko(t,s=Po(s,a,o,t,e[15],22,1236535329),a,o,e[1],5,-165796510),o=ko(o,t,s,a,e[6],9,-1069501632),a=ko(a,o,t,s,e[11],14,643717713),s=ko(s,a,o,t,e[0],20,-373897302),t=ko(t,s,a,o,e[5],5,-701558691),o=ko(o,t,s,a,e[10],9,38016083),a=ko(a,o,t,s,e[15],14,-660478335),s=ko(s,a,o,t,e[4],20,-405537848),t=ko(t,s,a,o,e[9],5,568446438),o=ko(o,t,s,a,e[14],9,-1019803690),a=ko(a,o,t,s,e[3],14,-187363961),s=ko(s,a,o,t,e[8],20,1163531501),t=ko(t,s,a,o,e[13],5,-1444681467),o=ko(o,t,s,a,e[2],9,-51403784),a=ko(a,o,t,s,e[7],14,1735328473),t=Mo(t,s=ko(s,a,o,t,e[12],20,-1926607734),a,o,e[5],4,-378558),o=Mo(o,t,s,a,e[8],11,-2022574463),a=Mo(a,o,t,s,e[11],16,1839030562),s=Mo(s,a,o,t,e[14],23,-35309556),t=Mo(t,s,a,o,e[1],4,-1530992060),o=Mo(o,t,s,a,e[4],11,1272893353),a=Mo(a,o,t,s,e[7],16,-155497632),s=Mo(s,a,o,t,e[10],23,-1094730640),t=Mo(t,s,a,o,e[13],4,681279174),o=Mo(o,t,s,a,e[0],11,-358537222),a=Mo(a,o,t,s,e[3],16,-722521979),s=Mo(s,a,o,t,e[6],23,76029189),t=Mo(t,s,a,o,e[9],4,-640364487),o=Mo(o,t,s,a,e[12],11,-421815835),a=Mo(a,o,t,s,e[15],16,530742520),t=Ho(t,s=Mo(s,a,o,t,e[2],23,-995338651),a,o,e[0],6,-198630844),o=Ho(o,t,s,a,e[7],10,1126891415),a=Ho(a,o,t,s,e[14],15,-1416354905),s=Ho(s,a,o,t,e[5],21,-57434055),t=Ho(t,s,a,o,e[12],6,1700485571),o=Ho(o,t,s,a,e[3],10,-1894986606),a=Ho(a,o,t,s,e[10],15,-1051523),s=Ho(s,a,o,t,e[1],21,-2054922799),t=Ho(t,s,a,o,e[8],6,1873313359),o=Ho(o,t,s,a,e[15],10,-30611744),a=Ho(a,o,t,s,e[6],15,-1560198380),s=Ho(s,a,o,t,e[13],21,1309151649),t=Ho(t,s,a,o,e[4],6,-145523070),o=Ho(o,t,s,a,e[11],10,-1120210379),a=Ho(a,o,t,s,e[2],15,718787259),s=Ho(s,a,o,t,e[9],21,-343485551),n[0]=Nd(t,n[0]),n[1]=Nd(s,n[1]),n[2]=Nd(a,n[2]),n[3]=Nd(o,n[3])}function Lx(n,e,t,s,a,o){return e=Nd(Nd(e,n),Nd(s,o)),Nd(e<<a|e>>>32-a,t)}function Po(n,e,t,s,a,o,c){return Lx(e&t|~e&s,n,e,a,o,c)}function ko(n,e,t,s,a,o,c){return Lx(e&s|t&~s,n,e,a,o,c)}function Mo(n,e,t,s,a,o,c){return Lx(e^t^s,n,e,a,o,c)}function Ho(n,e,t,s,a,o,c){return Lx(t^(e|~s),n,e,a,o,c)}function pI(n){var e,t=n.length,s=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)l1(s,v9(n.substring(e-64,e)));n=n.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)a[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(l1(s,a),e=0;e<16;e++)a[e]=0;return a[14]=8*t,l1(s,a),s}function v9(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}var kC="0123456789abcdef".split("");function x9(n){for(var e="",t=0;t<4;t++)e+=kC[n>>8*t+4&15]+kC[n>>8*t&15];return e}function y9(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function xb(n){return pI(n).map(y9).join("")}var b9=(function(n){for(var e=0;e<n.length;e++)n[e]=x9(n[e]);return n.join("")})(pI("hello"))!="5d41402abc4b2a76b9719d911017c592";function Nd(n,e){if(b9){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function yb(n,e){var t,s,a,o;if(n!==t){for(var c=(a=n,o=1+(256/n.length|0),new Array(o+1).join(a)),h=[],u=0;u<256;u++)h[u]=u;var f=0;for(u=0;u<256;u++){var A=h[u];f=(f+A+c.charCodeAt(u))%256,h[u]=h[f],h[f]=A}t=n,s=h}else h=s;var m=e.length,v=0,g=0,b="";for(u=0;u<m;u++)g=(g+(A=h[v=(v+1)%256]))%256,h[v]=h[g],h[g]=A,c=h[(h[v]+h[g])%256],b+=String.fromCharCode(e.charCodeAt(u)^c);return b}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var MC={print:4,modify:8,copy:16,"annot-forms":32};function Hf(n,e,t,s){this.v=1,this.r=2;var a=192;n.forEach(function(h){if(MC.perm!==void 0)throw new Error("Invalid permission: "+h);a+=MC[h]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),c=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,c),this.P=-(1+(255^a)),this.encryptionKey=xb(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(s)).substr(0,5),this.U=yb(this.encryptionKey,this.padding)}function Vf(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,s=0;s<t;s++){var a=n.charCodeAt(s);e+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):n[s]}return e}function HC(n){if(Fr(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,s,a){if(a=a||!1,typeof t!="string"||typeof s!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var o=Math.random().toString(35);return e[t][o]=[s,!!a],o},this.unsubscribe=function(t){for(var s in e)if(e[s][t])return delete e[s][t],Object.keys(e[s]).length===0&&delete e[s],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var s=Array.prototype.slice.call(arguments,1),a=[];for(var o in e[t]){var c=e[t][o];try{c[0].apply(n,s)}catch(h){os.console&&zr.error("jsPDF PubSub Error",h.message,h)}c[1]&&a.push(o)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function cg(n){if(!(this instanceof cg))return new cg(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function gI(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function Bd(n,e,t,s,a){if(!(this instanceof Bd))return new Bd(n,e,t,s,a);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,gI.call(this,s,a)}function Dh(n,e,t,s,a){if(!(this instanceof Dh))return new Dh(n,e,t,s,a);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,gI.call(this,s,a)}function Qn(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",s=arguments[1],a=arguments[2],o=arguments[3],c=[],h=1,u=16,f="S",A=null;Fr(n=n||{})==="object"&&(t=n.orientation,s=n.unit||s,a=n.format||a,o=n.compress||n.compressPdf||o,(A=n.encryption||null)!==null&&(A.userPassword=A.userPassword||"",A.ownerPassword=A.ownerPassword||"",A.userPermissions=A.userPermissions||[]),h=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(u=n.floatPrecision),f=n.defaultPathOperation||"S"),c=n.filters||(o===!0?["FlateEncode"]:c),s=s||"mm",t=(""+(t||"P")).toLowerCase();var m=n.putOnlyUsedFonts||!1,v={},g={internal:{},__private__:{}};g.__private__.PubSub=HC;var b="1.3",S=g.__private__.getPdfVersion=function(){return b};g.__private__.setPdfVersion=function(k){b=k};var N={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return N};var E=g.__private__.getPageFormat=function(k){return N[k]};a=a||"a4";var I="compat",F="advanced",D=I;function P(){this.saveGraphicsState(),de(new cn($t,0,0,-$t,0,qi()*$t).toString()+" cm"),this.setFontSize(this.getFontSize()/$t),f="n",D=F}function K(){this.restoreGraphicsState(),f="S",D=I}var L=g.__private__.combineFontStyleAndFontWeight=function(k,oe){if(k=="bold"&&oe=="normal"||k=="bold"&&oe==400||k=="normal"&&oe=="italic"||k=="bold"&&oe=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return oe&&(k=oe==400||oe==="normal"?k==="italic"?"italic":"normal":oe!=700&&oe!=="bold"||k!=="normal"?(oe==700?"bold":oe)+""+k:"bold"),k};g.advancedAPI=function(k){var oe=D===I;return oe&&P.call(this),typeof k!="function"||(k(this),oe&&K.call(this)),this},g.compatAPI=function(k){var oe=D===F;return oe&&K.call(this),typeof k!="function"||(k(this),oe&&P.call(this)),this},g.isAdvancedAPI=function(){return D===F};var Q,R=function(k){if(D!==F)throw new Error(k+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},M=g.roundToPrecision=g.__private__.roundToPrecision=function(k,oe){var Ee=e||oe;if(isNaN(k)||isNaN(Ee))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return k.toFixed(Ee).replace(/0+$/,"")};Q=g.hpf=g.__private__.hpf=typeof u=="number"?function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.hpf");return M(k,u)}:u==="smart"?function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.hpf");return M(k,k>-1&&k<1?16:5)}:function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.hpf");return M(k,16)};var O=g.f2=g.__private__.f2=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.f2");return M(k,2)},H=g.__private__.f3=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.f3");return M(k,3)},G=g.scale=g.__private__.scale=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.scale");return D===I?k*$t:D===F?k:void 0},ie=function(k){return G((function(oe){return D===I?qi()-oe:D===F?oe:void 0})(k))};g.__private__.setPrecision=g.setPrecision=function(k){typeof parseInt(k,10)=="number"&&(e=parseInt(k,10))};var ge,J="00000000000000000000000000000000",re=g.__private__.getFileId=function(){return J},se=g.__private__.setFileId=function(k){return J=k!==void 0&&/^[a-fA-F0-9]{32}$/.test(k)?k.toUpperCase():J.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),A!==null&&(Pn=new Hf(A.userPermissions,A.userPassword,A.ownerPassword,J)),J};g.setFileId=function(k){return se(k),this},g.getFileId=function(){return re()};var he=g.__private__.convertDateToPDFDate=function(k){var oe=k.getTimezoneOffset(),Ee=oe<0?"+":"-",Ue=Math.floor(Math.abs(oe/60)),Ve=Math.abs(oe%60),mt=[Ee,ae(Ue),"'",ae(Ve),"'"].join("");return["D:",k.getFullYear(),ae(k.getMonth()+1),ae(k.getDate()),ae(k.getHours()),ae(k.getMinutes()),ae(k.getSeconds()),mt].join("")},je=g.__private__.convertPDFDateToDate=function(k){var oe=parseInt(k.substr(2,4),10),Ee=parseInt(k.substr(6,2),10)-1,Ue=parseInt(k.substr(8,2),10),Ve=parseInt(k.substr(10,2),10),mt=parseInt(k.substr(12,2),10),Nt=parseInt(k.substr(14,2),10);return new Date(oe,Ee,Ue,Ve,mt,Nt,0)},ne=g.__private__.setCreationDate=function(k){var oe;if(k===void 0&&(k=new Date),k instanceof Date)oe=he(k);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(k))throw new Error("Invalid argument passed to jsPDF.setCreationDate");oe=k}return ge=oe},V=g.__private__.getCreationDate=function(k){var oe=ge;return k==="jsDate"&&(oe=je(ge)),oe};g.setCreationDate=function(k){return ne(k),this},g.getCreationDate=function(k){return V(k)};var W,ae=g.__private__.padd2=function(k){return("0"+parseInt(k)).slice(-2)},ce=g.__private__.padd2Hex=function(k){return("00"+(k=k.toString())).substr(k.length)},Ae=0,pe=[],Se=[],xe=0,Ie=[],_e=[],De=!1,st=Se;g.__private__.setCustomOutputDestination=function(k){De=!0,st=k};var He=function(k){De||(st=k)};g.__private__.resetCustomOutputDestination=function(){De=!1,st=Se};var de=g.__private__.out=function(k){return k=k.toString(),xe+=k.length+1,st.push(k),st},rt=g.__private__.write=function(k){return de(arguments.length===1?k.toString():Array.prototype.join.call(arguments," "))},_t=g.__private__.getArrayBuffer=function(k){for(var oe=k.length,Ee=new ArrayBuffer(oe),Ue=new Uint8Array(Ee);oe--;)Ue[oe]=k.charCodeAt(oe);return Ee},vt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return vt};var qe=n.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(k){return qe=D===F?k/$t:k,this};var We,dt=g.__private__.getFontSize=g.getFontSize=function(){return D===I?qe:qe*$t},Qt=n.R2L||!1;g.__private__.setR2L=g.setR2L=function(k){return Qt=k,this},g.__private__.getR2L=g.getR2L=function(){return Qt};var Pt,Gt=g.__private__.setZoomMode=function(k){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(k))We=k;else if(isNaN(k)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(k)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+k+'" is not recognized.');We=k}else We=parseInt(k,10)};g.__private__.getZoomMode=function(){return We};var sn,en=g.__private__.setPageMode=function(k){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(k)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+k+'" is not recognized.');Pt=k};g.__private__.getPageMode=function(){return Pt};var Nn=g.__private__.setLayoutMode=function(k){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(k)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+k+'" is not recognized.');sn=k};g.__private__.getLayoutMode=function(){return sn},g.__private__.setDisplayMode=g.setDisplayMode=function(k,oe,Ee){return Gt(k),Nn(oe),en(Ee),this};var xt={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(k){if(Object.keys(xt).indexOf(k)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return xt[k]},g.__private__.getDocumentProperties=function(){return xt},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(k){for(var oe in xt)xt.hasOwnProperty(oe)&&k[oe]&&(xt[oe]=k[oe]);return this},g.__private__.setDocumentProperty=function(k,oe){if(Object.keys(xt).indexOf(k)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return xt[k]=oe};var St,$t,Ht,Rn,Ke,yt={},ze={},ot=[],ft={},Lt={},Ct={},zt={},yn=null,Tt=0,ht=[],Ot=new HC(g),qt=n.hotfixes||[],on={},cs={},js=[],cn=function k(oe,Ee,Ue,Ve,mt,Nt){if(!(this instanceof k))return new k(oe,Ee,Ue,Ve,mt,Nt);isNaN(oe)&&(oe=1),isNaN(Ee)&&(Ee=0),isNaN(Ue)&&(Ue=0),isNaN(Ve)&&(Ve=1),isNaN(mt)&&(mt=0),isNaN(Nt)&&(Nt=0),this._matrix=[oe,Ee,Ue,Ve,mt,Nt]};Object.defineProperty(cn.prototype,"sx",{get:function(){return this._matrix[0]},set:function(k){this._matrix[0]=k}}),Object.defineProperty(cn.prototype,"shy",{get:function(){return this._matrix[1]},set:function(k){this._matrix[1]=k}}),Object.defineProperty(cn.prototype,"shx",{get:function(){return this._matrix[2]},set:function(k){this._matrix[2]=k}}),Object.defineProperty(cn.prototype,"sy",{get:function(){return this._matrix[3]},set:function(k){this._matrix[3]=k}}),Object.defineProperty(cn.prototype,"tx",{get:function(){return this._matrix[4]},set:function(k){this._matrix[4]=k}}),Object.defineProperty(cn.prototype,"ty",{get:function(){return this._matrix[5]},set:function(k){this._matrix[5]=k}}),Object.defineProperty(cn.prototype,"a",{get:function(){return this._matrix[0]},set:function(k){this._matrix[0]=k}}),Object.defineProperty(cn.prototype,"b",{get:function(){return this._matrix[1]},set:function(k){this._matrix[1]=k}}),Object.defineProperty(cn.prototype,"c",{get:function(){return this._matrix[2]},set:function(k){this._matrix[2]=k}}),Object.defineProperty(cn.prototype,"d",{get:function(){return this._matrix[3]},set:function(k){this._matrix[3]=k}}),Object.defineProperty(cn.prototype,"e",{get:function(){return this._matrix[4]},set:function(k){this._matrix[4]=k}}),Object.defineProperty(cn.prototype,"f",{get:function(){return this._matrix[5]},set:function(k){this._matrix[5]=k}}),Object.defineProperty(cn.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(cn.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(cn.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(cn.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),cn.prototype.join=function(k){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(Q).join(k)},cn.prototype.multiply=function(k){var oe=k.sx*this.sx+k.shy*this.shx,Ee=k.sx*this.shy+k.shy*this.sy,Ue=k.shx*this.sx+k.sy*this.shx,Ve=k.shx*this.shy+k.sy*this.sy,mt=k.tx*this.sx+k.ty*this.shx+this.tx,Nt=k.tx*this.shy+k.ty*this.sy+this.ty;return new cn(oe,Ee,Ue,Ve,mt,Nt)},cn.prototype.decompose=function(){var k=this.sx,oe=this.shy,Ee=this.shx,Ue=this.sy,Ve=this.tx,mt=this.ty,Nt=Math.sqrt(k*k+oe*oe),hn=(k/=Nt)*Ee+(oe/=Nt)*Ue;Ee-=k*hn,Ue-=oe*hn;var bn=Math.sqrt(Ee*Ee+Ue*Ue);return hn/=bn,k*(Ue/=bn)<oe*(Ee/=bn)&&(k=-k,oe=-oe,hn=-hn,Nt=-Nt),{scale:new cn(Nt,0,0,bn,0,0),translate:new cn(1,0,0,1,Ve,mt),rotate:new cn(k,oe,-oe,k,0,0),skew:new cn(1,0,hn,1,0,0)}},cn.prototype.toString=function(k){return this.join(" ")},cn.prototype.inversed=function(){var k=this.sx,oe=this.shy,Ee=this.shx,Ue=this.sy,Ve=this.tx,mt=this.ty,Nt=1/(k*Ue-oe*Ee),hn=Ue*Nt,bn=-oe*Nt,Mn=-Ee*Nt,_n=k*Nt;return new cn(hn,bn,Mn,_n,-hn*Ve-Mn*mt,-bn*Ve-_n*mt)},cn.prototype.applyToPoint=function(k){var oe=k.x*this.sx+k.y*this.shx+this.tx,Ee=k.x*this.shy+k.y*this.sy+this.ty;return new La(oe,Ee)},cn.prototype.applyToRectangle=function(k){var oe=this.applyToPoint(k),Ee=this.applyToPoint(new La(k.x+k.w,k.y+k.h));return new hr(oe.x,oe.y,Ee.x-oe.x,Ee.y-oe.y)},cn.prototype.clone=function(){var k=this.sx,oe=this.shy,Ee=this.shx,Ue=this.sy,Ve=this.tx,mt=this.ty;return new cn(k,oe,Ee,Ue,Ve,mt)},g.Matrix=cn;var ri=g.matrixMult=function(k,oe){return oe.multiply(k)},Ua=new cn(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=Ua;var ua=function(k,oe){if(!Lt[k]){var Ee=(oe instanceof Bd?"Sh":"P")+(Object.keys(ft).length+1).toString(10);oe.id=Ee,Lt[k]=Ee,ft[Ee]=oe,Ot.publish("addPattern",oe)}};g.ShadingPattern=Bd,g.TilingPattern=Dh,g.addShadingPattern=function(k,oe){return R("addShadingPattern()"),ua(k,oe),this},g.beginTilingPattern=function(k){R("beginTilingPattern()"),$a(k.boundingBox[0],k.boundingBox[1],k.boundingBox[2]-k.boundingBox[0],k.boundingBox[3]-k.boundingBox[1],k.matrix)},g.endTilingPattern=function(k,oe){R("endTilingPattern()"),oe.stream=_e[W].join(`
`),ua(k,oe),Ot.publish("endTilingPattern",oe),js.pop().restore()};var $r,ln=g.__private__.newObject=function(){var k=Le();return Rt(k,!0),k},Le=g.__private__.newObjectDeferred=function(){return Ae++,pe[Ae]=function(){return xe},Ae},Rt=function(k,oe){return oe=typeof oe=="boolean"&&oe,pe[k]=xe,oe&&de(k+" 0 obj"),k},Vt=g.__private__.newAdditionalObject=function(){var k={objId:Le(),content:""};return Ie.push(k),k},Ft=Le(),Yt=Le(),Ut=g.__private__.decodeColorString=function(k){var oe=k.split(" ");if(oe.length!==2||oe[1]!=="g"&&oe[1]!=="G")oe.length!==5||oe[4]!=="k"&&oe[4]!=="K"||(oe=[(1-oe[0])*(1-oe[3]),(1-oe[1])*(1-oe[3]),(1-oe[2])*(1-oe[3]),"r"]);else{var Ee=parseFloat(oe[0]);oe=[Ee,Ee,Ee,"r"]}for(var Ue="#",Ve=0;Ve<3;Ve++)Ue+=("0"+Math.floor(255*parseFloat(oe[Ve])).toString(16)).slice(-2);return Ue},vn=g.__private__.encodeColorString=function(k){var oe;typeof k=="string"&&(k={ch1:k});var Ee=k.ch1,Ue=k.ch2,Ve=k.ch3,mt=k.ch4,Nt=k.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ee=="string"&&Ee.charAt(0)!=="#"){var hn=new mI(Ee);if(hn.ok)Ee=hn.toHex();else if(!/^\d*\.?\d*$/.test(Ee))throw new Error('Invalid color "'+Ee+'" passed to jsPDF.encodeColorString.')}if(typeof Ee=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ee)&&(Ee="#"+Ee[1]+Ee[1]+Ee[2]+Ee[2]+Ee[3]+Ee[3]),typeof Ee=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ee)){var bn=parseInt(Ee.substr(1),16);Ee=bn>>16&255,Ue=bn>>8&255,Ve=255&bn}if(Ue===void 0||mt===void 0&&Ee===Ue&&Ue===Ve)oe=typeof Ee=="string"?Ee+" "+Nt[0]:k.precision===2?O(Ee/255)+" "+Nt[0]:H(Ee/255)+" "+Nt[0];else if(mt===void 0||Fr(mt)==="object"){if(mt&&!isNaN(mt.a)&&mt.a===0)return["1.","1.","1.",Nt[1]].join(" ");oe=typeof Ee=="string"?[Ee,Ue,Ve,Nt[1]].join(" "):k.precision===2?[O(Ee/255),O(Ue/255),O(Ve/255),Nt[1]].join(" "):[H(Ee/255),H(Ue/255),H(Ve/255),Nt[1]].join(" ")}else oe=typeof Ee=="string"?[Ee,Ue,Ve,mt,Nt[2]].join(" "):k.precision===2?[O(Ee),O(Ue),O(Ve),O(mt),Nt[2]].join(" "):[H(Ee),H(Ue),H(Ve),H(mt),Nt[2]].join(" ");return oe},Sn=g.__private__.getFilters=function(){return c},On=g.__private__.putStream=function(k){var oe=(k=k||{}).data||"",Ee=k.filters||Sn(),Ue=k.alreadyAppliedFilters||[],Ve=k.addLength1||!1,mt=oe.length,Nt=k.objectId,hn=function(Y){return Y};if(A!==null&&Nt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");A!==null&&(hn=Pn.encryptor(Nt,0));var bn={};Ee===!0&&(Ee=["FlateEncode"]);var Mn=k.additionalKeyValues||[],_n=(bn=Qn.API.processDataByFilters!==void 0?Qn.API.processDataByFilters(oe,Ee):{data:oe,reverseChain:[]}).reverseChain+(Array.isArray(Ue)?Ue.join(" "):Ue.toString());if(bn.data.length!==0&&(Mn.push({key:"Length",value:bn.data.length}),Ve===!0&&Mn.push({key:"Length1",value:mt})),_n.length!=0)if(_n.split("/").length-1==1)Mn.push({key:"Filter",value:_n});else{Mn.push({key:"Filter",value:"["+_n+"]"});for(var ys=0;ys<Mn.length;ys+=1)if(Mn[ys].key==="DecodeParms"){for(var xr=[],Ar=0;Ar<bn.reverseChain.split("/").length-1;Ar+=1)xr.push("null");xr.push(Mn[ys].value),Mn[ys].value="["+xr.join(" ")+"]"}}de("<<");for(var w=0;w<Mn.length;w++)de("/"+Mn[w].key+" "+Mn[w].value);de(">>"),bn.data.length!==0&&(de("stream"),de(hn(bn.data)),de("endstream"))},dr=g.__private__.putPage=function(k){var oe=k.number,Ee=k.data,Ue=k.objId,Ve=k.contentsObjId;Rt(Ue,!0),de("<</Type /Page"),de("/Parent "+k.rootDictionaryObjId+" 0 R"),de("/Resources "+k.resourceDictionaryObjId+" 0 R"),de("/MediaBox ["+parseFloat(Q(k.mediaBox.bottomLeftX))+" "+parseFloat(Q(k.mediaBox.bottomLeftY))+" "+Q(k.mediaBox.topRightX)+" "+Q(k.mediaBox.topRightY)+"]"),k.cropBox!==null&&de("/CropBox ["+Q(k.cropBox.bottomLeftX)+" "+Q(k.cropBox.bottomLeftY)+" "+Q(k.cropBox.topRightX)+" "+Q(k.cropBox.topRightY)+"]"),k.bleedBox!==null&&de("/BleedBox ["+Q(k.bleedBox.bottomLeftX)+" "+Q(k.bleedBox.bottomLeftY)+" "+Q(k.bleedBox.topRightX)+" "+Q(k.bleedBox.topRightY)+"]"),k.trimBox!==null&&de("/TrimBox ["+Q(k.trimBox.bottomLeftX)+" "+Q(k.trimBox.bottomLeftY)+" "+Q(k.trimBox.topRightX)+" "+Q(k.trimBox.topRightY)+"]"),k.artBox!==null&&de("/ArtBox ["+Q(k.artBox.bottomLeftX)+" "+Q(k.artBox.bottomLeftY)+" "+Q(k.artBox.topRightX)+" "+Q(k.artBox.topRightY)+"]"),typeof k.userUnit=="number"&&k.userUnit!==1&&de("/UserUnit "+k.userUnit),Ot.publish("putPage",{objId:Ue,pageContext:ht[oe],pageNumber:oe,page:Ee}),de("/Contents "+Ve+" 0 R"),de(">>"),de("endobj");var mt=Ee.join(`
`);return D===F&&(mt+=`
Q`),Rt(Ve,!0),On({data:mt,filters:Sn(),objectId:Ve}),de("endobj"),Ue},Kn=g.__private__.putPages=function(){var k,oe,Ee=[];for(k=1;k<=Tt;k++)ht[k].objId=Le(),ht[k].contentsObjId=Le();for(k=1;k<=Tt;k++)Ee.push(dr({number:k,data:_e[k],objId:ht[k].objId,contentsObjId:ht[k].contentsObjId,mediaBox:ht[k].mediaBox,cropBox:ht[k].cropBox,bleedBox:ht[k].bleedBox,trimBox:ht[k].trimBox,artBox:ht[k].artBox,userUnit:ht[k].userUnit,rootDictionaryObjId:Ft,resourceDictionaryObjId:Yt}));Rt(Ft,!0),de("<</Type /Pages");var Ue="/Kids [";for(oe=0;oe<Tt;oe++)Ue+=Ee[oe]+" 0 R ";de(Ue+"]"),de("/Count "+Tt),de(">>"),de("endobj"),Ot.publish("postPutPages")},In=function(k){Ot.publish("putFont",{font:k,out:de,newObject:ln,putStream:On}),k.isAlreadyPutted!==!0&&(k.objectNumber=ln(),de("<<"),de("/Type /Font"),de("/BaseFont /"+Vf(k.postScriptName)),de("/Subtype /Type1"),typeof k.encoding=="string"&&de("/Encoding /"+k.encoding),de("/FirstChar 32"),de("/LastChar 255"),de(">>"),de("endobj"))},Us=function(k){k.objectNumber=ln();var oe=[];oe.push({key:"Type",value:"/XObject"}),oe.push({key:"Subtype",value:"/Form"}),oe.push({key:"BBox",value:"["+[Q(k.x),Q(k.y),Q(k.x+k.width),Q(k.y+k.height)].join(" ")+"]"}),oe.push({key:"Matrix",value:"["+k.matrix.toString()+"]"});var Ee=k.pages[1].join(`
`);On({data:Ee,additionalKeyValues:oe,objectId:k.objectNumber}),de("endobj")},Ss=function(k,oe){oe||(oe=21);var Ee=ln(),Ue=(function(Nt,hn){var bn,Mn=[],_n=1/(hn-1);for(bn=0;bn<1;bn+=_n)Mn.push(bn);if(Mn.push(1),Nt[0].offset!=0){var ys={offset:0,color:Nt[0].color};Nt.unshift(ys)}if(Nt[Nt.length-1].offset!=1){var xr={offset:1,color:Nt[Nt.length-1].color};Nt.push(xr)}for(var Ar="",w=0,Y=0;Y<Mn.length;Y++){for(bn=Mn[Y];bn>Nt[w+1].offset;)w++;var te=Nt[w].offset,be=(bn-te)/(Nt[w+1].offset-te),$e=Nt[w].color,tt=Nt[w+1].color;Ar+=ce(Math.round((1-be)*$e[0]+be*tt[0]).toString(16))+ce(Math.round((1-be)*$e[1]+be*tt[1]).toString(16))+ce(Math.round((1-be)*$e[2]+be*tt[2]).toString(16))}return Ar.trim()})(k.colors,oe),Ve=[];Ve.push({key:"FunctionType",value:"0"}),Ve.push({key:"Domain",value:"[0.0 1.0]"}),Ve.push({key:"Size",value:"["+oe+"]"}),Ve.push({key:"BitsPerSample",value:"8"}),Ve.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ve.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),On({data:Ue,additionalKeyValues:Ve,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ee}),de("endobj"),k.objectNumber=ln(),de("<< /ShadingType "+k.type),de("/ColorSpace /DeviceRGB");var mt="/Coords ["+Q(parseFloat(k.coords[0]))+" "+Q(parseFloat(k.coords[1]))+" ";k.type===2?mt+=Q(parseFloat(k.coords[2]))+" "+Q(parseFloat(k.coords[3])):mt+=Q(parseFloat(k.coords[2]))+" "+Q(parseFloat(k.coords[3]))+" "+Q(parseFloat(k.coords[4]))+" "+Q(parseFloat(k.coords[5])),de(mt+="]"),k.matrix&&de("/Matrix ["+k.matrix.toString()+"]"),de("/Function "+Ee+" 0 R"),de("/Extend [true true]"),de(">>"),de("endobj")},lr=function(k,oe){var Ee=Le(),Ue=ln();oe.push({resourcesOid:Ee,objectOid:Ue}),k.objectNumber=Ue;var Ve=[];Ve.push({key:"Type",value:"/Pattern"}),Ve.push({key:"PatternType",value:"1"}),Ve.push({key:"PaintType",value:"1"}),Ve.push({key:"TilingType",value:"1"}),Ve.push({key:"BBox",value:"["+k.boundingBox.map(Q).join(" ")+"]"}),Ve.push({key:"XStep",value:Q(k.xStep)}),Ve.push({key:"YStep",value:Q(k.yStep)}),Ve.push({key:"Resources",value:Ee+" 0 R"}),k.matrix&&Ve.push({key:"Matrix",value:"["+k.matrix.toString()+"]"}),On({data:k.stream,additionalKeyValues:Ve,objectId:k.objectNumber}),de("endobj")},sr=function(k){for(var oe in k.objectNumber=ln(),de("<<"),k)switch(oe){case"opacity":de("/ca "+O(k[oe]));break;case"stroke-opacity":de("/CA "+O(k[oe]))}de(">>"),de("endobj")},Js=function(k){Rt(k.resourcesOid,!0),de("<<"),de("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var oe in de("/Font <<"),yt)yt.hasOwnProperty(oe)&&(m===!1||m===!0&&v.hasOwnProperty(oe))&&de("/"+oe+" "+yt[oe].objectNumber+" 0 R");de(">>")})(),(function(){if(Object.keys(ft).length>0){for(var oe in de("/Shading <<"),ft)ft.hasOwnProperty(oe)&&ft[oe]instanceof Bd&&ft[oe].objectNumber>=0&&de("/"+oe+" "+ft[oe].objectNumber+" 0 R");Ot.publish("putShadingPatternDict"),de(">>")}})(),(function(oe){if(Object.keys(ft).length>0){for(var Ee in de("/Pattern <<"),ft)ft.hasOwnProperty(Ee)&&ft[Ee]instanceof g.TilingPattern&&ft[Ee].objectNumber>=0&&ft[Ee].objectNumber<oe&&de("/"+Ee+" "+ft[Ee].objectNumber+" 0 R");Ot.publish("putTilingPatternDict"),de(">>")}})(k.objectOid),(function(){if(Object.keys(Ct).length>0){var oe;for(oe in de("/ExtGState <<"),Ct)Ct.hasOwnProperty(oe)&&Ct[oe].objectNumber>=0&&de("/"+oe+" "+Ct[oe].objectNumber+" 0 R");Ot.publish("putGStateDict"),de(">>")}})(),(function(){for(var oe in de("/XObject <<"),on)on.hasOwnProperty(oe)&&on[oe].objectNumber>=0&&de("/"+oe+" "+on[oe].objectNumber+" 0 R");Ot.publish("putXobjectDict"),de(">>")})(),de(">>"),de("endobj")},zs=function(k){ze[k.fontName]=ze[k.fontName]||{},ze[k.fontName][k.fontStyle]=k.id},Ga=function(k,oe,Ee,Ue,Ve){var mt={id:"F"+(Object.keys(yt).length+1).toString(10),postScriptName:k,fontName:oe,fontStyle:Ee,encoding:Ue,isStandardFont:Ve||!1,metadata:{}};return Ot.publish("addFont",{font:mt,instance:this}),yt[mt.id]=mt,zs(mt),mt.id},Yr=g.__private__.pdfEscape=g.pdfEscape=function(k,oe){return(function(Ee,Ue){var Ve,mt,Nt,hn,bn,Mn,_n,ys,xr;if(Nt=(Ue=Ue||{}).sourceEncoding||"Unicode",bn=Ue.outputEncoding,(Ue.autoencode||bn)&&yt[St].metadata&&yt[St].metadata[Nt]&&yt[St].metadata[Nt].encoding&&(hn=yt[St].metadata[Nt].encoding,!bn&&yt[St].encoding&&(bn=yt[St].encoding),!bn&&hn.codePages&&(bn=hn.codePages[0]),typeof bn=="string"&&(bn=hn[bn]),bn)){for(_n=!1,Mn=[],Ve=0,mt=Ee.length;Ve<mt;Ve++)(ys=bn[Ee.charCodeAt(Ve)])?Mn.push(String.fromCharCode(ys)):Mn.push(Ee[Ve]),Mn[Ve].charCodeAt(0)>>8&&(_n=!0);Ee=Mn.join("")}for(Ve=Ee.length;_n===void 0&&Ve!==0;)Ee.charCodeAt(Ve-1)>>8&&(_n=!0),Ve--;if(!_n)return Ee;for(Mn=Ue.noBOM?[]:[254,255],Ve=0,mt=Ee.length;Ve<mt;Ve++){if((xr=(ys=Ee.charCodeAt(Ve))>>8)>>8)throw new Error("Character at position "+Ve+" of string '"+Ee+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Mn.push(xr),Mn.push(ys-(xr<<8))}return String.fromCharCode.apply(void 0,Mn)})(k,oe).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},da=g.__private__.beginPage=function(k){_e[++Tt]=[],ht[Tt]={objId:0,contentsObjId:0,userUnit:Number(h),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(k[0]),topRightY:Number(k[1])}},ul(Tt),He(_e[W])},ai=function(k,oe){var Ee,Ue,Ve;switch(t=oe||t,typeof k=="string"&&(Ee=E(k.toLowerCase()),Array.isArray(Ee)&&(Ue=Ee[0],Ve=Ee[1])),Array.isArray(k)&&(Ue=k[0]*$t,Ve=k[1]*$t),isNaN(Ue)&&(Ue=a[0],Ve=a[1]),(Ue>14400||Ve>14400)&&(zr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ue=Math.min(14400,Ue),Ve=Math.min(14400,Ve)),a=[Ue,Ve],t.substr(0,1)){case"l":Ve>Ue&&(a=[Ve,Ue]);break;case"p":Ue>Ve&&(a=[Ve,Ue])}da(a),kn(ii),de(oi),li!==0&&de(li+" J"),Xr!==0&&de(Xr+" j"),Ot.publish("addPage",{pageNumber:Tt})},Ci=function(k){k>0&&k<=Tt&&(_e.splice(k,1),ht.splice(k,1),Tt--,W>Tt&&(W=Tt),this.setPage(W))},ul=function(k){k>0&&k<=Tt&&(W=k)},Yo=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return _e.length-1},po=function(k,oe,Ee){var Ue,Ve=void 0;return Ee=Ee||{},k=k!==void 0?k:yt[St].fontName,oe=oe!==void 0?oe:yt[St].fontStyle,Ue=k.toLowerCase(),ze[Ue]!==void 0&&ze[Ue][oe]!==void 0?Ve=ze[Ue][oe]:ze[k]!==void 0&&ze[k][oe]!==void 0?Ve=ze[k][oe]:Ee.disableWarning===!1&&zr.warn("Unable to look up font label for font '"+k+"', '"+oe+"'. Refer to getFontList() for available fonts."),Ve||Ee.noFallback||(Ve=ze.times[oe])==null&&(Ve=ze.times.normal),Ve},jr=g.__private__.putInfo=function(){var k=ln(),oe=function(Ue){return Ue};for(var Ee in A!==null&&(oe=Pn.encryptor(k,0)),de("<<"),de("/Producer ("+Yr(oe("jsPDF "+Qn.version))+")"),xt)xt.hasOwnProperty(Ee)&&xt[Ee]&&de("/"+Ee.substr(0,1).toUpperCase()+Ee.substr(1)+" ("+Yr(oe(xt[Ee]))+")");de("/CreationDate ("+Yr(oe(ge))+")"),de(">>"),de("endobj")},na=g.__private__.putCatalog=function(k){var oe=(k=k||{}).rootDictionaryObjId||Ft;switch(ln(),de("<<"),de("/Type /Catalog"),de("/Pages "+oe+" 0 R"),We||(We="fullwidth"),We){case"fullwidth":de("/OpenAction [3 0 R /FitH null]");break;case"fullheight":de("/OpenAction [3 0 R /FitV null]");break;case"fullpage":de("/OpenAction [3 0 R /Fit]");break;case"original":de("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ee=""+We;Ee.substr(Ee.length-1)==="%"&&(We=parseInt(We)/100),typeof We=="number"&&de("/OpenAction [3 0 R /XYZ null null "+O(We)+"]")}switch(sn||(sn="continuous"),sn){case"continuous":de("/PageLayout /OneColumn");break;case"single":de("/PageLayout /SinglePage");break;case"two":case"twoleft":de("/PageLayout /TwoColumnLeft");break;case"tworight":de("/PageLayout /TwoColumnRight")}Pt&&de("/PageMode /"+Pt),Ot.publish("putCatalog"),de(">>"),de("endobj")},vr=g.__private__.putTrailer=function(){de("trailer"),de("<<"),de("/Size "+(Ae+1)),de("/Root "+Ae+" 0 R"),de("/Info "+(Ae-1)+" 0 R"),A!==null&&de("/Encrypt "+Pn.oid+" 0 R"),de("/ID [ <"+J+"> <"+J+"> ]"),de(">>")},ls=g.__private__.putHeader=function(){de("%PDF-"+b),de("%")},Ra=g.__private__.putXRef=function(){var k="0000000000";de("xref"),de("0 "+(Ae+1)),de("0000000000 65535 f ");for(var oe=1;oe<=Ae;oe++)typeof pe[oe]=="function"?de((k+pe[oe]()).slice(-10)+" 00000 n "):pe[oe]!==void 0?de((k+pe[oe]).slice(-10)+" 00000 n "):de("0000000000 00000 n ")},Cn=g.__private__.buildDocument=function(){var k;Ae=0,xe=0,Se=[],pe=[],Ie=[],Ft=Le(),Yt=Le(),He(Se),Ot.publish("buildDocument"),ls(),Kn(),(function(){Ot.publish("putAdditionalObjects");for(var Ee=0;Ee<Ie.length;Ee++){var Ue=Ie[Ee];Rt(Ue.objId,!0),de(Ue.content),de("endobj")}Ot.publish("postPutAdditionalObjects")})(),k=[],(function(){for(var Ee in yt)yt.hasOwnProperty(Ee)&&(m===!1||m===!0&&v.hasOwnProperty(Ee))&&In(yt[Ee])})(),(function(){var Ee;for(Ee in Ct)Ct.hasOwnProperty(Ee)&&sr(Ct[Ee])})(),(function(){for(var Ee in on)on.hasOwnProperty(Ee)&&Us(on[Ee])})(),(function(Ee){var Ue;for(Ue in ft)ft.hasOwnProperty(Ue)&&(ft[Ue]instanceof Bd?Ss(ft[Ue]):ft[Ue]instanceof Dh&&lr(ft[Ue],Ee))})(k),Ot.publish("putResources"),k.forEach(Js),Js({resourcesOid:Yt,objectOid:Number.MAX_SAFE_INTEGER}),Ot.publish("postPutResources"),A!==null&&(Pn.oid=ln(),de("<<"),de("/Filter /Standard"),de("/V "+Pn.v),de("/R "+Pn.r),de("/U <"+Pn.toHexString(Pn.U)+">"),de("/O <"+Pn.toHexString(Pn.O)+">"),de("/P "+Pn.P),de(">>"),de("endobj")),jr(),na();var oe=xe;return Ra(),vr(),de("startxref"),de(""+oe),de("%%EOF"),He(_e[W]),Se.join(`
`)},mn=g.__private__.getBlob=function(k){return new Blob([_t(k)],{type:"application/pdf"})},Ns=g.output=g.__private__.output=($r=function(k,oe){switch(typeof(oe=oe||{})=="string"?oe={filename:oe}:oe.filename=oe.filename||"generated.pdf",k){case void 0:return Cn();case"save":g.save(oe.filename);break;case"arraybuffer":return _t(Cn());case"blob":return mn(Cn());case"bloburi":case"bloburl":if(os.URL!==void 0&&typeof os.URL.createObjectURL=="function")return os.URL&&os.URL.createObjectURL(mn(Cn()))||void 0;zr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ee="",Ue=Cn();try{Ee=PC(Ue)}catch{Ee=PC(unescape(encodeURIComponent(Ue)))}return"data:application/pdf;filename="+oe.filename+";base64,"+Ee;case"pdfobjectnewwindow":if(Object.prototype.toString.call(os)==="[object Window]"){var Ve="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",mt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';oe.pdfObjectUrl&&(Ve=oe.pdfObjectUrl,mt="");var Nt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ve+'"'+mt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(oe)+");<\/script></body></html>",hn=os.open();return hn!==null&&hn.document.write(Nt),hn}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(os)==="[object Window]"){var bn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(oe.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+oe.filename+'" width="500px" height="400px" /></body></html>',Mn=os.open();if(Mn!==null){Mn.document.write(bn);var _n=this;Mn.document.documentElement.querySelector("#pdfViewer").onload=function(){Mn.document.title=oe.filename,Mn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(_n.output("bloburl"))}}return Mn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(os)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ys='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",oe)+'"></iframe></body></html>',xr=os.open();if(xr!==null&&(xr.document.write(ys),xr.document.title=oe.filename),xr||typeof safari>"u")return xr;break;case"datauri":case"dataurl":return os.document.location.href=this.output("datauristring",oe);default:return null}},$r.foo=function(){try{return $r.apply(this,arguments)}catch(Ee){var k=Ee.stack||"";~k.indexOf(" at ")&&(k=k.split(" at ")[1]);var oe="Error in function "+k.split(`
`)[0].split("<")[0]+": "+Ee.message;if(!os.console)throw new Error(oe);os.console.error(oe,Ee),os.alert&&alert(oe)}},$r.foo.bar=$r,$r.foo),Dn=function(k){return Array.isArray(qt)===!0&&qt.indexOf(k)>-1};switch(s){case"pt":$t=1;break;case"mm":$t=72/25.4;break;case"cm":$t=72/2.54;break;case"in":$t=72;break;case"px":$t=Dn("px_scaling")==1?.75:96/72;break;case"pc":case"em":$t=12;break;case"ex":$t=6;break;default:if(typeof s!="number")throw new Error("Invalid unit: "+s);$t=s}var Pn=null;ne(),se();var Wt=g.__private__.getPageInfo=g.getPageInfo=function(k){if(isNaN(k)||k%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ht[k].objId,pageNumber:k,pageContext:ht[k]}},qs=g.__private__.getPageInfoByObjId=function(k){if(isNaN(k)||k%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var oe in ht)if(ht[oe].objId===k)break;return Wt(oe)},Si=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:ht[W].objId,pageNumber:W,pageContext:ht[W]}};g.addPage=function(){return ai.apply(this,arguments),this},g.setPage=function(){return ul.apply(this,arguments),He.call(this,_e[W]),this},g.insertPage=function(k){return this.addPage(),this.movePage(W,k),this},g.movePage=function(k,oe){var Ee,Ue;if(k>oe){Ee=_e[k],Ue=ht[k];for(var Ve=k;Ve>oe;Ve--)_e[Ve]=_e[Ve-1],ht[Ve]=ht[Ve-1];_e[oe]=Ee,ht[oe]=Ue,this.setPage(oe)}else if(k<oe){Ee=_e[k],Ue=ht[k];for(var mt=k;mt<oe;mt++)_e[mt]=_e[mt+1],ht[mt]=ht[mt+1];_e[oe]=Ee,ht[oe]=Ue,this.setPage(oe)}return this},g.deletePage=function(){return Ci.apply(this,arguments),this},g.__private__.text=g.text=function(k,oe,Ee,Ue,Ve){var mt,Nt,hn,bn,Mn,_n,ys,xr,Ar,w=(Ue=Ue||{}).scope||this;if(typeof k=="number"&&typeof oe=="number"&&(typeof Ee=="string"||Array.isArray(Ee))){var Y=Ee;Ee=oe,oe=k,k=Y}if(arguments[3]instanceof cn==0?(hn=arguments[4],bn=arguments[5],Fr(ys=arguments[3])==="object"&&ys!==null||(typeof hn=="string"&&(bn=hn,hn=null),typeof ys=="string"&&(bn=ys,ys=null),typeof ys=="number"&&(hn=ys,ys=null),Ue={flags:ys,angle:hn,align:bn})):(R("The transform parameter of text() with a Matrix value"),Ar=Ve),isNaN(oe)||isNaN(Ee)||k==null)throw new Error("Invalid arguments passed to jsPDF.text");if(k.length===0)return w;var te,be="",$e=typeof Ue.lineHeightFactor=="number"?Ue.lineHeightFactor:Jo,tt=w.internal.scaleFactor;function kt(ks){return ks=ks.split("	").join(Array(Ue.TabLen||9).join(" ")),Yr(ks,ys)}function qn(ks){for(var Rs,br=ks.concat(),Ys=[],sl=br.length;sl--;)typeof(Rs=br.shift())=="string"?Ys.push(Rs):Array.isArray(ks)&&(Rs.length===1||Rs[1]===void 0&&Rs[2]===void 0)?Ys.push(Rs[0]):Ys.push([Rs[0],Rs[1],Rs[2]]);return Ys}function yr(ks,Rs){var br;if(typeof ks=="string")br=Rs(ks)[0];else if(Array.isArray(ks)){for(var Ys,sl,rl=ks.concat(),PA=[],cA=rl.length;cA--;)typeof(Ys=rl.shift())=="string"?PA.push(Rs(Ys)[0]):Array.isArray(Ys)&&typeof Ys[0]=="string"&&(sl=Rs(Ys[0],Ys[1],Ys[2]),PA.push([sl[0],sl[1],sl[2]]));br=PA}return br}var us=!1,$s=!0;if(typeof k=="string")us=!0;else if(Array.isArray(k)){var Na=k.concat();Nt=[];for(var sa,Os=Na.length;Os--;)(typeof(sa=Na.shift())!="string"||Array.isArray(sa)&&typeof sa[0]!="string")&&($s=!1);us=$s}if(us===!1)throw new Error('Type of text must be string or Array. "'+k+'" is not recognized.');typeof k=="string"&&(k=k.match(/[\r?\n]/)?k.split(/\r\n|\r|\n/g):[k]);var rs=qe/w.internal.scaleFactor,Zi=rs*($e-1);switch(Ue.baseline){case"bottom":Ee-=Zi;break;case"top":Ee+=rs-Zi;break;case"hanging":Ee+=rs-2*Zi;break;case"middle":Ee+=rs/2-Zi}if((_n=Ue.maxWidth||0)>0&&(typeof k=="string"?k=w.splitTextToSize(k,_n):Object.prototype.toString.call(k)==="[object Array]"&&(k=k.reduce(function(ks,Rs){return ks.concat(w.splitTextToSize(Rs,_n))},[]))),mt={text:k,x:oe,y:Ee,options:Ue,mutex:{pdfEscape:Yr,activeFontKey:St,fonts:yt,activeFontSize:qe}},Ot.publish("preProcessText",mt),k=mt.text,hn=(Ue=mt.options).angle,Ar instanceof cn==0&&hn&&typeof hn=="number"){hn*=Math.PI/180,Ue.rotationDirection===0&&(hn=-hn),D===F&&(hn=-hn);var bo=Math.cos(hn),qo=Math.sin(hn);Ar=new cn(bo,qo,-qo,bo,0,0)}else hn&&hn instanceof cn&&(Ar=hn);D!==F||Ar||(Ar=Ua),(Mn=Ue.charSpace||Ni)!==void 0&&(be+=Q(G(Mn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(xr=Ue.horizontalScale)!==void 0&&(be+=Q(100*xr)+` Tz
`),Ue.lang;var fa=-1,Oa=Ue.renderingMode!==void 0?Ue.renderingMode:Ue.stroke,hc=w.internal.getCurrentPageInfo().pageContext;switch(Oa){case 0:case!1:case"fill":fa=0;break;case 1:case!0:case"stroke":fa=1;break;case 2:case"fillThenStroke":fa=2;break;case 3:case"invisible":fa=3;break;case 4:case"fillAndAddForClipping":fa=4;break;case 5:case"strokeAndAddPathForClipping":fa=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":fa=6;break;case 7:case"addToPathForClipping":fa=7}var wo=hc.usedRenderingMode!==void 0?hc.usedRenderingMode:-1;fa!==-1?be+=fa+` Tr
`:wo!==-1&&(be+=`0 Tr
`),fa!==-1&&(hc.usedRenderingMode=fa),bn=Ue.align||"left";var Ps,jo=qe*$e,Br=w.internal.pageSize.getWidth(),DA=yt[St];Mn=Ue.charSpace||Ni,_n=Ue.maxWidth||0,ys=Object.assign({autoencode:!0,noBOM:!0},Ue.flags);var Pa=[],Bo=function(ks){return w.getStringUnitWidth(ks,{font:DA,charSpace:Mn,fontSize:qe,doKerning:!1})*qe/tt};if(Object.prototype.toString.call(k)==="[object Array]"){var gs;Nt=qn(k),bn!=="left"&&(Ps=Nt.map(Bo));var Ai,Zo=0;if(bn==="right"){oe-=Ps[0],k=[],Os=Nt.length;for(var el=0;el<Os;el++)el===0?(Ai=Sa(oe),gs=ha(Ee)):(Ai=G(Zo-Ps[el]),gs=-jo),k.push([Nt[el],Ai,gs]),Zo=Ps[el]}else if(bn==="center"){oe-=Ps[0]/2,k=[],Os=Nt.length;for(var ml=0;ml<Os;ml++)ml===0?(Ai=Sa(oe),gs=ha(Ee)):(Ai=G((Zo-Ps[ml])/2),gs=-jo),k.push([Nt[ml],Ai,gs]),Zo=Ps[ml]}else if(bn==="left"){k=[],Os=Nt.length;for(var Ml=0;Ml<Os;Ml++)k.push(Nt[Ml])}else if(bn==="justify"&&DA.encoding==="Identity-H"){k=[],Os=Nt.length,_n=_n!==0?_n:Br;for(var LA=0,Jr=0;Jr<Os;Jr++)if(gs=Jr===0?ha(Ee):-jo,Ai=Jr===0?Sa(oe):LA,Jr<Os-1){var Ii=G((_n-Ps[Jr])/(Nt[Jr].split(" ").length-1)),Ya=Nt[Jr].split(" ");k.push([Ya[0]+" ",Ai,gs]),LA=0;for(var Wa=1;Wa<Ya.length;Wa++){var Es=(Bo(Ya[Wa-1]+" "+Ya[Wa])-Bo(Ya[Wa]))*tt+Ii;Wa==Ya.length-1?k.push([Ya[Wa],Es,0]):k.push([Ya[Wa]+" ",Es,0]),LA-=Es}}else k.push([Nt[Jr],Ai,gs]);k.push(["",LA,0])}else{if(bn!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(k=[],Os=Nt.length,_n=_n!==0?_n:Br,Jr=0;Jr<Os;Jr++){gs=Jr===0?ha(Ee):-jo,Ai=Jr===0?Sa(oe):0;var ci=Nt[Jr].split(" ").length-1,QA=ci>0?(_n-Ps[Jr])/ci:0;Jr<Os-1?Pa.push(Q(G(QA))):Pa.push(0),k.push([Nt[Jr],Ai,gs])}}}(typeof Ue.R2L=="boolean"?Ue.R2L:Qt)===!0&&(k=yr(k,function(ks,Rs,br){return[ks.split("").reverse().join(""),Rs,br]})),mt={text:k,x:oe,y:Ee,options:Ue,mutex:{pdfEscape:Yr,activeFontKey:St,fonts:yt,activeFontSize:qe}},Ot.publish("postProcessText",mt),k=mt.text,te=mt.mutex.isHex||!1;var OA=yt[St].encoding;OA!=="WinAnsiEncoding"&&OA!=="StandardEncoding"||(k=yr(k,function(ks,Rs,br){return[kt(ks),Rs,br]})),Nt=qn(k),k=[];for(var tl,pl,gl,nl=Array.isArray(Nt[0])?1:0,ra="",Hl=function(ks,Rs,br){var Ys="";return br instanceof cn?(br=typeof Ue.angle=="number"?ri(br,new cn(1,0,0,1,ks,Rs)):ri(new cn(1,0,0,1,ks,Rs),br),D===F&&(br=ri(new cn(1,0,0,-1,0,0),br)),Ys=br.join(" ")+` Tm
`):Ys=Q(ks)+" "+Q(Rs)+` Td
`,Ys},ui=0;ui<Nt.length;ui++){switch(ra="",nl){case 1:gl=(te?"<":"(")+Nt[ui][0]+(te?">":")"),tl=parseFloat(Nt[ui][1]),pl=parseFloat(Nt[ui][2]);break;case 0:gl=(te?"<":"(")+Nt[ui]+(te?">":")"),tl=Sa(oe),pl=ha(Ee)}Pa!==void 0&&Pa[ui]!==void 0&&(ra=Pa[ui]+` Tw
`),ui===0?k.push(ra+Hl(tl,pl,Ar)+gl):nl===0?k.push(ra+gl):nl===1&&k.push(ra+Hl(tl,pl,Ar)+gl)}k=nl===0?k.join(` Tj
T* `):k.join(` Tj
`),k+=` Tj
`;var _i=`BT
/`;return _i+=St+" "+qe+` Tf
`,_i+=Q(qe*$e)+` TL
`,_i+=Ji+`
`,_i+=be,_i+=k,de(_i+="ET"),v[St]=!0,w};var Yi=g.__private__.clip=g.clip=function(k){return de(k==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return Yi("evenodd")},g.__private__.discardPath=g.discardPath=function(){return de("n"),this};var Or=g.__private__.isValidStyle=function(k){var oe=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(k)!==-1&&(oe=!0),oe};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(k){return Or(k)&&(f=k),this};var Wo=g.__private__.getStyle=g.getStyle=function(k){var oe=f;switch(k){case"D":case"S":oe="S";break;case"F":oe="f";break;case"FD":case"DF":oe="B";break;case"f":case"f*":case"B":case"B*":oe=k}return oe},Ur=g.close=function(){return de("h"),this};g.stroke=function(){return de("S"),this},g.fill=function(k){return Qs("f",k),this},g.fillEvenOdd=function(k){return Qs("f*",k),this},g.fillStroke=function(k){return Qs("B",k),this},g.fillStrokeEvenOdd=function(k){return Qs("B*",k),this};var Qs=function(k,oe){Fr(oe)==="object"?Xo(oe,k):de(k)},Mi=function(k){k===null||D===F&&k===void 0||(k=Wo(k),de(k))};function go(k,oe,Ee,Ue,Ve){var mt=new Dh(oe||this.boundingBox,Ee||this.xStep,Ue||this.yStep,this.gState,Ve||this.matrix);mt.stream=this.stream;var Nt=k+"$$"+this.cloneIndex+++"$$";return ua(Nt,mt),mt}var Xo=function(k,oe){var Ee=Lt[k.key],Ue=ft[Ee];if(Ue instanceof Bd)de("q"),de(iA(oe)),Ue.gState&&g.setGState(Ue.gState),de(k.matrix.toString()+" cm"),de("/"+Ee+" sh"),de("Q");else if(Ue instanceof Dh){var Ve=new cn(1,0,0,-1,0,qi());k.matrix&&(Ve=Ve.multiply(k.matrix||Ua),Ee=go.call(Ue,k.key,k.boundingBox,k.xStep,k.yStep,Ve).id),de("q"),de("/Pattern cs"),de("/"+Ee+" scn"),Ue.gState&&g.setGState(Ue.gState),de(oe),de("Q")}},iA=function(k){switch(k){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Ol=g.moveTo=function(k,oe){return de(Q(G(k))+" "+Q(ie(oe))+" m"),this},Wi=g.lineTo=function(k,oe){return de(Q(G(k))+" "+Q(ie(oe))+" l"),this},Wr=g.curveTo=function(k,oe,Ee,Ue,Ve,mt){return de([Q(G(k)),Q(ie(oe)),Q(G(Ee)),Q(ie(Ue)),Q(G(Ve)),Q(ie(mt)),"c"].join(" ")),this};g.__private__.line=g.line=function(k,oe,Ee,Ue,Ve){if(isNaN(k)||isNaN(oe)||isNaN(Ee)||isNaN(Ue)||!Or(Ve))throw new Error("Invalid arguments passed to jsPDF.line");return D===I?this.lines([[Ee-k,Ue-oe]],k,oe,[1,1],Ve||"S"):this.lines([[Ee-k,Ue-oe]],k,oe,[1,1]).stroke()},g.__private__.lines=g.lines=function(k,oe,Ee,Ue,Ve,mt){var Nt,hn,bn,Mn,_n,ys,xr,Ar,w,Y,te,be;if(typeof k=="number"&&(be=Ee,Ee=oe,oe=k,k=be),Ue=Ue||[1,1],mt=mt||!1,isNaN(oe)||isNaN(Ee)||!Array.isArray(k)||!Array.isArray(Ue)||!Or(Ve)||typeof mt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ol(oe,Ee),Nt=Ue[0],hn=Ue[1],Mn=k.length,Y=oe,te=Ee,bn=0;bn<Mn;bn++)(_n=k[bn]).length===2?(Y=_n[0]*Nt+Y,te=_n[1]*hn+te,Wi(Y,te)):(ys=_n[0]*Nt+Y,xr=_n[1]*hn+te,Ar=_n[2]*Nt+Y,w=_n[3]*hn+te,Y=_n[4]*Nt+Y,te=_n[5]*hn+te,Wr(ys,xr,Ar,w,Y,te));return mt&&Ur(),Mi(Ve),this},g.path=function(k){for(var oe=0;oe<k.length;oe++){var Ee=k[oe],Ue=Ee.c;switch(Ee.op){case"m":Ol(Ue[0],Ue[1]);break;case"l":Wi(Ue[0],Ue[1]);break;case"c":Wr.apply(this,Ue);break;case"h":Ur()}}return this},g.__private__.rect=g.rect=function(k,oe,Ee,Ue,Ve){if(isNaN(k)||isNaN(oe)||isNaN(Ee)||isNaN(Ue)||!Or(Ve))throw new Error("Invalid arguments passed to jsPDF.rect");return D===I&&(Ue=-Ue),de([Q(G(k)),Q(ie(oe)),Q(G(Ee)),Q(G(Ue)),"re"].join(" ")),Mi(Ve),this},g.__private__.triangle=g.triangle=function(k,oe,Ee,Ue,Ve,mt,Nt){if(isNaN(k)||isNaN(oe)||isNaN(Ee)||isNaN(Ue)||isNaN(Ve)||isNaN(mt)||!Or(Nt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ee-k,Ue-oe],[Ve-Ee,mt-Ue],[k-Ve,oe-mt]],k,oe,[1,1],Nt,!0),this},g.__private__.roundedRect=g.roundedRect=function(k,oe,Ee,Ue,Ve,mt,Nt){if(isNaN(k)||isNaN(oe)||isNaN(Ee)||isNaN(Ue)||isNaN(Ve)||isNaN(mt)||!Or(Nt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var hn=4/3*(Math.SQRT2-1);return Ve=Math.min(Ve,.5*Ee),mt=Math.min(mt,.5*Ue),this.lines([[Ee-2*Ve,0],[Ve*hn,0,Ve,mt-mt*hn,Ve,mt],[0,Ue-2*mt],[0,mt*hn,-Ve*hn,mt,-Ve,mt],[2*Ve-Ee,0],[-Ve*hn,0,-Ve,-mt*hn,-Ve,-mt],[0,2*mt-Ue],[0,-mt*hn,Ve*hn,-mt,Ve,-mt]],k+Ve,oe,[1,1],Nt,!0),this},g.__private__.ellipse=g.ellipse=function(k,oe,Ee,Ue,Ve){if(isNaN(k)||isNaN(oe)||isNaN(Ee)||isNaN(Ue)||!Or(Ve))throw new Error("Invalid arguments passed to jsPDF.ellipse");var mt=4/3*(Math.SQRT2-1)*Ee,Nt=4/3*(Math.SQRT2-1)*Ue;return Ol(k+Ee,oe),Wr(k+Ee,oe-Nt,k+mt,oe-Ue,k,oe-Ue),Wr(k-mt,oe-Ue,k-Ee,oe-Nt,k-Ee,oe),Wr(k-Ee,oe+Nt,k-mt,oe+Ue,k,oe+Ue),Wr(k+mt,oe+Ue,k+Ee,oe+Nt,k+Ee,oe),Mi(Ve),this},g.__private__.circle=g.circle=function(k,oe,Ee,Ue){if(isNaN(k)||isNaN(oe)||isNaN(Ee)||!Or(Ue))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(k,oe,Ee,Ee,Ue)},g.setFont=function(k,oe,Ee){return Ee&&(oe=L(oe,Ee)),St=po(k,oe,{disableWarning:!1}),this};var Xi=g.__private__.getFont=g.getFont=function(){return yt[po.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var k,oe,Ee={};for(k in ze)if(ze.hasOwnProperty(k))for(oe in Ee[k]=[],ze[k])ze[k].hasOwnProperty(oe)&&Ee[k].push(oe);return Ee},g.addFont=function(k,oe,Ee,Ue,Ve){var mt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&mt.indexOf(arguments[3])!==-1?Ve=arguments[3]:arguments[3]&&mt.indexOf(arguments[3])==-1&&(Ee=L(Ee,Ue)),Ga.call(this,k,oe,Ee,Ve=Ve||"Identity-H")};var Jo,ii=n.lineWidth||.200025,Hi=g.__private__.getLineWidth=g.getLineWidth=function(){return ii},kn=g.__private__.setLineWidth=g.setLineWidth=function(k){return ii=k,de(Q(G(k))+" w"),this};g.__private__.setLineDash=Qn.API.setLineDash=Qn.API.setLineDashPattern=function(k,oe){if(k=k||[],oe=oe||0,isNaN(oe)||!Array.isArray(k))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return k=k.map(function(Ee){return Q(G(Ee))}).join(" "),oe=Q(G(oe)),de("["+k+"] "+oe+" d"),this};var Pl=g.__private__.getLineHeight=g.getLineHeight=function(){return qe*Jo};g.__private__.getLineHeight=g.getLineHeight=function(){return qe*Jo};var oA=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(k){return typeof(k=k||1.15)=="number"&&(Jo=k),this},dl=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return Jo};oA(n.lineHeight);var Sa=g.__private__.getHorizontalCoordinate=function(k){return G(k)},ha=g.__private__.getVerticalCoordinate=function(k){return D===F?k:ht[W].mediaBox.topRightY-ht[W].mediaBox.bottomLeftY-G(k)},Da=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(k){return Q(Sa(k))},Gs=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(k){return Q(ha(k))},oi=n.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return Ut(oi)},g.__private__.setStrokeColor=g.setDrawColor=function(k,oe,Ee,Ue){return oi=vn({ch1:k,ch2:oe,ch3:Ee,ch4:Ue,pdfColorType:"draw",precision:2}),de(oi),this};var hl=n.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return Ut(hl)},g.__private__.setFillColor=g.setFillColor=function(k,oe,Ee,Ue){return hl=vn({ch1:k,ch2:oe,ch3:Ee,ch4:Ue,pdfColorType:"fill",precision:2}),de(hl),this};var Ji=n.textColor||"0 g",RA=g.__private__.getTextColor=g.getTextColor=function(){return Ut(Ji)};g.__private__.setTextColor=g.setTextColor=function(k,oe,Ee,Ue){return Ji=vn({ch1:k,ch2:oe,ch3:Ee,ch4:Ue,pdfColorType:"text",precision:3}),this};var Ni=n.charSpace,vo=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(Ni||0)};g.__private__.setCharSpace=g.setCharSpace=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ni=k,this};var li=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(k){var oe=g.CapJoinStyles[k];if(oe===void 0)throw new Error("Line cap style of '"+k+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return li=oe,de(oe+" J"),this};var Xr=0;g.__private__.setLineJoin=g.setLineJoin=function(k){var oe=g.CapJoinStyles[k];if(oe===void 0)throw new Error("Line join style of '"+k+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Xr=oe,de(oe+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(k){if(k=k||0,isNaN(k))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return de(Q(G(k))+" M"),this},g.GState=cg,g.setGState=function(k){(k=typeof k=="string"?Ct[zt[k]]:xo(null,k)).equals(yn)||(de("/"+k.id+" gs"),yn=k)};var xo=function(k,oe){if(!k||!zt[k]){var Ee=!1;for(var Ue in Ct)if(Ct.hasOwnProperty(Ue)&&Ct[Ue].equals(oe)){Ee=!0;break}if(Ee)oe=Ct[Ue];else{var Ve="GS"+(Object.keys(Ct).length+1).toString(10);Ct[Ve]=oe,oe.id=Ve}return k&&(zt[k]=oe.id),Ot.publish("addGState",oe),oe}};g.addGState=function(k,oe){return xo(k,oe),this},g.saveGraphicsState=function(){return de("q"),ot.push({key:St,size:qe,color:Ji}),this},g.restoreGraphicsState=function(){de("Q");var k=ot.pop();return St=k.key,qe=k.size,Ji=k.color,yn=null,this},g.setCurrentTransformationMatrix=function(k){return de(k.toString()+" cm"),this},g.comment=function(k){return de("#"+k),this};var La=function(k,oe){var Ee=k||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ee},set:function(mt){isNaN(mt)||(Ee=parseFloat(mt))}});var Ue=oe||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ue},set:function(mt){isNaN(mt)||(Ue=parseFloat(mt))}});var Ve="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ve},set:function(mt){Ve=mt.toString()}}),this},hr=function(k,oe,Ee,Ue){La.call(this,k,oe),this.type="rect";var Ve=Ee||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ve},set:function(Nt){isNaN(Nt)||(Ve=parseFloat(Nt))}});var mt=Ue||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return mt},set:function(Nt){isNaN(Nt)||(mt=parseFloat(Nt))}}),this},fl=function(){this.page=Tt,this.currentPage=W,this.pages=_e.slice(0),this.pagesContext=ht.slice(0),this.x=Ht,this.y=Rn,this.matrix=Ke,this.width=Vi(W),this.height=lA(W),this.outputDestination=st,this.id="",this.objectNumber=-1};fl.prototype.restore=function(){Tt=this.page,W=this.currentPage,ht=this.pagesContext,_e=this.pages,Ht=this.x,Rn=this.y,Ke=this.matrix,kl(W,this.width),Qa(W,this.height),st=this.outputDestination};var $a=function(k,oe,Ee,Ue,Ve){js.push(new fl),Tt=W=0,_e=[],Ht=k,Rn=oe,Ke=Ve,da([Ee,Ue])};for(var yo in g.beginFormObject=function(k,oe,Ee,Ue,Ve){return $a(k,oe,Ee,Ue,Ve),this},g.endFormObject=function(k){return(function(oe){if(cs[oe])js.pop().restore();else{var Ee=new fl,Ue="Xo"+(Object.keys(on).length+1).toString(10);Ee.id=Ue,cs[oe]=Ue,on[Ue]=Ee,Ot.publish("addFormObject",Ee),js.pop().restore()}})(k),this},g.doFormObject=function(k,oe){var Ee=on[cs[k]];return de("q"),de(oe.toString()+" cm"),de("/"+Ee.id+" Do"),de("Q"),this},g.getFormObject=function(k){var oe=on[cs[k]];return{x:oe.x,y:oe.y,width:oe.width,height:oe.height,matrix:oe.matrix}},g.save=function(k,oe){return k=k||"generated.pdf",(oe=oe||{}).returnPromise=oe.returnPromise||!1,oe.returnPromise===!1?(_h(mn(Cn()),k),typeof _h.unload=="function"&&os.setTimeout&&setTimeout(_h.unload,911),this):new Promise(function(Ee,Ue){try{var Ve=_h(mn(Cn()),k);typeof _h.unload=="function"&&os.setTimeout&&setTimeout(_h.unload,911),Ee(Ve)}catch(mt){Ue(mt.message)}})},Qn.API)Qn.API.hasOwnProperty(yo)&&(yo==="events"&&Qn.API.events.length?(function(k,oe){var Ee,Ue,Ve;for(Ve=oe.length-1;Ve!==-1;Ve--)Ee=oe[Ve][0],Ue=oe[Ve][1],k.subscribe.apply(k,[Ee].concat(typeof Ue=="function"?[Ue]:Ue))})(Ot,Qn.API.events):g[yo]=Qn.API[yo]);function Vi(k){return ht[k].mediaBox.topRightX-ht[k].mediaBox.bottomLeftX}function kl(k,oe){ht[k].mediaBox.topRightX=oe+ht[k].mediaBox.bottomLeftX}function lA(k){return ht[k].mediaBox.topRightY-ht[k].mediaBox.bottomLeftY}function Qa(k,oe){ht[k].mediaBox.topRightY=oe+ht[k].mediaBox.bottomLeftY}var Ei=g.getPageWidth=function(k){return Vi(k=k||W)/$t},AA=g.setPageWidth=function(k,oe){kl(k,oe*$t)},qi=g.getPageHeight=function(k){return lA(k=k||W)/$t},Ti=g.setPageHeight=function(k,oe){Qa(k,oe*$t)};return g.internal={pdfEscape:Yr,getStyle:Wo,getFont:Xi,getFontSize:dt,getCharSpace:vo,getTextColor:RA,getLineHeight:Pl,getLineHeightFactor:dl,getLineWidth:Hi,write:rt,getHorizontalCoordinate:Sa,getVerticalCoordinate:ha,getCoordinateString:Da,getVerticalCoordinateString:Gs,collections:{},newObject:ln,newAdditionalObject:Vt,newObjectDeferred:Le,newObjectDeferredBegin:Rt,getFilters:Sn,putStream:On,events:Ot,scaleFactor:$t,pageSize:{getWidth:function(){return Ei(W)},setWidth:function(k){AA(W,k)},getHeight:function(){return qi(W)},setHeight:function(k){Ti(W,k)}},encryptionOptions:A,encryption:Pn,getEncryptor:function(k){return A!==null?Pn.encryptor(k,0):function(oe){return oe}},output:Ns,getNumberOfPages:Yo,get pages(){return _e},out:de,f2:O,f3:H,getPageInfo:Wt,getPageInfoByObjId:qs,getCurrentPageInfo:Si,getPDFVersion:S,Point:La,Rectangle:hr,Matrix:cn,hasHotfix:Dn},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return Ei(W)},set:function(k){AA(W,k)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return qi(W)},set:function(k){Ti(W,k)},enumerable:!0,configurable:!0}),(function(k){for(var oe=0,Ee=vt.length;oe<Ee;oe++){var Ue=Ga.call(this,k[oe][0],k[oe][1],k[oe][2],vt[oe][3],!0);m===!1&&(v[Ue]=!0);var Ve=k[oe][0].split("-");zs({id:Ue,fontName:Ve[0],fontStyle:Ve[1]||""})}Ot.publish("addFonts",{fonts:yt,dictionary:ze})}).call(g,vt),St="F1",ai(a,t),Ot.publish("initialized"),g}Hf.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},Hf.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Hf.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},Hf.prototype.processOwnerPassword=function(n,e){return yb(xb(e).substr(0,5),n)},Hf.prototype.encryptor=function(n,e){var t=xb(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(s){return yb(t,s)}},cg.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||Fr(n)!==Fr(this))return!1;var s=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;s++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&s--;return s===0},Qn.API={events:[]},Qn.version="3.0.4";var Va=Qn.API,o2=1,af=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Df=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},fs=function(n){return n.toFixed(2)},vd=function(n){return n.toFixed(5)};Va.__acroform__={};var Ql=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},VC=function(n){return n*o2},Lc=function(n){var e=new xI,t=Bn.internal.getHeight(n)||0,s=Bn.internal.getWidth(n)||0;return e.BBox=[0,0,Number(fs(s)),Number(fs(t))],e},w9=Va.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},j9=Va.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},B9=Va.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},ti=Va.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return B9(n,e-1)},ni=Va.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return w9(n,e-1)},si=Va.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return j9(n,e-1)},C9=Va.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,s=e.internal.getVerticalCoordinate,a=n[0],o=n[1],c=n[2],h=n[3],u={};return u.lowerLeft_X=t(a)||0,u.lowerLeft_Y=s(o+h)||0,u.upperRight_X=t(a+c)||0,u.upperRight_Y=s(o)||0,[Number(fs(u.lowerLeft_X)),Number(fs(u.lowerLeft_Y)),Number(fs(u.upperRight_X)),Number(fs(u.upperRight_Y))]},S9=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,s=bb(n,t),a=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+a+" "+fs(s.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(s.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=Lc(n);return o.scope=n.scope,o.stream=e.join(`
`),o}},bb=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,s={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=n.multiline?a.map(function(O){return O.split(`
`)}):a.map(function(O){return[O]});var o=t,c=Bn.internal.getHeight(n)||0;c=c<0?-c:c;var h=Bn.internal.getWidth(n)||0;h=h<0?-h:h;var u=function(O,H,G){if(O+1<a.length){var ie=H+" "+a[O+1][0];return Y0(ie,n,G).width<=h-4}return!1};o++;e:for(;o>0;){e="",o--;var f,A,m=Y0("3",n,o).height,v=n.multiline?c-o:(c-m)/2,g=v+=2,b=0,S=0,N=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+Y0(e,n,o=12).width+", FieldWidth:"+h+`
`;break}for(var E="",I=0,F=0;F<a.length;F++)if(a.hasOwnProperty(F)){var D=!1;if(a[F].length!==1&&N!==a[F].length-1){if((m+2)*(I+2)+2>c)continue e;E+=a[F][N],D=!0,S=F,F--}else{E=(E+=a[F][N]+" ").substr(E.length-1)==" "?E.substr(0,E.length-1):E;var P=parseInt(F),K=u(P,E,o),L=F>=a.length-1;if(K&&!L){E+=" ",N=0;continue}if(K||L){if(L)S=P;else if(n.multiline&&(m+2)*(I+2)+2>c)continue e}else{if(!n.multiline||(m+2)*(I+2)+2>c)continue e;S=P}}for(var Q="",R=b;R<=S;R++){var M=a[R];if(n.multiline){if(R===S){Q+=M[N]+" ",N=(N+1)%M.length;continue}if(R===b){Q+=M[M.length-1]+" ";continue}}Q+=M[0]+" "}switch(Q=Q.substr(Q.length-1)==" "?Q.substr(0,Q.length-1):Q,A=Y0(Q,n,o).width,n.textAlign){case"right":f=h-A-2;break;case"center":f=(h-A)/2;break;default:f=2}e+=fs(f)+" "+fs(g)+` Td
`,e+="("+af(Q)+`) Tj
`,e+=-fs(f)+` 0 Td
`,g=-(o+2),A=0,b=D?S:S+1,I++,E=""}break}return s.text=e,s.fontSize=o,s},Y0=function(n,e,t){var s=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(n,{font:s,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:s,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:a}},N9={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},E9=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(s){return s.type===t.type&&s.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},T9=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(uc.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(N9)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");o2=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new yI,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var s=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];o.objId=void 0,o.hasAnnotation&&E9(o,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(s,a){var o=!s;for(var c in s||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),s=s||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(s.hasOwnProperty(c)){var h=s[c],u=[],f=h.Rect;if(h.Rect&&(h.Rect=C9(h.Rect,a)),a.internal.newObjectDeferredBegin(h.objId,!0),h.DA=Bn.createDefaultAppearanceStream(h),Fr(h)==="object"&&typeof h.getKeyValueListForStream=="function"&&(u=h.getKeyValueListForStream()),h.Rect=f,h.hasAppearanceStream&&!h.appearanceStreamContent){var A=S9(h);u.push({key:"AP",value:"<</N "+A+">>"}),a.internal.acroformPlugin.xForms.push(A)}if(h.appearanceStreamContent){var m="";for(var v in h.appearanceStreamContent)if(h.appearanceStreamContent.hasOwnProperty(v)){var g=h.appearanceStreamContent[v];if(m+="/"+v+" ",m+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var c in g)if(g.hasOwnProperty(c)){var b=g[c];typeof b=="function"&&(b=b.call(a,h)),m+="/"+c+" "+b+" ",a.internal.acroformPlugin.xForms.indexOf(b)>=0||a.internal.acroformPlugin.xForms.push(b)}}else typeof(b=g)=="function"&&(b=b.call(a,h)),m+="/"+c+" "+b,a.internal.acroformPlugin.xForms.indexOf(b)>=0||a.internal.acroformPlugin.xForms.push(b);m+=">>"}u.push({key:"AP",value:`<<
`+m+">>"})}a.internal.putStream({additionalKeyValues:u,objectId:h.objId}),a.internal.out("endobj")}o&&(function(S,N){for(var E in S)if(S.hasOwnProperty(E)){var I=E,F=S[E];N.internal.newObjectDeferredBegin(F.objId,!0),Fr(F)==="object"&&typeof F.putStream=="function"&&F.putStream(),delete S[I]}})(a.internal.acroformPlugin.xForms,a)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},vI=Va.__acroform__.arrayToPdfArray=function(n,e,t){var s=function(c){return c};if(Array.isArray(n)){for(var a="[",o=0;o<n.length;o++)switch(o!==0&&(a+=" "),Fr(n[o])){case"boolean":case"number":case"object":a+=n[o].toString();break;case"string":n[o].substr(0,1)!=="/"?(e!==void 0&&t&&(s=t.internal.getEncryptor(e)),a+="("+af(s(n[o].toString()))+")"):a+=n[o].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},A1=function(n,e,t){var s=function(a){return a};return e!==void 0&&t&&(s=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+af(s(n))+")"},Oc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Oc.prototype.toString=function(){return this.objId+" 0 R"},Oc.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Oc.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var s=e[t],a=this[s];a&&(Array.isArray(a)?n.push({key:s,value:vI(a,this.objId,this.scope)}):a instanceof Oc?(a.scope=this.scope,n.push({key:s,value:a.objId+" 0 R"})):typeof a!="function"&&n.push({key:s,value:a}))}return n};var xI=function(){Oc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};Ql(xI,Oc);var yI=function(){Oc.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(s){return s};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+af(t(n))+")"}},set:function(t){n=t}})};Ql(yI,Oc);var uc=function n(){Oc.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(E){if(isNaN(E))throw new Error('Invalid value "'+E+'" for attribute F supplied.');e=E}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ti(e,3)},set:function(E){E?this.F=ni(e,3):this.F=si(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(E){if(isNaN(E))throw new Error('Invalid value "'+E+'" for attribute Ff supplied.');t=E}});var s=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(s.length!==0)return s},set:function(E){s=E!==void 0?E:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[0])?0:s[0]},set:function(E){s[0]=E}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[1])?0:s[1]},set:function(E){s[1]=E}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[2])?0:s[2]},set:function(E){s[2]=E}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[3])?0:s[3]},set:function(E){s[3]=E}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(E){switch(E){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=E;break;default:throw new Error('Invalid value "'+E+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof qv)return;o="FieldObject"+n.FieldNum++}var E=function(I){return I};return this.scope&&(E=this.scope.internal.getEncryptor(this.objId)),"("+af(E(o))+")"},set:function(E){o=E.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(E){o=E}});var c="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return c},set:function(E){c=E}});var h="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return h},set:function(E){h=E}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(E){u=E}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/o2:f},set:function(E){f=E}});var A="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return A},set:function(E){A=E}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof qv||this instanceof Dd))return A1(m,this.objId,this.scope)},set:function(E){E=E.toString(),m=E}});var v=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof Oi==0?A1(v,this.objId,this.scope):v},set:function(E){E=E.toString(),v=this instanceof Oi==0?E.substr(0,1)==="("?Df(E.substr(1,E.length-2)):Df(E):E}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Oi==1?Df(v.substr(1,v.length-1)):v},set:function(E){E=E.toString(),v=this instanceof Oi==1?"/"+E:E}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(E){this.V=E}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Oi==0?A1(g,this.objId,this.scope):g},set:function(E){E=E.toString(),g=this instanceof Oi==0?E.substr(0,1)==="("?Df(E.substr(1,E.length-2)):Df(E):E}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Oi==1?Df(g.substr(1,g.length-1)):g},set:function(E){E=E.toString(),g=this instanceof Oi==1?"/"+E:E}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var b,S=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return S},set:function(E){E=!!E,S=E}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(b)return b},set:function(E){b=E}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,1)},set:function(E){E?this.Ff=ni(this.Ff,1):this.Ff=si(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,2)},set:function(E){E?this.Ff=ni(this.Ff,2):this.Ff=si(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,3)},set:function(E){E?this.Ff=ni(this.Ff,3):this.Ff=si(this.Ff,3)}});var N=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(N!==null)return N},set:function(E){if([0,1,2].indexOf(E)===-1)throw new Error('Invalid value "'+E+'" for attribute Q supplied.');N=E}}),Object.defineProperty(this,"textAlign",{get:function(){var E;switch(N){case 0:default:E="left";break;case 1:E="center";break;case 2:E="right"}return E},configurable:!0,enumerable:!0,set:function(E){switch(E){case"right":case 2:N=2;break;case"center":case 1:N=1;break;default:N=0}}})};Ql(uc,Oc);var Hh=function(){uc.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return vI(e,this.objId,this.scope)},set:function(t){var s,a;a=[],typeof(s=t)=="string"&&(a=(function(o,c,h){h||(h=1);for(var u,f=[];u=c.exec(o);)f.push(u[h]);return f})(s,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,s){for(s=s||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),s!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,18)},set:function(t){t?this.Ff=ni(this.Ff,18):this.Ff=si(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=ni(this.Ff,19):this.Ff=si(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,20)},set:function(t){t?(this.Ff=ni(this.Ff,20),e.sort()):this.Ff=si(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,22)},set:function(t){t?this.Ff=ni(this.Ff,22):this.Ff=si(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,23)},set:function(t){t?this.Ff=ni(this.Ff,23):this.Ff=si(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,27)},set:function(t){t?this.Ff=ni(this.Ff,27):this.Ff=si(this.Ff,27)}}),this.hasAppearanceStream=!1};Ql(Hh,uc);var Vh=function(){Hh.call(this),this.fontName="helvetica",this.combo=!1};Ql(Vh,Hh);var Kh=function(){Vh.call(this),this.combo=!0};Ql(Kh,Vh);var Hp=function(){Kh.call(this),this.edit=!0};Ql(Hp,Kh);var Oi=function(){uc.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,15)},set:function(t){t?this.Ff=ni(this.Ff,15):this.Ff=si(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,16)},set:function(t){t?this.Ff=ni(this.Ff,16):this.Ff=si(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,17)},set:function(t){t?this.Ff=ni(this.Ff,17):this.Ff=si(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,26)},set:function(t){t?this.Ff=ni(this.Ff,26):this.Ff=si(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(o){return o};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var s,a=[];for(s in a.push("<<"),e)a.push("/"+s+" ("+af(t(e[s]))+")");return a.push(">>"),a.join(`
`)}},set:function(t){Fr(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};Ql(Oi,uc);var Vp=function(){Oi.call(this),this.pushButton=!0};Ql(Vp,Oi);var zh=function(){Oi.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};Ql(zh,Oi);var qv=function(){var n,e;uc.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(a){n=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var t,s={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(h){return h};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var o,c=[];for(o in c.push("<<"),s)c.push("/"+o+" ("+af(a(s[o]))+")");return c.push(">>"),c.join(`
`)},set:function(a){Fr(a)==="object"&&(s=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return s.CA||""},set:function(a){typeof a=="string"&&(s.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(a){t="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Bn.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ql(qv,uc),zh.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},zh.prototype.createOption=function(n){var e=new qv;return e.Parent=this,e.optionName=n,this.Kids.push(e),I9.call(this.scope,e),e};var Kp=function(){Oi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Bn.CheckBox.createAppearanceStream()};Ql(Kp,Oi);var Dd=function(){uc.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,13)},set:function(e){e?this.Ff=ni(this.Ff,13):this.Ff=si(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,21)},set:function(e){e?this.Ff=ni(this.Ff,21):this.Ff=si(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,23)},set:function(e){e?this.Ff=ni(this.Ff,23):this.Ff=si(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,24)},set:function(e){e?this.Ff=ni(this.Ff,24):this.Ff=si(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,25)},set:function(e){e?this.Ff=ni(this.Ff,25):this.Ff=si(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,26)},set:function(e){e?this.Ff=ni(this.Ff,26):this.Ff=si(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ql(Dd,uc);var zp=function(){Dd.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ti(this.Ff,14)},set:function(n){n?this.Ff=ni(this.Ff,14):this.Ff=si(this.Ff,14)}}),this.password=!0};Ql(zp,Dd);var Bn={CheckBox:{createAppearanceStream:function(){return{N:{On:Bn.CheckBox.YesNormal},D:{On:Bn.CheckBox.YesPushDown,Off:Bn.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=Lc(n);e.scope=n.scope;var t=[],s=n.scope.internal.getFont(n.fontName,n.fontStyle).id,a=n.scope.__private__.encodeColorString(n.color),o=bb(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+fs(Bn.internal.getWidth(n))+" "+fs(Bn.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+s+" "+fs(o.fontSize)+" Tf "+a),t.push("BT"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=Lc(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,s=n.scope.__private__.encodeColorString(n.color),a=[],o=Bn.internal.getHeight(n),c=Bn.internal.getWidth(n),h=bb(n,n.caption);return a.push("1 g"),a.push("0 0 "+fs(c)+" "+fs(o)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+fs(c-1)+" "+fs(o-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+t+" "+fs(h.fontSize)+" Tf "+s),a.push(h.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(n){var e=Lc(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+fs(Bn.internal.getWidth(n))+" "+fs(Bn.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:Bn.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=Bn.RadioButton.Circle.YesNormal,e.D[n]=Bn.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=Lc(n);e.scope=n.scope;var t=[],s=Bn.internal.getWidth(n)<=Bn.internal.getHeight(n)?Bn.internal.getWidth(n)/4:Bn.internal.getHeight(n)/4;s=Number((.9*s).toFixed(5));var a=Bn.internal.Bezier_C,o=Number((s*a).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+vd(Bn.internal.getWidth(n)/2)+" "+vd(Bn.internal.getHeight(n)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),t.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),t.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),t.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Lc(n);e.scope=n.scope;var t=[],s=Bn.internal.getWidth(n)<=Bn.internal.getHeight(n)?Bn.internal.getWidth(n)/4:Bn.internal.getHeight(n)/4;s=Number((.9*s).toFixed(5));var a=Number((2*s).toFixed(5)),o=Number((a*Bn.internal.Bezier_C).toFixed(5)),c=Number((s*Bn.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+vd(Bn.internal.getWidth(n)/2)+" "+vd(Bn.internal.getHeight(n)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),t.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),t.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),t.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+vd(Bn.internal.getWidth(n)/2)+" "+vd(Bn.internal.getHeight(n)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+c+" "+c+" "+s+" 0 "+s+" c"),t.push("-"+c+" "+s+" -"+s+" "+c+" -"+s+" 0 c"),t.push("-"+s+" -"+c+" -"+c+" -"+s+" 0 -"+s+" c"),t.push(c+" -"+s+" "+s+" -"+c+" "+s+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=Lc(n);e.scope=n.scope;var t=[],s=Bn.internal.getWidth(n)<=Bn.internal.getHeight(n)?Bn.internal.getWidth(n)/4:Bn.internal.getHeight(n)/4;s=Number((.9*s).toFixed(5));var a=Number((2*s).toFixed(5)),o=Number((a*Bn.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+vd(Bn.internal.getWidth(n)/2)+" "+vd(Bn.internal.getHeight(n)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),t.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),t.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),t.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:Bn.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=Bn.RadioButton.Cross.YesNormal,e.D[n]=Bn.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=Lc(n);e.scope=n.scope;var t=[],s=Bn.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+fs(Bn.internal.getWidth(n)-2)+" "+fs(Bn.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(fs(s.x1.x)+" "+fs(s.x1.y)+" m"),t.push(fs(s.x2.x)+" "+fs(s.x2.y)+" l"),t.push(fs(s.x4.x)+" "+fs(s.x4.y)+" m"),t.push(fs(s.x3.x)+" "+fs(s.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Lc(n);e.scope=n.scope;var t=Bn.internal.calculateCross(n),s=[];return s.push("0.749023 g"),s.push("0 0 "+fs(Bn.internal.getWidth(n))+" "+fs(Bn.internal.getHeight(n))+" re"),s.push("f"),s.push("q"),s.push("1 1 "+fs(Bn.internal.getWidth(n)-2)+" "+fs(Bn.internal.getHeight(n)-2)+" re"),s.push("W"),s.push("n"),s.push(fs(t.x1.x)+" "+fs(t.x1.y)+" m"),s.push(fs(t.x2.x)+" "+fs(t.x2.y)+" l"),s.push(fs(t.x4.x)+" "+fs(t.x4.y)+" m"),s.push(fs(t.x3.x)+" "+fs(t.x3.y)+" l"),s.push("s"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(n){var e=Lc(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+fs(Bn.internal.getWidth(n))+" "+fs(Bn.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};Bn.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=Bn.internal.getWidth(n),t=Bn.internal.getHeight(n),s=Math.min(e,t);return{x1:{x:(e-s)/2,y:(t-s)/2+s},x2:{x:(e-s)/2+s,y:(t-s)/2},x3:{x:(e-s)/2,y:(t-s)/2},x4:{x:(e-s)/2+s,y:(t-s)/2+s}}}},Bn.internal.getWidth=function(n){var e=0;return Fr(n)==="object"&&(e=VC(n.Rect[2])),e},Bn.internal.getHeight=function(n){var e=0;return Fr(n)==="object"&&(e=VC(n.Rect[3])),e};var I9=Va.addField=function(n){if(T9(this,n),!(n instanceof uc))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};Va.AcroFormChoiceField=Hh,Va.AcroFormListBox=Vh,Va.AcroFormComboBox=Kh,Va.AcroFormEditBox=Hp,Va.AcroFormButton=Oi,Va.AcroFormPushButton=Vp,Va.AcroFormRadioButton=zh,Va.AcroFormCheckBox=Kp,Va.AcroFormTextField=Dd,Va.AcroFormPasswordField=zp,Va.AcroFormAppearance=Bn,Va.AcroForm={ChoiceField:Hh,ListBox:Vh,ComboBox:Kh,EditBox:Hp,Button:Oi,PushButton:Vp,RadioButton:zh,CheckBox:Kp,TextField:Dd,PasswordField:zp,Appearance:Bn},Qn.AcroForm={ChoiceField:Hh,ListBox:Vh,ComboBox:Kh,EditBox:Hp,Button:Oi,PushButton:Vp,RadioButton:zh,CheckBox:Kp,TextField:Dd,PasswordField:zp,Appearance:Bn};var _9=Qn.AcroForm;function bI(n){return n.reduce(function(e,t,s){return e[t]=s,e},{})}(function(n){var e="addImage_";n.__addimage__={};var t="UNKNOWN",s={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=n.__addimage__.getImageFileTypeByImageData=function(O,H){var G,ie,ge,J,re,se=t;if((H=H||t)==="RGBA"||O.data!==void 0&&O.data instanceof Uint8ClampedArray&&"height"in O&&"width"in O)return"RGBA";if(K(O))for(re in s)for(ge=s[re],G=0;G<ge.length;G+=1){for(J=!0,ie=0;ie<ge[G].length;ie+=1)if(ge[G][ie]!==void 0&&ge[G][ie]!==O[ie]){J=!1;break}if(J===!0){se=re;break}}else for(re in s)for(ge=s[re],G=0;G<ge.length;G+=1){for(J=!0,ie=0;ie<ge[G].length;ie+=1)if(ge[G][ie]!==void 0&&ge[G][ie]!==O.charCodeAt(ie)){J=!1;break}if(J===!0){se=re;break}}return se===t&&H!==t&&(se=H),se},o=function O(H){for(var G=this.internal.write,ie=this.internal.putStream,ge=(0,this.internal.getFilters)();ge.indexOf("FlateEncode")!==-1;)ge.splice(ge.indexOf("FlateEncode"),1);H.objectId=this.internal.newObject();var J=[];if(J.push({key:"Type",value:"/XObject"}),J.push({key:"Subtype",value:"/Image"}),J.push({key:"Width",value:H.width}),J.push({key:"Height",value:H.height}),H.colorSpace===E.INDEXED?J.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(H.palette.length/3-1)+" "+("sMask"in H&&H.sMask!==void 0?H.objectId+2:H.objectId+1)+" 0 R]"}):(J.push({key:"ColorSpace",value:"/"+H.colorSpace}),H.colorSpace===E.DEVICE_CMYK&&J.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),J.push({key:"BitsPerComponent",value:H.bitsPerComponent}),"decodeParameters"in H&&H.decodeParameters!==void 0&&J.push({key:"DecodeParms",value:"<<"+H.decodeParameters+">>"}),"transparency"in H&&Array.isArray(H.transparency)&&H.transparency.length>0){for(var re="",se=0,he=H.transparency.length;se<he;se++)re+=H.transparency[se]+" "+H.transparency[se]+" ";J.push({key:"Mask",value:"["+re+"]"})}H.sMask!==void 0&&J.push({key:"SMask",value:H.objectId+1+" 0 R"});var je=H.filter!==void 0?["/"+H.filter]:void 0;if(ie({data:H.data,additionalKeyValues:J,alreadyAppliedFilters:je,objectId:H.objectId}),G("endobj"),"sMask"in H&&H.sMask!==void 0){var ne,V=(ne=H.sMaskBitsPerComponent)!==null&&ne!==void 0?ne:H.bitsPerComponent,W={width:H.width,height:H.height,colorSpace:"DeviceGray",bitsPerComponent:V,data:H.sMask};"filter"in H&&(W.decodeParameters="/Predictor ".concat(H.predictor," /Colors 1 /BitsPerComponent ").concat(V," /Columns ").concat(H.width),W.filter=H.filter),O.call(this,W)}if(H.colorSpace===E.INDEXED){var ae=this.internal.newObject();ie({data:Q(new Uint8Array(H.palette)),objectId:ae}),G("endobj")}},c=function(){var O=this.internal.collections[e+"images"];for(var H in O)o.call(this,O[H])},h=function(){var O,H=this.internal.collections[e+"images"],G=this.internal.write;for(var ie in H)G("/I"+(O=H[ie]).index,O.objectId,"0","R")},u=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",c),this.internal.events.subscribe("putXobjectDict",h))},f=function(){var O=this.internal.collections[e+"images"];return u.call(this),O},A=function(){return Object.keys(this.internal.collections[e+"images"]).length},m=function(O){return typeof n["process"+O.toUpperCase()]=="function"},v=function(O){return Fr(O)==="object"&&O.nodeType===1},g=function(O,H){if(O.nodeName==="IMG"&&O.hasAttribute("src")){var G=""+O.getAttribute("src");if(G.indexOf("data:image/")===0)return gv(unescape(G).split("base64,").pop());var ie=n.loadFile(G,!0);if(ie!==void 0)return ie}if(O.nodeName==="CANVAS"){if(O.width===0||O.height===0)throw new Error("Given canvas must have data. Canvas width: "+O.width+", height: "+O.height);var ge;switch(H){case"PNG":ge="image/png";break;case"WEBP":ge="image/webp";break;default:ge="image/jpeg"}return gv(O.toDataURL(ge,1).split("base64,").pop())}},b=function(O){var H=this.internal.collections[e+"images"];if(H){for(var G in H)if(O===H[G].alias)return H[G]}},S=function(O,H,G){return O||H||(O=-96,H=-96),O<0&&(O=-1*G.width*72/O/this.internal.scaleFactor),H<0&&(H=-1*G.height*72/H/this.internal.scaleFactor),O===0&&(O=H*G.width/G.height),H===0&&(H=O*G.height/G.width),[O,H]},N=function(O,H,G,ie,ge,J){var re=S.call(this,G,ie,ge),se=this.internal.getCoordinateString,he=this.internal.getVerticalCoordinateString,je=f.call(this);if(G=re[0],ie=re[1],je[ge.index]=ge,J){J*=Math.PI/180;var ne=Math.cos(J),V=Math.sin(J),W=function(ce){return ce.toFixed(4)},ae=[W(ne),W(V),W(-1*V),W(ne),0,0,"cm"]}this.internal.write("q"),J?(this.internal.write([1,"0","0",1,se(O),he(H+ie),"cm"].join(" ")),this.internal.write(ae.join(" ")),this.internal.write([se(G),"0","0",se(ie),"0","0","cm"].join(" "))):this.internal.write([se(G),"0","0",se(ie),se(O),he(H+ie),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ge.index+" Do"),this.internal.write("Q")},E=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var I=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},F=n.__addimage__.sHashCode=function(O){var H,G,ie=0;if(typeof O=="string")for(G=O.length,H=0;H<G;H++)ie=(ie<<5)-ie+O.charCodeAt(H),ie|=0;else if(K(O))for(G=O.byteLength/2,H=0;H<G;H++)ie=(ie<<5)-ie+O[H],ie|=0;return ie},D=n.__addimage__.validateStringAsBase64=function(O){(O=O||"").toString().trim();var H=!0;return O.length===0&&(H=!1),O.length%4!=0&&(H=!1),/^[A-Za-z0-9+/]+$/.test(O.substr(0,O.length-2))===!1&&(H=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(O.substr(-2))===!1&&(H=!1),H},P=n.__addimage__.extractImageFromDataUrl=function(O){if(O==null||!(O=O.trim()).startsWith("data:"))return null;var H=O.indexOf(",");return H<0?null:O.substring(0,H).trim().endsWith("base64")?O.substring(H+1):null};n.__addimage__.isArrayBuffer=function(O){return O instanceof ArrayBuffer};var K=n.__addimage__.isArrayBufferView=function(O){return O instanceof Int8Array||O instanceof Uint8Array||O instanceof Uint8ClampedArray||O instanceof Int16Array||O instanceof Uint16Array||O instanceof Int32Array||O instanceof Uint32Array||O instanceof Float32Array||O instanceof Float64Array},L=n.__addimage__.binaryStringToUint8Array=function(O){for(var H=O.length,G=new Uint8Array(H),ie=0;ie<H;ie++)G[ie]=O.charCodeAt(ie);return G},Q=n.__addimage__.arrayBufferToBinaryString=function(O){for(var H="",G=K(O)?O:new Uint8Array(O),ie=0;ie<G.length;ie+=8192)H+=String.fromCharCode.apply(null,G.subarray(ie,ie+8192));return H};n.addImage=function(){var O,H,G,ie,ge,J,re,se,he;if(typeof arguments[1]=="number"?(H=t,G=arguments[1],ie=arguments[2],ge=arguments[3],J=arguments[4],re=arguments[5],se=arguments[6],he=arguments[7]):(H=arguments[1],G=arguments[2],ie=arguments[3],ge=arguments[4],J=arguments[5],re=arguments[6],se=arguments[7],he=arguments[8]),Fr(O=arguments[0])==="object"&&!v(O)&&"imageData"in O){var je=O;O=je.imageData,H=je.format||H||t,G=je.x||G||0,ie=je.y||ie||0,ge=je.w||je.width||ge,J=je.h||je.height||J,re=je.alias||re,se=je.compression||se,he=je.rotation||je.angle||he}var ne=this.internal.getFilters();if(se===void 0&&ne.indexOf("FlateEncode")!==-1&&(se="SLOW"),isNaN(G)||isNaN(ie))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var V=R.call(this,O,H,re,se);return N.call(this,G,ie,ge,J,V,he),this};var R=function(O,H,G,ie){var ge,J,re;if(typeof O=="string"&&a(O)===t){O=unescape(O);var se=M(O,!1);(se!==""||(se=n.loadFile(O,!0))!==void 0)&&(O=se)}if(v(O)&&(O=g(O,H)),H=a(O,H),!m(H))throw new Error("addImage does not support files of type '"+H+"', please ensure that a plugin for '"+H+"' support is added.");if(((re=G)==null||re.length===0)&&(G=(function(he){return typeof he=="string"||K(he)?F(he):K(he.data)?F(he.data):null})(O)),(ge=b.call(this,G))||(O instanceof Uint8Array||H==="RGBA"||(J=O,O=L(O)),ge=this["process"+H.toUpperCase()](O,A.call(this),G,(function(he){return he&&typeof he=="string"&&(he=he.toUpperCase()),he in n.image_compression?he:I.NONE})(ie),J)),!ge)throw new Error("An unknown error occurred whilst processing the image.");return ge},M=n.__addimage__.convertBase64ToBinaryString=function(O,H){H=typeof H!="boolean"||H;var G,ie="";if(typeof O=="string"){var ge;G=(ge=P(O))!==null&&ge!==void 0?ge:O;try{ie=gv(G)}catch(J){if(H)throw D(G)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+J.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ie};n.getImageProperties=function(O){var H,G,ie="";if(v(O)&&(O=g(O)),typeof O=="string"&&a(O)===t&&((ie=M(O,!1))===""&&(ie=n.loadFile(O)||""),O=ie),G=a(O),!m(G))throw new Error("addImage does not support files of type '"+G+"', please ensure that a plugin for '"+G+"' support is added.");if(O instanceof Uint8Array||(O=L(O)),!(H=this["process"+G.toUpperCase()](O)))throw new Error("An unknown error occurred whilst processing the image");return H.fileType=G,H}})(Qn.API),(function(n){var e=function(t){if(t!==void 0&&t!="")return!0};Qn.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var s,a,o,c=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(t.objId),f=t.pageContext.annotations,A=!1,m=0;m<f.length&&!A;m++)switch((s=f[m]).type){case"link":(e(s.options.url)||e(s.options.pageNumber))&&(A=!0);break;case"reference":case"text":case"freetext":A=!0}if(A!=0){this.internal.write("/Annots [");for(var v=0;v<f.length;v++){s=f[v];var g=this.internal.pdfEscape,b=this.internal.getEncryptor(t.objId);switch(s.type){case"reference":this.internal.write(" "+s.object.objId+" 0 R ");break;case"text":var S=this.internal.newAdditionalObject(),N=this.internal.newAdditionalObject(),E=this.internal.getEncryptor(S.objId),I=s.title||"Note";o="<</Type /Annot /Subtype /Text "+(a="/Rect ["+c(s.bounds.x)+" "+h(s.bounds.y+s.bounds.h)+" "+c(s.bounds.x+s.bounds.w)+" "+h(s.bounds.y)+"] ")+"/Contents ("+g(E(s.contents))+")",o+=" /Popup "+N.objId+" 0 R",o+=" /P "+u.objId+" 0 R",o+=" /T ("+g(E(I))+") >>",S.content=o;var F=S.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+c(s.bounds.x+30)+" "+h(s.bounds.y+s.bounds.h)+" "+c(s.bounds.x+s.bounds.w+30)+" "+h(s.bounds.y)+"] ")+" /Parent "+F,s.open&&(o+=" /Open true"),o+=" >>",N.content=o,this.internal.write(S.objId,"0 R",N.objId,"0 R");break;case"freetext":a="/Rect ["+c(s.bounds.x)+" "+h(s.bounds.y)+" "+c(s.bounds.x+s.bounds.w)+" "+h(s.bounds.y+s.bounds.h)+"] ";var D=s.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+g(b(s.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+D+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(s.options.name){var P=this.annotations._nameMap[s.options.name];s.options.pageNumber=P.page,s.options.top=P.y}else s.options.top||(s.options.top=0);if(a="/Rect ["+s.finalBounds.x+" "+s.finalBounds.y+" "+s.finalBounds.w+" "+s.finalBounds.h+"] ",o="",s.options.url)o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+g(b(s.options.url))+") >>";else if(s.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(s.options.pageNumber).objId+" 0 R",s.options.magFactor=s.options.magFactor||"XYZ",s.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+s.options.top+"]";break;case"FitV":s.options.left=s.options.left||0,o+=" /FitV "+s.options.left+"]";break;default:var K=h(s.options.top);s.options.left=s.options.left||0,s.options.zoom===void 0&&(s.options.zoom=0),o+=" /XYZ "+s.options.left+" "+K+" "+s.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var s=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":s.pageContext.annotations.push(t)}},n.link=function(t,s,a,o,c){var h=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;h.pageContext.annotations.push({finalBounds:{x:u(t),y:f(s),w:u(t+a),h:f(s+o)},options:c,type:"link"})},n.textWithLink=function(t,s,a,o){var c,h,u=this.getTextWidth(t),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){h=o.maxWidth;var A=this.splitTextToSize(t,h).length;c=Math.ceil(f*A)}else h=u,c=f;return this.text(t,s,a,o),a+=.2*f,o.align==="center"&&(s-=u/2),o.align==="right"&&(s-=u),this.link(s,a-f,h,c,o),u},n.getTextWidth=function(t){var s=this.internal.getFontSize();return this.getStringUnitWidth(t)*s/this.internal.scaleFactor}})(Qn.API),(function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},s={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];n.__arabicParser__={};var o=n.__arabicParser__.isInArabicSubstitutionA=function(S){return e[S.charCodeAt(0)]!==void 0},c=n.__arabicParser__.isArabicLetter=function(S){return typeof S=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(S)},h=n.__arabicParser__.isArabicEndLetter=function(S){return c(S)&&o(S)&&e[S.charCodeAt(0)].length<=2},u=n.__arabicParser__.isArabicAlfLetter=function(S){return c(S)&&a.indexOf(S.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(S){return c(S)&&o(S)&&e[S.charCodeAt(0)].length>=1};var f=n.__arabicParser__.arabicLetterHasFinalForm=function(S){return c(S)&&o(S)&&e[S.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(S){return c(S)&&o(S)&&e[S.charCodeAt(0)].length>=3};var A=n.__arabicParser__.arabicLetterHasMedialForm=function(S){return c(S)&&o(S)&&e[S.charCodeAt(0)].length==4},m=n.__arabicParser__.resolveLigatures=function(S){var N=0,E=t,I="",F=0;for(N=0;N<S.length;N+=1)E[S.charCodeAt(N)]!==void 0?(F++,typeof(E=E[S.charCodeAt(N)])=="number"&&(I+=String.fromCharCode(E),E=t,F=0),N===S.length-1&&(E=t,I+=S.charAt(N-(F-1)),N-=F-1,F=0)):(E=t,I+=S.charAt(N-F),N-=F,F=0);return I};n.__arabicParser__.isArabicDiacritic=function(S){return S!==void 0&&s[S.charCodeAt(0)]!==void 0};var v=n.__arabicParser__.getCorrectForm=function(S,N,E){return c(S)?o(S)===!1?-1:!f(S)||!c(N)&&!c(E)||!c(E)&&h(N)||h(S)&&!c(N)||h(S)&&u(N)||h(S)&&h(N)?0:A(S)&&c(N)&&!h(N)&&c(E)&&f(E)?3:h(S)||!c(E)?1:2:-1},g=function(S){var N=0,E=0,I=0,F="",D="",P="",K=(S=S||"").split("\\s+"),L=[];for(N=0;N<K.length;N+=1){for(L.push(""),E=0;E<K[N].length;E+=1)F=K[N][E],D=K[N][E-1],P=K[N][E+1],c(F)?(I=v(F,D,P),L[N]+=I!==-1?String.fromCharCode(e[F.charCodeAt(0)][I]):F):L[N]+=F;L[N]=m(L[N])}return L.join(" ")},b=n.__arabicParser__.processArabic=n.processArabic=function(){var S,N=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,E=[];if(Array.isArray(N)){var I=0;for(E=[],I=0;I<N.length;I+=1)Array.isArray(N[I])?E.push([g(N[I][0]),N[I][1],N[I][2]]):E.push([g(N[I])]);S=E}else S=g(N);return typeof arguments[0]=="string"?S:(arguments[0].text=S,arguments[0])};n.events.push(["preProcessText",b])})(Qn.API),Qn.API.autoPrint=function(n){var e;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(h){t=h}});var s=150;Object.defineProperty(this,"width",{get:function(){return s},set:function(h){s=isNaN(h)||Number.isInteger(h)===!1||h<0?150:h,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=s+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(h){a=isNaN(h)||Number.isInteger(h)===!1||h<0?300:h,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(h){o=h}});var c={};Object.defineProperty(this,"style",{get:function(){return c},set:function(h){c=h}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,s){var a;if((t=t||"2d")!=="2d")return null;for(a in s)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=s[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Qn.API),(function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,s=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(S){u=S}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(S){f=S}});var A=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return A},set:function(S){A=S}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(S){m=S}});var v=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return v},set:function(S){v=S}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(S){g=S}});var b=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return b},set:function(S){b=S}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(u){return s.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},n.getTextDimensions=function(u,f){s.call(this);var A=(f=f||{}).fontSize||this.getFontSize(),m=f.font||this.getFont(),v=f.scaleFactor||this.internal.scaleFactor,g=0,b=0,S=0,N=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var E=f.maxWidth;E>0?typeof u=="string"?u=this.splitTextToSize(u,E):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(F,D){return F.concat(N.splitTextToSize(D,E))},[])):u=Array.isArray(u)?u:[u];for(var I=0;I<u.length;I++)g<(S=this.getStringUnitWidth(u[I],{font:m})*A)&&(g=S);return g!==0&&(b=u.length),{w:g/=v,h:Math.max((b*A*this.getLineHeightFactor()-A*(this.getLineHeightFactor()-1))/v,0)}},n.cellAddPage=function(){s.call(this),this.addPage();var u=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var c=n.cell=function(){var u;u=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),s.call(this);var f=this.internal.__cell__.lastCell,A=this.internal.__cell__.padding,m=this.internal.__cell__.margins||e,v=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===u.lineNumber?(u.x=(f.x||0)+(f.width||0),u.y=f.y||0):f.y+f.height+u.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=m.top,g&&v&&(this.printHeaderRow(u.lineNumber,!0),u.y+=v[0].height)):u.y=f.y+f.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,t===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-A,u.y+A,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+A,{align:"center",baseline:"top",maxWidth:u.width-A-A}):this.text(u.text,u.x+A,u.y+A,{align:"left",baseline:"top",maxWidth:u.width-A-A})),this.internal.__cell__.lastCell=u,this};n.table=function(u,f,A,m,v){if(s.call(this),!A)throw new Error("No data for PDF table.");var g,b,S,N,E=[],I=[],F=[],D={},P={},K=[],L=[],Q=(v=v||{}).autoSize||!1,R=v.printHeaders!==!1,M=v.css&&v.css["font-size"]!==void 0?16*v.css["font-size"]:v.fontSize||12,O=v.margins||Object.assign({width:this.getPageWidth()},e),H=typeof v.padding=="number"?v.padding:3,G=v.headerBackgroundColor||"#c8c8c8",ie=v.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=R,this.internal.__cell__.margins=O,this.internal.__cell__.table_font_size=M,this.internal.__cell__.padding=H,this.internal.__cell__.headerBackgroundColor=G,this.internal.__cell__.headerTextColor=ie,this.setFontSize(M),m==null)I=E=Object.keys(A[0]),F=E.map(function(){return"left"});else if(Array.isArray(m)&&Fr(m[0])==="object")for(E=m.map(function(je){return je.name}),I=m.map(function(je){return je.prompt||je.name||""}),F=m.map(function(je){return je.align||"left"}),g=0;g<m.length;g+=1)P[m[g].name]=.7499990551181103*m[g].width;else Array.isArray(m)&&typeof m[0]=="string"&&(I=E=m,F=E.map(function(){return"left"}));if(Q||Array.isArray(m)&&typeof m[0]=="string")for(g=0;g<E.length;g+=1){for(D[N=E[g]]=A.map(function(je){return je[N]}),this.setFont(void 0,"bold"),K.push(this.getTextDimensions(I[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),b=D[N],this.setFont(void 0,"normal"),S=0;S<b.length;S+=1)K.push(this.getTextDimensions(b[S],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);P[N]=Math.max.apply(null,K)+H+H,K=[]}if(R){var ge={};for(g=0;g<E.length;g+=1)ge[E[g]]={},ge[E[g]].text=I[g],ge[E[g]].align=F[g];var J=h.call(this,ge,P);L=E.map(function(je){return new o(u,f,P[je],J,ge[je].text,void 0,ge[je].align)}),this.setTableHeaderRow(L),this.printHeaderRow(1,!1)}var re=m.reduce(function(je,ne){return je[ne.name]=ne.align,je},{});for(g=0;g<A.length;g+=1){"rowStart"in v&&v.rowStart instanceof Function&&v.rowStart({row:g,data:A[g]},this);var se=h.call(this,A[g],P);for(S=0;S<E.length;S+=1){var he=A[g][E[S]];"cellStart"in v&&v.cellStart instanceof Function&&v.cellStart({row:g,col:S,data:he},this),c.call(this,new o(u,f,P[E[S]],se,he,g+2,re[E[S]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=f,this};var h=function(u,f){var A=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,v=this.internal.scaleFactor;return Object.keys(u).map(function(g){var b=u[g];return this.splitTextToSize(b.hasOwnProperty("text")?b.text:b,f[g]-A-A)},this).map(function(g){return this.getLineHeightFactor()*g.length*m/v+A+A},this).reduce(function(g,b){return Math.max(g,b)},0)};n.setTableHeaderRow=function(u){s.call(this),this.internal.__cell__.tableHeaderRow=u},n.printHeaderRow=function(u,f){if(s.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var A;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var v=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){A=this.internal.__cell__.tableHeaderRow[g].clone(),f&&(A.y=this.internal.__cell__.margins.top||0,v.push(A)),A.lineNumber=u;var b=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),c.call(this,A),this.setTextColor(b)}v.length>0&&this.setTableHeaderRow(v),this.setFont(void 0,"normal"),t=!1}})(Qn.API);var wI={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},jI=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],wb=bI(jI),BI=[100,200,300,400,500,600,700,800,900],F9=bI(BI);function c1(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=(function(o){return wI[o=o||"normal"]?o:"normal"})(n.style),s=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(n.weight),a=(function(o){return typeof wb[o=o||"normal"]=="number"?o:"normal"})(n.stretch);return{family:e,style:t,weight:s,stretch:a,src:n.src||[],ref:n.ref||{name:e,style:[a,t,s].join(" ")}}}function KC(n,e,t,s){var a;for(a=t;a>=0&&a<e.length;a+=s)if(n[e[a]])return n[e[a]];for(a=t;a>=0&&a<e.length;a-=s)if(n[e[a]])return n[e[a]]}var U9={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},zC={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function GC(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function $C(n){return n.trimLeft()}function R9(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function D9(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var W0,YC,WC,Lf,X0,XC,JC,qC,u1=["times"];function ZC(n,e,t,s,a){var o=4,c=tS;switch(a){case Qn.API.image_compression.FAST:o=1,c=eS;break;case Qn.API.image_compression.MEDIUM:o=6,c=nS;break;case Qn.API.image_compression.SLOW:o=9,c=sS}n=(function(u,f,A,m){for(var v,g=u.length/f,b=new Uint8Array(u.length+g),S=[L9,eS,tS,nS,sS],N=0;N<g;N+=1){var E=N*f,I=u.subarray(E,E+f);if(m)b.set(m(I,A,v),E+N);else{for(var F=S.length,D=[],P=0;P<F;P+=1)D[P]=S[P](I,A,v);var K=O9(D.concat());b.set(D[K],E+N)}v=I}return b})(n,e,Math.ceil(t*s/8),c);var h=mb(n,{level:o});return Qn.API.__addimage__.arrayBufferToBinaryString(h)}function L9(n){var e=Array.apply([],n);return e.unshift(0),e}function eS(n,e){var t=n.length,s=[];s[0]=1;for(var a=0;a<t;a+=1){var o=n[a-e]||0;s[a+1]=n[a]-o+256&255}return s}function tS(n,e,t){var s=n.length,a=[];a[0]=2;for(var o=0;o<s;o+=1){var c=t&&t[o]||0;a[o+1]=n[o]-c+256&255}return a}function nS(n,e,t){var s=n.length,a=[];a[0]=3;for(var o=0;o<s;o+=1){var c=n[o-e]||0,h=t&&t[o]||0;a[o+1]=n[o]+256-(c+h>>>1)&255}return a}function sS(n,e,t){var s=n.length,a=[];a[0]=4;for(var o=0;o<s;o+=1){var c=Q9(n[o-e]||0,t&&t[o]||0,t&&t[o-e]||0);a[o+1]=n[o]-c+256&255}return a}function Q9(n,e,t){if(n===e&&e===t)return n;var s=Math.abs(e-t),a=Math.abs(n-t),o=Math.abs(n+e-t-t);return s<=a&&s<=o?n:a<=o?e:t}function O9(n){var e=n.map(function(t){return t.reduce(function(s,a){return s+Math.abs(a)},0)});return e.indexOf(Math.min.apply(null,e))}function d1(n,e,t){var s=e*t,a=Math.floor(s/8),o=16-(s-8*a+t),c=(1<<t)-1;return CI(n,a)>>o&c}function rS(n,e,t,s){var a=t*s,o=Math.floor(a/8),c=16-(a-8*o+s),h=(1<<s)-1,u=(e&h)<<c;(function(f,A,m){if(A+1<f.byteLength)f.setUint16(A,m,!1);else{var v=m>>8&255;f.setUint8(A,v)}})(n,o,CI(n,o)&~(h<<c)&65535|u)}function CI(n,e){return e+1<n.byteLength?n.getUint16(e,!1):n.getUint8(e)<<8}function P9(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,s=n[e++]|n[e++]<<8,a=n[e++],o=a>>7,c=1<<1+(7&a);n[e++],n[e++];var h=null,u=null;o&&(h=e,u=c,e+=3*c);var f=!0,A=[],m=0,v=null,g=0,b=null;for(this.width=t,this.height=s;f&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,b=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((O=n[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var S=n[e++];m=n[e++]|n[e++]<<8,v=n[e++],1&S||(v=null),g=S>>2&7,e++;break;case 254:for(;;){if(!((O=n[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var N=n[e++]|n[e++]<<8,E=n[e++]|n[e++]<<8,I=n[e++]|n[e++]<<8,F=n[e++]|n[e++]<<8,D=n[e++],P=D>>6&1,K=1<<1+(7&D),L=h,Q=u,R=!1;D>>7&&(R=!0,L=e,Q=K,e+=3*K);var M=e;for(e++;;){var O;if(!((O=n[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}A.push({x:N,y:E,width:I,height:F,has_local_palette:R,palette_offset:L,palette_size:Q,data_offset:M,data_length:e-M,transparent_index:v,interlaced:!!P,delay:m,disposal:g});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return A.length},this.loopCount=function(){return b},this.frameInfo=function(H){if(H<0||H>=A.length)throw new Error("Frame index out of range.");return A[H]},this.decodeAndBlitFrameBGRA=function(H,G){var ie=this.frameInfo(H),ge=ie.width*ie.height,J=new Uint8Array(ge);aS(n,ie.data_offset,J,ge);var re=ie.palette_offset,se=ie.transparent_index;se===null&&(se=256);var he=ie.width,je=t-he,ne=he,V=4*(ie.y*t+ie.x),W=4*((ie.y+ie.height)*t+ie.x),ae=V,ce=4*je;ie.interlaced===!0&&(ce+=4*t*7);for(var Ae=8,pe=0,Se=J.length;pe<Se;++pe){var xe=J[pe];if(ne===0&&(ne=he,(ae+=ce)>=W&&(ce=4*je+4*t*(Ae-1),ae=V+(he+je)*(Ae<<1),Ae>>=1)),xe===se)ae+=4;else{var Ie=n[re+3*xe],_e=n[re+3*xe+1],De=n[re+3*xe+2];G[ae++]=De,G[ae++]=_e,G[ae++]=Ie,G[ae++]=255}--ne}},this.decodeAndBlitFrameRGBA=function(H,G){var ie=this.frameInfo(H),ge=ie.width*ie.height,J=new Uint8Array(ge);aS(n,ie.data_offset,J,ge);var re=ie.palette_offset,se=ie.transparent_index;se===null&&(se=256);var he=ie.width,je=t-he,ne=he,V=4*(ie.y*t+ie.x),W=4*((ie.y+ie.height)*t+ie.x),ae=V,ce=4*je;ie.interlaced===!0&&(ce+=4*t*7);for(var Ae=8,pe=0,Se=J.length;pe<Se;++pe){var xe=J[pe];if(ne===0&&(ne=he,(ae+=ce)>=W&&(ce=4*je+4*t*(Ae-1),ae=V+(he+je)*(Ae<<1),Ae>>=1)),xe===se)ae+=4;else{var Ie=n[re+3*xe],_e=n[re+3*xe+1],De=n[re+3*xe+2];G[ae++]=Ie,G[ae++]=_e,G[ae++]=De,G[ae++]=255}--ne}}}function aS(n,e,t,s){for(var a=n[e++],o=1<<a,c=o+1,h=c+1,u=a+1,f=(1<<u)-1,A=0,m=0,v=0,g=n[e++],b=new Int32Array(4096),S=null;;){for(;A<16&&g!==0;)m|=n[e++]<<A,A+=8,g===1?g=n[e++]:--g;if(A<u)break;var N=m&f;if(m>>=u,A-=u,N!==o){if(N===c)break;for(var E=N<h?N:S,I=0,F=E;F>o;)F=b[F]>>8,++I;var D=F;if(v+I+(E!==N?1:0)>s)return void zr.log("Warning, gif stream longer than expected.");t[v++]=D;var P=v+=I;for(E!==N&&(t[v++]=D),F=E;I--;)F=b[F],t[--P]=255&F,F>>=8;S!==null&&h<4096&&(b[h++]=S<<8|D,h>=f+1&&u<12&&(++u,f=f<<1|1)),S=N}else h=c+1,f=(1<<(u=a+1))-1,S=null}return v!==s&&zr.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function h1(n){var e,t,s,a,o,c=Math.floor,h=new Array(64),u=new Array(64),f=new Array(64),A=new Array(64),m=new Array(65535),v=new Array(65535),g=new Array(64),b=new Array(64),S=[],N=0,E=7,I=new Array(64),F=new Array(64),D=new Array(64),P=new Array(256),K=new Array(2048),L=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Q=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],M=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],O=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],H=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],G=[0,1,2,3,4,5,6,7,8,9,10,11],ie=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ge=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function J(V,W){for(var ae=0,ce=0,Ae=new Array,pe=1;pe<=16;pe++){for(var Se=1;Se<=V[pe];Se++)Ae[W[ce]]=[],Ae[W[ce]][0]=ae,Ae[W[ce]][1]=pe,ce++,ae++;ae*=2}return Ae}function re(V){for(var W=V[0],ae=V[1]-1;ae>=0;)W&1<<ae&&(N|=1<<E),ae--,--E<0&&(N==255?(se(255),se(0)):se(N),E=7,N=0)}function se(V){S.push(V)}function he(V){se(V>>8&255),se(255&V)}function je(V,W,ae,ce,Ae){for(var pe,Se=Ae[0],xe=Ae[240],Ie=(function(qe,We){var dt,Qt,Pt,Gt,sn,en,Nn,xt,St,$t,Ht=0;for(St=0;St<8;++St){dt=qe[Ht],Qt=qe[Ht+1],Pt=qe[Ht+2],Gt=qe[Ht+3],sn=qe[Ht+4],en=qe[Ht+5],Nn=qe[Ht+6];var Rn=dt+(xt=qe[Ht+7]),Ke=dt-xt,yt=Qt+Nn,ze=Qt-Nn,ot=Pt+en,ft=Pt-en,Lt=Gt+sn,Ct=Gt-sn,zt=Rn+Lt,yn=Rn-Lt,Tt=yt+ot,ht=yt-ot;qe[Ht]=zt+Tt,qe[Ht+4]=zt-Tt;var Ot=.707106781*(ht+yn);qe[Ht+2]=yn+Ot,qe[Ht+6]=yn-Ot;var qt=.382683433*((zt=Ct+ft)-(ht=ze+Ke)),on=.5411961*zt+qt,cs=1.306562965*ht+qt,js=.707106781*(Tt=ft+ze),cn=Ke+js,ri=Ke-js;qe[Ht+5]=ri+on,qe[Ht+3]=ri-on,qe[Ht+1]=cn+cs,qe[Ht+7]=cn-cs,Ht+=8}for(Ht=0,St=0;St<8;++St){dt=qe[Ht],Qt=qe[Ht+8],Pt=qe[Ht+16],Gt=qe[Ht+24],sn=qe[Ht+32],en=qe[Ht+40],Nn=qe[Ht+48];var Ua=dt+(xt=qe[Ht+56]),ua=dt-xt,$r=Qt+Nn,ln=Qt-Nn,Le=Pt+en,Rt=Pt-en,Vt=Gt+sn,Ft=Gt-sn,Yt=Ua+Vt,Ut=Ua-Vt,vn=$r+Le,Sn=$r-Le;qe[Ht]=Yt+vn,qe[Ht+32]=Yt-vn;var On=.707106781*(Sn+Ut);qe[Ht+16]=Ut+On,qe[Ht+48]=Ut-On;var dr=.382683433*((Yt=Ft+Rt)-(Sn=ln+ua)),Kn=.5411961*Yt+dr,In=1.306562965*Sn+dr,Us=.707106781*(vn=Rt+ln),Ss=ua+Us,lr=ua-Us;qe[Ht+40]=lr+Kn,qe[Ht+24]=lr-Kn,qe[Ht+8]=Ss+In,qe[Ht+56]=Ss-In,Ht++}for(St=0;St<64;++St)$t=qe[St]*We[St],g[St]=$t>0?$t+.5|0:$t-.5|0;return g})(V,W),_e=0;_e<64;++_e)b[L[_e]]=Ie[_e];var De=b[0]-ae;ae=b[0],De==0?re(ce[0]):(re(ce[v[pe=32767+De]]),re(m[pe]));for(var st=63;st>0&&b[st]==0;)st--;if(st==0)return re(Se),ae;for(var He,de=1;de<=st;){for(var rt=de;b[de]==0&&de<=st;)++de;var _t=de-rt;if(_t>=16){He=_t>>4;for(var vt=1;vt<=He;++vt)re(xe);_t&=15}pe=32767+b[de],re(Ae[(_t<<4)+v[pe]]),re(m[pe]),de++}return st!=63&&re(Se),ae}function ne(V){V=Math.min(Math.max(V,1),100),o!=V&&((function(W){for(var ae=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ce=0;ce<64;ce++){var Ae=c((ae[ce]*W+50)/100);Ae=Math.min(Math.max(Ae,1),255),h[L[ce]]=Ae}for(var pe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Se=0;Se<64;Se++){var xe=c((pe[Se]*W+50)/100);xe=Math.min(Math.max(xe,1),255),u[L[Se]]=xe}for(var Ie=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],_e=0,De=0;De<8;De++)for(var st=0;st<8;st++)f[_e]=1/(h[L[_e]]*Ie[De]*Ie[st]*8),A[_e]=1/(u[L[_e]]*Ie[De]*Ie[st]*8),_e++})(V<50?Math.floor(5e3/V):Math.floor(200-2*V)),o=V)}this.encode=function(V,W){W&&ne(W),S=new Array,N=0,E=7,he(65496),he(65504),he(16),se(74),se(70),se(73),se(70),se(0),se(1),se(1),se(0),he(1),he(1),se(0),se(0),(function(){he(65499),he(132),se(0);for(var Qt=0;Qt<64;Qt++)se(h[Qt]);se(1);for(var Pt=0;Pt<64;Pt++)se(u[Pt])})(),(function(Qt,Pt){he(65472),he(17),se(8),he(Pt),he(Qt),se(3),se(1),se(17),se(0),se(2),se(17),se(1),se(3),se(17),se(1)})(V.width,V.height),(function(){he(65476),he(418),se(0);for(var Qt=0;Qt<16;Qt++)se(Q[Qt+1]);for(var Pt=0;Pt<=11;Pt++)se(R[Pt]);se(16);for(var Gt=0;Gt<16;Gt++)se(M[Gt+1]);for(var sn=0;sn<=161;sn++)se(O[sn]);se(1);for(var en=0;en<16;en++)se(H[en+1]);for(var Nn=0;Nn<=11;Nn++)se(G[Nn]);se(17);for(var xt=0;xt<16;xt++)se(ie[xt+1]);for(var St=0;St<=161;St++)se(ge[St])})(),he(65498),he(12),se(3),se(1),se(0),se(2),se(17),se(3),se(17),se(0),se(63),se(0);var ae=0,ce=0,Ae=0;N=0,E=7,this.encode.displayName="_encode_";for(var pe,Se,xe,Ie,_e,De,st,He,de,rt=V.data,_t=V.width,vt=V.height,qe=4*_t,We=0;We<vt;){for(pe=0;pe<qe;){for(_e=qe*We+pe,st=-1,He=0,de=0;de<64;de++)De=_e+(He=de>>3)*qe+(st=4*(7&de)),We+He>=vt&&(De-=qe*(We+1+He-vt)),pe+st>=qe&&(De-=pe+st-qe+4),Se=rt[De++],xe=rt[De++],Ie=rt[De++],I[de]=(K[Se]+K[xe+256|0]+K[Ie+512|0]>>16)-128,F[de]=(K[Se+768|0]+K[xe+1024|0]+K[Ie+1280|0]>>16)-128,D[de]=(K[Se+1280|0]+K[xe+1536|0]+K[Ie+1792|0]>>16)-128;ae=je(I,f,ae,e,s),ce=je(F,A,ce,t,a),Ae=je(D,A,Ae,t,a),pe+=32}We+=8}if(E>=0){var dt=[];dt[1]=E+1,dt[0]=(1<<E+1)-1,re(dt)}return he(65497),new Uint8Array(S)},n=n||50,(function(){for(var V=String.fromCharCode,W=0;W<256;W++)P[W]=V(W)})(),e=J(Q,R),t=J(H,G),s=J(M,O),a=J(ie,ge),(function(){for(var V=1,W=2,ae=1;ae<=15;ae++){for(var ce=V;ce<W;ce++)v[32767+ce]=ae,m[32767+ce]=[],m[32767+ce][1]=ae,m[32767+ce][0]=ce;for(var Ae=-(W-1);Ae<=-V;Ae++)v[32767+Ae]=ae,m[32767+Ae]=[],m[32767+Ae][1]=ae,m[32767+Ae][0]=W-1+Ae;V<<=1,W<<=1}})(),(function(){for(var V=0;V<256;V++)K[V]=19595*V,K[V+256|0]=38470*V,K[V+512|0]=7471*V+32768,K[V+768|0]=-11059*V,K[V+1024|0]=-21709*V,K[V+1280|0]=32768*V+8421375,K[V+1536|0]=-27439*V,K[V+1792|0]=-5329*V})(),ne(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function qA(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function iS(n){function e(R){if(!R)throw Error("assert :P")}function t(R,M,O){for(var H=0;4>H;H++)if(R[M+H]!=O.charCodeAt(H))return!0;return!1}function s(R,M,O,H,G){for(var ie=0;ie<G;ie++)R[M+ie]=O[H+ie]}function a(R,M,O,H){for(var G=0;G<H;G++)R[M+G]=O}function o(R){return new Int32Array(R)}function c(R,M){for(var O=[],H=0;H<R;H++)O.push(new M);return O}function h(R,M){var O=[];return(function H(G,ie,ge){for(var J=ge[ie],re=0;re<J&&(G.push(ge.length>ie+1?[]:new M),!(ge.length<ie+1));re++)H(G[re],ie+1,ge)})(O,0,R),O}var u=function(){var R=this;function M(y,_){for(var z=1<<_-1>>>0;y&z;)z>>>=1;return z?(y&z-1)+z:y}function O(y,_,z,X,le){e(!(X%z));do y[_+(X-=z)]=le;while(0<X)}function H(y,_,z,X,le){if(e(2328>=le),512>=le)var fe=o(512);else if((fe=o(le))==null)return 0;return(function(me,ye,we,Te,Qe,Je){var Ne,Pe,ke=ye,At=1<<we,Xe=o(16),lt=o(16);for(e(Qe!=0),e(Te!=null),e(me!=null),e(0<we),Pe=0;Pe<Qe;++Pe){if(15<Te[Pe])return 0;++Xe[Te[Pe]]}if(Xe[0]==Qe)return 0;for(lt[1]=0,Ne=1;15>Ne;++Ne){if(Xe[Ne]>1<<Ne)return 0;lt[Ne+1]=lt[Ne]+Xe[Ne]}for(Pe=0;Pe<Qe;++Pe)Ne=Te[Pe],0<Te[Pe]&&(Je[lt[Ne]++]=Pe);if(lt[15]==1)return(Te=new G).g=0,Te.value=Je[0],O(me,ke,1,At,Te),At;var gt,Dt=-1,jt=At-1,wn=0,un=1,ts=1,pn=1<<we;for(Pe=0,Ne=1,Qe=2;Ne<=we;++Ne,Qe<<=1){if(un+=ts<<=1,0>(ts-=Xe[Ne]))return 0;for(;0<Xe[Ne];--Xe[Ne])(Te=new G).g=Ne,Te.value=Je[Pe++],O(me,ke+wn,Qe,pn,Te),wn=M(wn,Ne)}for(Ne=we+1,Qe=2;15>=Ne;++Ne,Qe<<=1){if(un+=ts<<=1,0>(ts-=Xe[Ne]))return 0;for(;0<Xe[Ne];--Xe[Ne]){if(Te=new G,(wn&jt)!=Dt){for(ke+=pn,gt=1<<(Dt=Ne)-we;15>Dt&&!(0>=(gt-=Xe[Dt]));)++Dt,gt<<=1;At+=pn=1<<(gt=Dt-we),me[ye+(Dt=wn&jt)].g=gt+we,me[ye+Dt].value=ke-ye-Dt}Te.g=Ne-we,Te.value=Je[Pe++],O(me,ke+(wn>>we),Qe,pn,Te),wn=M(wn,Ne)}}return un!=2*lt[15]-1?0:At})(y,_,z,X,le,fe)}function G(){this.value=this.g=0}function ie(){this.value=this.g=0}function ge(){this.G=c(5,G),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=c(Bo,ie)}function J(y,_,z,X){e(y!=null),e(_!=null),e(2147483648>X),y.Ca=254,y.I=0,y.b=-8,y.Ka=0,y.oa=_,y.pa=z,y.Jd=_,y.Yc=z+X,y.Zc=4<=X?z+X-4+1:z,Se(y)}function re(y,_){for(var z=0;0<_--;)z|=Ie(y,128)<<_;return z}function se(y,_){var z=re(y,_);return xe(y)?-z:z}function he(y,_,z,X){var le,fe=0;for(e(y!=null),e(_!=null),e(4294967288>X),y.Sb=X,y.Ra=0,y.u=0,y.h=0,4<X&&(X=4),le=0;le<X;++le)fe+=_[z+le]<<8*le;y.Ra=fe,y.bb=X,y.oa=_,y.pa=z}function je(y){for(;8<=y.u&&y.bb<y.Sb;)y.Ra>>>=8,y.Ra+=y.oa[y.pa+y.bb]<<Zo-8>>>0,++y.bb,y.u-=8;ce(y)&&(y.h=1,y.u=0)}function ne(y,_){if(e(0<=_),!y.h&&_<=Ai){var z=ae(y)&gs[_];return y.u+=_,je(y),z}return y.h=1,y.u=0}function V(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function W(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ae(y){return y.Ra>>>(y.u&Zo-1)>>>0}function ce(y){return e(y.bb<=y.Sb),y.h||y.bb==y.Sb&&y.u>Zo}function Ae(y,_){y.u=_,y.h=ce(y)}function pe(y){y.u>=el&&(e(y.u>=el),je(y))}function Se(y){e(y!=null&&y.oa!=null),y.pa<y.Zc?(y.I=(y.oa[y.pa++]|y.I<<8)>>>0,y.b+=8):(e(y!=null&&y.oa!=null),y.pa<y.Yc?(y.b+=8,y.I=y.oa[y.pa++]|y.I<<8):y.Ka?y.b=0:(y.I<<=8,y.b+=8,y.Ka=1))}function xe(y){return re(y,1)}function Ie(y,_){var z=y.Ca;0>y.b&&Se(y);var X=y.b,le=z*_>>>8,fe=(y.I>>>X>le)+0;for(fe?(z-=le,y.I-=le+1<<X>>>0):z=le+1,X=z,le=0;256<=X;)le+=8,X>>=8;return X=7^le+ml[X],y.b-=X,y.Ca=(z<<X)-1,fe}function _e(y,_,z){y[_+0]=z>>24&255,y[_+1]=z>>16&255,y[_+2]=z>>8&255,y[_+3]=255&z}function De(y,_){return y[_+0]|y[_+1]<<8}function st(y,_){return De(y,_)|y[_+2]<<16}function He(y,_){return De(y,_)|De(y,_+2)<<16}function de(y,_){var z=1<<_;return e(y!=null),e(0<_),y.X=o(z),y.X==null?0:(y.Mb=32-_,y.Xa=_,1)}function rt(y,_){e(y!=null),e(_!=null),e(y.Xa==_.Xa),s(_.X,0,y.X,0,1<<_.Xa)}function _t(){this.X=[],this.Xa=this.Mb=0}function vt(y,_,z,X){e(z!=null),e(X!=null);var le=z[0],fe=X[0];return le==0&&(le=(y*fe+_/2)/_),fe==0&&(fe=(_*le+y/2)/y),0>=le||0>=fe?0:(z[0]=le,X[0]=fe,1)}function qe(y,_){return y+(1<<_)-1>>>_}function We(y,_){return((4278255360&y)+(4278255360&_)>>>0&4278255360)+((16711935&y)+(16711935&_)>>>0&16711935)>>>0}function dt(y,_){R[_]=function(z,X,le,fe,me,ye,we){var Te;for(Te=0;Te<me;++Te){var Qe=R[y](ye[we+Te-1],le,fe+Te);ye[we+Te]=We(z[X+Te],Qe)}}}function Qt(){this.ud=this.hd=this.jd=0}function Pt(y,_){return((4278124286&(y^_))>>>1)+(y&_)>>>0}function Gt(y){return 0<=y&&256>y?y:0>y?0:255<y?255:void 0}function sn(y,_){return Gt(y+(y-_+.5>>1))}function en(y,_,z){return Math.abs(_-z)-Math.abs(y-z)}function Nn(y,_,z,X,le,fe,me){for(X=fe[me-1],z=0;z<le;++z)fe[me+z]=X=We(y[_+z],X)}function xt(y,_,z,X,le){var fe;for(fe=0;fe<z;++fe){var me=y[_+fe],ye=me>>8&255,we=16711935&(we=(we=16711935&me)+((ye<<16)+ye));X[le+fe]=(4278255360&me)+we>>>0}}function St(y,_){_.jd=255&y,_.hd=y>>8&255,_.ud=y>>16&255}function $t(y,_,z,X,le,fe){var me;for(me=0;me<X;++me){var ye=_[z+me],we=ye>>>8,Te=ye,Qe=255&(Qe=(Qe=ye>>>16)+((y.jd<<24>>24)*(we<<24>>24)>>>5));Te=255&(Te=(Te+=(y.hd<<24>>24)*(we<<24>>24)>>>5)+((y.ud<<24>>24)*(Qe<<24>>24)>>>5)),le[fe+me]=(4278255360&ye)+(Qe<<16)+Te}}function Ht(y,_,z,X,le){R[_]=function(fe,me,ye,we,Te,Qe,Je,Ne,Pe){for(we=Je;we<Ne;++we)for(Je=0;Je<Pe;++Je)Te[Qe++]=le(ye[X(fe[me++])])},R[y]=function(fe,me,ye,we,Te,Qe,Je){var Ne=8>>fe.b,Pe=fe.Ea,ke=fe.K[0],At=fe.w;if(8>Ne)for(fe=(1<<fe.b)-1,At=(1<<Ne)-1;me<ye;++me){var Xe,lt=0;for(Xe=0;Xe<Pe;++Xe)Xe&fe||(lt=X(we[Te++])),Qe[Je++]=le(ke[lt&At]),lt>>=Ne}else R["VP8LMapColor"+z](we,Te,ke,At,Qe,Je,me,ye,Pe)}}function Rn(y,_,z,X,le){for(z=_+z;_<z;){var fe=y[_++];X[le++]=fe>>16&255,X[le++]=fe>>8&255,X[le++]=255&fe}}function Ke(y,_,z,X,le){for(z=_+z;_<z;){var fe=y[_++];X[le++]=fe>>16&255,X[le++]=fe>>8&255,X[le++]=255&fe,X[le++]=fe>>24&255}}function yt(y,_,z,X,le){for(z=_+z;_<z;){var fe=(me=y[_++])>>16&240|me>>12&15,me=240&me|me>>28&15;X[le++]=fe,X[le++]=me}}function ze(y,_,z,X,le){for(z=_+z;_<z;){var fe=(me=y[_++])>>16&248|me>>13&7,me=me>>5&224|me>>3&31;X[le++]=fe,X[le++]=me}}function ot(y,_,z,X,le){for(z=_+z;_<z;){var fe=y[_++];X[le++]=255&fe,X[le++]=fe>>8&255,X[le++]=fe>>16&255}}function ft(y,_,z,X,le,fe){if(fe==0)for(z=_+z;_<z;)_e(X,((fe=y[_++])[0]>>24|fe[1]>>8&65280|fe[2]<<8&16711680|fe[3]<<24)>>>0),le+=32;else s(X,le,y,_,z)}function Lt(y,_){R[_][0]=R[y+"0"],R[_][1]=R[y+"1"],R[_][2]=R[y+"2"],R[_][3]=R[y+"3"],R[_][4]=R[y+"4"],R[_][5]=R[y+"5"],R[_][6]=R[y+"6"],R[_][7]=R[y+"7"],R[_][8]=R[y+"8"],R[_][9]=R[y+"9"],R[_][10]=R[y+"10"],R[_][11]=R[y+"11"],R[_][12]=R[y+"12"],R[_][13]=R[y+"13"],R[_][14]=R[y+"0"],R[_][15]=R[y+"0"]}function Ct(y){return y==eu||y==ku||y==mc||y==MA}function zt(){this.eb=[],this.size=this.A=this.fb=0}function yn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Tt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new zt,this.f.kb=new yn,this.sd=null}function ht(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ot(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function qt(y){return alert("todo:WebPSamplerProcessPlane"),y.T}function on(y,_){var z=y.T,X=_.ba.f.RGBA,le=X.eb,fe=X.fb+y.ka*X.A,me=qa[_.ba.S],ye=y.y,we=y.O,Te=y.f,Qe=y.N,Je=y.ea,Ne=y.W,Pe=_.cc,ke=_.dc,At=_.Mc,Xe=_.Nc,lt=y.ka,gt=y.ka+y.T,Dt=y.U,jt=Dt+1>>1;for(lt==0?me(ye,we,null,null,Te,Qe,Je,Ne,Te,Qe,Je,Ne,le,fe,null,null,Dt):(me(_.ec,_.fc,ye,we,Pe,ke,At,Xe,Te,Qe,Je,Ne,le,fe-X.A,le,fe,Dt),++z);lt+2<gt;lt+=2)Pe=Te,ke=Qe,At=Je,Xe=Ne,Qe+=y.Rc,Ne+=y.Rc,fe+=2*X.A,me(ye,(we+=2*y.fa)-y.fa,ye,we,Pe,ke,At,Xe,Te,Qe,Je,Ne,le,fe-X.A,le,fe,Dt);return we+=y.fa,y.j+gt<y.o?(s(_.ec,_.fc,ye,we,Dt),s(_.cc,_.dc,Te,Qe,jt),s(_.Mc,_.Nc,Je,Ne,jt),z--):1&gt||me(ye,we,null,null,Te,Qe,Je,Ne,Te,Qe,Je,Ne,le,fe+X.A,null,null,Dt),z}function cs(y,_,z){var X=y.F,le=[y.J];if(X!=null){var fe=y.U,me=_.ba.S,ye=me==Zc||me==mc;_=_.ba.f.RGBA;var we=[0],Te=y.ka;we[0]=y.T,y.Kb&&(Te==0?--we[0]:(--Te,le[0]-=y.width),y.j+y.ka+y.T==y.o&&(we[0]=y.o-y.j-Te));var Qe=_.eb;Te=_.fb+Te*_.A,y=fc(X,le[0],y.width,fe,we,Qe,Te+(ye?0:3),_.A),e(z==we),y&&Ct(me)&&uA(Qe,Te,ye,fe,we,_.A)}return 0}function js(y){var _=y.ma,z=_.ba.S,X=11>z,le=z==hi||z==Co||z==Zc||z==Kl||z==12||Ct(z);if(_.memory=null,_.Ib=null,_.Jb=null,_.Nd=null,!Br(_.Oa,y,le?11:12))return 0;if(le&&Ct(z)&&qn(),y.da)alert("todo:use_scaling");else{if(X){if(_.Ib=qt,y.Kb){if(z=y.U+1>>1,_.memory=o(y.U+2*z),_.memory==null)return 0;_.ec=_.memory,_.fc=0,_.cc=_.ec,_.dc=_.fc+y.U,_.Mc=_.cc,_.Nc=_.dc+z,_.Ib=on,qn()}}else alert("todo:EmitYUV");le&&(_.Jb=cs,X&&tt())}if(X&&!xA){for(y=0;256>y;++y)Za[y]=89858*(y-128)+gc>>Io,Nm[y]=-22014*(y-128)+gc,Af[y]=-45773*(y-128),zu[y]=113618*(y-128)+gc>>Io;for(y=wl;y<vA;++y)_=76283*(y-16)+gc>>Io,Em[y-wl]=jr(_,255),Tm[y-wl]=jr(_+8>>4,15);xA=1}return 1}function cn(y){var _=y.ma,z=y.U,X=y.T;return e(!(1&y.ka)),0>=z||0>=X?0:(z=_.Ib(y,_),_.Jb!=null&&_.Jb(y,_,z),_.Dc+=z,1)}function ri(y){y.ma.memory=null}function Ua(y,_,z,X){return ne(y,8)!=47?0:(_[0]=ne(y,14)+1,z[0]=ne(y,14)+1,X[0]=ne(y,1),ne(y,3)!=0?0:!y.h)}function ua(y,_){if(4>y)return y+1;var z=y-2>>1;return(2+(1&y)<<z)+ne(_,z)+1}function $r(y,_){return 120<_?_-120:1<=(z=((z=No[_-1])>>4)*y+(8-(15&z)))?z:1;var z}function ln(y,_,z){var X=ae(z),le=y[_+=255&X].g-8;return 0<le&&(Ae(z,z.u+8),X=ae(z),_+=y[_].value,_+=X&(1<<le)-1),Ae(z,z.u+y[_].g),y[_].value}function Le(y,_,z){return z.g+=y.g,z.value+=y.value<<_>>>0,e(8>=z.g),y.g}function Rt(y,_,z){var X=y.xc;return e((_=X==0?0:y.vc[y.md*(z>>X)+(_>>X)])<y.Wb),y.Ya[_]}function Vt(y,_,z,X){var le=y.ab,fe=y.c*_,me=y.C;_=me+_;var ye=z,we=X;for(X=y.Ta,z=y.Ua;0<le--;){var Te=y.gc[le],Qe=me,Je=_,Ne=ye,Pe=we,ke=(we=X,ye=z,Te.Ea);switch(e(Qe<Je),e(Je<=Te.nc),Te.hc){case 2:Jr(Ne,Pe,(Je-Qe)*ke,we,ye);break;case 0:var At=Qe,Xe=Je,lt=we,gt=ye,Dt=(pn=Te).Ea;At==0&&(Ml(Ne,Pe,null,null,1,lt,gt),Nn(Ne,Pe+1,0,0,Dt-1,lt,gt+1),Pe+=Dt,gt+=Dt,++At);for(var jt=1<<pn.b,wn=jt-1,un=qe(Dt,pn.b),ts=pn.K,pn=pn.w+(At>>pn.b)*un;At<Xe;){var bs=ts,Sr=pn,is=1;for(LA(Ne,Pe,lt,gt-Dt,1,lt,gt);is<Dt;){var at=(is&~wn)+jt;at>Dt&&(at=Dt),(0,ci[bs[Sr++]>>8&15])(Ne,Pe+ +is,lt,gt+is-Dt,at-is,lt,gt+is),is=at}Pe+=Dt,gt+=Dt,++At&wn||(pn+=un)}Je!=Te.nc&&s(we,ye-ke,we,ye+(Je-Qe-1)*ke,ke);break;case 1:for(ke=Ne,Xe=Pe,Dt=(Ne=Te.Ea)-(gt=Ne&~(lt=(Pe=1<<Te.b)-1)),At=qe(Ne,Te.b),jt=Te.K,Te=Te.w+(Qe>>Te.b)*At;Qe<Je;){for(wn=jt,un=Te,ts=new Qt,pn=Xe+gt,bs=Xe+Ne;Xe<pn;)St(wn[un++],ts),QA(ts,ke,Xe,Pe,we,ye),Xe+=Pe,ye+=Pe;Xe<bs&&(St(wn[un++],ts),QA(ts,ke,Xe,Dt,we,ye),Xe+=Dt,ye+=Dt),++Qe&lt||(Te+=At)}break;case 3:if(Ne==we&&Pe==ye&&0<Te.b){for(Xe=we,Ne=ke=ye+(Je-Qe)*ke-(gt=(Je-Qe)*qe(Te.Ea,Te.b)),Pe=we,lt=ye,At=[],gt=(Dt=gt)-1;0<=gt;--gt)At[gt]=Pe[lt+gt];for(gt=Dt-1;0<=gt;--gt)Xe[Ne+gt]=At[gt];Ii(Te,Qe,Je,we,ke,we,ye)}else Ii(Te,Qe,Je,Ne,Pe,we,ye)}ye=X,we=z}we!=z&&s(X,z,ye,we,fe)}function Ft(y,_){var z=y.V,X=y.Ba+y.c*y.C,le=_-y.C;if(e(_<=y.l.o),e(16>=le),0<le){var fe=y.l,me=y.Ta,ye=y.Ua,we=fe.width;if(Vt(y,le,z,X),le=ye=[ye],e((z=y.C)<(X=_)),e(fe.v<fe.va),X>fe.o&&(X=fe.o),z<fe.j){var Te=fe.j-z;z=fe.j,le[0]+=Te*we}if(z>=X?z=0:(le[0]+=4*fe.v,fe.ka=z-fe.j,fe.U=fe.va-fe.v,fe.T=X-z,z=1),z){if(ye=ye[0],11>(z=y.ca).S){var Qe=z.f.RGBA,Je=(X=z.S,le=fe.U,fe=fe.T,Te=Qe.eb,Qe.A),Ne=fe;for(Qe=Qe.fb+y.Ma*Qe.A;0<Ne--;){var Pe=me,ke=ye,At=le,Xe=Te,lt=Qe;switch(X){case Pu:OA(Pe,ke,At,Xe,lt);break;case hi:tl(Pe,ke,At,Xe,lt);break;case eu:tl(Pe,ke,At,Xe,lt),uA(Xe,lt,0,At,1,0);break;case Vl:nl(Pe,ke,At,Xe,lt);break;case Co:ft(Pe,ke,At,Xe,lt,1);break;case ku:ft(Pe,ke,At,Xe,lt,1),uA(Xe,lt,0,At,1,0);break;case Zc:ft(Pe,ke,At,Xe,lt,0);break;case mc:ft(Pe,ke,At,Xe,lt,0),uA(Xe,lt,1,At,1,0);break;case Kl:pl(Pe,ke,At,Xe,lt);break;case MA:pl(Pe,ke,At,Xe,lt),eo(Xe,lt,At,1,0);break;case dA:gl(Pe,ke,At,Xe,lt);break;default:e(0)}ye+=we,Qe+=Je}y.Ma+=fe}else alert("todo:EmitRescaledRowsYUVA");e(y.Ma<=z.height)}}y.C=_,e(y.C<=y.i)}function Yt(y){var _;if(0<y.ua)return 0;for(_=0;_<y.Wb;++_){var z=y.Ya[_].G,X=y.Ya[_].H;if(0<z[1][X[1]+0].g||0<z[2][X[2]+0].g||0<z[3][X[3]+0].g)return 0}return 1}function Ut(y,_,z,X,le,fe){if(y.Z!=0){var me=y.qd,ye=y.rd;for(e(yl[y.Z]!=null);_<z;++_)yl[y.Z](me,ye,X,le,X,le,fe),me=X,ye=le,le+=fe;y.qd=me,y.rd=ye}}function vn(y,_){var z=y.l.ma,X=z.Z==0||z.Z==1?y.l.j:y.C;if(X=y.C<X?X:y.C,e(_<=y.l.o),_>X){var le=y.l.width,fe=z.ca,me=z.tb+le*X,ye=y.V,we=y.Ba+y.c*X,Te=y.gc;e(y.ab==1),e(Te[0].hc==3),Wa(Te[0],X,_,ye,we,fe,me),Ut(z,X,_,fe,me,le)}y.C=y.Ma=_}function Sn(y,_,z,X,le,fe,me){var ye=y.$/X,we=y.$%X,Te=y.m,Qe=y.s,Je=z+y.$,Ne=Je;le=z+X*le;var Pe=z+X*fe,ke=280+Qe.ua,At=y.Pb?ye:16777216,Xe=0<Qe.ua?Qe.Wa:null,lt=Qe.wc,gt=Je<Pe?Rt(Qe,we,ye):null;e(y.C<fe),e(Pe<=le);var Dt=!1;e:for(;;){for(;Dt||Je<Pe;){var jt=0;if(ye>=At){var wn=Je-z;e((At=y).Pb),At.wd=At.m,At.xd=wn,0<At.s.ua&&rt(At.s.Wa,At.s.vb),At=ye+fA}if(we&lt||(gt=Rt(Qe,we,ye)),e(gt!=null),gt.Qb&&(_[Je]=gt.qb,Dt=!0),!Dt)if(pe(Te),gt.jc){jt=Te,wn=_;var un=Je,ts=gt.pd[ae(jt)&Bo-1];e(gt.jc),256>ts.g?(Ae(jt,jt.u+ts.g),wn[un]=ts.value,jt=0):(Ae(jt,jt.u+ts.g-256),e(256<=ts.value),jt=ts.value),jt==0&&(Dt=!0)}else jt=ln(gt.G[0],gt.H[0],Te);if(Te.h)break;if(Dt||256>jt){if(!Dt)if(gt.nd)_[Je]=(gt.qb|jt<<8)>>>0;else{if(pe(Te),Dt=ln(gt.G[1],gt.H[1],Te),pe(Te),wn=ln(gt.G[2],gt.H[2],Te),un=ln(gt.G[3],gt.H[3],Te),Te.h)break;_[Je]=(un<<24|Dt<<16|jt<<8|wn)>>>0}if(Dt=!1,++Je,++we>=X&&(we=0,++ye,me!=null&&ye<=fe&&!(ye%16)&&me(y,ye),Xe!=null))for(;Ne<Je;)jt=_[Ne++],Xe.X[(506832829*jt&4294967295)>>>Xe.Mb]=jt}else if(280>jt){if(jt=ua(jt-256,Te),wn=ln(gt.G[4],gt.H[4],Te),pe(Te),wn=$r(X,wn=ua(wn,Te)),Te.h)break;if(Je-z<wn||le-Je<jt)break e;for(un=0;un<jt;++un)_[Je+un]=_[Je+un-wn];for(Je+=jt,we+=jt;we>=X;)we-=X,++ye,me!=null&&ye<=fe&&!(ye%16)&&me(y,ye);if(e(Je<=le),we&lt&&(gt=Rt(Qe,we,ye)),Xe!=null)for(;Ne<Je;)jt=_[Ne++],Xe.X[(506832829*jt&4294967295)>>>Xe.Mb]=jt}else{if(!(jt<ke))break e;for(Dt=jt-280,e(Xe!=null);Ne<Je;)jt=_[Ne++],Xe.X[(506832829*jt&4294967295)>>>Xe.Mb]=jt;jt=Je,e(!(Dt>>>(wn=Xe).Xa)),_[jt]=wn.X[Dt],Dt=!0}Dt||e(Te.h==ce(Te))}if(y.Pb&&Te.h&&Je<le)e(y.m.h),y.a=5,y.m=y.wd,y.$=y.xd,0<y.s.ua&&rt(y.s.vb,y.s.Wa);else{if(Te.h)break e;me!=null&&me(y,ye>fe?fe:ye),y.a=0,y.$=Je-z}return 1}return y.a=3,0}function On(y){e(y!=null),y.vc=null,y.yc=null,y.Ya=null;var _=y.Wa;_!=null&&(_.X=null),y.vb=null,e(y!=null)}function dr(){var y=new Mn;return y==null?null:(y.a=0,y.xb=sh,Lt("Predictor","VP8LPredictors"),Lt("Predictor","VP8LPredictors_C"),Lt("PredictorAdd","VP8LPredictorsAdd"),Lt("PredictorAdd","VP8LPredictorsAdd_C"),Jr=xt,QA=$t,OA=Rn,tl=Ke,pl=yt,gl=ze,nl=ot,R.VP8LMapColor32b=Ya,R.VP8LMapColor8b=Es,y)}function Kn(y,_,z,X,le){var fe=1,me=[y],ye=[_],we=X.m,Te=X.s,Qe=null,Je=0;e:for(;;){if(z)for(;fe&&ne(we,1);){var Ne=me,Pe=ye,ke=X,At=1,Xe=ke.m,lt=ke.gc[ke.ab],gt=ne(Xe,2);if(ke.Oc&1<<gt)fe=0;else{switch(ke.Oc|=1<<gt,lt.hc=gt,lt.Ea=Ne[0],lt.nc=Pe[0],lt.K=[null],++ke.ab,e(4>=ke.ab),gt){case 0:case 1:lt.b=ne(Xe,3)+2,At=Kn(qe(lt.Ea,lt.b),qe(lt.nc,lt.b),0,ke,lt.K),lt.K=lt.K[0];break;case 3:var Dt,jt=ne(Xe,8)+1,wn=16<jt?0:4<jt?1:2<jt?2:3;if(Ne[0]=qe(lt.Ea,wn),lt.b=wn,Dt=At=Kn(jt,1,0,ke,lt.K)){var un,ts=jt,pn=lt,bs=1<<(8>>pn.b),Sr=o(bs);if(Sr==null)Dt=0;else{var is=pn.K[0],at=pn.w;for(Sr[0]=pn.K[0][0],un=1;un<1*ts;++un)Sr[un]=We(is[at+un],Sr[un-1]);for(;un<4*bs;++un)Sr[un]=0;pn.K[0]=null,pn.K[0]=Sr,Dt=1}}At=Dt;break;case 2:break;default:e(0)}fe=At}}if(me=me[0],ye=ye[0],fe&&ne(we,1)&&!(fe=1<=(Je=ne(we,4))&&11>=Je)){X.a=3;break e}var Xt;if(Xt=fe)t:{var Pr,zn,Yn,rr=X,ma=me,ia=ye,ar=Je,pa=z,fi=rr.m,ga=rr.s,as=[null],Ts=1,Nr=0,Ws=Eo[ar];n:for(;;){if(pa&&ne(fi,1)){var va=ne(fi,3)+2,kr=qe(ma,va),Is=qe(ia,va),oa=kr*Is;if(!Kn(kr,Is,0,rr,as))break n;for(as=as[0],ga.xc=va,Pr=0;Pr<oa;++Pr){var ir=as[Pr]>>8&65535;as[Pr]=ir,ir>=Ts&&(Ts=ir+1)}}if(fi.h)break n;for(zn=0;5>zn;++zn){var xa=HA[zn];!zn&&0<ar&&(xa+=1<<ar),Nr<xa&&(Nr=xa)}var ya=c(Ts*Ws,G),fr=Ts,Ds=c(fr,ge);if(Ds==null)var mi=null;else e(65536>=fr),mi=Ds;var Zr=o(Nr);if(mi==null||Zr==null||ya==null){rr.a=1;break n}var Ln=ya;for(Pr=Yn=0;Pr<Ts;++Pr){var Hn=mi[Pr],Ms=Hn.G,zi=Hn.H,so=0,Ri=1,Mr=0;for(zn=0;5>zn;++zn){xa=HA[zn],Ms[zn]=Ln,zi[zn]=Yn,!zn&&0<ar&&(xa+=1<<ar);r:{var yA,jl=xa,yc=rr,mr=Zr,$u=Ln,rh=Yn,su=0,al=yc.m,ah=ne(al,1);if(a(mr,0,0,jl),ah){var Yu=ne(al,1)+1,Wu=ne(al,1),ru=ne(al,Wu==0?1:8);mr[ru]=1,Yu==2&&(mr[ru=ne(al,8)]=1);var Ea=1}else{var Rr=o(19),au=ne(al,4)+4;if(19<au){yc.a=3;var bA=0;break r}for(yA=0;yA<au;++yA)Rr[hA[yA]]=ne(al,3);var bc=void 0,ka=void 0,_o=yc,Xu=Rr,wc=jl,Ju=mr,qu=0,Gl=_o.m,ih=8,oh=c(128,G);s:for(;H(oh,0,7,Xu,19);){if(ne(Gl,1)){var cf=2+2*ne(Gl,3);if((bc=2+ne(Gl,cf))>wc)break s}else bc=wc;for(ka=0;ka<wc&&bc--;){pe(Gl);var lh=oh[0+(127&ae(Gl))];Ae(Gl,Gl.u+lh.g);var $l=lh.value;if(16>$l)Ju[ka++]=$l,$l!=0&&(ih=$l);else{var uf=$l==16,Zu=$l-16,Ah=pc[Zu],Ta=ne(Gl,So[Zu])+Ah;if(ka+Ta>wc)break s;for(var jc=uf?ih:0;0<Ta--;)Ju[ka++]=jc}}qu=1;break s}qu||(_o.a=3),Ea=qu}(Ea=Ea&&!al.h)&&(su=H($u,rh,8,mr,jl)),Ea&&su!=0?bA=su:(yc.a=3,bA=0)}if(bA==0)break n;if(Ri&&Mu[zn]==1&&(Ri=Ln[Yn].g==0),so+=Ln[Yn].g,Yn+=bA,3>=zn){var KA,ed=Zr[0];for(KA=1;KA<xa;++KA)Zr[KA]>ed&&(ed=Zr[KA]);Mr+=ed}}if(Hn.nd=Ri,Hn.Qb=0,Ri&&(Hn.qb=(Ms[3][zi[3]+0].value<<24|Ms[1][zi[1]+0].value<<16|Ms[2][zi[2]+0].value)>>>0,so==0&&256>Ms[0][zi[0]+0].value&&(Hn.Qb=1,Hn.qb+=Ms[0][zi[0]+0].value<<8)),Hn.jc=!Hn.Qb&&6>Mr,Hn.jc){var Bc,Fo=Hn;for(Bc=0;Bc<Bo;++Bc){var Yl=Bc,Wl=Fo.pd[Yl],td=Fo.G[0][Fo.H[0]+Yl];256<=td.value?(Wl.g=td.g+256,Wl.value=td.value):(Wl.g=0,Wl.value=0,Yl>>=Le(td,8,Wl),Yl>>=Le(Fo.G[1][Fo.H[1]+Yl],16,Wl),Yl>>=Le(Fo.G[2][Fo.H[2]+Yl],0,Wl),Le(Fo.G[3][Fo.H[3]+Yl],24,Wl))}}}ga.vc=as,ga.Wb=Ts,ga.Ya=mi,ga.yc=ya,Xt=1;break t}Xt=0}if(!(fe=Xt)){X.a=3;break e}if(0<Je){if(Te.ua=1<<Je,!de(Te.Wa,Je)){X.a=1,fe=0;break e}}else Te.ua=0;var nd=X,zA=me,df=ye,Cc=nd.s,Sc=Cc.xc;if(nd.c=zA,nd.i=df,Cc.md=qe(zA,Sc),Cc.wc=Sc==0?-1:(1<<Sc)-1,z){X.xb=mA;break e}if((Qe=o(me*ye))==null){X.a=1,fe=0;break e}fe=(fe=Sn(X,Qe,0,me,ye,ye,null))&&!we.h;break e}return fe?(le!=null?le[0]=Qe:(e(Qe==null),e(z)),X.$=0,z||On(Te)):On(Te),fe}function In(y,_){var z=y.c*y.i,X=z+_+16*_;return e(y.c<=_),y.V=o(X),y.V==null?(y.Ta=null,y.Ua=0,y.a=1,0):(y.Ta=y.V,y.Ua=y.Ba+z+_,1)}function Us(y,_){var z=y.C,X=_-z,le=y.V,fe=y.Ba+y.c*z;for(e(_<=y.l.o);0<X;){var me=16<X?16:X,ye=y.l.ma,we=y.l.width,Te=we*me,Qe=ye.ca,Je=ye.tb+we*z,Ne=y.Ta,Pe=y.Ua;Vt(y,me,le,fe),to(Ne,Pe,Qe,Je,Te),Ut(ye,z,z+me,Qe,Je,we),X-=me,le+=me*y.c,z+=me}e(z==_),y.C=y.Ma=_}function Ss(){this.ub=this.yd=this.td=this.Rb=0}function lr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function sr(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function Js(){this.Yb=(function(){var y=[];return(function _(z,X,le){for(var fe=le[X],me=0;me<fe&&(z.push(le.length>X+1?[]:0),!(le.length<X+1));me++)_(z[me],X+1,le)})(y,0,[3,11]),y})()}function zs(){this.jb=o(3),this.Wc=h([4,8],Js),this.Xc=h([4,17],Js)}function Ga(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Yr(){this.ld=this.La=this.dd=this.tc=0}function da(){this.Na=this.la=0}function ai(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ci(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ul(){this.uc=this.M=this.Nb=0,this.wa=Array(new Yr),this.Y=0,this.ya=Array(new Ci),this.aa=0,this.l=new na}function Yo(){this.y=o(16),this.f=o(8),this.ea=o(8)}function po(){this.cb=this.a=0,this.sc="",this.m=new V,this.Od=new Ss,this.Kc=new lr,this.ed=new Ga,this.Qa=new sr,this.Ic=this.$c=this.Aa=0,this.D=new ul,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=c(8,V),this.ia=0,this.pb=c(4,ai),this.Pa=new zs,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Yo),this.Hd=0,this.rb=Array(new da),this.sb=0,this.wa=Array(new Yr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ci),this.L=this.aa=0,this.gd=h([4,2],Yr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function jr(y,_){return 0>y?0:y>_?_:y}function na(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function vr(){var y=new po;return y!=null&&(y.a=0,y.sc="OK",y.cb=0,y.Xb=0,no||(no=mn)),y}function ls(y,_,z){return y.a==0&&(y.a=_,y.sc=z,y.cb=0),0}function Ra(y,_,z){return 3<=z&&y[_+0]==157&&y[_+1]==1&&y[_+2]==42}function Cn(y,_){if(y==null)return 0;if(y.a=0,y.sc="OK",_==null)return ls(y,2,"null VP8Io passed to VP8GetHeaders()");var z=_.data,X=_.w,le=_.ha;if(4>le)return ls(y,7,"Truncated header.");var fe=z[X+0]|z[X+1]<<8|z[X+2]<<16,me=y.Od;if(me.Rb=!(1&fe),me.td=fe>>1&7,me.yd=fe>>4&1,me.ub=fe>>5,3<me.td)return ls(y,3,"Incorrect keyframe parameters.");if(!me.yd)return ls(y,4,"Frame not displayable.");X+=3,le-=3;var ye=y.Kc;if(me.Rb){if(7>le)return ls(y,7,"cannot parse picture header");if(!Ra(z,X,le))return ls(y,3,"Bad code word");ye.c=16383&(z[X+4]<<8|z[X+3]),ye.Td=z[X+4]>>6,ye.i=16383&(z[X+6]<<8|z[X+5]),ye.Ud=z[X+6]>>6,X+=7,le-=7,y.za=ye.c+15>>4,y.Ub=ye.i+15>>4,_.width=ye.c,_.height=ye.i,_.Da=0,_.j=0,_.v=0,_.va=_.width,_.o=_.height,_.da=0,_.ib=_.width,_.hb=_.height,_.U=_.width,_.T=_.height,a((fe=y.Pa).jb,0,255,fe.jb.length),e((fe=y.Qa)!=null),fe.Cb=0,fe.Bb=0,fe.Fb=1,a(fe.Zb,0,0,fe.Zb.length),a(fe.Lb,0,0,fe.Lb)}if(me.ub>le)return ls(y,7,"bad partition length");J(fe=y.m,z,X,me.ub),X+=me.ub,le-=me.ub,me.Rb&&(ye.Ld=xe(fe),ye.Kd=xe(fe)),ye=y.Qa;var we,Te=y.Pa;if(e(fe!=null),e(ye!=null),ye.Cb=xe(fe),ye.Cb){if(ye.Bb=xe(fe),xe(fe)){for(ye.Fb=xe(fe),we=0;4>we;++we)ye.Zb[we]=xe(fe)?se(fe,7):0;for(we=0;4>we;++we)ye.Lb[we]=xe(fe)?se(fe,6):0}if(ye.Bb)for(we=0;3>we;++we)Te.jb[we]=xe(fe)?re(fe,8):255}else ye.Bb=0;if(fe.Ka)return ls(y,3,"cannot parse segment header");if((ye=y.ed).zd=xe(fe),ye.Tb=re(fe,6),ye.wb=re(fe,3),ye.Pc=xe(fe),ye.Pc&&xe(fe)){for(Te=0;4>Te;++Te)xe(fe)&&(ye.vd[Te]=se(fe,6));for(Te=0;4>Te;++Te)xe(fe)&&(ye.od[Te]=se(fe,6))}if(y.L=ye.Tb==0?0:ye.zd?1:2,fe.Ka)return ls(y,3,"cannot parse filter header");var Qe=le;if(le=we=X,X=we+Qe,ye=Qe,y.Xb=(1<<re(y.m,2))-1,Qe<3*(Te=y.Xb))z=7;else{for(we+=3*Te,ye-=3*Te,Qe=0;Qe<Te;++Qe){var Je=z[le+0]|z[le+1]<<8|z[le+2]<<16;Je>ye&&(Je=ye),J(y.Jc[+Qe],z,we,Je),we+=Je,ye-=Je,le+=3}J(y.Jc[+Te],z,we,ye),z=we<X?0:5}if(z!=0)return ls(y,z,"cannot parse partitions");for(z=re(we=y.m,7),le=xe(we)?se(we,4):0,X=xe(we)?se(we,4):0,ye=xe(we)?se(we,4):0,Te=xe(we)?se(we,4):0,we=xe(we)?se(we,4):0,Qe=y.Qa,Je=0;4>Je;++Je){if(Qe.Cb){var Ne=Qe.Zb[Je];Qe.Fb||(Ne+=z)}else{if(0<Je){y.pb[Je]=y.pb[0];continue}Ne=z}var Pe=y.pb[Je];Pe.Sc[0]=To[jr(Ne+le,127)],Pe.Sc[1]=Fi[jr(Ne+0,127)],Pe.Eb[0]=2*To[jr(Ne+X,127)],Pe.Eb[1]=101581*Fi[jr(Ne+ye,127)]>>16,8>Pe.Eb[1]&&(Pe.Eb[1]=8),Pe.Qc[0]=To[jr(Ne+Te,117)],Pe.Qc[1]=Fi[jr(Ne+we,127)],Pe.lc=Ne+we}if(!me.Rb)return ls(y,4,"Not a key frame.");for(xe(fe),me=y.Pa,z=0;4>z;++z){for(le=0;8>le;++le)for(X=0;3>X;++X)for(ye=0;11>ye;++ye)Te=Ie(fe,Cr[z][le][X][ye])?re(fe,8):lf[z][le][X][ye],me.Wc[z][le].Yb[X][ye]=Te;for(le=0;17>le;++le)me.Xc[z][le]=me.Wc[z][Bs[le]]}return y.kc=xe(fe),y.kc&&(y.Bd=re(fe,8)),y.cb=1}function mn(y,_,z,X,le,fe,me){var ye=_[le].Yb[z];for(z=0;16>le;++le){if(!Ie(y,ye[z+0]))return le;for(;!Ie(y,ye[z+1]);)if(ye=_[++le].Yb[0],z=0,le==16)return 16;var we=_[le+1].Yb;if(Ie(y,ye[z+2])){var Te=y,Qe=0;if(Ie(Te,(Ne=ye)[(Je=z)+3]))if(Ie(Te,Ne[Je+6])){for(ye=0,Je=2*(Qe=Ie(Te,Ne[Je+8]))+(Ne=Ie(Te,Ne[Je+9+Qe])),Qe=0,Ne=of[Je];Ne[ye];++ye)Qe+=Qe+Ie(Te,Ne[ye]);Qe+=3+(8<<Je)}else Ie(Te,Ne[Je+7])?(Qe=7+2*Ie(Te,165),Qe+=Ie(Te,145)):Qe=5+Ie(Te,159);else Qe=Ie(Te,Ne[Je+4])?3+Ie(Te,Ne[Je+5]):2;ye=we[2]}else Qe=1,ye=we[1];we=me+nh[le],0>(Te=y).b&&Se(Te);var Je,Ne=Te.b,Pe=(Je=Te.Ca>>1)-(Te.I>>Ne)>>31;--Te.b,Te.Ca+=Pe,Te.Ca|=1,Te.I-=(Je+1&Pe)<<Ne,fe[we]=((Qe^Pe)-Pe)*X[(0<le)+0]}return 16}function Ns(y){var _=y.rb[y.sb-1];_.la=0,_.Na=0,a(y.zc,0,0,y.zc.length),y.ja=0}function Dn(y,_,z,X,le){le=y[_+z+32*X]+(le>>3),y[_+z+32*X]=-256&le?0>le?0:255:le}function Pn(y,_,z,X,le,fe){Dn(y,_,0,z,X+le),Dn(y,_,1,z,X+fe),Dn(y,_,2,z,X-fe),Dn(y,_,3,z,X-le)}function Wt(y){return(20091*y>>16)+y}function qs(y,_,z,X){var le,fe=0,me=o(16);for(le=0;4>le;++le){var ye=y[_+0]+y[_+8],we=y[_+0]-y[_+8],Te=(35468*y[_+4]>>16)-Wt(y[_+12]),Qe=Wt(y[_+4])+(35468*y[_+12]>>16);me[fe+0]=ye+Qe,me[fe+1]=we+Te,me[fe+2]=we-Te,me[fe+3]=ye-Qe,fe+=4,_++}for(le=fe=0;4>le;++le)ye=(y=me[fe+0]+4)+me[fe+8],we=y-me[fe+8],Te=(35468*me[fe+4]>>16)-Wt(me[fe+12]),Dn(z,X,0,0,ye+(Qe=Wt(me[fe+4])+(35468*me[fe+12]>>16))),Dn(z,X,1,0,we+Te),Dn(z,X,2,0,we-Te),Dn(z,X,3,0,ye-Qe),fe++,X+=32}function Si(y,_,z,X){var le=y[_+0]+4,fe=35468*y[_+4]>>16,me=Wt(y[_+4]),ye=35468*y[_+1]>>16;Pn(z,X,0,le+me,y=Wt(y[_+1]),ye),Pn(z,X,1,le+fe,y,ye),Pn(z,X,2,le-fe,y,ye),Pn(z,X,3,le-me,y,ye)}function Yi(y,_,z,X,le){qs(y,_,z,X),le&&qs(y,_+16,z,X+4)}function Or(y,_,z,X){Hl(y,_+0,z,X,1),Hl(y,_+32,z,X+128,1)}function Wo(y,_,z,X){var le;for(y=y[_+0]+4,le=0;4>le;++le)for(_=0;4>_;++_)Dn(z,X,_,le,y)}function Ur(y,_,z,X){y[_+0]&&ks(y,_+0,z,X),y[_+16]&&ks(y,_+16,z,X+4),y[_+32]&&ks(y,_+32,z,X+128),y[_+48]&&ks(y,_+48,z,X+128+4)}function Qs(y,_,z,X){var le,fe=o(16);for(le=0;4>le;++le){var me=y[_+0+le]+y[_+12+le],ye=y[_+4+le]+y[_+8+le],we=y[_+4+le]-y[_+8+le],Te=y[_+0+le]-y[_+12+le];fe[0+le]=me+ye,fe[8+le]=me-ye,fe[4+le]=Te+we,fe[12+le]=Te-we}for(le=0;4>le;++le)me=(y=fe[0+4*le]+3)+fe[3+4*le],ye=fe[1+4*le]+fe[2+4*le],we=fe[1+4*le]-fe[2+4*le],Te=y-fe[3+4*le],z[X+0]=me+ye>>3,z[X+16]=Te+we>>3,z[X+32]=me-ye>>3,z[X+48]=Te-we>>3,X+=64}function Mi(y,_,z){var X,le=_-32,fe=di,me=255-y[le-1];for(X=0;X<z;++X){var ye,we=fe,Te=me+y[_-1];for(ye=0;ye<z;++ye)y[_+ye]=we[Te+y[le+ye]];_+=32}}function go(y,_){Mi(y,_,4)}function Xo(y,_){Mi(y,_,8)}function iA(y,_){Mi(y,_,16)}function Ol(y,_){var z;for(z=0;16>z;++z)s(y,_+32*z,y,_-32,16)}function Wi(y,_){var z;for(z=16;0<z;--z)a(y,_,y[_-1],16),_+=32}function Wr(y,_,z){var X;for(X=0;16>X;++X)a(_,z+32*X,y,16)}function Xi(y,_){var z,X=16;for(z=0;16>z;++z)X+=y[_-1+32*z]+y[_+z-32];Wr(X>>5,y,_)}function Jo(y,_){var z,X=8;for(z=0;16>z;++z)X+=y[_-1+32*z];Wr(X>>4,y,_)}function ii(y,_){var z,X=8;for(z=0;16>z;++z)X+=y[_+z-32];Wr(X>>4,y,_)}function Hi(y,_){Wr(128,y,_)}function kn(y,_,z){return y+2*_+z+2>>2}function Pl(y,_){var z,X=_-32;for(X=new Uint8Array([kn(y[X-1],y[X+0],y[X+1]),kn(y[X+0],y[X+1],y[X+2]),kn(y[X+1],y[X+2],y[X+3]),kn(y[X+2],y[X+3],y[X+4])]),z=0;4>z;++z)s(y,_+32*z,X,0,X.length)}function oA(y,_){var z=y[_-1],X=y[_-1+32],le=y[_-1+64],fe=y[_-1+96];_e(y,_+0,16843009*kn(y[_-1-32],z,X)),_e(y,_+32,16843009*kn(z,X,le)),_e(y,_+64,16843009*kn(X,le,fe)),_e(y,_+96,16843009*kn(le,fe,fe))}function dl(y,_){var z,X=4;for(z=0;4>z;++z)X+=y[_+z-32]+y[_-1+32*z];for(X>>=3,z=0;4>z;++z)a(y,_+32*z,X,4)}function Sa(y,_){var z=y[_-1+0],X=y[_-1+32],le=y[_-1+64],fe=y[_-1-32],me=y[_+0-32],ye=y[_+1-32],we=y[_+2-32],Te=y[_+3-32];y[_+0+96]=kn(X,le,y[_-1+96]),y[_+1+96]=y[_+0+64]=kn(z,X,le),y[_+2+96]=y[_+1+64]=y[_+0+32]=kn(fe,z,X),y[_+3+96]=y[_+2+64]=y[_+1+32]=y[_+0+0]=kn(me,fe,z),y[_+3+64]=y[_+2+32]=y[_+1+0]=kn(ye,me,fe),y[_+3+32]=y[_+2+0]=kn(we,ye,me),y[_+3+0]=kn(Te,we,ye)}function ha(y,_){var z=y[_+1-32],X=y[_+2-32],le=y[_+3-32],fe=y[_+4-32],me=y[_+5-32],ye=y[_+6-32],we=y[_+7-32];y[_+0+0]=kn(y[_+0-32],z,X),y[_+1+0]=y[_+0+32]=kn(z,X,le),y[_+2+0]=y[_+1+32]=y[_+0+64]=kn(X,le,fe),y[_+3+0]=y[_+2+32]=y[_+1+64]=y[_+0+96]=kn(le,fe,me),y[_+3+32]=y[_+2+64]=y[_+1+96]=kn(fe,me,ye),y[_+3+64]=y[_+2+96]=kn(me,ye,we),y[_+3+96]=kn(ye,we,we)}function Da(y,_){var z=y[_-1+0],X=y[_-1+32],le=y[_-1+64],fe=y[_-1-32],me=y[_+0-32],ye=y[_+1-32],we=y[_+2-32],Te=y[_+3-32];y[_+0+0]=y[_+1+64]=fe+me+1>>1,y[_+1+0]=y[_+2+64]=me+ye+1>>1,y[_+2+0]=y[_+3+64]=ye+we+1>>1,y[_+3+0]=we+Te+1>>1,y[_+0+96]=kn(le,X,z),y[_+0+64]=kn(X,z,fe),y[_+0+32]=y[_+1+96]=kn(z,fe,me),y[_+1+32]=y[_+2+96]=kn(fe,me,ye),y[_+2+32]=y[_+3+96]=kn(me,ye,we),y[_+3+32]=kn(ye,we,Te)}function Gs(y,_){var z=y[_+0-32],X=y[_+1-32],le=y[_+2-32],fe=y[_+3-32],me=y[_+4-32],ye=y[_+5-32],we=y[_+6-32],Te=y[_+7-32];y[_+0+0]=z+X+1>>1,y[_+1+0]=y[_+0+64]=X+le+1>>1,y[_+2+0]=y[_+1+64]=le+fe+1>>1,y[_+3+0]=y[_+2+64]=fe+me+1>>1,y[_+0+32]=kn(z,X,le),y[_+1+32]=y[_+0+96]=kn(X,le,fe),y[_+2+32]=y[_+1+96]=kn(le,fe,me),y[_+3+32]=y[_+2+96]=kn(fe,me,ye),y[_+3+64]=kn(me,ye,we),y[_+3+96]=kn(ye,we,Te)}function oi(y,_){var z=y[_-1+0],X=y[_-1+32],le=y[_-1+64],fe=y[_-1+96];y[_+0+0]=z+X+1>>1,y[_+2+0]=y[_+0+32]=X+le+1>>1,y[_+2+32]=y[_+0+64]=le+fe+1>>1,y[_+1+0]=kn(z,X,le),y[_+3+0]=y[_+1+32]=kn(X,le,fe),y[_+3+32]=y[_+1+64]=kn(le,fe,fe),y[_+3+64]=y[_+2+64]=y[_+0+96]=y[_+1+96]=y[_+2+96]=y[_+3+96]=fe}function hl(y,_){var z=y[_-1+0],X=y[_-1+32],le=y[_-1+64],fe=y[_-1+96],me=y[_-1-32],ye=y[_+0-32],we=y[_+1-32],Te=y[_+2-32];y[_+0+0]=y[_+2+32]=z+me+1>>1,y[_+0+32]=y[_+2+64]=X+z+1>>1,y[_+0+64]=y[_+2+96]=le+X+1>>1,y[_+0+96]=fe+le+1>>1,y[_+3+0]=kn(ye,we,Te),y[_+2+0]=kn(me,ye,we),y[_+1+0]=y[_+3+32]=kn(z,me,ye),y[_+1+32]=y[_+3+64]=kn(X,z,me),y[_+1+64]=y[_+3+96]=kn(le,X,z),y[_+1+96]=kn(fe,le,X)}function Ji(y,_){var z;for(z=0;8>z;++z)s(y,_+32*z,y,_-32,8)}function RA(y,_){var z;for(z=0;8>z;++z)a(y,_,y[_-1],8),_+=32}function Ni(y,_,z){var X;for(X=0;8>X;++X)a(_,z+32*X,y,8)}function vo(y,_){var z,X=8;for(z=0;8>z;++z)X+=y[_+z-32]+y[_-1+32*z];Ni(X>>4,y,_)}function li(y,_){var z,X=4;for(z=0;8>z;++z)X+=y[_+z-32];Ni(X>>3,y,_)}function Xr(y,_){var z,X=4;for(z=0;8>z;++z)X+=y[_-1+32*z];Ni(X>>3,y,_)}function xo(y,_){Ni(128,y,_)}function La(y,_,z){var X=y[_-z],le=y[_+0],fe=3*(le-X)+xl[1020+y[_-2*z]-y[_+z]],me=qc[112+(fe+4>>3)];y[_-z]=di[255+X+qc[112+(fe+3>>3)]],y[_+0]=di[255+le-me]}function hr(y,_,z,X){var le=y[_+0],fe=y[_+z];return Xa[255+y[_-2*z]-y[_-z]]>X||Xa[255+fe-le]>X}function fl(y,_,z,X){return 4*Xa[255+y[_-z]-y[_+0]]+Xa[255+y[_-2*z]-y[_+z]]<=X}function $a(y,_,z,X,le){var fe=y[_-3*z],me=y[_-2*z],ye=y[_-z],we=y[_+0],Te=y[_+z],Qe=y[_+2*z],Je=y[_+3*z];return 4*Xa[255+ye-we]+Xa[255+me-Te]>X?0:Xa[255+y[_-4*z]-fe]<=le&&Xa[255+fe-me]<=le&&Xa[255+me-ye]<=le&&Xa[255+Je-Qe]<=le&&Xa[255+Qe-Te]<=le&&Xa[255+Te-we]<=le}function yo(y,_,z,X){var le=2*X+1;for(X=0;16>X;++X)fl(y,_+X,z,le)&&La(y,_+X,z)}function Vi(y,_,z,X){var le=2*X+1;for(X=0;16>X;++X)fl(y,_+X*z,1,le)&&La(y,_+X*z,1)}function kl(y,_,z,X){var le;for(le=3;0<le;--le)yo(y,_+=4*z,z,X)}function lA(y,_,z,X){var le;for(le=3;0<le;--le)Vi(y,_+=4,z,X)}function Qa(y,_,z,X,le,fe,me,ye){for(fe=2*fe+1;0<le--;){if($a(y,_,z,fe,me))if(hr(y,_,z,ye))La(y,_,z);else{var we=y,Te=_,Qe=z,Je=we[Te-2*Qe],Ne=we[Te-Qe],Pe=we[Te+0],ke=we[Te+Qe],At=we[Te+2*Qe],Xe=27*(gt=xl[1020+3*(Pe-Ne)+xl[1020+Je-ke]])+63>>7,lt=18*gt+63>>7,gt=9*gt+63>>7;we[Te-3*Qe]=di[255+we[Te-3*Qe]+gt],we[Te-2*Qe]=di[255+Je+lt],we[Te-Qe]=di[255+Ne+Xe],we[Te+0]=di[255+Pe-Xe],we[Te+Qe]=di[255+ke-lt],we[Te+2*Qe]=di[255+At-gt]}_+=X}}function Ei(y,_,z,X,le,fe,me,ye){for(fe=2*fe+1;0<le--;){if($a(y,_,z,fe,me))if(hr(y,_,z,ye))La(y,_,z);else{var we=y,Te=_,Qe=z,Je=we[Te-Qe],Ne=we[Te+0],Pe=we[Te+Qe],ke=qc[112+(4+(At=3*(Ne-Je))>>3)],At=qc[112+(At+3>>3)],Xe=ke+1>>1;we[Te-2*Qe]=di[255+we[Te-2*Qe]+Xe],we[Te-Qe]=di[255+Je+At],we[Te+0]=di[255+Ne-ke],we[Te+Qe]=di[255+Pe-Xe]}_+=X}}function AA(y,_,z,X,le,fe){Qa(y,_,z,1,16,X,le,fe)}function qi(y,_,z,X,le,fe){Qa(y,_,1,z,16,X,le,fe)}function Ti(y,_,z,X,le,fe){var me;for(me=3;0<me;--me)Ei(y,_+=4*z,z,1,16,X,le,fe)}function k(y,_,z,X,le,fe){var me;for(me=3;0<me;--me)Ei(y,_+=4,1,z,16,X,le,fe)}function oe(y,_,z,X,le,fe,me,ye){Qa(y,_,le,1,8,fe,me,ye),Qa(z,X,le,1,8,fe,me,ye)}function Ee(y,_,z,X,le,fe,me,ye){Qa(y,_,1,le,8,fe,me,ye),Qa(z,X,1,le,8,fe,me,ye)}function Ue(y,_,z,X,le,fe,me,ye){Ei(y,_+4*le,le,1,8,fe,me,ye),Ei(z,X+4*le,le,1,8,fe,me,ye)}function Ve(y,_,z,X,le,fe,me,ye){Ei(y,_+4,1,le,8,fe,me,ye),Ei(z,X+4,1,le,8,fe,me,ye)}function mt(){this.ba=new Tt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ot,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Nt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function hn(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function bn(){this.ua=0,this.Wa=new _t,this.vb=new _t,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ge,this.yc=new G}function Mn(){this.xb=this.a=0,this.l=new na,this.ca=new Tt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new W,this.Pb=0,this.wd=new W,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new bn,this.ab=0,this.gc=c(4,hn),this.Oc=0}function _n(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new na,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ys(y,_,z,X,le,fe,me){for(y=y==null?0:y[_+0],_=0;_<me;++_)le[fe+_]=y+z[X+_]&255,y=le[fe+_]}function xr(y,_,z,X,le,fe,me){var ye;if(y==null)ys(null,null,z,X,le,fe,me);else for(ye=0;ye<me;++ye)le[fe+ye]=y[_+ye]+z[X+ye]&255}function Ar(y,_,z,X,le,fe,me){if(y==null)ys(null,null,z,X,le,fe,me);else{var ye,we=y[_+0],Te=we,Qe=we;for(ye=0;ye<me;++ye)Te=Qe+(we=y[_+ye])-Te,Qe=z[X+ye]+(-256&Te?0>Te?0:255:Te)&255,Te=we,le[fe+ye]=Qe}}function w(y,_,z,X){var le=_.width,fe=_.o;if(e(y!=null&&_!=null),0>z||0>=X||z+X>fe)return null;if(!y.Cc){if(y.ga==null){var me;if(y.ga=new _n,(me=y.ga==null)||(me=_.width*_.o,e(y.Gb.length==0),y.Gb=o(me),y.Uc=0,y.Gb==null?me=0:(y.mb=y.Gb,y.nb=y.Uc,y.rc=null,me=1),me=!me),!me){me=y.ga;var ye=y.Fa,we=y.P,Te=y.qc,Qe=y.mb,Je=y.nb,Ne=we+1,Pe=Te-1,ke=me.l;if(e(ye!=null&&Qe!=null&&_!=null),yl[0]=null,yl[1]=ys,yl[2]=xr,yl[3]=Ar,me.ca=Qe,me.tb=Je,me.c=_.width,me.i=_.height,e(0<me.c&&0<me.i),1>=Te)_=0;else if(me.$a=3&ye[we+0],me.Z=ye[we+0]>>2&3,me.Lc=ye[we+0]>>4&3,we=ye[we+0]>>6&3,0>me.$a||1<me.$a||4<=me.Z||1<me.Lc||we)_=0;else if(ke.put=cn,ke.ac=js,ke.bc=ri,ke.ma=me,ke.width=_.width,ke.height=_.height,ke.Da=_.Da,ke.v=_.v,ke.va=_.va,ke.j=_.j,ke.o=_.o,me.$a)e:{e(me.$a==1),_=dr();t:for(;;){if(_==null){_=0;break e}if(e(me!=null),me.mc=_,_.c=me.c,_.i=me.i,_.l=me.l,_.l.ma=me,_.l.width=me.c,_.l.height=me.i,_.a=0,he(_.m,ye,Ne,Pe),!Kn(me.c,me.i,1,_,null)||(_.ab==1&&_.gc[0].hc==3&&Yt(_.s)?(me.ic=1,ye=_.c*_.i,_.Ta=null,_.Ua=0,_.V=o(ye),_.Ba=0,_.V==null?(_.a=1,_=0):_=1):(me.ic=0,_=In(_,me.c)),!_))break t;_=1;break e}me.mc=null,_=0}else _=Pe>=me.c*me.i;me=!_}if(me)return null;y.ga.Lc!=1?y.Ga=0:X=fe-z}e(y.ga!=null),e(z+X<=fe);e:{if(_=(ye=y.ga).c,fe=ye.l.o,ye.$a==0){if(Ne=y.rc,Pe=y.Vc,ke=y.Fa,we=y.P+1+z*_,Te=y.mb,Qe=y.nb+z*_,e(we<=y.P+y.qc),ye.Z!=0)for(e(yl[ye.Z]!=null),me=0;me<X;++me)yl[ye.Z](Ne,Pe,ke,we,Te,Qe,_),Ne=Te,Pe=Qe,Qe+=_,we+=_;else for(me=0;me<X;++me)s(Te,Qe,ke,we,_),Ne=Te,Pe=Qe,Qe+=_,we+=_;y.rc=Ne,y.Vc=Pe}else{if(e(ye.mc!=null),_=z+X,e((me=ye.mc)!=null),e(_<=me.i),me.C>=_)_=1;else if(ye.ic||tt(),ye.ic){ye=me.V,Ne=me.Ba,Pe=me.c;var At=me.i,Xe=(ke=1,we=me.$/Pe,Te=me.$%Pe,Qe=me.m,Je=me.s,me.$),lt=Pe*At,gt=Pe*_,Dt=Je.wc,jt=Xe<gt?Rt(Je,Te,we):null;e(Xe<=lt),e(_<=At),e(Yt(Je));t:for(;;){for(;!Qe.h&&Xe<gt;){if(Te&Dt||(jt=Rt(Je,Te,we)),e(jt!=null),pe(Qe),256>(At=ln(jt.G[0],jt.H[0],Qe)))ye[Ne+Xe]=At,++Xe,++Te>=Pe&&(Te=0,++we<=_&&!(we%16)&&vn(me,we));else{if(!(280>At)){ke=0;break t}At=ua(At-256,Qe);var wn,un=ln(jt.G[4],jt.H[4],Qe);if(pe(Qe),!(Xe>=(un=$r(Pe,un=ua(un,Qe)))&&lt-Xe>=At)){ke=0;break t}for(wn=0;wn<At;++wn)ye[Ne+Xe+wn]=ye[Ne+Xe+wn-un];for(Xe+=At,Te+=At;Te>=Pe;)Te-=Pe,++we<=_&&!(we%16)&&vn(me,we);Xe<gt&&Te&Dt&&(jt=Rt(Je,Te,we))}e(Qe.h==ce(Qe))}vn(me,we>_?_:we);break t}!ke||Qe.h&&Xe<lt?(ke=0,me.a=Qe.h?5:3):me.$=Xe,_=ke}else _=Sn(me,me.V,me.Ba,me.c,me.i,_,Us);if(!_){X=0;break e}}z+X>=fe&&(y.Cc=1),X=1}if(!X)return null;if(y.Cc&&((X=y.ga)!=null&&(X.mc=null),y.ga=null,0<y.Ga))return alert("todo:WebPDequantizeLevels"),null}return y.nb+z*le}function Y(y,_,z,X,le,fe){for(;0<le--;){var me,ye=y,we=_+(z?1:0),Te=y,Qe=_+(z?0:3);for(me=0;me<X;++me){var Je=Te[Qe+4*me];Je!=255&&(Je*=32897,ye[we+4*me+0]=ye[we+4*me+0]*Je>>23,ye[we+4*me+1]=ye[we+4*me+1]*Je>>23,ye[we+4*me+2]=ye[we+4*me+2]*Je>>23)}_+=fe}}function te(y,_,z,X,le){for(;0<X--;){var fe;for(fe=0;fe<z;++fe){var me=y[_+2*fe+0],ye=15&(Te=y[_+2*fe+1]),we=4369*ye,Te=(240&Te|Te>>4)*we>>16;y[_+2*fe+0]=(240&me|me>>4)*we>>16&240|(15&me|me<<4)*we>>16>>4&15,y[_+2*fe+1]=240&Te|ye}_+=le}}function be(y,_,z,X,le,fe,me,ye){var we,Te,Qe=255;for(Te=0;Te<le;++Te){for(we=0;we<X;++we){var Je=y[_+we];fe[me+4*we]=Je,Qe&=Je}_+=z,me+=ye}return Qe!=255}function $e(y,_,z,X,le){var fe;for(fe=0;fe<le;++fe)z[X+fe]=y[_+fe]>>8}function tt(){uA=Y,eo=te,fc=be,to=$e}function kt(y,_,z){R[y]=function(X,le,fe,me,ye,we,Te,Qe,Je,Ne,Pe,ke,At,Xe,lt,gt,Dt){var jt,wn=Dt-1>>1,un=ye[we+0]|Te[Qe+0]<<16,ts=Je[Ne+0]|Pe[ke+0]<<16;e(X!=null);var pn=3*un+ts+131074>>2;for(_(X[le+0],255&pn,pn>>16,At,Xe),fe!=null&&(pn=3*ts+un+131074>>2,_(fe[me+0],255&pn,pn>>16,lt,gt)),jt=1;jt<=wn;++jt){var bs=ye[we+jt]|Te[Qe+jt]<<16,Sr=Je[Ne+jt]|Pe[ke+jt]<<16,is=un+bs+ts+Sr+524296,at=is+2*(bs+ts)>>3;pn=at+un>>1,un=(is=is+2*(un+Sr)>>3)+bs>>1,_(X[le+2*jt-1],255&pn,pn>>16,At,Xe+(2*jt-1)*z),_(X[le+2*jt-0],255&un,un>>16,At,Xe+(2*jt-0)*z),fe!=null&&(pn=is+ts>>1,un=at+Sr>>1,_(fe[me+2*jt-1],255&pn,pn>>16,lt,gt+(2*jt-1)*z),_(fe[me+2*jt+0],255&un,un>>16,lt,gt+(2*jt+0)*z)),un=bs,ts=Sr}1&Dt||(pn=3*un+ts+131074>>2,_(X[le+Dt-1],255&pn,pn>>16,At,Xe+(Dt-1)*z),fe!=null&&(pn=3*ts+un+131074>>2,_(fe[me+Dt-1],255&pn,pn>>16,lt,gt+(Dt-1)*z)))}}function qn(){qa[Pu]=VA,qa[hi]=zl,qa[Vl]=tu,qa[Co]=Vu,qa[Zc]=pA,qa[Kl]=bl,qa[dA]=gA,qa[eu]=zl,qa[ku]=Vu,qa[mc]=pA,qa[MA]=bl}function yr(y){return y&-16384?0>y?0:255:y>>Ku}function us(y,_){return yr((19077*y>>8)+(26149*_>>8)-14234)}function $s(y,_,z){return yr((19077*y>>8)-(6419*_>>8)-(13320*z>>8)+8708)}function Na(y,_){return yr((19077*y>>8)+(33050*_>>8)-17685)}function sa(y,_,z,X,le){X[le+0]=us(y,z),X[le+1]=$s(y,_,z),X[le+2]=Na(y,_)}function Os(y,_,z,X,le){X[le+0]=Na(y,_),X[le+1]=$s(y,_,z),X[le+2]=us(y,z)}function rs(y,_,z,X,le){var fe=$s(y,_,z);_=fe<<3&224|Na(y,_)>>3,X[le+0]=248&us(y,z)|fe>>5,X[le+1]=_}function Zi(y,_,z,X,le){var fe=240&Na(y,_)|15;X[le+0]=240&us(y,z)|$s(y,_,z)>>4,X[le+1]=fe}function bo(y,_,z,X,le){X[le+0]=255,sa(y,_,z,X,le+1)}function qo(y,_,z,X,le){Os(y,_,z,X,le),X[le+3]=255}function fa(y,_,z,X,le){sa(y,_,z,X,le),X[le+3]=255}function Oa(y,_,z){R[y]=function(X,le,fe,me,ye,we,Te,Qe,Je){for(var Ne=Qe+(-2&Je)*z;Qe!=Ne;)_(X[le+0],fe[me+0],ye[we+0],Te,Qe),_(X[le+1],fe[me+0],ye[we+0],Te,Qe+z),le+=2,++me,++we,Qe+=2*z;1&Je&&_(X[le+0],fe[me+0],ye[we+0],Te,Qe)}}function hc(y,_,z){return z==0?y==0?_==0?6:5:_==0?4:0:z}function wo(y,_,z,X,le){switch(y>>>30){case 3:Hl(_,z,X,le,0);break;case 2:ui(_,z,X,le);break;case 1:ks(_,z,X,le)}}function Ps(y,_){var z,X,le=_.M,fe=_.Nb,me=y.oc,ye=y.pc+40,we=y.oc,Te=y.pc+584,Qe=y.oc,Je=y.pc+600;for(z=0;16>z;++z)me[ye+32*z-1]=129;for(z=0;8>z;++z)we[Te+32*z-1]=129,Qe[Je+32*z-1]=129;for(0<le?me[ye-1-32]=we[Te-1-32]=Qe[Je-1-32]=129:(a(me,ye-32-1,127,21),a(we,Te-32-1,127,9),a(Qe,Je-32-1,127,9)),X=0;X<y.za;++X){var Ne=_.ya[_.aa+X];if(0<X){for(z=-1;16>z;++z)s(me,ye+32*z-4,me,ye+32*z+12,4);for(z=-1;8>z;++z)s(we,Te+32*z-4,we,Te+32*z+4,4),s(Qe,Je+32*z-4,Qe,Je+32*z+4,4)}var Pe=y.Gd,ke=y.Hd+X,At=Ne.ad,Xe=Ne.Hc;if(0<le&&(s(me,ye-32,Pe[ke].y,0,16),s(we,Te-32,Pe[ke].f,0,8),s(Qe,Je-32,Pe[ke].ea,0,8)),Ne.Za){var lt=me,gt=ye-32+16;for(0<le&&(X>=y.za-1?a(lt,gt,Pe[ke].y[15],4):s(lt,gt,Pe[ke+1].y,0,4)),z=0;4>z;z++)lt[gt+128+z]=lt[gt+256+z]=lt[gt+384+z]=lt[gt+0+z];for(z=0;16>z;++z,Xe<<=2)lt=me,gt=ye+aa[z],qr[Ne.Ob[z]](lt,gt),wo(Xe,At,16*+z,lt,gt)}else if(lt=hc(X,le,Ne.Ob[0]),Ui[lt](me,ye),Xe!=0)for(z=0;16>z;++z,Xe<<=2)wo(Xe,At,16*+z,me,ye+aa[z]);for(z=Ne.Gc,lt=hc(X,le,Ne.Dd),Ki[lt](we,Te),Ki[lt](Qe,Je),Xe=At,lt=we,gt=Te,255&(Ne=0|z)&&(170&Ne?_i(Xe,256,lt,gt):Rs(Xe,256,lt,gt)),Ne=Qe,Xe=Je,255&(z>>=8)&&(170&z?_i(At,320,Ne,Xe):Rs(At,320,Ne,Xe)),le<y.Ub-1&&(s(Pe[ke].y,0,me,ye+480,16),s(Pe[ke].f,0,we,Te+224,8),s(Pe[ke].ea,0,Qe,Je+224,8)),z=8*fe*y.B,Pe=y.sa,ke=y.ta+16*X+16*fe*y.R,At=y.qa,Ne=y.ra+8*X+z,Xe=y.Ha,lt=y.Ia+8*X+z,z=0;16>z;++z)s(Pe,ke+z*y.R,me,ye+32*z,16);for(z=0;8>z;++z)s(At,Ne+z*y.B,we,Te+32*z,8),s(Xe,lt+z*y.B,Qe,Je+32*z,8)}}function jo(y,_,z,X,le,fe,me,ye,we){var Te=[0],Qe=[0],Je=0,Ne=we!=null?we.kd:0,Pe=we??new Nt;if(y==null||12>z)return 7;Pe.data=y,Pe.w=_,Pe.ha=z,_=[_],z=[z],Pe.gb=[Pe.gb];e:{var ke=_,At=z,Xe=Pe.gb;if(e(y!=null),e(At!=null),e(Xe!=null),Xe[0]=0,12<=At[0]&&!t(y,ke[0],"RIFF")){if(t(y,ke[0]+8,"WEBP")){Xe=3;break e}var lt=He(y,ke[0]+4);if(12>lt||4294967286<lt){Xe=3;break e}if(Ne&&lt>At[0]-8){Xe=7;break e}Xe[0]=lt,ke[0]+=12,At[0]-=12}Xe=0}if(Xe!=0)return Xe;for(lt=0<Pe.gb[0],z=z[0];;){e:{var gt=y;At=_,Xe=z;var Dt=Te,jt=Qe,wn=ke=[0];if((pn=Je=[Je])[0]=0,8>Xe[0])Xe=7;else{if(!t(gt,At[0],"VP8X")){if(He(gt,At[0]+4)!=10){Xe=3;break e}if(18>Xe[0]){Xe=7;break e}var un=He(gt,At[0]+8),ts=1+st(gt,At[0]+12);if(2147483648<=ts*(gt=1+st(gt,At[0]+15))){Xe=3;break e}wn!=null&&(wn[0]=un),Dt!=null&&(Dt[0]=ts),jt!=null&&(jt[0]=gt),At[0]+=18,Xe[0]-=18,pn[0]=1}Xe=0}}if(Je=Je[0],ke=ke[0],Xe!=0)return Xe;if(At=!!(2&ke),!lt&&Je)return 3;if(fe!=null&&(fe[0]=!!(16&ke)),me!=null&&(me[0]=At),ye!=null&&(ye[0]=0),me=Te[0],ke=Qe[0],Je&&At&&we==null){Xe=0;break}if(4>z){Xe=7;break}if(lt&&Je||!lt&&!Je&&!t(y,_[0],"ALPH")){z=[z],Pe.na=[Pe.na],Pe.P=[Pe.P],Pe.Sa=[Pe.Sa];e:{un=y,Xe=_,lt=z;var pn=Pe.gb;Dt=Pe.na,jt=Pe.P,wn=Pe.Sa,ts=22,e(un!=null),e(lt!=null),gt=Xe[0];var bs=lt[0];for(e(Dt!=null),e(wn!=null),Dt[0]=null,jt[0]=null,wn[0]=0;;){if(Xe[0]=gt,lt[0]=bs,8>bs){Xe=7;break e}var Sr=He(un,gt+4);if(4294967286<Sr){Xe=3;break e}var is=8+Sr+1&-2;if(ts+=is,0<pn&&ts>pn){Xe=3;break e}if(!t(un,gt,"VP8 ")||!t(un,gt,"VP8L")){Xe=0;break e}if(bs[0]<is){Xe=7;break e}t(un,gt,"ALPH")||(Dt[0]=un,jt[0]=gt+8,wn[0]=Sr),gt+=is,bs-=is}}if(z=z[0],Pe.na=Pe.na[0],Pe.P=Pe.P[0],Pe.Sa=Pe.Sa[0],Xe!=0)break}z=[z],Pe.Ja=[Pe.Ja],Pe.xa=[Pe.xa];e:if(pn=y,Xe=_,lt=z,Dt=Pe.gb[0],jt=Pe.Ja,wn=Pe.xa,un=Xe[0],gt=!t(pn,un,"VP8 "),ts=!t(pn,un,"VP8L"),e(pn!=null),e(lt!=null),e(jt!=null),e(wn!=null),8>lt[0])Xe=7;else{if(gt||ts){if(pn=He(pn,un+4),12<=Dt&&pn>Dt-12){Xe=3;break e}if(Ne&&pn>lt[0]-8){Xe=7;break e}jt[0]=pn,Xe[0]+=8,lt[0]-=8,wn[0]=ts}else wn[0]=5<=lt[0]&&pn[un+0]==47&&!(pn[un+4]>>5),jt[0]=lt[0];Xe=0}if(z=z[0],Pe.Ja=Pe.Ja[0],Pe.xa=Pe.xa[0],_=_[0],Xe!=0)break;if(4294967286<Pe.Ja)return 3;if(ye==null||At||(ye[0]=Pe.xa?2:1),me=[me],ke=[ke],Pe.xa){if(5>z){Xe=7;break}ye=me,Ne=ke,At=fe,y==null||5>z?y=0:5<=z&&y[_+0]==47&&!(y[_+4]>>5)?(lt=[0],pn=[0],Dt=[0],he(jt=new W,y,_,z),Ua(jt,lt,pn,Dt)?(ye!=null&&(ye[0]=lt[0]),Ne!=null&&(Ne[0]=pn[0]),At!=null&&(At[0]=Dt[0]),y=1):y=0):y=0}else{if(10>z){Xe=7;break}ye=ke,y==null||10>z||!Ra(y,_+3,z-3)?y=0:(Ne=y[_+0]|y[_+1]<<8|y[_+2]<<16,At=16383&(y[_+7]<<8|y[_+6]),y=16383&(y[_+9]<<8|y[_+8]),1&Ne||3<(Ne>>1&7)||!(Ne>>4&1)||Ne>>5>=Pe.Ja||!At||!y?y=0:(me&&(me[0]=At),ye&&(ye[0]=y),y=1))}if(!y||(me=me[0],ke=ke[0],Je&&(Te[0]!=me||Qe[0]!=ke)))return 3;we!=null&&(we[0]=Pe,we.offset=_-we.w,e(4294967286>_-we.w),e(we.offset==we.ha-z));break}return Xe==0||Xe==7&&Je&&we==null?(fe!=null&&(fe[0]|=Pe.na!=null&&0<Pe.na.length),X!=null&&(X[0]=me),le!=null&&(le[0]=ke),0):Xe}function Br(y,_,z){var X=_.width,le=_.height,fe=0,me=0,ye=X,we=le;if(_.Da=y!=null&&0<y.Da,_.Da&&(ye=y.cd,we=y.bd,fe=y.v,me=y.j,11>z||(fe&=-2,me&=-2),0>fe||0>me||0>=ye||0>=we||fe+ye>X||me+we>le))return 0;if(_.v=fe,_.j=me,_.va=fe+ye,_.o=me+we,_.U=ye,_.T=we,_.da=y!=null&&0<y.da,_.da){if(!vt(ye,we,z=[y.ib],fe=[y.hb]))return 0;_.ib=z[0],_.hb=fe[0]}return _.ob=y!=null&&y.ob,_.Kb=y==null||!y.Sd,_.da&&(_.ob=_.ib<3*X/4&&_.hb<3*le/4,_.Kb=0),1}function DA(y){if(y==null)return 2;if(11>y.S){var _=y.f.RGBA;_.fb+=(y.height-1)*_.A,_.A=-_.A}else _=y.f.kb,y=y.height,_.O+=(y-1)*_.fa,_.fa=-_.fa,_.N+=(y-1>>1)*_.Ab,_.Ab=-_.Ab,_.W+=(y-1>>1)*_.Db,_.Db=-_.Db,_.F!=null&&(_.J+=(y-1)*_.lb,_.lb=-_.lb);return 0}function Pa(y,_,z,X){if(X==null||0>=y||0>=_)return 2;if(z!=null){if(z.Da){var le=z.cd,fe=z.bd,me=-2&z.v,ye=-2&z.j;if(0>me||0>ye||0>=le||0>=fe||me+le>y||ye+fe>_)return 2;y=le,_=fe}if(z.da){if(!vt(y,_,le=[z.ib],fe=[z.hb]))return 2;y=le[0],_=fe[0]}}X.width=y,X.height=_;e:{var we=X.width,Te=X.height;if(y=X.S,0>=we||0>=Te||!(y>=Pu&&13>y))y=2;else{if(0>=X.Rd&&X.sd==null){me=fe=le=_=0;var Qe=(ye=we*Gu[y])*Te;if(11>y||(fe=(Te+1)/2*(_=(we+1)/2),y==12&&(me=(le=we)*Te)),(Te=o(Qe+2*fe+me))==null){y=1;break e}X.sd=Te,11>y?((we=X.f.RGBA).eb=Te,we.fb=0,we.A=ye,we.size=Qe):((we=X.f.kb).y=Te,we.O=0,we.fa=ye,we.Fd=Qe,we.f=Te,we.N=0+Qe,we.Ab=_,we.Cd=fe,we.ea=Te,we.W=0+Qe+fe,we.Db=_,we.Ed=fe,y==12&&(we.F=Te,we.J=0+Qe+2*fe),we.Tc=me,we.lb=le)}if(_=1,le=X.S,fe=X.width,me=X.height,le>=Pu&&13>le)if(11>le)y=X.f.RGBA,_&=(ye=Math.abs(y.A))*(me-1)+fe<=y.size,_&=ye>=fe*Gu[le],_&=y.eb!=null;else{y=X.f.kb,ye=(fe+1)/2,Qe=(me+1)/2,we=Math.abs(y.fa),Te=Math.abs(y.Ab);var Je=Math.abs(y.Db),Ne=Math.abs(y.lb),Pe=Ne*(me-1)+fe;_&=we*(me-1)+fe<=y.Fd,_&=Te*(Qe-1)+ye<=y.Cd,_=(_&=Je*(Qe-1)+ye<=y.Ed)&we>=fe&Te>=ye&Je>=ye,_&=y.y!=null,_&=y.f!=null,_&=y.ea!=null,le==12&&(_&=Ne>=fe,_&=Pe<=y.Tc,_&=y.F!=null)}else _=0;y=_?0:2}}return y!=0||z!=null&&z.fd&&(y=DA(X)),y}var Bo=64,gs=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ai=24,Zo=32,el=8,ml=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];dt("Predictor0","PredictorAdd0"),R.Predictor0=function(){return 4278190080},R.Predictor1=function(y){return y},R.Predictor2=function(y,_,z){return _[z+0]},R.Predictor3=function(y,_,z){return _[z+1]},R.Predictor4=function(y,_,z){return _[z-1]},R.Predictor5=function(y,_,z){return Pt(Pt(y,_[z+1]),_[z+0])},R.Predictor6=function(y,_,z){return Pt(y,_[z-1])},R.Predictor7=function(y,_,z){return Pt(y,_[z+0])},R.Predictor8=function(y,_,z){return Pt(_[z-1],_[z+0])},R.Predictor9=function(y,_,z){return Pt(_[z+0],_[z+1])},R.Predictor10=function(y,_,z){return Pt(Pt(y,_[z-1]),Pt(_[z+0],_[z+1]))},R.Predictor11=function(y,_,z){var X=_[z+0];return 0>=en(X>>24&255,y>>24&255,(_=_[z-1])>>24&255)+en(X>>16&255,y>>16&255,_>>16&255)+en(X>>8&255,y>>8&255,_>>8&255)+en(255&X,255&y,255&_)?X:y},R.Predictor12=function(y,_,z){var X=_[z+0];return(Gt((y>>24&255)+(X>>24&255)-((_=_[z-1])>>24&255))<<24|Gt((y>>16&255)+(X>>16&255)-(_>>16&255))<<16|Gt((y>>8&255)+(X>>8&255)-(_>>8&255))<<8|Gt((255&y)+(255&X)-(255&_)))>>>0},R.Predictor13=function(y,_,z){var X=_[z-1];return(sn((y=Pt(y,_[z+0]))>>24&255,X>>24&255)<<24|sn(y>>16&255,X>>16&255)<<16|sn(y>>8&255,X>>8&255)<<8|sn(255&y,255&X))>>>0};var Ml=R.PredictorAdd0;R.PredictorAdd1=Nn,dt("Predictor2","PredictorAdd2"),dt("Predictor3","PredictorAdd3"),dt("Predictor4","PredictorAdd4"),dt("Predictor5","PredictorAdd5"),dt("Predictor6","PredictorAdd6"),dt("Predictor7","PredictorAdd7"),dt("Predictor8","PredictorAdd8"),dt("Predictor9","PredictorAdd9"),dt("Predictor10","PredictorAdd10"),dt("Predictor11","PredictorAdd11"),dt("Predictor12","PredictorAdd12"),dt("Predictor13","PredictorAdd13");var LA=R.PredictorAdd2;Ht("ColorIndexInverseTransform","MapARGB","32b",function(y){return y>>8&255},function(y){return y}),Ht("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(y){return y},function(y){return y>>8&255});var Jr,Ii=R.ColorIndexInverseTransform,Ya=R.MapARGB,Wa=R.VP8LColorIndexInverseTransformAlpha,Es=R.MapAlpha,ci=R.VP8LPredictorsAdd=[];ci.length=16,(R.VP8LPredictors=[]).length=16,(R.VP8LPredictorsAdd_C=[]).length=16,(R.VP8LPredictors_C=[]).length=16;var QA,OA,tl,pl,gl,nl,ra,Hl,ui,_i,ks,Rs,br,Ys,sl,rl,PA,cA,qd,Zd,eh,th,Du,Lu,uA,eo,fc,to,vl=o(511),Qu=o(2041),Jc=o(225),kA=o(767),Ou=0,xl=Qu,qc=Jc,di=kA,Xa=vl,Pu=0,hi=1,Vl=2,Co=3,Zc=4,Kl=5,dA=6,eu=7,ku=8,mc=9,MA=10,So=[2,3,7],pc=[3,3,11],HA=[280,256,256,256,40],Mu=[0,1,1,1,0],hA=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],No=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Eo=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],fA=8,To=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Fi=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],no=null,of=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],nh=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Hu=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],lf=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Ja=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Cr=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Bs=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ui=[],qr=[],Ki=[],mA=1,sh=2,yl=[],qa=[];kt("UpsampleRgbLinePair",sa,3),kt("UpsampleBgrLinePair",Os,3),kt("UpsampleRgbaLinePair",fa,4),kt("UpsampleBgraLinePair",qo,4),kt("UpsampleArgbLinePair",bo,4),kt("UpsampleRgba4444LinePair",Zi,2),kt("UpsampleRgb565LinePair",rs,2);var VA=R.UpsampleRgbLinePair,tu=R.UpsampleBgrLinePair,zl=R.UpsampleRgbaLinePair,Vu=R.UpsampleBgraLinePair,pA=R.UpsampleArgbLinePair,bl=R.UpsampleRgba4444LinePair,gA=R.UpsampleRgb565LinePair,Io=16,gc=1<<Io-1,wl=-227,vA=482,Ku=6,xA=0,Za=o(256),zu=o(256),Af=o(256),Nm=o(256),Em=o(vA-wl),Tm=o(vA-wl);Oa("YuvToRgbRow",sa,3),Oa("YuvToBgrRow",Os,3),Oa("YuvToRgbaRow",fa,4),Oa("YuvToBgraRow",qo,4),Oa("YuvToArgbRow",bo,4),Oa("YuvToRgba4444Row",Zi,2),Oa("YuvToRgb565Row",rs,2);var aa=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],vc=[0,2,8],nu=[8,7,6,4,4,2,2,2,1,1,1,1],xc=1;this.WebPDecodeRGBA=function(y,_,z,X,le){var fe=hi,me=new mt,ye=new Tt;me.ba=ye,ye.S=fe,ye.width=[ye.width],ye.height=[ye.height];var we=ye.width,Te=ye.height,Qe=new ht;if(Qe==null||y==null)var Je=2;else e(Qe!=null),Je=jo(y,_,z,Qe.width,Qe.height,Qe.Pd,Qe.Qd,Qe.format,null);if(Je!=0?we=0:(we!=null&&(we[0]=Qe.width[0]),Te!=null&&(Te[0]=Qe.height[0]),we=1),we){ye.width=ye.width[0],ye.height=ye.height[0],X!=null&&(X[0]=ye.width),le!=null&&(le[0]=ye.height);e:{if(X=new na,(le=new Nt).data=y,le.w=_,le.ha=z,le.kd=1,_=[0],e(le!=null),((y=jo(le.data,le.w,le.ha,null,null,null,_,null,le))==0||y==7)&&_[0]&&(y=4),(_=y)==0){if(e(me!=null),X.data=le.data,X.w=le.w+le.offset,X.ha=le.ha-le.offset,X.put=cn,X.ac=js,X.bc=ri,X.ma=me,le.xa){if((y=dr())==null){me=1;break e}if((function(Ne,Pe){var ke=[0],At=[0],Xe=[0];t:for(;;){if(Ne==null)return 0;if(Pe==null)return Ne.a=2,0;if(Ne.l=Pe,Ne.a=0,he(Ne.m,Pe.data,Pe.w,Pe.ha),!Ua(Ne.m,ke,At,Xe)){Ne.a=3;break t}if(Ne.xb=sh,Pe.width=ke[0],Pe.height=At[0],!Kn(ke[0],At[0],1,Ne,null))break t;return 1}return e(Ne.a!=0),0})(y,X)){if(X=(_=Pa(X.width,X.height,me.Oa,me.ba))==0){t:{X=y;n:for(;;){if(X==null){X=0;break t}if(e(X.s.yc!=null),e(X.s.Ya!=null),e(0<X.s.Wb),e((z=X.l)!=null),e((le=z.ma)!=null),X.xb!=0){if(X.ca=le.ba,X.tb=le.tb,e(X.ca!=null),!Br(le.Oa,z,Co)){X.a=2;break n}if(!In(X,z.width)||z.da)break n;if((z.da||Ct(X.ca.S))&&tt(),11>X.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),X.ca.f.kb.F!=null&&tt()),X.Pb&&0<X.s.ua&&X.s.vb.X==null&&!de(X.s.vb,X.s.Wa.Xa)){X.a=1;break n}X.xb=0}if(!Sn(X,X.V,X.Ba,X.c,X.i,z.o,Ft))break n;le.Dc=X.Ma,X=1;break t}e(X.a!=0),X=0}X=!X}X&&(_=y.a)}else _=y.a}else{if((y=new vr)==null){me=1;break e}if(y.Fa=le.na,y.P=le.P,y.qc=le.Sa,Cn(y,X)){if((_=Pa(X.width,X.height,me.Oa,me.ba))==0){if(y.Aa=0,z=me.Oa,e((le=y)!=null),z!=null){if(0<(we=0>(we=z.Md)?0:100<we?255:255*we/100)){for(Te=Qe=0;4>Te;++Te)12>(Je=le.pb[Te]).lc&&(Je.ia=we*nu[0>Je.lc?0:Je.lc]>>3),Qe|=Je.ia;Qe&&(alert("todo:VP8InitRandom"),le.ia=1)}le.Ga=z.Id,100<le.Ga?le.Ga=100:0>le.Ga&&(le.Ga=0)}(function(Ne,Pe){if(Ne==null)return 0;if(Pe==null)return ls(Ne,2,"NULL VP8Io parameter in VP8Decode().");if(!Ne.cb&&!Cn(Ne,Pe))return 0;if(e(Ne.cb),Pe.ac==null||Pe.ac(Pe)){Pe.ob&&(Ne.L=0);var ke=vc[Ne.L];if(Ne.L==2?(Ne.yb=0,Ne.zb=0):(Ne.yb=Pe.v-ke>>4,Ne.zb=Pe.j-ke>>4,0>Ne.yb&&(Ne.yb=0),0>Ne.zb&&(Ne.zb=0)),Ne.Va=Pe.o+15+ke>>4,Ne.Hb=Pe.va+15+ke>>4,Ne.Hb>Ne.za&&(Ne.Hb=Ne.za),Ne.Va>Ne.Ub&&(Ne.Va=Ne.Ub),0<Ne.L){var At=Ne.ed;for(ke=0;4>ke;++ke){var Xe;if(Ne.Qa.Cb){var lt=Ne.Qa.Lb[ke];Ne.Qa.Fb||(lt+=At.Tb)}else lt=At.Tb;for(Xe=0;1>=Xe;++Xe){var gt=Ne.gd[ke][Xe],Dt=lt;if(At.Pc&&(Dt+=At.vd[0],Xe&&(Dt+=At.od[0])),0<(Dt=0>Dt?0:63<Dt?63:Dt)){var jt=Dt;0<At.wb&&(jt=4<At.wb?jt>>2:jt>>1)>9-At.wb&&(jt=9-At.wb),1>jt&&(jt=1),gt.dd=jt,gt.tc=2*Dt+jt,gt.ld=40<=Dt?2:15<=Dt?1:0}else gt.tc=0;gt.La=Xe}}}ke=0}else ls(Ne,6,"Frame setup failed"),ke=Ne.a;if(ke=ke==0){if(ke){Ne.$c=0,0<Ne.Aa||(Ne.Ic=xc);t:{ke=Ne.Ic,At=4*(jt=Ne.za);var wn=32*jt,un=jt+1,ts=0<Ne.L?jt*(0<Ne.Aa?2:1):0,pn=(Ne.Aa==2?2:1)*jt;if((gt=At+832+(Xe=3*(16*ke+vc[Ne.L])/2*wn)+(lt=Ne.Fa!=null&&0<Ne.Fa.length?Ne.Kc.c*Ne.Kc.i:0))!=gt)ke=0;else{if(gt>Ne.Vb){if(Ne.Vb=0,Ne.Ec=o(gt),Ne.Fc=0,Ne.Ec==null){ke=ls(Ne,1,"no memory during frame initialization.");break t}Ne.Vb=gt}gt=Ne.Ec,Dt=Ne.Fc,Ne.Ac=gt,Ne.Bc=Dt,Dt+=At,Ne.Gd=c(wn,Yo),Ne.Hd=0,Ne.rb=c(un+1,da),Ne.sb=1,Ne.wa=ts?c(ts,Yr):null,Ne.Y=0,Ne.D.Nb=0,Ne.D.wa=Ne.wa,Ne.D.Y=Ne.Y,0<Ne.Aa&&(Ne.D.Y+=jt),e(!0),Ne.oc=gt,Ne.pc=Dt,Dt+=832,Ne.ya=c(pn,Ci),Ne.aa=0,Ne.D.ya=Ne.ya,Ne.D.aa=Ne.aa,Ne.Aa==2&&(Ne.D.aa+=jt),Ne.R=16*jt,Ne.B=8*jt,jt=(wn=vc[Ne.L])*Ne.R,wn=wn/2*Ne.B,Ne.sa=gt,Ne.ta=Dt+jt,Ne.qa=Ne.sa,Ne.ra=Ne.ta+16*ke*Ne.R+wn,Ne.Ha=Ne.qa,Ne.Ia=Ne.ra+8*ke*Ne.B+wn,Ne.$c=0,Dt+=Xe,Ne.mb=lt?gt:null,Ne.nb=lt?Dt:null,e(Dt+lt<=Ne.Fc+Ne.Vb),Ns(Ne),a(Ne.Ac,Ne.Bc,0,At),ke=1}}if(ke){if(Pe.ka=0,Pe.y=Ne.sa,Pe.O=Ne.ta,Pe.f=Ne.qa,Pe.N=Ne.ra,Pe.ea=Ne.Ha,Pe.Vd=Ne.Ia,Pe.fa=Ne.R,Pe.Rc=Ne.B,Pe.F=null,Pe.J=0,!Ou){for(ke=-255;255>=ke;++ke)vl[255+ke]=0>ke?-ke:ke;for(ke=-1020;1020>=ke;++ke)Qu[1020+ke]=-128>ke?-128:127<ke?127:ke;for(ke=-112;112>=ke;++ke)Jc[112+ke]=-16>ke?-16:15<ke?15:ke;for(ke=-255;510>=ke;++ke)kA[255+ke]=0>ke?0:255<ke?255:ke;Ou=1}ra=Qs,Hl=Yi,_i=Or,ks=Wo,Rs=Ur,ui=Si,br=AA,Ys=qi,sl=oe,rl=Ee,PA=Ti,cA=k,qd=Ue,Zd=Ve,eh=yo,th=Vi,Du=kl,Lu=lA,qr[0]=dl,qr[1]=go,qr[2]=Pl,qr[3]=oA,qr[4]=Sa,qr[5]=Da,qr[6]=ha,qr[7]=Gs,qr[8]=hl,qr[9]=oi,Ui[0]=Xi,Ui[1]=iA,Ui[2]=Ol,Ui[3]=Wi,Ui[4]=Jo,Ui[5]=ii,Ui[6]=Hi,Ki[0]=vo,Ki[1]=Xo,Ki[2]=Ji,Ki[3]=RA,Ki[4]=Xr,Ki[5]=li,Ki[6]=xo,ke=1}else ke=0}ke&&(ke=(function(bs,Sr){for(bs.M=0;bs.M<bs.Va;++bs.M){var is,at=bs.Jc[bs.M&bs.Xb],Xt=bs.m,Pr=bs;for(is=0;is<Pr.za;++is){var zn=Xt,Yn=Pr,rr=Yn.Ac,ma=Yn.Bc+4*is,ia=Yn.zc,ar=Yn.ya[Yn.aa+is];if(Yn.Qa.Bb?ar.$b=Ie(zn,Yn.Pa.jb[0])?2+Ie(zn,Yn.Pa.jb[2]):Ie(zn,Yn.Pa.jb[1]):ar.$b=0,Yn.kc&&(ar.Ad=Ie(zn,Yn.Bd)),ar.Za=!Ie(zn,145)+0,ar.Za){var pa=ar.Ob,fi=0;for(Yn=0;4>Yn;++Yn){var ga,as=ia[0+Yn];for(ga=0;4>ga;++ga){as=Ja[rr[ma+ga]][as];for(var Ts=Hu[Ie(zn,as[0])];0<Ts;)Ts=Hu[2*Ts+Ie(zn,as[Ts])];as=-Ts,rr[ma+ga]=as}s(pa,fi,rr,ma,4),fi+=4,ia[0+Yn]=as}}else as=Ie(zn,156)?Ie(zn,128)?1:3:Ie(zn,163)?2:0,ar.Ob[0]=as,a(rr,ma,as,4),a(ia,0,as,4);ar.Dd=Ie(zn,142)?Ie(zn,114)?Ie(zn,183)?1:3:2:0}if(Pr.m.Ka)return ls(bs,7,"Premature end-of-partition0 encountered.");for(;bs.ja<bs.za;++bs.ja){if(Pr=at,zn=(Xt=bs).rb[Xt.sb-1],rr=Xt.rb[Xt.sb+Xt.ja],is=Xt.ya[Xt.aa+Xt.ja],ma=Xt.kc?is.Ad:0)zn.la=rr.la=0,is.Za||(zn.Na=rr.Na=0),is.Hc=0,is.Gc=0,is.ia=0;else{var Nr,Ws;if(zn=rr,rr=Pr,ma=Xt.Pa.Xc,ia=Xt.ya[Xt.aa+Xt.ja],ar=Xt.pb[ia.$b],Yn=ia.ad,pa=0,fi=Xt.rb[Xt.sb-1],as=ga=0,a(Yn,pa,0,384),ia.Za)var va=0,kr=ma[3];else{Ts=o(16);var Is=zn.Na+fi.Na;if(Is=no(rr,ma[1],Is,ar.Eb,0,Ts,0),zn.Na=fi.Na=(0<Is)+0,1<Is)ra(Ts,0,Yn,pa);else{var oa=Ts[0]+3>>3;for(Ts=0;256>Ts;Ts+=16)Yn[pa+Ts]=oa}va=1,kr=ma[0]}var ir=15&zn.la,xa=15&fi.la;for(Ts=0;4>Ts;++Ts){var ya=1&xa;for(oa=Ws=0;4>oa;++oa)ir=ir>>1|(ya=(Is=no(rr,kr,Is=ya+(1&ir),ar.Sc,va,Yn,pa))>va)<<7,Ws=Ws<<2|(3<Is?3:1<Is?2:Yn[pa+0]!=0),pa+=16;ir>>=4,xa=xa>>1|ya<<7,ga=(ga<<8|Ws)>>>0}for(kr=ir,va=xa>>4,Nr=0;4>Nr;Nr+=2){for(Ws=0,ir=zn.la>>4+Nr,xa=fi.la>>4+Nr,Ts=0;2>Ts;++Ts){for(ya=1&xa,oa=0;2>oa;++oa)Is=ya+(1&ir),ir=ir>>1|(ya=0<(Is=no(rr,ma[2],Is,ar.Qc,0,Yn,pa)))<<3,Ws=Ws<<2|(3<Is?3:1<Is?2:Yn[pa+0]!=0),pa+=16;ir>>=2,xa=xa>>1|ya<<5}as|=Ws<<4*Nr,kr|=ir<<4<<Nr,va|=(240&xa)<<Nr}zn.la=kr,fi.la=va,ia.Hc=ga,ia.Gc=as,ia.ia=43690&as?0:ar.ia,ma=!(ga|as)}if(0<Xt.L&&(Xt.wa[Xt.Y+Xt.ja]=Xt.gd[is.$b][is.Za],Xt.wa[Xt.Y+Xt.ja].La|=!ma),Pr.Ka)return ls(bs,7,"Premature end-of-file encountered.")}if(Ns(bs),Xt=Sr,Pr=1,is=(at=bs).D,zn=0<at.L&&at.M>=at.zb&&at.M<=at.Va,at.Aa==0)t:{if(is.M=at.M,is.uc=zn,Ps(at,is),Pr=1,is=(Ws=at.D).Nb,zn=(as=vc[at.L])*at.R,rr=as/2*at.B,Ts=16*is*at.R,oa=8*is*at.B,ma=at.sa,ia=at.ta-zn+Ts,ar=at.qa,Yn=at.ra-rr+oa,pa=at.Ha,fi=at.Ia-rr+oa,xa=(ir=Ws.M)==0,ga=ir>=at.Va-1,at.Aa==2&&Ps(at,Ws),Ws.uc)for(ya=(Is=at).D.M,e(Is.D.uc),Ws=Is.yb;Ws<Is.Hb;++Ws){va=Ws,kr=ya;var fr=(Ds=(Mr=Is).D).Nb;Nr=Mr.R;var Ds=Ds.wa[Ds.Y+va],mi=Mr.sa,Zr=Mr.ta+16*fr*Nr+16*va,Ln=Ds.dd,Hn=Ds.tc;if(Hn!=0)if(e(3<=Hn),Mr.L==1)0<va&&th(mi,Zr,Nr,Hn+4),Ds.La&&Lu(mi,Zr,Nr,Hn),0<kr&&eh(mi,Zr,Nr,Hn+4),Ds.La&&Du(mi,Zr,Nr,Hn);else{var Ms=Mr.B,zi=Mr.qa,so=Mr.ra+8*fr*Ms+8*va,Ri=Mr.Ha,Mr=Mr.Ia+8*fr*Ms+8*va;fr=Ds.ld,0<va&&(Ys(mi,Zr,Nr,Hn+4,Ln,fr),rl(zi,so,Ri,Mr,Ms,Hn+4,Ln,fr)),Ds.La&&(cA(mi,Zr,Nr,Hn,Ln,fr),Zd(zi,so,Ri,Mr,Ms,Hn,Ln,fr)),0<kr&&(br(mi,Zr,Nr,Hn+4,Ln,fr),sl(zi,so,Ri,Mr,Ms,Hn+4,Ln,fr)),Ds.La&&(PA(mi,Zr,Nr,Hn,Ln,fr),qd(zi,so,Ri,Mr,Ms,Hn,Ln,fr))}}if(at.ia&&alert("todo:DitherRow"),Xt.put!=null){if(Ws=16*ir,ir=16*(ir+1),xa?(Xt.y=at.sa,Xt.O=at.ta+Ts,Xt.f=at.qa,Xt.N=at.ra+oa,Xt.ea=at.Ha,Xt.W=at.Ia+oa):(Ws-=as,Xt.y=ma,Xt.O=ia,Xt.f=ar,Xt.N=Yn,Xt.ea=pa,Xt.W=fi),ga||(ir-=as),ir>Xt.o&&(ir=Xt.o),Xt.F=null,Xt.J=null,at.Fa!=null&&0<at.Fa.length&&Ws<ir&&(Xt.J=w(at,Xt,Ws,ir-Ws),Xt.F=at.mb,Xt.F==null&&Xt.F.length==0)){Pr=ls(at,3,"Could not decode alpha data.");break t}Ws<Xt.j&&(as=Xt.j-Ws,Ws=Xt.j,e(!(1&as)),Xt.O+=at.R*as,Xt.N+=at.B*(as>>1),Xt.W+=at.B*(as>>1),Xt.F!=null&&(Xt.J+=Xt.width*as)),Ws<ir&&(Xt.O+=Xt.v,Xt.N+=Xt.v>>1,Xt.W+=Xt.v>>1,Xt.F!=null&&(Xt.J+=Xt.v),Xt.ka=Ws-Xt.j,Xt.U=Xt.va-Xt.v,Xt.T=ir-Ws,Pr=Xt.put(Xt))}is+1!=at.Ic||ga||(s(at.sa,at.ta-zn,ma,ia+16*at.R,zn),s(at.qa,at.ra-rr,ar,Yn+8*at.B,rr),s(at.Ha,at.Ia-rr,pa,fi+8*at.B,rr))}if(!Pr)return ls(bs,6,"Output aborted.")}return 1})(Ne,Pe)),Pe.bc!=null&&Pe.bc(Pe),ke&=1}return ke?(Ne.cb=0,ke):0})(y,X)||(_=y.a)}}else _=y.a}_==0&&me.Oa!=null&&me.Oa.fd&&(_=DA(me.ba))}me=_}fe=me!=0?null:11>fe?ye.f.RGBA.eb:ye.f.kb.y}else fe=null;return fe};var Gu=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(R,M){for(var O="",H=0;H<4;H++)O+=String.fromCharCode(R[M++]);return O}function A(R,M){return R[M+0]|R[M+1]<<8}function m(R,M){return(R[M+0]|R[M+1]<<8|R[M+2]<<16)>>>0}function v(R,M){return(R[M+0]|R[M+1]<<8|R[M+2]<<16|R[M+3]<<24)>>>0}new u;var g=[0],b=[0],S=[],N=new u,E=n,I=(function(R,M){var O={},H=0,G=!1,ie=0,ge=0;if(O.frames=[],!(function(V,W){for(var ae=0;ae<4;ae++)if(V[W+ae]!="RIFF".charCodeAt(ae))return!0;return!1})(R,M)){for(v(R,M+=4),M+=8;M<R.length;){var J=f(R,M),re=v(R,M+=4);M+=4;var se=re+(1&re);switch(J){case"VP8 ":case"VP8L":O.frames[H]===void 0&&(O.frames[H]={}),(ne=O.frames[H]).src_off=G?ge:M-8,ne.src_size=ie+re+8,H++,G&&(G=!1,ie=0,ge=0);break;case"VP8X":(ne=O.header={}).feature_flags=R[M];var he=M+4;ne.canvas_width=1+m(R,he),he+=3,ne.canvas_height=1+m(R,he),he+=3;break;case"ALPH":G=!0,ie=se+8,ge=M-8;break;case"ANIM":(ne=O.header).bgcolor=v(R,M),he=M+4,ne.loop_count=A(R,he),he+=2;break;case"ANMF":var je,ne;(ne=O.frames[H]={}).offset_x=2*m(R,M),M+=3,ne.offset_y=2*m(R,M),M+=3,ne.width=1+m(R,M),M+=3,ne.height=1+m(R,M),M+=3,ne.duration=m(R,M),M+=3,je=R[M++],ne.dispose=1&je,ne.blend=je>>1&1}J!="ANMF"&&(M+=se)}return O}})(E,0);I.response=E,I.rgbaoutput=!0,I.dataurl=!1;var F=I.header?I.header:null,D=I.frames?I.frames:null;if(F){F.loop_counter=F.loop_count,g=[F.canvas_height],b=[F.canvas_width];for(var P=0;P<D.length&&D[P].blend!=0;P++);}var K=D[0],L=N.WebPDecodeRGBA(E,K.src_off,K.src_size,b,g);K.rgba=L,K.imgwidth=b[0],K.imgheight=g[0];for(var Q=0;Q<b[0]*g[0]*4;Q++)S[Q]=L[Q];return this.width=b,this.height=g,this.data=S,this}(function(n){var e,t,s,a,o,c,h,u,f,A=function(V){return V=V||{},this.isStrokeTransparent=V.isStrokeTransparent||!1,this.strokeOpacity=V.strokeOpacity||1,this.strokeStyle=V.strokeStyle||"#000000",this.fillStyle=V.fillStyle||"#000000",this.isFillTransparent=V.isFillTransparent||!1,this.fillOpacity=V.fillOpacity||1,this.font=V.font||"10px sans-serif",this.textBaseline=V.textBaseline||"alphabetic",this.textAlign=V.textAlign||"left",this.lineWidth=V.lineWidth||1,this.lineJoin=V.lineJoin||"miter",this.lineCap=V.lineCap||"butt",this.path=V.path||[],this.transform=V.transform!==void 0?V.transform.clone():new u,this.globalCompositeOperation=V.globalCompositeOperation||"normal",this.globalAlpha=V.globalAlpha||1,this.clip_path=V.clip_path||[],this.currentPoint=V.currentPoint||new c,this.miterLimit=V.miterLimit||10,this.lastPoint=V.lastPoint||new c,this.lineDashOffset=V.lineDashOffset||0,this.lineDash=V.lineDash||[],this.margin=V.margin||[0,0,0,0],this.prevPageLastElemOffset=V.prevPageLastElemOffset||0,this.ignoreClearRect=typeof V.ignoreClearRect!="boolean"||V.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new m(this),e=this.internal.f2,t=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,c=this.internal.Point,h=this.internal.Rectangle,u=this.internal.Matrix,f=new A}]);var m=function(V){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var W=V;Object.defineProperty(this,"pdf",{get:function(){return W}});var ae=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ae},set:function(de){ae=!!de}});var ce=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ce},set:function(de){ce=!!de}});var Ae=0;Object.defineProperty(this,"posX",{get:function(){return Ae},set:function(de){isNaN(de)||(Ae=de)}});var pe=0;Object.defineProperty(this,"posY",{get:function(){return pe},set:function(de){isNaN(de)||(pe=de)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(de){var rt;typeof de=="number"?rt=[de,de,de,de]:((rt=new Array(4))[0]=de[0],rt[1]=de.length>=2?de[1]:rt[0],rt[2]=de.length>=3?de[2]:rt[0],rt[3]=de.length>=4?de[3]:rt[1]),f.margin=rt}});var Se=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Se},set:function(de){Se=de}});var xe=0;Object.defineProperty(this,"lastBreak",{get:function(){return xe},set:function(de){xe=de}});var Ie=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ie},set:function(de){Ie=de}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(de){de instanceof A&&(f=de)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(de){f.path=de}});var _e=[];Object.defineProperty(this,"ctxStack",{get:function(){return _e},set:function(de){_e=de}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(de){var rt;rt=v(de),this.ctx.fillStyle=rt.style,this.ctx.isFillTransparent=rt.a===0,this.ctx.fillOpacity=rt.a,this.pdf.setFillColor(rt.r,rt.g,rt.b,{a:rt.a}),this.pdf.setTextColor(rt.r,rt.g,rt.b,{a:rt.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(de){var rt=v(de);this.ctx.strokeStyle=rt.style,this.ctx.isStrokeTransparent=rt.a===0,this.ctx.strokeOpacity=rt.a,rt.a===0?this.pdf.setDrawColor(255,255,255):(rt.a,this.pdf.setDrawColor(rt.r,rt.g,rt.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(de){["butt","round","square"].indexOf(de)!==-1&&(this.ctx.lineCap=de,this.pdf.setLineCap(de))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(de){isNaN(de)||(this.ctx.lineWidth=de,this.pdf.setLineWidth(de))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(de){["bevel","round","miter"].indexOf(de)!==-1&&(this.ctx.lineJoin=de,this.pdf.setLineJoin(de))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(de){isNaN(de)||(this.ctx.miterLimit=de,this.pdf.setMiterLimit(de))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(de){this.ctx.textBaseline=de}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(de){["right","end","center","left","start"].indexOf(de)!==-1&&(this.ctx.textAlign=de)}});var De=null,st=null,He=null;Object.defineProperty(this,"fontFaces",{get:function(){return He},set:function(de){De=null,st=null,He=de}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(de){var rt;if(this.ctx.font=de,(rt=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(de))!==null){var _t=rt[1];rt[2];var vt=rt[3],qe=rt[4];rt[5];var We=rt[6],dt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(qe)[2];qe=Math.floor(dt==="px"?parseFloat(qe)*this.pdf.internal.scaleFactor:dt==="em"?parseFloat(qe)*this.pdf.getFontSize():parseFloat(qe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(qe);var Qt=(function(Ht){var Rn,Ke,yt=[],ze=Ht.trim();if(ze==="")return u1;if(ze in zC)return[zC[ze]];for(;ze!=="";){switch(Ke=null,Rn=(ze=$C(ze)).charAt(0)){case'"':case"'":Ke=R9(ze.substring(1),Rn);break;default:Ke=D9(ze)}if(Ke===null||(yt.push(Ke[0]),(ze=$C(Ke[1]))!==""&&ze.charAt(0)!==","))return u1;ze=ze.replace(/^,/,"")}return yt})(We);if(this.fontFaces){var Pt=(function(Ht,Rn){var Ke=Ht.getFontList(),yt=JSON.stringify(Ke);if(De===null||st!==yt){var ze=(function(ot){var ft=[];return Object.keys(ot).forEach(function(Lt){ot[Lt].forEach(function(Ct){var zt=null;switch(Ct){case"bold":zt={family:Lt,weight:"bold"};break;case"italic":zt={family:Lt,style:"italic"};break;case"bolditalic":zt={family:Lt,weight:"bold",style:"italic"};break;case"":case"normal":zt={family:Lt}}zt!==null&&(zt.ref={name:Lt,style:Ct},ft.push(zt))})}),ft})(Ke);De=(function(ot){for(var ft={},Lt=0;Lt<ot.length;++Lt){var Ct=c1(ot[Lt]),zt=Ct.family,yn=Ct.stretch,Tt=Ct.style,ht=Ct.weight;ft[zt]=ft[zt]||{},ft[zt][yn]=ft[zt][yn]||{},ft[zt][yn][Tt]=ft[zt][yn][Tt]||{},ft[zt][yn][Tt][ht]=Ct}return ft})(ze.concat(Rn)),st=yt}return De})(this.pdf,this.fontFaces),Gt=Qt.map(function(Ht){return{family:Ht,stretch:"normal",weight:vt,style:_t}}),sn=(function(Ht,Rn,Ke){for(var yt=(Ke=Ke||{}).defaultFontFamily||"times",ze=Object.assign({},U9,Ke.genericFontFamilies||{}),ot=null,ft=null,Lt=0;Lt<Rn.length;++Lt)if(ze[(ot=c1(Rn[Lt])).family]&&(ot.family=ze[ot.family]),Ht.hasOwnProperty(ot.family)){ft=Ht[ot.family];break}if(!(ft=ft||Ht[yt]))throw new Error("Could not find a font-family for the rule '"+GC(ot)+"' and default family '"+yt+"'.");if(ft=(function(Ct,zt){if(zt[Ct])return zt[Ct];var yn=wb[Ct],Tt=yn<=wb.normal?-1:1,ht=KC(zt,jI,yn,Tt);if(!ht)throw new Error("Could not find a matching font-stretch value for "+Ct);return ht})(ot.stretch,ft),ft=(function(Ct,zt){if(zt[Ct])return zt[Ct];for(var yn=wI[Ct],Tt=0;Tt<yn.length;++Tt)if(zt[yn[Tt]])return zt[yn[Tt]];throw new Error("Could not find a matching font-style for "+Ct)})(ot.style,ft),!(ft=(function(Ct,zt){if(zt[Ct])return zt[Ct];if(Ct===400&&zt[500])return zt[500];if(Ct===500&&zt[400])return zt[400];var yn=F9[Ct],Tt=KC(zt,BI,yn,Ct<400?-1:1);if(!Tt)throw new Error("Could not find a matching font-weight for value "+Ct);return Tt})(ot.weight,ft)))throw new Error("Failed to resolve a font for the rule '"+GC(ot)+"'.");return ft})(Pt,Gt);this.pdf.setFont(sn.ref.name,sn.ref.style)}else{var en="";(vt==="bold"||parseInt(vt,10)>=700||_t==="bold")&&(en="bold"),_t==="italic"&&(en+="italic"),en.length===0&&(en="normal");for(var Nn="",xt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},St=0;St<Qt.length;St++){if(this.pdf.internal.getFont(Qt[St],en,{noFallback:!0,disableWarning:!0})!==void 0){Nn=Qt[St];break}if(en==="bolditalic"&&this.pdf.internal.getFont(Qt[St],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Nn=Qt[St],en="bold";else if(this.pdf.internal.getFont(Qt[St],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Nn=Qt[St],en="normal";break}}if(Nn===""){for(var $t=0;$t<Qt.length;$t++)if(xt[Qt[$t]]){Nn=xt[Qt[$t]];break}}Nn=Nn===""?"Times":Nn,this.pdf.setFont(Nn,en)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(de){this.ctx.globalCompositeOperation=de}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(de){this.ctx.globalAlpha=de}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(de){this.ctx.lineDashOffset=de,ne.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(de){this.ctx.lineDash=de,ne.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(de){this.ctx.ignoreClearRect=!!de}})};m.prototype.setLineDash=function(V){this.lineDash=V},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){D.call(this,"fill",!1)},m.prototype.stroke=function(){D.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(V,W){if(isNaN(V)||isNaN(W))throw zr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ae=this.ctx.transform.applyToPoint(new c(V,W));this.path.push({type:"mt",x:ae.x,y:ae.y}),this.ctx.lastPoint=new c(V,W)},m.prototype.closePath=function(){var V=new c(0,0),W=0;for(W=this.path.length-1;W!==-1;W--)if(this.path[W].type==="begin"&&Fr(this.path[W+1])==="object"&&typeof this.path[W+1].x=="number"){V=new c(this.path[W+1].x,this.path[W+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new c(V.x,V.y)},m.prototype.lineTo=function(V,W){if(isNaN(V)||isNaN(W))throw zr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ae=this.ctx.transform.applyToPoint(new c(V,W));this.path.push({type:"lt",x:ae.x,y:ae.y}),this.ctx.lastPoint=new c(ae.x,ae.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),D.call(this,null,!0)},m.prototype.quadraticCurveTo=function(V,W,ae,ce){if(isNaN(ae)||isNaN(ce)||isNaN(V)||isNaN(W))throw zr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Ae=this.ctx.transform.applyToPoint(new c(ae,ce)),pe=this.ctx.transform.applyToPoint(new c(V,W));this.path.push({type:"qct",x1:pe.x,y1:pe.y,x:Ae.x,y:Ae.y}),this.ctx.lastPoint=new c(Ae.x,Ae.y)},m.prototype.bezierCurveTo=function(V,W,ae,ce,Ae,pe){if(isNaN(Ae)||isNaN(pe)||isNaN(V)||isNaN(W)||isNaN(ae)||isNaN(ce))throw zr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Se=this.ctx.transform.applyToPoint(new c(Ae,pe)),xe=this.ctx.transform.applyToPoint(new c(V,W)),Ie=this.ctx.transform.applyToPoint(new c(ae,ce));this.path.push({type:"bct",x1:xe.x,y1:xe.y,x2:Ie.x,y2:Ie.y,x:Se.x,y:Se.y}),this.ctx.lastPoint=new c(Se.x,Se.y)},m.prototype.arc=function(V,W,ae,ce,Ae,pe){if(isNaN(V)||isNaN(W)||isNaN(ae)||isNaN(ce)||isNaN(Ae))throw zr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(pe=!!pe,!this.ctx.transform.isIdentity){var Se=this.ctx.transform.applyToPoint(new c(V,W));V=Se.x,W=Se.y;var xe=this.ctx.transform.applyToPoint(new c(0,ae)),Ie=this.ctx.transform.applyToPoint(new c(0,0));ae=Math.sqrt(Math.pow(xe.x-Ie.x,2)+Math.pow(xe.y-Ie.y,2))}Math.abs(Ae-ce)>=2*Math.PI&&(ce=0,Ae=2*Math.PI),this.path.push({type:"arc",x:V,y:W,radius:ae,startAngle:ce,endAngle:Ae,counterclockwise:pe})},m.prototype.arcTo=function(V,W,ae,ce,Ae){throw new Error("arcTo not implemented.")},m.prototype.rect=function(V,W,ae,ce){if(isNaN(V)||isNaN(W)||isNaN(ae)||isNaN(ce))throw zr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(V,W),this.lineTo(V+ae,W),this.lineTo(V+ae,W+ce),this.lineTo(V,W+ce),this.lineTo(V,W),this.lineTo(V+ae,W),this.lineTo(V,W)},m.prototype.fillRect=function(V,W,ae,ce){if(isNaN(V)||isNaN(W)||isNaN(ae)||isNaN(ce))throw zr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var Ae={};this.lineCap!=="butt"&&(Ae.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Ae.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(V,W,ae,ce),this.fill(),Ae.hasOwnProperty("lineCap")&&(this.lineCap=Ae.lineCap),Ae.hasOwnProperty("lineJoin")&&(this.lineJoin=Ae.lineJoin)}},m.prototype.strokeRect=function(V,W,ae,ce){if(isNaN(V)||isNaN(W)||isNaN(ae)||isNaN(ce))throw zr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");b.call(this)||(this.beginPath(),this.rect(V,W,ae,ce),this.stroke())},m.prototype.clearRect=function(V,W,ae,ce){if(isNaN(V)||isNaN(W)||isNaN(ae)||isNaN(ce))throw zr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(V,W,ae,ce))},m.prototype.save=function(V){V=typeof V!="boolean"||V;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,ae=0;ae<this.pdf.internal.getNumberOfPages();ae++)this.pdf.setPage(ae+1),this.pdf.internal.out("q");if(this.pdf.setPage(W),V){this.ctx.fontSize=this.pdf.internal.getFontSize();var ce=new A(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ce}},m.prototype.restore=function(V){V=typeof V!="boolean"||V;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,ae=0;ae<this.pdf.internal.getNumberOfPages();ae++)this.pdf.setPage(ae+1),this.pdf.internal.out("Q");this.pdf.setPage(W),V&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var v=function(V){var W,ae,ce,Ae;if(V.isCanvasGradient===!0&&(V=V.getColor()),!V)return{r:0,g:0,b:0,a:0,style:V};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(V))W=0,ae=0,ce=0,Ae=0;else{var pe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(V);if(pe!==null)W=parseInt(pe[1]),ae=parseInt(pe[2]),ce=parseInt(pe[3]),Ae=1;else if((pe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(V))!==null)W=parseInt(pe[1]),ae=parseInt(pe[2]),ce=parseInt(pe[3]),Ae=parseFloat(pe[4]);else{if(Ae=1,typeof V=="string"&&V.charAt(0)!=="#"){var Se=new mI(V);V=Se.ok?Se.toHex():"#000000"}V.length===4?(W=V.substring(1,2),W+=W,ae=V.substring(2,3),ae+=ae,ce=V.substring(3,4),ce+=ce):(W=V.substring(1,3),ae=V.substring(3,5),ce=V.substring(5,7)),W=parseInt(W,16),ae=parseInt(ae,16),ce=parseInt(ce,16)}}return{r:W,g:ae,b:ce,a:Ae,style:V}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},b=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(V,W,ae,ce){if(isNaN(W)||isNaN(ae)||typeof V!="string")throw zr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ce=isNaN(ce)?void 0:ce,!g.call(this)){var Ae=se(this.ctx.transform.rotation),pe=this.ctx.transform.scaleX;H.call(this,{text:V,x:W,y:ae,scale:pe,angle:Ae,align:this.textAlign,maxWidth:ce})}},m.prototype.strokeText=function(V,W,ae,ce){if(isNaN(W)||isNaN(ae)||typeof V!="string")throw zr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!b.call(this)){ce=isNaN(ce)?void 0:ce;var Ae=se(this.ctx.transform.rotation),pe=this.ctx.transform.scaleX;H.call(this,{text:V,x:W,y:ae,scale:pe,renderingMode:"stroke",angle:Ae,align:this.textAlign,maxWidth:ce})}},m.prototype.measureText=function(V){if(typeof V!="string")throw zr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var W=this.pdf,ae=this.pdf.internal.scaleFactor,ce=W.internal.getFontSize(),Ae=W.getStringUnitWidth(V)*ce/W.internal.scaleFactor;return new function(pe){var Se=(pe=pe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Se}}),this}({width:Ae*=Math.round(96*ae/72*1e4)/1e4})},m.prototype.scale=function(V,W){if(isNaN(V)||isNaN(W))throw zr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ae=new u(V,0,0,W,0,0);this.ctx.transform=this.ctx.transform.multiply(ae)},m.prototype.rotate=function(V){if(isNaN(V))throw zr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var W=new u(Math.cos(V),Math.sin(V),-Math.sin(V),Math.cos(V),0,0);this.ctx.transform=this.ctx.transform.multiply(W)},m.prototype.translate=function(V,W){if(isNaN(V)||isNaN(W))throw zr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ae=new u(1,0,0,1,V,W);this.ctx.transform=this.ctx.transform.multiply(ae)},m.prototype.transform=function(V,W,ae,ce,Ae,pe){if(isNaN(V)||isNaN(W)||isNaN(ae)||isNaN(ce)||isNaN(Ae)||isNaN(pe))throw zr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Se=new u(V,W,ae,ce,Ae,pe);this.ctx.transform=this.ctx.transform.multiply(Se)},m.prototype.setTransform=function(V,W,ae,ce,Ae,pe){V=isNaN(V)?1:V,W=isNaN(W)?0:W,ae=isNaN(ae)?0:ae,ce=isNaN(ce)?1:ce,Ae=isNaN(Ae)?0:Ae,pe=isNaN(pe)?0:pe,this.ctx.transform=new u(V,W,ae,ce,Ae,pe)};var S=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(V,W,ae,ce,Ae,pe,Se,xe,Ie){var _e=this.pdf.getImageProperties(V),De=1,st=1,He=1,de=1;ce!==void 0&&xe!==void 0&&(He=xe/ce,de=Ie/Ae,De=_e.width/ce*xe/ce,st=_e.height/Ae*Ie/Ae),pe===void 0&&(pe=W,Se=ae,W=0,ae=0),ce!==void 0&&xe===void 0&&(xe=ce,Ie=Ae),ce===void 0&&xe===void 0&&(xe=_e.width,Ie=_e.height);var rt=this.ctx.transform.decompose(),_t=se(rt.rotate.shx),vt=new u,qe=(vt=(vt=(vt=vt.multiply(rt.translate)).multiply(rt.skew)).multiply(rt.scale)).applyToRectangle(new h(pe-W*He,Se-ae*de,ce*De,Ae*st));if(this.autoPaging){for(var We,dt=N.call(this,qe),Qt=[],Pt=0;Pt<dt.length;Pt+=1)Qt.indexOf(dt[Pt])===-1&&Qt.push(dt[Pt]);F(Qt);for(var Gt=Qt[0],sn=Qt[Qt.length-1],en=Gt;en<sn+1;en++){this.pdf.setPage(en);var Nn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],xt=en===1?this.posY+this.margin[0]:this.margin[0],St=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],$t=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ht=en===1?0:St+(en-2)*$t;if(this.ctx.clip_path.length!==0){var Rn=this.path;We=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=I(We,this.posX+this.margin[3],-Ht+xt+this.ctx.prevPageLastElemOffset),P.call(this,"fill",!0),this.path=Rn}var Ke=JSON.parse(JSON.stringify(qe));Ke=I([Ke],this.posX+this.margin[3],-Ht+xt+this.ctx.prevPageLastElemOffset)[0];var yt=(en>Gt||en<sn)&&S.call(this);yt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Nn,$t,null).clip().discardPath()),this.pdf.addImage(V,"JPEG",Ke.x,Ke.y,Ke.w,Ke.h,null,null,_t),yt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(V,"JPEG",qe.x,qe.y,qe.w,qe.h,null,null,_t)};var N=function(V,W,ae){var ce=[];W=W||this.pdf.internal.pageSize.width,ae=ae||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Ae=this.posY+this.ctx.prevPageLastElemOffset;switch(V.type){default:case"mt":case"lt":ce.push(Math.floor((V.y+Ae)/ae)+1);break;case"arc":ce.push(Math.floor((V.y+Ae-V.radius)/ae)+1),ce.push(Math.floor((V.y+Ae+V.radius)/ae)+1);break;case"qct":var pe=he(this.ctx.lastPoint.x,this.ctx.lastPoint.y,V.x1,V.y1,V.x,V.y);ce.push(Math.floor((pe.y+Ae)/ae)+1),ce.push(Math.floor((pe.y+pe.h+Ae)/ae)+1);break;case"bct":var Se=je(this.ctx.lastPoint.x,this.ctx.lastPoint.y,V.x1,V.y1,V.x2,V.y2,V.x,V.y);ce.push(Math.floor((Se.y+Ae)/ae)+1),ce.push(Math.floor((Se.y+Se.h+Ae)/ae)+1);break;case"rect":ce.push(Math.floor((V.y+Ae)/ae)+1),ce.push(Math.floor((V.y+V.h+Ae)/ae)+1)}for(var xe=0;xe<ce.length;xe+=1)for(;this.pdf.internal.getNumberOfPages()<ce[xe];)E.call(this);return ce},E=function(){var V=this.fillStyle,W=this.strokeStyle,ae=this.font,ce=this.lineCap,Ae=this.lineWidth,pe=this.lineJoin;this.pdf.addPage(),this.fillStyle=V,this.strokeStyle=W,this.font=ae,this.lineCap=ce,this.lineWidth=Ae,this.lineJoin=pe},I=function(V,W,ae){for(var ce=0;ce<V.length;ce++)switch(V[ce].type){case"bct":V[ce].x2+=W,V[ce].y2+=ae;case"qct":V[ce].x1+=W,V[ce].y1+=ae;default:V[ce].x+=W,V[ce].y+=ae}return V},F=function(V){return V.sort(function(W,ae){return W-ae})},D=function(V,W){var ae=this.fillStyle,ce=this.strokeStyle,Ae=this.lineCap,pe=this.lineWidth,Se=Math.abs(pe*this.ctx.transform.scaleX),xe=this.lineJoin;if(this.autoPaging){for(var Ie,_e,De=JSON.parse(JSON.stringify(this.path)),st=JSON.parse(JSON.stringify(this.path)),He=[],de=0;de<st.length;de++)if(st[de].x!==void 0)for(var rt=N.call(this,st[de]),_t=0;_t<rt.length;_t+=1)He.indexOf(rt[_t])===-1&&He.push(rt[_t]);for(var vt=0;vt<He.length;vt++)for(;this.pdf.internal.getNumberOfPages()<He[vt];)E.call(this);F(He);for(var qe=He[0],We=He[He.length-1],dt=qe;dt<We+1;dt++){this.pdf.setPage(dt),this.fillStyle=ae,this.strokeStyle=ce,this.lineCap=Ae,this.lineWidth=Se,this.lineJoin=xe;var Qt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Pt=dt===1?this.posY+this.margin[0]:this.margin[0],Gt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],sn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],en=dt===1?0:Gt+(dt-2)*sn;if(this.ctx.clip_path.length!==0){var Nn=this.path;Ie=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=I(Ie,this.posX+this.margin[3],-en+Pt+this.ctx.prevPageLastElemOffset),P.call(this,V,!0),this.path=Nn}if(_e=JSON.parse(JSON.stringify(De)),this.path=I(_e,this.posX+this.margin[3],-en+Pt+this.ctx.prevPageLastElemOffset),W===!1||dt===0){var xt=(dt>qe||dt<We)&&S.call(this);xt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Qt,sn,null).clip().discardPath()),P.call(this,V,W),xt&&this.pdf.restoreGraphicsState()}this.lineWidth=pe}this.path=De}else this.lineWidth=Se,P.call(this,V,W),this.lineWidth=pe},P=function(V,W){if((V!=="stroke"||W||!b.call(this))&&(V==="stroke"||W||!g.call(this))){for(var ae,ce,Ae=[],pe=this.path,Se=0;Se<pe.length;Se++){var xe=pe[Se];switch(xe.type){case"begin":Ae.push({begin:!0});break;case"close":Ae.push({close:!0});break;case"mt":Ae.push({start:xe,deltas:[],abs:[]});break;case"lt":var Ie=Ae.length;if(pe[Se-1]&&!isNaN(pe[Se-1].x)&&(ae=[xe.x-pe[Se-1].x,xe.y-pe[Se-1].y],Ie>0)){for(;Ie>=0;Ie--)if(Ae[Ie-1].close!==!0&&Ae[Ie-1].begin!==!0){Ae[Ie-1].deltas.push(ae),Ae[Ie-1].abs.push(xe);break}}break;case"bct":ae=[xe.x1-pe[Se-1].x,xe.y1-pe[Se-1].y,xe.x2-pe[Se-1].x,xe.y2-pe[Se-1].y,xe.x-pe[Se-1].x,xe.y-pe[Se-1].y],Ae[Ae.length-1].deltas.push(ae);break;case"qct":var _e=pe[Se-1].x+2/3*(xe.x1-pe[Se-1].x),De=pe[Se-1].y+2/3*(xe.y1-pe[Se-1].y),st=xe.x+2/3*(xe.x1-xe.x),He=xe.y+2/3*(xe.y1-xe.y),de=xe.x,rt=xe.y;ae=[_e-pe[Se-1].x,De-pe[Se-1].y,st-pe[Se-1].x,He-pe[Se-1].y,de-pe[Se-1].x,rt-pe[Se-1].y],Ae[Ae.length-1].deltas.push(ae);break;case"arc":Ae.push({deltas:[],abs:[],arc:!0}),Array.isArray(Ae[Ae.length-1].abs)&&Ae[Ae.length-1].abs.push(xe)}}ce=W?null:V==="stroke"?"stroke":"fill";for(var _t=!1,vt=0;vt<Ae.length;vt++)if(Ae[vt].arc)for(var qe=Ae[vt].abs,We=0;We<qe.length;We++){var dt=qe[We];dt.type==="arc"?Q.call(this,dt.x,dt.y,dt.radius,dt.startAngle,dt.endAngle,dt.counterclockwise,void 0,W,!_t):G.call(this,dt.x,dt.y),_t=!0}else if(Ae[vt].close===!0)this.pdf.internal.out("h"),_t=!1;else if(Ae[vt].begin!==!0){var Qt=Ae[vt].start.x,Pt=Ae[vt].start.y;ie.call(this,Ae[vt].deltas,Qt,Pt),_t=!0}ce&&R.call(this,ce),W&&M.call(this)}},K=function(V){var W=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ae=W*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return V-ae;case"top":return V+W-ae;case"hanging":return V+W-2*ae;case"middle":return V+W/2-ae;default:return V}},L=function(V){return V+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var V=function(){};return V.colorStops=[],V.addColorStop=function(W,ae){this.colorStops.push([W,ae])},V.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},V.isCanvasGradient=!0,V},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var Q=function(V,W,ae,ce,Ae,pe,Se,xe,Ie){for(var _e=J.call(this,ae,ce,Ae,pe),De=0;De<_e.length;De++){var st=_e[De];De===0&&(Ie?O.call(this,st.x1+V,st.y1+W):G.call(this,st.x1+V,st.y1+W)),ge.call(this,V,W,st.x2,st.y2,st.x3,st.y3,st.x4,st.y4)}xe?M.call(this):R.call(this,Se)},R=function(V){switch(V){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},M=function(){this.pdf.clip(),this.pdf.discardPath()},O=function(V,W){this.pdf.internal.out(t(V)+" "+s(W)+" m")},H=function(V){var W;switch(V.align){case"right":case"end":W="right";break;case"center":W="center";break;default:W="left"}var ae,ce,Ae,pe=this.pdf.getTextDimensions(V.text),Se=K.call(this,V.y),xe=L.call(this,Se)-pe.h,Ie=this.ctx.transform.applyToPoint(new c(V.x,Se));if(this.autoPaging){var _e=this.ctx.transform.decompose(),De=new u;De=(De=(De=De.multiply(_e.translate)).multiply(_e.skew)).multiply(_e.scale);for(var st=this.ctx.transform.applyToRectangle(new h(V.x,Se,pe.w,pe.h)),He=De.applyToRectangle(new h(V.x,xe,pe.w,pe.h)),de=N.call(this,He),rt=[],_t=0;_t<de.length;_t+=1)rt.indexOf(de[_t])===-1&&rt.push(de[_t]);F(rt);for(var vt=rt[0],qe=rt[rt.length-1],We=vt;We<qe+1;We++){this.pdf.setPage(We);var dt=We===1?this.posY+this.margin[0]:this.margin[0],Qt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Pt=this.pdf.internal.pageSize.height-this.margin[2],Gt=Pt-this.margin[0],sn=this.pdf.internal.pageSize.width-this.margin[1],en=sn-this.margin[3],Nn=We===1?0:Qt+(We-2)*Gt;if(this.ctx.clip_path.length!==0){var xt=this.path;ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=I(ae,this.posX+this.margin[3],-1*Nn+dt),P.call(this,"fill",!0),this.path=xt}var St=I([JSON.parse(JSON.stringify(He))],this.posX+this.margin[3],-Nn+dt+this.ctx.prevPageLastElemOffset)[0];V.scale>=.01&&(ce=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ce*V.scale),Ae=this.lineWidth,this.lineWidth=Ae*V.scale);var $t=this.autoPaging!=="text";if($t||St.y+St.h<=Pt){if($t||St.y>=dt&&St.x<=sn){var Ht=$t?V.text:this.pdf.splitTextToSize(V.text,V.maxWidth||sn-St.x)[0],Rn=I([JSON.parse(JSON.stringify(st))],this.posX+this.margin[3],-Nn+dt+this.ctx.prevPageLastElemOffset)[0],Ke=$t&&(We>vt||We<qe)&&S.call(this);Ke&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],en,Gt,null).clip().discardPath()),this.pdf.text(Ht,Rn.x,Rn.y,{angle:V.angle,align:W,renderingMode:V.renderingMode}),Ke&&this.pdf.restoreGraphicsState()}}else St.y<Pt&&(this.ctx.prevPageLastElemOffset+=Pt-St.y);V.scale>=.01&&(this.pdf.setFontSize(ce),this.lineWidth=Ae)}}else V.scale>=.01&&(ce=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ce*V.scale),Ae=this.lineWidth,this.lineWidth=Ae*V.scale),this.pdf.text(V.text,Ie.x+this.posX,Ie.y+this.posY,{angle:V.angle,align:W,renderingMode:V.renderingMode,maxWidth:V.maxWidth}),V.scale>=.01&&(this.pdf.setFontSize(ce),this.lineWidth=Ae)},G=function(V,W,ae,ce){ae=ae||0,ce=ce||0,this.pdf.internal.out(t(V+ae)+" "+s(W+ce)+" l")},ie=function(V,W,ae){return this.pdf.lines(V,W,ae,null,null)},ge=function(V,W,ae,ce,Ae,pe,Se,xe){this.pdf.internal.out([e(a(ae+V)),e(o(ce+W)),e(a(Ae+V)),e(o(pe+W)),e(a(Se+V)),e(o(xe+W)),"c"].join(" "))},J=function(V,W,ae,ce){for(var Ae=2*Math.PI,pe=Math.PI/2;W>ae;)W-=Ae;var Se=Math.abs(ae-W);Se<Ae&&ce&&(Se=Ae-Se);for(var xe=[],Ie=ce?-1:1,_e=W;Se>1e-5;){var De=_e+Ie*Math.min(Se,pe);xe.push(re.call(this,V,_e,De)),Se-=Math.abs(De-_e),_e=De}return xe},re=function(V,W,ae){var ce=(ae-W)/2,Ae=V*Math.cos(ce),pe=V*Math.sin(ce),Se=Ae,xe=-pe,Ie=Se*Se+xe*xe,_e=Ie+Se*Ae+xe*pe,De=4/3*(Math.sqrt(2*Ie*_e)-_e)/(Se*pe-xe*Ae),st=Se-De*xe,He=xe+De*Se,de=st,rt=-He,_t=ce+W,vt=Math.cos(_t),qe=Math.sin(_t);return{x1:V*Math.cos(W),y1:V*Math.sin(W),x2:st*vt-He*qe,y2:st*qe+He*vt,x3:de*vt-rt*qe,y3:de*qe+rt*vt,x4:V*Math.cos(ae),y4:V*Math.sin(ae)}},se=function(V){return 180*V/Math.PI},he=function(V,W,ae,ce,Ae,pe){var Se=V+.5*(ae-V),xe=W+.5*(ce-W),Ie=Ae+.5*(ae-Ae),_e=pe+.5*(ce-pe),De=Math.min(V,Ae,Se,Ie),st=Math.max(V,Ae,Se,Ie),He=Math.min(W,pe,xe,_e),de=Math.max(W,pe,xe,_e);return new h(De,He,st-De,de-He)},je=function(V,W,ae,ce,Ae,pe,Se,xe){var Ie,_e,De,st,He,de,rt,_t,vt,qe,We,dt,Qt,Pt,Gt=ae-V,sn=ce-W,en=Ae-ae,Nn=pe-ce,xt=Se-Ae,St=xe-pe;for(_e=0;_e<41;_e++)vt=(rt=(De=V+(Ie=_e/40)*Gt)+Ie*((He=ae+Ie*en)-De))+Ie*(He+Ie*(Ae+Ie*xt-He)-rt),qe=(_t=(st=W+Ie*sn)+Ie*((de=ce+Ie*Nn)-st))+Ie*(de+Ie*(pe+Ie*St-de)-_t),_e==0?(We=vt,dt=qe,Qt=vt,Pt=qe):(We=Math.min(We,vt),dt=Math.min(dt,qe),Qt=Math.max(Qt,vt),Pt=Math.max(Pt,qe));return new h(Math.round(We),Math.round(dt),Math.round(Qt-We),Math.round(Pt-dt))},ne=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var V,W,ae=(V=this.ctx.lineDash,W=this.ctx.lineDashOffset,JSON.stringify({lineDash:V,lineDashOffset:W}));this.prevLineDash!==ae&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ae)}}})(Qn.API),(function(n){var e=function(c){var h,u,f,A,m,v,g,b,S,N;for(u=[],f=0,A=(c+=h="\0\0\0\0".slice(c.length%4||4)).length;A>f;f+=4)(m=(c.charCodeAt(f)<<24)+(c.charCodeAt(f+1)<<16)+(c.charCodeAt(f+2)<<8)+c.charCodeAt(f+3))!==0?(v=(m=((m=((m=((m=(m-(N=m%85))/85)-(S=m%85))/85)-(b=m%85))/85)-(g=m%85))/85)%85,u.push(v+33,g+33,b+33,S+33,N+33)):u.push(122);return(function(E,I){for(var F=I;F>0;F--)E.pop()})(u,h.length),String.fromCharCode.apply(String,u)+"~>"},t=function(c){var h,u,f,A,m,v=String,g="length",b=255,S="charCodeAt",N="slice",E="replace";for(c[N](-2),c=c[N](0,-2)[E](/\s/g,"")[E]("z","!!!!!"),f=[],A=0,m=(c+=h="uuuuu"[N](c[g]%5||5))[g];m>A;A+=5)u=52200625*(c[S](A)-33)+614125*(c[S](A+1)-33)+7225*(c[S](A+2)-33)+85*(c[S](A+3)-33)+(c[S](A+4)-33),f.push(b&u>>24,b&u>>16,b&u>>8,b&u);return(function(I,F){for(var D=F;D>0;D--)I.pop()})(f,h[g]),v.fromCharCode.apply(v,f)},s=function(c){return c.split("").map(function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(c){var h=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((c=c.replace(/\s/g,"")).indexOf(">")!==-1&&(c=c.substr(0,c.indexOf(">"))),c.length%2&&(c+="0"),h.test(c)===!1)return"";for(var u="",f=0;f<c.length;f+=2)u+=String.fromCharCode("0x"+(c[f]+c[f+1]));return u},o=function(c){for(var h=new Uint8Array(c.length),u=c.length;u--;)h[u]=c.charCodeAt(u);return(h=mb(h)).reduce(function(f,A){return f+String.fromCharCode(A)},"")};n.processDataByFilters=function(c,h){var u=0,f=c||"",A=[];for(typeof(h=h||[])=="string"&&(h=[h]),u=0;u<h.length;u+=1)switch(h[u]){case"ASCII85Decode":case"/ASCII85Decode":f=t(f),A.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":f=e(f),A.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":f=a(f),A.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":f=s(f),A.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":f=o(f),A.push("/FlateDecode");break;default:throw new Error('The filter: "'+h[u]+'" is not implemented')}return{data:f,reverseChain:A.reverse().join(" ")}}})(Qn.API),(function(n){n.loadFile=function(e,t,s){return(function(a,o,c){o=o!==!1,c=typeof c=="function"?c:function(){};var h=void 0;try{h=(function(u,f,A){var m=new XMLHttpRequest,v=0,g=function(b){var S=b.length,N=[],E=String.fromCharCode;for(v=0;v<S;v+=1)N.push(E(255&b.charCodeAt(v)));return N.join("")};if(m.open("GET",u,!f),m.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(m.onload=function(){m.status===200?A(g(this.responseText)):A(void 0)}),m.send(null),f&&m.status===200)return g(m.responseText)})(a,o,c)}catch{}return h})(e,t,s)},n.loadImageFile=n.loadFile})(Qn.API),(function(n){function e(){return(os.html2canvas?Promise.resolve(os.html2canvas):Gy(()=>import("./html2canvas.esm-QH1iLAAe.js"),[],import.meta.url)).catch(function(h){return Promise.reject(new Error("Could not load html2canvas: "+h))}).then(function(h){return h.default?h.default:h})}function t(){return(os.DOMPurify?Promise.resolve(os.DOMPurify):Gy(()=>import("./purify.es-B9ZVCkUG.js"),[],import.meta.url)).catch(function(h){return Promise.reject(new Error("Could not load dompurify: "+h))}).then(function(h){return h.default?h.default:h})}var s=function(h){var u=Fr(h);return u==="undefined"?"undefined":u==="string"||h instanceof String?"string":u==="number"||h instanceof Number?"number":u==="function"||h instanceof Function?"function":h&&h.constructor===Array?"array":h&&h.nodeType===1?"element":u==="object"?"object":"unknown"},a=function(h,u){var f=document.createElement(h);for(var A in u.className&&(f.className=u.className),u.innerHTML&&u.dompurify&&(f.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)f.style[A]=u.style[A];return f},o=function h(u,f){for(var A=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),m=u.firstChild;m;m=m.nextSibling)f!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||A.appendChild(h(m,f));return u.nodeType===1&&(u.nodeName==="CANVAS"?(A.width=u.width,A.height=u.height,A.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(A.value=u.value),A.addEventListener("load",function(){A.scrollTop=u.scrollTop,A.scrollLeft=u.scrollLeft},!0)),A},c=function h(u){var f=Object.assign(h.convert(Promise.resolve()),JSON.parse(JSON.stringify(h.template))),A=h.convert(Promise.resolve(),f);return(A=A.setProgress(1,h,1,[h])).set(u)};(c.prototype=Object.create(Promise.prototype)).constructor=c,c.convert=function(h,u){return h.__proto__=u||c.prototype,h},c.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},c.prototype.from=function(h,u){return this.then(function(){switch(u=u||(function(f){switch(s(f)){case"string":return"string";case"element":return f.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(h),u){case"string":return this.then(t).then(function(f){return this.set({src:a("div",{innerHTML:h,dompurify:f})})});case"element":return this.set({src:h});case"canvas":return this.set({canvas:h});case"img":return this.set({img:h});default:return this.error("Unknown source type.")}})},c.prototype.to=function(h){switch(h){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},c.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var h={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(h.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:h}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},c.prototype.toCanvas=function(){var h=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(h).then(e).then(function(u){var f=Object.assign({},this.opt.html2canvas);return delete f.onrendered,u(this.prop.container,f)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},c.prototype.toContext2d=function(){var h=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(h).then(e).then(function(u){var f=this.opt.jsPDF,A=this.opt.fontFaces,m=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,v=Object.assign({async:!0,allowTaint:!0,scale:m,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete v.onrendered,f.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,f.context2d.posX=this.opt.x,f.context2d.posY=this.opt.y,f.context2d.margin=this.opt.margin,f.context2d.fontFaces=A,A)for(var g=0;g<A.length;++g){var b=A[g],S=b.src.find(function(N){return N.format==="truetype"});S&&f.addFont(S.url,b.ref.name,b.ref.style)}return v.windowHeight=v.windowHeight||0,v.windowHeight=v.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):v.windowHeight,f.context2d.save(!0),u(this.prop.container,v)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},c.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var h=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=h})},c.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},c.prototype.output=function(h,u,f){return(f=f||"pdf").toLowerCase()==="img"||f.toLowerCase()==="image"?this.outputImg(h,u):this.outputPdf(h,u)},c.prototype.outputPdf=function(h,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(h,u)})},c.prototype.outputImg=function(h){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(h){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+h+'" is not supported.'}})},c.prototype.save=function(h){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(h?{filename:h}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},c.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},c.prototype.set=function(h){if(s(h)!=="object")return this;var u=Object.keys(h||{}).map(function(f){if(f in c.template.prop)return function(){this.prop[f]=h[f]};switch(f){case"margin":return this.setMargin.bind(this,h.margin);case"jsPDF":return function(){return this.opt.jsPDF=h.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,h.pageSize);default:return function(){this.opt[f]=h[f]}}},this);return this.then(function(){return this.thenList(u)})},c.prototype.get=function(h,u){return this.then(function(){var f=h in c.template.prop?this.prop[h]:this.opt[h];return u?u(f):f})},c.prototype.setMargin=function(h){return this.then(function(){switch(s(h)){case"number":h=[h,h,h,h];case"array":if(h.length===2&&(h=[h[0],h[1],h[0],h[1]]),h.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=h}).then(this.setPageSize)},c.prototype.setPageSize=function(h){function u(f,A){return Math.floor(f*A/72*96)}return this.then(function(){(h=h||Qn.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(h.inner={width:h.width-this.opt.margin[1]-this.opt.margin[3],height:h.height-this.opt.margin[0]-this.opt.margin[2]},h.inner.px={width:u(h.inner.width,h.k),height:u(h.inner.height,h.k)},h.inner.ratio=h.inner.height/h.inner.width),this.prop.pageSize=h})},c.prototype.setProgress=function(h,u,f,A){return h!=null&&(this.progress.val=h),u!=null&&(this.progress.state=u),f!=null&&(this.progress.n=f),A!=null&&(this.progress.stack=A),this.progress.ratio=this.progress.val/this.progress.state,this},c.prototype.updateProgress=function(h,u,f,A){return this.setProgress(h?this.progress.val+h:null,u||null,f?this.progress.n+f:null,A?this.progress.stack.concat(A):null)},c.prototype.then=function(h,u){var f=this;return this.thenCore(h,u,function(A,m){return f.updateProgress(null,null,1,[A]),Promise.prototype.then.call(this,function(v){return f.updateProgress(null,A),v}).then(A,m).then(function(v){return f.updateProgress(1),v})})},c.prototype.thenCore=function(h,u,f){f=f||Promise.prototype.then;var A=this;h&&(h=h.bind(A)),u&&(u=u.bind(A));var m=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?A:c.convert(Object.assign({},A),Promise.prototype),v=f.call(m,h,u);return c.convert(v,A.__proto__)},c.prototype.thenExternal=function(h,u){return Promise.prototype.then.call(this,h,u)},c.prototype.thenList=function(h){var u=this;return h.forEach(function(f){u=u.thenCore(f)}),u},c.prototype.catch=function(h){h&&(h=h.bind(this));var u=Promise.prototype.catch.call(this,h);return c.convert(u,this)},c.prototype.catchExternal=function(h){return Promise.prototype.catch.call(this,h)},c.prototype.error=function(h){return this.then(function(){throw new Error(h)})},c.prototype.using=c.prototype.set,c.prototype.saveAs=c.prototype.save,c.prototype.export=c.prototype.output,c.prototype.run=c.prototype.then,Qn.getPageSize=function(h,u,f){if(Fr(h)==="object"){var A=h;h=A.orientation,u=A.unit||u,f=A.format||f}u=u||"mm",f=f||"a4",h=(""+(h||"P")).toLowerCase();var m,v=(""+f).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":m=1;break;case"mm":m=72/25.4;break;case"cm":m=72/2.54;break;case"in":m=72;break;case"px":m=.75;break;case"pc":case"em":m=12;break;case"ex":m=6;break;default:throw"Invalid unit: "+u}var b,S=0,N=0;if(g.hasOwnProperty(v))S=g[v][1]/m,N=g[v][0]/m;else try{S=f[1],N=f[0]}catch{throw new Error("Invalid format: "+f)}if(h==="p"||h==="portrait")h="p",N>S&&(b=N,N=S,S=b);else{if(h!=="l"&&h!=="landscape")throw"Invalid orientation: "+h;h="l",S>N&&(b=N,N=S,S=b)}return{width:N,height:S,unit:u,k:m,orientation:h}},n.html=function(h,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(c1):null;var f=new c(u);return u.worker?f:f.from(h).doCallback()}})(Qn.API),Qn.API.addJS=function(n){return WC=n,this.internal.events.subscribe("postPutResources",function(){W0=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(W0+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),YC=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+WC+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){W0!==void 0&&YC!==void 0&&this.internal.out("/Names <</JavaScript "+W0+" 0 R>>")}),this},(function(n){var e;n.events.push(["postPutResources",function(){var t=this,s=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=t.outline.render().split(/\r\n/),o=0;o<a.length;o++){var c=a[o],h=s.exec(c);if(h!=null){var u=h[1];t.internal.newObjectDeferredBegin(u,!1)}t.internal.write(c)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,A=[];for(o=0;o<f;o++){var m=t.internal.newObject();A.push(m);var v=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+v.objId+" 0 R /XYZ null null null]>> endobj")}var g=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<A.length;o++)t.internal.write("(page_"+(o+1)+")"+A[o]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+g+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(s,a,o){var c={title:a,options:o,children:[]};return s==null&&(s=this.root),s.children.push(c),c},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(s){s.id=t.internal.newObjectDeferred();for(var a=0;a<s.children.length;a++)this.genIds_r(s.children[a])},t.outline.renderRoot=function(s){this.objStart(s),this.line("/Type /Outlines"),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1]))),this.line("/Count "+this.count_r({count:0},s)),this.objEnd()},t.outline.renderItems=function(s){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<s.children.length;o++){var c=s.children[o];this.objStart(c),this.line("/Title "+this.makeString(c.title)),this.line("/Parent "+this.makeRef(s)),o>0&&this.line("/Prev "+this.makeRef(s.children[o-1])),o<s.children.length-1&&this.line("/Next "+this.makeRef(s.children[o+1])),c.children.length>0&&(this.line("/First "+this.makeRef(c.children[0])),this.line("/Last "+this.makeRef(c.children[c.children.length-1])));var h=this.count=this.count_r({count:0},c);if(h>0&&this.line("/Count "+h),c.options&&c.options.pageNumber){var u=t.internal.getPageInfo(c.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var f=0;f<s.children.length;f++)this.renderItems(s.children[f])},t.outline.line=function(s){this.ctx.val+=s+`\r
`},t.outline.makeRef=function(s){return s.id+" 0 R"},t.outline.makeString=function(s){return"("+t.internal.pdfEscape(s)+")"},t.outline.objStart=function(s){this.ctx.val+=`\r
`+s.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(s,a){for(var o=0;o<a.children.length;o++)s.count++,this.count_r(s,a.children[o]);return s.count}}])})(Qn.API),(function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,s,a,o,c,h){var u,f=this.decode.DCT_DECODE,A=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=c||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,u=(function(m){for(var v,g=256*m.charCodeAt(4)+m.charCodeAt(5),b=m.length,S={width:0,height:0,numcomponents:1},N=4;N<b;N+=2){if(N+=g,e.indexOf(m.charCodeAt(N+1))!==-1){v=256*m.charCodeAt(N+5)+m.charCodeAt(N+6),S={width:256*m.charCodeAt(N+7)+m.charCodeAt(N+8),height:v,numcomponents:m.charCodeAt(N+9)};break}g=256*m.charCodeAt(N+2)+m.charCodeAt(N+3)}return S})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),u.numcomponents){case 1:h=this.color_spaces.DEVICE_GRAY;break;case 4:h=this.color_spaces.DEVICE_CMYK;break;case 3:h=this.color_spaces.DEVICE_RGB}A={data:t,width:u.width,height:u.height,colorSpace:h,bitsPerComponent:8,filter:f,index:s,alias:a}}return A}})(Qn.API),Qn.API.processPNG=function(n,e,t,s){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var a,o=g9(n,{checkCrc:!0}),c=o.width,h=o.height,u=o.channels,f=o.palette,A=o.depth;a=f&&u===1?(function(Q){for(var R=Q.width,M=Q.height,O=Q.data,H=Q.palette,G=Q.depth,ie=!1,ge=[],J=[],re=void 0,se=!1,he=0,je=0;je<H.length;je++){var ne=Z5(H[je],4),V=ne[0],W=ne[1],ae=ne[2],ce=ne[3];ge.push(V,W,ae),ce!=null&&(ce===0?(he++,J.length<1&&J.push(je)):ce<255&&(se=!0))}if(se||he>1){ie=!0,J=void 0;var Ae=R*M;re=new Uint8Array(Ae);for(var pe=new DataView(O.buffer),Se=0;Se<Ae;Se++){var xe=d1(pe,Se,G),Ie=Z5(H[xe],4)[3];re[Se]=Ie}}else he===0&&(J=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:ie?8:void 0,colorBytes:O,alphaBytes:re,needSMask:ie,palette:ge,mask:J}})(o):u===2||u===4?(function(Q){for(var R=Q.data,M=Q.width,O=Q.height,H=Q.channels,G=Q.depth,ie=H===2?"DeviceGray":"DeviceRGB",ge=H-1,J=M*O,re=ge,se=J*re,he=1*J,je=Math.ceil(se*G/8),ne=Math.ceil(he*G/8),V=new Uint8Array(je),W=new Uint8Array(ne),ae=new DataView(R.buffer),ce=new DataView(V.buffer),Ae=new DataView(W.buffer),pe=!1,Se=0;Se<J;Se++){for(var xe=Se*H,Ie=0;Ie<re;Ie++)rS(ce,d1(ae,xe+Ie,G),Se*re+Ie,G);var _e=d1(ae,xe+re,G);_e<(1<<G)-1&&(pe=!0),rS(Ae,_e,1*Se,G)}return{colorSpace:ie,colorsPerPixel:ge,sMaskBitsPerComponent:pe?G:void 0,colorBytes:V,alphaBytes:W,needSMask:pe}})(o):(function(Q){var R=Q.data,M=Q.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:M,colorsPerPixel:M==="DeviceGray"?1:3,colorBytes:R instanceof Uint16Array?(function(O){for(var H=O.length,G=new Uint8Array(2*H),ie=new DataView(G.buffer,G.byteOffset,G.byteLength),ge=0;ge<H;ge++)ie.setUint16(2*ge,O[ge],!1);return G})(R):R,needSMask:!1}})(o);var m,v,g,b=a,S=b.colorSpace,N=b.colorsPerPixel,E=b.sMaskBitsPerComponent,I=b.colorBytes,F=b.alphaBytes,D=b.needSMask,P=b.palette,K=b.mask,L=null;return s!==Qn.API.image_compression.NONE&&typeof mb=="function"?(L=(function(Q){var R;switch(Q){case Qn.API.image_compression.FAST:R=11;break;case Qn.API.image_compression.MEDIUM:R=13;break;case Qn.API.image_compression.SLOW:R=14;break;default:R=12}return R})(s),m=this.decode.FLATE_DECODE,v="/Predictor ".concat(L," /Colors ").concat(N," /BitsPerComponent ").concat(A," /Columns ").concat(c),n=ZC(I,Math.ceil(c*N*A/8),N,A,s),D&&(g=ZC(F,Math.ceil(c*E/8),1,E,s))):(m=void 0,v=void 0,n=I,D&&(g=F)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(g&&this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),{alias:t,data:n,index:e,filter:m,decodeParameters:v,transparency:K,palette:P,sMask:g,predictor:L,width:c,height:h,bitsPerComponent:A,sMaskBitsPerComponent:E,colorSpace:S}}},(function(n){n.processGIF89A=function(e,t,s,a){var o=new P9(e),c=o.width,h=o.height,u=[];o.decodeAndBlitFrameRGBA(0,u);var f={data:u,width:c,height:h},A=new h1(100).encode(f,100);return n.processJPEG.call(this,A,t,s,a)},n.processGIF87A=n.processGIF89A})(Qn.API),qA.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:s,blue:t,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},qA.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){zr.log("bit decode error:"+t)}},qA.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,a=0;a<e;a++)for(var o=this.datav.getUint8(this.pos++,!0),c=s*this.width*4+8*a*4,h=0;h<8&&8*a+h<this.width;h++){var u=this.palette[o>>7-h&1];this.data[c+4*h]=u.blue,this.data[c+4*h+1]=u.green,this.data[c+4*h+2]=u.red,this.data[c+4*h+3]=255}t!==0&&(this.pos+=4-t)}},qA.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var s=this.bottom_up?t:this.height-1-t,a=0;a<n;a++){var o=this.datav.getUint8(this.pos++,!0),c=s*this.width*4+2*a*4,h=o>>4,u=15&o,f=this.palette[h];if(this.data[c]=f.blue,this.data[c+1]=f.green,this.data[c+2]=f.red,this.data[c+3]=255,2*a+1>=this.width)break;f=this.palette[u],this.data[c+4]=f.blue,this.data[c+4+1]=f.green,this.data[c+4+2]=f.red,this.data[c+4+3]=255}e!==0&&(this.pos+=4-e)}},qA.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,s=0;s<this.width;s++){var a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*s;if(a<this.palette.length){var c=this.palette[a];this.data[o]=c.red,this.data[o+1]=c.green,this.data[o+2]=c.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}n!==0&&(this.pos+=4-n)}},qA.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var s=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(o&e)/e*255|0,h=(o>>5&e)/e*255|0,u=(o>>10&e)/e*255|0,f=o>>15?255:0,A=s*this.width*4+4*a;this.data[A]=u,this.data[A+1]=h,this.data[A+2]=c,this.data[A+3]=f}this.pos+=n}},qA.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),s=this.height-1;s>=0;s--){for(var a=this.bottom_up?s:this.height-1-s,o=0;o<this.width;o++){var c=this.datav.getUint16(this.pos,!0);this.pos+=2;var h=(c&e)/e*255|0,u=(c>>5&t)/t*255|0,f=(c>>11)/e*255|0,A=a*this.width*4+4*o;this.data[A]=f,this.data[A+1]=u,this.data[A+2]=h,this.data[A+3]=255}this.pos+=n}},qA.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*t;this.data[c]=o,this.data[c+1]=a,this.data[c+2]=s,this.data[c+3]=255}this.pos+=this.width%4}},qA.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),h=e*this.width*4+4*t;this.data[h]=o,this.data[h+1]=a,this.data[h+2]=s,this.data[h+3]=c}},qA.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(e,t,s,a){var o=new qA(e,!1),c=o.width,h=o.height,u={data:o.getData(),width:c,height:h},f=new h1(100).encode(u,100);return n.processJPEG.call(this,f,t,s,a)}})(Qn.API),iS.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(e,t,s,a){var o=new iS(e),c=o.width,h=o.height,u={data:o.getData(),width:c,height:h},f=new h1(100).encode(u,100);return n.processJPEG.call(this,f,t,s,a)}})(Qn.API),Qn.API.processRGBA=function(n,e,t){for(var s=n.data,a=s.length,o=new Uint8Array(a/4*3),c=new Uint8Array(a/4),h=0,u=0,f=0;f<a;f+=4){var A=s[f],m=s[f+1],v=s[f+2],g=s[f+3];o[h++]=A,o[h++]=m,o[h++]=v,c[u++]=g}var b=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(c),data:b,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Qn.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Lf=Qn.API,X0=Lf.getCharWidthsArray=function(n,e){var t,s,a=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),c=e.charSpace||this.internal.getCharSpace(),h=e.widths?e.widths:a.metadata.Unicode.widths,u=h.fof?h.fof:1,f=e.kerning?e.kerning:a.metadata.Unicode.kerning,A=f.fof?f.fof:1,m=e.doKerning!==!1,v=0,g=n.length,b=0,S=h[0]||u,N=[];for(t=0;t<g;t++)s=n.charCodeAt(t),typeof a.metadata.widthOfString=="function"?N.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(s))+c*(1e3/o)||0)/1e3):(v=m&&Fr(f[s])==="object"&&!isNaN(parseInt(f[s][b],10))?f[s][b]/A:0,N.push((h[s]||S)/u+v)),b=s;return N},XC=Lf.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),s=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return Lf.processArabic&&(n=Lf.processArabic(n)),typeof s.metadata.widthOfString=="function"?s.metadata.widthOfString(n,t,a)/t:X0.apply(this,arguments).reduce(function(o,c){return o+c},0)},JC=function(n,e,t,s){for(var a=[],o=0,c=n.length,h=0;o!==c&&h+e[o]<t;)h+=e[o],o++;a.push(n.slice(0,o));var u=o;for(h=0;o!==c;)h+e[o]>s&&(a.push(n.slice(u,o)),h=0,u=o),h+=e[o],o++;return u!==o&&a.push(n.slice(u,o)),a},qC=function(n,e,t){t||(t={});var s,a,o,c,h,u,f,A=[],m=[A],v=t.textIndent||0,g=0,b=0,S=n.split(" "),N=X0.apply(this,[" ",t])[0];if(u=t.lineIndent===-1?S[0].length+2:t.lineIndent||0){var E=Array(u).join(" "),I=[];S.map(function(D){(D=D.split(/\s*\n/)).length>1?I=I.concat(D.map(function(P,K){return(K&&P.length?`
`:"")+P})):I.push(D[0])}),S=I,u=XC.apply(this,[E,t])}for(o=0,c=S.length;o<c;o++){var F=0;if(s=S[o],u&&s[0]==`
`&&(s=s.substr(1),F=1),v+g+(b=(a=X0.apply(this,[s,t])).reduce(function(D,P){return D+P},0))>e||F){if(b>e){for(h=JC.apply(this,[s,a,e-(v+g),e]),A.push(h.shift()),A=[h.pop()];h.length;)m.push([h.shift()]);b=a.slice(s.length-(A[0]?A[0].length:0)).reduce(function(D,P){return D+P},0)}else A=[s];m.push(A),v=b+u,g=N}else A.push(s),v+=g+b,g=N}return f=u?function(D,P){return(P?E:"")+D.join(" ")}:function(D){return D.join(" ")},m.map(f)},Lf.splitTextToSize=function(n,e,t){var s,a=(t=t||{}).fontSize||this.internal.getFontSize(),o=(function(A){if(A.widths&&A.kerning)return{widths:A.widths,kerning:A.kerning};var m=this.internal.getFont(A.fontName,A.fontStyle),v="Unicode";return m.metadata[v]?{widths:m.metadata[v].widths||{0:1},kerning:m.metadata[v].kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);s=Array.isArray(n)?n:String(n).split(/\r?\n/);var c=1*this.internal.scaleFactor*e/a;o.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/a:0,o.lineIndent=t.lineIndent;var h,u,f=[];for(h=0,u=s.length;h<u;h++)f=f.concat(qC.apply(this,[s[h],c,o]));return f},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",s={},a={},o=0;o<16;o++)s[t[o]]=e[o],a[e[o]]=t[o];var c=function(v){return"0x"+parseInt(v,10).toString(16)},h=n.__fontmetrics__.compress=function(v){var g,b,S,N,E=["{"];for(var I in v){if(g=v[I],isNaN(parseInt(I,10))?b="'"+I+"'":(I=parseInt(I,10),b=(b=c(I).slice(2)).slice(0,-1)+a[b.slice(-1)]),typeof g=="number")g<0?(S=c(g).slice(3),N="-"):(S=c(g).slice(2),N=""),S=N+S.slice(0,-1)+a[S.slice(-1)];else{if(Fr(g)!=="object")throw new Error("Don't know what to do with value type "+Fr(g)+".");S=h(g)}E.push(b+S)}return E.push("}"),E.join("")},u=n.__fontmetrics__.uncompress=function(v){if(typeof v!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,b,S,N,E={},I=1,F=E,D=[],P="",K="",L=v.length-1,Q=1;Q<L;Q+=1)(N=v[Q])=="'"?g?(S=g.join(""),g=void 0):g=[]:g?g.push(N):N=="{"?(D.push([F,S]),F={},S=void 0):N=="}"?((b=D.pop())[0][b[1]]=F,S=void 0,F=b[0]):N=="-"?I=-1:S===void 0?s.hasOwnProperty(N)?(P+=s[N],S=parseInt(P,16)*I,I=1,P=""):P+=N:s.hasOwnProperty(N)?(K+=s[N],F[S]=parseInt(K,16)*I,I=1,S=void 0,K=""):K+=N;return E},f={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},A={Unicode:{Courier:f,"Courier-Bold":f,"Courier-BoldOblique":f,"Courier-Oblique":f,Helvetica:f,"Helvetica-Bold":f,"Helvetica-BoldOblique":f,"Helvetica-Oblique":f,"Times-Roman":f,"Times-Bold":f,"Times-BoldItalic":f,"Times-Italic":f}},m={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(v){var g=v.font,b=m.Unicode[g.postScriptName];b&&(g.metadata.Unicode={},g.metadata.Unicode.widths=b.widths,g.metadata.Unicode.kerning=b.kerning);var S=A.Unicode[g.postScriptName];S&&(g.metadata.Unicode.encoding=S,g.encoding=S.codePages[0])}])})(Qn.API),(function(n){var e=function(t){for(var s=t.length,a=new Uint8Array(s),o=0;o<s;o++)a[o]=t.charCodeAt(o);return a};n.API.events.push(["addFont",function(t){var s=void 0,a=t.font,o=t.instance;if(!a.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(s=o.existsFileInVFS(a.postScriptName)===!1?o.loadFile(a.postScriptName):o.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(c,h){h=/^\x00\x01\x00\x00/.test(h)?e(h):e(gv(h)),c.metadata=n.API.TTFFont.open(h),c.metadata.Unicode=c.metadata.Unicode||{encoding:{},kerning:{},widths:[]},c.metadata.glyIdsUsed=[0]})(a,s)}}])})(Qn),Qn.API.addSvgAsImage=function(n,e,t,s,a,o,c,h){if(isNaN(e)||isNaN(t))throw zr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(a))throw zr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=s,u.height=a;var f=u.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,u.width,u.height);var A={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return(os.canvg?Promise.resolve(os.canvg):Gy(()=>import("./index.es-CDQwVeyT.js"),[],import.meta.url)).catch(function(v){return Promise.reject(new Error("Could not load canvg: "+v))}).then(function(v){return v.default?v.default:v}).then(function(v){return v.fromString(f,n,A)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(v){return v.render(A)}).then(function(){m.addImage(u.toDataURL("image/jpeg",1),e,t,s,a,c,h)})},Qn.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var s=1;s<=this.internal.getNumberOfPages();s++)for(var a=0;a<this.internal.pages[s].length;a++)this.internal.pages[s][a]=this.internal.pages[s][a].replace(e,t);return this},Qn.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var s,a,o,c={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},h=Object.keys(c),u=[],f=0,A=0,m=0;function v(b,S){var N,E=!1;for(N=0;N<b.length;N+=1)b[N]===S&&(E=!0);return E}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(c)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var g=h.length;for(m=0;m<g;m+=1)t[h[m]].value=t[h[m]].defaultValue,t[h[m]].explicitSet=!1}if(Fr(n)==="object"){for(a in n)if(o=n[a],v(h,a)&&o!==void 0){if(t[a].type==="boolean"&&typeof o=="boolean")t[a].value=o;else if(t[a].type==="name"&&v(t[a].valueSet,o))t[a].value=o;else if(t[a].type==="integer"&&Number.isInteger(o))t[a].value=o;else if(t[a].type==="array"){for(f=0;f<o.length;f+=1)if(s=!0,o[f].length===1&&typeof o[f][0]=="number")u.push(String(o[f]-1));else if(o[f].length>1){for(A=0;A<o[f].length;A+=1)typeof o[f][A]!="number"&&(s=!1);s===!0&&u.push([o[f][0]-1,o[f][1]-1].join(" "))}t[a].value="["+u.join(" ")+"]"}else t[a].value=t[a].defaultValue;t[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var b,S=[];for(b in t)t[b].explicitSet===!0&&(t[b].type==="name"?S.push("/"+b+" /"+t[b].value):S.push("/"+b+" "+t[b].value));S.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+S.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(n){var e=function(){var s='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(s)),c=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),h=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),f=o.length+c.length+h.length+a.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(a+o+c+h+u),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(s,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:s,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(Qn.API),(function(n){var e=n.API,t=e.pdfEscape16=function(o,c){for(var h,u=c.metadata.Unicode.widths,f=["","0","00","000","0000"],A=[""],m=0,v=o.length;m<v;++m){if(h=c.metadata.characterToGlyph(o.charCodeAt(m)),c.metadata.glyIdsUsed.push(h),c.metadata.toUnicode[h]=o.charCodeAt(m),u.indexOf(h)==-1&&(u.push(h),u.push([parseInt(c.metadata.widthOfGlyph(h),10)])),h=="0")return A.join("");h=h.toString(16),A.push(f[4-h.length],h)}return A.join("")},s=function(o){var c,h,u,f,A,m,v;for(A=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],m=0,v=(h=Object.keys(o).sort(function(g,b){return g-b})).length;m<v;m++)c=h[m],u.length>=100&&(A+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),o[c]!==void 0&&o[c]!==null&&typeof o[c].toString=="function"&&(f=("0000"+o[c].toString(16)).slice(-4),c=("0000"+(+c).toString(16)).slice(-4),u.push("<"+c+"><"+f+">"));return u.length&&(A+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),A+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(c){var h=c.font,u=c.out,f=c.newObject,A=c.putStream;if(h.metadata instanceof n.API.TTFFont&&h.encoding==="Identity-H"){for(var m=h.metadata.Unicode.widths,v=h.metadata.subset.encode(h.metadata.glyIdsUsed,1),g="",b=0;b<v.length;b++)g+=String.fromCharCode(v[b]);var S=f();A({data:g,addLength1:!0,objectId:S}),u("endobj");var N=f();A({data:s(h.metadata.toUnicode),addLength1:!0,objectId:N}),u("endobj");var E=f();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+Vf(h.fontName)),u("/FontFile2 "+S+" 0 R"),u("/FontBBox "+n.API.PDFObject.convert(h.metadata.bbox)),u("/Flags "+h.metadata.flags),u("/StemV "+h.metadata.stemV),u("/ItalicAngle "+h.metadata.italicAngle),u("/Ascent "+h.metadata.ascender),u("/Descent "+h.metadata.decender),u("/CapHeight "+h.metadata.capHeight),u(">>"),u("endobj");var I=f();u("<<"),u("/Type /Font"),u("/BaseFont /"+Vf(h.fontName)),u("/FontDescriptor "+E+" 0 R"),u("/W "+n.API.PDFObject.convert(m)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+h.encoding+")"),u(">>"),u(">>"),u("endobj"),h.objectNumber=f(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+N+" 0 R"),u("/BaseFont /"+Vf(h.fontName)),u("/Encoding /"+h.encoding),u("/DescendantFonts ["+I+" 0 R]"),u(">>"),u("endobj"),h.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(c){var h=c.font,u=c.out,f=c.newObject,A=c.putStream;if(h.metadata instanceof n.API.TTFFont&&h.encoding==="WinAnsiEncoding"){for(var m=h.metadata.rawData,v="",g=0;g<m.length;g++)v+=String.fromCharCode(m[g]);var b=f();A({data:v,addLength1:!0,objectId:b}),u("endobj");var S=f();A({data:s(h.metadata.toUnicode),addLength1:!0,objectId:S}),u("endobj");var N=f();u("<<"),u("/Descent "+h.metadata.decender),u("/CapHeight "+h.metadata.capHeight),u("/StemV "+h.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+b+" 0 R"),u("/Flags 96"),u("/FontBBox "+n.API.PDFObject.convert(h.metadata.bbox)),u("/FontName /"+Vf(h.fontName)),u("/ItalicAngle "+h.metadata.italicAngle),u("/Ascent "+h.metadata.ascender),u(">>"),u("endobj"),h.objectNumber=f();for(var E=0;E<h.metadata.hmtx.widths.length;E++)h.metadata.hmtx.widths[E]=parseInt(h.metadata.hmtx.widths[E]*(1e3/h.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+S+" 0 R/BaseFont/"+Vf(h.fontName)+"/FontDescriptor "+N+" 0 R/Encoding/"+h.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(h.metadata.hmtx.widths)+">>"),u("endobj"),h.isAlreadyPutted=!0}})(o)}]);var a=function(o){var c,h=o.text||"",u=o.x,f=o.y,A=o.options||{},m=o.mutex||{},v=m.pdfEscape,g=m.activeFontKey,b=m.fonts,S=g,N="",E=0,I="",F=b[S].encoding;if(b[S].encoding!=="Identity-H")return{text:h,x:u,y:f,options:A,mutex:m};for(I=h,S=g,Array.isArray(h)&&(I=h[0]),E=0;E<I.length;E+=1)b[S].metadata.hasOwnProperty("cmap")&&(c=b[S].metadata.cmap.unicode.codeMap[I[E].charCodeAt(0)]),c||I[E].charCodeAt(0)<256&&b[S].metadata.hasOwnProperty("Unicode")?N+=I[E]:N+="";var D="";return parseInt(S.slice(1))<14||F==="WinAnsiEncoding"?D=v(N,S).split("").map(function(P){return P.charCodeAt(0).toString(16)}).join(""):F==="Identity-H"&&(D=t(N,b[S])),m.isHex=!0,{text:D,x:u,y:f,options:A,mutex:m}};e.events.push(["postProcessText",function(o){var c=o.text||"",h=[],u={text:c,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(c)){var f=0;for(f=0;f<c.length;f+=1)Array.isArray(c[f])&&c[f].length===3?h.push([a(Object.assign({},u,{text:c[f][0]})).text,c[f][1],c[f][2]]):h.push(a(Object.assign({},u,{text:c[f]})).text);o.text=h}else o.text=a(Object.assign({},u,{text:c})).text}])})(Qn),(function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,s){return e.call(this),this.internal.vFS[t]=s,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(Qn.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(s){var a,o,c,h,u,f,A,m=e,v=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],b={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},S={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},N=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],E=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),I=!1,F=0;this.__bidiEngine__={};var D=function(O){var H=O.charCodeAt(),G=H>>8,ie=S[G];return ie!==void 0?m[256*ie+(255&H)]:G===252||G===253?"AL":E.test(G)?"L":G===8?"R":"N"},P=function(O){for(var H,G=0;G<O.length;G++){if((H=D(O.charAt(G)))==="L")return!1;if(H==="R")return!0}return!1},K=function(O,H,G,ie){var ge,J,re,se,he=H[ie];switch(he){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":I=!1;break;case"N":case"AN":break;case"EN":I&&(he="AN");break;case"AL":I=!0,he="R";break;case"WS":case"BN":he="N";break;case"CS":ie<1||ie+1>=H.length||(ge=G[ie-1])!=="EN"&&ge!=="AN"||(J=H[ie+1])!=="EN"&&J!=="AN"?he="N":I&&(J="AN"),he=J===ge?J:"N";break;case"ES":he=(ge=ie>0?G[ie-1]:"B")==="EN"&&ie+1<H.length&&H[ie+1]==="EN"?"EN":"N";break;case"ET":if(ie>0&&G[ie-1]==="EN"){he="EN";break}if(I){he="N";break}for(re=ie+1,se=H.length;re<se&&H[re]==="ET";)re++;he=re<se&&H[re]==="EN"?"EN":"N";break;case"NSM":if(c&&!h){for(se=H.length,re=ie+1;re<se&&H[re]==="NSM";)re++;if(re<se){var je=O[ie],ne=je>=1425&&je<=2303||je===64286;if(ge=H[re],ne&&(ge==="R"||ge==="AL")){he="R";break}}}he=ie<1||(ge=H[ie-1])==="B"?"N":G[ie-1];break;case"B":I=!1,a=!0,he=F;break;case"S":o=!0,he="N"}return he},L=function(O,H,G){var ie=O.split("");return G&&Q(ie,G,{hiLevel:F}),ie.reverse(),H&&H.reverse(),ie.join("")},Q=function(O,H,G){var ie,ge,J,re,se,he=-1,je=O.length,ne=0,V=[],W=F?g:v,ae=[];for(I=!1,a=!1,o=!1,ge=0;ge<je;ge++)ae[ge]=D(O[ge]);for(J=0;J<je;J++){if(se=ne,V[J]=K(O,ae,V,J),ie=240&(ne=W[se][b[V[J]]]),ne&=15,H[J]=re=W[ne][5],ie>0)if(ie===16){for(ge=he;ge<J;ge++)H[ge]=1;he=-1}else he=-1;if(W[ne][6])he===-1&&(he=J);else if(he>-1){for(ge=he;ge<J;ge++)H[ge]=re;he=-1}ae[J]==="B"&&(H[J]=0),G.hiLevel|=re}o&&(function(ce,Ae,pe){for(var Se=0;Se<pe;Se++)if(ce[Se]==="S"){Ae[Se]=F;for(var xe=Se-1;xe>=0&&ce[xe]==="WS";xe--)Ae[xe]=F}})(ae,H,je)},R=function(O,H,G,ie,ge){if(!(ge.hiLevel<O)){if(O===1&&F===1&&!a)return H.reverse(),void(G&&G.reverse());for(var J,re,se,he,je=H.length,ne=0;ne<je;){if(ie[ne]>=O){for(se=ne+1;se<je&&ie[se]>=O;)se++;for(he=ne,re=se-1;he<re;he++,re--)J=H[he],H[he]=H[re],H[re]=J,G&&(J=G[he],G[he]=G[re],G[re]=J);ne=se}ne++}}},M=function(O,H,G){var ie=O.split(""),ge={hiLevel:F};return G||(G=[]),Q(ie,G,ge),(function(J,re,se){if(se.hiLevel!==0&&A)for(var he,je=0;je<J.length;je++)re[je]===1&&(he=N.indexOf(J[je]))>=0&&(J[je]=N[he+1])})(ie,G,ge),R(2,ie,H,G,ge),R(1,ie,H,G,ge),ie.join("")};return this.__bidiEngine__.doBidiReorder=function(O,H,G){if((function(ge,J){if(J)for(var re=0;re<ge.length;re++)J[re]=re;h===void 0&&(h=P(ge)),f===void 0&&(f=P(ge))})(O,H),c||!u||f)if(c&&u&&h^f)F=h?1:0,O=L(O,H,G);else if(!c&&u&&f)F=h?1:0,O=M(O,H,G),O=L(O,H);else if(!c||h||u||f){if(c&&!u&&h^f)O=L(O,H),h?(F=0,O=M(O,H,G)):(F=1,O=M(O,H,G),O=L(O,H));else if(c&&h&&!u&&f)F=1,O=M(O,H,G),O=L(O,H);else if(!c&&!u&&h^f){var ie=A;h?(F=1,O=M(O,H,G),F=0,A=!1,O=M(O,H,G),A=ie):(F=0,O=M(O,H,G),O=L(O,H),F=1,A=!1,O=M(O,H,G),A=ie,O=L(O,H))}}else F=0,O=M(O,H,G);else F=h?1:0,O=M(O,H,G);return O},this.__bidiEngine__.setOptions=function(O){O&&(c=O.isInputVisual,u=O.isOutputVisual,h=O.isInputRtl,f=O.isOutputRtl,A=O.isSymmetricSwapping)},this.__bidiEngine__.setOptions(s),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(s){var a=s.text;s.x,s.y;var o=s.options||{};s.mutex,o.lang;var c=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,t.setOptions(o),Object.prototype.toString.call(a)==="[object Array]"){var h=0;for(c=[],h=0;h<a.length;h+=1)Object.prototype.toString.call(a[h])==="[object Array]"?c.push([t.doBidiReorder(a[h][0]),a[h][1],a[h][2]]):c.push([t.doBidiReorder(a[h])]);s.text=c}else s.text=t.doBidiReorder(a);t.setOptions({isInputVisual:!0})}])})(Qn),Qn.API.TTFFont=(function(){function n(e){var t;if(this.rawData=e,t=this.contents=new Vd(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new eV(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new k9(this.contents),this.head=new H9(this),this.name=new $9(this),this.cmap=new SI(this),this.toUnicode={},this.hhea=new V9(this),this.maxp=new Y9(this),this.hmtx=new W9(this),this.post=new z9(this),this.os2=new K9(this),this.loca=new Z9(this),this.glyf=new X9(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,s,a,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var c,h,u,f;for(f=[],c=0,h=(u=this.bbox).length;c<h;c++)e=u[c],f.push(Math.round(e*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(s=255&(a=this.post.italic_angle),32768&(t=a>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+s)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,s){var a,o,c,h;for(c=0,o=0,h=(e=""+e).length;0<=h?o<h:o>h;o=0<=h?++o:--o)a=e.charCodeAt(o),c+=this.widthOfGlyph(this.characterToGlyph(a))+s*(1e3/t)||0;return c*(t/1e3)},n.prototype.lineHeight=function(e,t){var s;return t==null&&(t=!1),s=t?this.lineGap:0,(this.ascender+s-this.decender)/1e3*e},n})();var dc,Vd=(function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,s;for(s=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)s[t]=String.fromCharCode(this.readByte());return s.join("")},n.prototype.writeString=function(e){var t,s,a;for(a=[],t=0,s=e.length;0<=s?t<s:t>s;t=0<=s?++t:--t)a.push(this.writeByte(e.charCodeAt(t)));return a},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,s,a,o,c,h,u;return e=this.readByte(),t=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),c=this.readByte(),h=this.readByte(),u=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^s)+4294967296*(255^a)+16777216*(255^o)+65536*(255^c)+256*(255^h)+(255^u)+1):72057594037927940*e+281474976710656*t+1099511627776*s+4294967296*a+16777216*o+65536*c+256*h+u},n.prototype.writeLongLong=function(e){var t,s;return t=Math.floor(e/4294967296),s=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(s>>24&255),this.writeByte(s>>16&255),this.writeByte(s>>8&255),this.writeByte(255&s)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,s;for(t=[],s=0;0<=e?s<e:s>e;s=0<=e?++s:--s)t.push(this.readByte());return t},n.prototype.write=function(e){var t,s,a,o;for(o=[],s=0,a=e.length;s<a;s++)t=e[s],o.push(this.writeByte(t));return o},n})(),k9=(function(){var n;function e(t){var s,a,o;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},a=0,o=this.tableCount;0<=o?a<o:a>o;a=0<=o?++a:--a)s={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[s.tag]=s}return e.prototype.encode=function(t){var s,a,o,c,h,u,f,A,m,v,g,b,S;for(S in g=Object.keys(t).length,u=Math.log(2),m=16*Math.floor(Math.log(g)/u),c=Math.floor(m/u),A=16*g-m,(a=new Vd).writeInt(this.scalarType),a.writeShort(g),a.writeShort(m),a.writeShort(c),a.writeShort(A),o=16*g,f=a.pos+o,h=null,b=[],t)for(v=t[S],a.writeString(S),a.writeInt(n(v)),a.writeInt(f),a.writeInt(v.length),b=b.concat(v),S==="head"&&(h=f),f+=v.length;f%4;)b.push(0),f++;return a.write(b),s=2981146554-n(a.data),a.pos=h+8,a.writeUInt32(s),a.data},n=function(t){var s,a,o,c;for(t=NI.call(t);t.length%4;)t.push(0);for(o=new Vd(t),a=0,s=0,c=t.length;s<c;s=s+=4)a+=o.readUInt32();return 4294967295&a},e})(),M9={}.hasOwnProperty,Wc=function(n,e){for(var t in e)M9.call(e,t)&&(n[t]=e[t]);function s(){this.constructor=n}return s.prototype=e.prototype,n.prototype=new s,n.__super__=e.prototype,n};dc=(function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var H9=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Wc(n,dc),n.prototype.tag="head",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},n.prototype.encode=function(e){var t;return(t=new Vd).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},n})(),oS=(function(){function n(e,t){var s,a,o,c,h,u,f,A,m,v,g,b,S,N,E,I,F;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),m=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=e.readByte();break;case 4:for(g=e.readUInt16(),v=g/2,e.pos+=6,o=(function(){var D,P;for(P=[],u=D=0;0<=v?D<v:D>v;u=0<=v?++D:--D)P.push(e.readUInt16());return P})(),e.pos+=2,S=(function(){var D,P;for(P=[],u=D=0;0<=v?D<v:D>v;u=0<=v?++D:--D)P.push(e.readUInt16());return P})(),f=(function(){var D,P;for(P=[],u=D=0;0<=v?D<v:D>v;u=0<=v?++D:--D)P.push(e.readUInt16());return P})(),A=(function(){var D,P;for(P=[],u=D=0;0<=v?D<v:D>v;u=0<=v?++D:--D)P.push(e.readUInt16());return P})(),a=(this.length-e.pos+this.offset)/2,h=(function(){var D,P;for(P=[],u=D=0;0<=a?D<a:D>a;u=0<=a?++D:--D)P.push(e.readUInt16());return P})(),u=E=0,F=o.length;E<F;u=++E)for(N=o[u],s=I=b=S[u];b<=N?I<=N:I>=N;s=b<=N?++I:--I)A[u]===0?c=s+f[u]:(c=h[A[u]/2+(s-b)-(v-u)]||0)!==0&&(c+=f[u]),this.codeMap[s]=65535&c}e.pos=m}return n.encode=function(e,t){var s,a,o,c,h,u,f,A,m,v,g,b,S,N,E,I,F,D,P,K,L,Q,R,M,O,H,G,ie,ge,J,re,se,he,je,ne,V,W,ae,ce,Ae,pe,Se,xe,Ie,_e,De;switch(ie=new Vd,c=Object.keys(e).sort(function(st,He){return st-He}),t){case"macroman":for(S=0,N=(function(){var st=[];for(b=0;b<256;++b)st.push(0);return st})(),I={0:0},o={},ge=0,he=c.length;ge<he;ge++)I[xe=e[a=c[ge]]]==null&&(I[xe]=++S),o[a]={old:e[a],new:I[e[a]]},N[a]=I[e[a]];return ie.writeUInt16(1),ie.writeUInt16(0),ie.writeUInt32(12),ie.writeUInt16(0),ie.writeUInt16(262),ie.writeUInt16(0),ie.write(N),{charMap:o,subtable:ie.data,maxGlyphID:S+1};case"unicode":for(H=[],m=[],F=0,I={},s={},E=f=null,J=0,je=c.length;J<je;J++)I[P=e[a=c[J]]]==null&&(I[P]=++F),s[a]={old:P,new:I[P]},h=I[P]-a,E!=null&&h===f||(E&&m.push(E),H.push(a),f=h),E=a;for(E&&m.push(E),m.push(65535),H.push(65535),M=2*(R=H.length),Q=2*Math.pow(Math.log(R)/Math.LN2,2),v=Math.log(Q/2)/Math.LN2,L=2*R-Q,u=[],K=[],g=[],b=re=0,ne=H.length;re<ne;b=++re){if(O=H[b],A=m[b],O===65535){u.push(0),K.push(0);break}if(O-(G=s[O].new)>=32768)for(u.push(0),K.push(2*(g.length+R-b)),a=se=O;O<=A?se<=A:se>=A;a=O<=A?++se:--se)g.push(s[a].new);else u.push(G-O),K.push(0)}for(ie.writeUInt16(3),ie.writeUInt16(1),ie.writeUInt32(12),ie.writeUInt16(4),ie.writeUInt16(16+8*R+2*g.length),ie.writeUInt16(0),ie.writeUInt16(M),ie.writeUInt16(Q),ie.writeUInt16(v),ie.writeUInt16(L),pe=0,V=m.length;pe<V;pe++)a=m[pe],ie.writeUInt16(a);for(ie.writeUInt16(0),Se=0,W=H.length;Se<W;Se++)a=H[Se],ie.writeUInt16(a);for(Ie=0,ae=u.length;Ie<ae;Ie++)h=u[Ie],ie.writeUInt16(h);for(_e=0,ce=K.length;_e<ce;_e++)D=K[_e],ie.writeUInt16(D);for(De=0,Ae=g.length;De<Ae;De++)S=g[De],ie.writeUInt16(S);return{charMap:s,subtable:ie.data,maxGlyphID:F+1}}},n})(),SI=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Wc(n,dc),n.prototype.tag="cmap",n.prototype.parse=function(e){var t,s,a;for(e.pos=this.offset,this.version=e.readUInt16(),a=e.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=a?s<a:s>a;s=0<=a?++s:--s)t=new oS(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},n.encode=function(e,t){var s,a;return t==null&&(t="macroman"),s=oS.encode(e,t),(a=new Vd).writeUInt16(0),a.writeUInt16(1),s.table=a.data.concat(s.subtable),s},n})(),V9=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Wc(n,dc),n.prototype.tag="hhea",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},n})(),K9=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Wc(n,dc),n.prototype.tag="OS/2",n.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,s;for(s=[],t=0;t<10;++t)s.push(e.readByte());return s})(),this.charRange=(function(){var t,s;for(s=[],t=0;t<4;++t)s.push(e.readInt());return s})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,s;for(s=[],t=0;t<2;t=++t)s.push(e.readInt());return s})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},n})(),z9=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Wc(n,dc),n.prototype.tag="post",n.prototype.parse=function(e){var t,s,a;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(s=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=s?o<s:o>s;o=0<=s?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],a=[];e.pos<this.offset+this.length;)t=e.readByte(),a.push(this.names.push(e.readString(t)));return a;case 151552:return s=e.readUInt16(),this.offsets=e.read(s);case 262144:return this.map=(function(){var c,h,u;for(u=[],o=c=0,h=this.file.maxp.numGlyphs;0<=h?c<h:c>h;o=0<=h?++c:--c)u.push(e.readUInt32());return u}).call(this)}},n})(),G9=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},$9=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Wc(n,dc),n.prototype.tag="name",n.prototype.parse=function(e){var t,s,a,o,c,h,u,f,A,m,v;for(e.pos=this.offset,e.readShort(),t=e.readShort(),h=e.readShort(),s=[],o=0;0<=t?o<t:o>t;o=0<=t?++o:--o)s.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+h+e.readShort()});for(u={},o=A=0,m=s.length;A<m;o=++A)a=s[o],e.pos=a.offset,f=e.readString(a.length),c=new G9(f,a),u[v=a.nameID]==null&&(u[v]=[]),u[a.nameID].push(c);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},n})(),Y9=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Wc(n,dc),n.prototype.tag="maxp",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},n})(),W9=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Wc(n,dc),n.prototype.tag="hmtx",n.prototype.parse=function(e){var t,s,a,o,c,h,u;for(e.pos=this.offset,this.metrics=[],t=0,h=this.file.hhea.numberOfMetrics;0<=h?t<h:t>h;t=0<=h?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var f,A;for(A=[],t=f=0;0<=a?f<a:f>a;t=0<=a?++f:--f)A.push(e.readInt16());return A})(),this.widths=(function(){var f,A,m,v;for(v=[],f=0,A=(m=this.metrics).length;f<A;f++)o=m[f],v.push(o.advance);return v}).call(this),s=this.widths[this.widths.length-1],u=[],t=c=0;0<=a?c<a:c>a;t=0<=a?++c:--c)u.push(this.widths.push(s));return u},n.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},n})(),NI=[].slice,X9=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Wc(n,dc),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(e){var t,s,a,o,c,h,u,f,A,m;return e in this.cache?this.cache[e]:(o=this.file.loca,t=this.file.contents,s=o.indexOf(e),(a=o.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+s,c=(h=new Vd(t.read(a))).readShort(),f=h.readShort(),m=h.readShort(),u=h.readShort(),A=h.readShort(),this.cache[e]=c===-1?new q9(h,f,m,u,A):new J9(h,c,f,m,u,A),this.cache[e]))},n.prototype.encode=function(e,t,s){var a,o,c,h,u;for(c=[],o=[],h=0,u=t.length;h<u;h++)a=e[t[h]],o.push(c.length),a&&(c=c.concat(a.encode(s)));return o.push(c.length),{table:c,offsets:o}},n})(),J9=(function(){function n(e,t,s,a,o,c){this.raw=e,this.numberOfContours=t,this.xMin=s,this.yMin=a,this.xMax=o,this.yMax=c,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),q9=(function(){function n(e,t,s,a,o){var c,h;for(this.raw=e,this.xMin=t,this.yMin=s,this.xMax=a,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],c=this.raw;h=c.readShort(),this.glyphOffsets.push(c.pos),this.glyphIDs.push(c.readUInt16()),32&h;)c.pos+=1&h?4:2,128&h?c.pos+=8:64&h?c.pos+=4:8&h&&(c.pos+=2)}return n.prototype.encode=function(){var e,t,s;for(t=new Vd(NI.call(this.raw.data)),e=0,s=this.glyphIDs.length;e<s;++e)t.pos=this.glyphOffsets[e];return t.data},n})(),Z9=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Wc(n,dc),n.prototype.tag="loca",n.prototype.parse=function(e){var t,s;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var a,o;for(o=[],s=0,a=this.length;s<a;s+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var a,o;for(o=[],s=0,a=this.length;s<a;s+=4)o.push(e.readUInt32());return o}).call(this)},n.prototype.indexOf=function(e){return this.offsets[e]},n.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},n.prototype.encode=function(e,t){for(var s=new Uint32Array(this.offsets.length),a=0,o=0,c=0;c<s.length;++c)if(s[c]=a,o<t.length&&t[o]==c){++o,s[c]=a;var h=this.offsets[c],u=this.offsets[c+1]-h;u>0&&(a+=u)}for(var f=new Array(4*s.length),A=0;A<s.length;++A)f[4*A+3]=255&s[A],f[4*A+2]=(65280&s[A])>>8,f[4*A+1]=(16711680&s[A])>>16,f[4*A]=(4278190080&s[A])>>24;return f},n})(),eV=(function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,s,a,o;for(t in a=this.font.cmap.tables[0].codeMap,e={},o=this.subset)s=o[t],e[t]=a[s];return e},n.prototype.glyphsFor=function(e){var t,s,a,o,c,h,u;for(a={},c=0,h=e.length;c<h;c++)a[o=e[c]]=this.font.glyf.glyphFor(o);for(o in t=[],a)(s=a[o])!=null&&s.compound&&t.push.apply(t,s.glyphIDs);if(t.length>0)for(o in u=this.glyphsFor(t))s=u[o],a[o]=s;return a},n.prototype.encode=function(e,t){var s,a,o,c,h,u,f,A,m,v,g,b,S,N,E;for(a in s=SI.encode(this.generateCmap(),"unicode"),c=this.glyphsFor(e),g={0:0},E=s.charMap)g[(u=E[a]).old]=u.new;for(b in v=s.maxGlyphID,c)b in g||(g[b]=v++);return A=(function(I){var F,D;for(F in D={},I)D[I[F]]=F;return D})(g),m=Object.keys(A).sort(function(I,F){return I-F}),S=(function(){var I,F,D;for(D=[],I=0,F=m.length;I<F;I++)h=m[I],D.push(A[h]);return D})(),o=this.font.glyf.encode(c,S,g),f=this.font.loca.encode(o.offsets,S),N={cmap:this.font.cmap.raw(),glyf:o.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(N["OS/2"]=this.font.os2.raw()),this.font.directory.encode(N)},n})();Qn.API.PDFObject=(function(){var n;function e(){}return n=function(t,s){return(Array(s+1).join("0")+t).slice(-s)},e.convert=function(t){var s,a,o,c;if(Array.isArray(t))return"["+(function(){var h,u,f;for(f=[],h=0,u=t.length;h<u;h++)s=t[h],f.push(e.convert(s));return f})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(a in o=["<<"],t)c=t[a],o.push("/"+a+" "+e.convert(c));return o.push(">>"),o.join(`
`)}return""+t},e})();const tV=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:_9,AcroFormAppearance:Bn,AcroFormButton:Oi,AcroFormCheckBox:Kp,AcroFormChoiceField:Hh,AcroFormComboBox:Kh,AcroFormEditBox:Hp,AcroFormListBox:Vh,AcroFormPasswordField:zp,AcroFormPushButton:Vp,AcroFormRadioButton:zh,AcroFormTextField:Dd,GState:cg,ShadingPattern:Bd,TilingPattern:Dh,default:Qn,jsPDF:Qn},Symbol.toStringTag,{value:"Module"})),nV=rF(tV);var vv={exports:{}};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 */var sV=vv.exports,lS;function rV(){return lS||(lS=1,(function(n,e){(function(t,s){n.exports=s()})(sV,(function(){/*! *****************************************************************************
		    Copyright (c) Microsoft Corporation.

		    Permission to use, copy, modify, and/or distribute this software for any
		    purpose with or without fee is hereby granted.

		    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
		    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
		    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
		    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
		    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
		    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
		    PERFORMANCE OF THIS SOFTWARE.
		    ***************************************************************************** */var t=function(j,x){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,B){C.__proto__=B}||function(C,B){for(var $ in B)Object.prototype.hasOwnProperty.call(B,$)&&(C[$]=B[$])},t(j,x)};function s(j,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");t(j,x);function C(){this.constructor=j}j.prototype=x===null?Object.create(x):(C.prototype=x.prototype,new C)}var a=function(){return a=Object.assign||function(x){for(var C,B=1,$=arguments.length;B<$;B++){C=arguments[B];for(var Z in C)Object.prototype.hasOwnProperty.call(C,Z)&&(x[Z]=C[Z])}return x},a.apply(this,arguments)};function o(j,x,C,B){function $(Z){return Z instanceof C?Z:new C(function(ue){ue(Z)})}return new(C||(C=Promise))(function(Z,ue){function Be(Me){try{Re(B.next(Me))}catch(Ye){ue(Ye)}}function Ce(Me){try{Re(B.throw(Me))}catch(Ye){ue(Ye)}}function Re(Me){Me.done?Z(Me.value):$(Me.value).then(Be,Ce)}Re((B=B.apply(j,[])).next())})}function c(j,x){var C={label:0,sent:function(){if(Z[0]&1)throw Z[1];return Z[1]},trys:[],ops:[]},B,$,Z,ue;return ue={next:Be(0),throw:Be(1),return:Be(2)},typeof Symbol=="function"&&(ue[Symbol.iterator]=function(){return this}),ue;function Be(Re){return function(Me){return Ce([Re,Me])}}function Ce(Re){if(B)throw new TypeError("Generator is already executing.");for(;C;)try{if(B=1,$&&(Z=Re[0]&2?$.return:Re[0]?$.throw||((Z=$.return)&&Z.call($),0):$.next)&&!(Z=Z.call($,Re[1])).done)return Z;switch($=0,Z&&(Re=[Re[0]&2,Z.value]),Re[0]){case 0:case 1:Z=Re;break;case 4:return C.label++,{value:Re[1],done:!1};case 5:C.label++,$=Re[1],Re=[0];continue;case 7:Re=C.ops.pop(),C.trys.pop();continue;default:if(Z=C.trys,!(Z=Z.length>0&&Z[Z.length-1])&&(Re[0]===6||Re[0]===2)){C=0;continue}if(Re[0]===3&&(!Z||Re[1]>Z[0]&&Re[1]<Z[3])){C.label=Re[1];break}if(Re[0]===6&&C.label<Z[1]){C.label=Z[1],Z=Re;break}if(Z&&C.label<Z[2]){C.label=Z[2],C.ops.push(Re);break}Z[2]&&C.ops.pop(),C.trys.pop();continue}Re=x.call(j,C)}catch(Me){Re=[6,Me],$=0}finally{B=Z=0}if(Re[0]&5)throw Re[1];return{value:Re[0]?Re[1]:void 0,done:!0}}}function h(j,x,C){if(arguments.length===2)for(var B=0,$=x.length,Z;B<$;B++)(Z||!(B in x))&&(Z||(Z=Array.prototype.slice.call(x,0,B)),Z[B]=x[B]);return j.concat(Z||x)}for(var u=(function(){function j(x,C,B,$){this.left=x,this.top=C,this.width=B,this.height=$}return j.prototype.add=function(x,C,B,$){return new j(this.left+x,this.top+C,this.width+B,this.height+$)},j.fromClientRect=function(x,C){return new j(C.left+x.windowBounds.left,C.top+x.windowBounds.top,C.width,C.height)},j.fromDOMRectList=function(x,C){var B=Array.from(C).find(function($){return $.width!==0});return B?new j(B.left+x.windowBounds.left,B.top+x.windowBounds.top,B.width,B.height):j.EMPTY},j.EMPTY=new j(0,0,0,0),j})(),f=function(j,x){return u.fromClientRect(j,x.getBoundingClientRect())},A=function(j){var x=j.body,C=j.documentElement;if(!x||!C)throw new Error("Unable to get document size");var B=Math.max(Math.max(x.scrollWidth,C.scrollWidth),Math.max(x.offsetWidth,C.offsetWidth),Math.max(x.clientWidth,C.clientWidth)),$=Math.max(Math.max(x.scrollHeight,C.scrollHeight),Math.max(x.offsetHeight,C.offsetHeight),Math.max(x.clientHeight,C.clientHeight));return new u(0,0,B,$)},m=function(j){for(var x=[],C=0,B=j.length;C<B;){var $=j.charCodeAt(C++);if($>=55296&&$<=56319&&C<B){var Z=j.charCodeAt(C++);(Z&64512)===56320?x.push((($&1023)<<10)+(Z&1023)+65536):(x.push($),C--)}else x.push($)}return x},v=function(){for(var j=[],x=0;x<arguments.length;x++)j[x]=arguments[x];if(String.fromCodePoint)return String.fromCodePoint.apply(String,j);var C=j.length;if(!C)return"";for(var B=[],$=-1,Z="";++$<C;){var ue=j[$];ue<=65535?B.push(ue):(ue-=65536,B.push((ue>>10)+55296,ue%1024+56320)),($+1===C||B.length>16384)&&(Z+=String.fromCharCode.apply(String,B),B.length=0)}return Z},g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b=typeof Uint8Array>"u"?[]:new Uint8Array(256),S=0;S<g.length;S++)b[g.charCodeAt(S)]=S;for(var N="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",E=typeof Uint8Array>"u"?[]:new Uint8Array(256),I=0;I<N.length;I++)E[N.charCodeAt(I)]=I;for(var F=function(j){var x=j.length*.75,C=j.length,B,$=0,Z,ue,Be,Ce;j[j.length-1]==="="&&(x--,j[j.length-2]==="="&&x--);var Re=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(x):new Array(x),Me=Array.isArray(Re)?Re:new Uint8Array(Re);for(B=0;B<C;B+=4)Z=E[j.charCodeAt(B)],ue=E[j.charCodeAt(B+1)],Be=E[j.charCodeAt(B+2)],Ce=E[j.charCodeAt(B+3)],Me[$++]=Z<<2|ue>>4,Me[$++]=(ue&15)<<4|Be>>2,Me[$++]=(Be&3)<<6|Ce&63;return Re},D=function(j){for(var x=j.length,C=[],B=0;B<x;B+=2)C.push(j[B+1]<<8|j[B]);return C},P=function(j){for(var x=j.length,C=[],B=0;B<x;B+=4)C.push(j[B+3]<<24|j[B+2]<<16|j[B+1]<<8|j[B]);return C},K=5,L=11,Q=2,R=L-K,M=65536>>K,O=1<<K,H=O-1,G=1024>>K,ie=M+G,ge=ie,J=32,re=ge+J,se=65536>>L,he=1<<R,je=he-1,ne=function(j,x,C){return j.slice?j.slice(x,C):new Uint16Array(Array.prototype.slice.call(j,x,C))},V=function(j,x,C){return j.slice?j.slice(x,C):new Uint32Array(Array.prototype.slice.call(j,x,C))},W=function(j,x){var C=F(j),B=Array.isArray(C)?P(C):new Uint32Array(C),$=Array.isArray(C)?D(C):new Uint16Array(C),Z=24,ue=ne($,Z/2,B[4]/2),Be=B[5]===2?ne($,(Z+B[4])/2):V(B,Math.ceil((Z+B[4])/4));return new ae(B[0],B[1],B[2],B[3],ue,Be)},ae=(function(){function j(x,C,B,$,Z,ue){this.initialValue=x,this.errorValue=C,this.highStart=B,this.highValueIndex=$,this.index=Z,this.data=ue}return j.prototype.get=function(x){var C;if(x>=0){if(x<55296||x>56319&&x<=65535)return C=this.index[x>>K],C=(C<<Q)+(x&H),this.data[C];if(x<=65535)return C=this.index[M+(x-55296>>K)],C=(C<<Q)+(x&H),this.data[C];if(x<this.highStart)return C=re-se+(x>>L),C=this.index[C],C+=x>>K&je,C=this.index[C],C=(C<<Q)+(x&H),this.data[C];if(x<=1114111)return this.data[this.highValueIndex]}return this.errorValue},j})(),ce="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ae=typeof Uint8Array>"u"?[]:new Uint8Array(256),pe=0;pe<ce.length;pe++)Ae[ce.charCodeAt(pe)]=pe;var Se="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",xe=50,Ie=1,_e=2,De=3,st=4,He=5,de=7,rt=8,_t=9,vt=10,qe=11,We=12,dt=13,Qt=14,Pt=15,Gt=16,sn=17,en=18,Nn=19,xt=20,St=21,$t=22,Ht=23,Rn=24,Ke=25,yt=26,ze=27,ot=28,ft=29,Lt=30,Ct=31,zt=32,yn=33,Tt=34,ht=35,Ot=36,qt=37,on=38,cs=39,js=40,cn=41,ri=42,Ua=43,ua=[9001,65288],$r="!",ln="",Le="",Rt=W(Se),Vt=[Lt,Ot],Ft=[Ie,_e,De,He],Yt=[vt,rt],Ut=[ze,yt],vn=Ft.concat(Yt),Sn=[on,cs,js,Tt,ht],On=[Pt,dt],dr=function(j,x){x===void 0&&(x="strict");var C=[],B=[],$=[];return j.forEach(function(Z,ue){var Be=Rt.get(Z);if(Be>xe?($.push(!0),Be-=xe):$.push(!1),["normal","auto","loose"].indexOf(x)!==-1&&[8208,8211,12316,12448].indexOf(Z)!==-1)return B.push(ue),C.push(Gt);if(Be===st||Be===qe){if(ue===0)return B.push(ue),C.push(Lt);var Ce=C[ue-1];return vn.indexOf(Ce)===-1?(B.push(B[ue-1]),C.push(Ce)):(B.push(ue),C.push(Lt))}if(B.push(ue),Be===Ct)return C.push(x==="strict"?St:qt);if(Be===ri||Be===ft)return C.push(Lt);if(Be===Ua)return Z>=131072&&Z<=196605||Z>=196608&&Z<=262141?C.push(qt):C.push(Lt);C.push(Be)}),[B,C,$]},Kn=function(j,x,C,B){var $=B[C];if(Array.isArray(j)?j.indexOf($)!==-1:j===$)for(var Z=C;Z<=B.length;){Z++;var ue=B[Z];if(ue===x)return!0;if(ue!==vt)break}if($===vt)for(var Z=C;Z>0;){Z--;var Be=B[Z];if(Array.isArray(j)?j.indexOf(Be)!==-1:j===Be)for(var Ce=C;Ce<=B.length;){Ce++;var ue=B[Ce];if(ue===x)return!0;if(ue!==vt)break}if(Be!==vt)break}return!1},In=function(j,x){for(var C=j;C>=0;){var B=x[C];if(B===vt)C--;else return B}return 0},Us=function(j,x,C,B,$){if(C[B]===0)return ln;var Z=B-1;if(Array.isArray($)&&$[Z]===!0)return ln;var ue=Z-1,Be=Z+1,Ce=x[Z],Re=ue>=0?x[ue]:0,Me=x[Be];if(Ce===_e&&Me===De)return ln;if(Ft.indexOf(Ce)!==-1)return $r;if(Ft.indexOf(Me)!==-1||Yt.indexOf(Me)!==-1)return ln;if(In(Z,x)===rt)return Le;if(Rt.get(j[Z])===qe||(Ce===zt||Ce===yn)&&Rt.get(j[Be])===qe||Ce===de||Me===de||Ce===_t||[vt,dt,Pt].indexOf(Ce)===-1&&Me===_t||[sn,en,Nn,Rn,ot].indexOf(Me)!==-1||In(Z,x)===$t||Kn(Ht,$t,Z,x)||Kn([sn,en],St,Z,x)||Kn(We,We,Z,x))return ln;if(Ce===vt)return Le;if(Ce===Ht||Me===Ht)return ln;if(Me===Gt||Ce===Gt)return Le;if([dt,Pt,St].indexOf(Me)!==-1||Ce===Qt||Re===Ot&&On.indexOf(Ce)!==-1||Ce===ot&&Me===Ot||Me===xt||Vt.indexOf(Me)!==-1&&Ce===Ke||Vt.indexOf(Ce)!==-1&&Me===Ke||Ce===ze&&[qt,zt,yn].indexOf(Me)!==-1||[qt,zt,yn].indexOf(Ce)!==-1&&Me===yt||Vt.indexOf(Ce)!==-1&&Ut.indexOf(Me)!==-1||Ut.indexOf(Ce)!==-1&&Vt.indexOf(Me)!==-1||[ze,yt].indexOf(Ce)!==-1&&(Me===Ke||[$t,Pt].indexOf(Me)!==-1&&x[Be+1]===Ke)||[$t,Pt].indexOf(Ce)!==-1&&Me===Ke||Ce===Ke&&[Ke,ot,Rn].indexOf(Me)!==-1)return ln;if([Ke,ot,Rn,sn,en].indexOf(Me)!==-1)for(var Ye=Z;Ye>=0;){var ct=x[Ye];if(ct===Ke)return ln;if([ot,Rn].indexOf(ct)!==-1)Ye--;else break}if([ze,yt].indexOf(Me)!==-1)for(var Ye=[sn,en].indexOf(Ce)!==-1?ue:Z;Ye>=0;){var ct=x[Ye];if(ct===Ke)return ln;if([ot,Rn].indexOf(ct)!==-1)Ye--;else break}if(on===Ce&&[on,cs,Tt,ht].indexOf(Me)!==-1||[cs,Tt].indexOf(Ce)!==-1&&[cs,js].indexOf(Me)!==-1||[js,ht].indexOf(Ce)!==-1&&Me===js||Sn.indexOf(Ce)!==-1&&[xt,yt].indexOf(Me)!==-1||Sn.indexOf(Me)!==-1&&Ce===ze||Vt.indexOf(Ce)!==-1&&Vt.indexOf(Me)!==-1||Ce===Rn&&Vt.indexOf(Me)!==-1||Vt.concat(Ke).indexOf(Ce)!==-1&&Me===$t&&ua.indexOf(j[Be])===-1||Vt.concat(Ke).indexOf(Me)!==-1&&Ce===en)return ln;if(Ce===cn&&Me===cn){for(var rn=C[Z],Kt=1;rn>0&&(rn--,x[rn]===cn);)Kt++;if(Kt%2!==0)return ln}return Ce===zt&&Me===yn?ln:Le},Ss=function(j,x){x||(x={lineBreak:"normal",wordBreak:"normal"});var C=dr(j,x.lineBreak),B=C[0],$=C[1],Z=C[2];(x.wordBreak==="break-all"||x.wordBreak==="break-word")&&($=$.map(function(Be){return[Ke,Lt,ri].indexOf(Be)!==-1?qt:Be}));var ue=x.wordBreak==="keep-all"?Z.map(function(Be,Ce){return Be&&j[Ce]>=19968&&j[Ce]<=40959}):void 0;return[B,$,ue]},lr=(function(){function j(x,C,B,$){this.codePoints=x,this.required=C===$r,this.start=B,this.end=$}return j.prototype.slice=function(){return v.apply(void 0,this.codePoints.slice(this.start,this.end))},j})(),sr=function(j,x){var C=m(j),B=Ss(C,x),$=B[0],Z=B[1],ue=B[2],Be=C.length,Ce=0,Re=0;return{next:function(){if(Re>=Be)return{done:!0,value:null};for(var Me=ln;Re<Be&&(Me=Us(C,Z,$,++Re,ue))===ln;);if(Me!==ln||Re===Be){var Ye=new lr(C,Me,Ce,Re);return Ce=Re,{value:Ye,done:!1}}return{done:!0,value:null}}}},Js=1,zs=2,Ga=4,Yr=8,da=10,ai=47,Ci=92,ul=9,Yo=32,po=34,jr=61,na=35,vr=36,ls=37,Ra=39,Cn=40,mn=41,Ns=95,Dn=45,Pn=33,Wt=60,qs=62,Si=64,Yi=91,Or=93,Wo=61,Ur=123,Qs=63,Mi=125,go=124,Xo=126,iA=128,Ol=65533,Wi=42,Wr=43,Xi=44,Jo=58,ii=59,Hi=46,kn=0,Pl=8,oA=11,dl=14,Sa=31,ha=127,Da=-1,Gs=48,oi=97,hl=101,Ji=102,RA=117,Ni=122,vo=65,li=69,Xr=70,xo=85,La=90,hr=function(j){return j>=Gs&&j<=57},fl=function(j){return j>=55296&&j<=57343},$a=function(j){return hr(j)||j>=vo&&j<=Xr||j>=oi&&j<=Ji},yo=function(j){return j>=oi&&j<=Ni},Vi=function(j){return j>=vo&&j<=La},kl=function(j){return yo(j)||Vi(j)},lA=function(j){return j>=iA},Qa=function(j){return j===da||j===ul||j===Yo},Ei=function(j){return kl(j)||lA(j)||j===Ns},AA=function(j){return Ei(j)||hr(j)||j===Dn},qi=function(j){return j>=kn&&j<=Pl||j===oA||j>=dl&&j<=Sa||j===ha},Ti=function(j,x){return j!==Ci?!1:x!==da},k=function(j,x,C){return j===Dn?Ei(x)||Ti(x,C):Ei(j)?!0:!!(j===Ci&&Ti(j,x))},oe=function(j,x,C){return j===Wr||j===Dn?hr(x)?!0:x===Hi&&hr(C):hr(j===Hi?x:j)},Ee=function(j){var x=0,C=1;(j[x]===Wr||j[x]===Dn)&&(j[x]===Dn&&(C=-1),x++);for(var B=[];hr(j[x]);)B.push(j[x++]);var $=B.length?parseInt(v.apply(void 0,B),10):0;j[x]===Hi&&x++;for(var Z=[];hr(j[x]);)Z.push(j[x++]);var ue=Z.length,Be=ue?parseInt(v.apply(void 0,Z),10):0;(j[x]===li||j[x]===hl)&&x++;var Ce=1;(j[x]===Wr||j[x]===Dn)&&(j[x]===Dn&&(Ce=-1),x++);for(var Re=[];hr(j[x]);)Re.push(j[x++]);var Me=Re.length?parseInt(v.apply(void 0,Re),10):0;return C*($+Be*Math.pow(10,-ue))*Math.pow(10,Ce*Me)},Ue={type:2},Ve={type:3},mt={type:4},Nt={type:13},hn={type:8},bn={type:21},Mn={type:9},_n={type:10},ys={type:11},xr={type:12},Ar={type:14},w={type:23},Y={type:1},te={type:25},be={type:24},$e={type:26},tt={type:27},kt={type:28},qn={type:29},yr={type:31},us={type:32},$s=(function(){function j(){this._value=[]}return j.prototype.write=function(x){this._value=this._value.concat(m(x))},j.prototype.read=function(){for(var x=[],C=this.consumeToken();C!==us;)x.push(C),C=this.consumeToken();return x},j.prototype.consumeToken=function(){var x=this.consumeCodePoint();switch(x){case po:return this.consumeStringToken(po);case na:var C=this.peekCodePoint(0),B=this.peekCodePoint(1),$=this.peekCodePoint(2);if(AA(C)||Ti(B,$)){var Z=k(C,B,$)?zs:Js,ue=this.consumeName();return{type:5,value:ue,flags:Z}}break;case vr:if(this.peekCodePoint(0)===jr)return this.consumeCodePoint(),Nt;break;case Ra:return this.consumeStringToken(Ra);case Cn:return Ue;case mn:return Ve;case Wi:if(this.peekCodePoint(0)===jr)return this.consumeCodePoint(),Ar;break;case Wr:if(oe(x,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(x),this.consumeNumericToken();break;case Xi:return mt;case Dn:var Be=x,Ce=this.peekCodePoint(0),Re=this.peekCodePoint(1);if(oe(Be,Ce,Re))return this.reconsumeCodePoint(x),this.consumeNumericToken();if(k(Be,Ce,Re))return this.reconsumeCodePoint(x),this.consumeIdentLikeToken();if(Ce===Dn&&Re===qs)return this.consumeCodePoint(),this.consumeCodePoint(),be;break;case Hi:if(oe(x,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(x),this.consumeNumericToken();break;case ai:if(this.peekCodePoint(0)===Wi)for(this.consumeCodePoint();;){var Me=this.consumeCodePoint();if(Me===Wi&&(Me=this.consumeCodePoint(),Me===ai))return this.consumeToken();if(Me===Da)return this.consumeToken()}break;case Jo:return $e;case ii:return tt;case Wt:if(this.peekCodePoint(0)===Pn&&this.peekCodePoint(1)===Dn&&this.peekCodePoint(2)===Dn)return this.consumeCodePoint(),this.consumeCodePoint(),te;break;case Si:var Ye=this.peekCodePoint(0),ct=this.peekCodePoint(1),rn=this.peekCodePoint(2);if(k(Ye,ct,rn)){var ue=this.consumeName();return{type:7,value:ue}}break;case Yi:return kt;case Ci:if(Ti(x,this.peekCodePoint(0)))return this.reconsumeCodePoint(x),this.consumeIdentLikeToken();break;case Or:return qn;case Wo:if(this.peekCodePoint(0)===jr)return this.consumeCodePoint(),hn;break;case Ur:return ys;case Mi:return xr;case RA:case xo:var Kt=this.peekCodePoint(0),Jt=this.peekCodePoint(1);return Kt===Wr&&($a(Jt)||Jt===Qs)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(x),this.consumeIdentLikeToken();case go:if(this.peekCodePoint(0)===jr)return this.consumeCodePoint(),Mn;if(this.peekCodePoint(0)===go)return this.consumeCodePoint(),bn;break;case Xo:if(this.peekCodePoint(0)===jr)return this.consumeCodePoint(),_n;break;case Da:return us}return Qa(x)?(this.consumeWhiteSpace(),yr):hr(x)?(this.reconsumeCodePoint(x),this.consumeNumericToken()):Ei(x)?(this.reconsumeCodePoint(x),this.consumeIdentLikeToken()):{type:6,value:v(x)}},j.prototype.consumeCodePoint=function(){var x=this._value.shift();return typeof x>"u"?-1:x},j.prototype.reconsumeCodePoint=function(x){this._value.unshift(x)},j.prototype.peekCodePoint=function(x){return x>=this._value.length?-1:this._value[x]},j.prototype.consumeUnicodeRangeToken=function(){for(var x=[],C=this.consumeCodePoint();$a(C)&&x.length<6;)x.push(C),C=this.consumeCodePoint();for(var B=!1;C===Qs&&x.length<6;)x.push(C),C=this.consumeCodePoint(),B=!0;if(B){var $=parseInt(v.apply(void 0,x.map(function(Ce){return Ce===Qs?Gs:Ce})),16),Z=parseInt(v.apply(void 0,x.map(function(Ce){return Ce===Qs?Xr:Ce})),16);return{type:30,start:$,end:Z}}var ue=parseInt(v.apply(void 0,x),16);if(this.peekCodePoint(0)===Dn&&$a(this.peekCodePoint(1))){this.consumeCodePoint(),C=this.consumeCodePoint();for(var Be=[];$a(C)&&Be.length<6;)Be.push(C),C=this.consumeCodePoint();var Z=parseInt(v.apply(void 0,Be),16);return{type:30,start:ue,end:Z}}else return{type:30,start:ue,end:ue}},j.prototype.consumeIdentLikeToken=function(){var x=this.consumeName();return x.toLowerCase()==="url"&&this.peekCodePoint(0)===Cn?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Cn?(this.consumeCodePoint(),{type:19,value:x}):{type:20,value:x}},j.prototype.consumeUrlToken=function(){var x=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Da)return{type:22,value:""};var C=this.peekCodePoint(0);if(C===Ra||C===po){var B=this.consumeStringToken(this.consumeCodePoint());return B.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Da||this.peekCodePoint(0)===mn)?(this.consumeCodePoint(),{type:22,value:B.value}):(this.consumeBadUrlRemnants(),w)}for(;;){var $=this.consumeCodePoint();if($===Da||$===mn)return{type:22,value:v.apply(void 0,x)};if(Qa($))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Da||this.peekCodePoint(0)===mn?(this.consumeCodePoint(),{type:22,value:v.apply(void 0,x)}):(this.consumeBadUrlRemnants(),w);if($===po||$===Ra||$===Cn||qi($))return this.consumeBadUrlRemnants(),w;if($===Ci)if(Ti($,this.peekCodePoint(0)))x.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),w;else x.push($)}},j.prototype.consumeWhiteSpace=function(){for(;Qa(this.peekCodePoint(0));)this.consumeCodePoint()},j.prototype.consumeBadUrlRemnants=function(){for(;;){var x=this.consumeCodePoint();if(x===mn||x===Da)return;Ti(x,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},j.prototype.consumeStringSlice=function(x){for(var C=5e4,B="";x>0;){var $=Math.min(C,x);B+=v.apply(void 0,this._value.splice(0,$)),x-=$}return this._value.shift(),B},j.prototype.consumeStringToken=function(x){var C="",B=0;do{var $=this._value[B];if($===Da||$===void 0||$===x)return C+=this.consumeStringSlice(B),{type:0,value:C};if($===da)return this._value.splice(0,B),Y;if($===Ci){var Z=this._value[B+1];Z!==Da&&Z!==void 0&&(Z===da?(C+=this.consumeStringSlice(B),B=-1,this._value.shift()):Ti($,Z)&&(C+=this.consumeStringSlice(B),C+=v(this.consumeEscapedCodePoint()),B=-1))}B++}while(!0)},j.prototype.consumeNumber=function(){var x=[],C=Ga,B=this.peekCodePoint(0);for((B===Wr||B===Dn)&&x.push(this.consumeCodePoint());hr(this.peekCodePoint(0));)x.push(this.consumeCodePoint());B=this.peekCodePoint(0);var $=this.peekCodePoint(1);if(B===Hi&&hr($))for(x.push(this.consumeCodePoint(),this.consumeCodePoint()),C=Yr;hr(this.peekCodePoint(0));)x.push(this.consumeCodePoint());B=this.peekCodePoint(0),$=this.peekCodePoint(1);var Z=this.peekCodePoint(2);if((B===li||B===hl)&&(($===Wr||$===Dn)&&hr(Z)||hr($)))for(x.push(this.consumeCodePoint(),this.consumeCodePoint()),C=Yr;hr(this.peekCodePoint(0));)x.push(this.consumeCodePoint());return[Ee(x),C]},j.prototype.consumeNumericToken=function(){var x=this.consumeNumber(),C=x[0],B=x[1],$=this.peekCodePoint(0),Z=this.peekCodePoint(1),ue=this.peekCodePoint(2);if(k($,Z,ue)){var Be=this.consumeName();return{type:15,number:C,flags:B,unit:Be}}return $===ls?(this.consumeCodePoint(),{type:16,number:C,flags:B}):{type:17,number:C,flags:B}},j.prototype.consumeEscapedCodePoint=function(){var x=this.consumeCodePoint();if($a(x)){for(var C=v(x);$a(this.peekCodePoint(0))&&C.length<6;)C+=v(this.consumeCodePoint());Qa(this.peekCodePoint(0))&&this.consumeCodePoint();var B=parseInt(C,16);return B===0||fl(B)||B>1114111?Ol:B}return x===Da?Ol:x},j.prototype.consumeName=function(){for(var x="";;){var C=this.consumeCodePoint();if(AA(C))x+=v(C);else if(Ti(C,this.peekCodePoint(0)))x+=v(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(C),x}},j})(),Na=(function(){function j(x){this._tokens=x}return j.create=function(x){var C=new $s;return C.write(x),new j(C.read())},j.parseValue=function(x){return j.create(x).parseComponentValue()},j.parseValues=function(x){return j.create(x).parseComponentValues()},j.prototype.parseComponentValue=function(){for(var x=this.consumeToken();x.type===31;)x=this.consumeToken();if(x.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(x);var C=this.consumeComponentValue();do x=this.consumeToken();while(x.type===31);if(x.type===32)return C;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},j.prototype.parseComponentValues=function(){for(var x=[];;){var C=this.consumeComponentValue();if(C.type===32)return x;x.push(C),x.push()}},j.prototype.consumeComponentValue=function(){var x=this.consumeToken();switch(x.type){case 11:case 28:case 2:return this.consumeSimpleBlock(x.type);case 19:return this.consumeFunction(x)}return x},j.prototype.consumeSimpleBlock=function(x){for(var C={type:x,values:[]},B=this.consumeToken();;){if(B.type===32||hc(B,x))return C;this.reconsumeToken(B),C.values.push(this.consumeComponentValue()),B=this.consumeToken()}},j.prototype.consumeFunction=function(x){for(var C={name:x.value,values:[],type:18};;){var B=this.consumeToken();if(B.type===32||B.type===3)return C;this.reconsumeToken(B),C.values.push(this.consumeComponentValue())}},j.prototype.consumeToken=function(){var x=this._tokens.shift();return typeof x>"u"?us:x},j.prototype.reconsumeToken=function(x){this._tokens.unshift(x)},j})(),sa=function(j){return j.type===15},Os=function(j){return j.type===17},rs=function(j){return j.type===20},Zi=function(j){return j.type===0},bo=function(j,x){return rs(j)&&j.value===x},qo=function(j){return j.type!==31},fa=function(j){return j.type!==31&&j.type!==4},Oa=function(j){var x=[],C=[];return j.forEach(function(B){if(B.type===4){if(C.length===0)throw new Error("Error parsing function args, zero tokens for arg");x.push(C),C=[];return}B.type!==31&&C.push(B)}),C.length&&x.push(C),x},hc=function(j,x){return x===11&&j.type===12||x===28&&j.type===29?!0:x===2&&j.type===3},wo=function(j){return j.type===17||j.type===15},Ps=function(j){return j.type===16||wo(j)},jo=function(j){return j.length>1?[j[0],j[1]]:[j[0]]},Br={type:17,number:0,flags:Ga},DA={type:16,number:50,flags:Ga},Pa={type:16,number:100,flags:Ga},Bo=function(j,x,C){var B=j[0],$=j[1];return[gs(B,x),gs(typeof $<"u"?$:B,C)]},gs=function(j,x){if(j.type===16)return j.number/100*x;if(sa(j))switch(j.unit){case"rem":case"em":return 16*j.number;case"px":default:return j.number}return j.number},Ai="deg",Zo="grad",el="rad",ml="turn",Ml={name:"angle",parse:function(j,x){if(x.type===15)switch(x.unit){case Ai:return Math.PI*x.number/180;case Zo:return Math.PI/200*x.number;case el:return x.number;case ml:return Math.PI*2*x.number}throw new Error("Unsupported angle type")}},LA=function(j){return j.type===15&&(j.unit===Ai||j.unit===Zo||j.unit===el||j.unit===ml)},Jr=function(j){var x=j.filter(rs).map(function(C){return C.value}).join(" ");switch(x){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Br,Br];case"to top":case"bottom":return Ii(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Br,Pa];case"to right":case"left":return Ii(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Pa,Pa];case"to bottom":case"top":return Ii(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Pa,Br];case"to left":case"right":return Ii(270)}return 0},Ii=function(j){return Math.PI*j/180},Ya={name:"color",parse:function(j,x){if(x.type===18){var C=gl[x.name];if(typeof C>"u")throw new Error('Attempting to parse an unsupported color function "'+x.name+'"');return C(j,x.values)}if(x.type===5){if(x.value.length===3){var B=x.value.substring(0,1),$=x.value.substring(1,2),Z=x.value.substring(2,3);return ci(parseInt(B+B,16),parseInt($+$,16),parseInt(Z+Z,16),1)}if(x.value.length===4){var B=x.value.substring(0,1),$=x.value.substring(1,2),Z=x.value.substring(2,3),ue=x.value.substring(3,4);return ci(parseInt(B+B,16),parseInt($+$,16),parseInt(Z+Z,16),parseInt(ue+ue,16)/255)}if(x.value.length===6){var B=x.value.substring(0,2),$=x.value.substring(2,4),Z=x.value.substring(4,6);return ci(parseInt(B,16),parseInt($,16),parseInt(Z,16),1)}if(x.value.length===8){var B=x.value.substring(0,2),$=x.value.substring(2,4),Z=x.value.substring(4,6),ue=x.value.substring(6,8);return ci(parseInt(B,16),parseInt($,16),parseInt(Z,16),parseInt(ue,16)/255)}}if(x.type===20){var Be=ra[x.value.toUpperCase()];if(typeof Be<"u")return Be}return ra.TRANSPARENT}},Wa=function(j){return(255&j)===0},Es=function(j){var x=255&j,C=255&j>>8,B=255&j>>16,$=255&j>>24;return x<255?"rgba("+$+","+B+","+C+","+x/255+")":"rgb("+$+","+B+","+C+")"},ci=function(j,x,C,B){return(j<<24|x<<16|C<<8|Math.round(B*255)<<0)>>>0},QA=function(j,x){if(j.type===17)return j.number;if(j.type===16){var C=x===3?1:255;return x===3?j.number/100*C:Math.round(j.number/100*C)}return 0},OA=function(j,x){var C=x.filter(fa);if(C.length===3){var B=C.map(QA),$=B[0],Z=B[1],ue=B[2];return ci($,Z,ue,1)}if(C.length===4){var Be=C.map(QA),$=Be[0],Z=Be[1],ue=Be[2],Ce=Be[3];return ci($,Z,ue,Ce)}return 0};function tl(j,x,C){return C<0&&(C+=1),C>=1&&(C-=1),C<1/6?(x-j)*C*6+j:C<1/2?x:C<2/3?(x-j)*6*(2/3-C)+j:j}var pl=function(j,x){var C=x.filter(fa),B=C[0],$=C[1],Z=C[2],ue=C[3],Be=(B.type===17?Ii(B.number):Ml.parse(j,B))/(Math.PI*2),Ce=Ps($)?$.number/100:0,Re=Ps(Z)?Z.number/100:0,Me=typeof ue<"u"&&Ps(ue)?gs(ue,1):1;if(Ce===0)return ci(Re*255,Re*255,Re*255,1);var Ye=Re<=.5?Re*(Ce+1):Re+Ce-Re*Ce,ct=Re*2-Ye,rn=tl(ct,Ye,Be+1/3),Kt=tl(ct,Ye,Be),Jt=tl(ct,Ye,Be-1/3);return ci(rn*255,Kt*255,Jt*255,Me)},gl={hsl:pl,hsla:pl,rgb:OA,rgba:OA},nl=function(j,x){return Ya.parse(j,Na.create(x).parseComponentValue())},ra={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},Hl={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(j,x){return x.map(function(C){if(rs(C))switch(C.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},ui={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},_i=function(j,x){var C=Ya.parse(j,x[0]),B=x[1];return B&&Ps(B)?{color:C,stop:B}:{color:C,stop:null}},ks=function(j,x){var C=j[0],B=j[j.length-1];C.stop===null&&(C.stop=Br),B.stop===null&&(B.stop=Pa);for(var $=[],Z=0,ue=0;ue<j.length;ue++){var Be=j[ue].stop;if(Be!==null){var Ce=gs(Be,x);Ce>Z?$.push(Ce):$.push(Z),Z=Ce}else $.push(null)}for(var Re=null,ue=0;ue<$.length;ue++){var Me=$[ue];if(Me===null)Re===null&&(Re=ue);else if(Re!==null){for(var Ye=ue-Re,ct=$[Re-1],rn=(Me-ct)/(Ye+1),Kt=1;Kt<=Ye;Kt++)$[Re+Kt-1]=rn*Kt;Re=null}}return j.map(function(Jt,En){var fn=Jt.color;return{color:fn,stop:Math.max(Math.min(1,$[En]/x),0)}})},Rs=function(j,x,C){var B=x/2,$=C/2,Z=gs(j[0],x)-B,ue=$-gs(j[1],C);return(Math.atan2(ue,Z)+Math.PI*2)%(Math.PI*2)},br=function(j,x,C){var B=typeof j=="number"?j:Rs(j,x,C),$=Math.abs(x*Math.sin(B))+Math.abs(C*Math.cos(B)),Z=x/2,ue=C/2,Be=$/2,Ce=Math.sin(B-Math.PI/2)*Be,Re=Math.cos(B-Math.PI/2)*Be;return[$,Z-Re,Z+Re,ue-Ce,ue+Ce]},Ys=function(j,x){return Math.sqrt(j*j+x*x)},sl=function(j,x,C,B,$){var Z=[[0,0],[0,x],[j,0],[j,x]];return Z.reduce(function(ue,Be){var Ce=Be[0],Re=Be[1],Me=Ys(C-Ce,B-Re);return($?Me<ue.optimumDistance:Me>ue.optimumDistance)?{optimumCorner:Be,optimumDistance:Me}:ue},{optimumDistance:$?1/0:-1/0,optimumCorner:null}).optimumCorner},rl=function(j,x,C,B,$){var Z=0,ue=0;switch(j.size){case 0:j.shape===0?Z=ue=Math.min(Math.abs(x),Math.abs(x-B),Math.abs(C),Math.abs(C-$)):j.shape===1&&(Z=Math.min(Math.abs(x),Math.abs(x-B)),ue=Math.min(Math.abs(C),Math.abs(C-$)));break;case 2:if(j.shape===0)Z=ue=Math.min(Ys(x,C),Ys(x,C-$),Ys(x-B,C),Ys(x-B,C-$));else if(j.shape===1){var Be=Math.min(Math.abs(C),Math.abs(C-$))/Math.min(Math.abs(x),Math.abs(x-B)),Ce=sl(B,$,x,C,!0),Re=Ce[0],Me=Ce[1];Z=Ys(Re-x,(Me-C)/Be),ue=Be*Z}break;case 1:j.shape===0?Z=ue=Math.max(Math.abs(x),Math.abs(x-B),Math.abs(C),Math.abs(C-$)):j.shape===1&&(Z=Math.max(Math.abs(x),Math.abs(x-B)),ue=Math.max(Math.abs(C),Math.abs(C-$)));break;case 3:if(j.shape===0)Z=ue=Math.max(Ys(x,C),Ys(x,C-$),Ys(x-B,C),Ys(x-B,C-$));else if(j.shape===1){var Be=Math.max(Math.abs(C),Math.abs(C-$))/Math.max(Math.abs(x),Math.abs(x-B)),Ye=sl(B,$,x,C,!1),Re=Ye[0],Me=Ye[1];Z=Ys(Re-x,(Me-C)/Be),ue=Be*Z}break}return Array.isArray(j.size)&&(Z=gs(j.size[0],B),ue=j.size.length===2?gs(j.size[1],$):Z),[Z,ue]},PA=function(j,x){var C=Ii(180),B=[];return Oa(x).forEach(function($,Z){if(Z===0){var ue=$[0];if(ue.type===20&&ue.value==="to"){C=Jr($);return}else if(LA(ue)){C=Ml.parse(j,ue);return}}var Be=_i(j,$);B.push(Be)}),{angle:C,stops:B,type:1}},cA=function(j,x){var C=Ii(180),B=[];return Oa(x).forEach(function($,Z){if(Z===0){var ue=$[0];if(ue.type===20&&["top","left","right","bottom"].indexOf(ue.value)!==-1){C=Jr($);return}else if(LA(ue)){C=(Ml.parse(j,ue)+Ii(270))%Ii(360);return}}var Be=_i(j,$);B.push(Be)}),{angle:C,stops:B,type:1}},qd=function(j,x){var C=Ii(180),B=[],$=1,Z=0,ue=3,Be=[];return Oa(x).forEach(function(Ce,Re){var Me=Ce[0];if(Re===0){if(rs(Me)&&Me.value==="linear"){$=1;return}else if(rs(Me)&&Me.value==="radial"){$=2;return}}if(Me.type===18){if(Me.name==="from"){var Ye=Ya.parse(j,Me.values[0]);B.push({stop:Br,color:Ye})}else if(Me.name==="to"){var Ye=Ya.parse(j,Me.values[0]);B.push({stop:Pa,color:Ye})}else if(Me.name==="color-stop"){var ct=Me.values.filter(fa);if(ct.length===2){var Ye=Ya.parse(j,ct[1]),rn=ct[0];Os(rn)&&B.push({stop:{type:16,number:rn.number*100,flags:rn.flags},color:Ye})}}}}),$===1?{angle:(C+Ii(180))%Ii(360),stops:B,type:$}:{size:ue,shape:Z,stops:B,position:Be,type:$}},Zd="closest-side",eh="farthest-side",th="closest-corner",Du="farthest-corner",Lu="circle",uA="ellipse",eo="cover",fc="contain",to=function(j,x){var C=0,B=3,$=[],Z=[];return Oa(x).forEach(function(ue,Be){var Ce=!0;if(Be===0){var Re=!1;Ce=ue.reduce(function(Ye,ct){if(Re)if(rs(ct))switch(ct.value){case"center":return Z.push(DA),Ye;case"top":case"left":return Z.push(Br),Ye;case"right":case"bottom":return Z.push(Pa),Ye}else(Ps(ct)||wo(ct))&&Z.push(ct);else if(rs(ct))switch(ct.value){case Lu:return C=0,!1;case uA:return C=1,!1;case"at":return Re=!0,!1;case Zd:return B=0,!1;case eo:case eh:return B=1,!1;case fc:case th:return B=2,!1;case Du:return B=3,!1}else if(wo(ct)||Ps(ct))return Array.isArray(B)||(B=[]),B.push(ct),!1;return Ye},Ce)}if(Ce){var Me=_i(j,ue);$.push(Me)}}),{size:B,shape:C,stops:$,position:Z,type:2}},vl=function(j,x){var C=0,B=3,$=[],Z=[];return Oa(x).forEach(function(ue,Be){var Ce=!0;if(Be===0?Ce=ue.reduce(function(Me,Ye){if(rs(Ye))switch(Ye.value){case"center":return Z.push(DA),!1;case"top":case"left":return Z.push(Br),!1;case"right":case"bottom":return Z.push(Pa),!1}else if(Ps(Ye)||wo(Ye))return Z.push(Ye),!1;return Me},Ce):Be===1&&(Ce=ue.reduce(function(Me,Ye){if(rs(Ye))switch(Ye.value){case Lu:return C=0,!1;case uA:return C=1,!1;case fc:case Zd:return B=0,!1;case eh:return B=1,!1;case th:return B=2,!1;case eo:case Du:return B=3,!1}else if(wo(Ye)||Ps(Ye))return Array.isArray(B)||(B=[]),B.push(Ye),!1;return Me},Ce)),Ce){var Re=_i(j,ue);$.push(Re)}}),{size:B,shape:C,stops:$,position:Z,type:2}},Qu=function(j){return j.type===1},Jc=function(j){return j.type===2},kA={name:"image",parse:function(j,x){if(x.type===22){var C={url:x.value,type:0};return j.cache.addImage(x.value),C}if(x.type===18){var B=xl[x.name];if(typeof B>"u")throw new Error('Attempting to parse an unsupported image function "'+x.name+'"');return B(j,x.values)}throw new Error("Unsupported image type "+x.type)}};function Ou(j){return!(j.type===20&&j.value==="none")&&(j.type!==18||!!xl[j.name])}var xl={"linear-gradient":PA,"-moz-linear-gradient":cA,"-ms-linear-gradient":cA,"-o-linear-gradient":cA,"-webkit-linear-gradient":cA,"radial-gradient":to,"-moz-radial-gradient":vl,"-ms-radial-gradient":vl,"-o-radial-gradient":vl,"-webkit-radial-gradient":vl,"-webkit-gradient":qd},qc={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(j,x){if(x.length===0)return[];var C=x[0];return C.type===20&&C.value==="none"?[]:x.filter(function(B){return fa(B)&&Ou(B)}).map(function(B){return kA.parse(j,B)})}},di={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(j,x){return x.map(function(C){if(rs(C))switch(C.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Xa={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(j,x){return Oa(x).map(function(C){return C.filter(Ps)}).map(jo)}},Pu={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(j,x){return Oa(x).map(function(C){return C.filter(rs).map(function(B){return B.value}).join(" ")}).map(hi)}},hi=function(j){switch(j){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Vl;(function(j){j.AUTO="auto",j.CONTAIN="contain",j.COVER="cover"})(Vl||(Vl={}));var Co={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(j,x){return Oa(x).map(function(C){return C.filter(Zc)})}},Zc=function(j){return rs(j)||Ps(j)},Kl=function(j){return{name:"border-"+j+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},dA=Kl("top"),eu=Kl("right"),ku=Kl("bottom"),mc=Kl("left"),MA=function(j){return{name:"border-radius-"+j,initialValue:"0 0",prefix:!1,type:1,parse:function(x,C){return jo(C.filter(Ps))}}},So=MA("top-left"),pc=MA("top-right"),HA=MA("bottom-right"),Mu=MA("bottom-left"),hA=function(j){return{name:"border-"+j+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(x,C){switch(C){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},No=hA("top"),Eo=hA("right"),fA=hA("bottom"),To=hA("left"),Fi=function(j){return{name:"border-"+j+"-width",initialValue:"0",type:0,prefix:!1,parse:function(x,C){return sa(C)?C.number:0}}},no=Fi("top"),of=Fi("right"),nh=Fi("bottom"),Hu=Fi("left"),lf={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Ja={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(j,x){switch(x){case"rtl":return 1;case"ltr":default:return 0}}},Cr={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(j,x){return x.filter(rs).reduce(function(C,B){return C|Bs(B.value)},0)}},Bs=function(j){switch(j){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Ui={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(j,x){switch(x){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},qr={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(j,x){return x.type===20&&x.value==="normal"?0:x.type===17||x.type===15?x.number:0}},Ki;(function(j){j.NORMAL="normal",j.STRICT="strict"})(Ki||(Ki={}));var mA={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(j,x){switch(x){case"strict":return Ki.STRICT;case"normal":default:return Ki.NORMAL}}},sh={name:"line-height",initialValue:"normal",prefix:!1,type:4},yl=function(j,x){return rs(j)&&j.value==="normal"?1.2*x:j.type===17?x*j.number:Ps(j)?gs(j,x):x},qa={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(j,x){return x.type===20&&x.value==="none"?null:kA.parse(j,x)}},VA={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(j,x){switch(x){case"inside":return 0;case"outside":default:return 1}}},tu={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(j,x){switch(x){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},zl=function(j){return{name:"margin-"+j,initialValue:"0",prefix:!1,type:4}},Vu=zl("top"),pA=zl("right"),bl=zl("bottom"),gA=zl("left"),Io={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(j,x){return x.filter(rs).map(function(C){switch(C.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},gc={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(j,x){switch(x){case"break-word":return"break-word";case"normal":default:return"normal"}}},wl=function(j){return{name:"padding-"+j,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},vA=wl("top"),Ku=wl("right"),xA=wl("bottom"),Za=wl("left"),zu={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(j,x){switch(x){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},Af={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(j,x){switch(x){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Nm={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(j,x){return x.length===1&&bo(x[0],"none")?[]:Oa(x).map(function(C){for(var B={color:ra.TRANSPARENT,offsetX:Br,offsetY:Br,blur:Br},$=0,Z=0;Z<C.length;Z++){var ue=C[Z];wo(ue)?($===0?B.offsetX=ue:$===1?B.offsetY=ue:B.blur=ue,$++):B.color=Ya.parse(j,ue)}return B})}},Em={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(j,x){switch(x){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Tm={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(j,x){if(x.type===20&&x.value==="none")return null;if(x.type===18){var C=nu[x.name];if(typeof C>"u")throw new Error('Attempting to parse an unsupported transform function "'+x.name+'"');return C(x.values)}return null}},aa=function(j){var x=j.filter(function(C){return C.type===17}).map(function(C){return C.number});return x.length===6?x:null},vc=function(j){var x=j.filter(function(Ce){return Ce.type===17}).map(function(Ce){return Ce.number}),C=x[0],B=x[1];x[2],x[3];var $=x[4],Z=x[5];x[6],x[7],x[8],x[9],x[10],x[11];var ue=x[12],Be=x[13];return x[14],x[15],x.length===16?[C,B,$,Z,ue,Be]:null},nu={matrix:aa,matrix3d:vc},xc={type:16,number:50,flags:Ga},Gu=[xc,xc],y={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(j,x){var C=x.filter(Ps);return C.length!==2?Gu:[C[0],C[1]]}},_={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(j,x){switch(x){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},z;(function(j){j.NORMAL="normal",j.BREAK_ALL="break-all",j.KEEP_ALL="keep-all"})(z||(z={}));for(var X={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(j,x){switch(x){case"break-all":return z.BREAK_ALL;case"keep-all":return z.KEEP_ALL;case"normal":default:return z.NORMAL}}},le={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(j,x){if(x.type===20)return{auto:!0,order:0};if(Os(x))return{auto:!1,order:x.number};throw new Error("Invalid z-index number parsed")}},fe={name:"time",parse:function(j,x){if(x.type===15)switch(x.unit.toLowerCase()){case"s":return 1e3*x.number;case"ms":return x.number}throw new Error("Unsupported time type")}},me={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(j,x){return Os(x)?x.number:1}},ye={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},we={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(j,x){return x.filter(rs).map(function(C){switch(C.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(C){return C!==0})}},Te={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(j,x){var C=[],B=[];return x.forEach(function($){switch($.type){case 20:case 0:C.push($.value);break;case 17:C.push($.number.toString());break;case 4:B.push(C.join(" ")),C.length=0;break}}),C.length&&B.push(C.join(" ")),B.map(function($){return $.indexOf(" ")===-1?$:"'"+$+"'"})}},Qe={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Je={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(j,x){if(Os(x))return x.number;if(rs(x))switch(x.value){case"bold":return 700;case"normal":default:return 400}return 400}},Ne={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(j,x){return x.filter(rs).map(function(C){return C.value})}},Pe={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(j,x){switch(x){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},ke=function(j,x){return(j&x)!==0},At={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(j,x){if(x.length===0)return[];var C=x[0];return C.type===20&&C.value==="none"?[]:x}},Xe={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(j,x){if(x.length===0)return null;var C=x[0];if(C.type===20&&C.value==="none")return null;for(var B=[],$=x.filter(qo),Z=0;Z<$.length;Z++){var ue=$[Z],Be=$[Z+1];if(ue.type===20){var Ce=Be&&Os(Be)?Be.number:1;B.push({counter:ue.value,increment:Ce})}}return B}},lt={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(j,x){if(x.length===0)return[];for(var C=[],B=x.filter(qo),$=0;$<B.length;$++){var Z=B[$],ue=B[$+1];if(rs(Z)&&Z.value!=="none"){var Be=ue&&Os(ue)?ue.number:0;C.push({counter:Z.value,reset:Be})}}return C}},gt={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(j,x){return x.filter(sa).map(function(C){return fe.parse(j,C)})}},Dt={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(j,x){if(x.length===0)return null;var C=x[0];if(C.type===20&&C.value==="none")return null;var B=[],$=x.filter(Zi);if($.length%2!==0)return null;for(var Z=0;Z<$.length;Z+=2){var ue=$[Z].value,Be=$[Z+1].value;B.push({open:ue,close:Be})}return B}},jt=function(j,x,C){if(!j)return"";var B=j[Math.min(x,j.length-1)];return B?C?B.open:B.close:""},wn={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(j,x){return x.length===1&&bo(x[0],"none")?[]:Oa(x).map(function(C){for(var B={color:255,offsetX:Br,offsetY:Br,blur:Br,spread:Br,inset:!1},$=0,Z=0;Z<C.length;Z++){var ue=C[Z];bo(ue,"inset")?B.inset=!0:wo(ue)?($===0?B.offsetX=ue:$===1?B.offsetY=ue:$===2?B.blur=ue:B.spread=ue,$++):B.color=Ya.parse(j,ue)}return B})}},un={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(j,x){var C=[0,1,2],B=[];return x.filter(rs).forEach(function($){switch($.value){case"stroke":B.push(1);break;case"fill":B.push(0);break;case"markers":B.push(2);break}}),C.forEach(function($){B.indexOf($)===-1&&B.push($)}),B}},ts={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},pn={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(j,x){return sa(x)?x.number:0}},bs=(function(){function j(x,C){var B,$;this.animationDuration=at(x,gt,C.animationDuration),this.backgroundClip=at(x,Hl,C.backgroundClip),this.backgroundColor=at(x,ui,C.backgroundColor),this.backgroundImage=at(x,qc,C.backgroundImage),this.backgroundOrigin=at(x,di,C.backgroundOrigin),this.backgroundPosition=at(x,Xa,C.backgroundPosition),this.backgroundRepeat=at(x,Pu,C.backgroundRepeat),this.backgroundSize=at(x,Co,C.backgroundSize),this.borderTopColor=at(x,dA,C.borderTopColor),this.borderRightColor=at(x,eu,C.borderRightColor),this.borderBottomColor=at(x,ku,C.borderBottomColor),this.borderLeftColor=at(x,mc,C.borderLeftColor),this.borderTopLeftRadius=at(x,So,C.borderTopLeftRadius),this.borderTopRightRadius=at(x,pc,C.borderTopRightRadius),this.borderBottomRightRadius=at(x,HA,C.borderBottomRightRadius),this.borderBottomLeftRadius=at(x,Mu,C.borderBottomLeftRadius),this.borderTopStyle=at(x,No,C.borderTopStyle),this.borderRightStyle=at(x,Eo,C.borderRightStyle),this.borderBottomStyle=at(x,fA,C.borderBottomStyle),this.borderLeftStyle=at(x,To,C.borderLeftStyle),this.borderTopWidth=at(x,no,C.borderTopWidth),this.borderRightWidth=at(x,of,C.borderRightWidth),this.borderBottomWidth=at(x,nh,C.borderBottomWidth),this.borderLeftWidth=at(x,Hu,C.borderLeftWidth),this.boxShadow=at(x,wn,C.boxShadow),this.color=at(x,lf,C.color),this.direction=at(x,Ja,C.direction),this.display=at(x,Cr,C.display),this.float=at(x,Ui,C.cssFloat),this.fontFamily=at(x,Te,C.fontFamily),this.fontSize=at(x,Qe,C.fontSize),this.fontStyle=at(x,Pe,C.fontStyle),this.fontVariant=at(x,Ne,C.fontVariant),this.fontWeight=at(x,Je,C.fontWeight),this.letterSpacing=at(x,qr,C.letterSpacing),this.lineBreak=at(x,mA,C.lineBreak),this.lineHeight=at(x,sh,C.lineHeight),this.listStyleImage=at(x,qa,C.listStyleImage),this.listStylePosition=at(x,VA,C.listStylePosition),this.listStyleType=at(x,tu,C.listStyleType),this.marginTop=at(x,Vu,C.marginTop),this.marginRight=at(x,pA,C.marginRight),this.marginBottom=at(x,bl,C.marginBottom),this.marginLeft=at(x,gA,C.marginLeft),this.opacity=at(x,me,C.opacity);var Z=at(x,Io,C.overflow);this.overflowX=Z[0],this.overflowY=Z[Z.length>1?1:0],this.overflowWrap=at(x,gc,C.overflowWrap),this.paddingTop=at(x,vA,C.paddingTop),this.paddingRight=at(x,Ku,C.paddingRight),this.paddingBottom=at(x,xA,C.paddingBottom),this.paddingLeft=at(x,Za,C.paddingLeft),this.paintOrder=at(x,un,C.paintOrder),this.position=at(x,Af,C.position),this.textAlign=at(x,zu,C.textAlign),this.textDecorationColor=at(x,ye,(B=C.textDecorationColor)!==null&&B!==void 0?B:C.color),this.textDecorationLine=at(x,we,($=C.textDecorationLine)!==null&&$!==void 0?$:C.textDecoration),this.textShadow=at(x,Nm,C.textShadow),this.textTransform=at(x,Em,C.textTransform),this.transform=at(x,Tm,C.transform),this.transformOrigin=at(x,y,C.transformOrigin),this.visibility=at(x,_,C.visibility),this.webkitTextStrokeColor=at(x,ts,C.webkitTextStrokeColor),this.webkitTextStrokeWidth=at(x,pn,C.webkitTextStrokeWidth),this.wordBreak=at(x,X,C.wordBreak),this.zIndex=at(x,le,C.zIndex)}return j.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},j.prototype.isTransparent=function(){return Wa(this.backgroundColor)},j.prototype.isTransformed=function(){return this.transform!==null},j.prototype.isPositioned=function(){return this.position!==0},j.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},j.prototype.isFloating=function(){return this.float!==0},j.prototype.isInlineLevel=function(){return ke(this.display,4)||ke(this.display,33554432)||ke(this.display,268435456)||ke(this.display,536870912)||ke(this.display,67108864)||ke(this.display,134217728)},j})(),Sr=(function(){function j(x,C){this.content=at(x,At,C.content),this.quotes=at(x,Dt,C.quotes)}return j})(),is=(function(){function j(x,C){this.counterIncrement=at(x,Xe,C.counterIncrement),this.counterReset=at(x,lt,C.counterReset)}return j})(),at=function(j,x,C){var B=new $s,$=C!==null&&typeof C<"u"?C.toString():x.initialValue;B.write($);var Z=new Na(B.read());switch(x.type){case 2:var ue=Z.parseComponentValue();return x.parse(j,rs(ue)?ue.value:x.initialValue);case 0:return x.parse(j,Z.parseComponentValue());case 1:return x.parse(j,Z.parseComponentValues());case 4:return Z.parseComponentValue();case 3:switch(x.format){case"angle":return Ml.parse(j,Z.parseComponentValue());case"color":return Ya.parse(j,Z.parseComponentValue());case"image":return kA.parse(j,Z.parseComponentValue());case"length":var Be=Z.parseComponentValue();return wo(Be)?Be:Br;case"length-percentage":var Ce=Z.parseComponentValue();return Ps(Ce)?Ce:Br;case"time":return fe.parse(j,Z.parseComponentValue())}break}},Xt="data-html2canvas-debug",Pr=function(j){var x=j.getAttribute(Xt);switch(x){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},zn=function(j,x){var C=Pr(j);return C===1||x===C},Yn=(function(){function j(x,C){if(this.context=x,this.textNodes=[],this.elements=[],this.flags=0,zn(C,3))debugger;this.styles=new bs(x,window.getComputedStyle(C,null)),dh(C)&&(this.styles.animationDuration.some(function(B){return B>0})&&(C.style.animationDuration="0s"),this.styles.transform!==null&&(C.style.transform="none")),this.bounds=f(this.context,C),zn(C,4)&&(this.flags|=16)}return j})(),rr="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",ma="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ia=typeof Uint8Array>"u"?[]:new Uint8Array(256),ar=0;ar<ma.length;ar++)ia[ma.charCodeAt(ar)]=ar;for(var pa=function(j){var x=j.length*.75,C=j.length,B,$=0,Z,ue,Be,Ce;j[j.length-1]==="="&&(x--,j[j.length-2]==="="&&x--);var Re=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(x):new Array(x),Me=Array.isArray(Re)?Re:new Uint8Array(Re);for(B=0;B<C;B+=4)Z=ia[j.charCodeAt(B)],ue=ia[j.charCodeAt(B+1)],Be=ia[j.charCodeAt(B+2)],Ce=ia[j.charCodeAt(B+3)],Me[$++]=Z<<2|ue>>4,Me[$++]=(ue&15)<<4|Be>>2,Me[$++]=(Be&3)<<6|Ce&63;return Re},fi=function(j){for(var x=j.length,C=[],B=0;B<x;B+=2)C.push(j[B+1]<<8|j[B]);return C},ga=function(j){for(var x=j.length,C=[],B=0;B<x;B+=4)C.push(j[B+3]<<24|j[B+2]<<16|j[B+1]<<8|j[B]);return C},as=5,Ts=11,Nr=2,Ws=Ts-as,va=65536>>as,kr=1<<as,Is=kr-1,oa=1024>>as,ir=va+oa,xa=ir,ya=32,fr=xa+ya,Ds=65536>>Ts,mi=1<<Ws,Zr=mi-1,Ln=function(j,x,C){return j.slice?j.slice(x,C):new Uint16Array(Array.prototype.slice.call(j,x,C))},Hn=function(j,x,C){return j.slice?j.slice(x,C):new Uint32Array(Array.prototype.slice.call(j,x,C))},Ms=function(j,x){var C=pa(j),B=Array.isArray(C)?ga(C):new Uint32Array(C),$=Array.isArray(C)?fi(C):new Uint16Array(C),Z=24,ue=Ln($,Z/2,B[4]/2),Be=B[5]===2?Ln($,(Z+B[4])/2):Hn(B,Math.ceil((Z+B[4])/4));return new zi(B[0],B[1],B[2],B[3],ue,Be)},zi=(function(){function j(x,C,B,$,Z,ue){this.initialValue=x,this.errorValue=C,this.highStart=B,this.highValueIndex=$,this.index=Z,this.data=ue}return j.prototype.get=function(x){var C;if(x>=0){if(x<55296||x>56319&&x<=65535)return C=this.index[x>>as],C=(C<<Nr)+(x&Is),this.data[C];if(x<=65535)return C=this.index[va+(x-55296>>as)],C=(C<<Nr)+(x&Is),this.data[C];if(x<this.highStart)return C=fr-Ds+(x>>Ts),C=this.index[C],C+=x>>as&Zr,C=this.index[C],C=(C<<Nr)+(x&Is),this.data[C];if(x<=1114111)return this.data[this.highValueIndex]}return this.errorValue},j})(),so="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ri=typeof Uint8Array>"u"?[]:new Uint8Array(256),Mr=0;Mr<so.length;Mr++)Ri[so.charCodeAt(Mr)]=Mr;var yA=1,jl=2,yc=3,mr=4,$u=5,rh=7,su=8,al=9,ah=10,Yu=11,Wu=12,ru=13,Ea=14,Rr=15,au=function(j){for(var x=[],C=0,B=j.length;C<B;){var $=j.charCodeAt(C++);if($>=55296&&$<=56319&&C<B){var Z=j.charCodeAt(C++);(Z&64512)===56320?x.push((($&1023)<<10)+(Z&1023)+65536):(x.push($),C--)}else x.push($)}return x},bA=function(){for(var j=[],x=0;x<arguments.length;x++)j[x]=arguments[x];if(String.fromCodePoint)return String.fromCodePoint.apply(String,j);var C=j.length;if(!C)return"";for(var B=[],$=-1,Z="";++$<C;){var ue=j[$];ue<=65535?B.push(ue):(ue-=65536,B.push((ue>>10)+55296,ue%1024+56320)),($+1===C||B.length>16384)&&(Z+=String.fromCharCode.apply(String,B),B.length=0)}return Z},bc=Ms(rr),ka="",_o="",Xu=function(j){return bc.get(j)},wc=function(j,x,C){var B=C-2,$=x[B],Z=x[C-1],ue=x[C];if(Z===jl&&ue===yc)return ka;if(Z===jl||Z===yc||Z===mr||ue===jl||ue===yc||ue===mr)return _o;if(Z===su&&[su,al,Yu,Wu].indexOf(ue)!==-1||(Z===Yu||Z===al)&&(ue===al||ue===ah)||(Z===Wu||Z===ah)&&ue===ah||ue===ru||ue===$u||ue===rh||Z===yA)return ka;if(Z===ru&&ue===Ea){for(;$===$u;)$=x[--B];if($===Ea)return ka}if(Z===Rr&&ue===Rr){for(var Be=0;$===Rr;)Be++,$=x[--B];if(Be%2===0)return ka}return _o},Ju=function(j){var x=au(j),C=x.length,B=0,$=0,Z=x.map(Xu);return{next:function(){if(B>=C)return{done:!0,value:null};for(var ue=ka;B<C&&(ue=wc(x,Z,++B))===ka;);if(ue!==ka||B===C){var Be=bA.apply(null,x.slice($,B));return $=B,{value:Be,done:!1}}return{done:!0,value:null}}}},qu=function(j){for(var x=Ju(j),C=[],B;!(B=x.next()).done;)B.value&&C.push(B.value.slice());return C},Gl=function(j){var x=123;if(j.createRange){var C=j.createRange();if(C.getBoundingClientRect){var B=j.createElement("boundtest");B.style.height=x+"px",B.style.display="block",j.body.appendChild(B),C.selectNode(B);var $=C.getBoundingClientRect(),Z=Math.round($.height);if(j.body.removeChild(B),Z===x)return!0}}return!1},ih=function(j){var x=j.createElement("boundtest");x.style.width="50px",x.style.display="block",x.style.fontSize="12px",x.style.letterSpacing="0px",x.style.wordSpacing="0px",j.body.appendChild(x);var C=j.createRange();x.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var B=x.firstChild,$=m(B.data).map(function(Ce){return v(Ce)}),Z=0,ue={},Be=$.every(function(Ce,Re){C.setStart(B,Z),C.setEnd(B,Z+Ce.length);var Me=C.getBoundingClientRect();Z+=Ce.length;var Ye=Me.x>ue.x||Me.y>ue.y;return ue=Me,Re===0?!0:Ye});return j.body.removeChild(x),Be},oh=function(){return typeof new Image().crossOrigin<"u"},cf=function(){return typeof new XMLHttpRequest().responseType=="string"},lh=function(j){var x=new Image,C=j.createElement("canvas"),B=C.getContext("2d");if(!B)return!1;x.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{B.drawImage(x,0,0),C.toDataURL()}catch{return!1}return!0},$l=function(j){return j[0]===0&&j[1]===255&&j[2]===0&&j[3]===255},uf=function(j){var x=j.createElement("canvas"),C=100;x.width=C,x.height=C;var B=x.getContext("2d");if(!B)return Promise.reject(!1);B.fillStyle="rgb(0, 255, 0)",B.fillRect(0,0,C,C);var $=new Image,Z=x.toDataURL();$.src=Z;var ue=Zu(C,C,0,0,$);return B.fillStyle="red",B.fillRect(0,0,C,C),Ah(ue).then(function(Be){B.drawImage(Be,0,0);var Ce=B.getImageData(0,0,C,C).data;B.fillStyle="red",B.fillRect(0,0,C,C);var Re=j.createElement("div");return Re.style.backgroundImage="url("+Z+")",Re.style.height=C+"px",$l(Ce)?Ah(Zu(C,C,0,0,Re)):Promise.reject(!1)}).then(function(Be){return B.drawImage(Be,0,0),$l(B.getImageData(0,0,C,C).data)}).catch(function(){return!1})},Zu=function(j,x,C,B,$){var Z="http://www.w3.org/2000/svg",ue=document.createElementNS(Z,"svg"),Be=document.createElementNS(Z,"foreignObject");return ue.setAttributeNS(null,"width",j.toString()),ue.setAttributeNS(null,"height",x.toString()),Be.setAttributeNS(null,"width","100%"),Be.setAttributeNS(null,"height","100%"),Be.setAttributeNS(null,"x",C.toString()),Be.setAttributeNS(null,"y",B.toString()),Be.setAttributeNS(null,"externalResourcesRequired","true"),ue.appendChild(Be),Be.appendChild($),ue},Ah=function(j){return new Promise(function(x,C){var B=new Image;B.onload=function(){return x(B)},B.onerror=C,B.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(j))})},Ta={get SUPPORT_RANGE_BOUNDS(){var j=Gl(document);return Object.defineProperty(Ta,"SUPPORT_RANGE_BOUNDS",{value:j}),j},get SUPPORT_WORD_BREAKING(){var j=Ta.SUPPORT_RANGE_BOUNDS&&ih(document);return Object.defineProperty(Ta,"SUPPORT_WORD_BREAKING",{value:j}),j},get SUPPORT_SVG_DRAWING(){var j=lh(document);return Object.defineProperty(Ta,"SUPPORT_SVG_DRAWING",{value:j}),j},get SUPPORT_FOREIGNOBJECT_DRAWING(){var j=typeof Array.from=="function"&&typeof window.fetch=="function"?uf(document):Promise.resolve(!1);return Object.defineProperty(Ta,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:j}),j},get SUPPORT_CORS_IMAGES(){var j=oh();return Object.defineProperty(Ta,"SUPPORT_CORS_IMAGES",{value:j}),j},get SUPPORT_RESPONSE_TYPE(){var j=cf();return Object.defineProperty(Ta,"SUPPORT_RESPONSE_TYPE",{value:j}),j},get SUPPORT_CORS_XHR(){var j="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Ta,"SUPPORT_CORS_XHR",{value:j}),j},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var j=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Ta,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:j}),j}},jc=(function(){function j(x,C){this.text=x,this.bounds=C}return j})(),KA=function(j,x,C,B){var $=Wl(x,C),Z=[],ue=0;return $.forEach(function(Be){if(C.textDecorationLine.length||Be.trim().length>0)if(Ta.SUPPORT_RANGE_BOUNDS){var Ce=Bc(B,ue,Be.length).getClientRects();if(Ce.length>1){var Re=Fo(Be),Me=0;Re.forEach(function(ct){Z.push(new jc(ct,u.fromDOMRectList(j,Bc(B,Me+ue,ct.length).getClientRects()))),Me+=ct.length})}else Z.push(new jc(Be,u.fromDOMRectList(j,Ce)))}else{var Ye=B.splitText(Be.length);Z.push(new jc(Be,ed(j,B))),B=Ye}else Ta.SUPPORT_RANGE_BOUNDS||(B=B.splitText(Be.length));ue+=Be.length}),Z},ed=function(j,x){var C=x.ownerDocument;if(C){var B=C.createElement("html2canvaswrapper");B.appendChild(x.cloneNode(!0));var $=x.parentNode;if($){$.replaceChild(B,x);var Z=f(j,B);return B.firstChild&&$.replaceChild(B.firstChild,B),Z}}return u.EMPTY},Bc=function(j,x,C){var B=j.ownerDocument;if(!B)throw new Error("Node has no owner document");var $=B.createRange();return $.setStart(j,x),$.setEnd(j,x+C),$},Fo=function(j){if(Ta.SUPPORT_NATIVE_TEXT_SEGMENTATION){var x=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(x.segment(j)).map(function(C){return C.segment})}return qu(j)},Yl=function(j,x){if(Ta.SUPPORT_NATIVE_TEXT_SEGMENTATION){var C=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(C.segment(j)).map(function(B){return B.segment})}return nd(j,x)},Wl=function(j,x){return x.letterSpacing!==0?Fo(j):Yl(j,x)},td=[32,160,4961,65792,65793,4153,4241],nd=function(j,x){for(var C=sr(j,{lineBreak:x.lineBreak,wordBreak:x.overflowWrap==="break-word"?"break-word":x.wordBreak}),B=[],$,Z=function(){if($.value){var ue=$.value.slice(),Be=m(ue),Ce="";Be.forEach(function(Re){td.indexOf(Re)===-1?Ce+=v(Re):(Ce.length&&B.push(Ce),B.push(v(Re)),Ce="")}),Ce.length&&B.push(Ce)}};!($=C.next()).done;)Z();return B},zA=(function(){function j(x,C,B){this.text=df(C.data,B.textTransform),this.textBounds=KA(x,this.text,B,C)}return j})(),df=function(j,x){switch(x){case 1:return j.toLowerCase();case 3:return j.replace(Cc,Sc);case 2:return j.toUpperCase();default:return j}},Cc=/(^|\s|:|-|\(|\))([a-z])/g,Sc=function(j,x,C){return j.length>0?x+C.toUpperCase():j},Im=(function(j){s(x,j);function x(C,B){var $=j.call(this,C,B)||this;return $.src=B.currentSrc||B.src,$.intrinsicWidth=B.naturalWidth,$.intrinsicHeight=B.naturalHeight,$.context.cache.addImage($.src),$}return x})(Yn),hf=(function(j){s(x,j);function x(C,B){var $=j.call(this,C,B)||this;return $.canvas=B,$.intrinsicWidth=B.width,$.intrinsicHeight=B.height,$}return x})(Yn),kg=(function(j){s(x,j);function x(C,B){var $=j.call(this,C,B)||this,Z=new XMLSerializer,ue=f(C,B);return B.setAttribute("width",ue.width+"px"),B.setAttribute("height",ue.height+"px"),$.svg="data:image/svg+xml,"+encodeURIComponent(Z.serializeToString(B)),$.intrinsicWidth=B.width.baseVal.value,$.intrinsicHeight=B.height.baseVal.value,$.context.cache.addImage($.svg),$}return x})(Yn),_m=(function(j){s(x,j);function x(C,B){var $=j.call(this,C,B)||this;return $.value=B.value,$}return x})(Yn),ff=(function(j){s(x,j);function x(C,B){var $=j.call(this,C,B)||this;return $.start=B.start,$.reversed=typeof B.reversed=="boolean"&&B.reversed===!0,$}return x})(Yn),Mg=[{type:15,flags:0,unit:"px",number:3}],Hg=[{type:16,flags:0,number:50}],Vg=function(j){return j.width>j.height?new u(j.left+(j.width-j.height)/2,j.top,j.height,j.height):j.width<j.height?new u(j.left,j.top+(j.height-j.width)/2,j.width,j.width):j},Fm=function(j){var x=j.type===Um?new Array(j.value.length+1).join(""):j.value;return x.length===0?j.placeholder||"":x},ch="checkbox",uh="radio",Um="password",Rm=707406591,mf=(function(j){s(x,j);function x(C,B){var $=j.call(this,C,B)||this;switch($.type=B.type.toLowerCase(),$.checked=B.checked,$.value=Fm(B),($.type===ch||$.type===uh)&&($.styles.backgroundColor=3739148031,$.styles.borderTopColor=$.styles.borderRightColor=$.styles.borderBottomColor=$.styles.borderLeftColor=2779096575,$.styles.borderTopWidth=$.styles.borderRightWidth=$.styles.borderBottomWidth=$.styles.borderLeftWidth=1,$.styles.borderTopStyle=$.styles.borderRightStyle=$.styles.borderBottomStyle=$.styles.borderLeftStyle=1,$.styles.backgroundClip=[0],$.styles.backgroundOrigin=[0],$.bounds=Vg($.bounds)),$.type){case ch:$.styles.borderTopRightRadius=$.styles.borderTopLeftRadius=$.styles.borderBottomRightRadius=$.styles.borderBottomLeftRadius=Mg;break;case uh:$.styles.borderTopRightRadius=$.styles.borderTopLeftRadius=$.styles.borderBottomRightRadius=$.styles.borderBottomLeftRadius=Hg;break}return $}return x})(Yn),Kg=(function(j){s(x,j);function x(C,B){var $=j.call(this,C,B)||this,Z=B.options[B.selectedIndex||0];return $.value=Z&&Z.text||"",$}return x})(Yn),pf=(function(j){s(x,j);function x(C,B){var $=j.call(this,C,B)||this;return $.value=B.value,$}return x})(Yn),Dm=(function(j){s(x,j);function x(C,B){var $=j.call(this,C,B)||this;$.src=B.src,$.width=parseInt(B.width,10)||0,$.height=parseInt(B.height,10)||0,$.backgroundColor=$.styles.backgroundColor;try{if(B.contentWindow&&B.contentWindow.document&&B.contentWindow.document.documentElement){$.tree=Qm(C,B.contentWindow.document.documentElement);var Z=B.contentWindow.document.documentElement?nl(C,getComputedStyle(B.contentWindow.document.documentElement).backgroundColor):ra.TRANSPARENT,ue=B.contentWindow.document.body?nl(C,getComputedStyle(B.contentWindow.document.body).backgroundColor):ra.TRANSPARENT;$.backgroundColor=Wa(Z)?Wa(ue)?$.styles.backgroundColor:ue:Z}}catch{}return $}return x})(Yn),zg=["OL","UL","MENU"],sd=function(j,x,C,B){for(var $=x.firstChild,Z=void 0;$;$=Z)if(Z=$.nextSibling,Om($)&&$.data.trim().length>0)C.textNodes.push(new zA(j,$,C.styles));else if(wA($))if(ph($)&&$.assignedNodes)$.assignedNodes().forEach(function(Be){return sd(j,Be,C,B)});else{var ue=Lm(j,$);ue.styles.isVisible()&&(kx($,ue,B)?ue.flags|=4:Mx(ue.styles)&&(ue.flags|=2),zg.indexOf($.tagName)!==-1&&(ue.flags|=8),C.elements.push(ue),$.slot,$.shadowRoot?sd(j,$.shadowRoot,ue,B):!fh($)&&!gf($)&&!mh($)&&sd(j,$,ue,B))}},Lm=function(j,x){return bf(x)?new Im(j,x):xf(x)?new hf(j,x):gf(x)?new kg(j,x):Gg(x)?new _m(j,x):$g(x)?new ff(j,x):hh(x)?new mf(j,x):mh(x)?new Kg(j,x):fh(x)?new pf(j,x):Pm(x)?new Dm(j,x):new Yn(j,x)},Qm=function(j,x){var C=Lm(j,x);return C.flags|=4,sd(j,x,C,C),C},kx=function(j,x,C){return x.styles.isPositionedWithZIndex()||x.styles.opacity<1||x.styles.isTransformed()||vf(j)&&C.styles.isTransparent()},Mx=function(j){return j.isPositioned()||j.isFloating()},Om=function(j){return j.nodeType===Node.TEXT_NODE},wA=function(j){return j.nodeType===Node.ELEMENT_NODE},dh=function(j){return wA(j)&&typeof j.style<"u"&&!iu(j)},iu=function(j){return typeof j.className=="object"},Gg=function(j){return j.tagName==="LI"},$g=function(j){return j.tagName==="OL"},hh=function(j){return j.tagName==="INPUT"},Yg=function(j){return j.tagName==="HTML"},gf=function(j){return j.tagName==="svg"},vf=function(j){return j.tagName==="BODY"},xf=function(j){return j.tagName==="CANVAS"},yf=function(j){return j.tagName==="VIDEO"},bf=function(j){return j.tagName==="IMG"},Pm=function(j){return j.tagName==="IFRAME"},Nc=function(j){return j.tagName==="STYLE"},Wg=function(j){return j.tagName==="SCRIPT"},fh=function(j){return j.tagName==="TEXTAREA"},mh=function(j){return j.tagName==="SELECT"},ph=function(j){return j.tagName==="SLOT"},km=function(j){return j.tagName.indexOf("-")>0},Mm=(function(){function j(){this.counters={}}return j.prototype.getCounterValue=function(x){var C=this.counters[x];return C&&C.length?C[C.length-1]:1},j.prototype.getCounterValues=function(x){var C=this.counters[x];return C||[]},j.prototype.pop=function(x){var C=this;x.forEach(function(B){return C.counters[B].pop()})},j.prototype.parse=function(x){var C=this,B=x.counterIncrement,$=x.counterReset,Z=!0;B!==null&&B.forEach(function(Be){var Ce=C.counters[Be.counter];Ce&&Be.increment!==0&&(Z=!1,Ce.length||Ce.push(1),Ce[Math.max(0,Ce.length-1)]+=Be.increment)});var ue=[];return Z&&$.forEach(function(Be){var Ce=C.counters[Be.counter];ue.push(Be.counter),Ce||(Ce=C.counters[Be.counter]=[]),Ce.push(Be.reset)}),ue},j})(),Hm={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Vm={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Hx={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Km={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Hr=function(j,x,C,B,$,Z){return j<x||j>C?ad(j,$,Z.length>0):B.integers.reduce(function(ue,Be,Ce){for(;j>=Be;)j-=Be,ue+=B.values[Ce];return ue},"")+Z},pi=function(j,x,C,B){var $="";do C||j--,$=B(j)+$,j/=x;while(j*x>=x);return $},ba=function(j,x,C,B,$){var Z=C-x+1;return(j<0?"-":"")+(pi(Math.abs(j),Z,B,function(ue){return v(Math.floor(ue%Z)+x)})+$)},Ec=function(j,x,C){C===void 0&&(C=". ");var B=x.length;return pi(Math.abs(j),B,!1,function($){return x[Math.floor($%B)]})+C},ou=1,GA=2,Bl=4,rd=8,Cl=function(j,x,C,B,$,Z){if(j<-9999||j>9999)return ad(j,4,$.length>0);var ue=Math.abs(j),Be=$;if(ue===0)return x[0]+Be;for(var Ce=0;ue>0&&Ce<=4;Ce++){var Re=ue%10;Re===0&&ke(Z,ou)&&Be!==""?Be=x[Re]+Be:Re>1||Re===1&&Ce===0||Re===1&&Ce===1&&ke(Z,GA)||Re===1&&Ce===1&&ke(Z,Bl)&&j>100||Re===1&&Ce>1&&ke(Z,rd)?Be=x[Re]+(Ce>0?C[Ce-1]:"")+Be:Re===1&&Ce>0&&(Be=C[Ce-1]+Be),ue=Math.floor(ue/10)}return(j<0?B:"")+Be},zm="",Xg="",gh="",vh="",ad=function(j,x,C){var B=C?". ":"",$=C?"":"",Z=C?", ":"",ue=C?" ":"";switch(x){case 0:return""+ue;case 1:return""+ue;case 2:return""+ue;case 5:var Be=ba(j,48,57,!0,B);return Be.length<4?"0"+Be:Be;case 4:return Ec(j,"",$);case 6:return Hr(j,1,3999,Hm,3,B).toLowerCase();case 7:return Hr(j,1,3999,Hm,3,B);case 8:return ba(j,945,969,!1,B);case 9:return ba(j,97,122,!1,B);case 10:return ba(j,65,90,!1,B);case 11:return ba(j,1632,1641,!0,B);case 12:case 49:return Hr(j,1,9999,Vm,3,B);case 35:return Hr(j,1,9999,Vm,3,B).toLowerCase();case 13:return ba(j,2534,2543,!0,B);case 14:case 30:return ba(j,6112,6121,!0,B);case 15:return Ec(j,"",$);case 16:return Ec(j,"",$);case 17:case 48:return Cl(j,"",zm,"",$,GA|Bl|rd);case 47:return Cl(j,"",Xg,"",$,ou|GA|Bl|rd);case 42:return Cl(j,"",zm,"",$,GA|Bl|rd);case 41:return Cl(j,"",Xg,"",$,ou|GA|Bl|rd);case 26:return Cl(j,"","",gh,$,0);case 25:return Cl(j,"","",gh,$,ou|GA|Bl);case 31:return Cl(j,"","",vh,Z,ou|GA|Bl);case 33:return Cl(j,"","",vh,Z,0);case 32:return Cl(j,"","",vh,Z,ou|GA|Bl);case 18:return ba(j,2406,2415,!0,B);case 20:return Hr(j,1,19999,Km,3,B);case 21:return ba(j,2790,2799,!0,B);case 22:return ba(j,2662,2671,!0,B);case 22:return Hr(j,1,10999,Hx,3,B);case 23:return Ec(j,"");case 24:return Ec(j,"");case 27:return ba(j,3302,3311,!0,B);case 28:return Ec(j,"",$);case 29:return Ec(j,"",$);case 34:return ba(j,3792,3801,!0,B);case 37:return ba(j,6160,6169,!0,B);case 38:return ba(j,4160,4169,!0,B);case 39:return ba(j,2918,2927,!0,B);case 40:return ba(j,1776,1785,!0,B);case 43:return ba(j,3046,3055,!0,B);case 44:return ba(j,3174,3183,!0,B);case 45:return ba(j,3664,3673,!0,B);case 46:return ba(j,3872,3881,!0,B);case 3:default:return ba(j,48,57,!0,B)}},Gm="data-html2canvas-ignore",$m=(function(){function j(x,C,B){if(this.context=x,this.options=B,this.scrolledElements=[],this.referenceElement=C,this.counters=new Mm,this.quoteDepth=0,!C.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(C.ownerDocument.documentElement,!1)}return j.prototype.toIFrame=function(x,C){var B=this,$=Ym(x,C);if(!$.contentWindow)return Promise.reject("Unable to find iframe window");var Z=x.defaultView.pageXOffset,ue=x.defaultView.pageYOffset,Be=$.contentWindow,Ce=Be.document,Re=Xm($).then(function(){return o(B,void 0,void 0,function(){var Me,Ye;return c(this,function(ct){switch(ct.label){case 0:return this.scrolledElements.forEach(Zg),Be&&(Be.scrollTo(C.left,C.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(Be.scrollY!==C.top||Be.scrollX!==C.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(Be.scrollX-C.left,Be.scrollY-C.top,0,0))),Me=this.options.onclone,Ye=this.clonedReferenceElement,typeof Ye>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:Ce.fonts&&Ce.fonts.ready?[4,Ce.fonts.ready]:[3,2];case 1:ct.sent(),ct.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Jg(Ce)]:[3,4];case 3:ct.sent(),ct.label=4;case 4:return typeof Me=="function"?[2,Promise.resolve().then(function(){return Me(Ce,Ye)}).then(function(){return $})]:[2,$]}})})});return Ce.open(),Ce.write(qg(document.doctype)+"<html></html>"),Jm(this.referenceElement.ownerDocument,Z,ue),Ce.replaceChild(Ce.adoptNode(this.documentElement),Ce.documentElement),Ce.close(),Re},j.prototype.createElementClone=function(x){if(zn(x,2))debugger;if(xf(x))return this.createCanvasClone(x);if(yf(x))return this.createVideoClone(x);if(Nc(x))return this.createStyleClone(x);var C=x.cloneNode(!1);return bf(C)&&(bf(x)&&x.currentSrc&&x.currentSrc!==x.src&&(C.src=x.currentSrc,C.srcset=""),C.loading==="lazy"&&(C.loading="eager")),km(C)?this.createCustomElementClone(C):C},j.prototype.createCustomElementClone=function(x){var C=document.createElement("html2canvascustomelement");return xh(x.style,C),C},j.prototype.createStyleClone=function(x){try{var C=x.sheet;if(C&&C.cssRules){var B=[].slice.call(C.cssRules,0).reduce(function(Z,ue){return ue&&typeof ue.cssText=="string"?Z+ue.cssText:Z},""),$=x.cloneNode(!1);return $.textContent=B,$}}catch(Z){if(this.context.logger.error("Unable to access cssRules property",Z),Z.name!=="SecurityError")throw Z}return x.cloneNode(!1)},j.prototype.createCanvasClone=function(x){var C;if(this.options.inlineImages&&x.ownerDocument){var B=x.ownerDocument.createElement("img");try{return B.src=x.toDataURL(),B}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",x)}}var $=x.cloneNode(!1);try{$.width=x.width,$.height=x.height;var Z=x.getContext("2d"),ue=$.getContext("2d");if(ue)if(!this.options.allowTaint&&Z)ue.putImageData(Z.getImageData(0,0,x.width,x.height),0,0);else{var Be=(C=x.getContext("webgl2"))!==null&&C!==void 0?C:x.getContext("webgl");if(Be){var Ce=Be.getContextAttributes();(Ce==null?void 0:Ce.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",x)}ue.drawImage(x,0,0)}return $}catch{this.context.logger.info("Unable to clone canvas as it is tainted",x)}return $},j.prototype.createVideoClone=function(x){var C=x.ownerDocument.createElement("canvas");C.width=x.offsetWidth,C.height=x.offsetHeight;var B=C.getContext("2d");try{return B&&(B.drawImage(x,0,0,C.width,C.height),this.options.allowTaint||B.getImageData(0,0,C.width,C.height)),C}catch{this.context.logger.info("Unable to clone video as it is tainted",x)}var $=x.ownerDocument.createElement("canvas");return $.width=x.offsetWidth,$.height=x.offsetHeight,$},j.prototype.appendChildNode=function(x,C,B){(!wA(C)||!Wg(C)&&!C.hasAttribute(Gm)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(C)))&&(!this.options.copyStyles||!wA(C)||!Nc(C))&&x.appendChild(this.cloneNode(C,B))},j.prototype.cloneChildNodes=function(x,C,B){for(var $=this,Z=x.shadowRoot?x.shadowRoot.firstChild:x.firstChild;Z;Z=Z.nextSibling)if(wA(Z)&&ph(Z)&&typeof Z.assignedNodes=="function"){var ue=Z.assignedNodes();ue.length&&ue.forEach(function(Be){return $.appendChildNode(C,Be,B)})}else this.appendChildNode(C,Z,B)},j.prototype.cloneNode=function(x,C){if(Om(x))return document.createTextNode(x.data);if(!x.ownerDocument)return x.cloneNode(!1);var B=x.ownerDocument.defaultView;if(B&&wA(x)&&(dh(x)||iu(x))){var $=this.createElementClone(x);$.style.transitionProperty="none";var Z=B.getComputedStyle(x),ue=B.getComputedStyle(x,":before"),Be=B.getComputedStyle(x,":after");this.referenceElement===x&&dh($)&&(this.clonedReferenceElement=$),vf($)&&ep($);var Ce=this.counters.parse(new is(this.context,Z)),Re=this.resolvePseudoContent(x,$,ue,lu.BEFORE);km(x)&&(C=!0),yf(x)||this.cloneChildNodes(x,$,C),Re&&$.insertBefore(Re,$.firstChild);var Me=this.resolvePseudoContent(x,$,Be,lu.AFTER);return Me&&$.appendChild(Me),this.counters.pop(Ce),(Z&&(this.options.copyStyles||iu(x))&&!Pm(x)||C)&&xh(Z,$),(x.scrollTop!==0||x.scrollLeft!==0)&&this.scrolledElements.push([$,x.scrollLeft,x.scrollTop]),(fh(x)||mh(x))&&(fh($)||mh($))&&($.value=x.value),$}return x.cloneNode(!1)},j.prototype.resolvePseudoContent=function(x,C,B,$){var Z=this;if(B){var ue=B.content,Be=C.ownerDocument;if(!(!Be||!ue||ue==="none"||ue==="-moz-alt-content"||B.display==="none")){this.counters.parse(new is(this.context,B));var Ce=new Sr(this.context,B),Re=Be.createElement("html2canvaspseudoelement");xh(B,Re),Ce.content.forEach(function(Ye){if(Ye.type===0)Re.appendChild(Be.createTextNode(Ye.value));else if(Ye.type===22){var ct=Be.createElement("img");ct.src=Ye.value,ct.style.opacity="1",Re.appendChild(ct)}else if(Ye.type===18){if(Ye.name==="attr"){var rn=Ye.values.filter(rs);rn.length&&Re.appendChild(Be.createTextNode(x.getAttribute(rn[0].value)||""))}else if(Ye.name==="counter"){var Kt=Ye.values.filter(fa),Jt=Kt[0],En=Kt[1];if(Jt&&rs(Jt)){var fn=Z.counters.getCounterValue(Jt.value),dn=En&&rs(En)?tu.parse(Z.context,En.value):3;Re.appendChild(Be.createTextNode(ad(fn,dn,!1)))}}else if(Ye.name==="counters"){var vs=Ye.values.filter(fa),Jt=vs[0],ds=vs[1],En=vs[2];if(Jt&&rs(Jt)){var Xn=Z.counters.getCounterValues(Jt.value),An=En&&rs(En)?tu.parse(Z.context,En.value):3,ws=ds&&ds.type===0?ds.value:"",Fs=Xn.map(function(Tr){return ad(Tr,An,!1)}).join(ws);Re.appendChild(Be.createTextNode(Fs))}}}else if(Ye.type===20)switch(Ye.value){case"open-quote":Re.appendChild(Be.createTextNode(jt(Ce.quotes,Z.quoteDepth++,!0)));break;case"close-quote":Re.appendChild(Be.createTextNode(jt(Ce.quotes,--Z.quoteDepth,!1)));break;default:Re.appendChild(Be.createTextNode(Ye.value))}}),Re.className=Zm+" "+jf;var Me=$===lu.BEFORE?" "+Zm:" "+jf;return iu(C)?C.className.baseValue+=Me:C.className+=Me,Re}}},j.destroy=function(x){return x.parentNode?(x.parentNode.removeChild(x),!0):!1},j})(),lu;(function(j){j[j.BEFORE=0]="BEFORE",j[j.AFTER=1]="AFTER"})(lu||(lu={}));var Ym=function(j,x){var C=j.createElement("iframe");return C.className="html2canvas-container",C.style.visibility="hidden",C.style.position="fixed",C.style.left="-10000px",C.style.top="0px",C.style.border="0",C.width=x.width.toString(),C.height=x.height.toString(),C.scrolling="no",C.setAttribute(Gm,"true"),j.body.appendChild(C),C},Wm=function(j){return new Promise(function(x){if(j.complete){x();return}if(!j.src){x();return}j.onload=x,j.onerror=x})},Jg=function(j){return Promise.all([].slice.call(j.images,0).map(Wm))},Xm=function(j){return new Promise(function(x,C){var B=j.contentWindow;if(!B)return C("No window assigned for iframe");var $=B.document;B.onload=j.onload=function(){B.onload=j.onload=null;var Z=setInterval(function(){$.body.childNodes.length>0&&$.readyState==="complete"&&(clearInterval(Z),x(j))},50)}})},wf=["all","d","content"],xh=function(j,x){for(var C=j.length-1;C>=0;C--){var B=j.item(C);wf.indexOf(B)===-1&&x.style.setProperty(B,j.getPropertyValue(B))}return x},qg=function(j){var x="";return j&&(x+="<!DOCTYPE ",j.name&&(x+=j.name),j.internalSubset&&(x+=j.internalSubset),j.publicId&&(x+='"'+j.publicId+'"'),j.systemId&&(x+='"'+j.systemId+'"'),x+=">"),x},Jm=function(j,x,C){j&&j.defaultView&&(x!==j.defaultView.pageXOffset||C!==j.defaultView.pageYOffset)&&j.defaultView.scrollTo(x,C)},Zg=function(j){var x=j[0],C=j[1],B=j[2];x.scrollLeft=C,x.scrollTop=B},$A=":before",qm=":after",Zm="___html2canvas___pseudoelement_before",jf="___html2canvas___pseudoelement_after",jA=`{
    content: "" !important;
    display: none !important;
}`,ep=function(j){e0(j,"."+Zm+$A+jA+`
         .`+jf+qm+jA)},e0=function(j,x){var C=j.ownerDocument;if(C){var B=C.createElement("style");B.textContent=x,j.appendChild(B)}},yh=(function(){function j(){}return j.getOrigin=function(x){var C=j._link;return C?(C.href=x,C.href=C.href,C.protocol+C.hostname+C.port):"about:blank"},j.isSameOrigin=function(x){return j.getOrigin(x)===j._origin},j.setContext=function(x){j._link=x.document.createElement("a"),j._origin=j.getOrigin(x.location.href)},j._origin="about:blank",j})(),bh=(function(){function j(x,C){this.context=x,this._options=C,this._cache={}}return j.prototype.addImage=function(x){var C=Promise.resolve();return this.has(x)||(Bf(x)||t0(x))&&(this._cache[x]=this.loadImage(x)).catch(function(){}),C},j.prototype.match=function(x){return this._cache[x]},j.prototype.loadImage=function(x){return o(this,void 0,void 0,function(){var C,B,$,Z,ue=this;return c(this,function(Be){switch(Be.label){case 0:return C=yh.isSameOrigin(x),B=!Au(x)&&this._options.useCORS===!0&&Ta.SUPPORT_CORS_IMAGES&&!C,$=!Au(x)&&!C&&!Bf(x)&&typeof this._options.proxy=="string"&&Ta.SUPPORT_CORS_XHR&&!B,!C&&this._options.allowTaint===!1&&!Au(x)&&!Bf(x)&&!$&&!B?[2]:(Z=x,$?[4,this.proxy(Z)]:[3,2]);case 1:Z=Be.sent(),Be.label=2;case 2:return this.context.logger.debug("Added image "+x.substring(0,256)),[4,new Promise(function(Ce,Re){var Me=new Image;Me.onload=function(){return Ce(Me)},Me.onerror=Re,(Tc(Z)||B)&&(Me.crossOrigin="anonymous"),Me.src=Z,Me.complete===!0&&setTimeout(function(){return Ce(Me)},500),ue._options.imageTimeout>0&&setTimeout(function(){return Re("Timed out ("+ue._options.imageTimeout+"ms) loading image")},ue._options.imageTimeout)})];case 3:return[2,Be.sent()]}})})},j.prototype.has=function(x){return typeof this._cache[x]<"u"},j.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},j.prototype.proxy=function(x){var C=this,B=this._options.proxy;if(!B)throw new Error("No proxy defined");var $=x.substring(0,256);return new Promise(function(Z,ue){var Be=Ta.SUPPORT_RESPONSE_TYPE?"blob":"text",Ce=new XMLHttpRequest;Ce.onload=function(){if(Ce.status===200)if(Be==="text")Z(Ce.response);else{var Ye=new FileReader;Ye.addEventListener("load",function(){return Z(Ye.result)},!1),Ye.addEventListener("error",function(ct){return ue(ct)},!1),Ye.readAsDataURL(Ce.response)}else ue("Failed to proxy resource "+$+" with status code "+Ce.status)},Ce.onerror=ue;var Re=B.indexOf("?")>-1?"&":"?";if(Ce.open("GET",""+B+Re+"url="+encodeURIComponent(x)+"&responseType="+Be),Be!=="text"&&Ce instanceof XMLHttpRequest&&(Ce.responseType=Be),C._options.imageTimeout){var Me=C._options.imageTimeout;Ce.timeout=Me,Ce.ontimeout=function(){return ue("Timed out ("+Me+"ms) proxying "+$)}}Ce.send()})},j})(),Vr=/^data:image\/svg\+xml/i,Vx=/^data:image\/.*;base64,/i,Kx=/^data:image\/.*/i,t0=function(j){return Ta.SUPPORT_SVG_DRAWING||!n0(j)},Au=function(j){return Kx.test(j)},Tc=function(j){return Vx.test(j)},Bf=function(j){return j.substr(0,4)==="blob"},n0=function(j){return j.substr(-3).toLowerCase()==="svg"||Vr.test(j)},tn=(function(){function j(x,C){this.type=0,this.x=x,this.y=C}return j.prototype.add=function(x,C){return new j(this.x+x,this.y+C)},j})(),ro=function(j,x,C){return new tn(j.x+(x.x-j.x)*C,j.y+(x.y-j.y)*C)},wh=(function(){function j(x,C,B,$){this.type=1,this.start=x,this.startControl=C,this.endControl=B,this.end=$}return j.prototype.subdivide=function(x,C){var B=ro(this.start,this.startControl,x),$=ro(this.startControl,this.endControl,x),Z=ro(this.endControl,this.end,x),ue=ro(B,$,x),Be=ro($,Z,x),Ce=ro(ue,Be,x);return C?new j(this.start,B,ue,Ce):new j(Ce,Be,Z,this.end)},j.prototype.add=function(x,C){return new j(this.start.add(x,C),this.startControl.add(x,C),this.endControl.add(x,C),this.end.add(x,C))},j.prototype.reverse=function(){return new j(this.end,this.endControl,this.startControl,this.start)},j})(),Uo=function(j){return j.type===1},s0=(function(){function j(x){var C=x.styles,B=x.bounds,$=Bo(C.borderTopLeftRadius,B.width,B.height),Z=$[0],ue=$[1],Be=Bo(C.borderTopRightRadius,B.width,B.height),Ce=Be[0],Re=Be[1],Me=Bo(C.borderBottomRightRadius,B.width,B.height),Ye=Me[0],ct=Me[1],rn=Bo(C.borderBottomLeftRadius,B.width,B.height),Kt=rn[0],Jt=rn[1],En=[];En.push((Z+Ce)/B.width),En.push((Kt+Ye)/B.width),En.push((ue+Jt)/B.height),En.push((Re+ct)/B.height);var fn=Math.max.apply(Math,En);fn>1&&(Z/=fn,ue/=fn,Ce/=fn,Re/=fn,Ye/=fn,ct/=fn,Kt/=fn,Jt/=fn);var dn=B.width-Ce,vs=B.height-ct,ds=B.width-Ye,Xn=B.height-Jt,An=C.borderTopWidth,ws=C.borderRightWidth,Fs=C.borderBottomWidth,Fn=C.borderLeftWidth,Ia=gs(C.paddingTop,x.bounds.width),Tr=gs(C.paddingRight,x.bounds.width),Lo=gs(C.paddingBottom,x.bounds.width),gr=gs(C.paddingLeft,x.bounds.width);this.topLeftBorderDoubleOuterBox=Z>0||ue>0?Dr(B.left+Fn/3,B.top+An/3,Z-Fn/3,ue-An/3,Zs.TOP_LEFT):new tn(B.left+Fn/3,B.top+An/3),this.topRightBorderDoubleOuterBox=Z>0||ue>0?Dr(B.left+dn,B.top+An/3,Ce-ws/3,Re-An/3,Zs.TOP_RIGHT):new tn(B.left+B.width-ws/3,B.top+An/3),this.bottomRightBorderDoubleOuterBox=Ye>0||ct>0?Dr(B.left+ds,B.top+vs,Ye-ws/3,ct-Fs/3,Zs.BOTTOM_RIGHT):new tn(B.left+B.width-ws/3,B.top+B.height-Fs/3),this.bottomLeftBorderDoubleOuterBox=Kt>0||Jt>0?Dr(B.left+Fn/3,B.top+Xn,Kt-Fn/3,Jt-Fs/3,Zs.BOTTOM_LEFT):new tn(B.left+Fn/3,B.top+B.height-Fs/3),this.topLeftBorderDoubleInnerBox=Z>0||ue>0?Dr(B.left+Fn*2/3,B.top+An*2/3,Z-Fn*2/3,ue-An*2/3,Zs.TOP_LEFT):new tn(B.left+Fn*2/3,B.top+An*2/3),this.topRightBorderDoubleInnerBox=Z>0||ue>0?Dr(B.left+dn,B.top+An*2/3,Ce-ws*2/3,Re-An*2/3,Zs.TOP_RIGHT):new tn(B.left+B.width-ws*2/3,B.top+An*2/3),this.bottomRightBorderDoubleInnerBox=Ye>0||ct>0?Dr(B.left+ds,B.top+vs,Ye-ws*2/3,ct-Fs*2/3,Zs.BOTTOM_RIGHT):new tn(B.left+B.width-ws*2/3,B.top+B.height-Fs*2/3),this.bottomLeftBorderDoubleInnerBox=Kt>0||Jt>0?Dr(B.left+Fn*2/3,B.top+Xn,Kt-Fn*2/3,Jt-Fs*2/3,Zs.BOTTOM_LEFT):new tn(B.left+Fn*2/3,B.top+B.height-Fs*2/3),this.topLeftBorderStroke=Z>0||ue>0?Dr(B.left+Fn/2,B.top+An/2,Z-Fn/2,ue-An/2,Zs.TOP_LEFT):new tn(B.left+Fn/2,B.top+An/2),this.topRightBorderStroke=Z>0||ue>0?Dr(B.left+dn,B.top+An/2,Ce-ws/2,Re-An/2,Zs.TOP_RIGHT):new tn(B.left+B.width-ws/2,B.top+An/2),this.bottomRightBorderStroke=Ye>0||ct>0?Dr(B.left+ds,B.top+vs,Ye-ws/2,ct-Fs/2,Zs.BOTTOM_RIGHT):new tn(B.left+B.width-ws/2,B.top+B.height-Fs/2),this.bottomLeftBorderStroke=Kt>0||Jt>0?Dr(B.left+Fn/2,B.top+Xn,Kt-Fn/2,Jt-Fs/2,Zs.BOTTOM_LEFT):new tn(B.left+Fn/2,B.top+B.height-Fs/2),this.topLeftBorderBox=Z>0||ue>0?Dr(B.left,B.top,Z,ue,Zs.TOP_LEFT):new tn(B.left,B.top),this.topRightBorderBox=Ce>0||Re>0?Dr(B.left+dn,B.top,Ce,Re,Zs.TOP_RIGHT):new tn(B.left+B.width,B.top),this.bottomRightBorderBox=Ye>0||ct>0?Dr(B.left+ds,B.top+vs,Ye,ct,Zs.BOTTOM_RIGHT):new tn(B.left+B.width,B.top+B.height),this.bottomLeftBorderBox=Kt>0||Jt>0?Dr(B.left,B.top+Xn,Kt,Jt,Zs.BOTTOM_LEFT):new tn(B.left,B.top+B.height),this.topLeftPaddingBox=Z>0||ue>0?Dr(B.left+Fn,B.top+An,Math.max(0,Z-Fn),Math.max(0,ue-An),Zs.TOP_LEFT):new tn(B.left+Fn,B.top+An),this.topRightPaddingBox=Ce>0||Re>0?Dr(B.left+Math.min(dn,B.width-ws),B.top+An,dn>B.width+ws?0:Math.max(0,Ce-ws),Math.max(0,Re-An),Zs.TOP_RIGHT):new tn(B.left+B.width-ws,B.top+An),this.bottomRightPaddingBox=Ye>0||ct>0?Dr(B.left+Math.min(ds,B.width-Fn),B.top+Math.min(vs,B.height-Fs),Math.max(0,Ye-ws),Math.max(0,ct-Fs),Zs.BOTTOM_RIGHT):new tn(B.left+B.width-ws,B.top+B.height-Fs),this.bottomLeftPaddingBox=Kt>0||Jt>0?Dr(B.left+Fn,B.top+Math.min(Xn,B.height-Fs),Math.max(0,Kt-Fn),Math.max(0,Jt-Fs),Zs.BOTTOM_LEFT):new tn(B.left+Fn,B.top+B.height-Fs),this.topLeftContentBox=Z>0||ue>0?Dr(B.left+Fn+gr,B.top+An+Ia,Math.max(0,Z-(Fn+gr)),Math.max(0,ue-(An+Ia)),Zs.TOP_LEFT):new tn(B.left+Fn+gr,B.top+An+Ia),this.topRightContentBox=Ce>0||Re>0?Dr(B.left+Math.min(dn,B.width+Fn+gr),B.top+An+Ia,dn>B.width+Fn+gr?0:Ce-Fn+gr,Re-(An+Ia),Zs.TOP_RIGHT):new tn(B.left+B.width-(ws+Tr),B.top+An+Ia),this.bottomRightContentBox=Ye>0||ct>0?Dr(B.left+Math.min(ds,B.width-(Fn+gr)),B.top+Math.min(vs,B.height+An+Ia),Math.max(0,Ye-(ws+Tr)),ct-(Fs+Lo),Zs.BOTTOM_RIGHT):new tn(B.left+B.width-(ws+Tr),B.top+B.height-(Fs+Lo)),this.bottomLeftContentBox=Kt>0||Jt>0?Dr(B.left+Fn+gr,B.top+Xn,Math.max(0,Kt-(Fn+gr)),Jt-(Fs+Lo),Zs.BOTTOM_LEFT):new tn(B.left+Fn+gr,B.top+B.height-(Fs+Lo))}return j})(),Zs;(function(j){j[j.TOP_LEFT=0]="TOP_LEFT",j[j.TOP_RIGHT=1]="TOP_RIGHT",j[j.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",j[j.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Zs||(Zs={}));var Dr=function(j,x,C,B,$){var Z=4*((Math.sqrt(2)-1)/3),ue=C*Z,Be=B*Z,Ce=j+C,Re=x+B;switch($){case Zs.TOP_LEFT:return new wh(new tn(j,Re),new tn(j,Re-Be),new tn(Ce-ue,x),new tn(Ce,x));case Zs.TOP_RIGHT:return new wh(new tn(j,x),new tn(j+ue,x),new tn(Ce,Re-Be),new tn(Ce,Re));case Zs.BOTTOM_RIGHT:return new wh(new tn(Ce,x),new tn(Ce,x+Be),new tn(j+ue,Re),new tn(j,Re));case Zs.BOTTOM_LEFT:default:return new wh(new tn(Ce,Re),new tn(Ce-ue,Re),new tn(j,x+Be),new tn(j,x))}},cu=function(j){return[j.topLeftBorderBox,j.topRightBorderBox,j.bottomRightBorderBox,j.bottomLeftBorderBox]},r0=function(j){return[j.topLeftContentBox,j.topRightContentBox,j.bottomRightContentBox,j.bottomLeftContentBox]},Sl=function(j){return[j.topLeftPaddingBox,j.topRightPaddingBox,j.bottomRightPaddingBox,j.bottomLeftPaddingBox]},Ma=(function(){function j(x,C,B){this.offsetX=x,this.offsetY=C,this.matrix=B,this.type=0,this.target=6}return j})(),id=(function(){function j(x,C){this.path=x,this.target=C,this.type=1}return j})(),a0=(function(){function j(x){this.opacity=x,this.type=2,this.target=6}return j})(),gi=function(j){return j.type===0},i0=function(j){return j.type===1},o0=function(j){return j.type===2},tp=function(j,x){return j.length===x.length?j.some(function(C,B){return C===x[B]}):!1},ea=function(j,x,C,B,$){return j.map(function(Z,ue){switch(ue){case 0:return Z.add(x,C);case 1:return Z.add(x+B,C);case 2:return Z.add(x+B,C+$);case 3:return Z.add(x,C+$)}return Z})},ao=(function(){function j(x){this.element=x,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return j})(),BA=(function(){function j(x,C){if(this.container=x,this.parent=C,this.effects=[],this.curves=new s0(this.container),this.container.styles.opacity<1&&this.effects.push(new a0(this.container.styles.opacity)),this.container.styles.transform!==null){var B=this.container.bounds.left+this.container.styles.transformOrigin[0].number,$=this.container.bounds.top+this.container.styles.transformOrigin[1].number,Z=this.container.styles.transform;this.effects.push(new Ma(B,$,Z))}if(this.container.styles.overflowX!==0){var ue=cu(this.curves),Be=Sl(this.curves);tp(ue,Be)?this.effects.push(new id(ue,6)):(this.effects.push(new id(ue,2)),this.effects.push(new id(Be,4)))}}return j.prototype.getEffects=function(x){for(var C=[2,3].indexOf(this.container.styles.position)===-1,B=this.parent,$=this.effects.slice(0);B;){var Z=B.effects.filter(function(Ce){return!i0(Ce)});if(C||B.container.styles.position!==0||!B.parent){if($.unshift.apply($,Z),C=[2,3].indexOf(B.container.styles.position)===-1,B.container.styles.overflowX!==0){var ue=cu(B.curves),Be=Sl(B.curves);tp(ue,Be)||$.unshift(new id(Be,6))}}else $.unshift.apply($,Z);B=B.parent}return $.filter(function(Ce){return ke(Ce.target,x)})},j})(),Cf=function(j,x,C,B){j.container.elements.forEach(function($){var Z=ke($.flags,4),ue=ke($.flags,2),Be=new BA($,j);ke($.styles.display,2048)&&B.push(Be);var Ce=ke($.flags,8)?[]:B;if(Z||ue){var Re=Z||$.styles.isPositioned()?C:x,Me=new ao(Be);if($.styles.isPositioned()||$.styles.opacity<1||$.styles.isTransformed()){var Ye=$.styles.zIndex.order;if(Ye<0){var ct=0;Re.negativeZIndex.some(function(Kt,Jt){return Ye>Kt.element.container.styles.zIndex.order?(ct=Jt,!1):ct>0}),Re.negativeZIndex.splice(ct,0,Me)}else if(Ye>0){var rn=0;Re.positiveZIndex.some(function(Kt,Jt){return Ye>=Kt.element.container.styles.zIndex.order?(rn=Jt+1,!1):rn>0}),Re.positiveZIndex.splice(rn,0,Me)}else Re.zeroOrAutoZIndexOrTransformedOrOpacity.push(Me)}else $.styles.isFloating()?Re.nonPositionedFloats.push(Me):Re.nonPositionedInlineLevel.push(Me);Cf(Be,Me,Z?Me:C,Ce)}else $.styles.isInlineLevel()?x.inlineLevel.push(Be):x.nonInlineLevel.push(Be),Cf(Be,x,C,Ce);ke($.flags,8)&&np($,Ce)})},np=function(j,x){for(var C=j instanceof ff?j.start:1,B=j instanceof ff?j.reversed:!1,$=0;$<x.length;$++){var Z=x[$];Z.container instanceof _m&&typeof Z.container.value=="number"&&Z.container.value!==0&&(C=Z.container.value),Z.listValue=ad(C,Z.container.styles.listStyleType,!0),C+=B?-1:1}},l0=function(j){var x=new BA(j,null),C=new ao(x),B=[];return Cf(x,C,C,B),np(x.container,B),C},A0=function(j,x){switch(x){case 0:return Kr(j.topLeftBorderBox,j.topLeftPaddingBox,j.topRightBorderBox,j.topRightPaddingBox);case 1:return Kr(j.topRightBorderBox,j.topRightPaddingBox,j.bottomRightBorderBox,j.bottomRightPaddingBox);case 2:return Kr(j.bottomRightBorderBox,j.bottomRightPaddingBox,j.bottomLeftBorderBox,j.bottomLeftPaddingBox);case 3:default:return Kr(j.bottomLeftBorderBox,j.bottomLeftPaddingBox,j.topLeftBorderBox,j.topLeftPaddingBox)}},Sf=function(j,x){switch(x){case 0:return Kr(j.topLeftBorderBox,j.topLeftBorderDoubleOuterBox,j.topRightBorderBox,j.topRightBorderDoubleOuterBox);case 1:return Kr(j.topRightBorderBox,j.topRightBorderDoubleOuterBox,j.bottomRightBorderBox,j.bottomRightBorderDoubleOuterBox);case 2:return Kr(j.bottomRightBorderBox,j.bottomRightBorderDoubleOuterBox,j.bottomLeftBorderBox,j.bottomLeftBorderDoubleOuterBox);case 3:default:return Kr(j.bottomLeftBorderBox,j.bottomLeftBorderDoubleOuterBox,j.topLeftBorderBox,j.topLeftBorderDoubleOuterBox)}},Ro=function(j,x){switch(x){case 0:return Kr(j.topLeftBorderDoubleInnerBox,j.topLeftPaddingBox,j.topRightBorderDoubleInnerBox,j.topRightPaddingBox);case 1:return Kr(j.topRightBorderDoubleInnerBox,j.topRightPaddingBox,j.bottomRightBorderDoubleInnerBox,j.bottomRightPaddingBox);case 2:return Kr(j.bottomRightBorderDoubleInnerBox,j.bottomRightPaddingBox,j.bottomLeftBorderDoubleInnerBox,j.bottomLeftPaddingBox);case 3:default:return Kr(j.bottomLeftBorderDoubleInnerBox,j.bottomLeftPaddingBox,j.topLeftBorderDoubleInnerBox,j.topLeftPaddingBox)}},Xl=function(j,x){switch(x){case 0:return jh(j.topLeftBorderStroke,j.topRightBorderStroke);case 1:return jh(j.topRightBorderStroke,j.bottomRightBorderStroke);case 2:return jh(j.bottomRightBorderStroke,j.bottomLeftBorderStroke);case 3:default:return jh(j.bottomLeftBorderStroke,j.topLeftBorderStroke)}},jh=function(j,x){var C=[];return Uo(j)?C.push(j.subdivide(.5,!1)):C.push(j),Uo(x)?C.push(x.subdivide(.5,!0)):C.push(x),C},Kr=function(j,x,C,B){var $=[];return Uo(j)?$.push(j.subdivide(.5,!1)):$.push(j),Uo(C)?$.push(C.subdivide(.5,!0)):$.push(C),Uo(B)?$.push(B.subdivide(.5,!0).reverse()):$.push(B),Uo(x)?$.push(x.subdivide(.5,!1).reverse()):$.push(x),$},sp=function(j){var x=j.bounds,C=j.styles;return x.add(C.borderLeftWidth,C.borderTopWidth,-(C.borderRightWidth+C.borderLeftWidth),-(C.borderTopWidth+C.borderBottomWidth))},Nl=function(j){var x=j.styles,C=j.bounds,B=gs(x.paddingLeft,C.width),$=gs(x.paddingRight,C.width),Z=gs(x.paddingTop,C.width),ue=gs(x.paddingBottom,C.width);return C.add(B+x.borderLeftWidth,Z+x.borderTopWidth,-(x.borderRightWidth+x.borderLeftWidth+B+$),-(x.borderTopWidth+x.borderBottomWidth+Z+ue))},uu=function(j,x){return j===0?x.bounds:j===2?Nl(x):sp(x)},YA=function(j,x){return j===0?x.bounds:j===2?Nl(x):sp(x)},Bh=function(j,x,C){var B=uu(Jl(j.styles.backgroundOrigin,x),j),$=YA(Jl(j.styles.backgroundClip,x),j),Z=c0(Jl(j.styles.backgroundSize,x),C,B),ue=Z[0],Be=Z[1],Ce=Bo(Jl(j.styles.backgroundPosition,x),B.width-ue,B.height-Be),Re=Ch(Jl(j.styles.backgroundRepeat,x),Ce,Z,B,$),Me=Math.round(B.left+Ce[0]),Ye=Math.round(B.top+Ce[1]);return[Re,Me,Ye,ue,Be]},Ic=function(j){return rs(j)&&j.value===Vl.AUTO},Do=function(j){return typeof j=="number"},c0=function(j,x,C){var B=x[0],$=x[1],Z=x[2],ue=j[0],Be=j[1];if(!ue)return[0,0];if(Ps(ue)&&Be&&Ps(Be))return[gs(ue,C.width),gs(Be,C.height)];var Ce=Do(Z);if(rs(ue)&&(ue.value===Vl.CONTAIN||ue.value===Vl.COVER)){if(Do(Z)){var Re=C.width/C.height;return Re<Z!=(ue.value===Vl.COVER)?[C.width,C.width/Z]:[C.height*Z,C.height]}return[C.width,C.height]}var Me=Do(B),Ye=Do($),ct=Me||Ye;if(Ic(ue)&&(!Be||Ic(Be))){if(Me&&Ye)return[B,$];if(!Ce&&!ct)return[C.width,C.height];if(ct&&Ce){var rn=Me?B:$*Z,Kt=Ye?$:B/Z;return[rn,Kt]}var Jt=Me?B:C.width,En=Ye?$:C.height;return[Jt,En]}if(Ce){var fn=0,dn=0;return Ps(ue)?fn=gs(ue,C.width):Ps(Be)&&(dn=gs(Be,C.height)),Ic(ue)?fn=dn*Z:(!Be||Ic(Be))&&(dn=fn/Z),[fn,dn]}var vs=null,ds=null;if(Ps(ue)?vs=gs(ue,C.width):Be&&Ps(Be)&&(ds=gs(Be,C.height)),vs!==null&&(!Be||Ic(Be))&&(ds=Me&&Ye?vs/B*$:C.height),ds!==null&&Ic(ue)&&(vs=Me&&Ye?ds/$*B:C.width),vs!==null&&ds!==null)return[vs,ds];throw new Error("Unable to calculate background-size for element")},Jl=function(j,x){var C=j[x];return typeof C>"u"?j[0]:C},Ch=function(j,x,C,B,$){var Z=x[0],ue=x[1],Be=C[0],Ce=C[1];switch(j){case 2:return[new tn(Math.round(B.left),Math.round(B.top+ue)),new tn(Math.round(B.left+B.width),Math.round(B.top+ue)),new tn(Math.round(B.left+B.width),Math.round(Ce+B.top+ue)),new tn(Math.round(B.left),Math.round(Ce+B.top+ue))];case 3:return[new tn(Math.round(B.left+Z),Math.round(B.top)),new tn(Math.round(B.left+Z+Be),Math.round(B.top)),new tn(Math.round(B.left+Z+Be),Math.round(B.height+B.top)),new tn(Math.round(B.left+Z),Math.round(B.height+B.top))];case 1:return[new tn(Math.round(B.left+Z),Math.round(B.top+ue)),new tn(Math.round(B.left+Z+Be),Math.round(B.top+ue)),new tn(Math.round(B.left+Z+Be),Math.round(B.top+ue+Ce)),new tn(Math.round(B.left+Z),Math.round(B.top+ue+Ce))];default:return[new tn(Math.round($.left),Math.round($.top)),new tn(Math.round($.left+$.width),Math.round($.top)),new tn(Math.round($.left+$.width),Math.round($.height+$.top)),new tn(Math.round($.left),Math.round($.height+$.top))]}},Sh="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",du="Hidden Text",u0=(function(){function j(x){this._data={},this._document=x}return j.prototype.parseMetrics=function(x,C){var B=this._document.createElement("div"),$=this._document.createElement("img"),Z=this._document.createElement("span"),ue=this._document.body;B.style.visibility="hidden",B.style.fontFamily=x,B.style.fontSize=C,B.style.margin="0",B.style.padding="0",B.style.whiteSpace="nowrap",ue.appendChild(B),$.src=Sh,$.width=1,$.height=1,$.style.margin="0",$.style.padding="0",$.style.verticalAlign="baseline",Z.style.fontFamily=x,Z.style.fontSize=C,Z.style.margin="0",Z.style.padding="0",Z.appendChild(this._document.createTextNode(du)),B.appendChild(Z),B.appendChild($);var Be=$.offsetTop-Z.offsetTop+2;B.removeChild(Z),B.appendChild(this._document.createTextNode(du)),B.style.lineHeight="normal",$.style.verticalAlign="super";var Ce=$.offsetTop-B.offsetTop+2;return ue.removeChild(B),{baseline:Be,middle:Ce}},j.prototype.getMetrics=function(x,C){var B=x+" "+C;return typeof this._data[B]>"u"&&(this._data[B]=this.parseMetrics(x,C)),this._data[B]},j})(),rp=(function(){function j(x,C){this.context=x,this.options=C}return j})(),Nh=1e4,d0=(function(j){s(x,j);function x(C,B){var $=j.call(this,C,B)||this;return $._activeEffects=[],$.canvas=B.canvas?B.canvas:document.createElement("canvas"),$.ctx=$.canvas.getContext("2d"),B.canvas||($.canvas.width=Math.floor(B.width*B.scale),$.canvas.height=Math.floor(B.height*B.scale),$.canvas.style.width=B.width+"px",$.canvas.style.height=B.height+"px"),$.fontMetrics=new u0(document),$.ctx.scale($.options.scale,$.options.scale),$.ctx.translate(-B.x,-B.y),$.ctx.textBaseline="bottom",$._activeEffects=[],$.context.logger.debug("Canvas renderer initialized ("+B.width+"x"+B.height+") with scale "+B.scale),$}return x.prototype.applyEffects=function(C){for(var B=this;this._activeEffects.length;)this.popEffect();C.forEach(function($){return B.applyEffect($)})},x.prototype.applyEffect=function(C){this.ctx.save(),o0(C)&&(this.ctx.globalAlpha=C.opacity),gi(C)&&(this.ctx.translate(C.offsetX,C.offsetY),this.ctx.transform(C.matrix[0],C.matrix[1],C.matrix[2],C.matrix[3],C.matrix[4],C.matrix[5]),this.ctx.translate(-C.offsetX,-C.offsetY)),i0(C)&&(this.path(C.path),this.ctx.clip()),this._activeEffects.push(C)},x.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},x.prototype.renderStack=function(C){return o(this,void 0,void 0,function(){var B;return c(this,function($){switch($.label){case 0:return B=C.element.container.styles,B.isVisible()?[4,this.renderStackContent(C)]:[3,2];case 1:$.sent(),$.label=2;case 2:return[2]}})})},x.prototype.renderNode=function(C){return o(this,void 0,void 0,function(){return c(this,function(B){switch(B.label){case 0:if(ke(C.container.flags,16))debugger;return C.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(C)]:[3,3];case 1:return B.sent(),[4,this.renderNodeContent(C)];case 2:B.sent(),B.label=3;case 3:return[2]}})})},x.prototype.renderTextWithLetterSpacing=function(C,B,$){var Z=this;if(B===0)this.ctx.fillText(C.text,C.bounds.left,C.bounds.top+$);else{var ue=Fo(C.text);ue.reduce(function(Be,Ce){return Z.ctx.fillText(Ce,Be,C.bounds.top+$),Be+Z.ctx.measureText(Ce).width},C.bounds.left)}},x.prototype.createFontStyle=function(C){var B=C.fontVariant.filter(function(ue){return ue==="normal"||ue==="small-caps"}).join(""),$=or(C.fontFamily).join(", "),Z=sa(C.fontSize)?""+C.fontSize.number+C.fontSize.unit:C.fontSize.number+"px";return[[C.fontStyle,B,C.fontWeight,Z,$].join(" "),$,Z]},x.prototype.renderTextNode=function(C,B){return o(this,void 0,void 0,function(){var $,Z,ue,Be,Ce,Re,Me,Ye,ct=this;return c(this,function(rn){return $=this.createFontStyle(B),Z=$[0],ue=$[1],Be=$[2],this.ctx.font=Z,this.ctx.direction=B.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",Ce=this.fontMetrics.getMetrics(ue,Be),Re=Ce.baseline,Me=Ce.middle,Ye=B.paintOrder,C.textBounds.forEach(function(Kt){Ye.forEach(function(Jt){switch(Jt){case 0:ct.ctx.fillStyle=Es(B.color),ct.renderTextWithLetterSpacing(Kt,B.letterSpacing,Re);var En=B.textShadow;En.length&&Kt.text.trim().length&&(En.slice(0).reverse().forEach(function(fn){ct.ctx.shadowColor=Es(fn.color),ct.ctx.shadowOffsetX=fn.offsetX.number*ct.options.scale,ct.ctx.shadowOffsetY=fn.offsetY.number*ct.options.scale,ct.ctx.shadowBlur=fn.blur.number,ct.renderTextWithLetterSpacing(Kt,B.letterSpacing,Re)}),ct.ctx.shadowColor="",ct.ctx.shadowOffsetX=0,ct.ctx.shadowOffsetY=0,ct.ctx.shadowBlur=0),B.textDecorationLine.length&&(ct.ctx.fillStyle=Es(B.textDecorationColor||B.color),B.textDecorationLine.forEach(function(fn){switch(fn){case 1:ct.ctx.fillRect(Kt.bounds.left,Math.round(Kt.bounds.top+Re),Kt.bounds.width,1);break;case 2:ct.ctx.fillRect(Kt.bounds.left,Math.round(Kt.bounds.top),Kt.bounds.width,1);break;case 3:ct.ctx.fillRect(Kt.bounds.left,Math.ceil(Kt.bounds.top+Me),Kt.bounds.width,1);break}}));break;case 1:B.webkitTextStrokeWidth&&Kt.text.trim().length&&(ct.ctx.strokeStyle=Es(B.webkitTextStrokeColor),ct.ctx.lineWidth=B.webkitTextStrokeWidth,ct.ctx.lineJoin=window.chrome?"miter":"round",ct.ctx.strokeText(Kt.text,Kt.bounds.left,Kt.bounds.top+Re)),ct.ctx.strokeStyle="",ct.ctx.lineWidth=0,ct.ctx.lineJoin="miter";break}})}),[2]})})},x.prototype.renderReplacedElement=function(C,B,$){if($&&C.intrinsicWidth>0&&C.intrinsicHeight>0){var Z=Nl(C),ue=Sl(B);this.path(ue),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage($,0,0,C.intrinsicWidth,C.intrinsicHeight,Z.left,Z.top,Z.width,Z.height),this.ctx.restore()}},x.prototype.renderNodeContent=function(C){return o(this,void 0,void 0,function(){var B,$,Z,ue,Be,Ce,dn,dn,Re,Me,Ye,ct,ds,rn,Kt,Xn,Jt,En,fn,dn,vs,ds,Xn;return c(this,function(An){switch(An.label){case 0:this.applyEffects(C.getEffects(4)),B=C.container,$=C.curves,Z=B.styles,ue=0,Be=B.textNodes,An.label=1;case 1:return ue<Be.length?(Ce=Be[ue],[4,this.renderTextNode(Ce,Z)]):[3,4];case 2:An.sent(),An.label=3;case 3:return ue++,[3,1];case 4:if(!(B instanceof Im))return[3,8];An.label=5;case 5:return An.trys.push([5,7,,8]),[4,this.context.cache.match(B.src)];case 6:return dn=An.sent(),this.renderReplacedElement(B,$,dn),[3,8];case 7:return An.sent(),this.context.logger.error("Error loading image "+B.src),[3,8];case 8:if(B instanceof hf&&this.renderReplacedElement(B,$,B.canvas),!(B instanceof kg))return[3,12];An.label=9;case 9:return An.trys.push([9,11,,12]),[4,this.context.cache.match(B.svg)];case 10:return dn=An.sent(),this.renderReplacedElement(B,$,dn),[3,12];case 11:return An.sent(),this.context.logger.error("Error loading svg "+B.svg.substring(0,255)),[3,12];case 12:return B instanceof Dm&&B.tree?(Re=new x(this.context,{scale:this.options.scale,backgroundColor:B.backgroundColor,x:0,y:0,width:B.width,height:B.height}),[4,Re.render(B.tree)]):[3,14];case 13:Me=An.sent(),B.width&&B.height&&this.ctx.drawImage(Me,0,0,B.width,B.height,B.bounds.left,B.bounds.top,B.bounds.width,B.bounds.height),An.label=14;case 14:if(B instanceof mf&&(Ye=Math.min(B.bounds.width,B.bounds.height),B.type===ch?B.checked&&(this.ctx.save(),this.path([new tn(B.bounds.left+Ye*.39363,B.bounds.top+Ye*.79),new tn(B.bounds.left+Ye*.16,B.bounds.top+Ye*.5549),new tn(B.bounds.left+Ye*.27347,B.bounds.top+Ye*.44071),new tn(B.bounds.left+Ye*.39694,B.bounds.top+Ye*.5649),new tn(B.bounds.left+Ye*.72983,B.bounds.top+Ye*.23),new tn(B.bounds.left+Ye*.84,B.bounds.top+Ye*.34085),new tn(B.bounds.left+Ye*.39363,B.bounds.top+Ye*.79)]),this.ctx.fillStyle=Es(Rm),this.ctx.fill(),this.ctx.restore()):B.type===uh&&B.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(B.bounds.left+Ye/2,B.bounds.top+Ye/2,Ye/4,0,Math.PI*2,!0),this.ctx.fillStyle=Es(Rm),this.ctx.fill(),this.ctx.restore())),Nf(B)&&B.value.length){switch(ct=this.createFontStyle(Z),ds=ct[0],rn=ct[1],Kt=this.fontMetrics.getMetrics(ds,rn).baseline,this.ctx.font=ds,this.ctx.fillStyle=Es(Z.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=zx(B.styles.textAlign),Xn=Nl(B),Jt=0,B.styles.textAlign){case 1:Jt+=Xn.width/2;break;case 2:Jt+=Xn.width;break}En=Xn.add(Jt,0,0,-Xn.height/2+1),this.ctx.save(),this.path([new tn(Xn.left,Xn.top),new tn(Xn.left+Xn.width,Xn.top),new tn(Xn.left+Xn.width,Xn.top+Xn.height),new tn(Xn.left,Xn.top+Xn.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new jc(B.value,En),Z.letterSpacing,Kt),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!ke(B.styles.display,2048))return[3,20];if(B.styles.listStyleImage===null)return[3,19];if(fn=B.styles.listStyleImage,fn.type!==0)return[3,18];dn=void 0,vs=fn.url,An.label=15;case 15:return An.trys.push([15,17,,18]),[4,this.context.cache.match(vs)];case 16:return dn=An.sent(),this.ctx.drawImage(dn,B.bounds.left-(dn.width+10),B.bounds.top),[3,18];case 17:return An.sent(),this.context.logger.error("Error loading list-style-image "+vs),[3,18];case 18:return[3,20];case 19:C.listValue&&B.styles.listStyleType!==-1&&(ds=this.createFontStyle(Z)[0],this.ctx.font=ds,this.ctx.fillStyle=Es(Z.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",Xn=new u(B.bounds.left,B.bounds.top+gs(B.styles.paddingTop,B.bounds.width),B.bounds.width,yl(Z.lineHeight,Z.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new jc(C.listValue,Xn),Z.letterSpacing,yl(Z.lineHeight,Z.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),An.label=20;case 20:return[2]}})})},x.prototype.renderStackContent=function(C){return o(this,void 0,void 0,function(){var B,$,fn,Z,ue,fn,Be,Ce,fn,Re,Me,fn,Ye,ct,fn,rn,Kt,fn,Jt,En,fn;return c(this,function(dn){switch(dn.label){case 0:if(ke(C.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(C.element)];case 1:dn.sent(),B=0,$=C.negativeZIndex,dn.label=2;case 2:return B<$.length?(fn=$[B],[4,this.renderStack(fn)]):[3,5];case 3:dn.sent(),dn.label=4;case 4:return B++,[3,2];case 5:return[4,this.renderNodeContent(C.element)];case 6:dn.sent(),Z=0,ue=C.nonInlineLevel,dn.label=7;case 7:return Z<ue.length?(fn=ue[Z],[4,this.renderNode(fn)]):[3,10];case 8:dn.sent(),dn.label=9;case 9:return Z++,[3,7];case 10:Be=0,Ce=C.nonPositionedFloats,dn.label=11;case 11:return Be<Ce.length?(fn=Ce[Be],[4,this.renderStack(fn)]):[3,14];case 12:dn.sent(),dn.label=13;case 13:return Be++,[3,11];case 14:Re=0,Me=C.nonPositionedInlineLevel,dn.label=15;case 15:return Re<Me.length?(fn=Me[Re],[4,this.renderStack(fn)]):[3,18];case 16:dn.sent(),dn.label=17;case 17:return Re++,[3,15];case 18:Ye=0,ct=C.inlineLevel,dn.label=19;case 19:return Ye<ct.length?(fn=ct[Ye],[4,this.renderNode(fn)]):[3,22];case 20:dn.sent(),dn.label=21;case 21:return Ye++,[3,19];case 22:rn=0,Kt=C.zeroOrAutoZIndexOrTransformedOrOpacity,dn.label=23;case 23:return rn<Kt.length?(fn=Kt[rn],[4,this.renderStack(fn)]):[3,26];case 24:dn.sent(),dn.label=25;case 25:return rn++,[3,23];case 26:Jt=0,En=C.positiveZIndex,dn.label=27;case 27:return Jt<En.length?(fn=En[Jt],[4,this.renderStack(fn)]):[3,30];case 28:dn.sent(),dn.label=29;case 29:return Jt++,[3,27];case 30:return[2]}})})},x.prototype.mask=function(C){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(C.slice(0).reverse()),this.ctx.closePath()},x.prototype.path=function(C){this.ctx.beginPath(),this.formatPath(C),this.ctx.closePath()},x.prototype.formatPath=function(C){var B=this;C.forEach(function($,Z){var ue=Uo($)?$.start:$;Z===0?B.ctx.moveTo(ue.x,ue.y):B.ctx.lineTo(ue.x,ue.y),Uo($)&&B.ctx.bezierCurveTo($.startControl.x,$.startControl.y,$.endControl.x,$.endControl.y,$.end.x,$.end.y)})},x.prototype.renderRepeat=function(C,B,$,Z){this.path(C),this.ctx.fillStyle=B,this.ctx.translate($,Z),this.ctx.fill(),this.ctx.translate(-$,-Z)},x.prototype.resizeImage=function(C,B,$){var Z;if(C.width===B&&C.height===$)return C;var ue=(Z=this.canvas.ownerDocument)!==null&&Z!==void 0?Z:document,Be=ue.createElement("canvas");Be.width=Math.max(1,B),Be.height=Math.max(1,$);var Ce=Be.getContext("2d");return Ce.drawImage(C,0,0,C.width,C.height,0,0,B,$),Be},x.prototype.renderBackgroundImage=function(C){return o(this,void 0,void 0,function(){var B,$,Z,ue,Be,Ce;return c(this,function(Re){switch(Re.label){case 0:B=C.styles.backgroundImage.length-1,$=function(Me){var Ye,ct,rn,Ia,Li,Gi,gr,Di,Fs,Kt,Ia,Li,Gi,gr,Di,Jt,En,fn,dn,vs,ds,Xn,An,ws,Fs,Fn,Ia,Tr,Lo,gr,Di,io,Li,Gi,El,ql,WA,Fc,Uc,Tl,XA,JA;return c(this,function(ld){switch(ld.label){case 0:if(Me.type!==0)return[3,5];Ye=void 0,ct=Me.url,ld.label=1;case 1:return ld.trys.push([1,3,,4]),[4,Z.context.cache.match(ct)];case 2:return Ye=ld.sent(),[3,4];case 3:return ld.sent(),Z.context.logger.error("Error loading background-image "+ct),[3,4];case 4:return Ye&&(rn=Bh(C,B,[Ye.width,Ye.height,Ye.width/Ye.height]),Ia=rn[0],Li=rn[1],Gi=rn[2],gr=rn[3],Di=rn[4],Fs=Z.ctx.createPattern(Z.resizeImage(Ye,gr,Di),"repeat"),Z.renderRepeat(Ia,Fs,Li,Gi)),[3,6];case 5:Qu(Me)?(Kt=Bh(C,B,[null,null,null]),Ia=Kt[0],Li=Kt[1],Gi=Kt[2],gr=Kt[3],Di=Kt[4],Jt=br(Me.angle,gr,Di),En=Jt[0],fn=Jt[1],dn=Jt[2],vs=Jt[3],ds=Jt[4],Xn=document.createElement("canvas"),Xn.width=gr,Xn.height=Di,An=Xn.getContext("2d"),ws=An.createLinearGradient(fn,vs,dn,ds),ks(Me.stops,En).forEach(function(Eh){return ws.addColorStop(Eh.stop,Es(Eh.color))}),An.fillStyle=ws,An.fillRect(0,0,gr,Di),gr>0&&Di>0&&(Fs=Z.ctx.createPattern(Xn,"repeat"),Z.renderRepeat(Ia,Fs,Li,Gi))):Jc(Me)&&(Fn=Bh(C,B,[null,null,null]),Ia=Fn[0],Tr=Fn[1],Lo=Fn[2],gr=Fn[3],Di=Fn[4],io=Me.position.length===0?[DA]:Me.position,Li=gs(io[0],gr),Gi=gs(io[io.length-1],Di),El=rl(Me,Li,Gi,gr,Di),ql=El[0],WA=El[1],ql>0&&WA>0&&(Fc=Z.ctx.createRadialGradient(Tr+Li,Lo+Gi,0,Tr+Li,Lo+Gi,ql),ks(Me.stops,ql*2).forEach(function(Eh){return Fc.addColorStop(Eh.stop,Es(Eh.color))}),Z.path(Ia),Z.ctx.fillStyle=Fc,ql!==WA?(Uc=C.bounds.left+.5*C.bounds.width,Tl=C.bounds.top+.5*C.bounds.height,XA=WA/ql,JA=1/XA,Z.ctx.save(),Z.ctx.translate(Uc,Tl),Z.ctx.transform(1,0,0,XA,0,0),Z.ctx.translate(-Uc,-Tl),Z.ctx.fillRect(Tr,JA*(Lo-Tl)+Tl,gr,Di*JA),Z.ctx.restore()):Z.ctx.fill())),ld.label=6;case 6:return B--,[2]}})},Z=this,ue=0,Be=C.styles.backgroundImage.slice(0).reverse(),Re.label=1;case 1:return ue<Be.length?(Ce=Be[ue],[5,$(Ce)]):[3,4];case 2:Re.sent(),Re.label=3;case 3:return ue++,[3,1];case 4:return[2]}})})},x.prototype.renderSolidBorder=function(C,B,$){return o(this,void 0,void 0,function(){return c(this,function(Z){return this.path(A0($,B)),this.ctx.fillStyle=Es(C),this.ctx.fill(),[2]})})},x.prototype.renderDoubleBorder=function(C,B,$,Z){return o(this,void 0,void 0,function(){var ue,Be;return c(this,function(Ce){switch(Ce.label){case 0:return B<3?[4,this.renderSolidBorder(C,$,Z)]:[3,2];case 1:return Ce.sent(),[2];case 2:return ue=Sf(Z,$),this.path(ue),this.ctx.fillStyle=Es(C),this.ctx.fill(),Be=Ro(Z,$),this.path(Be),this.ctx.fill(),[2]}})})},x.prototype.renderNodeBackgroundAndBorders=function(C){return o(this,void 0,void 0,function(){var B,$,Z,ue,Be,Ce,Re,Me,Ye=this;return c(this,function(ct){switch(ct.label){case 0:return this.applyEffects(C.getEffects(2)),B=C.container.styles,$=!Wa(B.backgroundColor)||B.backgroundImage.length,Z=[{style:B.borderTopStyle,color:B.borderTopColor,width:B.borderTopWidth},{style:B.borderRightStyle,color:B.borderRightColor,width:B.borderRightWidth},{style:B.borderBottomStyle,color:B.borderBottomColor,width:B.borderBottomWidth},{style:B.borderLeftStyle,color:B.borderLeftColor,width:B.borderLeftWidth}],ue=h0(Jl(B.backgroundClip,0),C.curves),$||B.boxShadow.length?(this.ctx.save(),this.path(ue),this.ctx.clip(),Wa(B.backgroundColor)||(this.ctx.fillStyle=Es(B.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(C.container)]):[3,2];case 1:ct.sent(),this.ctx.restore(),B.boxShadow.slice(0).reverse().forEach(function(rn){Ye.ctx.save();var Kt=cu(C.curves),Jt=rn.inset?0:Nh,En=ea(Kt,-Jt+(rn.inset?1:-1)*rn.spread.number,(rn.inset?1:-1)*rn.spread.number,rn.spread.number*(rn.inset?-2:2),rn.spread.number*(rn.inset?-2:2));rn.inset?(Ye.path(Kt),Ye.ctx.clip(),Ye.mask(En)):(Ye.mask(Kt),Ye.ctx.clip(),Ye.path(En)),Ye.ctx.shadowOffsetX=rn.offsetX.number+Jt,Ye.ctx.shadowOffsetY=rn.offsetY.number,Ye.ctx.shadowColor=Es(rn.color),Ye.ctx.shadowBlur=rn.blur.number,Ye.ctx.fillStyle=rn.inset?Es(rn.color):"rgba(0,0,0,1)",Ye.ctx.fill(),Ye.ctx.restore()}),ct.label=2;case 2:Be=0,Ce=0,Re=Z,ct.label=3;case 3:return Ce<Re.length?(Me=Re[Ce],Me.style!==0&&!Wa(Me.color)&&Me.width>0?Me.style!==2?[3,5]:[4,this.renderDashedDottedBorder(Me.color,Me.width,Be,C.curves,2)]:[3,11]):[3,13];case 4:return ct.sent(),[3,11];case 5:return Me.style!==3?[3,7]:[4,this.renderDashedDottedBorder(Me.color,Me.width,Be,C.curves,3)];case 6:return ct.sent(),[3,11];case 7:return Me.style!==4?[3,9]:[4,this.renderDoubleBorder(Me.color,Me.width,Be,C.curves)];case 8:return ct.sent(),[3,11];case 9:return[4,this.renderSolidBorder(Me.color,Be,C.curves)];case 10:ct.sent(),ct.label=11;case 11:Be++,ct.label=12;case 12:return Ce++,[3,3];case 13:return[2]}})})},x.prototype.renderDashedDottedBorder=function(C,B,$,Z,ue){return o(this,void 0,void 0,function(){var Be,Ce,Re,Me,Ye,ct,rn,Kt,Jt,En,fn,dn,vs,ds,Xn,An,Xn,An;return c(this,function(ws){return this.ctx.save(),Be=Xl(Z,$),Ce=A0(Z,$),ue===2&&(this.path(Ce),this.ctx.clip()),Uo(Ce[0])?(Re=Ce[0].start.x,Me=Ce[0].start.y):(Re=Ce[0].x,Me=Ce[0].y),Uo(Ce[1])?(Ye=Ce[1].end.x,ct=Ce[1].end.y):(Ye=Ce[1].x,ct=Ce[1].y),$===0||$===2?rn=Math.abs(Re-Ye):rn=Math.abs(Me-ct),this.ctx.beginPath(),ue===3?this.formatPath(Be):this.formatPath(Ce.slice(0,2)),Kt=B<3?B*3:B*2,Jt=B<3?B*2:B,ue===3&&(Kt=B,Jt=B),En=!0,rn<=Kt*2?En=!1:rn<=Kt*2+Jt?(fn=rn/(2*Kt+Jt),Kt*=fn,Jt*=fn):(dn=Math.floor((rn+Jt)/(Kt+Jt)),vs=(rn-dn*Kt)/(dn-1),ds=(rn-(dn+1)*Kt)/dn,Jt=ds<=0||Math.abs(Jt-vs)<Math.abs(Jt-ds)?vs:ds),En&&(ue===3?this.ctx.setLineDash([0,Kt+Jt]):this.ctx.setLineDash([Kt,Jt])),ue===3?(this.ctx.lineCap="round",this.ctx.lineWidth=B):this.ctx.lineWidth=B*2+1.1,this.ctx.strokeStyle=Es(C),this.ctx.stroke(),this.ctx.setLineDash([]),ue===2&&(Uo(Ce[0])&&(Xn=Ce[3],An=Ce[0],this.ctx.beginPath(),this.formatPath([new tn(Xn.end.x,Xn.end.y),new tn(An.start.x,An.start.y)]),this.ctx.stroke()),Uo(Ce[1])&&(Xn=Ce[1],An=Ce[2],this.ctx.beginPath(),this.formatPath([new tn(Xn.end.x,Xn.end.y),new tn(An.start.x,An.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},x.prototype.render=function(C){return o(this,void 0,void 0,function(){var B;return c(this,function($){switch($.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Es(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),B=l0(C),[4,this.renderStack(B)];case 1:return $.sent(),this.applyEffects([]),[2,this.canvas]}})})},x})(rp),Nf=function(j){return j instanceof pf||j instanceof Kg?!0:j instanceof mf&&j.type!==uh&&j.type!==ch},h0=function(j,x){switch(j){case 0:return cu(x);case 2:return r0(x);case 1:default:return Sl(x)}},zx=function(j){switch(j){case 1:return"center";case 2:return"right";case 0:default:return"left"}},Gx=["-apple-system","system-ui"],or=function(j){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?j.filter(function(x){return Gx.indexOf(x)===-1}):j},Er=(function(j){s(x,j);function x(C,B){var $=j.call(this,C,B)||this;return $.canvas=B.canvas?B.canvas:document.createElement("canvas"),$.ctx=$.canvas.getContext("2d"),$.options=B,$.canvas.width=Math.floor(B.width*B.scale),$.canvas.height=Math.floor(B.height*B.scale),$.canvas.style.width=B.width+"px",$.canvas.style.height=B.height+"px",$.ctx.scale($.options.scale,$.options.scale),$.ctx.translate(-B.x,-B.y),$.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+B.width+"x"+B.height+" at "+B.x+","+B.y+") with scale "+B.scale),$}return x.prototype.render=function(C){return o(this,void 0,void 0,function(){var B,$;return c(this,function(Z){switch(Z.label){case 0:return B=Zu(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,C),[4,Cs(B)];case 1:return $=Z.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Es(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage($,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},x})(rp),Cs=function(j){return new Promise(function(x,C){var B=new Image;B.onload=function(){x(B)},B.onerror=C,B.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(j))})},_s=(function(){function j(x){var C=x.id,B=x.enabled;this.id=C,this.enabled=B,this.start=Date.now()}return j.prototype.debug=function(){for(var x=[],C=0;C<arguments.length;C++)x[C]=arguments[C];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,h([this.id,this.getTime()+"ms"],x)):this.info.apply(this,x))},j.prototype.getTime=function(){return Date.now()-this.start},j.prototype.info=function(){for(var x=[],C=0;C<arguments.length;C++)x[C]=arguments[C];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,h([this.id,this.getTime()+"ms"],x))},j.prototype.warn=function(){for(var x=[],C=0;C<arguments.length;C++)x[C]=arguments[C];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,h([this.id,this.getTime()+"ms"],x)):this.info.apply(this,x))},j.prototype.error=function(){for(var x=[],C=0;C<arguments.length;C++)x[C]=arguments[C];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,h([this.id,this.getTime()+"ms"],x)):this.info.apply(this,x))},j.instances={},j})(),pr=(function(){function j(x,C){var B;this.windowBounds=C,this.instanceName="#"+j.instanceCount++,this.logger=new _s({id:this.instanceName,enabled:x.logging}),this.cache=(B=x.cache)!==null&&B!==void 0?B:new bh(this,x)}return j.instanceCount=1,j})(),il=function(j,x){return x===void 0&&(x={}),_c(j,x)};typeof window<"u"&&yh.setContext(window);var _c=function(j,x){return o(void 0,void 0,void 0,function(){var C,B,$,Z,ue,Be,Ce,Re,Me,Ye,ct,rn,Kt,Jt,En,fn,dn,vs,ds,Xn,ws,An,ws,Fs,Fn,Ia,Tr,Lo,gr,Di,io,Li,Gi,El,ql,WA,Fc,Uc,Tl,XA;return c(this,function(JA){switch(JA.label){case 0:if(!j||typeof j!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(C=j.ownerDocument,!C)throw new Error("Element is not attached to a Document");if(B=C.defaultView,!B)throw new Error("Document is not attached to a Window");return $={allowTaint:(Fs=x.allowTaint)!==null&&Fs!==void 0?Fs:!1,imageTimeout:(Fn=x.imageTimeout)!==null&&Fn!==void 0?Fn:15e3,proxy:x.proxy,useCORS:(Ia=x.useCORS)!==null&&Ia!==void 0?Ia:!1},Z=a({logging:(Tr=x.logging)!==null&&Tr!==void 0?Tr:!0,cache:x.cache},$),ue={windowWidth:(Lo=x.windowWidth)!==null&&Lo!==void 0?Lo:B.innerWidth,windowHeight:(gr=x.windowHeight)!==null&&gr!==void 0?gr:B.innerHeight,scrollX:(Di=x.scrollX)!==null&&Di!==void 0?Di:B.pageXOffset,scrollY:(io=x.scrollY)!==null&&io!==void 0?io:B.pageYOffset},Be=new u(ue.scrollX,ue.scrollY,ue.windowWidth,ue.windowHeight),Ce=new pr(Z,Be),Re=(Li=x.foreignObjectRendering)!==null&&Li!==void 0?Li:!1,Me={allowTaint:(Gi=x.allowTaint)!==null&&Gi!==void 0?Gi:!1,onclone:x.onclone,ignoreElements:x.ignoreElements,inlineImages:Re,copyStyles:Re},Ce.logger.debug("Starting document clone with size "+Be.width+"x"+Be.height+" scrolled to "+-Be.left+","+-Be.top),Ye=new $m(Ce,j,Me),ct=Ye.clonedReferenceElement,ct?[4,Ye.toIFrame(C,Be)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return rn=JA.sent(),Kt=vf(ct)||Yg(ct)?A(ct.ownerDocument):f(Ce,ct),Jt=Kt.width,En=Kt.height,fn=Kt.left,dn=Kt.top,vs=od(Ce,ct,x.backgroundColor),ds={canvas:x.canvas,backgroundColor:vs,scale:(ql=(El=x.scale)!==null&&El!==void 0?El:B.devicePixelRatio)!==null&&ql!==void 0?ql:1,x:((WA=x.x)!==null&&WA!==void 0?WA:0)+fn,y:((Fc=x.y)!==null&&Fc!==void 0?Fc:0)+dn,width:(Uc=x.width)!==null&&Uc!==void 0?Uc:Math.ceil(Jt),height:(Tl=x.height)!==null&&Tl!==void 0?Tl:Math.ceil(En)},Re?(Ce.logger.debug("Document cloned, using foreign object rendering"),ws=new Er(Ce,ds),[4,ws.render(ct)]):[3,3];case 2:return Xn=JA.sent(),[3,5];case 3:return Ce.logger.debug("Document cloned, element located at "+fn+","+dn+" with size "+Jt+"x"+En+" using computed rendering"),Ce.logger.debug("Starting DOM parsing"),An=Qm(Ce,ct),vs===An.styles.backgroundColor&&(An.styles.backgroundColor=ra.TRANSPARENT),Ce.logger.debug("Starting renderer for element at "+ds.x+","+ds.y+" with size "+ds.width+"x"+ds.height),ws=new d0(Ce,ds),[4,ws.render(An)];case 4:Xn=JA.sent(),JA.label=5;case 5:return(!((XA=x.removeContainer)!==null&&XA!==void 0)||XA)&&($m.destroy(rn)||Ce.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),Ce.logger.debug("Finished rendering"),[2,Xn]}})})},od=function(j,x,C){var B=x.ownerDocument,$=B.documentElement?nl(j,getComputedStyle(B.documentElement).backgroundColor):ra.TRANSPARENT,Z=B.body?nl(j,getComputedStyle(B.body).backgroundColor):ra.TRANSPARENT,ue=typeof C=="string"?nl(j,C):C===null?ra.TRANSPARENT:4294967295;return x===B.documentElement?Wa($)?Wa(Z)?ue:Z:$:ue};return il}))})(vv)),vv.exports}/*!
 * html2pdf.js v0.12.1
 * Copyright (c) 2025 Erik Koopmans
 * Released under the MIT License.
 */var AS;function aV(){return AS||(AS=1,(function(n,e){(function(s,a){n.exports=a(nV,rV())})(self,function(t,s){return(function(){var a={"./node_modules/core-js/internals/a-callable.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/is-callable.js"),v=A("./node_modules/core-js/internals/try-to-string.js"),g=TypeError;u.exports=function(b){if(m(b))return b;throw new g(v(b)+" is not a function")}}),"./node_modules/core-js/internals/a-constructor.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/is-constructor.js"),v=A("./node_modules/core-js/internals/try-to-string.js"),g=TypeError;u.exports=function(b){if(m(b))return b;throw new g(v(b)+" is not a constructor")}}),"./node_modules/core-js/internals/a-possible-prototype.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/is-possible-prototype.js"),v=String,g=TypeError;u.exports=function(b){if(m(b))return b;throw new g("Can't set "+v(b)+" as a prototype")}}),"./node_modules/core-js/internals/a-set.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/set-helpers.js").has;u.exports=function(v){return m(v),v}}),"./node_modules/core-js/internals/add-to-unscopables.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/well-known-symbol.js"),v=A("./node_modules/core-js/internals/object-create.js"),g=A("./node_modules/core-js/internals/object-define-property.js").f,b=m("unscopables"),S=Array.prototype;S[b]===void 0&&g(S,b,{configurable:!0,value:v(null)}),u.exports=function(N){S[b][N]=!0}}),"./node_modules/core-js/internals/an-instance.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/object-is-prototype-of.js"),v=TypeError;u.exports=function(g,b){if(m(b,g))return g;throw new v("Incorrect invocation")}}),"./node_modules/core-js/internals/an-object.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/is-object.js"),v=String,g=TypeError;u.exports=function(b){if(m(b))return b;throw new g(v(b)+" is not an object")}}),"./node_modules/core-js/internals/array-buffer-non-extensible.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js");u.exports=m(function(){if(typeof ArrayBuffer=="function"){var v=new ArrayBuffer(8);Object.isExtensible(v)&&Object.defineProperty(v,"a",{value:8})}})}),"./node_modules/core-js/internals/array-for-each.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/array-iteration.js").forEach,v=A("./node_modules/core-js/internals/array-method-is-strict.js"),g=v("forEach");u.exports=g?[].forEach:function(S){return m(this,S,arguments.length>1?arguments[1]:void 0)}}),"./node_modules/core-js/internals/array-from.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-bind-context.js"),v=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/to-object.js"),b=A("./node_modules/core-js/internals/call-with-safe-iteration-closing.js"),S=A("./node_modules/core-js/internals/is-array-iterator-method.js"),N=A("./node_modules/core-js/internals/is-constructor.js"),E=A("./node_modules/core-js/internals/length-of-array-like.js"),I=A("./node_modules/core-js/internals/create-property.js"),F=A("./node_modules/core-js/internals/get-iterator.js"),D=A("./node_modules/core-js/internals/get-iterator-method.js"),P=Array;u.exports=function(L){var Q=g(L),R=N(this),M=arguments.length,O=M>1?arguments[1]:void 0,H=O!==void 0;H&&(O=m(O,M>2?arguments[2]:void 0));var G=D(Q),ie=0,ge,J,re,se,he,je;if(G&&!(this===P&&S(G)))for(J=R?new this:[],se=F(Q,G),he=se.next;!(re=v(he,se)).done;ie++)je=H?b(se,O,[re.value,ie],!0):re.value,I(J,ie,je);else for(ge=E(Q),J=R?new this(ge):P(ge);ge>ie;ie++)je=H?O(Q[ie],ie):Q[ie],I(J,ie,je);return J.length=ie,J}}),"./node_modules/core-js/internals/array-includes.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/to-indexed-object.js"),v=A("./node_modules/core-js/internals/to-absolute-index.js"),g=A("./node_modules/core-js/internals/length-of-array-like.js"),b=function(S){return function(N,E,I){var F=m(N),D=g(F);if(D===0)return!S&&-1;var P=v(I,D),K;if(S&&E!==E){for(;D>P;)if(K=F[P++],K!==K)return!0}else for(;D>P;P++)if((S||P in F)&&F[P]===E)return S||P||0;return!S&&-1}};u.exports={includes:b(!0),indexOf:b(!1)}}),"./node_modules/core-js/internals/array-iteration.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-bind-context.js"),v=A("./node_modules/core-js/internals/function-uncurry-this.js"),g=A("./node_modules/core-js/internals/indexed-object.js"),b=A("./node_modules/core-js/internals/to-object.js"),S=A("./node_modules/core-js/internals/length-of-array-like.js"),N=A("./node_modules/core-js/internals/array-species-create.js"),E=v([].push),I=function(F){var D=F===1,P=F===2,K=F===3,L=F===4,Q=F===6,R=F===7,M=F===5||Q;return function(O,H,G,ie){for(var ge=b(O),J=g(ge),re=S(J),se=m(H,G),he=0,je=ie||N,ne=D?je(O,re):P||R?je(O,0):void 0,V,W;re>he;he++)if((M||he in J)&&(V=J[he],W=se(V,he,ge),F))if(D)ne[he]=W;else if(W)switch(F){case 3:return!0;case 5:return V;case 6:return he;case 2:E(ne,V)}else switch(F){case 4:return!1;case 7:E(ne,V)}return Q?-1:K||L?L:ne}};u.exports={forEach:I(0),map:I(1),filter:I(2),some:I(3),every:I(4),find:I(5),findIndex:I(6),filterReject:I(7)}}),"./node_modules/core-js/internals/array-method-has-species-support.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js"),v=A("./node_modules/core-js/internals/well-known-symbol.js"),g=A("./node_modules/core-js/internals/environment-v8-version.js"),b=v("species");u.exports=function(S){return g>=51||!m(function(){var N=[],E=N.constructor={};return E[b]=function(){return{foo:1}},N[S](Boolean).foo!==1})}}),"./node_modules/core-js/internals/array-method-is-strict.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js");u.exports=function(v,g){var b=[][v];return!!b&&m(function(){b.call(null,g||function(){return 1},1)})}}),"./node_modules/core-js/internals/array-slice.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js");u.exports=m([].slice)}),"./node_modules/core-js/internals/array-species-constructor.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/is-array.js"),v=A("./node_modules/core-js/internals/is-constructor.js"),g=A("./node_modules/core-js/internals/is-object.js"),b=A("./node_modules/core-js/internals/well-known-symbol.js"),S=b("species"),N=Array;u.exports=function(E){var I;return m(E)&&(I=E.constructor,v(I)&&(I===N||m(I.prototype))?I=void 0:g(I)&&(I=I[S],I===null&&(I=void 0))),I===void 0?N:I}}),"./node_modules/core-js/internals/array-species-create.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/array-species-constructor.js");u.exports=function(v,g){return new(m(v))(g===0?0:g)}}),"./node_modules/core-js/internals/call-with-safe-iteration-closing.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/an-object.js"),v=A("./node_modules/core-js/internals/iterator-close.js");u.exports=function(g,b,S,N){try{return N?b(m(S)[0],S[1]):b(S)}catch(E){v(g,"throw",E)}}}),"./node_modules/core-js/internals/check-correctness-of-iteration.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/well-known-symbol.js"),v=m("iterator"),g=!1;try{var b=0,S={next:function(){return{done:!!b++}},return:function(){g=!0}};S[v]=function(){return this},Array.from(S,function(){throw 2})}catch{}u.exports=function(N,E){try{if(!E&&!g)return!1}catch{return!1}var I=!1;try{var F={};F[v]=function(){return{next:function(){return{done:I=!0}}}},N(F)}catch{}return I}}),"./node_modules/core-js/internals/classof-raw.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js"),v=m({}.toString),g=m("".slice);u.exports=function(b){return g(v(b),8,-1)}}),"./node_modules/core-js/internals/classof.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/to-string-tag-support.js"),v=A("./node_modules/core-js/internals/is-callable.js"),g=A("./node_modules/core-js/internals/classof-raw.js"),b=A("./node_modules/core-js/internals/well-known-symbol.js"),S=b("toStringTag"),N=Object,E=g((function(){return arguments})())==="Arguments",I=function(F,D){try{return F[D]}catch{}};u.exports=m?g:function(F){var D,P,K;return F===void 0?"Undefined":F===null?"Null":typeof(P=I(D=N(F),S))=="string"?P:E?g(D):(K=g(D))==="Object"&&v(D.callee)?"Arguments":K}}),"./node_modules/core-js/internals/collection-strong.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/object-create.js"),v=A("./node_modules/core-js/internals/define-built-in-accessor.js"),g=A("./node_modules/core-js/internals/define-built-ins.js"),b=A("./node_modules/core-js/internals/function-bind-context.js"),S=A("./node_modules/core-js/internals/an-instance.js"),N=A("./node_modules/core-js/internals/is-null-or-undefined.js"),E=A("./node_modules/core-js/internals/iterate.js"),I=A("./node_modules/core-js/internals/iterator-define.js"),F=A("./node_modules/core-js/internals/create-iter-result-object.js"),D=A("./node_modules/core-js/internals/set-species.js"),P=A("./node_modules/core-js/internals/descriptors.js"),K=A("./node_modules/core-js/internals/internal-metadata.js").fastKey,L=A("./node_modules/core-js/internals/internal-state.js"),Q=L.set,R=L.getterFor;u.exports={getConstructor:function(M,O,H,G){var ie=M(function(he,je){S(he,ge),Q(he,{type:O,index:m(null),first:null,last:null,size:0}),P||(he.size=0),N(je)||E(je,he[G],{that:he,AS_ENTRIES:H})}),ge=ie.prototype,J=R(O),re=function(he,je,ne){var V=J(he),W=se(he,je),ae,ce;return W?W.value=ne:(V.last=W={index:ce=K(je,!0),key:je,value:ne,previous:ae=V.last,next:null,removed:!1},V.first||(V.first=W),ae&&(ae.next=W),P?V.size++:he.size++,ce!=="F"&&(V.index[ce]=W)),he},se=function(he,je){var ne=J(he),V=K(je),W;if(V!=="F")return ne.index[V];for(W=ne.first;W;W=W.next)if(W.key===je)return W};return g(ge,{clear:function(){for(var je=this,ne=J(je),V=ne.first;V;)V.removed=!0,V.previous&&(V.previous=V.previous.next=null),V=V.next;ne.first=ne.last=null,ne.index=m(null),P?ne.size=0:je.size=0},delete:function(he){var je=this,ne=J(je),V=se(je,he);if(V){var W=V.next,ae=V.previous;delete ne.index[V.index],V.removed=!0,ae&&(ae.next=W),W&&(W.previous=ae),ne.first===V&&(ne.first=W),ne.last===V&&(ne.last=ae),P?ne.size--:je.size--}return!!V},forEach:function(je){for(var ne=J(this),V=b(je,arguments.length>1?arguments[1]:void 0),W;W=W?W.next:ne.first;)for(V(W.value,W.key,this);W&&W.removed;)W=W.previous},has:function(je){return!!se(this,je)}}),g(ge,H?{get:function(je){var ne=se(this,je);return ne&&ne.value},set:function(je,ne){return re(this,je===0?0:je,ne)}}:{add:function(je){return re(this,je=je===0?0:je,je)}}),P&&v(ge,"size",{configurable:!0,get:function(){return J(this).size}}),ie},setStrong:function(M,O,H){var G=O+" Iterator",ie=R(O),ge=R(G);I(M,O,function(J,re){Q(this,{type:G,target:J,state:ie(J),kind:re,last:null})},function(){for(var J=ge(this),re=J.kind,se=J.last;se&&se.removed;)se=se.previous;return!J.target||!(J.last=se=se?se.next:J.state.first)?(J.target=null,F(void 0,!0)):F(re==="keys"?se.key:re==="values"?se.value:[se.key,se.value],!1)},H?"entries":"values",!H,!0),D(O)}}}),"./node_modules/core-js/internals/collection.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/global-this.js"),g=A("./node_modules/core-js/internals/function-uncurry-this.js"),b=A("./node_modules/core-js/internals/is-forced.js"),S=A("./node_modules/core-js/internals/define-built-in.js"),N=A("./node_modules/core-js/internals/internal-metadata.js"),E=A("./node_modules/core-js/internals/iterate.js"),I=A("./node_modules/core-js/internals/an-instance.js"),F=A("./node_modules/core-js/internals/is-callable.js"),D=A("./node_modules/core-js/internals/is-null-or-undefined.js"),P=A("./node_modules/core-js/internals/is-object.js"),K=A("./node_modules/core-js/internals/fails.js"),L=A("./node_modules/core-js/internals/check-correctness-of-iteration.js"),Q=A("./node_modules/core-js/internals/set-to-string-tag.js"),R=A("./node_modules/core-js/internals/inherit-if-required.js");u.exports=function(M,O,H){var G=M.indexOf("Map")!==-1,ie=M.indexOf("Weak")!==-1,ge=G?"set":"add",J=v[M],re=J&&J.prototype,se=J,he={},je=function(pe){var Se=g(re[pe]);S(re,pe,pe==="add"?function(Ie){return Se(this,Ie===0?0:Ie),this}:pe==="delete"?function(xe){return ie&&!P(xe)?!1:Se(this,xe===0?0:xe)}:pe==="get"?function(Ie){return ie&&!P(Ie)?void 0:Se(this,Ie===0?0:Ie)}:pe==="has"?function(Ie){return ie&&!P(Ie)?!1:Se(this,Ie===0?0:Ie)}:function(Ie,_e){return Se(this,Ie===0?0:Ie,_e),this})},ne=b(M,!F(J)||!(ie||re.forEach&&!K(function(){new J().entries().next()})));if(ne)se=H.getConstructor(O,M,G,ge),N.enable();else if(b(M,!0)){var V=new se,W=V[ge](ie?{}:-0,1)!==V,ae=K(function(){V.has(1)}),ce=L(function(pe){new J(pe)}),Ae=!ie&&K(function(){for(var pe=new J,Se=5;Se--;)pe[ge](Se,Se);return!pe.has(-0)});ce||(se=O(function(pe,Se){I(pe,re);var xe=R(new J,pe,se);return D(Se)||E(Se,xe[ge],{that:xe,AS_ENTRIES:G}),xe}),se.prototype=re,re.constructor=se),(ae||Ae)&&(je("delete"),je("has"),G&&je("get")),(Ae||W)&&je(ge),ie&&re.clear&&delete re.clear}return he[M]=se,m({global:!0,constructor:!0,forced:se!==J},he),Q(se,M),ie||H.setStrong(se,M,G),se}}),"./node_modules/core-js/internals/copy-constructor-properties.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/has-own-property.js"),v=A("./node_modules/core-js/internals/own-keys.js"),g=A("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),b=A("./node_modules/core-js/internals/object-define-property.js");u.exports=function(S,N,E){for(var I=v(N),F=b.f,D=g.f,P=0;P<I.length;P++){var K=I[P];!m(S,K)&&!(E&&m(E,K))&&F(S,K,D(N,K))}}}),"./node_modules/core-js/internals/correct-prototype-getter.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js");u.exports=!m(function(){function v(){}return v.prototype.constructor=null,Object.getPrototypeOf(new v)!==v.prototype})}),"./node_modules/core-js/internals/create-html.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js"),v=A("./node_modules/core-js/internals/require-object-coercible.js"),g=A("./node_modules/core-js/internals/to-string.js"),b=/"/g,S=m("".replace);u.exports=function(N,E,I,F){var D=g(v(N)),P="<"+E;return I!==""&&(P+=" "+I+'="'+S(g(F),b,"&quot;")+'"'),P+">"+D+"</"+E+">"}}),"./node_modules/core-js/internals/create-iter-result-object.js":(function(u){u.exports=function(f,A){return{value:f,done:A}}}),"./node_modules/core-js/internals/create-non-enumerable-property.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/descriptors.js"),v=A("./node_modules/core-js/internals/object-define-property.js"),g=A("./node_modules/core-js/internals/create-property-descriptor.js");u.exports=m?function(b,S,N){return v.f(b,S,g(1,N))}:function(b,S,N){return b[S]=N,b}}),"./node_modules/core-js/internals/create-property-descriptor.js":(function(u){u.exports=function(f,A){return{enumerable:!(f&1),configurable:!(f&2),writable:!(f&4),value:A}}}),"./node_modules/core-js/internals/create-property.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/descriptors.js"),v=A("./node_modules/core-js/internals/object-define-property.js"),g=A("./node_modules/core-js/internals/create-property-descriptor.js");u.exports=function(b,S,N){m?v.f(b,S,g(0,N)):b[S]=N}}),"./node_modules/core-js/internals/define-built-in-accessor.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/make-built-in.js"),v=A("./node_modules/core-js/internals/object-define-property.js");u.exports=function(g,b,S){return S.get&&m(S.get,b,{getter:!0}),S.set&&m(S.set,b,{setter:!0}),v.f(g,b,S)}}),"./node_modules/core-js/internals/define-built-in.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/is-callable.js"),v=A("./node_modules/core-js/internals/object-define-property.js"),g=A("./node_modules/core-js/internals/make-built-in.js"),b=A("./node_modules/core-js/internals/define-global-property.js");u.exports=function(S,N,E,I){I||(I={});var F=I.enumerable,D=I.name!==void 0?I.name:N;if(m(E)&&g(E,D,I),I.global)F?S[N]=E:b(N,E);else{try{I.unsafe?S[N]&&(F=!0):delete S[N]}catch{}F?S[N]=E:v.f(S,N,{value:E,enumerable:!1,configurable:!I.nonConfigurable,writable:!I.nonWritable})}return S}}),"./node_modules/core-js/internals/define-built-ins.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/define-built-in.js");u.exports=function(v,g,b){for(var S in g)m(v,S,g[S],b);return v}}),"./node_modules/core-js/internals/define-global-property.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),v=Object.defineProperty;u.exports=function(g,b){try{v(m,g,{value:b,configurable:!0,writable:!0})}catch{m[g]=b}return b}}),"./node_modules/core-js/internals/descriptors.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js");u.exports=!m(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})}),"./node_modules/core-js/internals/document-create-element.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),v=A("./node_modules/core-js/internals/is-object.js"),g=m.document,b=v(g)&&v(g.createElement);u.exports=function(S){return b?g.createElement(S):{}}}),"./node_modules/core-js/internals/does-not-exceed-safe-integer.js":(function(u){var f=TypeError,A=9007199254740991;u.exports=function(m){if(m>A)throw f("Maximum allowed index exceeded");return m}}),"./node_modules/core-js/internals/dom-iterables.js":(function(u){u.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}),"./node_modules/core-js/internals/dom-token-list-prototype.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/document-create-element.js"),v=m("span").classList,g=v&&v.constructor&&v.constructor.prototype;u.exports=g===Object.prototype?void 0:g}),"./node_modules/core-js/internals/enum-bug-keys.js":(function(u){u.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]}),"./node_modules/core-js/internals/environment-is-ios-pebble.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/environment-user-agent.js");u.exports=/ipad|iphone|ipod/i.test(m)&&typeof Pebble<"u"}),"./node_modules/core-js/internals/environment-is-ios.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/environment-user-agent.js");u.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(m)}),"./node_modules/core-js/internals/environment-is-node.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/environment.js");u.exports=m==="NODE"}),"./node_modules/core-js/internals/environment-is-webos-webkit.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/environment-user-agent.js");u.exports=/web0s(?!.*chrome)/i.test(m)}),"./node_modules/core-js/internals/environment-user-agent.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),v=m.navigator,g=v&&v.userAgent;u.exports=g?String(g):""}),"./node_modules/core-js/internals/environment-v8-version.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),v=A("./node_modules/core-js/internals/environment-user-agent.js"),g=m.process,b=m.Deno,S=g&&g.versions||b&&b.version,N=S&&S.v8,E,I;N&&(E=N.split("."),I=E[0]>0&&E[0]<4?1:+(E[0]+E[1])),!I&&v&&(E=v.match(/Edge\/(\d+)/),(!E||E[1]>=74)&&(E=v.match(/Chrome\/(\d+)/),E&&(I=+E[1]))),u.exports=I}),"./node_modules/core-js/internals/environment.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),v=A("./node_modules/core-js/internals/environment-user-agent.js"),g=A("./node_modules/core-js/internals/classof-raw.js"),b=function(S){return v.slice(0,S.length)===S};u.exports=(function(){return b("Bun/")?"BUN":b("Cloudflare-Workers")?"CLOUDFLARE":b("Deno/")?"DENO":b("Node.js/")?"NODE":m.Bun&&typeof Bun.version=="string"?"BUN":m.Deno&&typeof Deno.version=="object"?"DENO":g(m.process)==="process"?"NODE":m.window&&m.document?"BROWSER":"REST"})()}),"./node_modules/core-js/internals/export.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),v=A("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,g=A("./node_modules/core-js/internals/create-non-enumerable-property.js"),b=A("./node_modules/core-js/internals/define-built-in.js"),S=A("./node_modules/core-js/internals/define-global-property.js"),N=A("./node_modules/core-js/internals/copy-constructor-properties.js"),E=A("./node_modules/core-js/internals/is-forced.js");u.exports=function(I,F){var D=I.target,P=I.global,K=I.stat,L,Q,R,M,O,H;if(P?Q=m:K?Q=m[D]||S(D,{}):Q=m[D]&&m[D].prototype,Q)for(R in F){if(O=F[R],I.dontCallGetSet?(H=v(Q,R),M=H&&H.value):M=Q[R],L=E(P?R:D+(K?".":"#")+R,I.forced),!L&&M!==void 0){if(typeof O==typeof M)continue;N(O,M)}(I.sham||M&&M.sham)&&g(O,"sham",!0),b(Q,R,O,I)}}}),"./node_modules/core-js/internals/fails.js":(function(u){u.exports=function(f){try{return!!f()}catch{return!0}}}),"./node_modules/core-js/internals/freezing.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js");u.exports=!m(function(){return Object.isExtensible(Object.preventExtensions({}))})}),"./node_modules/core-js/internals/function-apply.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-bind-native.js"),v=Function.prototype,g=v.apply,b=v.call;u.exports=typeof Reflect=="object"&&Reflect.apply||(m?b.bind(g):function(){return b.apply(g,arguments)})}),"./node_modules/core-js/internals/function-bind-context.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this-clause.js"),v=A("./node_modules/core-js/internals/a-callable.js"),g=A("./node_modules/core-js/internals/function-bind-native.js"),b=m(m.bind);u.exports=function(S,N){return v(S),N===void 0?S:g?b(S,N):function(){return S.apply(N,arguments)}}}),"./node_modules/core-js/internals/function-bind-native.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js");u.exports=!m(function(){var v=(function(){}).bind();return typeof v!="function"||v.hasOwnProperty("prototype")})}),"./node_modules/core-js/internals/function-call.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-bind-native.js"),v=Function.prototype.call;u.exports=m?v.bind(v):function(){return v.apply(v,arguments)}}),"./node_modules/core-js/internals/function-name.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/descriptors.js"),v=A("./node_modules/core-js/internals/has-own-property.js"),g=Function.prototype,b=m&&Object.getOwnPropertyDescriptor,S=v(g,"name"),N=S&&(function(){}).name==="something",E=S&&(!m||m&&b(g,"name").configurable);u.exports={EXISTS:S,PROPER:N,CONFIGURABLE:E}}),"./node_modules/core-js/internals/function-uncurry-this-accessor.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js"),v=A("./node_modules/core-js/internals/a-callable.js");u.exports=function(g,b,S){try{return m(v(Object.getOwnPropertyDescriptor(g,b)[S]))}catch{}}}),"./node_modules/core-js/internals/function-uncurry-this-clause.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/classof-raw.js"),v=A("./node_modules/core-js/internals/function-uncurry-this.js");u.exports=function(g){if(m(g)==="Function")return v(g)}}),"./node_modules/core-js/internals/function-uncurry-this.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-bind-native.js"),v=Function.prototype,g=v.call,b=m&&v.bind.bind(g,g);u.exports=m?b:function(S){return function(){return g.apply(S,arguments)}}}),"./node_modules/core-js/internals/get-built-in.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),v=A("./node_modules/core-js/internals/is-callable.js"),g=function(b){return v(b)?b:void 0};u.exports=function(b,S){return arguments.length<2?g(m[b]):m[b]&&m[b][S]}}),"./node_modules/core-js/internals/get-iterator-direct.js":(function(u){u.exports=function(f){return{iterator:f,next:f.next,done:!1}}}),"./node_modules/core-js/internals/get-iterator-method.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/classof.js"),v=A("./node_modules/core-js/internals/get-method.js"),g=A("./node_modules/core-js/internals/is-null-or-undefined.js"),b=A("./node_modules/core-js/internals/iterators.js"),S=A("./node_modules/core-js/internals/well-known-symbol.js"),N=S("iterator");u.exports=function(E){if(!g(E))return v(E,N)||v(E,"@@iterator")||b[m(E)]}}),"./node_modules/core-js/internals/get-iterator.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-call.js"),v=A("./node_modules/core-js/internals/a-callable.js"),g=A("./node_modules/core-js/internals/an-object.js"),b=A("./node_modules/core-js/internals/try-to-string.js"),S=A("./node_modules/core-js/internals/get-iterator-method.js"),N=TypeError;u.exports=function(E,I){var F=arguments.length<2?S(E):I;if(v(F))return g(m(F,E));throw new N(b(E)+" is not iterable")}}),"./node_modules/core-js/internals/get-json-replacer-function.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js"),v=A("./node_modules/core-js/internals/is-array.js"),g=A("./node_modules/core-js/internals/is-callable.js"),b=A("./node_modules/core-js/internals/classof-raw.js"),S=A("./node_modules/core-js/internals/to-string.js"),N=m([].push);u.exports=function(E){if(g(E))return E;if(v(E)){for(var I=E.length,F=[],D=0;D<I;D++){var P=E[D];typeof P=="string"?N(F,P):(typeof P=="number"||b(P)==="Number"||b(P)==="String")&&N(F,S(P))}var K=F.length,L=!0;return function(Q,R){if(L)return L=!1,R;if(v(this))return R;for(var M=0;M<K;M++)if(F[M]===Q)return R}}}}),"./node_modules/core-js/internals/get-method.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/a-callable.js"),v=A("./node_modules/core-js/internals/is-null-or-undefined.js");u.exports=function(g,b){var S=g[b];return v(S)?void 0:m(S)}}),"./node_modules/core-js/internals/get-set-record.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/a-callable.js"),v=A("./node_modules/core-js/internals/an-object.js"),g=A("./node_modules/core-js/internals/function-call.js"),b=A("./node_modules/core-js/internals/to-integer-or-infinity.js"),S=A("./node_modules/core-js/internals/get-iterator-direct.js"),N="Invalid size",E=RangeError,I=TypeError,F=Math.max,D=function(P,K){this.set=P,this.size=F(K,0),this.has=m(P.has),this.keys=m(P.keys)};D.prototype={getIterator:function(){return S(v(g(this.keys,this.set)))},includes:function(P){return g(this.has,this.set,P)}},u.exports=function(P){v(P);var K=+P.size;if(K!==K)throw new I(N);var L=b(K);if(L<0)throw new E(N);return new D(P,L)}}),"./node_modules/core-js/internals/global-this.js":(function(u){var f=function(A){return A&&A.Math===Math&&A};u.exports=f(typeof globalThis=="object"&&globalThis)||f(typeof window=="object"&&window)||f(typeof self=="object"&&self)||f(typeof Pj=="object"&&Pj)||f(typeof this=="object"&&this)||(function(){return this})()||Function("return this")()}),"./node_modules/core-js/internals/has-own-property.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js"),v=A("./node_modules/core-js/internals/to-object.js"),g=m({}.hasOwnProperty);u.exports=Object.hasOwn||function(S,N){return g(v(S),N)}}),"./node_modules/core-js/internals/hidden-keys.js":(function(u){u.exports={}}),"./node_modules/core-js/internals/host-report-errors.js":(function(u){u.exports=function(f,A){try{arguments.length===1?console.error(f):console.error(f,A)}catch{}}}),"./node_modules/core-js/internals/html.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/get-built-in.js");u.exports=m("document","documentElement")}),"./node_modules/core-js/internals/ie8-dom-define.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/descriptors.js"),v=A("./node_modules/core-js/internals/fails.js"),g=A("./node_modules/core-js/internals/document-create-element.js");u.exports=!m&&!v(function(){return Object.defineProperty(g("div"),"a",{get:function(){return 7}}).a!==7})}),"./node_modules/core-js/internals/indexed-object.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js"),v=A("./node_modules/core-js/internals/fails.js"),g=A("./node_modules/core-js/internals/classof-raw.js"),b=Object,S=m("".split);u.exports=v(function(){return!b("z").propertyIsEnumerable(0)})?function(N){return g(N)==="String"?S(N,""):b(N)}:b}),"./node_modules/core-js/internals/inherit-if-required.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/is-callable.js"),v=A("./node_modules/core-js/internals/is-object.js"),g=A("./node_modules/core-js/internals/object-set-prototype-of.js");u.exports=function(b,S,N){var E,I;return g&&m(E=S.constructor)&&E!==N&&v(I=E.prototype)&&I!==N.prototype&&g(b,I),b}}),"./node_modules/core-js/internals/inspect-source.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js"),v=A("./node_modules/core-js/internals/is-callable.js"),g=A("./node_modules/core-js/internals/shared-store.js"),b=m(Function.toString);v(g.inspectSource)||(g.inspectSource=function(S){return b(S)}),u.exports=g.inspectSource}),"./node_modules/core-js/internals/internal-metadata.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/function-uncurry-this.js"),g=A("./node_modules/core-js/internals/hidden-keys.js"),b=A("./node_modules/core-js/internals/is-object.js"),S=A("./node_modules/core-js/internals/has-own-property.js"),N=A("./node_modules/core-js/internals/object-define-property.js").f,E=A("./node_modules/core-js/internals/object-get-own-property-names.js"),I=A("./node_modules/core-js/internals/object-get-own-property-names-external.js"),F=A("./node_modules/core-js/internals/object-is-extensible.js"),D=A("./node_modules/core-js/internals/uid.js"),P=A("./node_modules/core-js/internals/freezing.js"),K=!1,L=D("meta"),Q=0,R=function(ge){N(ge,L,{value:{objectID:"O"+Q++,weakData:{}}})},M=function(ge,J){if(!b(ge))return typeof ge=="symbol"?ge:(typeof ge=="string"?"S":"P")+ge;if(!S(ge,L)){if(!F(ge))return"F";if(!J)return"E";R(ge)}return ge[L].objectID},O=function(ge,J){if(!S(ge,L)){if(!F(ge))return!0;if(!J)return!1;R(ge)}return ge[L].weakData},H=function(ge){return P&&K&&F(ge)&&!S(ge,L)&&R(ge),ge},G=function(){ie.enable=function(){},K=!0;var ge=E.f,J=v([].splice),re={};re[L]=1,ge(re).length&&(E.f=function(se){for(var he=ge(se),je=0,ne=he.length;je<ne;je++)if(he[je]===L){J(he,je,1);break}return he},m({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:I.f}))},ie=u.exports={enable:G,fastKey:M,getWeakData:O,onFreeze:H};g[L]=!0}),"./node_modules/core-js/internals/internal-state.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/weak-map-basic-detection.js"),v=A("./node_modules/core-js/internals/global-this.js"),g=A("./node_modules/core-js/internals/is-object.js"),b=A("./node_modules/core-js/internals/create-non-enumerable-property.js"),S=A("./node_modules/core-js/internals/has-own-property.js"),N=A("./node_modules/core-js/internals/shared-store.js"),E=A("./node_modules/core-js/internals/shared-key.js"),I=A("./node_modules/core-js/internals/hidden-keys.js"),F="Object already initialized",D=v.TypeError,P=v.WeakMap,K,L,Q,R=function(G){return Q(G)?L(G):K(G,{})},M=function(G){return function(ie){var ge;if(!g(ie)||(ge=L(ie)).type!==G)throw new D("Incompatible receiver, "+G+" required");return ge}};if(m||N.state){var O=N.state||(N.state=new P);O.get=O.get,O.has=O.has,O.set=O.set,K=function(G,ie){if(O.has(G))throw new D(F);return ie.facade=G,O.set(G,ie),ie},L=function(G){return O.get(G)||{}},Q=function(G){return O.has(G)}}else{var H=E("state");I[H]=!0,K=function(G,ie){if(S(G,H))throw new D(F);return ie.facade=G,b(G,H,ie),ie},L=function(G){return S(G,H)?G[H]:{}},Q=function(G){return S(G,H)}}u.exports={set:K,get:L,has:Q,enforce:R,getterFor:M}}),"./node_modules/core-js/internals/is-array-iterator-method.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/well-known-symbol.js"),v=A("./node_modules/core-js/internals/iterators.js"),g=m("iterator"),b=Array.prototype;u.exports=function(S){return S!==void 0&&(v.Array===S||b[g]===S)}}),"./node_modules/core-js/internals/is-array.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/classof-raw.js");u.exports=Array.isArray||function(g){return m(g)==="Array"}}),"./node_modules/core-js/internals/is-callable.js":(function(u){var f=typeof document=="object"&&document.all;u.exports=typeof f>"u"&&f!==void 0?function(A){return typeof A=="function"||A===f}:function(A){return typeof A=="function"}}),"./node_modules/core-js/internals/is-constructor.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js"),v=A("./node_modules/core-js/internals/fails.js"),g=A("./node_modules/core-js/internals/is-callable.js"),b=A("./node_modules/core-js/internals/classof.js"),S=A("./node_modules/core-js/internals/get-built-in.js"),N=A("./node_modules/core-js/internals/inspect-source.js"),E=function(){},I=S("Reflect","construct"),F=/^\s*(?:class|function)\b/,D=m(F.exec),P=!F.test(E),K=function(R){if(!g(R))return!1;try{return I(E,[],R),!0}catch{return!1}},L=function(R){if(!g(R))return!1;switch(b(R)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return P||!!D(F,N(R))}catch{return!0}};L.sham=!0,u.exports=!I||v(function(){var Q;return K(K.call)||!K(Object)||!K(function(){Q=!0})||Q})?L:K}),"./node_modules/core-js/internals/is-forced.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js"),v=A("./node_modules/core-js/internals/is-callable.js"),g=/#|\.prototype\./,b=function(F,D){var P=N[S(F)];return P===I?!0:P===E?!1:v(D)?m(D):!!D},S=b.normalize=function(F){return String(F).replace(g,".").toLowerCase()},N=b.data={},E=b.NATIVE="N",I=b.POLYFILL="P";u.exports=b}),"./node_modules/core-js/internals/is-iterable.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/classof.js"),v=A("./node_modules/core-js/internals/has-own-property.js"),g=A("./node_modules/core-js/internals/is-null-or-undefined.js"),b=A("./node_modules/core-js/internals/well-known-symbol.js"),S=A("./node_modules/core-js/internals/iterators.js"),N=b("iterator"),E=Object;u.exports=function(I){if(g(I))return!1;var F=E(I);return F[N]!==void 0||"@@iterator"in F||v(S,m(F))}}),"./node_modules/core-js/internals/is-null-or-undefined.js":(function(u){u.exports=function(f){return f==null}}),"./node_modules/core-js/internals/is-object.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/is-callable.js");u.exports=function(v){return typeof v=="object"?v!==null:m(v)}}),"./node_modules/core-js/internals/is-possible-prototype.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/is-object.js");u.exports=function(v){return m(v)||v===null}}),"./node_modules/core-js/internals/is-pure.js":(function(u){u.exports=!1}),"./node_modules/core-js/internals/is-symbol.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/get-built-in.js"),v=A("./node_modules/core-js/internals/is-callable.js"),g=A("./node_modules/core-js/internals/object-is-prototype-of.js"),b=A("./node_modules/core-js/internals/use-symbol-as-uid.js"),S=Object;u.exports=b?function(N){return typeof N=="symbol"}:function(N){var E=m("Symbol");return v(E)&&g(E.prototype,S(N))}}),"./node_modules/core-js/internals/iterate-simple.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-call.js");u.exports=function(v,g,b){for(var S=b?v:v.iterator,N=v.next,E,I;!(E=m(N,S)).done;)if(I=g(E.value),I!==void 0)return I}}),"./node_modules/core-js/internals/iterate.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-bind-context.js"),v=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/an-object.js"),b=A("./node_modules/core-js/internals/try-to-string.js"),S=A("./node_modules/core-js/internals/is-array-iterator-method.js"),N=A("./node_modules/core-js/internals/length-of-array-like.js"),E=A("./node_modules/core-js/internals/object-is-prototype-of.js"),I=A("./node_modules/core-js/internals/get-iterator.js"),F=A("./node_modules/core-js/internals/get-iterator-method.js"),D=A("./node_modules/core-js/internals/iterator-close.js"),P=TypeError,K=function(Q,R){this.stopped=Q,this.result=R},L=K.prototype;u.exports=function(Q,R,M){var O=M&&M.that,H=!!(M&&M.AS_ENTRIES),G=!!(M&&M.IS_RECORD),ie=!!(M&&M.IS_ITERATOR),ge=!!(M&&M.INTERRUPTED),J=m(R,O),re,se,he,je,ne,V,W,ae=function(Ae){return re&&D(re,"normal"),new K(!0,Ae)},ce=function(Ae){return H?(g(Ae),ge?J(Ae[0],Ae[1],ae):J(Ae[0],Ae[1])):ge?J(Ae,ae):J(Ae)};if(G)re=Q.iterator;else if(ie)re=Q;else{if(se=F(Q),!se)throw new P(b(Q)+" is not iterable");if(S(se)){for(he=0,je=N(Q);je>he;he++)if(ne=ce(Q[he]),ne&&E(L,ne))return ne;return new K(!1)}re=I(Q,se)}for(V=G?Q.next:re.next;!(W=v(V,re)).done;){try{ne=ce(W.value)}catch(Ae){D(re,"throw",Ae)}if(typeof ne=="object"&&ne&&E(L,ne))return ne}return new K(!1)}}),"./node_modules/core-js/internals/iterator-close-all.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/iterator-close.js");u.exports=function(v,g,b){for(var S=v.length-1;S>=0;S--)if(v[S]!==void 0)try{b=m(v[S].iterator,g,b)}catch(N){g="throw",b=N}if(g==="throw")throw b;return b}}),"./node_modules/core-js/internals/iterator-close.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-call.js"),v=A("./node_modules/core-js/internals/an-object.js"),g=A("./node_modules/core-js/internals/get-method.js");u.exports=function(b,S,N){var E,I;v(b);try{if(E=g(b,"return"),!E){if(S==="throw")throw N;return N}E=m(E,b)}catch(F){I=!0,E=F}if(S==="throw")throw N;if(I)throw E;return v(E),N}}),"./node_modules/core-js/internals/iterator-create-constructor.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,v=A("./node_modules/core-js/internals/object-create.js"),g=A("./node_modules/core-js/internals/create-property-descriptor.js"),b=A("./node_modules/core-js/internals/set-to-string-tag.js"),S=A("./node_modules/core-js/internals/iterators.js"),N=function(){return this};u.exports=function(E,I,F,D){var P=I+" Iterator";return E.prototype=v(m,{next:g(+!D,F)}),b(E,P,!1,!0),S[P]=N,E}}),"./node_modules/core-js/internals/iterator-create-proxy.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-call.js"),v=A("./node_modules/core-js/internals/object-create.js"),g=A("./node_modules/core-js/internals/create-non-enumerable-property.js"),b=A("./node_modules/core-js/internals/define-built-ins.js"),S=A("./node_modules/core-js/internals/well-known-symbol.js"),N=A("./node_modules/core-js/internals/internal-state.js"),E=A("./node_modules/core-js/internals/get-method.js"),I=A("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,F=A("./node_modules/core-js/internals/create-iter-result-object.js"),D=A("./node_modules/core-js/internals/iterator-close.js"),P=A("./node_modules/core-js/internals/iterator-close-all.js"),K=S("toStringTag"),L="IteratorHelper",Q="WrapForValidIterator",R="normal",M="throw",O=N.set,H=function(ge){var J=N.getterFor(ge?Q:L);return b(v(I),{next:function(){var se=J(this);if(ge)return se.nextHandler();if(se.done)return F(void 0,!0);try{var he=se.nextHandler();return se.returnHandlerResult?he:F(he,se.done)}catch(je){throw se.done=!0,je}},return:function(){var re=J(this),se=re.iterator;if(re.done=!0,ge){var he=E(se,"return");return he?m(he,se):F(void 0,!0)}if(re.inner)try{D(re.inner.iterator,R)}catch(je){return D(se,M,je)}if(re.openIters)try{P(re.openIters,R)}catch(je){return D(se,M,je)}return se&&D(se,R),F(void 0,!0)}})},G=H(!0),ie=H(!1);g(ie,K,"Iterator Helper"),u.exports=function(ge,J,re){var se=function(je,ne){ne?(ne.iterator=je.iterator,ne.next=je.next):ne=je,ne.type=J?Q:L,ne.returnHandlerResult=!!re,ne.nextHandler=ge,ne.counter=0,ne.done=!1,O(this,ne)};return se.prototype=J?G:ie,se}}),"./node_modules/core-js/internals/iterator-define.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/is-pure.js"),b=A("./node_modules/core-js/internals/function-name.js"),S=A("./node_modules/core-js/internals/is-callable.js"),N=A("./node_modules/core-js/internals/iterator-create-constructor.js"),E=A("./node_modules/core-js/internals/object-get-prototype-of.js"),I=A("./node_modules/core-js/internals/object-set-prototype-of.js"),F=A("./node_modules/core-js/internals/set-to-string-tag.js"),D=A("./node_modules/core-js/internals/create-non-enumerable-property.js"),P=A("./node_modules/core-js/internals/define-built-in.js"),K=A("./node_modules/core-js/internals/well-known-symbol.js"),L=A("./node_modules/core-js/internals/iterators.js"),Q=A("./node_modules/core-js/internals/iterators-core.js"),R=b.PROPER,M=b.CONFIGURABLE,O=Q.IteratorPrototype,H=Q.BUGGY_SAFARI_ITERATORS,G=K("iterator"),ie="keys",ge="values",J="entries",re=function(){return this};u.exports=function(se,he,je,ne,V,W,ae){N(je,he,ne);var ce=function(de){if(de===V&&Ie)return Ie;if(!H&&de&&de in Se)return Se[de];switch(de){case ie:return function(){return new je(this,de)};case ge:return function(){return new je(this,de)};case J:return function(){return new je(this,de)}}return function(){return new je(this)}},Ae=he+" Iterator",pe=!1,Se=se.prototype,xe=Se[G]||Se["@@iterator"]||V&&Se[V],Ie=!H&&xe||ce(V),_e=he==="Array"&&Se.entries||xe,De,st,He;if(_e&&(De=E(_e.call(new se)),De!==Object.prototype&&De.next&&(!g&&E(De)!==O&&(I?I(De,O):S(De[G])||P(De,G,re)),F(De,Ae,!0,!0),g&&(L[Ae]=re))),R&&V===ge&&xe&&xe.name!==ge&&(!g&&M?D(Se,"name",ge):(pe=!0,Ie=function(){return v(xe,this)})),V)if(st={values:ce(ge),keys:W?Ie:ce(ie),entries:ce(J)},ae)for(He in st)(H||pe||!(He in Se))&&P(Se,He,st[He]);else m({target:he,proto:!0,forced:H||pe},st);return(!g||ae)&&Se[G]!==Ie&&P(Se,G,Ie,{name:V}),L[he]=Ie,st}}),"./node_modules/core-js/internals/iterator-helper-throws-on-invalid-iterator.js":(function(u){u.exports=function(f,A){var m=typeof Iterator=="function"&&Iterator.prototype[f];if(m)try{m.call({next:null},A).next()}catch{return!0}}}),"./node_modules/core-js/internals/iterator-helper-without-closing-on-early-error.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js");u.exports=function(v,g){var b=m.Iterator,S=b&&b.prototype,N=S&&S[v],E=!1;if(N)try{N.call({next:function(){return{done:!0}},return:function(){E=!0}},-1)}catch(I){I instanceof g||(E=!1)}if(!E)return N}}),"./node_modules/core-js/internals/iterators-core.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js"),v=A("./node_modules/core-js/internals/is-callable.js"),g=A("./node_modules/core-js/internals/is-object.js"),b=A("./node_modules/core-js/internals/object-create.js"),S=A("./node_modules/core-js/internals/object-get-prototype-of.js"),N=A("./node_modules/core-js/internals/define-built-in.js"),E=A("./node_modules/core-js/internals/well-known-symbol.js"),I=A("./node_modules/core-js/internals/is-pure.js"),F=E("iterator"),D=!1,P,K,L;[].keys&&(L=[].keys(),"next"in L?(K=S(S(L)),K!==Object.prototype&&(P=K)):D=!0);var Q=!g(P)||m(function(){var R={};return P[F].call(R)!==R});Q?P={}:I&&(P=b(P)),v(P[F])||N(P,F,function(){return this}),u.exports={IteratorPrototype:P,BUGGY_SAFARI_ITERATORS:D}}),"./node_modules/core-js/internals/iterators.js":(function(u){u.exports={}}),"./node_modules/core-js/internals/length-of-array-like.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/to-length.js");u.exports=function(v){return m(v.length)}}),"./node_modules/core-js/internals/make-built-in.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js"),v=A("./node_modules/core-js/internals/fails.js"),g=A("./node_modules/core-js/internals/is-callable.js"),b=A("./node_modules/core-js/internals/has-own-property.js"),S=A("./node_modules/core-js/internals/descriptors.js"),N=A("./node_modules/core-js/internals/function-name.js").CONFIGURABLE,E=A("./node_modules/core-js/internals/inspect-source.js"),I=A("./node_modules/core-js/internals/internal-state.js"),F=I.enforce,D=I.get,P=String,K=Object.defineProperty,L=m("".slice),Q=m("".replace),R=m([].join),M=S&&!v(function(){return K(function(){},"length",{value:8}).length!==8}),O=String(String).split("String"),H=u.exports=function(G,ie,ge){L(P(ie),0,7)==="Symbol("&&(ie="["+Q(P(ie),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),ge&&ge.getter&&(ie="get "+ie),ge&&ge.setter&&(ie="set "+ie),(!b(G,"name")||N&&G.name!==ie)&&(S?K(G,"name",{value:ie,configurable:!0}):G.name=ie),M&&ge&&b(ge,"arity")&&G.length!==ge.arity&&K(G,"length",{value:ge.arity});try{ge&&b(ge,"constructor")&&ge.constructor?S&&K(G,"prototype",{writable:!1}):G.prototype&&(G.prototype=void 0)}catch{}var J=F(G);return b(J,"source")||(J.source=R(O,typeof ie=="string"?ie:"")),G};Function.prototype.toString=H(function(){return g(this)&&D(this).source||E(this)},"toString")}),"./node_modules/core-js/internals/math-trunc.js":(function(u){var f=Math.ceil,A=Math.floor;u.exports=Math.trunc||function(v){var g=+v;return(g>0?A:f)(g)}}),"./node_modules/core-js/internals/microtask.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),v=A("./node_modules/core-js/internals/safe-get-built-in.js"),g=A("./node_modules/core-js/internals/function-bind-context.js"),b=A("./node_modules/core-js/internals/task.js").set,S=A("./node_modules/core-js/internals/queue.js"),N=A("./node_modules/core-js/internals/environment-is-ios.js"),E=A("./node_modules/core-js/internals/environment-is-ios-pebble.js"),I=A("./node_modules/core-js/internals/environment-is-webos-webkit.js"),F=A("./node_modules/core-js/internals/environment-is-node.js"),D=m.MutationObserver||m.WebKitMutationObserver,P=m.document,K=m.process,L=m.Promise,Q=v("queueMicrotask"),R,M,O,H,G;if(!Q){var ie=new S,ge=function(){var J,re;for(F&&(J=K.domain)&&J.exit();re=ie.get();)try{re()}catch(se){throw ie.head&&R(),se}J&&J.enter()};!N&&!F&&!I&&D&&P?(M=!0,O=P.createTextNode(""),new D(ge).observe(O,{characterData:!0}),R=function(){O.data=M=!M}):!E&&L&&L.resolve?(H=L.resolve(void 0),H.constructor=L,G=g(H.then,H),R=function(){G(ge)}):F?R=function(){K.nextTick(ge)}:(b=g(b,m),R=function(){b(ge)}),Q=function(J){ie.head||R(),ie.add(J)}}u.exports=Q}),"./node_modules/core-js/internals/new-promise-capability.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/a-callable.js"),v=TypeError,g=function(b){var S,N;this.promise=new b(function(E,I){if(S!==void 0||N!==void 0)throw new v("Bad Promise constructor");S=E,N=I}),this.resolve=m(S),this.reject=m(N)};u.exports.f=function(b){return new g(b)}}),"./node_modules/core-js/internals/object-assign.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/descriptors.js"),v=A("./node_modules/core-js/internals/function-uncurry-this.js"),g=A("./node_modules/core-js/internals/function-call.js"),b=A("./node_modules/core-js/internals/fails.js"),S=A("./node_modules/core-js/internals/object-keys.js"),N=A("./node_modules/core-js/internals/object-get-own-property-symbols.js"),E=A("./node_modules/core-js/internals/object-property-is-enumerable.js"),I=A("./node_modules/core-js/internals/to-object.js"),F=A("./node_modules/core-js/internals/indexed-object.js"),D=Object.assign,P=Object.defineProperty,K=v([].concat);u.exports=!D||b(function(){if(m&&D({b:1},D(P({},"a",{enumerable:!0,get:function(){P(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var L={},Q={},R=Symbol("assign detection"),M="abcdefghijklmnopqrst";return L[R]=7,M.split("").forEach(function(O){Q[O]=O}),D({},L)[R]!==7||S(D({},Q)).join("")!==M})?function(Q,R){for(var M=I(Q),O=arguments.length,H=1,G=N.f,ie=E.f;O>H;)for(var ge=F(arguments[H++]),J=G?K(S(ge),G(ge)):S(ge),re=J.length,se=0,he;re>se;)he=J[se++],(!m||g(ie,ge,he))&&(M[he]=ge[he]);return M}:D}),"./node_modules/core-js/internals/object-create.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/an-object.js"),v=A("./node_modules/core-js/internals/object-define-properties.js"),g=A("./node_modules/core-js/internals/enum-bug-keys.js"),b=A("./node_modules/core-js/internals/hidden-keys.js"),S=A("./node_modules/core-js/internals/html.js"),N=A("./node_modules/core-js/internals/document-create-element.js"),E=A("./node_modules/core-js/internals/shared-key.js"),I=">",F="<",D="prototype",P="script",K=E("IE_PROTO"),L=function(){},Q=function(G){return F+P+I+G+F+"/"+P+I},R=function(G){G.write(Q("")),G.close();var ie=G.parentWindow.Object;return G=null,ie},M=function(){var G=N("iframe"),ie="java"+P+":",ge;return G.style.display="none",S.appendChild(G),G.src=String(ie),ge=G.contentWindow.document,ge.open(),ge.write(Q("document.F=Object")),ge.close(),ge.F},O,H=function(){try{O=new ActiveXObject("htmlfile")}catch{}H=typeof document<"u"?document.domain&&O?R(O):M():R(O);for(var G=g.length;G--;)delete H[D][g[G]];return H()};b[K]=!0,u.exports=Object.create||function(ie,ge){var J;return ie!==null?(L[D]=m(ie),J=new L,L[D]=null,J[K]=ie):J=H(),ge===void 0?J:v.f(J,ge)}}),"./node_modules/core-js/internals/object-define-properties.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/descriptors.js"),v=A("./node_modules/core-js/internals/v8-prototype-define-bug.js"),g=A("./node_modules/core-js/internals/object-define-property.js"),b=A("./node_modules/core-js/internals/an-object.js"),S=A("./node_modules/core-js/internals/to-indexed-object.js"),N=A("./node_modules/core-js/internals/object-keys.js");f.f=m&&!v?Object.defineProperties:function(I,F){b(I);for(var D=S(F),P=N(F),K=P.length,L=0,Q;K>L;)g.f(I,Q=P[L++],D[Q]);return I}}),"./node_modules/core-js/internals/object-define-property.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/descriptors.js"),v=A("./node_modules/core-js/internals/ie8-dom-define.js"),g=A("./node_modules/core-js/internals/v8-prototype-define-bug.js"),b=A("./node_modules/core-js/internals/an-object.js"),S=A("./node_modules/core-js/internals/to-property-key.js"),N=TypeError,E=Object.defineProperty,I=Object.getOwnPropertyDescriptor,F="enumerable",D="configurable",P="writable";f.f=m?g?function(L,Q,R){if(b(L),Q=S(Q),b(R),typeof L=="function"&&Q==="prototype"&&"value"in R&&P in R&&!R[P]){var M=I(L,Q);M&&M[P]&&(L[Q]=R.value,R={configurable:D in R?R[D]:M[D],enumerable:F in R?R[F]:M[F],writable:!1})}return E(L,Q,R)}:E:function(L,Q,R){if(b(L),Q=S(Q),b(R),v)try{return E(L,Q,R)}catch{}if("get"in R||"set"in R)throw new N("Accessors not supported");return"value"in R&&(L[Q]=R.value),L}}),"./node_modules/core-js/internals/object-get-own-property-descriptor.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/descriptors.js"),v=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/object-property-is-enumerable.js"),b=A("./node_modules/core-js/internals/create-property-descriptor.js"),S=A("./node_modules/core-js/internals/to-indexed-object.js"),N=A("./node_modules/core-js/internals/to-property-key.js"),E=A("./node_modules/core-js/internals/has-own-property.js"),I=A("./node_modules/core-js/internals/ie8-dom-define.js"),F=Object.getOwnPropertyDescriptor;f.f=m?F:function(P,K){if(P=S(P),K=N(K),I)try{return F(P,K)}catch{}if(E(P,K))return b(!v(g.f,P,K),P[K])}}),"./node_modules/core-js/internals/object-get-own-property-names-external.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/classof-raw.js"),v=A("./node_modules/core-js/internals/to-indexed-object.js"),g=A("./node_modules/core-js/internals/object-get-own-property-names.js").f,b=A("./node_modules/core-js/internals/array-slice.js"),S=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],N=function(E){try{return g(E)}catch{return b(S)}};u.exports.f=function(I){return S&&m(I)==="Window"?N(I):g(v(I))}}),"./node_modules/core-js/internals/object-get-own-property-names.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/object-keys-internal.js"),v=A("./node_modules/core-js/internals/enum-bug-keys.js"),g=v.concat("length","prototype");f.f=Object.getOwnPropertyNames||function(S){return m(S,g)}}),"./node_modules/core-js/internals/object-get-own-property-symbols.js":(function(u,f){f.f=Object.getOwnPropertySymbols}),"./node_modules/core-js/internals/object-get-prototype-of.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/has-own-property.js"),v=A("./node_modules/core-js/internals/is-callable.js"),g=A("./node_modules/core-js/internals/to-object.js"),b=A("./node_modules/core-js/internals/shared-key.js"),S=A("./node_modules/core-js/internals/correct-prototype-getter.js"),N=b("IE_PROTO"),E=Object,I=E.prototype;u.exports=S?E.getPrototypeOf:function(F){var D=g(F);if(m(D,N))return D[N];var P=D.constructor;return v(P)&&D instanceof P?P.prototype:D instanceof E?I:null}}),"./node_modules/core-js/internals/object-is-extensible.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js"),v=A("./node_modules/core-js/internals/is-object.js"),g=A("./node_modules/core-js/internals/classof-raw.js"),b=A("./node_modules/core-js/internals/array-buffer-non-extensible.js"),S=Object.isExtensible,N=m(function(){});u.exports=N||b?function(I){return!v(I)||b&&g(I)==="ArrayBuffer"?!1:S?S(I):!0}:S}),"./node_modules/core-js/internals/object-is-prototype-of.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js");u.exports=m({}.isPrototypeOf)}),"./node_modules/core-js/internals/object-keys-internal.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js"),v=A("./node_modules/core-js/internals/has-own-property.js"),g=A("./node_modules/core-js/internals/to-indexed-object.js"),b=A("./node_modules/core-js/internals/array-includes.js").indexOf,S=A("./node_modules/core-js/internals/hidden-keys.js"),N=m([].push);u.exports=function(E,I){var F=g(E),D=0,P=[],K;for(K in F)!v(S,K)&&v(F,K)&&N(P,K);for(;I.length>D;)v(F,K=I[D++])&&(~b(P,K)||N(P,K));return P}}),"./node_modules/core-js/internals/object-keys.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/object-keys-internal.js"),v=A("./node_modules/core-js/internals/enum-bug-keys.js");u.exports=Object.keys||function(b){return m(b,v)}}),"./node_modules/core-js/internals/object-property-is-enumerable.js":(function(u,f){var A={}.propertyIsEnumerable,m=Object.getOwnPropertyDescriptor,v=m&&!A.call({1:2},1);f.f=v?function(b){var S=m(this,b);return!!S&&S.enumerable}:A}),"./node_modules/core-js/internals/object-set-prototype-of.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this-accessor.js"),v=A("./node_modules/core-js/internals/is-object.js"),g=A("./node_modules/core-js/internals/require-object-coercible.js"),b=A("./node_modules/core-js/internals/a-possible-prototype.js");u.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var S=!1,N={},E;try{E=m(Object.prototype,"__proto__","set"),E(N,[]),S=N instanceof Array}catch{}return function(F,D){return g(F),b(D),v(F)&&(S?E(F,D):F.__proto__=D),F}})():void 0)}),"./node_modules/core-js/internals/object-to-string.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/to-string-tag-support.js"),v=A("./node_modules/core-js/internals/classof.js");u.exports=m?{}.toString:function(){return"[object "+v(this)+"]"}}),"./node_modules/core-js/internals/ordinary-to-primitive.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-call.js"),v=A("./node_modules/core-js/internals/is-callable.js"),g=A("./node_modules/core-js/internals/is-object.js"),b=TypeError;u.exports=function(S,N){var E,I;if(N==="string"&&v(E=S.toString)&&!g(I=m(E,S))||v(E=S.valueOf)&&!g(I=m(E,S))||N!=="string"&&v(E=S.toString)&&!g(I=m(E,S)))return I;throw new b("Can't convert object to primitive value")}}),"./node_modules/core-js/internals/own-keys.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/get-built-in.js"),v=A("./node_modules/core-js/internals/function-uncurry-this.js"),g=A("./node_modules/core-js/internals/object-get-own-property-names.js"),b=A("./node_modules/core-js/internals/object-get-own-property-symbols.js"),S=A("./node_modules/core-js/internals/an-object.js"),N=v([].concat);u.exports=m("Reflect","ownKeys")||function(I){var F=g.f(S(I)),D=b.f;return D?N(F,D(I)):F}}),"./node_modules/core-js/internals/path.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js");u.exports=m}),"./node_modules/core-js/internals/perform.js":(function(u){u.exports=function(f){try{return{error:!1,value:f()}}catch(A){return{error:!0,value:A}}}}),"./node_modules/core-js/internals/promise-constructor-detection.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),v=A("./node_modules/core-js/internals/promise-native-constructor.js"),g=A("./node_modules/core-js/internals/is-callable.js"),b=A("./node_modules/core-js/internals/is-forced.js"),S=A("./node_modules/core-js/internals/inspect-source.js"),N=A("./node_modules/core-js/internals/well-known-symbol.js"),E=A("./node_modules/core-js/internals/environment.js"),I=A("./node_modules/core-js/internals/is-pure.js"),F=A("./node_modules/core-js/internals/environment-v8-version.js"),D=v&&v.prototype,P=N("species"),K=!1,L=g(m.PromiseRejectionEvent),Q=b("Promise",function(){var R=S(v),M=R!==String(v);if(!M&&F===66||I&&!(D.catch&&D.finally))return!0;if(!F||F<51||!/native code/.test(R)){var O=new v(function(ie){ie(1)}),H=function(ie){ie(function(){},function(){})},G=O.constructor={};if(G[P]=H,K=O.then(function(){})instanceof H,!K)return!0}return!M&&(E==="BROWSER"||E==="DENO")&&!L});u.exports={CONSTRUCTOR:Q,REJECTION_EVENT:L,SUBCLASSING:K}}),"./node_modules/core-js/internals/promise-native-constructor.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js");u.exports=m.Promise}),"./node_modules/core-js/internals/promise-resolve.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/an-object.js"),v=A("./node_modules/core-js/internals/is-object.js"),g=A("./node_modules/core-js/internals/new-promise-capability.js");u.exports=function(b,S){if(m(b),v(S)&&S.constructor===b)return S;var N=g.f(b),E=N.resolve;return E(S),N.promise}}),"./node_modules/core-js/internals/promise-statics-incorrect-iteration.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/promise-native-constructor.js"),v=A("./node_modules/core-js/internals/check-correctness-of-iteration.js"),g=A("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR;u.exports=g||!v(function(b){m.all(b).then(void 0,function(){})})}),"./node_modules/core-js/internals/queue.js":(function(u){var f=function(){this.head=null,this.tail=null};f.prototype={add:function(A){var m={item:A,next:null},v=this.tail;v?v.next=m:this.head=m,this.tail=m},get:function(){var A=this.head;if(A){var m=this.head=A.next;return m===null&&(this.tail=null),A.item}}},u.exports=f}),"./node_modules/core-js/internals/regexp-exec.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-call.js"),v=A("./node_modules/core-js/internals/function-uncurry-this.js"),g=A("./node_modules/core-js/internals/to-string.js"),b=A("./node_modules/core-js/internals/regexp-flags.js"),S=A("./node_modules/core-js/internals/regexp-sticky-helpers.js"),N=A("./node_modules/core-js/internals/shared.js"),E=A("./node_modules/core-js/internals/object-create.js"),I=A("./node_modules/core-js/internals/internal-state.js").get,F=A("./node_modules/core-js/internals/regexp-unsupported-dot-all.js"),D=A("./node_modules/core-js/internals/regexp-unsupported-ncg.js"),P=N("native-string-replace",String.prototype.replace),K=RegExp.prototype.exec,L=K,Q=v("".charAt),R=v("".indexOf),M=v("".replace),O=v("".slice),H=(function(){var J=/a/,re=/b*/g;return m(K,J,"a"),m(K,re,"a"),J.lastIndex!==0||re.lastIndex!==0})(),G=S.BROKEN_CARET,ie=/()??/.exec("")[1]!==void 0,ge=H||ie||G||F||D;ge&&(L=function(re){var se=this,he=I(se),je=g(re),ne=he.raw,V,W,ae,ce,Ae,pe,Se;if(ne)return ne.lastIndex=se.lastIndex,V=m(L,ne,je),se.lastIndex=ne.lastIndex,V;var xe=he.groups,Ie=G&&se.sticky,_e=m(b,se),De=se.source,st=0,He=je;if(Ie&&(_e=M(_e,"y",""),R(_e,"g")===-1&&(_e+="g"),He=O(je,se.lastIndex),se.lastIndex>0&&(!se.multiline||se.multiline&&Q(je,se.lastIndex-1)!==`
`)&&(De="(?: "+De+")",He=" "+He,st++),W=new RegExp("^(?:"+De+")",_e)),ie&&(W=new RegExp("^"+De+"$(?!\\s)",_e)),H&&(ae=se.lastIndex),ce=m(K,Ie?W:se,He),Ie?ce?(ce.input=O(ce.input,st),ce[0]=O(ce[0],st),ce.index=se.lastIndex,se.lastIndex+=ce[0].length):se.lastIndex=0:H&&ce&&(se.lastIndex=se.global?ce.index+ce[0].length:ae),ie&&ce&&ce.length>1&&m(P,ce[0],W,function(){for(Ae=1;Ae<arguments.length-2;Ae++)arguments[Ae]===void 0&&(ce[Ae]=void 0)}),ce&&xe)for(ce.groups=pe=E(null),Ae=0;Ae<xe.length;Ae++)Se=xe[Ae],pe[Se[0]]=ce[Se[1]];return ce}),u.exports=L}),"./node_modules/core-js/internals/regexp-flags-detection.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),v=A("./node_modules/core-js/internals/fails.js"),g=m.RegExp,b=!v(function(){var S=!0;try{g(".","d")}catch{S=!1}var N={},E="",I=S?"dgimsy":"gimsy",F=function(L,Q){Object.defineProperty(N,L,{get:function(){return E+=Q,!0}})},D={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};S&&(D.hasIndices="d");for(var P in D)F(P,D[P]);var K=Object.getOwnPropertyDescriptor(g.prototype,"flags").get.call(N);return K!==I||E!==I});u.exports={correct:b}}),"./node_modules/core-js/internals/regexp-flags.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/an-object.js");u.exports=function(){var v=m(this),g="";return v.hasIndices&&(g+="d"),v.global&&(g+="g"),v.ignoreCase&&(g+="i"),v.multiline&&(g+="m"),v.dotAll&&(g+="s"),v.unicode&&(g+="u"),v.unicodeSets&&(g+="v"),v.sticky&&(g+="y"),g}}),"./node_modules/core-js/internals/regexp-get-flags.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-call.js"),v=A("./node_modules/core-js/internals/has-own-property.js"),g=A("./node_modules/core-js/internals/object-is-prototype-of.js"),b=A("./node_modules/core-js/internals/regexp-flags-detection.js"),S=A("./node_modules/core-js/internals/regexp-flags.js"),N=RegExp.prototype;u.exports=b.correct?function(E){return E.flags}:function(E){return!b.correct&&g(N,E)&&!v(E,"flags")?m(S,E):E.flags}}),"./node_modules/core-js/internals/regexp-sticky-helpers.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js"),v=A("./node_modules/core-js/internals/global-this.js"),g=v.RegExp,b=m(function(){var E=g("a","y");return E.lastIndex=2,E.exec("abcd")!==null}),S=b||m(function(){return!g("a","y").sticky}),N=b||m(function(){var E=g("^r","gy");return E.lastIndex=2,E.exec("str")!==null});u.exports={BROKEN_CARET:N,MISSED_STICKY:S,UNSUPPORTED_Y:b}}),"./node_modules/core-js/internals/regexp-unsupported-dot-all.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js"),v=A("./node_modules/core-js/internals/global-this.js"),g=v.RegExp;u.exports=m(function(){var b=g(".","s");return!(b.dotAll&&b.test(`
`)&&b.flags==="s")})}),"./node_modules/core-js/internals/regexp-unsupported-ncg.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js"),v=A("./node_modules/core-js/internals/global-this.js"),g=v.RegExp;u.exports=m(function(){var b=g("(?<a>b)","g");return b.exec("b").groups.a!=="b"||"b".replace(b,"$<a>c")!=="bc"})}),"./node_modules/core-js/internals/require-object-coercible.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/is-null-or-undefined.js"),v=TypeError;u.exports=function(g){if(m(g))throw new v("Can't call method on "+g);return g}}),"./node_modules/core-js/internals/safe-get-built-in.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),v=A("./node_modules/core-js/internals/descriptors.js"),g=Object.getOwnPropertyDescriptor;u.exports=function(b){if(!v)return m[b];var S=g(m,b);return S&&S.value}}),"./node_modules/core-js/internals/schedulers-fix.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),v=A("./node_modules/core-js/internals/function-apply.js"),g=A("./node_modules/core-js/internals/is-callable.js"),b=A("./node_modules/core-js/internals/environment.js"),S=A("./node_modules/core-js/internals/environment-user-agent.js"),N=A("./node_modules/core-js/internals/array-slice.js"),E=A("./node_modules/core-js/internals/validate-arguments-length.js"),I=m.Function,F=/MSIE .\./.test(S)||b==="BUN"&&(function(){var D=m.Bun.version.split(".");return D.length<3||D[0]==="0"&&(D[1]<3||D[1]==="3"&&D[2]==="0")})();u.exports=function(D,P){var K=P?2:1;return F?function(L,Q){var R=E(arguments.length,1)>K,M=g(L)?L:I(L),O=R?N(arguments,K):[],H=R?function(){v(M,this,O)}:M;return P?D(H,Q):D(H)}:D}}),"./node_modules/core-js/internals/set-clone.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/set-helpers.js"),v=A("./node_modules/core-js/internals/set-iterate.js"),g=m.Set,b=m.add;u.exports=function(S){var N=new g;return v(S,function(E){b(N,E)}),N}}),"./node_modules/core-js/internals/set-difference.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/a-set.js"),v=A("./node_modules/core-js/internals/set-helpers.js"),g=A("./node_modules/core-js/internals/set-clone.js"),b=A("./node_modules/core-js/internals/set-size.js"),S=A("./node_modules/core-js/internals/get-set-record.js"),N=A("./node_modules/core-js/internals/set-iterate.js"),E=A("./node_modules/core-js/internals/iterate-simple.js"),I=v.has,F=v.remove;u.exports=function(P){var K=m(this),L=S(P),Q=g(K);return b(K)<=L.size?N(K,function(R){L.includes(R)&&F(Q,R)}):E(L.getIterator(),function(R){I(Q,R)&&F(Q,R)}),Q}}),"./node_modules/core-js/internals/set-helpers.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js"),v=Set.prototype;u.exports={Set,add:m(v.add),has:m(v.has),remove:m(v.delete),proto:v}}),"./node_modules/core-js/internals/set-intersection.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/a-set.js"),v=A("./node_modules/core-js/internals/set-helpers.js"),g=A("./node_modules/core-js/internals/set-size.js"),b=A("./node_modules/core-js/internals/get-set-record.js"),S=A("./node_modules/core-js/internals/set-iterate.js"),N=A("./node_modules/core-js/internals/iterate-simple.js"),E=v.Set,I=v.add,F=v.has;u.exports=function(P){var K=m(this),L=b(P),Q=new E;return g(K)>L.size?N(L.getIterator(),function(R){F(K,R)&&I(Q,R)}):S(K,function(R){L.includes(R)&&I(Q,R)}),Q}}),"./node_modules/core-js/internals/set-is-disjoint-from.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/a-set.js"),v=A("./node_modules/core-js/internals/set-helpers.js").has,g=A("./node_modules/core-js/internals/set-size.js"),b=A("./node_modules/core-js/internals/get-set-record.js"),S=A("./node_modules/core-js/internals/set-iterate.js"),N=A("./node_modules/core-js/internals/iterate-simple.js"),E=A("./node_modules/core-js/internals/iterator-close.js");u.exports=function(F){var D=m(this),P=b(F);if(g(D)<=P.size)return S(D,function(L){if(P.includes(L))return!1},!0)!==!1;var K=P.getIterator();return N(K,function(L){if(v(D,L))return E(K,"normal",!1)})!==!1}}),"./node_modules/core-js/internals/set-is-subset-of.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/a-set.js"),v=A("./node_modules/core-js/internals/set-size.js"),g=A("./node_modules/core-js/internals/set-iterate.js"),b=A("./node_modules/core-js/internals/get-set-record.js");u.exports=function(N){var E=m(this),I=b(N);return v(E)>I.size?!1:g(E,function(F){if(!I.includes(F))return!1},!0)!==!1}}),"./node_modules/core-js/internals/set-is-superset-of.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/a-set.js"),v=A("./node_modules/core-js/internals/set-helpers.js").has,g=A("./node_modules/core-js/internals/set-size.js"),b=A("./node_modules/core-js/internals/get-set-record.js"),S=A("./node_modules/core-js/internals/iterate-simple.js"),N=A("./node_modules/core-js/internals/iterator-close.js");u.exports=function(I){var F=m(this),D=b(I);if(g(F)<D.size)return!1;var P=D.getIterator();return S(P,function(K){if(!v(F,K))return N(P,"normal",!1)})!==!1}}),"./node_modules/core-js/internals/set-iterate.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js"),v=A("./node_modules/core-js/internals/iterate-simple.js"),g=A("./node_modules/core-js/internals/set-helpers.js"),b=g.Set,S=g.proto,N=m(S.forEach),E=m(S.keys),I=E(new b).next;u.exports=function(F,D,P){return P?v({iterator:E(F),next:I},D):N(F,D)}}),"./node_modules/core-js/internals/set-size.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this-accessor.js"),v=A("./node_modules/core-js/internals/set-helpers.js");u.exports=m(v.proto,"size","get")||function(g){return g.size}}),"./node_modules/core-js/internals/set-species.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/get-built-in.js"),v=A("./node_modules/core-js/internals/define-built-in-accessor.js"),g=A("./node_modules/core-js/internals/well-known-symbol.js"),b=A("./node_modules/core-js/internals/descriptors.js"),S=g("species");u.exports=function(N){var E=m(N);b&&E&&!E[S]&&v(E,S,{configurable:!0,get:function(){return this}})}}),"./node_modules/core-js/internals/set-symmetric-difference.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/a-set.js"),v=A("./node_modules/core-js/internals/set-helpers.js"),g=A("./node_modules/core-js/internals/set-clone.js"),b=A("./node_modules/core-js/internals/get-set-record.js"),S=A("./node_modules/core-js/internals/iterate-simple.js"),N=v.add,E=v.has,I=v.remove;u.exports=function(D){var P=m(this),K=b(D).getIterator(),L=g(P);return S(K,function(Q){E(P,Q)?I(L,Q):N(L,Q)}),L}}),"./node_modules/core-js/internals/set-to-string-tag.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/object-define-property.js").f,v=A("./node_modules/core-js/internals/has-own-property.js"),g=A("./node_modules/core-js/internals/well-known-symbol.js"),b=g("toStringTag");u.exports=function(S,N,E){S&&!E&&(S=S.prototype),S&&!v(S,b)&&m(S,b,{configurable:!0,value:N})}}),"./node_modules/core-js/internals/set-union.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/a-set.js"),v=A("./node_modules/core-js/internals/set-helpers.js").add,g=A("./node_modules/core-js/internals/set-clone.js"),b=A("./node_modules/core-js/internals/get-set-record.js"),S=A("./node_modules/core-js/internals/iterate-simple.js");u.exports=function(E){var I=m(this),F=b(E).getIterator(),D=g(I);return S(F,function(P){v(D,P)}),D}}),"./node_modules/core-js/internals/shared-key.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/shared.js"),v=A("./node_modules/core-js/internals/uid.js"),g=m("keys");u.exports=function(b){return g[b]||(g[b]=v(b))}}),"./node_modules/core-js/internals/shared-store.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/is-pure.js"),v=A("./node_modules/core-js/internals/global-this.js"),g=A("./node_modules/core-js/internals/define-global-property.js"),b="__core-js_shared__",S=u.exports=v[b]||g(b,{});(S.versions||(S.versions=[])).push({version:"3.45.1",mode:m?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.45.1/LICENSE",source:"https://github.com/zloirock/core-js"})}),"./node_modules/core-js/internals/shared.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/shared-store.js");u.exports=function(v,g){return m[v]||(m[v]=g||{})}}),"./node_modules/core-js/internals/species-constructor.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/an-object.js"),v=A("./node_modules/core-js/internals/a-constructor.js"),g=A("./node_modules/core-js/internals/is-null-or-undefined.js"),b=A("./node_modules/core-js/internals/well-known-symbol.js"),S=b("species");u.exports=function(N,E){var I=m(N).constructor,F;return I===void 0||g(F=m(I)[S])?E:v(F)}}),"./node_modules/core-js/internals/string-html-forced.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js");u.exports=function(v){return m(function(){var g=""[v]('"');return g!==g.toLowerCase()||g.split('"').length>3})}}),"./node_modules/core-js/internals/string-multibyte.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js"),v=A("./node_modules/core-js/internals/to-integer-or-infinity.js"),g=A("./node_modules/core-js/internals/to-string.js"),b=A("./node_modules/core-js/internals/require-object-coercible.js"),S=m("".charAt),N=m("".charCodeAt),E=m("".slice),I=function(F){return function(D,P){var K=g(b(D)),L=v(P),Q=K.length,R,M;return L<0||L>=Q?F?"":void 0:(R=N(K,L),R<55296||R>56319||L+1===Q||(M=N(K,L+1))<56320||M>57343?F?S(K,L):R:F?E(K,L,L+2):(R-55296<<10)+(M-56320)+65536)}};u.exports={codeAt:I(!1),charAt:I(!0)}}),"./node_modules/core-js/internals/string-trim.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js"),v=A("./node_modules/core-js/internals/require-object-coercible.js"),g=A("./node_modules/core-js/internals/to-string.js"),b=A("./node_modules/core-js/internals/whitespaces.js"),S=m("".replace),N=RegExp("^["+b+"]+"),E=RegExp("(^|[^"+b+"])["+b+"]+$"),I=function(F){return function(D){var P=g(v(D));return F&1&&(P=S(P,N,"")),F&2&&(P=S(P,E,"$1")),P}};u.exports={start:I(1),end:I(2),trim:I(3)}}),"./node_modules/core-js/internals/symbol-constructor-detection.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/environment-v8-version.js"),v=A("./node_modules/core-js/internals/fails.js"),g=A("./node_modules/core-js/internals/global-this.js"),b=g.String;u.exports=!!Object.getOwnPropertySymbols&&!v(function(){var S=Symbol("symbol detection");return!b(S)||!(Object(S)instanceof Symbol)||!Symbol.sham&&m&&m<41})}),"./node_modules/core-js/internals/symbol-define-to-primitive.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-call.js"),v=A("./node_modules/core-js/internals/get-built-in.js"),g=A("./node_modules/core-js/internals/well-known-symbol.js"),b=A("./node_modules/core-js/internals/define-built-in.js");u.exports=function(){var S=v("Symbol"),N=S&&S.prototype,E=N&&N.valueOf,I=g("toPrimitive");N&&!N[I]&&b(N,I,function(F){return m(E,this)},{arity:1})}}),"./node_modules/core-js/internals/symbol-registry-detection.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/symbol-constructor-detection.js");u.exports=m&&!!Symbol.for&&!!Symbol.keyFor}),"./node_modules/core-js/internals/task.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),v=A("./node_modules/core-js/internals/function-apply.js"),g=A("./node_modules/core-js/internals/function-bind-context.js"),b=A("./node_modules/core-js/internals/is-callable.js"),S=A("./node_modules/core-js/internals/has-own-property.js"),N=A("./node_modules/core-js/internals/fails.js"),E=A("./node_modules/core-js/internals/html.js"),I=A("./node_modules/core-js/internals/array-slice.js"),F=A("./node_modules/core-js/internals/document-create-element.js"),D=A("./node_modules/core-js/internals/validate-arguments-length.js"),P=A("./node_modules/core-js/internals/environment-is-ios.js"),K=A("./node_modules/core-js/internals/environment-is-node.js"),L=m.setImmediate,Q=m.clearImmediate,R=m.process,M=m.Dispatch,O=m.Function,H=m.MessageChannel,G=m.String,ie=0,ge={},J="onreadystatechange",re,se,he,je;N(function(){re=m.location});var ne=function(ce){if(S(ge,ce)){var Ae=ge[ce];delete ge[ce],Ae()}},V=function(ce){return function(){ne(ce)}},W=function(ce){ne(ce.data)},ae=function(ce){m.postMessage(G(ce),re.protocol+"//"+re.host)};(!L||!Q)&&(L=function(Ae){D(arguments.length,1);var pe=b(Ae)?Ae:O(Ae),Se=I(arguments,1);return ge[++ie]=function(){v(pe,void 0,Se)},se(ie),ie},Q=function(Ae){delete ge[Ae]},K?se=function(ce){R.nextTick(V(ce))}:M&&M.now?se=function(ce){M.now(V(ce))}:H&&!P?(he=new H,je=he.port2,he.port1.onmessage=W,se=g(je.postMessage,je)):m.addEventListener&&b(m.postMessage)&&!m.importScripts&&re&&re.protocol!=="file:"&&!N(ae)?(se=ae,m.addEventListener("message",W,!1)):J in F("script")?se=function(ce){E.appendChild(F("script"))[J]=function(){E.removeChild(this),ne(ce)}}:se=function(ce){setTimeout(V(ce),0)}),u.exports={set:L,clear:Q}}),"./node_modules/core-js/internals/this-number-value.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js");u.exports=m(1.1.valueOf)}),"./node_modules/core-js/internals/to-absolute-index.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/to-integer-or-infinity.js"),v=Math.max,g=Math.min;u.exports=function(b,S){var N=m(b);return N<0?v(N+S,0):g(N,S)}}),"./node_modules/core-js/internals/to-indexed-object.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/indexed-object.js"),v=A("./node_modules/core-js/internals/require-object-coercible.js");u.exports=function(g){return m(v(g))}}),"./node_modules/core-js/internals/to-integer-or-infinity.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/math-trunc.js");u.exports=function(v){var g=+v;return g!==g||g===0?0:m(g)}}),"./node_modules/core-js/internals/to-length.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/to-integer-or-infinity.js"),v=Math.min;u.exports=function(g){var b=m(g);return b>0?v(b,9007199254740991):0}}),"./node_modules/core-js/internals/to-object.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/require-object-coercible.js"),v=Object;u.exports=function(g){return v(m(g))}}),"./node_modules/core-js/internals/to-primitive.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-call.js"),v=A("./node_modules/core-js/internals/is-object.js"),g=A("./node_modules/core-js/internals/is-symbol.js"),b=A("./node_modules/core-js/internals/get-method.js"),S=A("./node_modules/core-js/internals/ordinary-to-primitive.js"),N=A("./node_modules/core-js/internals/well-known-symbol.js"),E=TypeError,I=N("toPrimitive");u.exports=function(F,D){if(!v(F)||g(F))return F;var P=b(F,I),K;if(P){if(D===void 0&&(D="default"),K=m(P,F,D),!v(K)||g(K))return K;throw new E("Can't convert object to primitive value")}return D===void 0&&(D="number"),S(F,D)}}),"./node_modules/core-js/internals/to-property-key.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/to-primitive.js"),v=A("./node_modules/core-js/internals/is-symbol.js");u.exports=function(g){var b=m(g,"string");return v(b)?b:b+""}}),"./node_modules/core-js/internals/to-set-like.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/get-built-in.js"),v=A("./node_modules/core-js/internals/is-callable.js"),g=A("./node_modules/core-js/internals/is-iterable.js"),b=A("./node_modules/core-js/internals/is-object.js"),S=m("Set"),N=function(E){return b(E)&&typeof E.size=="number"&&v(E.has)&&v(E.keys)};u.exports=function(E){return N(E)?E:g(E)?new S(E):E}}),"./node_modules/core-js/internals/to-string-tag-support.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/well-known-symbol.js"),v=m("toStringTag"),g={};g[v]="z",u.exports=String(g)==="[object z]"}),"./node_modules/core-js/internals/to-string.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/classof.js"),v=String;u.exports=function(g){if(m(g)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return v(g)}}),"./node_modules/core-js/internals/try-to-string.js":(function(u){var f=String;u.exports=function(A){try{return f(A)}catch{return"Object"}}}),"./node_modules/core-js/internals/uid.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js"),v=0,g=Math.random(),b=m(1.1.toString);u.exports=function(S){return"Symbol("+(S===void 0?"":S)+")_"+b(++v+g,36)}}),"./node_modules/core-js/internals/use-symbol-as-uid.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/symbol-constructor-detection.js");u.exports=m&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}),"./node_modules/core-js/internals/v8-prototype-define-bug.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/descriptors.js"),v=A("./node_modules/core-js/internals/fails.js");u.exports=m&&v(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})}),"./node_modules/core-js/internals/validate-arguments-length.js":(function(u){var f=TypeError;u.exports=function(A,m){if(A<m)throw new f("Not enough arguments");return A}}),"./node_modules/core-js/internals/weak-map-basic-detection.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),v=A("./node_modules/core-js/internals/is-callable.js"),g=m.WeakMap;u.exports=v(g)&&/native code/.test(String(g))}),"./node_modules/core-js/internals/well-known-symbol-define.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/path.js"),v=A("./node_modules/core-js/internals/has-own-property.js"),g=A("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),b=A("./node_modules/core-js/internals/object-define-property.js").f;u.exports=function(S){var N=m.Symbol||(m.Symbol={});v(N,S)||b(N,S,{value:g.f(S)})}}),"./node_modules/core-js/internals/well-known-symbol-wrapped.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/well-known-symbol.js");f.f=m}),"./node_modules/core-js/internals/well-known-symbol.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),v=A("./node_modules/core-js/internals/shared.js"),g=A("./node_modules/core-js/internals/has-own-property.js"),b=A("./node_modules/core-js/internals/uid.js"),S=A("./node_modules/core-js/internals/symbol-constructor-detection.js"),N=A("./node_modules/core-js/internals/use-symbol-as-uid.js"),E=m.Symbol,I=v("wks"),F=N?E.for||E:E&&E.withoutSetter||b;u.exports=function(D){return g(I,D)||(I[D]=S&&g(E,D)?E[D]:F("Symbol."+D)),I[D]}}),"./node_modules/core-js/internals/whitespaces.js":(function(u){u.exports=`	
\v\f\r \u2028\u2029\uFEFF`}),"./node_modules/core-js/modules/es.array.concat.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/fails.js"),g=A("./node_modules/core-js/internals/is-array.js"),b=A("./node_modules/core-js/internals/is-object.js"),S=A("./node_modules/core-js/internals/to-object.js"),N=A("./node_modules/core-js/internals/length-of-array-like.js"),E=A("./node_modules/core-js/internals/does-not-exceed-safe-integer.js"),I=A("./node_modules/core-js/internals/create-property.js"),F=A("./node_modules/core-js/internals/array-species-create.js"),D=A("./node_modules/core-js/internals/array-method-has-species-support.js"),P=A("./node_modules/core-js/internals/well-known-symbol.js"),K=A("./node_modules/core-js/internals/environment-v8-version.js"),L=P("isConcatSpreadable"),Q=K>=51||!v(function(){var O=[];return O[L]=!1,O.concat()[0]!==O}),R=function(O){if(!b(O))return!1;var H=O[L];return H!==void 0?!!H:g(O)},M=!Q||!D("concat");m({target:"Array",proto:!0,arity:1,forced:M},{concat:function(H){var G=S(this),ie=F(G,0),ge=0,J,re,se,he,je;for(J=-1,se=arguments.length;J<se;J++)if(je=J===-1?G:arguments[J],R(je))for(he=N(je),E(ge+he),re=0;re<he;re++,ge++)re in je&&I(ie,ge,je[re]);else E(ge+1),I(ie,ge++,je);return ie.length=ge,ie}})}),"./node_modules/core-js/modules/es.array.from.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/array-from.js"),g=A("./node_modules/core-js/internals/check-correctness-of-iteration.js"),b=!g(function(S){Array.from(S)});m({target:"Array",stat:!0,forced:b},{from:v})}),"./node_modules/core-js/modules/es.array.iterator.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/to-indexed-object.js"),v=A("./node_modules/core-js/internals/add-to-unscopables.js"),g=A("./node_modules/core-js/internals/iterators.js"),b=A("./node_modules/core-js/internals/internal-state.js"),S=A("./node_modules/core-js/internals/object-define-property.js").f,N=A("./node_modules/core-js/internals/iterator-define.js"),E=A("./node_modules/core-js/internals/create-iter-result-object.js"),I=A("./node_modules/core-js/internals/is-pure.js"),F=A("./node_modules/core-js/internals/descriptors.js"),D="Array Iterator",P=b.set,K=b.getterFor(D);u.exports=N(Array,"Array",function(Q,R){P(this,{type:D,target:m(Q),index:0,kind:R})},function(){var Q=K(this),R=Q.target,M=Q.index++;if(!R||M>=R.length)return Q.target=null,E(void 0,!0);switch(Q.kind){case"keys":return E(M,!1);case"values":return E(R[M],!1)}return E([M,R[M]],!1)},"values");var L=g.Arguments=g.Array;if(v("keys"),v("values"),v("entries"),!I&&F&&L.name!=="values")try{S(L,"name",{value:"values"})}catch{}}),"./node_modules/core-js/modules/es.array.join.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/function-uncurry-this.js"),g=A("./node_modules/core-js/internals/indexed-object.js"),b=A("./node_modules/core-js/internals/to-indexed-object.js"),S=A("./node_modules/core-js/internals/array-method-is-strict.js"),N=v([].join),E=g!==Object,I=E||!S("join",",");m({target:"Array",proto:!0,forced:I},{join:function(D){return N(b(this),D===void 0?",":D)}})}),"./node_modules/core-js/modules/es.array.map.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/array-iteration.js").map,g=A("./node_modules/core-js/internals/array-method-has-species-support.js"),b=g("map");m({target:"Array",proto:!0,forced:!b},{map:function(N){return v(this,N,arguments.length>1?arguments[1]:void 0)}})}),"./node_modules/core-js/modules/es.array.slice.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/is-array.js"),g=A("./node_modules/core-js/internals/is-constructor.js"),b=A("./node_modules/core-js/internals/is-object.js"),S=A("./node_modules/core-js/internals/to-absolute-index.js"),N=A("./node_modules/core-js/internals/length-of-array-like.js"),E=A("./node_modules/core-js/internals/to-indexed-object.js"),I=A("./node_modules/core-js/internals/create-property.js"),F=A("./node_modules/core-js/internals/well-known-symbol.js"),D=A("./node_modules/core-js/internals/array-method-has-species-support.js"),P=A("./node_modules/core-js/internals/array-slice.js"),K=D("slice"),L=F("species"),Q=Array,R=Math.max;m({target:"Array",proto:!0,forced:!K},{slice:function(O,H){var G=E(this),ie=N(G),ge=S(O,ie),J=S(H===void 0?ie:H,ie),re,se,he;if(v(G)&&(re=G.constructor,g(re)&&(re===Q||v(re.prototype))?re=void 0:b(re)&&(re=re[L],re===null&&(re=void 0)),re===Q||re===void 0))return P(G,ge,J);for(se=new(re===void 0?Q:re)(R(J-ge,0)),he=0;ge<J;ge++,he++)ge in G&&I(se,he,G[ge]);return se.length=he,se}})}),"./node_modules/core-js/modules/es.function.name.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/descriptors.js"),v=A("./node_modules/core-js/internals/function-name.js").EXISTS,g=A("./node_modules/core-js/internals/function-uncurry-this.js"),b=A("./node_modules/core-js/internals/define-built-in-accessor.js"),S=Function.prototype,N=g(S.toString),E=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,I=g(E.exec),F="name";m&&!v&&b(S,F,{configurable:!0,get:function(){try{return I(E,N(this))[1]}catch{return""}}})}),"./node_modules/core-js/modules/es.iterator.constructor.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/global-this.js"),g=A("./node_modules/core-js/internals/an-instance.js"),b=A("./node_modules/core-js/internals/an-object.js"),S=A("./node_modules/core-js/internals/is-callable.js"),N=A("./node_modules/core-js/internals/object-get-prototype-of.js"),E=A("./node_modules/core-js/internals/define-built-in-accessor.js"),I=A("./node_modules/core-js/internals/create-property.js"),F=A("./node_modules/core-js/internals/fails.js"),D=A("./node_modules/core-js/internals/has-own-property.js"),P=A("./node_modules/core-js/internals/well-known-symbol.js"),K=A("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,L=A("./node_modules/core-js/internals/descriptors.js"),Q=A("./node_modules/core-js/internals/is-pure.js"),R="constructor",M="Iterator",O=P("toStringTag"),H=TypeError,G=v[M],ie=Q||!S(G)||G.prototype!==K||!F(function(){G({})}),ge=function(){if(g(this,K),N(this)===K)throw new H("Abstract class Iterator not directly constructable")},J=function(re,se){L?E(K,re,{configurable:!0,get:function(){return se},set:function(he){if(b(this),this===K)throw new H("You can't redefine this property");D(this,re)?this[re]=he:I(this,re,he)}}):K[re]=se};D(K,O)||J(O,M),(ie||!D(K,R)||K[R]===Object)&&J(R,ge),ge.prototype=K,m({global:!0,constructor:!0,forced:ie},{Iterator:ge})}),"./node_modules/core-js/modules/es.iterator.for-each.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/iterate.js"),b=A("./node_modules/core-js/internals/a-callable.js"),S=A("./node_modules/core-js/internals/an-object.js"),N=A("./node_modules/core-js/internals/get-iterator-direct.js"),E=A("./node_modules/core-js/internals/iterator-close.js"),I=A("./node_modules/core-js/internals/iterator-helper-without-closing-on-early-error.js"),F=I("forEach",TypeError);m({target:"Iterator",proto:!0,real:!0,forced:F},{forEach:function(P){S(this);try{b(P)}catch(Q){E(this,"throw",Q)}if(F)return v(F,this,P);var K=N(this),L=0;g(K,function(Q){P(Q,L++)},{IS_RECORD:!0})}})}),"./node_modules/core-js/modules/es.iterator.map.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/a-callable.js"),b=A("./node_modules/core-js/internals/an-object.js"),S=A("./node_modules/core-js/internals/get-iterator-direct.js"),N=A("./node_modules/core-js/internals/iterator-create-proxy.js"),E=A("./node_modules/core-js/internals/call-with-safe-iteration-closing.js"),I=A("./node_modules/core-js/internals/iterator-close.js"),F=A("./node_modules/core-js/internals/iterator-helper-throws-on-invalid-iterator.js"),D=A("./node_modules/core-js/internals/iterator-helper-without-closing-on-early-error.js"),P=A("./node_modules/core-js/internals/is-pure.js"),K=!P&&!F("map",function(){}),L=!P&&!K&&D("map",TypeError),Q=P||K||L,R=N(function(){var M=this.iterator,O=b(v(this.next,M)),H=this.done=!!O.done;if(!H)return E(M,this.mapper,[O.value,this.counter++],!0)});m({target:"Iterator",proto:!0,real:!0,forced:Q},{map:function(O){b(this);try{g(O)}catch(H){I(this,"throw",H)}return L?v(L,this,O):new R(S(this),{mapper:O})}})}),"./node_modules/core-js/modules/es.json.stringify.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/get-built-in.js"),g=A("./node_modules/core-js/internals/function-apply.js"),b=A("./node_modules/core-js/internals/function-call.js"),S=A("./node_modules/core-js/internals/function-uncurry-this.js"),N=A("./node_modules/core-js/internals/fails.js"),E=A("./node_modules/core-js/internals/is-callable.js"),I=A("./node_modules/core-js/internals/is-symbol.js"),F=A("./node_modules/core-js/internals/array-slice.js"),D=A("./node_modules/core-js/internals/get-json-replacer-function.js"),P=A("./node_modules/core-js/internals/symbol-constructor-detection.js"),K=String,L=v("JSON","stringify"),Q=S(/./.exec),R=S("".charAt),M=S("".charCodeAt),O=S("".replace),H=S(1.1.toString),G=/[\uD800-\uDFFF]/g,ie=/^[\uD800-\uDBFF]$/,ge=/^[\uDC00-\uDFFF]$/,J=!P||N(function(){var je=v("Symbol")("stringify detection");return L([je])!=="[null]"||L({a:je})!=="{}"||L(Object(je))!=="{}"}),re=N(function(){return L("\uDF06\uD834")!=='"\\udf06\\ud834"'||L("\uDEAD")!=='"\\udead"'}),se=function(je,ne){var V=F(arguments),W=D(ne);if(!(!E(W)&&(je===void 0||I(je))))return V[1]=function(ae,ce){if(E(W)&&(ce=b(W,this,K(ae),ce)),!I(ce))return ce},g(L,null,V)},he=function(je,ne,V){var W=R(V,ne-1),ae=R(V,ne+1);return Q(ie,je)&&!Q(ge,ae)||Q(ge,je)&&!Q(ie,W)?"\\u"+H(M(je,0),16):je};L&&m({target:"JSON",stat:!0,arity:3,forced:J||re},{stringify:function(ne,V,W){var ae=F(arguments),ce=g(J?se:L,null,ae);return re&&typeof ce=="string"?O(ce,G,he):ce}})}),"./node_modules/core-js/modules/es.number.constructor.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/is-pure.js"),g=A("./node_modules/core-js/internals/descriptors.js"),b=A("./node_modules/core-js/internals/global-this.js"),S=A("./node_modules/core-js/internals/path.js"),N=A("./node_modules/core-js/internals/function-uncurry-this.js"),E=A("./node_modules/core-js/internals/is-forced.js"),I=A("./node_modules/core-js/internals/has-own-property.js"),F=A("./node_modules/core-js/internals/inherit-if-required.js"),D=A("./node_modules/core-js/internals/object-is-prototype-of.js"),P=A("./node_modules/core-js/internals/is-symbol.js"),K=A("./node_modules/core-js/internals/to-primitive.js"),L=A("./node_modules/core-js/internals/fails.js"),Q=A("./node_modules/core-js/internals/object-get-own-property-names.js").f,R=A("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,M=A("./node_modules/core-js/internals/object-define-property.js").f,O=A("./node_modules/core-js/internals/this-number-value.js"),H=A("./node_modules/core-js/internals/string-trim.js").trim,G="Number",ie=b[G],ge=S[G],J=ie.prototype,re=b.TypeError,se=N("".slice),he=N("".charCodeAt),je=function(Ae){var pe=K(Ae,"number");return typeof pe=="bigint"?pe:ne(pe)},ne=function(Ae){var pe=K(Ae,"number"),Se,xe,Ie,_e,De,st,He,de;if(P(pe))throw new re("Cannot convert a Symbol value to a number");if(typeof pe=="string"&&pe.length>2){if(pe=H(pe),Se=he(pe,0),Se===43||Se===45){if(xe=he(pe,2),xe===88||xe===120)return NaN}else if(Se===48){switch(he(pe,1)){case 66:case 98:Ie=2,_e=49;break;case 79:case 111:Ie=8,_e=55;break;default:return+pe}for(De=se(pe,2),st=De.length,He=0;He<st;He++)if(de=he(De,He),de<48||de>_e)return NaN;return parseInt(De,Ie)}}return+pe},V=E(G,!ie(" 0o1")||!ie("0b1")||ie("+0x1")),W=function(Ae){return D(J,Ae)&&L(function(){O(Ae)})},ae=function(pe){var Se=arguments.length<1?0:ie(je(pe));return W(this)?F(Object(Se),this,ae):Se};ae.prototype=J,V&&!v&&(J.constructor=ae),m({global:!0,constructor:!0,wrap:!0,forced:V},{Number:ae});var ce=function(Ae,pe){for(var Se=g?Q(pe):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),xe=0,Ie;Se.length>xe;xe++)I(pe,Ie=Se[xe])&&!I(Ae,Ie)&&M(Ae,Ie,R(pe,Ie))};v&&ge&&ce(S[G],ge),(V||v)&&ce(S[G],ie)}),"./node_modules/core-js/modules/es.object.assign.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/object-assign.js");m({target:"Object",stat:!0,arity:2,forced:Object.assign!==v},{assign:v})}),"./node_modules/core-js/modules/es.object.get-own-property-symbols.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/symbol-constructor-detection.js"),g=A("./node_modules/core-js/internals/fails.js"),b=A("./node_modules/core-js/internals/object-get-own-property-symbols.js"),S=A("./node_modules/core-js/internals/to-object.js"),N=!v||g(function(){b.f(1)});m({target:"Object",stat:!0,forced:N},{getOwnPropertySymbols:function(I){var F=b.f;return F?F(S(I)):[]}})}),"./node_modules/core-js/modules/es.object.keys.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/to-object.js"),g=A("./node_modules/core-js/internals/object-keys.js"),b=A("./node_modules/core-js/internals/fails.js"),S=b(function(){g(1)});m({target:"Object",stat:!0,forced:S},{keys:function(E){return g(v(E))}})}),"./node_modules/core-js/modules/es.object.to-string.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/to-string-tag-support.js"),v=A("./node_modules/core-js/internals/define-built-in.js"),g=A("./node_modules/core-js/internals/object-to-string.js");m||v(Object.prototype,"toString",g,{unsafe:!0})}),"./node_modules/core-js/modules/es.promise.all.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/a-callable.js"),b=A("./node_modules/core-js/internals/new-promise-capability.js"),S=A("./node_modules/core-js/internals/perform.js"),N=A("./node_modules/core-js/internals/iterate.js"),E=A("./node_modules/core-js/internals/promise-statics-incorrect-iteration.js");m({target:"Promise",stat:!0,forced:E},{all:function(F){var D=this,P=b.f(D),K=P.resolve,L=P.reject,Q=S(function(){var R=g(D.resolve),M=[],O=0,H=1;N(F,function(G){var ie=O++,ge=!1;H++,v(R,D,G).then(function(J){ge||(ge=!0,M[ie]=J,--H||K(M))},L)}),--H||K(M)});return Q.error&&L(Q.value),P.promise}})}),"./node_modules/core-js/modules/es.promise.catch.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/is-pure.js"),g=A("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR,b=A("./node_modules/core-js/internals/promise-native-constructor.js"),S=A("./node_modules/core-js/internals/get-built-in.js"),N=A("./node_modules/core-js/internals/is-callable.js"),E=A("./node_modules/core-js/internals/define-built-in.js"),I=b&&b.prototype;if(m({target:"Promise",proto:!0,forced:g,real:!0},{catch:function(D){return this.then(void 0,D)}}),!v&&N(b)){var F=S("Promise").prototype.catch;I.catch!==F&&E(I,"catch",F,{unsafe:!0})}}),"./node_modules/core-js/modules/es.promise.constructor.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/is-pure.js"),g=A("./node_modules/core-js/internals/environment-is-node.js"),b=A("./node_modules/core-js/internals/global-this.js"),S=A("./node_modules/core-js/internals/path.js"),N=A("./node_modules/core-js/internals/function-call.js"),E=A("./node_modules/core-js/internals/define-built-in.js"),I=A("./node_modules/core-js/internals/object-set-prototype-of.js"),F=A("./node_modules/core-js/internals/set-to-string-tag.js"),D=A("./node_modules/core-js/internals/set-species.js"),P=A("./node_modules/core-js/internals/a-callable.js"),K=A("./node_modules/core-js/internals/is-callable.js"),L=A("./node_modules/core-js/internals/is-object.js"),Q=A("./node_modules/core-js/internals/an-instance.js"),R=A("./node_modules/core-js/internals/species-constructor.js"),M=A("./node_modules/core-js/internals/task.js").set,O=A("./node_modules/core-js/internals/microtask.js"),H=A("./node_modules/core-js/internals/host-report-errors.js"),G=A("./node_modules/core-js/internals/perform.js"),ie=A("./node_modules/core-js/internals/queue.js"),ge=A("./node_modules/core-js/internals/internal-state.js"),J=A("./node_modules/core-js/internals/promise-native-constructor.js"),re=A("./node_modules/core-js/internals/promise-constructor-detection.js"),se=A("./node_modules/core-js/internals/new-promise-capability.js"),he="Promise",je=re.CONSTRUCTOR,ne=re.REJECTION_EVENT,V=re.SUBCLASSING,W=ge.getterFor(he),ae=ge.set,ce=J&&J.prototype,Ae=J,pe=ce,Se=b.TypeError,xe=b.document,Ie=b.process,_e=se.f,De=_e,st=!!(xe&&xe.createEvent&&b.dispatchEvent),He="unhandledrejection",de="rejectionhandled",rt=0,_t=1,vt=2,qe=1,We=2,dt,Qt,Pt,Gt,sn=function(ze){var ot;return L(ze)&&K(ot=ze.then)?ot:!1},en=function(ze,ot){var ft=ot.value,Lt=ot.state===_t,Ct=Lt?ze.ok:ze.fail,zt=ze.resolve,yn=ze.reject,Tt=ze.domain,ht,Ot,qt;try{Ct?(Lt||(ot.rejection===We&&Ht(ot),ot.rejection=qe),Ct===!0?ht=ft:(Tt&&Tt.enter(),ht=Ct(ft),Tt&&(Tt.exit(),qt=!0)),ht===ze.promise?yn(new Se("Promise-chain cycle")):(Ot=sn(ht))?N(Ot,ht,zt,yn):zt(ht)):yn(ft)}catch(on){Tt&&!qt&&Tt.exit(),yn(on)}},Nn=function(ze,ot){ze.notified||(ze.notified=!0,O(function(){for(var ft=ze.reactions,Lt;Lt=ft.get();)en(Lt,ze);ze.notified=!1,ot&&!ze.rejection&&St(ze)}))},xt=function(ze,ot,ft){var Lt,Ct;st?(Lt=xe.createEvent("Event"),Lt.promise=ot,Lt.reason=ft,Lt.initEvent(ze,!1,!0),b.dispatchEvent(Lt)):Lt={promise:ot,reason:ft},!ne&&(Ct=b["on"+ze])?Ct(Lt):ze===He&&H("Unhandled promise rejection",ft)},St=function(ze){N(M,b,function(){var ot=ze.facade,ft=ze.value,Lt=$t(ze),Ct;if(Lt&&(Ct=G(function(){g?Ie.emit("unhandledRejection",ft,ot):xt(He,ot,ft)}),ze.rejection=g||$t(ze)?We:qe,Ct.error))throw Ct.value})},$t=function(ze){return ze.rejection!==qe&&!ze.parent},Ht=function(ze){N(M,b,function(){var ot=ze.facade;g?Ie.emit("rejectionHandled",ot):xt(de,ot,ze.value)})},Rn=function(ze,ot,ft){return function(Lt){ze(ot,Lt,ft)}},Ke=function(ze,ot,ft){ze.done||(ze.done=!0,ft&&(ze=ft),ze.value=ot,ze.state=vt,Nn(ze,!0))},yt=function(ze,ot,ft){if(!ze.done){ze.done=!0,ft&&(ze=ft);try{if(ze.facade===ot)throw new Se("Promise can't be resolved itself");var Lt=sn(ot);Lt?O(function(){var Ct={done:!1};try{N(Lt,ot,Rn(yt,Ct,ze),Rn(Ke,Ct,ze))}catch(zt){Ke(Ct,zt,ze)}}):(ze.value=ot,ze.state=_t,Nn(ze,!1))}catch(Ct){Ke({done:!1},Ct,ze)}}};if(je&&(Ae=function(ot){Q(this,pe),P(ot),N(dt,this);var ft=W(this);try{ot(Rn(yt,ft),Rn(Ke,ft))}catch(Lt){Ke(ft,Lt)}},pe=Ae.prototype,dt=function(ot){ae(this,{type:he,done:!1,notified:!1,parent:!1,reactions:new ie,rejection:!1,state:rt,value:null})},dt.prototype=E(pe,"then",function(ot,ft){var Lt=W(this),Ct=_e(R(this,Ae));return Lt.parent=!0,Ct.ok=K(ot)?ot:!0,Ct.fail=K(ft)&&ft,Ct.domain=g?Ie.domain:void 0,Lt.state===rt?Lt.reactions.add(Ct):O(function(){en(Ct,Lt)}),Ct.promise}),Qt=function(){var ze=new dt,ot=W(ze);this.promise=ze,this.resolve=Rn(yt,ot),this.reject=Rn(Ke,ot)},se.f=_e=function(ze){return ze===Ae||ze===Pt?new Qt(ze):De(ze)},!v&&K(J)&&ce!==Object.prototype)){Gt=ce.then,V||E(ce,"then",function(ot,ft){var Lt=this;return new Ae(function(Ct,zt){N(Gt,Lt,Ct,zt)}).then(ot,ft)},{unsafe:!0});try{delete ce.constructor}catch{}I&&I(ce,pe)}m({global:!0,constructor:!0,wrap:!0,forced:je},{Promise:Ae}),Pt=S.Promise,F(Ae,he,!1,!0),D(he)}),"./node_modules/core-js/modules/es.promise.js":(function(u,f,A){A("./node_modules/core-js/modules/es.promise.constructor.js"),A("./node_modules/core-js/modules/es.promise.all.js"),A("./node_modules/core-js/modules/es.promise.catch.js"),A("./node_modules/core-js/modules/es.promise.race.js"),A("./node_modules/core-js/modules/es.promise.reject.js"),A("./node_modules/core-js/modules/es.promise.resolve.js")}),"./node_modules/core-js/modules/es.promise.race.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/a-callable.js"),b=A("./node_modules/core-js/internals/new-promise-capability.js"),S=A("./node_modules/core-js/internals/perform.js"),N=A("./node_modules/core-js/internals/iterate.js"),E=A("./node_modules/core-js/internals/promise-statics-incorrect-iteration.js");m({target:"Promise",stat:!0,forced:E},{race:function(F){var D=this,P=b.f(D),K=P.reject,L=S(function(){var Q=g(D.resolve);N(F,function(R){v(Q,D,R).then(P.resolve,K)})});return L.error&&K(L.value),P.promise}})}),"./node_modules/core-js/modules/es.promise.reject.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/new-promise-capability.js"),g=A("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR;m({target:"Promise",stat:!0,forced:g},{reject:function(S){var N=v.f(this),E=N.reject;return E(S),N.promise}})}),"./node_modules/core-js/modules/es.promise.resolve.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/get-built-in.js"),g=A("./node_modules/core-js/internals/is-pure.js"),b=A("./node_modules/core-js/internals/promise-native-constructor.js"),S=A("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR,N=A("./node_modules/core-js/internals/promise-resolve.js"),E=v("Promise"),I=g&&!S;m({target:"Promise",stat:!0,forced:g||S},{resolve:function(D){return N(I&&this===E?b:this,D)}})}),"./node_modules/core-js/modules/es.regexp.exec.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/regexp-exec.js");m({target:"RegExp",proto:!0,forced:/./.exec!==v},{exec:v})}),"./node_modules/core-js/modules/es.regexp.test.js":(function(u,f,A){A("./node_modules/core-js/modules/es.regexp.exec.js");var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/is-callable.js"),b=A("./node_modules/core-js/internals/an-object.js"),S=A("./node_modules/core-js/internals/to-string.js"),N=(function(){var I=!1,F=/[ac]/;return F.exec=function(){return I=!0,/./.exec.apply(this,arguments)},F.test("abc")===!0&&I})(),E=/./.test;m({target:"RegExp",proto:!0,forced:!N},{test:function(I){var F=b(this),D=S(I),P=F.exec;if(!g(P))return v(E,F,D);var K=v(P,F,D);return K===null?!1:(b(K),!0)}})}),"./node_modules/core-js/modules/es.regexp.to-string.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-name.js").PROPER,v=A("./node_modules/core-js/internals/define-built-in.js"),g=A("./node_modules/core-js/internals/an-object.js"),b=A("./node_modules/core-js/internals/to-string.js"),S=A("./node_modules/core-js/internals/fails.js"),N=A("./node_modules/core-js/internals/regexp-get-flags.js"),E="toString",I=RegExp.prototype,F=I[E],D=S(function(){return F.call({source:"a",flags:"b"})!=="/a/b"}),P=m&&F.name!==E;(D||P)&&v(I,E,function(){var L=g(this),Q=b(L.source),R=b(N(L));return"/"+Q+"/"+R},{unsafe:!0})}),"./node_modules/core-js/modules/es.set.constructor.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/collection.js"),v=A("./node_modules/core-js/internals/collection-strong.js");m("Set",function(g){return function(){return g(this,arguments.length?arguments[0]:void 0)}},v)}),"./node_modules/core-js/modules/es.set.js":(function(u,f,A){A("./node_modules/core-js/modules/es.set.constructor.js")}),"./node_modules/core-js/modules/es.string.iterator.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/string-multibyte.js").charAt,v=A("./node_modules/core-js/internals/to-string.js"),g=A("./node_modules/core-js/internals/internal-state.js"),b=A("./node_modules/core-js/internals/iterator-define.js"),S=A("./node_modules/core-js/internals/create-iter-result-object.js"),N="String Iterator",E=g.set,I=g.getterFor(N);b(String,"String",function(F){E(this,{type:N,string:v(F),index:0})},function(){var D=I(this),P=D.string,K=D.index,L;return K>=P.length?S(void 0,!0):(L=m(P,K),D.index+=L.length,S(L,!1))})}),"./node_modules/core-js/modules/es.string.link.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/create-html.js"),g=A("./node_modules/core-js/internals/string-html-forced.js");m({target:"String",proto:!0,forced:g("link")},{link:function(S){return v(this,"a","href",S)}})}),"./node_modules/core-js/modules/es.symbol.constructor.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/global-this.js"),g=A("./node_modules/core-js/internals/function-call.js"),b=A("./node_modules/core-js/internals/function-uncurry-this.js"),S=A("./node_modules/core-js/internals/is-pure.js"),N=A("./node_modules/core-js/internals/descriptors.js"),E=A("./node_modules/core-js/internals/symbol-constructor-detection.js"),I=A("./node_modules/core-js/internals/fails.js"),F=A("./node_modules/core-js/internals/has-own-property.js"),D=A("./node_modules/core-js/internals/object-is-prototype-of.js"),P=A("./node_modules/core-js/internals/an-object.js"),K=A("./node_modules/core-js/internals/to-indexed-object.js"),L=A("./node_modules/core-js/internals/to-property-key.js"),Q=A("./node_modules/core-js/internals/to-string.js"),R=A("./node_modules/core-js/internals/create-property-descriptor.js"),M=A("./node_modules/core-js/internals/object-create.js"),O=A("./node_modules/core-js/internals/object-keys.js"),H=A("./node_modules/core-js/internals/object-get-own-property-names.js"),G=A("./node_modules/core-js/internals/object-get-own-property-names-external.js"),ie=A("./node_modules/core-js/internals/object-get-own-property-symbols.js"),ge=A("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),J=A("./node_modules/core-js/internals/object-define-property.js"),re=A("./node_modules/core-js/internals/object-define-properties.js"),se=A("./node_modules/core-js/internals/object-property-is-enumerable.js"),he=A("./node_modules/core-js/internals/define-built-in.js"),je=A("./node_modules/core-js/internals/define-built-in-accessor.js"),ne=A("./node_modules/core-js/internals/shared.js"),V=A("./node_modules/core-js/internals/shared-key.js"),W=A("./node_modules/core-js/internals/hidden-keys.js"),ae=A("./node_modules/core-js/internals/uid.js"),ce=A("./node_modules/core-js/internals/well-known-symbol.js"),Ae=A("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),pe=A("./node_modules/core-js/internals/well-known-symbol-define.js"),Se=A("./node_modules/core-js/internals/symbol-define-to-primitive.js"),xe=A("./node_modules/core-js/internals/set-to-string-tag.js"),Ie=A("./node_modules/core-js/internals/internal-state.js"),_e=A("./node_modules/core-js/internals/array-iteration.js").forEach,De=V("hidden"),st="Symbol",He="prototype",de=Ie.set,rt=Ie.getterFor(st),_t=Object[He],vt=v.Symbol,qe=vt&&vt[He],We=v.RangeError,dt=v.TypeError,Qt=v.QObject,Pt=ge.f,Gt=J.f,sn=G.f,en=se.f,Nn=b([].push),xt=ne("symbols"),St=ne("op-symbols"),$t=ne("wks"),Ht=!Qt||!Qt[He]||!Qt[He].findChild,Rn=function(Tt,ht,Ot){var qt=Pt(_t,ht);qt&&delete _t[ht],Gt(Tt,ht,Ot),qt&&Tt!==_t&&Gt(_t,ht,qt)},Ke=N&&I(function(){return M(Gt({},"a",{get:function(){return Gt(this,"a",{value:7}).a}})).a!==7})?Rn:Gt,yt=function(Tt,ht){var Ot=xt[Tt]=M(qe);return de(Ot,{type:st,tag:Tt,description:ht}),N||(Ot.description=ht),Ot},ze=function(ht,Ot,qt){ht===_t&&ze(St,Ot,qt),P(ht);var on=L(Ot);return P(qt),F(xt,on)?(qt.enumerable?(F(ht,De)&&ht[De][on]&&(ht[De][on]=!1),qt=M(qt,{enumerable:R(0,!1)})):(F(ht,De)||Gt(ht,De,R(1,M(null))),ht[De][on]=!0),Ke(ht,on,qt)):Gt(ht,on,qt)},ot=function(ht,Ot){P(ht);var qt=K(Ot),on=O(qt).concat(yn(qt));return _e(on,function(cs){(!N||g(Lt,qt,cs))&&ze(ht,cs,qt[cs])}),ht},ft=function(ht,Ot){return Ot===void 0?M(ht):ot(M(ht),Ot)},Lt=function(ht){var Ot=L(ht),qt=g(en,this,Ot);return this===_t&&F(xt,Ot)&&!F(St,Ot)?!1:qt||!F(this,Ot)||!F(xt,Ot)||F(this,De)&&this[De][Ot]?qt:!0},Ct=function(ht,Ot){var qt=K(ht),on=L(Ot);if(!(qt===_t&&F(xt,on)&&!F(St,on))){var cs=Pt(qt,on);return cs&&F(xt,on)&&!(F(qt,De)&&qt[De][on])&&(cs.enumerable=!0),cs}},zt=function(ht){var Ot=sn(K(ht)),qt=[];return _e(Ot,function(on){!F(xt,on)&&!F(W,on)&&Nn(qt,on)}),qt},yn=function(Tt){var ht=Tt===_t,Ot=sn(ht?St:K(Tt)),qt=[];return _e(Ot,function(on){F(xt,on)&&(!ht||F(_t,on))&&Nn(qt,xt[on])}),qt};E||(vt=function(){if(D(qe,this))throw new dt("Symbol is not a constructor");var ht=!arguments.length||arguments[0]===void 0?void 0:Q(arguments[0]),Ot=ae(ht),qt=function(on){var cs=this===void 0?v:this;cs===_t&&g(qt,St,on),F(cs,De)&&F(cs[De],Ot)&&(cs[De][Ot]=!1);var js=R(1,on);try{Ke(cs,Ot,js)}catch(cn){if(!(cn instanceof We))throw cn;Rn(cs,Ot,js)}};return N&&Ht&&Ke(_t,Ot,{configurable:!0,set:qt}),yt(Ot,ht)},qe=vt[He],he(qe,"toString",function(){return rt(this).tag}),he(vt,"withoutSetter",function(Tt){return yt(ae(Tt),Tt)}),se.f=Lt,J.f=ze,re.f=ot,ge.f=Ct,H.f=G.f=zt,ie.f=yn,Ae.f=function(Tt){return yt(ce(Tt),Tt)},N&&(je(qe,"description",{configurable:!0,get:function(){return rt(this).description}}),S||he(_t,"propertyIsEnumerable",Lt,{unsafe:!0}))),m({global:!0,constructor:!0,wrap:!0,forced:!E,sham:!E},{Symbol:vt}),_e(O($t),function(Tt){pe(Tt)}),m({target:st,stat:!0,forced:!E},{useSetter:function(){Ht=!0},useSimple:function(){Ht=!1}}),m({target:"Object",stat:!0,forced:!E,sham:!N},{create:ft,defineProperty:ze,defineProperties:ot,getOwnPropertyDescriptor:Ct}),m({target:"Object",stat:!0,forced:!E},{getOwnPropertyNames:zt}),Se(),xe(vt,st),W[De]=!0}),"./node_modules/core-js/modules/es.symbol.description.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/descriptors.js"),g=A("./node_modules/core-js/internals/global-this.js"),b=A("./node_modules/core-js/internals/function-uncurry-this.js"),S=A("./node_modules/core-js/internals/has-own-property.js"),N=A("./node_modules/core-js/internals/is-callable.js"),E=A("./node_modules/core-js/internals/object-is-prototype-of.js"),I=A("./node_modules/core-js/internals/to-string.js"),F=A("./node_modules/core-js/internals/define-built-in-accessor.js"),D=A("./node_modules/core-js/internals/copy-constructor-properties.js"),P=g.Symbol,K=P&&P.prototype;if(v&&N(P)&&(!("description"in K)||P().description!==void 0)){var L={},Q=function(){var J=arguments.length<1||arguments[0]===void 0?void 0:I(arguments[0]),re=E(K,this)?new P(J):J===void 0?P():P(J);return J===""&&(L[re]=!0),re};D(Q,P),Q.prototype=K,K.constructor=Q;var R=String(P("description detection"))==="Symbol(description detection)",M=b(K.valueOf),O=b(K.toString),H=/^Symbol\((.*)\)[^)]+$/,G=b("".replace),ie=b("".slice);F(K,"description",{configurable:!0,get:function(){var J=M(this);if(S(L,J))return"";var re=O(J),se=R?ie(re,7,-1):G(re,H,"$1");return se===""?void 0:se}}),m({global:!0,constructor:!0,forced:!0},{Symbol:Q})}}),"./node_modules/core-js/modules/es.symbol.for.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/get-built-in.js"),g=A("./node_modules/core-js/internals/has-own-property.js"),b=A("./node_modules/core-js/internals/to-string.js"),S=A("./node_modules/core-js/internals/shared.js"),N=A("./node_modules/core-js/internals/symbol-registry-detection.js"),E=S("string-to-symbol-registry"),I=S("symbol-to-string-registry");m({target:"Symbol",stat:!0,forced:!N},{for:function(F){var D=b(F);if(g(E,D))return E[D];var P=v("Symbol")(D);return E[D]=P,I[P]=D,P}})}),"./node_modules/core-js/modules/es.symbol.iterator.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/well-known-symbol-define.js");m("iterator")}),"./node_modules/core-js/modules/es.symbol.js":(function(u,f,A){A("./node_modules/core-js/modules/es.symbol.constructor.js"),A("./node_modules/core-js/modules/es.symbol.for.js"),A("./node_modules/core-js/modules/es.symbol.key-for.js"),A("./node_modules/core-js/modules/es.json.stringify.js"),A("./node_modules/core-js/modules/es.object.get-own-property-symbols.js")}),"./node_modules/core-js/modules/es.symbol.key-for.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/has-own-property.js"),g=A("./node_modules/core-js/internals/is-symbol.js"),b=A("./node_modules/core-js/internals/try-to-string.js"),S=A("./node_modules/core-js/internals/shared.js"),N=A("./node_modules/core-js/internals/symbol-registry-detection.js"),E=S("symbol-to-string-registry");m({target:"Symbol",stat:!0,forced:!N},{keyFor:function(F){if(!g(F))throw new TypeError(b(F)+" is not a symbol");if(v(E,F))return E[F]}})}),"./node_modules/core-js/modules/esnext.iterator.constructor.js":(function(u,f,A){A("./node_modules/core-js/modules/es.iterator.constructor.js")}),"./node_modules/core-js/modules/esnext.iterator.for-each.js":(function(u,f,A){A("./node_modules/core-js/modules/es.iterator.for-each.js")}),"./node_modules/core-js/modules/esnext.iterator.map.js":(function(u,f,A){A("./node_modules/core-js/modules/es.iterator.map.js")}),"./node_modules/core-js/modules/esnext.set.add-all.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/a-set.js"),g=A("./node_modules/core-js/internals/set-helpers.js").add;m({target:"Set",proto:!0,real:!0,forced:!0},{addAll:function(){for(var S=v(this),N=0,E=arguments.length;N<E;N++)g(S,arguments[N]);return S}})}),"./node_modules/core-js/modules/esnext.set.delete-all.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/a-set.js"),g=A("./node_modules/core-js/internals/set-helpers.js").remove;m({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var S=v(this),N=!0,E,I=0,F=arguments.length;I<F;I++)E=g(S,arguments[I]),N=N&&E;return!!N}})}),"./node_modules/core-js/modules/esnext.set.difference.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/to-set-like.js"),b=A("./node_modules/core-js/internals/set-difference.js");m({target:"Set",proto:!0,real:!0,forced:!0},{difference:function(N){return v(b,this,g(N))}})}),"./node_modules/core-js/modules/esnext.set.every.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/function-bind-context.js"),g=A("./node_modules/core-js/internals/a-set.js"),b=A("./node_modules/core-js/internals/set-iterate.js");m({target:"Set",proto:!0,real:!0,forced:!0},{every:function(N){var E=g(this),I=v(N,arguments.length>1?arguments[1]:void 0);return b(E,function(F){if(!I(F,F,E))return!1},!0)!==!1}})}),"./node_modules/core-js/modules/esnext.set.filter.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/function-bind-context.js"),g=A("./node_modules/core-js/internals/a-set.js"),b=A("./node_modules/core-js/internals/set-helpers.js"),S=A("./node_modules/core-js/internals/set-iterate.js"),N=b.Set,E=b.add;m({target:"Set",proto:!0,real:!0,forced:!0},{filter:function(F){var D=g(this),P=v(F,arguments.length>1?arguments[1]:void 0),K=new N;return S(D,function(L){P(L,L,D)&&E(K,L)}),K}})}),"./node_modules/core-js/modules/esnext.set.find.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/function-bind-context.js"),g=A("./node_modules/core-js/internals/a-set.js"),b=A("./node_modules/core-js/internals/set-iterate.js");m({target:"Set",proto:!0,real:!0,forced:!0},{find:function(N){var E=g(this),I=v(N,arguments.length>1?arguments[1]:void 0),F=b(E,function(D){if(I(D,D,E))return{value:D}},!0);return F&&F.value}})}),"./node_modules/core-js/modules/esnext.set.intersection.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/to-set-like.js"),b=A("./node_modules/core-js/internals/set-intersection.js");m({target:"Set",proto:!0,real:!0,forced:!0},{intersection:function(N){return v(b,this,g(N))}})}),"./node_modules/core-js/modules/esnext.set.is-disjoint-from.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/to-set-like.js"),b=A("./node_modules/core-js/internals/set-is-disjoint-from.js");m({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:function(N){return v(b,this,g(N))}})}),"./node_modules/core-js/modules/esnext.set.is-subset-of.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/to-set-like.js"),b=A("./node_modules/core-js/internals/set-is-subset-of.js");m({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:function(N){return v(b,this,g(N))}})}),"./node_modules/core-js/modules/esnext.set.is-superset-of.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/to-set-like.js"),b=A("./node_modules/core-js/internals/set-is-superset-of.js");m({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:function(N){return v(b,this,g(N))}})}),"./node_modules/core-js/modules/esnext.set.join.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/function-uncurry-this.js"),g=A("./node_modules/core-js/internals/a-set.js"),b=A("./node_modules/core-js/internals/set-iterate.js"),S=A("./node_modules/core-js/internals/to-string.js"),N=v([].join),E=v([].push);m({target:"Set",proto:!0,real:!0,forced:!0},{join:function(F){var D=g(this),P=F===void 0?",":S(F),K=[];return b(D,function(L){E(K,L)}),N(K,P)}})}),"./node_modules/core-js/modules/esnext.set.map.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/function-bind-context.js"),g=A("./node_modules/core-js/internals/a-set.js"),b=A("./node_modules/core-js/internals/set-helpers.js"),S=A("./node_modules/core-js/internals/set-iterate.js"),N=b.Set,E=b.add;m({target:"Set",proto:!0,real:!0,forced:!0},{map:function(F){var D=g(this),P=v(F,arguments.length>1?arguments[1]:void 0),K=new N;return S(D,function(L){E(K,P(L,L,D))}),K}})}),"./node_modules/core-js/modules/esnext.set.reduce.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/a-callable.js"),g=A("./node_modules/core-js/internals/a-set.js"),b=A("./node_modules/core-js/internals/set-iterate.js"),S=TypeError;m({target:"Set",proto:!0,real:!0,forced:!0},{reduce:function(E){var I=g(this),F=arguments.length<2,D=F?void 0:arguments[1];if(v(E),b(I,function(P){F?(F=!1,D=P):D=E(D,P,P,I)}),F)throw new S("Reduce of empty set with no initial value");return D}})}),"./node_modules/core-js/modules/esnext.set.some.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/function-bind-context.js"),g=A("./node_modules/core-js/internals/a-set.js"),b=A("./node_modules/core-js/internals/set-iterate.js");m({target:"Set",proto:!0,real:!0,forced:!0},{some:function(N){var E=g(this),I=v(N,arguments.length>1?arguments[1]:void 0);return b(E,function(F){if(I(F,F,E))return!0},!0)===!0}})}),"./node_modules/core-js/modules/esnext.set.symmetric-difference.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/to-set-like.js"),b=A("./node_modules/core-js/internals/set-symmetric-difference.js");m({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:function(N){return v(b,this,g(N))}})}),"./node_modules/core-js/modules/esnext.set.union.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/to-set-like.js"),b=A("./node_modules/core-js/internals/set-union.js");m({target:"Set",proto:!0,real:!0,forced:!0},{union:function(N){return v(b,this,g(N))}})}),"./node_modules/core-js/modules/web.dom-collections.for-each.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),v=A("./node_modules/core-js/internals/dom-iterables.js"),g=A("./node_modules/core-js/internals/dom-token-list-prototype.js"),b=A("./node_modules/core-js/internals/array-for-each.js"),S=A("./node_modules/core-js/internals/create-non-enumerable-property.js"),N=function(I){if(I&&I.forEach!==b)try{S(I,"forEach",b)}catch{I.forEach=b}};for(var E in v)v[E]&&N(m[E]&&m[E].prototype);N(g)}),"./node_modules/core-js/modules/web.dom-collections.iterator.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),v=A("./node_modules/core-js/internals/dom-iterables.js"),g=A("./node_modules/core-js/internals/dom-token-list-prototype.js"),b=A("./node_modules/core-js/modules/es.array.iterator.js"),S=A("./node_modules/core-js/internals/create-non-enumerable-property.js"),N=A("./node_modules/core-js/internals/set-to-string-tag.js"),E=A("./node_modules/core-js/internals/well-known-symbol.js"),I=E("iterator"),F=b.values,D=function(K,L){if(K){if(K[I]!==F)try{S(K,I,F)}catch{K[I]=F}if(N(K,L,!0),v[L]){for(var Q in b)if(K[Q]!==b[Q])try{S(K,Q,b[Q])}catch{K[Q]=b[Q]}}}};for(var P in v)D(m[P]&&m[P].prototype,P);D(g,"DOMTokenList")}),"./node_modules/core-js/modules/web.set-interval.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/global-this.js"),g=A("./node_modules/core-js/internals/schedulers-fix.js"),b=g(v.setInterval,!0);m({global:!0,bind:!0,forced:v.setInterval!==b},{setInterval:b})}),"./node_modules/core-js/modules/web.set-timeout.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/global-this.js"),g=A("./node_modules/core-js/internals/schedulers-fix.js"),b=g(v.setTimeout,!0);m({global:!0,bind:!0,forced:v.setTimeout!==b},{setTimeout:b})}),"./node_modules/core-js/modules/web.timers.js":(function(u,f,A){A("./node_modules/core-js/modules/web.set-interval.js"),A("./node_modules/core-js/modules/web.set-timeout.js")}),"./src/plugin/hyperlinks.js":(function(u,f,A){A.r(f),A("./node_modules/core-js/modules/es.object.to-string.js"),A("./node_modules/core-js/modules/es.string.link.js"),A("./node_modules/core-js/modules/esnext.iterator.constructor.js"),A("./node_modules/core-js/modules/esnext.iterator.for-each.js"),A("./node_modules/core-js/modules/web.dom-collections.for-each.js");var m=A("./src/worker.js"),v=A("./src/utils.js"),g=[],b={toContainer:m.default.prototype.toContainer,toPdf:m.default.prototype.toPdf};m.default.prototype.toContainer=function(){return b.toContainer.call(this).then(function(){if(this.opt.enableLinks){var E=this.prop.container,I=E.querySelectorAll("a"),F=(0,v.unitConvert)(E.getBoundingClientRect(),this.prop.pageSize.k);g=[],Array.prototype.forEach.call(I,function(D){for(var P=D.getClientRects(),K=0;K<P.length;K++){var L=(0,v.unitConvert)(P[K],this.prop.pageSize.k);L.left-=F.left,L.top-=F.top;var Q=Math.floor(L.top/this.prop.pageSize.inner.height)+1,R=this.opt.margin[0]+L.top%this.prop.pageSize.inner.height,M=this.opt.margin[1]+L.left;g.push({page:Q,top:R,left:M,clientRect:L,link:D})}},this)}})},m.default.prototype.toPdf=function(){return b.toPdf.call(this).then(function(){if(this.opt.enableLinks){g.forEach(function(I){this.prop.pdf.setPage(I.page),this.prop.pdf.link(I.left,I.top,I.clientRect.width,I.clientRect.height,{url:I.link.href})},this);var E=this.prop.pdf.internal.getNumberOfPages();this.prop.pdf.setPage(E)}})}}),"./src/plugin/jspdf-plugin.js":(function(u,f,A){A.r(f),A("./node_modules/core-js/modules/es.symbol.js"),A("./node_modules/core-js/modules/es.symbol.description.js"),A("./node_modules/core-js/modules/es.symbol.iterator.js"),A("./node_modules/core-js/modules/es.array.iterator.js"),A("./node_modules/core-js/modules/es.object.to-string.js"),A("./node_modules/core-js/modules/es.string.iterator.js"),A("./node_modules/core-js/modules/web.dom-collections.iterator.js");var m=A("jspdf");function v(g){"@babel/helpers - typeof";return v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},v(g)}m.jsPDF.getPageSize=function(g,b,S){if(v(g)==="object"){var N=g;g=N.orientation,b=N.unit||b,S=N.format||S}b=b||"mm",S=S||"a4",g=(""+(g||"P")).toLowerCase();var E=(""+S).toLowerCase(),I={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(b){case"pt":var F=1;break;case"mm":var F=72/25.4;break;case"cm":var F=72/2.54;break;case"in":var F=72;break;case"px":var F=72/96;break;case"pc":var F=12;break;case"em":var F=12;break;case"ex":var F=6;break;default:throw"Invalid unit: "+b}if(I.hasOwnProperty(E))var D=I[E][1]/F,P=I[E][0]/F;else try{var D=S[1],P=S[0]}catch{throw new Error("Invalid format: "+S)}if(g==="p"||g==="portrait"){if(g="p",P>D){var K=P;P=D,D=K}}else if(g==="l"||g==="landscape"){if(g="l",D>P){var K=P;P=D,D=K}}else throw"Invalid orientation: "+g;var L={width:P,height:D,unit:b,k:F};return L},f.default=m.jsPDF}),"./src/plugin/pagebreaks.js":(function(u,f,A){A.r(f),A("./node_modules/core-js/modules/es.array.concat.js"),A("./node_modules/core-js/modules/es.array.join.js"),A("./node_modules/core-js/modules/es.array.slice.js"),A("./node_modules/core-js/modules/es.object.keys.js"),A("./node_modules/core-js/modules/es.object.to-string.js"),A("./node_modules/core-js/modules/esnext.iterator.constructor.js"),A("./node_modules/core-js/modules/esnext.iterator.for-each.js"),A("./node_modules/core-js/modules/web.dom-collections.for-each.js");var m=A("./src/worker.js"),v=A("./src/utils.js"),g={toContainer:m.default.prototype.toContainer};m.default.template.opt.pagebreak={mode:["css","legacy"],before:[],after:[],avoid:[]},m.default.prototype.toContainer=function(){return g.toContainer.call(this).then(function(){var N=this.prop.container,E=this.prop.pageSize.inner.px.height,I=[].concat(this.opt.pagebreak.mode),F={avoidAll:I.indexOf("avoid-all")!==-1,css:I.indexOf("css")!==-1,legacy:I.indexOf("legacy")!==-1},D={},P=this;["before","after","avoid"].forEach(function(Q){var R=F.avoidAll&&Q==="avoid";D[Q]=R?[]:[].concat(P.opt.pagebreak[Q]||[]),D[Q].length>0&&(D[Q]=Array.prototype.slice.call(N.querySelectorAll(D[Q].join(", "))))});var K=N.querySelectorAll(".html2pdf__page-break");K=Array.prototype.slice.call(K);var L=N.querySelectorAll("*");Array.prototype.forEach.call(L,function(R){var M={before:!1,after:F.legacy&&K.indexOf(R)!==-1,avoid:F.avoidAll};if(F.css){var O=window.getComputedStyle(R),H=["always","page","left","right"],G=["avoid","avoid-page"];M={before:M.before||H.indexOf(O.breakBefore||O.pageBreakBefore)!==-1,after:M.after||H.indexOf(O.breakAfter||O.pageBreakAfter)!==-1,avoid:M.avoid||G.indexOf(O.breakInside||O.pageBreakInside)!==-1}}Object.keys(M).forEach(function(he){M[he]=M[he]||D[he].indexOf(R)!==-1});var ie=R.getBoundingClientRect();if(M.avoid&&!M.before){var ge=Math.floor(ie.top/E),J=Math.floor(ie.bottom/E),re=Math.abs(ie.bottom-ie.top)/E;J!==ge&&re<=1&&(M.before=!0)}if(M.before){var se=(0,v.createElement)("div",{style:{display:"block",height:E-ie.top%E+"px"}});R.parentNode.insertBefore(se,R)}if(M.after){var se=(0,v.createElement)("div",{style:{display:"block",height:E-ie.bottom%E+"px"}});R.parentNode.insertBefore(se,R.nextSibling)}})})}}),"./src/snapdom/clone.js":(function(u,f,A){A.r(f),A.d(f,{deepCloneBasic:function(){return S}}),A("./node_modules/core-js/modules/es.symbol.js"),A("./node_modules/core-js/modules/es.symbol.description.js"),A("./node_modules/core-js/modules/es.symbol.iterator.js"),A("./node_modules/core-js/modules/es.array.concat.js"),A("./node_modules/core-js/modules/es.array.from.js"),A("./node_modules/core-js/modules/es.array.iterator.js"),A("./node_modules/core-js/modules/es.array.slice.js"),A("./node_modules/core-js/modules/es.function.name.js"),A("./node_modules/core-js/modules/es.object.to-string.js"),A("./node_modules/core-js/modules/es.regexp.exec.js"),A("./node_modules/core-js/modules/es.regexp.test.js"),A("./node_modules/core-js/modules/es.regexp.to-string.js"),A("./node_modules/core-js/modules/es.set.js"),A("./node_modules/core-js/modules/es.string.iterator.js"),A("./node_modules/core-js/modules/esnext.set.add-all.js"),A("./node_modules/core-js/modules/esnext.set.delete-all.js"),A("./node_modules/core-js/modules/esnext.set.difference.js"),A("./node_modules/core-js/modules/esnext.set.every.js"),A("./node_modules/core-js/modules/esnext.set.filter.js"),A("./node_modules/core-js/modules/esnext.set.find.js"),A("./node_modules/core-js/modules/esnext.set.intersection.js"),A("./node_modules/core-js/modules/esnext.set.is-disjoint-from.js"),A("./node_modules/core-js/modules/esnext.set.is-subset-of.js"),A("./node_modules/core-js/modules/esnext.set.is-superset-of.js"),A("./node_modules/core-js/modules/esnext.set.join.js"),A("./node_modules/core-js/modules/esnext.set.map.js"),A("./node_modules/core-js/modules/esnext.set.reduce.js"),A("./node_modules/core-js/modules/esnext.set.some.js"),A("./node_modules/core-js/modules/esnext.set.symmetric-difference.js"),A("./node_modules/core-js/modules/esnext.set.union.js"),A("./node_modules/core-js/modules/web.dom-collections.iterator.js");function m(N,E){var I=typeof Symbol<"u"&&N[Symbol.iterator]||N["@@iterator"];if(!I){if(Array.isArray(N)||(I=v(N))||E){I&&(N=I);var F=0,D=function(){};return{s:D,n:function(){return F>=N.length?{done:!0}:{done:!1,value:N[F++]}},e:function(R){throw R},f:D}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var P,K=!0,L=!1;return{s:function(){I=I.call(N)},n:function(){var R=I.next();return K=R.done,R},e:function(R){L=!0,P=R},f:function(){try{K||I.return==null||I.return()}finally{if(L)throw P}}}}function v(N,E){if(N){if(typeof N=="string")return g(N,E);var I={}.toString.call(N).slice(8,-1);return I==="Object"&&N.constructor&&(I=N.constructor.name),I==="Map"||I==="Set"?Array.from(N):I==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I)?g(N,E):void 0}}function g(N,E){(E==null||E>N.length)&&(E=N.length);for(var I=0,F=Array(E);I<E;I++)F[I]=N[I];return F}function b(N,E){try{var I=N.currentSrc||N.src||"";if(!I)return;E.setAttribute("src",I),E.removeAttribute("srcset"),E.removeAttribute("sizes"),E.loading="eager",E.decoding="sync"}catch{}}function S(N){if(!N)throw new Error("Invalid node");var E=new Set,I=null;if(N.nodeType===Node.TEXT_NODE||N.nodeType!==Node.ELEMENT_NODE)return N.cloneNode(!0);if(N.tagName==="IFRAME"){var F=document.createElement("div");return F.style.cssText="width:".concat(N.offsetWidth,"px;height:").concat(N.offsetHeight,"px;background-image:repeating-linear-gradient(45deg,#ddd,#ddd 5px,#f9f9f9 5px,#f9f9f9 10px);display:flex;align-items:center;justify-content:center;font-size:12px;color:#555;border:1px solid #aaa;"),F}if(N.tagName==="CANVAS"){var D=N.toDataURL(),P=document.createElement("img");return P.src=D,P.width=N.width,P.height=N.height,P}var K;try{K=N.cloneNode(!1),N.tagName==="IMG"&&b(N,K)}catch(st){throw console.error("[Snapdom] Failed to clone node:",N,st),st}if(N instanceof HTMLTextAreaElement){K.textContent=N.value,K.value=N.value;var L=N.getBoundingClientRect();return K.style.boxSizing="border-box",K.style.width="".concat(L.width,"px"),K.style.height="".concat(L.height,"px"),K}if(N instanceof HTMLInputElement&&(N.hasAttribute("value")&&(K.value=N.value,K.setAttribute("value",N.value)),N.checked!==void 0&&(K.checked=N.checked,N.checked&&K.setAttribute("checked",""),N.indeterminate&&(K.indeterminate=N.indeterminate))),N instanceof HTMLSelectElement&&(I=N.value),N.shadowRoot){var Q=Array.from(N.shadowRoot.querySelectorAll("slot")).length>0;if(!Q){var R=document.createDocumentFragment(),M=m(N.shadowRoot.childNodes),O;try{for(M.s();!(O=M.n()).done;){var H=O.value;if(!(H.nodeType===Node.ELEMENT_NODE&&H.tagName==="STYLE")){var G=S(H);G&&R.appendChild(G)}}}catch(st){M.e(st)}finally{M.f()}K.appendChild(R)}}if(N.tagName==="SLOT"){var ie,ge=((ie=N.assignedNodes)===null||ie===void 0?void 0:ie.call(N,{flatten:!0}))||[],J=ge.length>0?ge:Array.from(N.childNodes),re=document.createDocumentFragment(),se=m(J),he;try{for(se.s();!(he=se.n()).done;){var je=he.value,ne=S(je);ne&&re.appendChild(ne)}}catch(st){se.e(st)}finally{se.f()}return re}var V=m(N.childNodes),W;try{for(V.s();!(W=V.n()).done;){var ae=W.value;if(!E.has(ae)){var ce=S(ae);ce&&K.appendChild(ce)}}}catch(st){V.e(st)}finally{V.f()}if(I!==null&&K instanceof HTMLSelectElement){K.value=I;var Ae=m(K.options),pe;try{for(Ae.s();!(pe=Ae.n()).done;){var Se=pe.value;Se.value===I?Se.setAttribute("selected",""):Se.removeAttribute("selected")}}catch(st){Ae.e(st)}finally{Ae.f()}}var xe=N.scrollLeft,Ie=N.scrollTop,_e=xe||Ie;if(_e&&K instanceof HTMLElement){K.style.overflow="hidden",K.style.scrollbarWidth="none",K.style.msOverflowStyle="none";var De=document.createElement("div");for(De.style.transform="translate(".concat(-xe,"px, ").concat(-Ie,"px)"),De.style.willChange="transform",De.style.display="inline-block",De.style.width="100%";K.firstChild;)De.appendChild(K.firstChild);K.appendChild(De)}return K}}),"./src/utils.js":(function(u,f,A){A.r(f),A.d(f,{createElement:function(){return g},objType:function(){return v},toPx:function(){return S},unitConvert:function(){return b}}),A("./node_modules/core-js/modules/es.symbol.js"),A("./node_modules/core-js/modules/es.symbol.description.js"),A("./node_modules/core-js/modules/es.symbol.iterator.js"),A("./node_modules/core-js/modules/es.array.iterator.js"),A("./node_modules/core-js/modules/es.number.constructor.js"),A("./node_modules/core-js/modules/es.object.to-string.js"),A("./node_modules/core-js/modules/es.string.iterator.js"),A("./node_modules/core-js/modules/web.dom-collections.iterator.js");function m(N){"@babel/helpers - typeof";return m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},m(N)}var v=function(E){var I=m(E);return I==="undefined"?"undefined":I==="string"||E instanceof String?"string":I==="number"||E instanceof Number?"number":I==="function"||E instanceof Function?"function":E&&E.constructor===Array?"array":E&&E.nodeType===1?"element":I==="object"?"object":"unknown"},g=function(E,I){var F=document.createElement(E);if(I.className&&(F.className=I.className),I.innerHTML){F.innerHTML=I.innerHTML;for(var D=F.getElementsByTagName("script"),P=D.length;P-- >0;null)D[P].parentNode.removeChild(D[P])}for(var K in I.style)F.style[K]=I.style[K];return F},b=function(E,I){if(v(E)==="number")return E*72/96/I;var F={};for(var D in E)F[D]=E[D]*72/96/I;return F},S=function(E,I){return Math.floor(E*I/72*96)}}),"./src/worker.js":(function(u,f,A){A.r(f),A("./node_modules/core-js/modules/es.array.concat.js"),A("./node_modules/core-js/modules/es.array.map.js"),A("./node_modules/core-js/modules/es.function.name.js"),A("./node_modules/core-js/modules/es.json.stringify.js"),A("./node_modules/core-js/modules/es.object.assign.js"),A("./node_modules/core-js/modules/es.object.keys.js"),A("./node_modules/core-js/modules/es.object.to-string.js"),A("./node_modules/core-js/modules/es.promise.js"),A("./node_modules/core-js/modules/es.regexp.to-string.js"),A("./node_modules/core-js/modules/esnext.iterator.constructor.js"),A("./node_modules/core-js/modules/esnext.iterator.for-each.js"),A("./node_modules/core-js/modules/esnext.iterator.map.js"),A("./node_modules/core-js/modules/web.dom-collections.for-each.js"),A("./node_modules/core-js/modules/web.timers.js");var m=A("jspdf"),v=A("html2canvas"),g=A.n(v),b=A("./src/snapdom/clone.js"),S=A("./src/utils.js"),N=function E(I){var F=Object.assign(E.convert(Promise.resolve()),JSON.parse(JSON.stringify(E.template))),D=E.convert(Promise.resolve(),F);return D=D.setProgress(1,E,1,[E]),D=D.set(I),D};N.prototype=Object.create(Promise.prototype),N.prototype.constructor=N,N.convert=function(I,F){return I.__proto__=F||N.prototype,I},N.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],image:{type:"jpeg",quality:.95},enableLinks:!0,html2canvas:{},jsPDF:{}}},N.prototype.from=function(I,F){function D(P){switch((0,S.objType)(P)){case"string":return"string";case"element":return P.nodeName.toLowerCase&&P.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}return this.then(function(){switch(F=F||D(I),F){case"string":return this.set({src:(0,S.createElement)("div",{innerHTML:I})});case"element":return this.set({src:I});case"canvas":return this.set({canvas:I});case"img":return this.set({img:I});default:return this.error("Unknown source type.")}})},N.prototype.to=function(I){switch(I){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},N.prototype.toContainer=function(){var I=[function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(I).then(function(){var D={position:"fixed",overflow:"hidden",zIndex:1e3,left:0,right:0,bottom:0,top:0,backgroundColor:"rgba(0,0,0,0.8)"},P={position:"absolute",width:this.prop.pageSize.inner.width+this.prop.pageSize.unit,left:0,right:0,top:0,height:"auto",margin:"auto",backgroundColor:"white"};D.opacity=0;var K=(0,b.deepCloneBasic)(this.prop.src);return this.prop.overlay=(0,S.createElement)("div",{className:"html2pdf__overlay",style:D}),this.prop.container=(0,S.createElement)("div",{className:"html2pdf__container",style:P}),this.prop.container.appendChild(K),this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),new Promise(function(L){return setTimeout(L,10)})})},N.prototype.toCanvas=function(){var I=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(I).then(function(){var D=Object.assign({},this.opt.html2canvas);return delete D.onrendered,g()(this.prop.container,D)}).then(function(D){var P=this.opt.html2canvas.onrendered||function(){};P(D),this.prop.canvas=D,document.body.removeChild(this.prop.overlay)})},N.prototype.toImg=function(){var I=[function(){return this.prop.canvas||this.toCanvas()}];return this.thenList(I).then(function(){var D=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=D})},N.prototype.toPdf=function(){var I=[function(){return this.prop.canvas||this.toCanvas()},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(I).then(function(){var D=this.prop.canvas,P=this.opt,K=D.height,L=Math.floor(D.width*this.prop.pageSize.inner.ratio),Q=Math.ceil(K/L),R=this.prop.pageSize.inner.height,M=document.createElement("canvas"),O=M.getContext("2d");M.width=D.width,M.height=L,this.prop.pdf=this.prop.pdf||new m.jsPDF(P.jsPDF);for(var H=0;H<Q;H++){H===Q-1&&K%L!==0&&(M.height=K%L,R=M.height*this.prop.pageSize.inner.width/M.width);var G=M.width,ie=M.height;O.fillStyle="white",O.fillRect(0,0,G,ie),O.drawImage(D,0,H*L,G,ie,0,0,G,ie),H&&this.prop.pdf.addPage();var ge=M.toDataURL("image/"+P.image.type,P.image.quality);this.prop.pdf.addImage(ge,P.image.type,P.margin[1],P.margin[0],this.prop.pageSize.inner.width,R)}})},N.prototype.output=function(I,F,D){return D=D||"pdf",D.toLowerCase()==="img"||D.toLowerCase()==="image"?this.outputImg(I,F):this.outputPdf(I,F)},N.prototype.outputPdf=function(I,F){var D=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(D).then(function(){return this.prop.pdf.output(I,F)})},N.prototype.outputImg=function(I,F){var D=[function(){return this.prop.img||this.toImg()}];return this.thenList(D).then(function(){switch(I){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+I+'" is not supported.'}})},N.prototype.save=function(I){var F=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(F).set(I?{filename:I}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},N.prototype.set=function(I){if((0,S.objType)(I)!=="object")return this;var F=Object.keys(I||{}).map(function(D){switch(D){case"margin":return this.setMargin.bind(this,I.margin);case"jsPDF":return function(){return this.opt.jsPDF=I.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,I.pageSize);default:return D in N.template.prop?function(){this.prop[D]=I[D]}:function(){this.opt[D]=I[D]}}},this);return this.then(function(){return this.thenList(F)})},N.prototype.get=function(I,F){return this.then(function(){var P=I in N.template.prop?this.prop[I]:this.opt[I];return F?F(P):P})},N.prototype.setMargin=function(I){return this.then(function(){switch((0,S.objType)(I)){case"number":I=[I,I,I,I];case"array":if(I.length===2&&(I=[I[0],I[1],I[0],I[1]]),I.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=I}).then(this.setPageSize)},N.prototype.setPageSize=function(I){return this.then(function(){I=I||m.jsPDF.getPageSize(this.opt.jsPDF),I.hasOwnProperty("inner")||(I.inner={width:I.width-this.opt.margin[1]-this.opt.margin[3],height:I.height-this.opt.margin[0]-this.opt.margin[2]},I.inner.px={width:(0,S.toPx)(I.inner.width,I.k),height:(0,S.toPx)(I.inner.height,I.k)},I.inner.ratio=I.inner.height/I.inner.width),this.prop.pageSize=I})},N.prototype.setProgress=function(I,F,D,P){return I!=null&&(this.progress.val=I),F!=null&&(this.progress.state=F),D!=null&&(this.progress.n=D),P!=null&&(this.progress.stack=P),this.progress.ratio=this.progress.val/this.progress.state,this},N.prototype.updateProgress=function(I,F,D,P){return this.setProgress(I?this.progress.val+I:null,F||null,D?this.progress.n+D:null,P?this.progress.stack.concat(P):null)},N.prototype.then=function(I,F){var D=this;return this.thenCore(I,F,function(K,L){return D.updateProgress(null,null,1,[K]),Promise.prototype.then.call(this,function(R){return D.updateProgress(null,K),R}).then(K,L).then(function(R){return D.updateProgress(1),R})})},N.prototype.thenCore=function(I,F,D){D=D||Promise.prototype.then;var P=this;I&&(I=I.bind(P)),F&&(F=F.bind(P));var K=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise",L=K?P:N.convert(Object.assign({},P),Promise.prototype),Q=D.call(L,I,F);return N.convert(Q,P.__proto__)},N.prototype.thenExternal=function(I,F){return Promise.prototype.then.call(this,I,F)},N.prototype.thenList=function(I){var F=this;return I.forEach(function(P){F=F.thenCore(P)}),F},N.prototype.catch=function(E){E&&(E=E.bind(this));var I=Promise.prototype.catch.call(this,E);return N.convert(I,this)},N.prototype.catchExternal=function(I){return Promise.prototype.catch.call(this,I)},N.prototype.error=function(I){return this.then(function(){throw new Error(I)})},N.prototype.using=N.prototype.set,N.prototype.saveAs=N.prototype.save,N.prototype.export=N.prototype.output,N.prototype.run=N.prototype.then,f.default=N}),html2canvas:(function(u){u.exports=s}),jspdf:(function(u){u.exports=t})},o={};function c(u){var f=o[u];if(f!==void 0)return f.exports;var A=o[u]={exports:{}};return a[u].call(A.exports,A,A.exports,c),A.exports}(function(){c.n=function(u){var f=u&&u.__esModule?function(){return u.default}:function(){return u};return c.d(f,{a:f}),f}})(),(function(){c.d=function(u,f){for(var A in f)c.o(f,A)&&!c.o(u,A)&&Object.defineProperty(u,A,{enumerable:!0,get:f[A]})}})(),(function(){c.o=function(u,f){return Object.prototype.hasOwnProperty.call(u,f)}})(),(function(){c.r=function(u){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})}})();var h={};return(function(){/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/c.r(h);var u=c("./src/worker.js");c("./src/plugin/jspdf-plugin.js"),c("./src/plugin/pagebreaks.js"),c("./src/plugin/hyperlinks.js");var f=function A(m,v){var g=new A.Worker(v);return m?g.from(m).save():g};f.Worker=u.default,h.default=f})(),h=h.default,h})()})})(zy)),zy.exports}var iV=aV();const oV=zb(iV),lV=({data:n})=>{var E;const[e,t]=ee.useState(!1),[s,a]=ee.useState(null);if(ee.useEffect(()=>{var F;const I=async()=>{var P;const D=(P=n==null?void 0:n.schoolInfo)==null?void 0:P.logoUrl;if(!D){a(null);return}if(D.startsWith("data:")){a(D);return}try{const L=await(await fetch(D)).blob(),Q=new FileReader;Q.onloadend=()=>{a(Q.result)},Q.readAsDataURL(L)}catch(K){console.error("Failed to fetch or convert logo:",K),a(D)}};(F=n==null?void 0:n.schoolInfo)!=null&&F.logoUrl&&I()},[(E=n==null?void 0:n.schoolInfo)==null?void 0:E.logoUrl]),!n)return null;const{schoolInfo:o,studentInfo:c,attendance:h,performance:u,summary:f,skills:A,remarks:m,promotion:v,termDates:g}=n,b=async I=>{const F=Array.from(I.querySelectorAll("img"));await Promise.all(F.map(D=>(D.setAttribute("crossorigin","anonymous"),D.setAttribute("referrerpolicy","no-referrer"),D.complete&&D.naturalWidth>0?Promise.resolve():new Promise(P=>{const K=()=>P();D.addEventListener("load",K,{once:!0}),D.addEventListener("error",K,{once:!0})}))))},S=async I=>{const F=I.includes("?")?`${I}&cb=${Date.now()}`:`${I}?cb=${Date.now()}`,P=await(await fetch(F)).blob();return await new Promise((K,L)=>{const Q=new FileReader;Q.onloadend=()=>K(Q.result),Q.onerror=L,Q.readAsDataURL(P)})},N=async()=>{const I=document.getElementById("report-card");if(!I)return;t(!0);const F=I.querySelector("img[data-report-logo='true']"),D=F==null?void 0:F.src;try{if(F!=null&&F.src&&!F.src.startsWith("data:image"))try{const K=await S(F.src);F.src=K}catch(K){console.warn("Logo base64 conversion failed. Using normal URL.",K)}await b(I);const P={margin:8,filename:`${n.studentInfo.name}_Report_Card.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2.2,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff",logging:!1},jsPDF:{unit:"mm",format:"a4",orientation:"portrait",compress:!0},pagebreak:{mode:["avoid-all","css","legacy"]}};await oV().set(P).from(I).save()}catch(P){console.error("PDF generation failed:",P)}finally{F&&D&&(F.src=D),t(!1)}};return i.jsxs(i.Fragment,{children:[i.jsxs("div",{id:"report-card",className:"bg-white p-4 rounded-lg shadow-lg border border-slate-200 text-[12.5px] leading-relaxed",style:{minHeight:"10.7in",boxSizing:"border-box",pageBreakInside:"avoid"},children:[i.jsxs("div",{className:"flex justify-between items-center pb-2 mb-2",style:{borderBottom:"2px solid #0B4A82"},children:[i.jsxs("div",{className:"flex items-center",children:[o.logoUrl?i.jsx("img",{"data-report-logo":"true",src:o.logoUrl,alt:"School Logo",className:"h-12 w-12 object-contain",crossOrigin:"anonymous",referrerPolicy:"no-referrer",onError:I=>{I.currentTarget.style.display="none",console.warn("Logo failed to load:",o.logoUrl)}}):null,i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-bold text-primary-900",children:o.name}),i.jsxs("p",{className:"text-xs text-slate-600",children:[o.address," | ",o.phone]})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("h2",{className:"text-lg font-bold text-primary-800",children:"Terminal Report Card"}),i.jsxs("p",{className:"text-xs font-semibold text-slate-700",children:[o.academicYear," | ",o.term]})]})]}),i.jsxs("div",{className:"grid grid-cols-4 gap-2 bg-slate-50 p-2 rounded mb-2 text-xs",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold",children:"Name:"})," ",c.name]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold",children:"Class:"})," ",c.class]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold",children:"Gender:"})," ",c.gender]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold",children:"Teacher:"})," ",c.classTeacher]})]}),i.jsx("div",{className:"mb-2",children:i.jsxs("div",{className:"grid grid-cols-4 gap-2 text-center",children:[i.jsxs("div",{className:"bg-red-50 p-1.5 rounded",children:[i.jsx("span",{className:"block font-bold text-red-800 text-lg",children:h.totalDays}),i.jsx("span",{className:"text-xs text-red-700",children:"School Days"})]}),i.jsxs("div",{className:"bg-green-50 p-1.5 rounded",children:[i.jsx("span",{className:"block font-bold text-green-800 text-lg",children:h.presentDays}),i.jsx("span",{className:"text-xs text-green-700",children:"Present"})]}),i.jsxs("div",{className:"bg-red-50 p-1.5 rounded",children:[i.jsx("span",{className:"block font-bold text-red-800 text-lg",children:h.absentDays}),i.jsx("span",{className:"text-xs text-red-700",children:"Absent"})]}),i.jsxs("div",{className:"bg-purple-50 p-1.5 rounded",children:[i.jsxs("span",{className:"block font-bold text-purple-800 text-lg",children:[h.attendancePercentage,"%"]}),i.jsx("span",{className:"text-xs text-purple-700",children:"Attendance"})]})]})}),i.jsxs("div",{className:"mb-2",children:[i.jsx("h3",{className:"text-sm font-bold text-primary-900 mb-2 px-3 pb-2 bg-slate-50",style:{borderLeft:"2px solid #1160A8",borderRight:"2px solid #1160A8",borderBottom:"1px solid #1160A8"},children:"Academic Performance"}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-left border-collapse text-xs",children:[i.jsx("thead",{className:"text-white",style:{backgroundColor:"#1160A8"},children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-2 pt-0 pb-3 border-b border-white align-middle leading-relaxed",children:"Subject"}),i.jsx("th",{className:"px-2 pt-0 pb-3 border-b border-white align-middle text-center w-12",children:"C.Test"}),i.jsx("th",{className:"px-2 pt-0 pb-3 border-b border-white align-middle text-center w-12",children:"HW"}),i.jsx("th",{className:"px-2 pt-0 pb-3 border-b border-white align-middle text-center w-12",children:"Proj"}),i.jsx("th",{className:"px-2 pt-0 pb-3 border-b border-white align-middle text-center w-12",children:"Exam"}),i.jsx("th",{className:"px-2 pt-0 pb-3 border-b border-white align-middle text-center w-12",children:"Total"}),i.jsx("th",{className:"px-2 pt-0 pb-3 border-b border-white align-middle text-center w-10",children:"Pos"}),i.jsx("th",{className:"px-2 pt-0 pb-3 border-b border-white align-middle text-center w-10",children:"Grade"}),i.jsx("th",{className:"px-2 pt-0 pb-3 border-b border-white align-middle",children:"Remark"})]})}),i.jsx("tbody",{children:n.allStudentsAssessments&&u.map((I,F)=>{const D=um(I.total),P=n.allStudentsAssessments.filter(Q=>Q.subject===I.subject).map(Q=>Q.total);P.sort((Q,R)=>R-Q);const K=P.indexOf(I.total)+1,L=["st","nd","rd"][K-1]||"th";return i.jsxs("tr",{className:"hover:bg-slate-50",children:[i.jsx("td",{className:"p-1.5 border font-medium",children:I.subject}),i.jsx("td",{className:"px-2 py-2 border text-center leading-relaxed",children:I.testScore}),i.jsx("td",{className:"p-1.5 border text-center",children:I.homeworkScore}),i.jsx("td",{className:"p-1.5 border text-center",children:I.projectScore}),i.jsx("td",{className:"p-1.5 border text-center",children:I.examScore}),i.jsx("td",{className:"p-1.5 border text-center font-bold",children:I.total}),i.jsx("td",{className:"p-1.5 border text-center",children:`${K}${L}`}),i.jsx("td",{className:`p-1.5 border text-center font-bold ${Rg(D.grade).split(" ")[0]}`,children:D.grade}),i.jsx("td",{className:"p-1.5 border",children:D.remark})]},F)})})]})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-2",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-bold text-primary-900 mb-1 pl-2",style:{borderLeft:"3px solid #1160A8"},children:"Performance Summary"}),i.jsxs("div",{className:"bg-slate-50 p-3 rounded text-xs space-y-1",style:{border:"1px solid #1160A8"},children:[i.jsxs("div",{className:"flex justify-between py-0.5",style:{borderBottom:"1px solid #C7D7EA"},children:[i.jsx("span",{className:"font-semibold",children:"Total Score:"}),i.jsx("span",{children:f.totalScore})]}),i.jsxs("div",{className:"flex justify-between py-0.5",style:{borderBottom:"1px solid #C7D7EA"},children:[i.jsx("span",{className:"font-semibold",children:"Average:"}),i.jsx("span",{children:f.averageScore})]}),i.jsxs("div",{className:"flex justify-between py-0.5",style:{borderBottom:"1px solid #C7D7EA"},children:[i.jsx("span",{className:"font-semibold",children:"Grade:"}),i.jsx("span",{className:"font-bold",children:f.overallGrade})]}),i.jsxs("div",{className:"flex justify-between py-0.5",children:[i.jsx("span",{className:"font-semibold",children:"Position:"}),i.jsxs("span",{children:[f.classPosition," of ",f.totalStudents]})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-bold text-primary-900 mb-1 pl-2",style:{borderLeft:"3px solid #1160A8"},children:"Skills & Behaviour"}),i.jsx("div",{className:"bg-slate-50 p-3 rounded text-xs space-y-1",style:{border:"1px solid #1160A8"},children:A&&Object.entries(A).map(([I,F])=>i.jsxs("div",{className:"flex justify-between py-0.5 last:border-0",style:{borderBottom:"1px solid #C7D7EA"},children:[i.jsxs("span",{className:"font-semibold capitalize",children:[I.replace(/([A-Z])/g," $1"),":"]}),i.jsx("span",{children:F})]},I))})]})," "]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("h3",{className:"text-sm font-bold text-primary-900 mb-1 pl-2",style:{borderLeft:"3px solid #1160A8"},children:"Remarks"}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"bg-slate-50 p-3 rounded text-xs min-h-[70px]",children:[i.jsx("h4",{className:"font-bold mb-0.5",children:"Class Teacher:"}),i.jsxs("p",{className:"italic",children:['"',m.teacher,'"']})]}),i.jsxs("div",{className:"bg-slate-50 p-2 rounded text-xs",children:[i.jsx("h4",{className:"font-bold mb-0.5",children:"Head Teacher:"}),i.jsxs("p",{className:"italic",children:['"',m.headTeacher,'"']})]})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-2 text-xs",children:[i.jsxs("div",{className:"bg-red-50 text-red-800 p-2 rounded text-center",children:[i.jsx("span",{className:"font-bold",children:"Promotion:"})," ",v.status]}),i.jsxs("div",{className:"bg-green-50 text-green-800 p-2 rounded text-center",children:[i.jsx("span",{className:"font-bold",children:"Next Term:"})," ",g.reopeningDate]}),i.jsxs("div",{className:"bg-slate-100 text-slate-700 p-2 rounded text-center",children:[i.jsx("span",{className:"font-bold",children:"Term Ends in:"})," ",g.vacationDate]})]}),i.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[i.jsx("div",{className:"text-center",children:i.jsx("p",{className:"border-t border-dotted border-slate-400 w-32 pt-1 text-xs font-semibold",children:"Class Teacher"})}),i.jsx("div",{className:"text-center",children:i.jsx("div",{className:"w-16 h-16 border border-dashed border-slate-300 flex items-center justify-center",children:i.jsx("p",{className:"text-slate-400 text-[10px]",children:"Stamp"})})}),i.jsx("div",{className:"text-center",children:i.jsx("p",{className:"border-t border-dotted border-slate-400 w-32 pt-1 text-xs font-semibold",children:"Head Teacher"})})]})]}),i.jsx("div",{className:"flex justify-end mt-4",children:i.jsx("button",{onClick:N,disabled:e,className:`px-6 py-2 text-white rounded-lg flex items-center gap-2 transition-colors ${e?"bg-[#5C93C4] cursor-not-allowed":"bg-[#1160A8] hover:bg-[#0B4A82]"}`,children:e?i.jsxs(i.Fragment,{children:[i.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Generating PDF..."]}):i.jsxs(i.Fragment,{children:[i.jsx(sA,{className:"h-4 w-4"}),"Download PDF"]})})})]})},AV=n=>new Promise((e,t)=>{const s=new Image;s.crossOrigin="anonymous",s.onload=()=>{try{const a=document.createElement("canvas");a.width=s.width,a.height=s.height;const o=a.getContext("2d");if(!o)return t(new Error("Canvas context not available"));o.drawImage(s,0,0);const c=a.toDataURL("image/png");e(c)}catch(a){t(a)}},s.onerror=()=>t(new Error("Failed to load image for base64")),s.src=n}),cS=n=>{let e=parseInt(n);if(!isNaN(e)&&e>=1&&e<=3)return e;const t=n.split(" ");return t.length>1&&(e=parseInt(t[1]),!isNaN(e)&&e>=1&&e<=3)?e:1},cV=500,uV=()=>{const{school:n}=cc(),e=(n==null?void 0:n.id)||null,[t,s]=ee.useState(Un[0].id),[a,o]=ee.useState([]),[c,h]=ee.useState(""),[u,f]=ee.useState(null),[A,m]=ee.useState(!1),[v,g]=ee.useState(""),[b,S]=ee.useState(!1),[N,E]=ee.useState(!1),I=async P=>{if(!e){o([]),h(""),f(null);return}s(P);const K=await ut.getStudents(e,P);o(K),h(""),f(null)},F=async()=>{var P,K,L,Q,R,M,O,H,G,ie,ge;if(!(!c||!e)){m(!0);try{const re=(await ut.getStudents(e,t)).find(xt=>xt.id===c),se=await ut.getSchoolConfig(e),he=((K=(P=se==null?void 0:se.logoUrl)==null?void 0:P.trim)==null?void 0:K.call(P))||((Q=(L=se==null?void 0:se.logo)==null?void 0:L.trim)==null?void 0:Q.call(L))||((M=(R=se==null?void 0:se.schoolLogo)==null?void 0:R.trim)==null?void 0:M.call(R))||"",je=((H=(O=n==null?void 0:n.logoUrl)==null?void 0:O.trim)==null?void 0:H.call(O))||((ie=(G=n==null?void 0:n.logo)==null?void 0:G.trim)==null?void 0:ie.call(G))||"",ne=he||je||"";let V=ne;if(ne&&ne.startsWith("http"))try{V=await AV(ne)}catch(xt){console.warn("Base64 conversion failed, using original URL:",xt),V=ne}const W=cS(se.currentTerm),ae=se.academicYear,ce=`${c}_term${W}_${ae}`,pe=(await ut.getAllAssessments(e).then(xt=>xt.filter(St=>St.studentId===c))).filter(xt=>xt.term===W),Se=Object.values(pe.reduce((xt,St)=>{const $t=St.subject;if(!$t)return xt;const Ht=xt[$t],Rn=(Ht==null?void 0:Ht.total)??0,Ke=St.total??0;return(!Ht||Ke>=Rn)&&(xt[$t]=St),xt},{})),xe=await ut.getStudentRemarks(e,t).then(xt=>xt.find(St=>St.studentId===c)),Ie=await ut.getAdminRemark(e,ce),_e=await ut.getClassAttendance(e,t),De=await ut.getStudentSkills(e,t).then(xt=>xt.find(St=>St.studentId===c)),st=await ut.getUsers(e);let He=0;if(se.schoolReopenDate&&se.vacationDate){const xt=new Date(se.schoolReopenDate),St=new Date(se.vacationDate);if(isNaN(xt.getTime())||isNaN(St.getTime())||xt>St)He=_e.length;else{const $t=new Date(xt);for(;$t<=St;)He++,$t.setDate($t.getDate()+1)}}else He=_e.length;const de=_e.filter(xt=>xt.presentStudentIds.includes(c)).length,rt=He-de,_t=He>0?Math.round(de/He*100):0,vt=st.find(xt=>{var St;return(St=xt.assignedClassIds)==null?void 0:St.includes(t)}),qe=xt=>xt>=80?"A":xt>=70?"B":xt>=60?"C":xt>=45?"D":"F",We=await ut.getAllAssessments(e).then(xt=>xt.filter(St=>St.classId===t&&St.term===W)),dt=a.map(xt=>{const $t=We.filter(Ht=>Ht.studentId===xt.id).reduce((Ht,Rn)=>Ht+(Rn.total||0),0);return{studentId:xt.id,totalScore:$t}});dt.sort((xt,St)=>St.totalScore-xt.totalScore);const Qt=dt.findIndex(xt=>xt.studentId===c)+1;g((Ie==null?void 0:Ie.remark)||"");const Pt=Se.reduce((xt,St)=>xt+(St.total||0),0),Gt=Un.findIndex(xt=>xt.id===(re==null?void 0:re.classId)),sn=Gt>=0&&Gt<Un.length-1?Un[Gt+1].name:"",en=W===3?Pt>=cV?sn?`Promoted to ${sn}`:"Promoted":"Fail":"N/A",Nn={schoolInfo:{name:(n==null?void 0:n.name)||se.schoolName||"School Manager GH",logoUrl:ne,address:(n==null?void 0:n.address)||se.address||"",phone:(n==null?void 0:n.phone)||se.phone||"",email:se.email||"",academicYear:se.academicYear||"",term:se.currentTerm||""},studentInfo:{name:(re==null?void 0:re.name)||"",gender:(re==null?void 0:re.gender)||"",dob:(re==null?void 0:re.dob)||"",class:((ge=Un.find(xt=>xt.id===(re==null?void 0:re.classId)))==null?void 0:ge.name)||"",classTeacher:(vt==null?void 0:vt.fullName)||"N/A"},attendance:{totalDays:He||0,presentDays:de||0,absentDays:rt||0,attendancePercentage:_t||0},performance:Se||[],summary:{totalScore:Pt||0,averageScore:Se.length>0?(Se.reduce((xt,St)=>xt+(St.total||0),0)/Se.length).toFixed(1):"0.0",overallGrade:qe(Se.length>0?Se.reduce((xt,St)=>xt+(St.total||0),0)/Se.length:0)||"N/A",classPosition:`${Qt}${["st","nd","rd"][Qt-1]||"th"}`,totalStudents:a.length||0},skills:{punctuality:(De==null?void 0:De.punctuality)||"N/A",neatness:(De==null?void 0:De.neatness)||"N/A",conduct:(De==null?void 0:De.conduct)||"N/A",attitudeToWork:(De==null?void 0:De.attitudeToWork)||"N/A",classParticipation:(De==null?void 0:De.classParticipation)||"N/A",homeworkCompletion:(De==null?void 0:De.homeworkCompletion)||"N/A"},remarks:{teacher:(xe==null?void 0:xe.remark)||"N/A",headTeacher:(Ie==null?void 0:Ie.remark)||se.headTeacherRemark||"An outstanding performance. The school is proud of you.",adminRemark:(Ie==null?void 0:Ie.remark)||"",adminRemarkDate:(Ie==null?void 0:Ie.dateCreated)||""},promotion:{status:en},termDates:{endDate:se.termEndDate||"",reopeningDate:se.nextTermBegins||"",vacationDate:se.vacationDate||""},allStudentsAssessments:We};f(Nn),Mt("Report card generated successfully!",{type:"success"})}catch(J){console.error("Error generating report card:",J),Mt(`Failed to generate report card: ${J.message||"An unknown error occurred."}`,{type:"error"})}finally{m(!1)}}},D=async()=>{if(!(!c||!v.trim()||!e)){E(!0);try{const P=await ut.getSchoolConfig(e),K=cS(P.currentTerm),L={id:`${c}_term${K}_${P.academicYear}`,studentId:c,classId:t,term:K,academicYear:P.academicYear,schoolId:e,remark:v,adminId:"admin",dateCreated:new Date().toISOString().split("T")[0]};await ut.saveAdminRemark(L),S(!1),F()}catch(P){console.error("Error saving admin remark:",P)}finally{E(!1)}}};return ee.useEffect(()=>{(async()=>{try{await I(t)}catch(K){console.error("Error in useEffect:",K)}})()},[e]),i.jsxs(Xs,{title:"Generate Report Card",children:[i.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100",children:[i.jsx("h3",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Select Student"}),i.jsxs("div",{className:"flex gap-4 mb-4",children:[i.jsx("select",{className:"border border-slate-300 rounded-md px-3 py-2 text-sm bg-white text-black",value:t,onChange:P=>I(P.target.value),children:Un.map(P=>i.jsx("option",{value:P.id,children:P.name},P.id))}),i.jsxs("select",{className:"border border-slate-300 rounded-md px-3 py-2 text-sm bg-white text-black flex-grow",value:c,onChange:P=>h(P.target.value),disabled:!a.length,children:[i.jsx("option",{value:"",children:"-- Select a student --"}),a.map(P=>i.jsx("option",{value:P.id,children:P.name},P.id))]})]}),i.jsx("button",{onClick:F,disabled:!c||A,className:"px-6 py-2 bg-[#1160A8] text-white rounded-lg hover:bg-[#0B4A82] disabled:opacity-50",children:A?"Generating...":"Generate Report"})]}),u&&i.jsxs("div",{className:"mt-8",children:[i.jsxs("div",{className:"bg-[#E6F0FA] border border-[#E6F0FA] rounded-xl p-4 mb-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsxs("h3",{className:"text-lg font-semibold text-[#0B4A82] flex items-center gap-2",children:[i.jsx(Xk,{className:"w-5 h-5"}),"Admin/Head Teacher Remark"]}),b?i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("button",{onClick:()=>S(!1),className:"flex items-center gap-1 px-3 py-1 text-sm bg-gray-500 text-white rounded hover:bg-gray-600",children:[i.jsx(fo,{className:"w-4 h-4"}),"Cancel"]}),i.jsxs("button",{onClick:D,disabled:N,className:"flex items-center gap-1 px-3 py-1 text-sm bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50",children:[i.jsx(sA,{className:"w-4 h-4"}),N?"Saving...":"Save"]})]}):i.jsxs("button",{onClick:()=>S(!0),className:"flex items-center gap-1 px-3 py-1 text-sm bg-[#1160A8] text-white rounded hover:bg-[#0B4A82]",children:[i.jsx(eM,{className:"w-4 h-4"}),"Edit Remark"]})]}),b?i.jsx("textarea",{value:v,onChange:P=>g(P.target.value),className:"w-full border border-[#E6F0FA] rounded-lg p-3 text-black bg-white",rows:3,placeholder:"Enter admin/head teacher remark..."}):i.jsx("p",{className:"text-[#0B4A82] italic",children:v||"No remark added yet"})]}),i.jsx(lV,{data:u})]})]})};class dV{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI="firebasestorage.googleapis.com",hV="storageBucket",fV=120*1e3,mV=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc extends Ac{constructor(e,t,s=0){super(f1(e),`Firebase Storage: ${t} (${f1(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Xc.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return f1(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var $c;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})($c||($c={}));function f1(n){return"storage/"+n}function pV(){const n="An unknown error occurred, please check the error payload for server response.";return new Xc($c.UNKNOWN,n)}function gV(){return new Xc($c.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function vV(){return new Xc($c.CANCELED,"User canceled the upload/download.")}function xV(n){return new Xc($c.INVALID_URL,"Invalid URL '"+n+"'.")}function yV(n){return new Xc($c.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function uS(n){return new Xc($c.INVALID_ARGUMENT,n)}function TI(){return new Xc($c.APP_DELETED,"The Firebase app was deleted.")}function bV(n){return new Xc($c.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=sc.makeFromUrl(e,t)}catch{return new sc(e,"")}if(s.path==="")return s;throw yV(e)}static makeFromUrl(e,t){let s=null;const a="([A-Za-z0-9.\\-_]+)";function o(D){D.path.charAt(D.path.length-1)==="/"&&(D.path_=D.path_.slice(0,-1))}const c="(/(.*))?$",h=new RegExp("^gs://"+a+c,"i"),u={bucket:1,path:3};function f(D){D.path_=decodeURIComponent(D.path)}const A="v[A-Za-z0-9_]+",m=t.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",g=new RegExp(`^https?://${m}/${A}/b/${a}/o${v}`,"i"),b={bucket:1,path:3},S=t===EI?"(?:storage.googleapis.com|storage.cloud.google.com)":t,N="([^?#]*)",E=new RegExp(`^https?://${S}/${a}/${N}`,"i"),F=[{regex:h,indices:u,postModify:o},{regex:g,indices:b,postModify:f},{regex:E,indices:{bucket:1,path:2},postModify:f}];for(let D=0;D<F.length;D++){const P=F[D],K=P.regex.exec(e);if(K){const L=K[P.indices.bucket];let Q=K[P.indices.path];Q||(Q=""),s=new sc(L,Q),P.postModify(s);break}}if(s==null)throw xV(e);return s}}class wV{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jV(n,e,t){let s=1,a=null,o=null,c=!1,h=0;function u(){return h===2}let f=!1;function A(...N){f||(f=!0,e.apply(null,N))}function m(N){a=setTimeout(()=>{a=null,n(g,u())},N)}function v(){o&&clearTimeout(o)}function g(N,...E){if(f){v();return}if(N){v(),A.call(null,N,...E);return}if(u()||c){v(),A.call(null,N,...E);return}s<64&&(s*=2);let F;h===1?(h=2,F=0):F=(s+Math.random())*1e3,m(F)}let b=!1;function S(N){b||(b=!0,v(),!f&&(a!==null?(N||(h=2),clearTimeout(a),m(0)):N||(h=1)))}return m(0),o=setTimeout(()=>{c=!0,S(!0)},t),S}function BV(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CV(n){return n!==void 0}function dS(n,e,t,s){if(s<e)throw uS(`Invalid value for '${n}'. Expected ${e} or greater.`);if(s>t)throw uS(`Invalid value for '${n}'. Expected ${t} or less.`)}function SV(n){const e=encodeURIComponent;let t="?";for(const s in n)if(n.hasOwnProperty(s)){const a=e(s)+"="+e(n[s]);t=t+a+"&"}return t=t.slice(0,-1),t}var Zv;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Zv||(Zv={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NV(n,e){const t=n>=500&&n<600,a=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||a||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(e,t,s,a,o,c,h,u,f,A,m,v=!0,g=!1){this.url_=e,this.method_=t,this.headers_=s,this.body_=a,this.successCodes_=o,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=u,this.timeout_=f,this.progressCallback_=A,this.connectionFactory_=m,this.retry=v,this.isUsingEmulator=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,S)=>{this.resolve_=b,this.reject_=S,this.start_()})}start_(){const e=(s,a)=>{if(a){s(!1,new J0(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const c=h=>{const u=h.loaded,f=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,f)};this.progressCallback_!==null&&o.addUploadProgressListener(c),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(c),this.pendingConnection_=null;const h=o.getErrorCode()===Zv.NO_ERROR,u=o.getStatus();if(!h||NV(u,this.additionalRetryCodes_)&&this.retry){const A=o.getErrorCode()===Zv.ABORT;s(!1,new J0(!1,null,A));return}const f=this.successCodes_.indexOf(u)!==-1;s(!0,new J0(f,o))})},t=(s,a)=>{const o=this.resolve_,c=this.reject_,h=a.connection;if(a.wasSuccessCode)try{const u=this.callback_(h,h.getResponse());CV(u)?o(u):o()}catch(u){c(u)}else if(h!==null){const u=pV();u.serverResponse=h.getErrorText(),this.errorCallback_?c(this.errorCallback_(h,u)):c(u)}else if(a.canceled){const u=this.appDelete_?TI():vV();c(u)}else{const u=gV();c(u)}};this.canceled_?t(!1,new J0(!1,null,!0)):this.backoffId_=jV(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&BV(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class J0{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function TV(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function IV(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function _V(n,e){e&&(n["X-Firebase-GMPID"]=e)}function FV(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function UV(n,e,t,s,a,o,c=!0,h=!1){const u=SV(n.urlParams),f=n.url+u,A=Object.assign({},n.headers);return _V(A,e),TV(A,t),IV(A,o),FV(A,s),new EV(f,n.method,A,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a,c,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RV(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function DV(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(e,t){this._service=e,t instanceof sc?this._location=t:this._location=sc.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new ex(e,t)}get root(){const e=new sc(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return DV(this._location.path)}get storage(){return this._service}get parent(){const e=RV(this._location.path);if(e===null)return null;const t=new sc(this._location.bucket,e);return new ex(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw bV(e)}}function hS(n,e){const t=e==null?void 0:e[hV];return t==null?null:sc.makeFromBucketSpec(t,n)}class LV{constructor(e,t,s,a,o,c=!1){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=a,this._firebaseVersion=o,this._isUsingEmulator=c,this._bucket=null,this._host=EI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=fV,this._maxUploadRetryTime=mV,this._requests=new Set,a!=null?this._bucket=sc.makeFromBucketSpec(a,this._host):this._bucket=hS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=sc.makeFromBucketSpec(this._url,e):this._bucket=hS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){dS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){dS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(eA(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ex(this,e)}_makeRequest(e,t,s,a,o=!0){if(this._deleted)return new wV(TI());{const c=UV(e,this._appId,s,a,t,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,a).getPromise()}}const fS="@firebase/storage",mS="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QV="storage";function OV(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),s=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new LV(t,s,a,e,ef)}function PV(){Ld(new dV(QV,OV,"PUBLIC").setMultipleInstances(!0)),IA(fS,mS,""),IA(fS,mS,"esm2020")}PV();const pS=n=>{const e=n.toLowerCase();return e.includes("nursery")?"Nursery":e.startsWith("kg")||e.includes("kg")?"KG":/class\s*[1-3]\b/i.test(n)?"Class 1-3":/class\s*[4-6]\b/i.test(n)?"Class 4-6":/jhs\s*[1-3]\b/i.test(n)?"JHS 1-3":"Other"},kV=()=>{var qe;const{user:n}=$o(),e=wT(n),[t,s]=ee.useState([]),[a,o]=ee.useState(""),[c,h]=ee.useState(new Date().toISOString().split("T")[0]),[u,f]=ee.useState("info"),[A,m]=ee.useState(!1),[v,g]=ee.useState(((qe=Un[0])==null?void 0:qe.id)||""),[b,S]=ee.useState([]),[N,E]=ee.useState(""),[I,F]=ee.useState(null),[D,P]=ee.useState({schoolId:e,schoolName:"",academicYear:"",currentTerm:"",schoolReopenDate:"",vacationDate:"",nextTermBegins:"",termTransitionProcessed:!1,headTeacherRemark:"",termEndDate:""}),[K,L]=ee.useState(!1),[Q,R]=ee.useState(!1),[M,O]=ee.useState(!1),[H,G]=ee.useState(!1),[ie,ge]=ee.useState(!1),[J,re]=ee.useState(!1),[se,he]=ee.useState(null),[je,ne]=ee.useState(!1),V=$b.useMemo(()=>{const We={Nursery:[],KG:[],"Class 1-3":[],"Class 4-6":[],"JHS 1-3":[],Other:[]};return Un.forEach(dt=>{const Qt=pS(dt.name);We[Qt].push(dt)}),We},[]),W=We=>{const dt=Un.find(Gt=>Gt.id===We);if(!dt)return[We];const Qt=pS(dt.name),Pt=V[Qt];return(Pt!=null&&Pt.length?Pt:[dt]).map(Gt=>Gt.id)},ae=async()=>{const We=await ut.getNotices(e);s(We)},ce=async()=>{if(v){const We=await ut.getSubjects(e,v);S(We)}},Ae=async()=>{const We=await ut.getSchoolConfig(e);P(dt=>({...dt,schoolId:e,...We}))};ee.useEffect(()=>{ae(),Ae()},[e]),ee.useEffect(()=>{ce()},[v,e]);const pe=async()=>{L(!0),await ut.updateSchoolConfig(D),L(!1),Mt("Configuration saved successfully!",{type:"success"})},Se=async()=>{R(!0);try{await ut.createTermBackup(D,D.currentTerm,D.academicYear),Mt("Term backup created successfully!",{type:"success"})}catch(We){console.error("Error creating term backup:",We),Mt("Failed to create term backup. Please try again.",{type:"error"})}finally{R(!1)}},xe=async We=>{if(We.preventDefault(),!(!a.trim()||!c)){m(!0);try{const[dt,Qt,Pt]=c.split("-").map(Number),sn=new Date(dt,Qt-1,Pt).toLocaleDateString("en-GB",{day:"numeric",month:"short"});await ut.addNotice({id:Math.random().toString(36).substr(2,9),schoolId:e,message:a,date:sn,type:u,createdAt:Date.now()}),o(""),ae(),Mt("Notice added successfully!",{type:"success"})}catch(dt){console.error("Error adding notice:",dt),Mt("Failed to add notice. Please try again.",{type:"error"})}finally{m(!1)}}},Ie=async We=>{await ut.deleteNotice(We),ae()},_e=async We=>{if(We.preventDefault(),!N.trim()||!v)return;const dt=W(v);await Promise.all(dt.map(Qt=>ut.addSubject(Qt,N.trim(),e))),E(""),ce(),Mt("Subject added successfully!",{type:"success"})},De=We=>{he(We),re(!0)},st=async()=>{if(!(!se||!v)){re(!1);try{const We=W(v);await Promise.all(We.map(dt=>ut.deleteSubject(dt,se,e))),ce(),Mt(`Subject "${se}" deleted successfully!`,{type:"success"})}catch(We){console.error("Error deleting subject:",We),Mt("Failed to delete subject. Please try again.",{type:"error"})}finally{he(null)}}},He=We=>{F({original:We,current:We})},de=async()=>{if(!I||!I.current.trim()||!v)return;const We=W(v);await Promise.all(We.map(dt=>ut.updateSubject(dt,I.original,I.current.trim(),e))),F(null),ce(),Mt("Subject updated successfully!",{type:"success"})},rt=()=>{ge(!0)},_t=async We=>{const dt=Wn(Et,We),Pt=(await es(dt)).docs.map(Gt=>yi(Gt.ref));await Promise.all(Pt)},vt=async()=>{ge(!1),G(!0);try{const We=["attendance","assessments","teacher_attendance","notices","student_remarks","admin_remarks","student_skills","admin_notifications"];for(const Qt of We)console.log(`Deleting collection: ${Qt}`),await _t(Qt);const dt=Vn(Et,"settings",e);await vi(dt,{schoolReopenDate:"",vacationDate:"",nextTermBegins:""},{merge:!0}),Mt("Term data reset successfully!",{type:"success"}),window.location.reload()}catch(We){console.error("Term Reset error:",We),Mt(`Term Reset Failed: ${We.message}`,{type:"error"})}finally{G(!1)}};return i.jsxs(Xs,{title:"System Settings",children:[i.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[i.jsxs("div",{className:"relative overflow-hidden rounded-2xl border bg-gradient-to-br from-indigo-50 via-white to-emerald-50 p-6 shadow-sm",children:[i.jsx("div",{className:"absolute -top-16 -right-16 h-40 w-40 rounded-full bg-indigo-200/40 blur-3xl"}),i.jsx("div",{className:"absolute -bottom-20 -left-16 h-48 w-48 rounded-full bg-emerald-200/40 blur-3xl"}),i.jsxs("div",{className:"relative flex flex-col gap-2",children:[i.jsxs("h1",{className:"text-3xl font-bold text-slate-900 flex items-center gap-3",children:[i.jsx("span",{className:"h-10 w-10 rounded-2xl bg-indigo-100 text-indigo-700 flex items-center justify-center",children:i.jsx(Zw,{size:20})}),"System Settings"]}),i.jsx("p",{className:"text-sm text-slate-600",children:"Configure academic terms, subjects, notices, and backups with a premium control center."})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 p-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"General Configuration"}),i.jsx("p",{className:"text-xs text-slate-500",children:"Academic year, term, and key school dates."})]}),i.jsxs("button",{onClick:pe,disabled:K,className:"flex items-center text-xs font-bold text-white bg-emerald-600 hover:bg-emerald-700 px-4 py-2 rounded-full transition-colors",children:[i.jsx(sA,{size:14,className:"mr-1"})," ",K?"Saving...":"Save Changes"]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Academic Year"}),i.jsx("input",{type:"text",value:D.academicYear,onChange:We=>P({...D,academicYear:We.target.value}),className:"w-full border border-slate-200 p-2.5 rounded-xl bg-white text-slate-800 focus:ring-2 focus:ring-emerald-200 outline-none"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Current Term"}),i.jsxs("select",{value:D.currentTerm,onChange:We=>P({...D,currentTerm:We.target.value}),className:"w-full border border-slate-200 p-2.5 rounded-xl bg-white text-slate-800 focus:ring-2 focus:ring-emerald-200 outline-none",children:[i.jsx("option",{value:"Term 1",children:"Term 1"}),i.jsx("option",{value:"Term 2",children:"Term 2"}),i.jsx("option",{value:"Term 3",children:"Term 3"})]})]})]}),i.jsxs("div",{className:"pt-4 border-t border-slate-100",children:[i.jsx("h3",{className:"font-medium text-slate-800 mb-2",children:"School Information"}),i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"School Re-open Date"}),i.jsxs("div",{className:"relative",children:[i.jsx(ol,{className:"absolute left-3 top-2.5 w-4 h-4 text-slate-400 pointer-events-none"}),i.jsx("input",{type:"date",value:D.schoolReopenDate,onChange:We=>P({...D,schoolReopenDate:We.target.value}),className:"w-full border border-slate-200 pl-10 pr-3 py-2.5 rounded-xl bg-white text-slate-800 focus:ring-2 focus:ring-emerald-200 outline-none"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Term Vacation Date"}),i.jsxs("div",{className:"relative",children:[i.jsx(ol,{className:"absolute left-3 top-2.5 w-4 h-4 text-slate-400 pointer-events-none"}),i.jsx("input",{type:"date",value:D.vacationDate,onChange:We=>P({...D,vacationDate:We.target.value}),className:"w-full border border-slate-200 pl-10 pr-3 py-2.5 rounded-xl bg-white text-slate-800 focus:ring-2 focus:ring-emerald-200 outline-none"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Next Term Begins"}),i.jsxs("div",{className:"relative",children:[i.jsx(ol,{className:"absolute left-3 top-2.5 w-4 h-4 text-slate-400 pointer-events-none"}),i.jsx("input",{type:"date",value:D.nextTermBegins||"",onChange:We=>P({...D,nextTermBegins:We.target.value}),className:"w-full border border-slate-200 pl-10 pr-3 py-2.5 rounded-xl bg-white text-slate-800 focus:ring-2 focus:ring-emerald-200 outline-none"})]})]})]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 p-6",children:[i.jsxs("h2",{className:"text-xl font-bold mb-6 text-slate-800 flex items-center",children:[i.jsx(nk,{className:"mr-2 text-[#0B4A82]",size:24}),"Manage Class Subjects"]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Select Class"}),i.jsx("select",{value:v,onChange:We=>g(We.target.value),className:"w-full border border-slate-200 p-2.5 rounded-xl bg-white text-slate-800 focus:ring-2 focus:ring-[#1160A8] outline-none",children:["Nursery","KG","Class 1-3","Class 4-6","JHS 1-3","Other"].map(We=>{var dt;return(dt=V[We])!=null&&dt.length?i.jsx("optgroup",{label:We,children:V[We].map(Qt=>i.jsx("option",{value:Qt.id,children:Qt.name},Qt.id))},We):null})})]}),i.jsxs("form",{onSubmit:_e,className:"flex gap-2 mb-6",children:[i.jsx("input",{type:"text",required:!0,className:"flex-1 border border-slate-200 p-2.5 rounded-xl focus:ring-2 focus:ring-[#1160A8] outline-none text-sm",placeholder:"New subject name...",value:N,onChange:We=>E(We.target.value)}),i.jsx("button",{type:"submit",className:"bg-[#1160A8] text-white px-4 py-2 rounded-xl hover:bg-[#0B4A82] transition-colors",children:i.jsx(cm,{size:20})})]}),i.jsx("div",{className:"space-y-2 max-h-[300px] overflow-y-auto",children:b.length===0?i.jsx("p",{className:"text-sm text-slate-500 text-center italic",children:"No subjects configured for this class. Add some above!"}):b.map(We=>i.jsx("div",{className:"flex justify-between items-center p-3 bg-slate-50 rounded-xl border border-slate-100 group",children:(I==null?void 0:I.original)===We?i.jsxs("div",{className:"flex items-center flex-1 gap-2",children:[i.jsx("input",{type:"text",className:"flex-1 border border-slate-200 p-2 rounded-lg text-sm focus:ring-2 focus:ring-[#1160A8] outline-none",value:I.current,onChange:dt=>F({...I,current:dt.target.value}),autoFocus:!0}),i.jsx("button",{onClick:de,className:"text-emerald-600 hover:bg-emerald-50 p-1 rounded",children:i.jsx(Pp,{size:16})}),i.jsx("button",{onClick:()=>F(null),className:"text-[#1160A8] hover:bg-[#E6F0FA] p-1 rounded",children:i.jsx(fo,{size:16})})]}):i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"text-sm font-medium text-slate-700",children:We}),i.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[i.jsx("button",{onClick:()=>He(We),className:"text-slate-400 hover:text-[#1160A8] p-1.5 hover:bg-[#E6F0FA] rounded-md transition-colors",children:i.jsx(t2,{size:14})}),i.jsx("button",{onClick:()=>De(We),className:"text-slate-400 hover:text-[#1160A8] p-1.5 hover:bg-[#E6F0FA] rounded-md transition-colors",children:i.jsx(ic,{size:14})})]})]})},We))})]}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 p-6",children:[i.jsxs("h2",{className:"text-xl font-bold mb-6 text-slate-800 flex items-center",children:[i.jsx(sA,{className:"mr-2 text-purple-600",size:24}),"Term Data Backup"]}),i.jsx("p",{className:"text-sm text-slate-600 mb-4",children:`Create a full backup of the current term's academic records, attendance, and student data. Backups can be viewed and restored from the "Manage Backups" section.`}),i.jsx("button",{onClick:Se,disabled:Q,className:"bg-purple-600 text-white px-4 py-2 rounded-full hover:bg-purple-700 transition-colors flex items-center disabled:opacity-70 disabled:cursor-not-allowed",children:Q?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent mr-2"}),"Creating..."]}):i.jsxs(i.Fragment,{children:[i.jsx(sA,{size:16,className:"mr-2"})," Create Current Term Backup"]})}),i.jsxs(wi,{to:"/admin/backups",className:"mt-4 inline-flex items-center text-sm font-medium text-[#1160A8] hover:text-[#0B4A82]",children:[i.jsx(Lk,{size:16,className:"mr-1"})," View and Manage Previous Backups"]})]}),M&&i.jsxs("div",{className:"bg-rose-50 border border-rose-200 rounded-2xl p-6",children:[i.jsxs("div",{className:"flex items-center mb-4",children:[i.jsx(e2,{className:"text-rose-600 mr-2",size:24}),i.jsx("h2",{className:"text-xl font-bold text-rose-800",children:"Danger Zone: Database Reset"})]}),i.jsx("p",{className:"text-rose-700 mb-4",children:"This action will permanently delete all data and reset the system to its default state. Use with extreme caution."}),i.jsx("div",{className:"flex flex-col space-y-4",children:i.jsx("button",{onClick:rt,disabled:H,className:"bg-rose-600 text-white px-4 py-2 rounded-full hover:bg-rose-700 disabled:bg-rose-400 transition-colors",children:H?"Resetting Term...":"Term Reset"})})]}),i.jsx("div",{className:"text-center mt-4",children:i.jsxs("button",{onClick:()=>O(!M),className:"text-slate-500 text-sm underline hover:text-slate-700",children:[M?"Hide":"Show"," Advanced Settings"]})})]}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 p-6 flex flex-col h-full",children:[i.jsxs("h2",{className:"text-xl font-bold mb-6 text-slate-800 flex items-center",children:[i.jsx(Gk,{className:"mr-2 text-emerald-600",size:24}),"School Notices"]}),i.jsxs("form",{onSubmit:xe,className:"mb-6 bg-slate-50 p-4 rounded-2xl border border-slate-200",children:[i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Date"}),i.jsxs("div",{className:"relative",children:[i.jsx(ol,{className:"absolute left-3 top-2.5 w-4 h-4 text-slate-400"}),i.jsx("input",{type:"date",required:!0,className:"w-full border border-slate-200 pl-10 pr-3 py-2.5 rounded-xl focus:ring-2 focus:ring-emerald-200 outline-none text-sm",value:c,onChange:We=>h(We.target.value)})]})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Notice Message"}),i.jsx("textarea",{required:!0,className:"w-full border border-slate-200 p-2.5 rounded-xl focus:ring-2 focus:ring-emerald-200 outline-none text-sm",placeholder:"Type notice here...",rows:2,value:a,onChange:We=>o(We.target.value)})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("label",{className:"flex items-center text-sm cursor-pointer",children:[i.jsx("input",{type:"radio",name:"type",className:"mr-2 text-emerald-600 focus:ring-emerald-500",checked:u==="info",onChange:()=>f("info")}),"Info"]}),i.jsxs("label",{className:"flex items-center text-sm cursor-pointer",children:[i.jsx("input",{type:"radio",name:"type",className:"mr-2 text-red-600 focus:ring-red-500",checked:u==="urgent",onChange:()=>f("urgent")}),"Urgent"]})]}),i.jsx("button",{type:"submit",disabled:A,className:"bg-emerald-600 text-white px-4 py-2 rounded-full text-sm font-medium hover:bg-emerald-700 transition-colors flex items-center disabled:opacity-70 disabled:cursor-not-allowed",children:A?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent mr-1"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(cm,{size:16,className:"mr-1"})," Add Notice"]})})]})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto pr-1",children:[i.jsx("h3",{className:"text-sm font-bold text-slate-500 uppercase mb-3",children:"Active Notices"}),i.jsx("div",{className:"space-y-3",children:t.length===0?i.jsx("p",{className:"text-slate-400 text-sm text-center italic",children:"No notices posted."}):t.map(We=>i.jsxs("div",{className:"flex justify-between items-start group p-3 border border-slate-100 rounded-xl hover:bg-slate-50 transition-colors",children:[i.jsxs("div",{className:`border-l-2 pl-3 ${We.type==="urgent"?"border-red-500":"border-emerald-500"}`,children:[i.jsx("p",{className:"text-sm text-slate-800 font-medium",children:We.message}),i.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:[We.date," "," ",We.type==="urgent"?"Urgent":"General Info"]})]}),i.jsx("button",{onClick:()=>Ie(We.id),className:"text-slate-300 hover:text-[#1160A8] transition-colors p-1",title:"Delete Notice",children:i.jsx(ic,{size:16})})]},We.id))})]})]})]})]}),ie&&i.jsx("div",{className:"fixed inset-0 bg-slate-900 bg-opacity-30 flex items-center justify-center z-50 transition-opacity duration-300",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 max-w-lg w-full mx-4 transform transition-all duration-300 scale-100",children:[i.jsxs("div",{className:"flex items-center mb-4",children:[i.jsx(Ll,{className:"text-red-600 mr-3",size:32}),i.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Confirm Term Reset"})]}),i.jsxs("div",{className:"text-slate-600 mb-6 space-y-2",children:[i.jsxs("p",{children:["This will reset all data for the current term, but"," ",i.jsx("strong",{children:"keep core school setup"}),". Are you sure you want to proceed?"]}),i.jsxs("ul",{className:"list-disc list-inside text-sm space-y-1",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"RESET:"})," Attendance, Assessments, Teacher Attendance, Notices, and all student Remarks."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"KEEP:"})," Student Enrollment, Teacher Accounts, Class Subjects, and Timetables."]})]}),i.jsx("p",{className:"font-semibold text-red-700",children:"This action cannot be undone."})]}),i.jsxs("div",{className:"flex justify-end gap-3",children:[i.jsx("button",{onClick:()=>ge(!1),className:"px-4 py-2 text-slate-600 border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors",children:"Cancel"}),i.jsx("button",{onClick:vt,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Confirm Term Reset"})]})]})}),J&&se&&i.jsx("div",{className:"fixed inset-0 bg-slate-900 bg-opacity-30 flex items-center justify-center z-50 transition-opacity duration-300",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 max-w-md w-full mx-4 transform transition-all duration-300 scale-100",children:[i.jsxs("div",{className:"flex items-center mb-4",children:[i.jsx(Ll,{className:"text-red-600 mr-3",size:32}),i.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Delete Subject"})]}),i.jsxs("p",{className:"text-slate-600 mb-6",children:['Are you sure you want to delete the subject "',i.jsx("strong",{children:se}),'"? This might hide scores associated with this subject and cannot be undone.']}),i.jsxs("div",{className:"flex justify-end gap-3",children:[i.jsx("button",{onClick:()=>{re(!1),he(null)},className:"px-4 py-2 text-slate-600 border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors",children:"Cancel"}),i.jsx("button",{onClick:st,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Delete Subject"})]})]})})]})},MV=n=>{if(!n)return"CLASS";const e=Un.find(t=>t.id===n);return e&&e.level?e.level:n.startsWith("c_n")?"NURSERY":n.startsWith("c_kg")?"KG":n.startsWith("c_p")?"PRIMARY":n.startsWith("c_jhs")?"JHS":"CLASS"},HV=()=>{var ge,J,re,se,he,je,ne,V;const{school:n}=cc(),e=(n==null?void 0:n.id)||null,[t,s]=ee.useState([]),[a,o]=ee.useState(!0),[c,h]=ee.useState(null),[u,f]=ee.useState(""),[A,m]=ee.useState(""),[v,g]=ee.useState(""),[b,S]=ee.useState(null),[N,E]=ee.useState(!1),[I,F]=ee.useState(null),[D,P]=ee.useState(!1),[K,L]=ee.useState(!1),Q=ee.useMemo(()=>{var Ie;if(!((Ie=b==null?void 0:b.data)!=null&&Ie.students))return[];const W=b.data.students||[],ae=b.data.attendanceRecords||[],ce=b.data.assessments||[],Ae=b.data.studentRemarks||[],pe=ae.reduce((_e,De)=>(_e[De.classId]||(_e[De.classId]=[]),_e[De.classId].push(De),_e),{}),Se=ce.reduce((_e,De)=>{const st=typeof De.total=="number"?De.total:nc(De);return _e[De.studentId]||(_e[De.studentId]={total:0,count:0}),_e[De.studentId].total+=st,_e[De.studentId].count+=1,_e},{}),xe=Ae.reduce((_e,De)=>{const st=_e[De.studentId];if(!st)return _e[De.studentId]=De,_e;const He=new Date(st.dateCreated).getTime();return new Date(De.dateCreated).getTime()>=He&&(_e[De.studentId]=De),_e},{});return W.map(_e=>{var qe;const De=pe[_e.classId]||[],st=De.filter(We=>{var dt;return(dt=We.presentStudentIds)==null?void 0:dt.includes(_e.id)}).length,He=De.length,de=He?`${Math.round(st/He*100)}%`:"-",rt=Se[_e.id],_t=rt!=null&&rt.count?(rt.total/rt.count).toFixed(1):"-",vt=((qe=xe[_e.id])==null?void 0:qe.remark)||"N/A";return{student:_e,presentDays:st,totalDays:He,attendanceRate:de,avgScore:_t,remark:vt}})},[b]),R=async W=>{o(!0),h(null);try{if(!e){s([]);return}const ae={schoolId:e,term:(W==null?void 0:W.term)||void 0,academicYear:(W==null?void 0:W.academicYear)||void 0,date:(W==null?void 0:W.date)||void 0},ce=await ut.getBackups(ae);s(ce)}catch(ae){console.error("Error fetching backups:",ae),h("Failed to fetch backups."),Mt("Failed to fetch backups.",{type:"error"})}finally{o(!1)}},M=async W=>{try{if(!e)return;const ae=await ut.getBackupDetails(e,W);ae?(S(ae),E(!0)):Mt("Backup details not found.",{type:"error"})}catch(ae){console.error("Error fetching backup details:",ae),Mt("Failed to fetch backup details.",{type:"error"})}},O=W=>{F(W),P(!0)},H=async W=>{try{if(!e)return;const ae=await ut.getBackupDetails(e,W);if(ae&&ae.data){const ce=`backup_${ae.academicYear.replace("-","")}_${ae.term.replace(" ","")}_${ae.timestamp}.json`,Ae=JSON.stringify(ae.data,null,2),pe=new Blob([Ae],{type:"application/json"}),Se=URL.createObjectURL(pe),xe=document.createElement("a");xe.href=Se,xe.download=ce,document.body.appendChild(xe),xe.click(),document.body.removeChild(xe),URL.revokeObjectURL(Se),Mt("Backup downloaded successfully!",{type:"success"})}else Mt("No data available to download for this backup.",{type:"error"})}catch(ae){console.error("Error downloading backup:",ae),Mt("Failed to download backup.",{type:"error"})}},G=async()=>{if(I){console.log("Attempting to delete backup:",I);try{if(!e)return;await ut.deleteBackup(e,I),console.log("Backup deleted successfully in DB."),Mt("Backup deleted successfully!",{type:"success"}),P(!1),F(null),f(""),m(""),g(""),await R(),console.log("Backup list refreshed after deletion.")}catch(W){console.error("Error during backup deletion or refresh:",W),Mt("Failed to delete backup or refresh list.",{type:"error"})}}},ie=async()=>{L(!1);try{if(!e)return;await ut.deleteAllBackups(e),Mt("All backups cleared successfully!",{type:"success"}),f(""),m(""),g(""),await R()}catch(W){console.error("Error clearing all backups:",W),Mt("Failed to clear all backups.",{type:"error"})}};return ee.useEffect(()=>{R()},[e]),a?i.jsx(Xs,{title:"Manage Backups",children:i.jsxs("div",{className:"flex justify-center items-center h-48",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-slate-300 border-t-[#0B4A82]"}),i.jsx("p",{className:"ml-4 text-slate-500",children:"Loading backups..."})]})}):c?i.jsx(Xs,{title:"Manage Backups",children:i.jsxs("div",{className:"text-center p-8 bg-[#E6F0FA] border border-[#E6F0FA] rounded-lg",children:[i.jsx("p",{className:"text-[#0B4A82]",children:c}),i.jsxs("button",{onClick:()=>R(),className:"mt-4 px-4 py-2 bg-[#0B4A82] text-white rounded hover:bg-[#0B4A82]",children:[i.jsx(FT,{className:"inline-block mr-2",size:16})," Retry"]})]})}):i.jsxs(Xs,{title:"Manage Backups",children:[i.jsx("h1",{className:"text-2xl font-bold text-slate-800 mb-6",children:"Manage Term Backups"}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 p-6 mb-6",children:[i.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:"Backup Filters"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"filterTerm",className:"block text-sm font-medium text-slate-700 mb-1",children:"Term"}),i.jsxs("select",{id:"filterTerm",value:u,onChange:W=>f(W.target.value),className:"w-full border border-slate-300 p-2 rounded-lg bg-white text-slate-800 focus:ring-2 focus:ring-[#1160A8] outline-none",children:[i.jsx("option",{value:"",children:"All Terms"}),i.jsx("option",{value:"Term 1",children:"Term 1"}),i.jsx("option",{value:"Term 2",children:"Term 2"}),i.jsx("option",{value:"Term 3",children:"Term 3"})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"filterAcademicYear",className:"block text-sm font-medium text-slate-700 mb-1",children:"Academic Year"}),i.jsx("input",{id:"filterAcademicYear",type:"text",value:A,onChange:W=>m(W.target.value),placeholder:"e.g., 2023-2024",className:"w-full border border-slate-300 p-2 rounded-lg bg-white text-slate-800 focus:ring-2 focus:ring-[#1160A8] outline-none"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"filterDate",className:"block text-sm font-medium text-slate-700 mb-1",children:"Date Created (YYYY-MM-DD)"}),i.jsx("input",{id:"filterDate",type:"date",value:v,onChange:W=>g(W.target.value),className:"w-full border border-slate-300 p-2 rounded-lg bg-white text-slate-800 focus:ring-2 focus:ring-[#1160A8] outline-none"})]})]}),i.jsxs("button",{onClick:()=>R({term:u,academicYear:A,date:v}),className:"px-4 py-2 bg-[#1160A8] text-white rounded-lg hover:bg-[#0B4A82] transition-colors flex items-center",children:[i.jsx(_T,{size:16,className:"mr-2"})," Apply Filters"]}),i.jsx("button",{onClick:()=>{f(""),m(""),g(""),R()},className:"ml-2 px-4 py-2 bg-slate-200 text-slate-700 rounded-lg hover:bg-slate-300 transition-colors",children:"Clear Filters"}),i.jsx("button",{onClick:()=>L(!0),className:"ml-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Clear All Backups"})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 p-6",children:[i.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:"Available Backups"}),t.length===0?i.jsx("div",{className:"text-center p-8 text-slate-500",children:i.jsx("p",{children:"No backups found. Create one from System Settings."})}):i.jsx("div",{className:"space-y-4",children:t.map((W,ae)=>i.jsxs("div",{className:"flex items-center justify-between p-4 border border-slate-200 rounded-lg",children:[i.jsxs("div",{children:[i.jsxs("p",{className:"font-semibold text-slate-800",children:[W.term," - ",W.academicYear]}),i.jsxs("p",{className:"text-sm text-slate-500",children:["Created: ",new Date(W.timestamp).toLocaleString()]})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs("button",{onClick:()=>M(W.id||""),className:"px-3 py-1 bg-[#E6F0FA] text-[#0B4A82] rounded-md text-sm hover:bg-[#E6F0FA] flex items-center",title:"View Backup Details",children:[i.jsx(Xd,{size:16,className:"mr-1"})," View"]}),i.jsxs("button",{onClick:()=>H(W.id||""),className:"px-3 py-1 bg-emerald-100 text-emerald-700 rounded-md text-sm hover:bg-emerald-200 flex items-center",title:"Download Backup",children:[i.jsx(Wv,{size:16,className:"mr-1"})," Download"]}),i.jsxs("button",{onClick:()=>O(W.id||""),className:"px-3 py-1 bg-[#E6F0FA] text-[#0B4A82] rounded-md text-sm hover:bg-[#E6F0FA] flex items-center",title:"Delete Backup",children:[i.jsx(ic,{size:16,className:"mr-1"})," Delete"]})]})]},W.id||`backup-${ae}`))})]}),N&&b&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[100] p-4 animate-in fade-in duration-200",children:i.jsxs("div",{className:"bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto shadow-2xl",children:[i.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:[i.jsxs("h3",{className:"text-lg font-bold text-slate-900",children:["Backup Details: ",b.term," -"," ",b.academicYear]}),i.jsx("button",{onClick:()=>E(!1),className:"text-slate-400 hover:text-slate-700",children:i.jsx(fo,{size:20})})]}),i.jsxs("div",{className:"p-6",children:[i.jsx("div",{className:"bg-gradient-to-r from-[#E6F0FA] to-amber-50 rounded-xl p-4 mb-6 border border-[#E6F0FA]",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 bg-[#E6F0FA] rounded-full",children:i.jsx(Rd,{className:"text-[#0B4A82]",size:24})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-slate-500 uppercase font-semibold",children:"Backup Created"}),i.jsx("p",{className:"text-lg font-bold text-slate-800",children:new Date(b.timestamp).toLocaleString()})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-xs text-slate-500 uppercase font-semibold",children:"Backup ID"}),i.jsxs("p",{className:"text-sm font-mono text-slate-700",children:[(ge=b.id)==null?void 0:ge.slice(0,8),"..."]})]})]})}),b.data?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[i.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-slate-100 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("div",{className:"p-2 bg-amber-100 rounded-lg",children:i.jsx(Am,{className:"text-amber-600",size:20})}),i.jsx("span",{className:"text-xs text-slate-500 font-semibold uppercase",children:"Students"})]}),i.jsx("p",{className:"text-2xl font-bold text-slate-800",children:((J=b.data.students)==null?void 0:J.length)||0})]}),i.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-slate-100 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("div",{className:"p-2 bg-[#E6F0FA] rounded-lg",children:i.jsx(ll,{className:"text-[#0B4A82]",size:20})}),i.jsx("span",{className:"text-xs text-slate-500 font-semibold uppercase",children:"Teachers"})]}),i.jsx("p",{className:"text-2xl font-bold text-slate-800",children:((re=b.data.users)==null?void 0:re.length)||0})]}),i.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-slate-100 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("div",{className:"p-2 bg-emerald-100 rounded-lg",children:i.jsx(Dl,{className:"text-emerald-600",size:20})}),i.jsx("span",{className:"text-xs text-slate-500 font-semibold uppercase",children:"Assessments"})]}),i.jsx("p",{className:"text-2xl font-bold text-slate-800",children:((se=b.data.assessments)==null?void 0:se.length)||0})]}),i.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-slate-100 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:i.jsx(ol,{className:"text-purple-600",size:20})}),i.jsx("span",{className:"text-xs text-slate-500 font-semibold uppercase",children:"Attendance"})]}),i.jsx("p",{className:"text-2xl font-bold text-slate-800",children:((he=b.data.attendanceRecords)==null?void 0:he.length)||0})]})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-6",children:[i.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 border border-slate-100",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(Mh,{size:16,className:"text-slate-400"}),i.jsx("span",{className:"text-xs text-slate-500 font-semibold uppercase",children:"Teacher Attendance"})]}),i.jsxs("p",{className:"text-lg font-bold text-slate-700",children:[((je=b.data.teacherAttendanceRecords)==null?void 0:je.length)||0," ","records"]})]}),i.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 border border-slate-100",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(mv,{size:16,className:"text-slate-400"}),i.jsx("span",{className:"text-xs text-slate-500 font-semibold uppercase",children:"Remarks"})]}),i.jsxs("p",{className:"text-lg font-bold text-slate-700",children:[((ne=b.data.studentRemarks)==null?void 0:ne.length)||0," ","records"]})]}),i.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 border border-slate-100",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(Dl,{size:16,className:"text-slate-400"}),i.jsx("span",{className:"text-xs text-slate-500 font-semibold uppercase",children:"Timetables"})]}),i.jsxs("p",{className:"text-lg font-bold text-slate-700",children:[((V=b.data.timetables)==null?void 0:V.length)||0," classes"]})]})]}),i.jsxs("div",{className:"border-t border-slate-100 pt-6",children:[i.jsxs("h4",{className:"font-bold text-slate-800 mb-4 flex items-center",children:[i.jsx(ll,{size:18,className:"mr-2 text-[#0B4A82]"}),"Students List"]}),Q.length>0?i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 overflow-hidden",children:[i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm text-left",children:[i.jsx("thead",{className:"bg-slate-50 text-slate-600 font-semibold",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3",children:"Student"}),i.jsx("th",{className:"px-4 py-3",children:"Class"}),i.jsx("th",{className:"px-4 py-3 text-center",children:"Attendance"}),i.jsx("th",{className:"px-4 py-3 text-center",children:"Avg Score"}),i.jsx("th",{className:"px-4 py-3",children:"Remark"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-100",children:Q.map(W=>{var ae;return i.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[i.jsx("td",{className:"px-4 py-3 font-medium text-slate-800",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs text-white mr-3 shadow-sm ${W.student.gender==="Male"?"bg-amber-400":"bg-[#0B4A82]"}`,children:W.student.name.charAt(0)}),i.jsxs("div",{children:[i.jsx("p",{children:W.student.name}),i.jsx("p",{className:"text-xs text-slate-400",children:W.student.gender})]})]})}),i.jsx("td",{className:"px-4 py-3",children:i.jsx("span",{className:"px-2.5 py-1 rounded-md bg-slate-100 text-slate-600 text-xs font-semibold border border-slate-200",children:((ae=Un.find(ce=>ce.id===W.student.classId))==null?void 0:ae.name)||W.student.classId})}),i.jsxs("td",{className:"px-4 py-3 text-center",children:[i.jsx("div",{className:"text-sm font-semibold text-slate-700",children:W.attendanceRate}),i.jsxs("div",{className:"text-xs text-slate-400",children:[W.presentDays,"/",W.totalDays," days"]})]}),i.jsx("td",{className:"px-4 py-3 text-center font-semibold text-slate-700",children:W.avgScore}),i.jsx("td",{className:"px-4 py-3 text-slate-600",children:W.remark})]},W.student.id)})})]})}),i.jsxs("div",{className:"px-4 py-3 bg-slate-50 border-t border-slate-100 text-xs text-slate-500",children:["Total: ",Q.length," student",Q.length!==1?"s":""]})]}):i.jsxs("div",{className:"text-center py-8 text-slate-500 bg-slate-50 rounded-xl border border-slate-100",children:[i.jsx(ll,{size:32,className:"mx-auto mb-2 text-slate-300"}),i.jsx("p",{children:"No students in this backup."})]}),b.data.classSubjects&&b.data.classSubjects.length>0&&i.jsxs("div",{className:"mt-6",children:[i.jsxs("h5",{className:"font-bold text-slate-800 mb-3 flex items-center",children:[i.jsx(Am,{size:18,className:"mr-2 text-amber-600"}),"Classes & Subjects"]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:b.data.classSubjects.map((W,ae)=>{var pe,Se;const ce=Un.find(xe=>xe.id===W.classId),Ae=MV(W.classId);return i.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-white rounded-xl p-4 border border-amber-200 hover:shadow-lg transition-shadow",children:[i.jsxs("div",{className:"text-center mb-3 pb-3 border-b border-amber-200",children:[i.jsx("p",{className:"text-xs font-bold text-amber-600 uppercase tracking-wider mb-1",children:Ae}),i.jsx("p",{className:"text-2xl font-extrabold text-slate-800",children:(ce==null?void 0:ce.name)||W.classId})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wide mb-2",children:"Subjects"}),i.jsx("div",{className:"flex flex-wrap gap-1",children:W.subjects&&W.subjects.length>0?W.subjects.map((xe,Ie)=>i.jsx("span",{className:"px-2 py-1 bg-white border border-slate-200 text-slate-700 text-xs rounded-md shadow-sm",children:xe},Ie)):i.jsx("span",{className:"text-xs text-slate-400 italic",children:"No subjects"})}),i.jsxs("p",{className:"text-xs text-slate-500 mt-2 font-medium",children:[((pe=W.subjects)==null?void 0:pe.length)||0," subject",((Se=W.subjects)==null?void 0:Se.length)!==1?"s":""]})]})]},ae)})})]})]})]}):i.jsxs("div",{className:"text-center py-12 text-slate-500",children:[i.jsx(Mh,{size:48,className:"mx-auto mb-4 text-slate-300"}),i.jsx("p",{children:"No data available for this backup."})]})]}),i.jsx("div",{className:"p-6 border-t border-slate-100 text-right",children:i.jsx("button",{onClick:()=>E(!1),className:"px-4 py-2 bg-[#1160A8] text-white rounded-lg hover:bg-[#0B4A82]",children:"Close"})})]})}),D&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[100] p-4 animate-in fade-in duration-200",children:i.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md max-h-[90vh] overflow-y-auto shadow-2xl",children:[i.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:[i.jsx("h3",{className:"text-lg font-bold text-[#0B4A82]",children:"Confirm Deletion"}),i.jsx("button",{onClick:()=>P(!1),className:"text-slate-400 hover:text-slate-700",children:i.jsx(fo,{size:20})})]}),i.jsxs("div",{className:"p-6",children:[i.jsx("p",{className:"text-slate-700 mb-4",children:"Are you sure you want to delete this backup? This action cannot be undone."}),i.jsxs("p",{className:"text-sm text-slate-500",children:["Backup ID: ",I]})]}),i.jsxs("div",{className:"p-6 border-t border-slate-100 text-right space-x-2",children:[i.jsx("button",{onClick:()=>P(!1),className:"px-4 py-2 bg-slate-200 text-slate-700 rounded-lg hover:bg-slate-300",children:"Cancel"}),i.jsx("button",{onClick:G,className:"px-4 py-2 bg-[#1160A8] text-white rounded-lg hover:bg-[#0B4A82]",children:"Delete"})]})]})}),K&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[100] p-4 animate-in fade-in duration-200",children:i.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md max-h-[90vh] overflow-y-auto shadow-2xl",children:[i.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:[i.jsx("h3",{className:"text-lg font-bold text-[#0B4A82]",children:"Confirm Clear All Backups"}),i.jsx("button",{onClick:()=>L(!1),className:"text-slate-400 hover:text-slate-700",children:i.jsx(fo,{size:20})})]}),i.jsxs("div",{className:"p-6",children:[i.jsx("p",{className:"text-slate-700 mb-4",children:"Are you sure you want to delete ALL backups? This action cannot be undone and will permanently remove all backup data."}),i.jsxs("p",{className:"text-sm text-[#0B4A82] font-semibold",children:["Warning: This will affect ",t.length," backup",t.length!==1?"s":"","."]})]}),i.jsxs("div",{className:"p-6 border-t border-slate-100 text-right space-x-2",children:[i.jsx("button",{onClick:()=>L(!1),className:"px-4 py-2 bg-slate-200 text-slate-700 rounded-lg hover:bg-slate-300",children:"Cancel"}),i.jsx("button",{onClick:ie,className:"px-4 py-2 bg-[#1160A8] text-white rounded-lg hover:bg-[#0B4A82]",children:"Clear All"})]})]})})]})},q0=["Monday","Tuesday","Wednesday","Thursday","Friday"],VV=()=>{var F,D;const{user:n}=$o(),e=wT(n),[t,s]=ee.useState(Un[0].id),[a,o]=ee.useState({}),[c,h]=ee.useState(!1),[u,f]=ee.useState(q0[0]),[A,m]=ee.useState([]),[v,g]=ee.useState({startTime:"08:00",endTime:"09:00",subject:"",type:"lesson"});ee.useEffect(()=>{(async()=>{h(!0);const K=await ut.getSubjects(e,t);m(K),K.length>0?g(M=>({...M,subject:K[0],type:"lesson"})):g(M=>({...M,subject:"",type:"lesson"}));const L=await ut.getTimetable(e,t),Q=(L==null?void 0:L.schedule)||{};q0.forEach(M=>{Q[M]||(Q[M]=[])});let R=!1;if(K.length>0&&Object.keys(Q).forEach(M=>{Q[M].forEach(O=>{O.type==="lesson"&&!K.includes(O.subject)&&(O.subject=K[0],R=!0)})}),R){const M={schoolId:e,classId:t,schedule:Q};await ut.saveTimetable(M),Mt("Timetable subjects updated to match system settings!",{type:"success"})}o(Q),h(!1)})()},[t,e]);const b=()=>{if(!v.startTime||!v.endTime||!v.subject)return;if(v.startTime>=v.endTime){Mt("End time must be after start time",{type:"error"});return}const P={id:Math.random().toString(36).substr(2,9),startTime:v.startTime,endTime:v.endTime,subject:v.subject,type:v.type},K={...a};K[u]=[...K[u],P].sort((L,Q)=>L.startTime.localeCompare(Q.startTime)),o(K)},S=P=>{const K={...a};K[u]=K[u].filter(L=>L.id!==P),o(K)},N=async()=>{h(!0);const P={schoolId:e,classId:t,schedule:a,updatedAt:Date.now()};await ut.saveTimetable(P),h(!1),Mt("Timetable saved successfully!",{type:"success"})},E=P=>{const K=a[P];return!K||K.length===0?"N/A":K[K.length-1].endTime},I=P=>{switch(P){case"break":return{bg:"bg-amber-50",border:"border-amber-100",icon:wk,iconColor:"text-amber-600",badge:"text-amber-600 border-amber-200"};case"worship":return{bg:"bg-purple-50",border:"border-purple-100",icon:UT,iconColor:"text-purple-600",badge:"text-purple-600 border-purple-200"};case"assembly":return{bg:"bg-[#E6F0FA]",border:"border-[#E6F0FA]",icon:ll,iconColor:"text-[#0B4A82]",badge:"text-[#0B4A82] border-[#E6F0FA]"};case"arrival":return{bg:"bg-green-50",border:"border-green-100",icon:ll,iconColor:"text-green-600",badge:"text-green-600 border-green-200"};case"closing":return{bg:"bg-slate-100",border:"border-slate-200",icon:Sk,iconColor:"text-slate-600",badge:"text-slate-600 border-slate-300"};default:return{bg:"bg-white",border:"border-slate-100",icon:Rd,iconColor:"text-emerald-600",badge:"text-slate-600 border-slate-200"}}};return i.jsx(Xs,{title:"Manage Timetable",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 flex flex-col h-[calc(100vh-8rem)]",children:[i.jsxs("div",{className:"p-4 border-b border-slate-100 flex flex-col md:flex-row justify-between md:items-center gap-4 bg-slate-50",children:[i.jsx("div",{className:"flex items-center gap-4",children:i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Select Class"}),i.jsx("select",{className:"border border-slate-300 rounded-md px-3 py-2 text-sm w-48",value:t,onChange:P=>s(P.target.value),children:Un.map(P=>i.jsx("option",{value:P.id,children:P.name},P.id))})]})}),i.jsxs("button",{onClick:N,disabled:c,className:"flex items-center bg-emerald-600 text-white px-6 py-2 rounded-lg hover:bg-emerald-700 transition-colors shadow-sm disabled:opacity-50",children:[i.jsx(sA,{size:18,className:"mr-2"}),c?"Saving...":"Save Schedule"]})]}),i.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[i.jsx("div",{className:"hidden md:flex w-40 border-r border-slate-100 bg-white flex flex-col overflow-y-auto",children:q0.map(P=>{var L;const K=((L=a[P])==null?void 0:L.length)||0;return i.jsxs("button",{onClick:()=>f(P),className:`p-4 text-left border-l-4 transition-colors hover:bg-slate-50 ${u===P?"border-emerald-500 bg-emerald-50 text-emerald-800 font-medium":"border-transparent text-slate-600"}`,children:[i.jsx("span",{className:"block",children:P}),i.jsxs("span",{className:"text-xs text-slate-400",children:[K," Slots"]})]},P)})}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden bg-slate-50/50",children:[i.jsx("div",{className:"md:hidden flex overflow-x-auto bg-white border-b border-slate-100",children:q0.map(P=>{var L;const K=((L=a[P])==null?void 0:L.length)||0;return i.jsxs("button",{onClick:()=>f(P),className:`px-4 py-3 text-sm whitespace-nowrap transition-colors hover:bg-slate-50 ${u===P?"border-b-2 border-emerald-500 bg-emerald-50 text-emerald-800 font-medium":"border-transparent text-slate-600"}`,children:[i.jsx("span",{children:P}),i.jsxs("span",{className:"text-xs text-slate-400 ml-1",children:["(",K,")"]})]},P)})}),i.jsx("div",{className:"p-4 md:p-6 border-b border-slate-100 flex justify-between items-center bg-white",children:i.jsxs("div",{children:[i.jsxs("h2",{className:"text-xl font-bold text-slate-800",children:[u," Schedule"]}),i.jsxs("p",{className:"text-sm text-slate-500",children:["Closing Time:"," ",i.jsx("span",{className:"font-semibold text-slate-800",children:E(u)})]})]})}),i.jsx("div",{className:"flex-1 overflow-y-auto p-3 md:p-6 space-y-3 md:space-y-4 min-h-[260px]",children:((F=a[u])==null?void 0:F.length)===0?i.jsxs("div",{className:"text-center w-full min-h-[260px] md:min-h-[320px] py-10 md:py-16 px-6 md:px-10 text-slate-500 border-2 border-dashed border-slate-200 rounded-2xl bg-white flex flex-col items-center justify-center",children:[i.jsx("div",{className:"text-xl md:text-2xl font-semibold mb-3 text-slate-700",children:"No classes or breaks scheduled"}),i.jsxs("div",{className:"text-base md:text-lg leading-relaxed max-w-md mx-auto",children:["Add time slots for ",u," using the form below."]})]}):(D=a[u])==null?void 0:D.map(P=>{const K=I(P.type),L=K.icon;return i.jsxs("div",{className:`flex items-center p-4 md:p-5 rounded-lg border shadow-sm ${K.bg} ${K.border}`,children:[i.jsx("div",{className:"flex items-center justify-center w-12 h-12 md:w-14 md:h-14 rounded-full mr-3 md:mr-4 bg-white shadow-sm text-slate-500 flex-shrink-0",children:i.jsx(L,{size:20,className:K.iconColor})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-1",children:[i.jsxs("span",{className:"font-mono text-sm md:text-base font-semibold text-slate-600 bg-slate-100 px-2 py-1 rounded whitespace-nowrap",children:[P.startTime," - ",P.endTime]}),P.type!=="lesson"&&i.jsx("span",{className:`text-xs uppercase font-bold border px-2 py-0.5 rounded ${K.badge}`,children:P.type})]}),i.jsx("p",{className:"text-base md:text-lg font-bold text-slate-800 break-words",children:P.subject})]}),i.jsx("button",{onClick:()=>S(P.id),className:"text-slate-300 hover:text-[#1160A8] p-2 transition-colors flex-shrink-0",children:i.jsx(ic,{size:18})})]},P.id)})}),i.jsxs("div",{className:"p-4 md:p-6 bg-white border-t border-slate-200",children:[i.jsx("h4",{className:"text-sm font-bold text-slate-500 uppercase mb-4",children:"Add Time Slot"}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-12 gap-3 items-end",children:[i.jsxs("div",{className:"sm:col-span-1 lg:col-span-2",children:[i.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Start Time"}),i.jsx("input",{type:"time",className:"w-full border p-3 rounded text-sm md:text-base",value:v.startTime,onChange:P=>g({...v,startTime:P.target.value})})]}),i.jsxs("div",{className:"sm:col-span-1 lg:col-span-2",children:[i.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"End Time"}),i.jsx("input",{type:"time",className:"w-full border p-3 rounded text-sm md:text-base",value:v.endTime,onChange:P=>g({...v,endTime:P.target.value})})]}),i.jsxs("div",{className:"sm:col-span-2 lg:col-span-2",children:[i.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Type"}),i.jsxs("select",{className:"w-full border p-3 rounded text-sm md:text-base",value:v.type,onChange:P=>{const K=P.target.value;let L="";K==="break"?L="Break":K==="worship"?L="Worship":K==="closing"?L="Closing":K==="assembly"?L="Assembly":K==="arrival"?L="Arrival & Free Play":K==="lunch"?L="Lunch":K==="snack"?L="Snack":K==="cleaning"?L="Clean Up":K==="games"?L="Games":K==="nap"?L="Nap Time":K==="clubs"?L="Clubs/Activities":L=A[0]||"",g({...v,type:K,subject:L})},children:[i.jsx("option",{value:"arrival",children:"Arrival & Free Play"}),i.jsx("option",{value:"assembly",children:"Morning Assembly"}),i.jsx("option",{value:"lesson",children:"Lesson"}),i.jsx("option",{value:"break",children:"Break"}),i.jsx("option",{value:"snack",children:"Snack"}),i.jsx("option",{value:"lunch",children:"Lunch"}),i.jsx("option",{value:"worship",children:"Worship/Devotion"}),i.jsx("option",{value:"games",children:"Games/Sports"}),i.jsx("option",{value:"clubs",children:"Clubs/Activities"}),i.jsx("option",{value:"cleaning",children:"Clean Up"}),i.jsx("option",{value:"nap",children:"Nap Time"}),i.jsx("option",{value:"closing",children:"Closing"})]})]}),i.jsxs("div",{className:"sm:col-span-2 lg:col-span-4",children:[i.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Activity/Subject"}),v.type==="lesson"?i.jsxs("select",{className:"w-full border p-3 rounded text-sm md:text-base",value:v.subject,onChange:P=>g({...v,subject:P.target.value}),children:[A.map(P=>i.jsx("option",{value:P,children:P},P)),A.length===0&&i.jsx("option",{value:"",children:"No Subjects Found"})]}):i.jsx("input",{type:"text",className:"w-full border p-3 rounded text-sm md:text-base",value:v.subject,onChange:P=>g({...v,subject:P.target.value})})]}),i.jsx("div",{className:"sm:col-span-2 lg:col-span-2",children:i.jsxs("button",{onClick:b,className:"w-full bg-[#1160A8] text-white p-3 rounded text-sm md:text-base font-medium hover:bg-[#0B4A82] transition-colors",children:[i.jsx(cm,{size:16,className:"inline mr-1"})," Add Slot"]})})]})]})]})]})]})})},KV=()=>{const{school:n}=cc(),[e,t]=ee.useState(!1),[s,a]=ee.useState("0"),[o,c]=ee.useState([]),[h,u]=ee.useState(!1),[f,A]=ee.useState(!1),m=(F,D="GHS")=>{if(!F&&F!==0)return"-";const P=F>=100?F/100:F;return new Intl.NumberFormat("en-GH",{style:"currency",currency:D}).format(P)},v=F=>{if(!F)return"-";if(F instanceof nr)return F.toDate().toLocaleString();if(typeof F=="number")return new Date(F).toLocaleString();const D=new Date(F);return Number.isNaN(D.getTime())?"-":D.toLocaleString()},g=F=>{const D=(F||"pending").toLowerCase();return["success","paid","active"].includes(D)?{label:"Paid",className:"bg-emerald-50 text-emerald-700"}:["failed","failure","past_due"].includes(D)?{label:"Failed",className:"bg-rose-50 text-rose-700"}:["abandoned","cancelled","canceled"].includes(D)?{label:"Cancelled",className:"bg-slate-100 text-slate-600"}:{label:"Pending",className:"bg-amber-50 text-amber-700"}},b=ee.useMemo(()=>{var P;const F=((P=n==null?void 0:n.billing)==null?void 0:P.status)||"inactive",D=(n==null?void 0:n.plan)||"monthly";return{status:F,plan:D}},[n]),S=ee.useMemo(()=>{const F=o[0];return g((F==null?void 0:F.status)||b.status)},[b.status,o]),N=async()=>{if(n!=null&&n.id){u(!0);try{const F=Wn(Et,"payments"),D=Zn(F,Zt("schoolId","==",n.id)),K=(await es(D)).docs.map(L=>({id:L.id,...L.data()})).sort((L,Q)=>{var O,H;const R=(O=L.createdAt)!=null&&O.toMillis?L.createdAt.toMillis():new Date(L.createdAt||0).getTime();return((H=Q.createdAt)!=null&&H.toMillis?Q.createdAt.toMillis():new Date(Q.createdAt||0).getTime())-R});c(K)}catch(F){console.error("Failed to load payment history",F),Mt("Failed to load payment history.",{type:"error"})}finally{u(!1)}}},E=async()=>{if(!o.length){Mt("No payments to verify.",{type:"info"});return}const F=o.filter(D=>["pending","abandoned","failed"].includes(String(D.status||"pending").toLowerCase()));if(!F.length){Mt("All payments are already verified.",{type:"success"});return}try{A(!0);let D=0;for(const P of F)P.reference&&(await s7({reference:P.reference}),D+=1);Mt(`Verification complete. ${D} payment(s) updated.`,{type:"success"}),await N()}catch(D){console.error("Payment verification failed:",D),Mt((D==null?void 0:D.message)||"Payment verification failed.",{type:"error"})}finally{A(!1)}};ee.useEffect(()=>{N()},[n==null?void 0:n.id]);const I=async()=>{const F=Number(s);if(!F||F<=0){Mt("Enter a valid amount.",{type:"error"});return}try{t(!0);const D=await n7({amount:F*100,currency:"GHS"});window.location.href=D.authorizationUrl}catch(D){console.error("Billing error:",D),Mt((D==null?void 0:D.message)||"Payment initiation failed.",{type:"error"})}finally{t(!1)}};return i.jsx(Xs,{title:"Billing & Subscription",children:i.jsxs("div",{className:"max-w-5xl mx-auto space-y-6",children:[i.jsxs("div",{className:"relative overflow-hidden rounded-2xl border bg-gradient-to-br from-indigo-50 via-white to-emerald-50 p-6 shadow-sm",children:[i.jsx("div",{className:"absolute -top-16 -right-16 h-40 w-40 rounded-full bg-indigo-200/40 blur-3xl"}),i.jsx("div",{className:"absolute -bottom-20 -left-16 h-48 w-48 rounded-full bg-emerald-200/40 blur-3xl"}),i.jsxs("div",{className:"relative",children:[i.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Billing & Subscription"}),i.jsx("p",{className:"text-sm text-slate-600 mt-2",children:"Pay monthly via Mobile Money and keep your school active."})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"lg:col-span-2 bg-white rounded-2xl border border-slate-100 p-6 shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"h-10 w-10 rounded-xl bg-emerald-100 text-emerald-600 flex items-center justify-center",children:i.jsx(TT,{size:18})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Pay Monthly (MoMo)"}),i.jsx("p",{className:"text-sm text-slate-500",children:"MTN, Telecel, AirtelTigo supported via Paystack."})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Amount (GHS)"}),i.jsx("input",{type:"number",min:"0",step:"1",value:s,onChange:F=>a(F.target.value),className:"w-full border border-slate-200 rounded-xl p-2.5 focus:ring-2 focus:ring-emerald-200 outline-none",placeholder:"e.g. 500"})]}),i.jsx("div",{className:"flex items-end",children:i.jsxs("button",{onClick:I,disabled:e,className:"w-full inline-flex items-center justify-center gap-2 rounded-full bg-emerald-600 text-white px-5 py-2.5 font-semibold hover:bg-emerald-700 transition disabled:opacity-60",children:[e?"Redirecting...":"Pay with MoMo",i.jsx(WP,{size:16})]})})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 p-6 shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"h-10 w-10 rounded-xl bg-indigo-100 text-indigo-600 flex items-center justify-center",children:i.jsx(hM,{size:18})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Subscription Status"}),i.jsx("p",{className:"text-sm text-slate-500",children:"School Plan"})]})]}),i.jsxs("div",{className:"space-y-3 text-sm",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-slate-500",children:"Plan"}),i.jsx("span",{className:"font-semibold text-slate-800",children:b.plan})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-slate-500",children:"Status"}),i.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-0.5 text-xs font-semibold ${S.className}`,children:S.label})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-slate-500",children:"Renewal"}),i.jsx("span",{className:"font-semibold text-slate-800",children:"Monthly"})]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 p-6 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Payment History"}),i.jsx("p",{className:"text-sm text-slate-500",children:"Track all payments made by your school admin account."})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsx("button",{onClick:E,className:"text-sm text-emerald-700 border border-emerald-200 px-3 py-1.5 rounded-lg hover:bg-emerald-50",disabled:h||f,children:f?"Verifying...":"Verify Pending"}),i.jsx("button",{onClick:N,className:"text-sm text-slate-600 border border-slate-200 px-3 py-1.5 rounded-lg hover:bg-slate-50",disabled:h,children:h?"Loading...":"Refresh"})]})]}),i.jsxs("div",{className:"overflow-x-auto",children:[i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"text-left text-slate-500 border-b border-slate-100",children:[i.jsx("th",{className:"py-3 pr-4",children:"Amount"}),i.jsx("th",{className:"py-3 pr-4",children:"Currency"}),i.jsx("th",{className:"py-3 pr-4",children:"Status"}),i.jsx("th",{className:"py-3 pr-4",children:"Reference"}),i.jsx("th",{className:"py-3",children:"Created"})]})}),i.jsx("tbody",{children:o.map(F=>{const D=g(F.status);return i.jsxs("tr",{className:"border-b border-slate-100",children:[i.jsx("td",{className:"py-3 pr-4 text-slate-700",children:m(F.amount,F.currency)}),i.jsx("td",{className:"py-3 pr-4 text-slate-600",children:F.currency||"GHS"}),i.jsx("td",{className:"py-3 pr-4",children:i.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-0.5 text-xs font-semibold ${D.className}`,children:D.label})}),i.jsx("td",{className:"py-3 pr-4 text-slate-500",children:F.reference||"-"}),i.jsx("td",{className:"py-3 text-slate-500",children:v(F.createdAt)})]},F.id)})})]}),!o.length&&!h&&i.jsx("div",{className:"text-center text-sm text-slate-400 py-10",children:"No payment history yet."})]})]})]})})},II=ee.createContext({});function zV(n){const e=ee.useRef(null);return e.current===null&&(e.current=n()),e.current}const l2=typeof window<"u",GV=l2?ee.useLayoutEffect:ee.useEffect,A2=ee.createContext(null);function c2(n,e){n.indexOf(e)===-1&&n.push(e)}function u2(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Yc=(n,e,t)=>t>e?e:t<n?n:t;let d2=()=>{};const _u={},_I=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function FI(n){return typeof n=="object"&&n!==null}const UI=n=>/^0[^.\s]+$/u.test(n);function h2(n){let e;return()=>(e===void 0&&(e=n()),e)}const FA=n=>n,$V=(n,e)=>t=>e(n(t)),Lg=(...n)=>n.reduce($V),ug=(n,e,t)=>{const s=e-n;return s===0?1:(t-n)/s};class f2{constructor(){this.subscriptions=[]}add(e){return c2(this.subscriptions,e),()=>u2(this.subscriptions,e)}notify(e,t,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,t,s);else for(let o=0;o<a;o++){const c=this.subscriptions[o];c&&c(e,t,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Bu=n=>n*1e3,TA=n=>n/1e3;function RI(n,e){return e?n*(1e3/e):0}const DI=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,YV=1e-7,WV=12;function XV(n,e,t,s,a){let o,c,h=0;do c=e+(t-e)/2,o=DI(c,s,a)-n,o>0?t=c:e=c;while(Math.abs(o)>YV&&++h<WV);return c}function Qg(n,e,t,s){if(n===e&&t===s)return FA;const a=o=>XV(o,0,1,n,t);return o=>o===0||o===1?o:DI(a(o),e,s)}const LI=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,QI=n=>e=>1-n(1-e),OI=Qg(.33,1.53,.69,.99),m2=QI(OI),PI=LI(m2),kI=n=>(n*=2)<1?.5*m2(n):.5*(2-Math.pow(2,-10*(n-1))),p2=n=>1-Math.sin(Math.acos(n)),MI=QI(p2),HI=LI(p2),JV=Qg(.42,0,1,1),qV=Qg(0,0,.58,1),VI=Qg(.42,0,.58,1),ZV=n=>Array.isArray(n)&&typeof n[0]!="number",KI=n=>Array.isArray(n)&&typeof n[0]=="number",eK={linear:FA,easeIn:JV,easeInOut:VI,easeOut:qV,circIn:p2,circInOut:HI,circOut:MI,backIn:m2,backInOut:PI,backOut:OI,anticipate:kI},tK=n=>typeof n=="string",gS=n=>{if(KI(n)){d2(n.length===4);const[e,t,s,a]=n;return Qg(e,t,s,a)}else if(tK(n))return eK[n];return n},Z0=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function nK(n,e){let t=new Set,s=new Set,a=!1,o=!1;const c=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function u(A){c.has(A)&&(f.schedule(A),n()),A(h)}const f={schedule:(A,m=!1,v=!1)=>{const b=v&&a?t:s;return m&&c.add(A),b.has(A)||b.add(A),A},cancel:A=>{s.delete(A),c.delete(A)},process:A=>{if(h=A,a){o=!0;return}a=!0,[t,s]=[s,t],t.forEach(u),t.clear(),a=!1,o&&(o=!1,f.process(A))}};return f}const sK=40;function zI(n,e){let t=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},o=()=>t=!0,c=Z0.reduce((F,D)=>(F[D]=nK(o),F),{}),{setup:h,read:u,resolveKeyframes:f,preUpdate:A,update:m,preRender:v,render:g,postRender:b}=c,S=()=>{const F=_u.useManualTiming?a.timestamp:performance.now();t=!1,_u.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(F-a.timestamp,sK),1)),a.timestamp=F,a.isProcessing=!0,h.process(a),u.process(a),f.process(a),A.process(a),m.process(a),v.process(a),g.process(a),b.process(a),a.isProcessing=!1,t&&e&&(s=!1,n(S))},N=()=>{t=!0,s=!0,a.isProcessing||n(S)};return{schedule:Z0.reduce((F,D)=>{const P=c[D];return F[D]=(K,L=!1,Q=!1)=>(t||N(),P.schedule(K,L,Q)),F},{}),cancel:F=>{for(let D=0;D<Z0.length;D++)c[Z0[D]].cancel(F)},state:a,steps:c}}const{schedule:ca,cancel:Kd,state:Ao,steps:m1}=zI(typeof requestAnimationFrame<"u"?requestAnimationFrame:FA,!0);let xv;function rK(){xv=void 0}const Al={now:()=>(xv===void 0&&Al.set(Ao.isProcessing||_u.useManualTiming?Ao.timestamp:performance.now()),xv),set:n=>{xv=n,queueMicrotask(rK)}},GI=n=>e=>typeof e=="string"&&e.startsWith(n),$I=GI("--"),aK=GI("var(--"),g2=n=>aK(n)?iK.test(n.split("/*")[0].trim()):!1,iK=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function vS(n){return typeof n!="string"?!1:n.split("/*")[0].includes("var(--")}const Bm={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},dg={...Bm,transform:n=>Yc(0,1,n)},ev={...Bm,default:1},Gp=n=>Math.round(n*1e5)/1e5,v2=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function oK(n){return n==null}const lK=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,x2=(n,e)=>t=>!!(typeof t=="string"&&lK.test(t)&&t.startsWith(n)||e&&!oK(t)&&Object.prototype.hasOwnProperty.call(t,e)),YI=(n,e,t)=>s=>{if(typeof s!="string")return s;const[a,o,c,h]=s.match(v2);return{[n]:parseFloat(a),[e]:parseFloat(o),[t]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},AK=n=>Yc(0,255,n),p1={...Bm,transform:n=>Math.round(AK(n))},Lh={test:x2("rgb","red"),parse:YI("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:s=1})=>"rgba("+p1.transform(n)+", "+p1.transform(e)+", "+p1.transform(t)+", "+Gp(dg.transform(s))+")"};function cK(n){let e="",t="",s="",a="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),s=n.substring(5,7),a=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),s=n.substring(3,4),a=n.substring(4,5),e+=e,t+=t,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const jb={test:x2("#"),parse:cK,transform:Lh.transform},Og=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),xd=Og("deg"),zc=Og("%"),xn=Og("px"),uK=Og("vh"),dK=Og("vw"),xS={...zc,parse:n=>zc.parse(n)/100,transform:n=>zc.transform(n*100)},Gf={test:x2("hsl","hue"),parse:YI("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:s=1})=>"hsla("+Math.round(n)+", "+zc.transform(Gp(e))+", "+zc.transform(Gp(t))+", "+Gp(dg.transform(s))+")"},bi={test:n=>Lh.test(n)||jb.test(n)||Gf.test(n),parse:n=>Lh.test(n)?Lh.parse(n):Gf.test(n)?Gf.parse(n):jb.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Lh.transform(n):Gf.transform(n),getAnimatableNone:n=>{const e=bi.parse(n);return e.alpha=0,bi.transform(e)}},hK=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function fK(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(v2))==null?void 0:e.length)||0)+(((t=n.match(hK))==null?void 0:t.length)||0)>0}const WI="number",XI="color",mK="var",pK="var(",yS="${}",gK=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function hg(n){const e=n.toString(),t=[],s={color:[],number:[],var:[]},a=[];let o=0;const h=e.replace(gK,u=>(bi.test(u)?(s.color.push(o),a.push(XI),t.push(bi.parse(u))):u.startsWith(pK)?(s.var.push(o),a.push(mK),t.push(u)):(s.number.push(o),a.push(WI),t.push(parseFloat(u))),++o,yS)).split(yS);return{values:t,split:h,indexes:s,types:a}}function JI(n){return hg(n).values}function qI(n){const{split:e,types:t}=hg(n),s=e.length;return a=>{let o="";for(let c=0;c<s;c++)if(o+=e[c],a[c]!==void 0){const h=t[c];h===WI?o+=Gp(a[c]):h===XI?o+=bi.transform(a[c]):o+=a[c]}return o}}const vK=n=>typeof n=="number"?0:bi.test(n)?bi.getAnimatableNone(n):n;function xK(n){const e=JI(n);return qI(n)(e.map(vK))}const zd={test:fK,parse:JI,createTransformer:qI,getAnimatableNone:xK};function g1(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function yK({hue:n,saturation:e,lightness:t,alpha:s}){n/=360,e/=100,t/=100;let a=0,o=0,c=0;if(!e)a=o=c=t;else{const h=t<.5?t*(1+e):t+e-t*e,u=2*t-h;a=g1(u,h,n+1/3),o=g1(u,h,n),c=g1(u,h,n-1/3)}return{red:Math.round(a*255),green:Math.round(o*255),blue:Math.round(c*255),alpha:s}}function tx(n,e){return t=>t>0?e:n}const _a=(n,e,t)=>n+(e-n)*t,v1=(n,e,t)=>{const s=n*n,a=t*(e*e-s)+s;return a<0?0:Math.sqrt(a)},bK=[jb,Lh,Gf],wK=n=>bK.find(e=>e.test(n));function bS(n){const e=wK(n);if(!e)return!1;let t=e.parse(n);return e===Gf&&(t=yK(t)),t}const wS=(n,e)=>{const t=bS(n),s=bS(e);if(!t||!s)return tx(n,e);const a={...t};return o=>(a.red=v1(t.red,s.red,o),a.green=v1(t.green,s.green,o),a.blue=v1(t.blue,s.blue,o),a.alpha=_a(t.alpha,s.alpha,o),Lh.transform(a))},Bb=new Set(["none","hidden"]);function jK(n,e){return Bb.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function BK(n,e){return t=>_a(n,e,t)}function y2(n){return typeof n=="number"?BK:typeof n=="string"?g2(n)?tx:bi.test(n)?wS:NK:Array.isArray(n)?ZI:typeof n=="object"?bi.test(n)?wS:CK:tx}function ZI(n,e){const t=[...n],s=t.length,a=n.map((o,c)=>y2(o)(o,e[c]));return o=>{for(let c=0;c<s;c++)t[c]=a[c](o);return t}}function CK(n,e){const t={...n,...e},s={};for(const a in t)n[a]!==void 0&&e[a]!==void 0&&(s[a]=y2(n[a])(n[a],e[a]));return a=>{for(const o in s)t[o]=s[o](a);return t}}function SK(n,e){const t=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const o=e.types[a],c=n.indexes[o][s[o]],h=n.values[c]??0;t[a]=h,s[o]++}return t}const NK=(n,e)=>{const t=zd.createTransformer(e),s=hg(n),a=hg(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?Bb.has(n)&&!a.values.length||Bb.has(e)&&!s.values.length?jK(n,e):Lg(ZI(SK(s,a),a.values),t):tx(n,e)};function e3(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?_a(n,e,t):y2(n)(n,e)}const EK=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>ca.update(e,t),stop:()=>Kd(e),now:()=>Ao.isProcessing?Ao.timestamp:Al.now()}},t3=(n,e,t=10)=>{let s="";const a=Math.max(Math.round(e/t),2);for(let o=0;o<a;o++)s+=Math.round(n(o/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},nx=2e4;function b2(n){let e=0;const t=50;let s=n.next(e);for(;!s.done&&e<nx;)e+=t,s=n.next(e);return e>=nx?1/0:e}function TK(n,e=100,t){const s=t({...n,keyframes:[0,e]}),a=Math.min(b2(s),nx);return{type:"keyframes",ease:o=>s.next(a*o).value/e,duration:TA(a)}}const IK=5;function n3(n,e,t){const s=Math.max(e-IK,0);return RI(t-n(s),e-s)}const Ka={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},x1=.001;function _K({duration:n=Ka.duration,bounce:e=Ka.bounce,velocity:t=Ka.velocity,mass:s=Ka.mass}){let a,o,c=1-e;c=Yc(Ka.minDamping,Ka.maxDamping,c),n=Yc(Ka.minDuration,Ka.maxDuration,TA(n)),c<1?(a=f=>{const A=f*c,m=A*n,v=A-t,g=Cb(f,c),b=Math.exp(-m);return x1-v/g*b},o=f=>{const m=f*c*n,v=m*t+t,g=Math.pow(c,2)*Math.pow(f,2)*n,b=Math.exp(-m),S=Cb(Math.pow(f,2),c);return(-a(f)+x1>0?-1:1)*((v-g)*b)/S}):(a=f=>{const A=Math.exp(-f*n),m=(f-t)*n+1;return-x1+A*m},o=f=>{const A=Math.exp(-f*n),m=(t-f)*(n*n);return A*m});const h=5/n,u=UK(a,o,h);if(n=Bu(n),isNaN(u))return{stiffness:Ka.stiffness,damping:Ka.damping,duration:n};{const f=Math.pow(u,2)*s;return{stiffness:f,damping:c*2*Math.sqrt(s*f),duration:n}}}const FK=12;function UK(n,e,t){let s=t;for(let a=1;a<FK;a++)s=s-n(s)/e(s);return s}function Cb(n,e){return n*Math.sqrt(1-e*e)}const RK=["duration","bounce"],DK=["stiffness","damping","mass"];function jS(n,e){return e.some(t=>n[t]!==void 0)}function LK(n){let e={velocity:Ka.velocity,stiffness:Ka.stiffness,damping:Ka.damping,mass:Ka.mass,isResolvedFromDuration:!1,...n};if(!jS(n,DK)&&jS(n,RK))if(n.visualDuration){const t=n.visualDuration,s=2*Math.PI/(t*1.2),a=s*s,o=2*Yc(.05,1,1-(n.bounce||0))*Math.sqrt(a);e={...e,mass:Ka.mass,stiffness:a,damping:o}}else{const t=_K(n);e={...e,...t,mass:Ka.mass},e.isResolvedFromDuration=!0}return e}function sx(n=Ka.visualDuration,e=Ka.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:s,restDelta:a}=t;const o=t.keyframes[0],c=t.keyframes[t.keyframes.length-1],h={done:!1,value:o},{stiffness:u,damping:f,mass:A,duration:m,velocity:v,isResolvedFromDuration:g}=LK({...t,velocity:-TA(t.velocity||0)}),b=v||0,S=f/(2*Math.sqrt(u*A)),N=c-o,E=TA(Math.sqrt(u/A)),I=Math.abs(N)<5;s||(s=I?Ka.restSpeed.granular:Ka.restSpeed.default),a||(a=I?Ka.restDelta.granular:Ka.restDelta.default);let F;if(S<1){const P=Cb(E,S);F=K=>{const L=Math.exp(-S*E*K);return c-L*((b+S*E*N)/P*Math.sin(P*K)+N*Math.cos(P*K))}}else if(S===1)F=P=>c-Math.exp(-E*P)*(N+(b+E*N)*P);else{const P=E*Math.sqrt(S*S-1);F=K=>{const L=Math.exp(-S*E*K),Q=Math.min(P*K,300);return c-L*((b+S*E*N)*Math.sinh(Q)+P*N*Math.cosh(Q))/P}}const D={calculatedDuration:g&&m||null,next:P=>{const K=F(P);if(g)h.done=P>=m;else{let L=P===0?b:0;S<1&&(L=P===0?Bu(b):n3(F,P,K));const Q=Math.abs(L)<=s,R=Math.abs(c-K)<=a;h.done=Q&&R}return h.value=h.done?c:K,h},toString:()=>{const P=Math.min(b2(D),nx),K=t3(L=>D.next(P*L).value,P,30);return P+"ms "+K},toTransition:()=>{}};return D}sx.applyToOptions=n=>{const e=TK(n,100,sx);return n.ease=e.ease,n.duration=Bu(e.duration),n.type="keyframes",n};function Sb({keyframes:n,velocity:e=0,power:t=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:o=500,modifyTarget:c,min:h,max:u,restDelta:f=.5,restSpeed:A}){const m=n[0],v={done:!1,value:m},g=Q=>h!==void 0&&Q<h||u!==void 0&&Q>u,b=Q=>h===void 0?u:u===void 0||Math.abs(h-Q)<Math.abs(u-Q)?h:u;let S=t*e;const N=m+S,E=c===void 0?N:c(N);E!==N&&(S=E-m);const I=Q=>-S*Math.exp(-Q/s),F=Q=>E+I(Q),D=Q=>{const R=I(Q),M=F(Q);v.done=Math.abs(R)<=f,v.value=v.done?E:M};let P,K;const L=Q=>{g(v.value)&&(P=Q,K=sx({keyframes:[v.value,b(v.value)],velocity:n3(F,Q,v.value),damping:a,stiffness:o,restDelta:f,restSpeed:A}))};return L(0),{calculatedDuration:null,next:Q=>{let R=!1;return!K&&P===void 0&&(R=!0,D(Q),L(Q)),P!==void 0&&Q>=P?K.next(Q-P):(!R&&D(Q),v)}}}function QK(n,e,t){const s=[],a=t||_u.mix||e3,o=n.length-1;for(let c=0;c<o;c++){let h=a(n[c],n[c+1]);if(e){const u=Array.isArray(e)?e[c]||FA:e;h=Lg(u,h)}s.push(h)}return s}function OK(n,e,{clamp:t=!0,ease:s,mixer:a}={}){const o=n.length;if(d2(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const c=n[0]===n[1];n[0]>n[o-1]&&(n=[...n].reverse(),e=[...e].reverse());const h=QK(e,s,a),u=h.length,f=A=>{if(c&&A<n[0])return e[0];let m=0;if(u>1)for(;m<n.length-2&&!(A<n[m+1]);m++);const v=ug(n[m],n[m+1],A);return h[m](v)};return t?A=>f(Yc(n[0],n[o-1],A)):f}function PK(n,e){const t=n[n.length-1];for(let s=1;s<=e;s++){const a=ug(0,e,s);n.push(_a(t,1,a))}}function kK(n){const e=[0];return PK(e,n.length-1),e}function MK(n,e){return n.map(t=>t*e)}function HK(n,e){return n.map(()=>e||VI).splice(0,n.length-1)}function $p({duration:n=300,keyframes:e,times:t,ease:s="easeInOut"}){const a=ZV(s)?s.map(gS):gS(s),o={done:!1,value:e[0]},c=MK(t&&t.length===e.length?t:kK(e),n),h=OK(c,e,{ease:Array.isArray(a)?a:HK(e,a)});return{calculatedDuration:n,next:u=>(o.value=h(u),o.done=u>=n,o)}}const VK=n=>n!==null;function w2(n,{repeat:e,repeatType:t="loop"},s,a=1){const o=n.filter(VK),h=a<0||e&&t!=="loop"&&e%2===1?0:o.length-1;return!h||s===void 0?o[h]:s}const KK={decay:Sb,inertia:Sb,tween:$p,keyframes:$p,spring:sx};function s3(n){typeof n.type=="string"&&(n.type=KK[n.type])}class j2{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const zK=n=>n/100;class B2 extends j2{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,a;const{motionValue:t}=this.options;t&&t.updatedAt!==Al.now()&&this.tick(Al.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(s=this.options).onStop)==null||a.call(s))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;s3(e);const{type:t=$p,repeat:s=0,repeatDelay:a=0,repeatType:o,velocity:c=0}=e;let{keyframes:h}=e;const u=t||$p;u!==$p&&typeof h[0]!="number"&&(this.mixKeyframes=Lg(zK,e3(h[0],h[1])),h=[0,100]);const f=u({...e,keyframes:h});o==="mirror"&&(this.mirroredGenerator=u({...e,keyframes:[...h].reverse(),velocity:-c})),f.calculatedDuration===null&&(f.calculatedDuration=b2(f));const{calculatedDuration:A}=f;this.calculatedDuration=A,this.resolvedDuration=A+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=f}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:s,totalDuration:a,mixKeyframes:o,mirroredGenerator:c,resolvedDuration:h,calculatedDuration:u}=this;if(this.startTime===null)return s.next(0);const{delay:f=0,keyframes:A,repeat:m,repeatType:v,repeatDelay:g,type:b,onUpdate:S,finalKeyframe:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const E=this.currentTime-f*(this.playbackSpeed>=0?1:-1),I=this.playbackSpeed>=0?E<0:E>a;this.currentTime=Math.max(E,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let F=this.currentTime,D=s;if(m){const Q=Math.min(this.currentTime,a)/h;let R=Math.floor(Q),M=Q%1;!M&&Q>=1&&(M=1),M===1&&R--,R=Math.min(R,m+1),!!(R%2)&&(v==="reverse"?(M=1-M,g&&(M-=g/h)):v==="mirror"&&(D=c)),F=Yc(0,1,M)*h}const P=I?{done:!1,value:A[0]}:D.next(F);o&&(P.value=o(P.value));let{done:K}=P;!I&&u!==null&&(K=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const L=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&K);return L&&b!==Sb&&(P.value=w2(A,this.options,N,this.speed)),S&&S(P.value),L&&this.finish(),P}then(e,t){return this.finished.then(e,t)}get duration(){return TA(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+TA(e)}get time(){return TA(this.currentTime)}set time(e){var t;e=Bu(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(t=this.driver)==null||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Al.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=TA(this.currentTime))}play(){var a,o;if(this.isStopped)return;const{driver:e=EK,startTime:t}=this.options;this.driver||(this.driver=e(c=>this.tick(c))),(o=(a=this.options).onPlay)==null||o.call(a);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=t??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Al.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",(t=(e=this.options).onComplete)==null||t.call(e)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(t=(e=this.options).onCancel)==null||t.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(t=this.driver)==null||t.stop(),e.observe(this)}}function GK(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const Qh=n=>n*180/Math.PI,Nb=n=>{const e=Qh(Math.atan2(n[1],n[0]));return Eb(e)},$K={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:Nb,rotateZ:Nb,skewX:n=>Qh(Math.atan(n[1])),skewY:n=>Qh(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},Eb=n=>(n=n%360,n<0&&(n+=360),n),BS=Nb,CS=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),SS=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),YK={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:CS,scaleY:SS,scale:n=>(CS(n)+SS(n))/2,rotateX:n=>Eb(Qh(Math.atan2(n[6],n[5]))),rotateY:n=>Eb(Qh(Math.atan2(-n[2],n[0]))),rotateZ:BS,rotate:BS,skewX:n=>Qh(Math.atan(n[4])),skewY:n=>Qh(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function Tb(n){return n.includes("scale")?1:0}function Ib(n,e){if(!n||n==="none")return Tb(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(t)s=YK,a=t;else{const h=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=$K,a=h}if(!a)return Tb(e);const o=s[e],c=a[1].split(",").map(XK);return typeof o=="function"?o(c):c[o]}const WK=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return Ib(t,e)};function XK(n){return parseFloat(n.trim())}const Cm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Sm=new Set(Cm),NS=n=>n===Bm||n===xn,JK=new Set(["x","y","z"]),qK=Cm.filter(n=>!JK.has(n));function ZK(n){const e=[];return qK.forEach(t=>{const s=n.getValue(t);s!==void 0&&(e.push([t,s.get()]),s.set(t.startsWith("scale")?1:0))}),e}const Ed={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>Ib(e,"x"),y:(n,{transform:e})=>Ib(e,"y")};Ed.translateX=Ed.x;Ed.translateY=Ed.y;const Gh=new Set;let _b=!1,Fb=!1,Ub=!1;function r3(){if(Fb){const n=Array.from(Gh).filter(s=>s.needsMeasurement),e=new Set(n.map(s=>s.element)),t=new Map;e.forEach(s=>{const a=ZK(s);a.length&&(t.set(s,a),s.render())}),n.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=t.get(s);a&&a.forEach(([o,c])=>{var h;(h=s.getValue(o))==null||h.set(c)})}),n.forEach(s=>s.measureEndState()),n.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Fb=!1,_b=!1,Gh.forEach(n=>n.complete(Ub)),Gh.clear()}function a3(){Gh.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Fb=!0)})}function ez(){Ub=!0,a3(),r3(),Ub=!1}class C2{constructor(e,t,s,a,o,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=s,this.motionValue=a,this.element=o,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Gh.add(this),_b||(_b=!0,ca.read(a3),ca.resolveKeyframes(r3))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:s,motionValue:a}=this;if(e[0]===null){const o=a==null?void 0:a.get(),c=e[e.length-1];if(o!==void 0)e[0]=o;else if(s&&t){const h=s.readValue(t,c);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=c),a&&o===void 0&&a.set(e[0])}GK(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Gh.delete(this)}cancel(){this.state==="scheduled"&&(Gh.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const tz=n=>n.startsWith("--");function nz(n,e,t){tz(e)?n.style.setProperty(e,t):n.style[e]=t}const sz=h2(()=>window.ScrollTimeline!==void 0),rz={};function az(n,e){const t=h2(n);return()=>rz[e]??t()}const i3=az(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ep=([n,e,t,s])=>`cubic-bezier(${n}, ${e}, ${t}, ${s})`,ES={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ep([0,.65,.55,1]),circOut:Ep([.55,0,1,.45]),backIn:Ep([.31,.01,.66,-.59]),backOut:Ep([.33,1.53,.69,.99])};function o3(n,e){if(n)return typeof n=="function"?i3()?t3(n,e):"ease-out":KI(n)?Ep(n):Array.isArray(n)?n.map(t=>o3(t,e)||ES.easeOut):ES[n]}function iz(n,e,t,{delay:s=0,duration:a=300,repeat:o=0,repeatType:c="loop",ease:h="easeOut",times:u}={},f=void 0){const A={[e]:t};u&&(A.offset=u);const m=o3(h,a);Array.isArray(m)&&(A.easing=m);const v={delay:s,duration:a,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:o+1,direction:c==="reverse"?"alternate":"normal"};return f&&(v.pseudoElement=f),n.animate(A,v)}function l3(n){return typeof n=="function"&&"applyToOptions"in n}function oz({type:n,...e}){return l3(n)&&i3()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class lz extends j2{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:t,name:s,keyframes:a,pseudoElement:o,allowFlatten:c=!1,finalKeyframe:h,onComplete:u}=e;this.isPseudoElement=!!o,this.allowFlatten=c,this.options=e,d2(typeof e.type!="string");const f=oz(e);this.animation=iz(t,s,a,f,o),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const A=w2(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(A):nz(t,s,A),this.animation.cancel()}u==null||u(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;(t=(e=this.animation).finish)==null||t.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||(t=(e=this.animation).commitStyles)==null||t.call(e)}get duration(){var t,s;const e=((s=(t=this.animation.effect)==null?void 0:t.getComputedTiming)==null?void 0:s.call(t).duration)||0;return TA(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+TA(e)}get time(){return TA(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Bu(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&sz()?(this.animation.timeline=e,FA):t(this)}}const A3={anticipate:kI,backInOut:PI,circInOut:HI};function Az(n){return n in A3}function cz(n){typeof n.ease=="string"&&Az(n.ease)&&(n.ease=A3[n.ease])}const y1=10;class uz extends lz{constructor(e){cz(e),s3(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:s,onComplete:a,element:o,...c}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const h=new B2({...c,autoplay:!1}),u=Math.max(y1,Al.now()-this.startTime),f=Yc(0,y1,u-y1);t.setWithVelocity(h.sample(Math.max(0,u-f)).value,h.sample(u).value,f),h.stop()}}const TS=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(zd.test(n)||n==="0")&&!n.startsWith("url("));function dz(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function hz(n,e,t,s){const a=n[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const o=n[n.length-1],c=TS(a,e),h=TS(o,e);return!c||!h?!1:dz(n)||(t==="spring"||l3(t))&&s}function Rb(n){n.duration=0,n.type="keyframes"}const fz=new Set(["opacity","clipPath","filter","transform"]),mz=h2(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function pz(n){var A;const{motionValue:e,name:t,repeatDelay:s,repeatType:a,damping:o,type:c}=n;if(!(((A=e==null?void 0:e.owner)==null?void 0:A.current)instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:f}=e.owner.getProps();return mz()&&t&&fz.has(t)&&(t!=="transform"||!f)&&!u&&!s&&a!=="mirror"&&o!==0&&c!=="inertia"}const gz=40;class vz extends j2{constructor({autoplay:e=!0,delay:t=0,type:s="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:c="loop",keyframes:h,name:u,motionValue:f,element:A,...m}){var b;super(),this.stop=()=>{var S,N;this._animation&&(this._animation.stop(),(S=this.stopTimeline)==null||S.call(this)),(N=this.keyframeResolver)==null||N.cancel()},this.createdAt=Al.now();const v={autoplay:e,delay:t,type:s,repeat:a,repeatDelay:o,repeatType:c,name:u,motionValue:f,element:A,...m},g=(A==null?void 0:A.KeyframeResolver)||C2;this.keyframeResolver=new g(h,(S,N,E)=>this.onKeyframesResolved(S,N,v,!E),u,f,A),(b=this.keyframeResolver)==null||b.scheduleResolve()}onKeyframesResolved(e,t,s,a){this.keyframeResolver=void 0;const{name:o,type:c,velocity:h,delay:u,isHandoff:f,onUpdate:A}=s;this.resolvedAt=Al.now(),hz(e,o,c,h)||((_u.instantAnimations||!u)&&(A==null||A(w2(e,s,t))),e[0]=e[e.length-1],Rb(s),s.repeat=0);const v={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>gz?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...s,keyframes:e},g=!f&&pz(v)?new uz({...v,element:v.motionValue.owner.current}):new B2(v);g.finished.then(()=>this.notifyFinished()).catch(FA),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),ez()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const xz=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function yz(n){const e=xz.exec(n);if(!e)return[,];const[,t,s,a]=e;return[`--${t??s}`,a]}function c3(n,e,t=1){const[s,a]=yz(n);if(!s)return;const o=window.getComputedStyle(e).getPropertyValue(s);if(o){const c=o.trim();return _I(c)?parseFloat(c):c}return g2(a)?c3(a,e,t+1):a}function S2(n,e){return(n==null?void 0:n[e])??(n==null?void 0:n.default)??n}const u3=new Set(["width","height","top","left","right","bottom",...Cm]),bz={test:n=>n==="auto",parse:n=>n},d3=n=>e=>e.test(n),h3=[Bm,xn,zc,xd,dK,uK,bz],IS=n=>h3.find(d3(n));function wz(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||UI(n):!0}const jz=new Set(["brightness","contrast","saturate","opacity"]);function Bz(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[s]=t.match(v2)||[];if(!s)return n;const a=t.replace(s,"");let o=jz.has(e)?1:0;return s!==t&&(o*=100),e+"("+o+a+")"}const Cz=/\b([a-z-]*)\(.*?\)/gu,Db={...zd,getAnimatableNone:n=>{const e=n.match(Cz);return e?e.map(Bz).join(" "):n}},_S={...Bm,transform:Math.round},Sz={rotate:xd,rotateX:xd,rotateY:xd,rotateZ:xd,scale:ev,scaleX:ev,scaleY:ev,scaleZ:ev,skew:xd,skewX:xd,skewY:xd,distance:xn,translateX:xn,translateY:xn,translateZ:xn,x:xn,y:xn,z:xn,perspective:xn,transformPerspective:xn,opacity:dg,originX:xS,originY:xS,originZ:xn},N2={borderWidth:xn,borderTopWidth:xn,borderRightWidth:xn,borderBottomWidth:xn,borderLeftWidth:xn,borderRadius:xn,radius:xn,borderTopLeftRadius:xn,borderTopRightRadius:xn,borderBottomRightRadius:xn,borderBottomLeftRadius:xn,width:xn,maxWidth:xn,height:xn,maxHeight:xn,top:xn,right:xn,bottom:xn,left:xn,inset:xn,insetBlock:xn,insetBlockStart:xn,insetBlockEnd:xn,insetInline:xn,insetInlineStart:xn,insetInlineEnd:xn,padding:xn,paddingTop:xn,paddingRight:xn,paddingBottom:xn,paddingLeft:xn,paddingBlock:xn,paddingBlockStart:xn,paddingBlockEnd:xn,paddingInline:xn,paddingInlineStart:xn,paddingInlineEnd:xn,margin:xn,marginTop:xn,marginRight:xn,marginBottom:xn,marginLeft:xn,marginBlock:xn,marginBlockStart:xn,marginBlockEnd:xn,marginInline:xn,marginInlineStart:xn,marginInlineEnd:xn,backgroundPositionX:xn,backgroundPositionY:xn,...Sz,zIndex:_S,fillOpacity:dg,strokeOpacity:dg,numOctaves:_S},Nz={...N2,color:bi,backgroundColor:bi,outlineColor:bi,fill:bi,stroke:bi,borderColor:bi,borderTopColor:bi,borderRightColor:bi,borderBottomColor:bi,borderLeftColor:bi,filter:Db,WebkitFilter:Db},f3=n=>Nz[n];function m3(n,e){let t=f3(n);return t!==Db&&(t=zd),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const Ez=new Set(["auto","none","0"]);function Tz(n,e,t){let s=0,a;for(;s<n.length&&!a;){const o=n[s];typeof o=="string"&&!Ez.has(o)&&hg(o).values.length&&(a=n[s]),s++}if(a&&t)for(const o of e)n[o]=m3(t,a)}class Iz extends C2{constructor(e,t,s,a,o){super(e,t,s,a,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:s}=this;if(!t||!t.current)return;super.readKeyframes();for(let A=0;A<e.length;A++){let m=e[A];if(typeof m=="string"&&(m=m.trim(),g2(m))){const v=c3(m,t.current);v!==void 0&&(e[A]=v),A===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!u3.has(s)||e.length!==2)return;const[a,o]=e,c=IS(a),h=IS(o),u=vS(a),f=vS(o);if(u!==f&&Ed[s]){this.needsMeasurement=!0;return}if(c!==h)if(NS(c)&&NS(h))for(let A=0;A<e.length;A++){const m=e[A];typeof m=="string"&&(e[A]=parseFloat(m))}else Ed[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||wz(e[a]))&&s.push(a);s.length&&Tz(e,s,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ed[s](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const a=t[t.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){var h;const{element:e,name:t,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(t);a&&a.jump(this.measuredOrigin,!1);const o=s.length-1,c=s[o];s[o]=Ed[t](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(h=this.removedTransforms)!=null&&h.length&&this.removedTransforms.forEach(([u,f])=>{e.getValue(u).set(f)}),this.resolveNoneKeyframes()}}function _z(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let s=document;const a=(t==null?void 0:t[n])??s.querySelectorAll(n);return a?Array.from(a):[]}return Array.from(n)}const p3=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function Fz(n){return FI(n)&&"offsetHeight"in n}const FS=30,Uz=n=>!isNaN(parseFloat(n));class Rz{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var o;const a=Al.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Al.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Uz(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new f2);const s=this.events[e].add(t);return e==="change"?()=>{s(),ca.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,s){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Al.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>FS)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,FS);return RI(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;(e=this.dependents)==null||e.clear(),(t=this.events.destroy)==null||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function dm(n,e){return new Rz(n,e)}const{schedule:E2}=zI(queueMicrotask,!1),ec={x:!1,y:!1};function g3(){return ec.x||ec.y}function Dz(n){return n==="x"||n==="y"?ec[n]?null:(ec[n]=!0,()=>{ec[n]=!1}):ec.x||ec.y?null:(ec.x=ec.y=!0,()=>{ec.x=ec.y=!1})}function v3(n,e){const t=_z(n),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[t,a,()=>s.abort()]}function US(n){return!(n.pointerType==="touch"||g3())}function Lz(n,e,t={}){const[s,a,o]=v3(n,t),c=h=>{if(!US(h))return;const{target:u}=h,f=e(u,h);if(typeof f!="function"||!u)return;const A=m=>{US(m)&&(f(m),u.removeEventListener("pointerleave",A))};u.addEventListener("pointerleave",A,a)};return s.forEach(h=>{h.addEventListener("pointerenter",c,a)}),o}const x3=(n,e)=>e?n===e?!0:x3(n,e.parentElement):!1,T2=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,Qz=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function y3(n){return Qz.has(n.tagName)||n.isContentEditable===!0}const yv=new WeakSet;function RS(n){return e=>{e.key==="Enter"&&n(e)}}function b1(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Oz=(n,e)=>{const t=n.currentTarget;if(!t)return;const s=RS(()=>{if(yv.has(t))return;b1(t,"down");const a=RS(()=>{b1(t,"up")}),o=()=>b1(t,"cancel");t.addEventListener("keyup",a,e),t.addEventListener("blur",o,e)});t.addEventListener("keydown",s,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",s),e)};function DS(n){return T2(n)&&!g3()}function Pz(n,e,t={}){const[s,a,o]=v3(n,t),c=h=>{const u=h.currentTarget;if(!DS(h))return;yv.add(u);const f=e(u,h),A=(g,b)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",v),yv.has(u)&&yv.delete(u),DS(g)&&typeof f=="function"&&f(g,{success:b})},m=g=>{A(g,u===window||u===document||t.useGlobalTarget||x3(u,g.target))},v=g=>{A(g,!1)};window.addEventListener("pointerup",m,a),window.addEventListener("pointercancel",v,a)};return s.forEach(h=>{(t.useGlobalTarget?window:h).addEventListener("pointerdown",c,a),Fz(h)&&(h.addEventListener("focus",f=>Oz(f,a)),!y3(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),o}function b3(n){return FI(n)&&"ownerSVGElement"in n}function kz(n){return b3(n)&&n.tagName==="svg"}const zo=n=>!!(n&&n.getVelocity),Mz=[...h3,bi,zd],Hz=n=>Mz.find(d3(n)),w3=ee.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function Vz(n=!0){const e=ee.useContext(A2);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:s,register:a}=e,o=ee.useId();ee.useEffect(()=>{if(n)return a(o)},[n]);const c=ee.useCallback(()=>n&&s&&s(o),[o,s,n]);return!t&&s?[!1,c]:[!0]}const j3=ee.createContext({strict:!1}),LS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},hm={};for(const n in LS)hm[n]={isEnabled:e=>LS[n].some(t=>!!e[t])};function Kz(n){for(const e in n)hm[e]={...hm[e],...n[e]}}const zz=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function rx(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||zz.has(n)}let B3=n=>!rx(n);function Gz(n){typeof n=="function"&&(B3=e=>e.startsWith("on")?!rx(e):n(e))}try{Gz(require("@emotion/is-prop-valid").default)}catch{}function $z(n,e,t){const s={};for(const a in n)a==="values"&&typeof n.values=="object"||(B3(a)||t===!0&&rx(a)||!e&&!rx(a)||n.draggable&&a.startsWith("onDrag"))&&(s[a]=n[a]);return s}const Qx=ee.createContext({});function Ox(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function fg(n){return typeof n=="string"||Array.isArray(n)}const I2=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],_2=["initial",...I2];function Px(n){return Ox(n.animate)||_2.some(e=>fg(n[e]))}function C3(n){return!!(Px(n)||n.variants)}function Yz(n,e){if(Px(n)){const{initial:t,animate:s}=n;return{initial:t===!1||fg(t)?t:void 0,animate:fg(s)?s:void 0}}return n.inherit!==!1?e:{}}function Wz(n){const{initial:e,animate:t}=Yz(n,ee.useContext(Qx));return ee.useMemo(()=>({initial:e,animate:t}),[QS(e),QS(t)])}function QS(n){return Array.isArray(n)?n.join(" "):n}function OS(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const bp={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(xn.test(n))n=parseFloat(n);else return n;const t=OS(n,e.target.x),s=OS(n,e.target.y);return`${t}% ${s}%`}},Xz={correct:(n,{treeScale:e,projectionDelta:t})=>{const s=n,a=zd.parse(n);if(a.length>5)return s;const o=zd.createTransformer(n),c=typeof a[0]!="number"?1:0,h=t.x.scale*e.x,u=t.y.scale*e.y;a[0+c]/=h,a[1+c]/=u;const f=_a(h,u,.5);return typeof a[2+c]=="number"&&(a[2+c]/=f),typeof a[3+c]=="number"&&(a[3+c]/=f),o(a)}},Lb={borderRadius:{...bp,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:bp,borderTopRightRadius:bp,borderBottomLeftRadius:bp,borderBottomRightRadius:bp,boxShadow:Xz};function S3(n,{layout:e,layoutId:t}){return Sm.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Lb[n]||n==="opacity")}const Jz={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},qz=Cm.length;function Zz(n,e,t){let s="",a=!0;for(let o=0;o<qz;o++){const c=Cm[o],h=n[c];if(h===void 0)continue;let u=!0;if(typeof h=="number"?u=h===(c.startsWith("scale")?1:0):u=parseFloat(h)===0,!u||t){const f=p3(h,N2[c]);if(!u){a=!1;const A=Jz[c]||c;s+=`${A}(${f}) `}t&&(e[c]=f)}}return s=s.trim(),t?s=t(e,a?"":s):a&&(s="none"),s}function F2(n,e,t){const{style:s,vars:a,transformOrigin:o}=n;let c=!1,h=!1;for(const u in e){const f=e[u];if(Sm.has(u)){c=!0;continue}else if($I(u)){a[u]=f;continue}else{const A=p3(f,N2[u]);u.startsWith("origin")?(h=!0,o[u]=A):s[u]=A}}if(e.transform||(c||t?s.transform=Zz(e,n.transform,t):s.transform&&(s.transform="none")),h){const{originX:u="50%",originY:f="50%",originZ:A=0}=o;s.transformOrigin=`${u} ${f} ${A}`}}const U2=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function N3(n,e,t){for(const s in e)!zo(e[s])&&!S3(s,t)&&(n[s]=e[s])}function eG({transformTemplate:n},e){return ee.useMemo(()=>{const t=U2();return F2(t,e,n),Object.assign({},t.vars,t.style)},[e])}function tG(n,e){const t=n.style||{},s={};return N3(s,t,n),Object.assign(s,eG(n,e)),s}function nG(n,e){const t={},s=tG(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=s,t}const sG={offset:"stroke-dashoffset",array:"stroke-dasharray"},rG={offset:"strokeDashoffset",array:"strokeDasharray"};function aG(n,e,t=1,s=0,a=!0){n.pathLength=1;const o=a?sG:rG;n[o.offset]=xn.transform(-s);const c=xn.transform(e),h=xn.transform(t);n[o.array]=`${c} ${h}`}const iG=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function E3(n,{attrX:e,attrY:t,attrScale:s,pathLength:a,pathSpacing:o=1,pathOffset:c=0,...h},u,f,A){if(F2(n,h,f),u){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:m,style:v}=n;m.transform&&(v.transform=m.transform,delete m.transform),(v.transform||m.transformOrigin)&&(v.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),v.transform&&(v.transformBox=(A==null?void 0:A.transformBox)??"fill-box",delete m.transformBox);for(const g of iG)m[g]!==void 0&&(v[g]=m[g],delete m[g]);e!==void 0&&(m.x=e),t!==void 0&&(m.y=t),s!==void 0&&(m.scale=s),a!==void 0&&aG(m,a,o,c,!1)}const T3=()=>({...U2(),attrs:{}}),I3=n=>typeof n=="string"&&n.toLowerCase()==="svg";function oG(n,e,t,s){const a=ee.useMemo(()=>{const o=T3();return E3(o,e,I3(s),n.transformTemplate,n.style),{...o.attrs,style:{...o.style}}},[e]);if(n.style){const o={};N3(o,n.style,n),a.style={...o,...a.style}}return a}const lG=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function R2(n){return typeof n!="string"||n.includes("-")?!1:!!(lG.indexOf(n)>-1||/[A-Z]/u.test(n))}function AG(n,e,t,{latestValues:s},a,o=!1,c){const u=(c??R2(n)?oG:nG)(e,s,a,n),f=$z(e,typeof n=="string",o),A=n!==ee.Fragment?{...f,...u,ref:t}:{},{children:m}=e,v=ee.useMemo(()=>zo(m)?m.get():m,[m]);return ee.createElement(n,{...A,children:v})}function PS(n){const e=[{},{}];return n==null||n.values.forEach((t,s)=>{e[0][s]=t.get(),e[1][s]=t.getVelocity()}),e}function D2(n,e,t,s){if(typeof e=="function"){const[a,o]=PS(s);e=e(t!==void 0?t:n.custom,a,o)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[a,o]=PS(s);e=e(t!==void 0?t:n.custom,a,o)}return e}function bv(n){return zo(n)?n.get():n}function cG({scrapeMotionValuesFromProps:n,createRenderState:e},t,s,a){return{latestValues:uG(t,s,a,n),renderState:e()}}function uG(n,e,t,s){const a={},o=s(n,{});for(const v in o)a[v]=bv(o[v]);let{initial:c,animate:h}=n;const u=Px(n),f=C3(n);e&&f&&!u&&n.inherit!==!1&&(c===void 0&&(c=e.initial),h===void 0&&(h=e.animate));let A=t?t.initial===!1:!1;A=A||c===!1;const m=A?h:c;if(m&&typeof m!="boolean"&&!Ox(m)){const v=Array.isArray(m)?m:[m];for(let g=0;g<v.length;g++){const b=D2(n,v[g]);if(b){const{transitionEnd:S,transition:N,...E}=b;for(const I in E){let F=E[I];if(Array.isArray(F)){const D=A?F.length-1:0;F=F[D]}F!==null&&(a[I]=F)}for(const I in S)a[I]=S[I]}}}return a}const _3=n=>(e,t)=>{const s=ee.useContext(Qx),a=ee.useContext(A2),o=()=>cG(n,e,s,a);return t?o():zV(o)};function L2(n,e,t){var o;const{style:s}=n,a={};for(const c in s)(zo(s[c])||e.style&&zo(e.style[c])||S3(c,n)||((o=t==null?void 0:t.getValue(c))==null?void 0:o.liveStyle)!==void 0)&&(a[c]=s[c]);return a}const dG=_3({scrapeMotionValuesFromProps:L2,createRenderState:U2});function F3(n,e,t){const s=L2(n,e,t);for(const a in n)if(zo(n[a])||zo(e[a])){const o=Cm.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[o]=n[a]}return s}const hG=_3({scrapeMotionValuesFromProps:F3,createRenderState:T3}),fG=Symbol.for("motionComponentSymbol");function mG(n,e,t){const s=ee.useRef(t);ee.useInsertionEffect(()=>{s.current=t});const a=ee.useRef(null);return ee.useCallback(o=>{var h;o&&((h=n.onMount)==null||h.call(n,o)),e&&(o?e.mount(o):e.unmount());const c=s.current;if(typeof c=="function")if(o){const u=c(o);typeof u=="function"&&(a.current=u)}else a.current?(a.current(),a.current=null):c(o);else c&&(c.current=o)},[e])}const Q2=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),pG="framerAppearId",U3="data-"+Q2(pG),R3=ee.createContext({});function Tp(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function gG(n,e,t,s,a,o){var N,E;const{visualElement:c}=ee.useContext(Qx),h=ee.useContext(j3),u=ee.useContext(A2),f=ee.useContext(w3).reducedMotion,A=ee.useRef(null);s=s||h.renderer,!A.current&&s&&(A.current=s(n,{visualState:e,parent:c,props:t,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:f,isSVG:o}));const m=A.current,v=ee.useContext(R3);m&&!m.projection&&a&&(m.type==="html"||m.type==="svg")&&vG(A.current,t,a,v);const g=ee.useRef(!1);ee.useInsertionEffect(()=>{m&&g.current&&m.update(t,u)});const b=t[U3],S=ee.useRef(!!b&&!((N=window.MotionHandoffIsComplete)!=null&&N.call(window,b))&&((E=window.MotionHasOptimisedAnimation)==null?void 0:E.call(window,b)));return GV(()=>{m&&(g.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),S.current&&m.animationState&&m.animationState.animateChanges())}),ee.useEffect(()=>{m&&(!S.current&&m.animationState&&m.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var I;(I=window.MotionHandoffMarkAsComplete)==null||I.call(window,b)}),S.current=!1),m.enteringChildren=void 0)}),m}function vG(n,e,t,s){const{layoutId:a,layout:o,drag:c,dragConstraints:h,layoutScroll:u,layoutRoot:f,layoutCrossfade:A}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:D3(n.parent)),n.projection.setOptions({layoutId:a,layout:o,alwaysMeasureLayout:!!c||h&&Tp(h),visualElement:n,animationType:typeof o=="string"?o:"both",initialPromotionConfig:s,crossfade:A,layoutScroll:u,layoutRoot:f})}function D3(n){if(n)return n.options.allowProjection!==!1?n.projection:D3(n.parent)}function w1(n,{forwardMotionProps:e=!1,type:t}={},s,a){s&&Kz(s);const o=t?t==="svg":R2(n),c=o?hG:dG;function h(f,A){let m;const v={...ee.useContext(w3),...f,layoutId:xG(f)},{isStatic:g}=v,b=Wz(f),S=c(f,g);if(!g&&l2){yG();const N=bG(v);m=N.MeasureLayout,b.visualElement=gG(n,S,v,a,N.ProjectionNode,o)}return i.jsxs(Qx.Provider,{value:b,children:[m&&b.visualElement?i.jsx(m,{visualElement:b.visualElement,...v}):null,AG(n,f,mG(S,b.visualElement,A),S,g,e,o)]})}h.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const u=ee.forwardRef(h);return u[fG]=n,u}function xG({layoutId:n}){const e=ee.useContext(II).id;return e&&n!==void 0?e+"-"+n:n}function yG(n,e){ee.useContext(j3).strict}function bG(n){const{drag:e,layout:t}=hm;if(!e&&!t)return{};const s={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function wG(n,e){if(typeof Proxy>"u")return w1;const t=new Map,s=(o,c)=>w1(o,c,n,e),a=(o,c)=>s(o,c);return new Proxy(a,{get:(o,c)=>c==="create"?s:(t.has(c)||t.set(c,w1(c,void 0,n,e)),t.get(c))})}function L3({top:n,left:e,right:t,bottom:s}){return{x:{min:e,max:t},y:{min:n,max:s}}}function jG({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function BG(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),s=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:s.y,right:s.x}}function j1(n){return n===void 0||n===1}function Qb({scale:n,scaleX:e,scaleY:t}){return!j1(n)||!j1(e)||!j1(t)}function Fh(n){return Qb(n)||Q3(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function Q3(n){return kS(n.x)||kS(n.y)}function kS(n){return n&&n!=="0%"}function ax(n,e,t){const s=n-t,a=e*s;return t+a}function MS(n,e,t,s,a){return a!==void 0&&(n=ax(n,a,s)),ax(n,t,s)+e}function Ob(n,e=0,t=1,s,a){n.min=MS(n.min,e,t,s,a),n.max=MS(n.max,e,t,s,a)}function O3(n,{x:e,y:t}){Ob(n.x,e.translate,e.scale,e.originPoint),Ob(n.y,t.translate,t.scale,t.originPoint)}const HS=.999999999999,VS=1.0000000000001;function CG(n,e,t,s=!1){const a=t.length;if(!a)return;e.x=e.y=1;let o,c;for(let h=0;h<a;h++){o=t[h],c=o.projectionDelta;const{visualElement:u}=o.options;u&&u.props.style&&u.props.style.display==="contents"||(s&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Yf(n,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,O3(n,c)),s&&Fh(o.latestValues)&&Yf(n,o.latestValues))}e.x<VS&&e.x>HS&&(e.x=1),e.y<VS&&e.y>HS&&(e.y=1)}function $f(n,e){n.min=n.min+e,n.max=n.max+e}function KS(n,e,t,s,a=.5){const o=_a(n.min,n.max,a);Ob(n,e,t,o,s)}function Yf(n,e){KS(n.x,e.x,e.scaleX,e.scale,e.originX),KS(n.y,e.y,e.scaleY,e.scale,e.originY)}function P3(n,e){return L3(BG(n.getBoundingClientRect(),e))}function SG(n,e,t){const s=P3(n,t),{scroll:a}=e;return a&&($f(s.x,a.offset.x),$f(s.y,a.offset.y)),s}const zS=()=>({translate:0,scale:1,origin:0,originPoint:0}),Wf=()=>({x:zS(),y:zS()}),GS=()=>({min:0,max:0}),Qi=()=>({x:GS(),y:GS()}),Pb={current:null},k3={current:!1};function NG(){if(k3.current=!0,!!l2)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Pb.current=n.matches;n.addEventListener("change",e),e()}else Pb.current=!1}const EG=new WeakMap;function TG(n,e,t){for(const s in e){const a=e[s],o=t[s];if(zo(a))n.addValue(s,a);else if(zo(o))n.addValue(s,dm(a,{owner:n}));else if(o!==a)if(n.hasValue(s)){const c=n.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=n.getStaticValue(s);n.addValue(s,dm(c!==void 0?c:a,{owner:n}))}}for(const s in t)e[s]===void 0&&n.removeValue(s);return e}const $S=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class IG{scrapeMotionValuesFromProps(e,t,s){return{}}constructor({parent:e,props:t,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:o,visualState:c},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=C2,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=Al.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,ca.render(this.render,!1,!0))};const{latestValues:u,renderState:f}=c;this.latestValues=u,this.baseTarget={...u},this.initialValues=t.initial?{...u}:{},this.renderState=f,this.parent=e,this.props=t,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!o,this.isControllingVariants=Px(t),this.isVariantNode=C3(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:A,...m}=this.scrapeMotionValuesFromProps(t,{},this);for(const v in m){const g=m[v];u[v]!==void 0&&zo(g)&&g.set(u[v])}}mount(e){var t;this.current=e,EG.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,a)=>this.bindToMotionValue(a,s)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(k3.current||NG(),this.shouldReduceMotion=Pb.current),(t=this.parent)==null||t.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Kd(this.notifyUpdate),Kd(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const s=this.features[t];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Sm.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=t.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&ca.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{a(),o&&o(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in hm){const t=hm[e];if(!t)continue;const{isEnabled:s,Feature:a}=t;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Qi()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let s=0;s<$S.length;s++){const a=$S[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const o="on"+a,c=e[o];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=TG(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const s=this.values.get(e);t!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&t!==void 0&&(s=dm(t===null?void 0:t,{owner:this}),this.addValue(e,s)),s}readValue(e,t){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(_I(s)||UI(s))?s=parseFloat(s):!Hz(s)&&zd.test(t)&&(s=m3(e,t)),this.setBaseTarget(e,zo(s)?s.get():s)),zo(s)?s.get():s}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var o;const{initial:t}=this.props;let s;if(typeof t=="string"||typeof t=="object"){const c=D2(this.props,t,(o=this.presenceContext)==null?void 0:o.custom);c&&(s=c[e])}if(t&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!zo(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new f2),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){E2.render(this.render)}}class M3 extends IG{constructor(){super(...arguments),this.KeyframeResolver=Iz}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:s}){delete t[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;zo(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function H3(n,{style:e,vars:t},s,a){const o=n.style;let c;for(c in e)o[c]=e[c];a==null||a.applyProjectionStyles(o,s);for(c in t)o.setProperty(c,t[c])}function _G(n){return window.getComputedStyle(n)}class FG extends M3{constructor(){super(...arguments),this.type="html",this.renderInstance=H3}readValueFromInstance(e,t){var s;if(Sm.has(t))return(s=this.projection)!=null&&s.isProjecting?Tb(t):WK(e,t);{const a=_G(e),o=($I(t)?a.getPropertyValue(t):a[t])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:t}){return P3(e,t)}build(e,t,s){F2(e,t,s.transformTemplate)}scrapeMotionValuesFromProps(e,t,s){return L2(e,t,s)}}const V3=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function UG(n,e,t,s){H3(n,e,void 0,s);for(const a in e.attrs)n.setAttribute(V3.has(a)?a:Q2(a),e.attrs[a])}class RG extends M3{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Qi}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Sm.has(t)){const s=f3(t);return s&&s.default||0}return t=V3.has(t)?t:Q2(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,s){return F3(e,t,s)}build(e,t,s){E3(e,t,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,t,s,a){UG(e,t,s,a)}mount(e){this.isSVGTag=I3(e.tagName),super.mount(e)}}const DG=(n,e)=>e.isSVG??R2(n)?new RG(e):new FG(e,{allowProjection:n!==ee.Fragment});function em(n,e,t){const s=n.getProps();return D2(s,e,t!==void 0?t:s.custom,n)}const kb=n=>Array.isArray(n);function LG(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,dm(t))}function QG(n){return kb(n)?n[n.length-1]||0:n}function OG(n,e){const t=em(n,e);let{transitionEnd:s={},transition:a={},...o}=t||{};o={...o,...s};for(const c in o){const h=QG(o[c]);LG(n,c,h)}}function PG(n){return!!(zo(n)&&n.add)}function Mb(n,e){const t=n.getValue("willChange");if(PG(t))return t.add(e);if(!t&&_u.WillChange){const s=new _u.WillChange("auto");n.addValue("willChange",s),s.add(e)}}function K3(n){return n.props[U3]}const kG=n=>n!==null;function MG(n,{repeat:e,repeatType:t="loop"},s){const a=n.filter(kG),o=e&&t!=="loop"&&e%2===1?0:a.length-1;return a[o]}const HG={type:"spring",stiffness:500,damping:25,restSpeed:10},VG=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),KG={type:"keyframes",duration:.8},zG={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},GG=(n,{keyframes:e})=>e.length>2?KG:Sm.has(n)?n.startsWith("scale")?VG(e[1]):HG:zG;function $G({when:n,delay:e,delayChildren:t,staggerChildren:s,staggerDirection:a,repeat:o,repeatType:c,repeatDelay:h,from:u,elapsed:f,...A}){return!!Object.keys(A).length}const O2=(n,e,t,s={},a,o)=>c=>{const h=S2(s,n)||{},u=h.delay||s.delay||0;let{elapsed:f=0}=s;f=f-Bu(u);const A={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-f,onUpdate:v=>{e.set(v),h.onUpdate&&h.onUpdate(v)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:n,motionValue:e,element:o?void 0:a};$G(h)||Object.assign(A,GG(n,A)),A.duration&&(A.duration=Bu(A.duration)),A.repeatDelay&&(A.repeatDelay=Bu(A.repeatDelay)),A.from!==void 0&&(A.keyframes[0]=A.from);let m=!1;if((A.type===!1||A.duration===0&&!A.repeatDelay)&&(Rb(A),A.delay===0&&(m=!0)),(_u.instantAnimations||_u.skipAnimations)&&(m=!0,Rb(A),A.delay=0),A.allowFlatten=!h.type&&!h.ease,m&&!o&&e.get()!==void 0){const v=MG(A.keyframes,h);if(v!==void 0){ca.update(()=>{A.onUpdate(v),A.onComplete()});return}}return h.isSync?new B2(A):new vz(A)};function YG({protectedKeys:n,needsAnimating:e},t){const s=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,s}function z3(n,e,{delay:t=0,transitionOverride:s,type:a}={}){let{transition:o=n.getDefaultTransition(),transitionEnd:c,...h}=e;s&&(o=s);const u=[],f=a&&n.animationState&&n.animationState.getState()[a];for(const A in h){const m=n.getValue(A,n.latestValues[A]??null),v=h[A];if(v===void 0||f&&YG(f,A))continue;const g={delay:t,...S2(o||{},A)},b=m.get();if(b!==void 0&&!m.isAnimating&&!Array.isArray(v)&&v===b&&!g.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const E=K3(n);if(E){const I=window.MotionHandoffAnimation(E,A,ca);I!==null&&(g.startTime=I,S=!0)}}Mb(n,A),m.start(O2(A,m,v,n.shouldReduceMotion&&u3.has(A)?{type:!1}:g,n,S));const N=m.animation;N&&u.push(N)}return c&&Promise.all(u).then(()=>{ca.update(()=>{c&&OG(n,c)})}),u}function G3(n,e,t,s=0,a=1){const o=Array.from(n).sort((f,A)=>f.sortNodePosition(A)).indexOf(e),c=n.size,h=(c-1)*s;return typeof t=="function"?t(o,c):a===1?o*s:h-o*s}function Hb(n,e,t={}){var u;const s=em(n,e,t.type==="exit"?(u=n.presenceContext)==null?void 0:u.custom:void 0);let{transition:a=n.getDefaultTransition()||{}}=s||{};t.transitionOverride&&(a=t.transitionOverride);const o=s?()=>Promise.all(z3(n,s,t)):()=>Promise.resolve(),c=n.variantChildren&&n.variantChildren.size?(f=0)=>{const{delayChildren:A=0,staggerChildren:m,staggerDirection:v}=a;return WG(n,e,f,A,m,v,t)}:()=>Promise.resolve(),{when:h}=a;if(h){const[f,A]=h==="beforeChildren"?[o,c]:[c,o];return f().then(()=>A())}else return Promise.all([o(),c(t.delay)])}function WG(n,e,t=0,s=0,a=0,o=1,c){const h=[];for(const u of n.variantChildren)u.notify("AnimationStart",e),h.push(Hb(u,e,{...c,delay:t+(typeof s=="function"?0:s)+G3(n.variantChildren,u,s,a,o)}).then(()=>u.notify("AnimationComplete",e)));return Promise.all(h)}function XG(n,e,t={}){n.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(o=>Hb(n,o,t));s=Promise.all(a)}else if(typeof e=="string")s=Hb(n,e,t);else{const a=typeof e=="function"?em(n,e,t.custom):e;s=Promise.all(z3(n,a,t))}return s.then(()=>{n.notify("AnimationComplete",e)})}function $3(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let s=0;s<t;s++)if(e[s]!==n[s])return!1;return!0}const JG=_2.length;function Y3(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?Y3(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<JG;t++){const s=_2[t],a=n.props[s];(fg(a)||a===!1)&&(e[s]=a)}return e}const qG=[...I2].reverse(),ZG=I2.length;function e$(n){return e=>Promise.all(e.map(({animation:t,options:s})=>XG(n,t,s)))}function t$(n){let e=e$(n),t=YS(),s=!0;const a=u=>(f,A)=>{var v;const m=em(n,A,u==="exit"?(v=n.presenceContext)==null?void 0:v.custom:void 0);if(m){const{transition:g,transitionEnd:b,...S}=m;f={...f,...S,...b}}return f};function o(u){e=u(n)}function c(u){const{props:f}=n,A=Y3(n.parent)||{},m=[],v=new Set;let g={},b=1/0;for(let N=0;N<ZG;N++){const E=qG[N],I=t[E],F=f[E]!==void 0?f[E]:A[E],D=fg(F),P=E===u?I.isActive:null;P===!1&&(b=N);let K=F===A[E]&&F!==f[E]&&D;if(K&&s&&n.manuallyAnimateOnMount&&(K=!1),I.protectedKeys={...g},!I.isActive&&P===null||!F&&!I.prevProp||Ox(F)||typeof F=="boolean")continue;const L=n$(I.prevProp,F);let Q=L||E===u&&I.isActive&&!K&&D||N>b&&D,R=!1;const M=Array.isArray(F)?F:[F];let O=M.reduce(a(E),{});P===!1&&(O={});const{prevResolvedValues:H={}}=I,G={...H,...O},ie=re=>{Q=!0,v.has(re)&&(R=!0,v.delete(re)),I.needsAnimating[re]=!0;const se=n.getValue(re);se&&(se.liveStyle=!1)};for(const re in G){const se=O[re],he=H[re];if(g.hasOwnProperty(re))continue;let je=!1;kb(se)&&kb(he)?je=!$3(se,he):je=se!==he,je?se!=null?ie(re):v.add(re):se!==void 0&&v.has(re)?ie(re):I.protectedKeys[re]=!0}I.prevProp=F,I.prevResolvedValues=O,I.isActive&&(g={...g,...O}),s&&n.blockInitialAnimation&&(Q=!1);const ge=K&&L;Q&&(!ge||R)&&m.push(...M.map(re=>{const se={type:E};if(typeof re=="string"&&s&&!ge&&n.manuallyAnimateOnMount&&n.parent){const{parent:he}=n,je=em(he,re);if(he.enteringChildren&&je){const{delayChildren:ne}=je.transition||{};se.delay=G3(he.enteringChildren,n,ne)}}return{animation:re,options:se}}))}if(v.size){const N={};if(typeof f.initial!="boolean"){const E=em(n,Array.isArray(f.initial)?f.initial[0]:f.initial);E&&E.transition&&(N.transition=E.transition)}v.forEach(E=>{const I=n.getBaseTarget(E),F=n.getValue(E);F&&(F.liveStyle=!0),N[E]=I??null}),m.push({animation:N})}let S=!!m.length;return s&&(f.initial===!1||f.initial===f.animate)&&!n.manuallyAnimateOnMount&&(S=!1),s=!1,S?e(m):Promise.resolve()}function h(u,f){var m;if(t[u].isActive===f)return Promise.resolve();(m=n.variantChildren)==null||m.forEach(v=>{var g;return(g=v.animationState)==null?void 0:g.setActive(u,f)}),t[u].isActive=f;const A=c(u);for(const v in t)t[v].protectedKeys={};return A}return{animateChanges:c,setActive:h,setAnimateFunction:o,getState:()=>t,reset:()=>{t=YS()}}}function n$(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!$3(e,n):!1}function Th(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function YS(){return{animate:Th(!0),whileInView:Th(),whileHover:Th(),whileTap:Th(),whileDrag:Th(),whileFocus:Th(),exit:Th()}}class Jd{constructor(e){this.isMounted=!1,this.node=e}update(){}}class s$ extends Jd{constructor(e){super(e),e.animationState||(e.animationState=t$(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ox(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let r$=0;class a$ extends Jd{constructor(){super(...arguments),this.id=r$++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);t&&!e&&a.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const i$={animation:{Feature:s$},exit:{Feature:a$}};function mg(n,e,t,s={passive:!0}){return n.addEventListener(e,t,s),()=>n.removeEventListener(e,t)}function Pg(n){return{point:{x:n.pageX,y:n.pageY}}}const o$=n=>e=>T2(e)&&n(e,Pg(e));function Yp(n,e,t,s){return mg(n,e,o$(t),s)}const W3=1e-4,l$=1-W3,A$=1+W3,X3=.01,c$=0-X3,u$=0+X3;function cl(n){return n.max-n.min}function d$(n,e,t){return Math.abs(n-e)<=t}function WS(n,e,t,s=.5){n.origin=s,n.originPoint=_a(e.min,e.max,n.origin),n.scale=cl(t)/cl(e),n.translate=_a(t.min,t.max,n.origin)-n.originPoint,(n.scale>=l$&&n.scale<=A$||isNaN(n.scale))&&(n.scale=1),(n.translate>=c$&&n.translate<=u$||isNaN(n.translate))&&(n.translate=0)}function Wp(n,e,t,s){WS(n.x,e.x,t.x,s?s.originX:void 0),WS(n.y,e.y,t.y,s?s.originY:void 0)}function XS(n,e,t){n.min=t.min+e.min,n.max=n.min+cl(e)}function h$(n,e,t){XS(n.x,e.x,t.x),XS(n.y,e.y,t.y)}function JS(n,e,t){n.min=e.min-t.min,n.max=n.min+cl(e)}function ix(n,e,t){JS(n.x,e.x,t.x),JS(n.y,e.y,t.y)}function NA(n){return[n("x"),n("y")]}const J3=({current:n})=>n?n.ownerDocument.defaultView:null,qS=(n,e)=>Math.abs(n-e);function f$(n,e){const t=qS(n.x,e.x),s=qS(n.y,e.y);return Math.sqrt(t**2+s**2)}const ZS=new Set(["auto","scroll"]);class q3{constructor(e,t,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:o=!1,distanceThreshold:c=3,element:h}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=g=>{this.handleScroll(g.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=C1(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,S=f$(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!S)return;const{point:N}=g,{timestamp:E}=Ao;this.history.push({...N,timestamp:E});const{onStart:I,onMove:F}=this.handlers;b||(I&&I(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),F&&F(this.lastMoveEvent,g)},this.handlePointerMove=(g,b)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=B1(b,this.transformPagePoint),ca.update(this.updatePoint,!0)},this.handlePointerUp=(g,b)=>{this.end();const{onEnd:S,onSessionEnd:N,resumeAnimation:E}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const I=C1(g.type==="pointercancel"?this.lastMoveEventInfo:B1(b,this.transformPagePoint),this.history);this.startEvent&&S&&S(g,I),N&&N(g,I)},!T2(e))return;this.dragSnapToOrigin=o,this.handlers=t,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=a||window;const u=Pg(e),f=B1(u,this.transformPagePoint),{point:A}=f,{timestamp:m}=Ao;this.history=[{...A,timestamp:m}];const{onSessionStart:v}=t;v&&v(e,C1(f,this.history)),this.removeListeners=Lg(Yp(this.contextWindow,"pointermove",this.handlePointerMove),Yp(this.contextWindow,"pointerup",this.handlePointerUp),Yp(this.contextWindow,"pointercancel",this.handlePointerUp)),h&&this.startScrollTracking(h)}startScrollTracking(e){let t=e.parentElement;for(;t;){const s=getComputedStyle(t);(ZS.has(s.overflowX)||ZS.has(s.overflowY))&&this.scrollPositions.set(t,{x:t.scrollLeft,y:t.scrollTop}),t=t.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const t=this.scrollPositions.get(e);if(!t)return;const s=e===window,a=s?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},o={x:a.x-t.x,y:a.y-t.y};o.x===0&&o.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=o.x,this.lastMoveEventInfo.point.y+=o.y):this.history.length>0&&(this.history[0].x-=o.x,this.history[0].y-=o.y),this.scrollPositions.set(e,a),ca.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Kd(this.updatePoint)}}function B1(n,e){return e?{point:e(n.point)}:n}function eN(n,e){return{x:n.x-e.x,y:n.y-e.y}}function C1({point:n},e){return{point:n,delta:eN(n,Z3(e)),offset:eN(n,m$(e)),velocity:p$(e,.1)}}function m$(n){return n[0]}function Z3(n){return n[n.length-1]}function p$(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,s=null;const a=Z3(n);for(;t>=0&&(s=n[t],!(a.timestamp-s.timestamp>Bu(e)));)t--;if(!s)return{x:0,y:0};const o=TA(a.timestamp-s.timestamp);if(o===0)return{x:0,y:0};const c={x:(a.x-s.x)/o,y:(a.y-s.y)/o};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function g$(n,{min:e,max:t},s){return e!==void 0&&n<e?n=s?_a(e,n,s.min):Math.max(n,e):t!==void 0&&n>t&&(n=s?_a(t,n,s.max):Math.min(n,t)),n}function tN(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function v$(n,{top:e,left:t,bottom:s,right:a}){return{x:tN(n.x,t,a),y:tN(n.y,e,s)}}function nN(n,e){let t=e.min-n.min,s=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,s]=[s,t]),{min:t,max:s}}function x$(n,e){return{x:nN(n.x,e.x),y:nN(n.y,e.y)}}function y$(n,e){let t=.5;const s=cl(n),a=cl(e);return a>s?t=ug(e.min,e.max-s,n.min):s>a&&(t=ug(n.min,n.max-a,e.min)),Yc(0,1,t)}function b$(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const Vb=.35;function w$(n=Vb){return n===!1?n=0:n===!0&&(n=Vb),{x:sN(n,"left","right"),y:sN(n,"top","bottom")}}function sN(n,e,t){return{min:rN(n,e),max:rN(n,t)}}function rN(n,e){return typeof n=="number"?n:n[e]||0}const j$=new WeakMap;class B${constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Qi(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const o=m=>{t?(this.stopAnimation(),this.snapToCursor(Pg(m).point)):this.pauseAnimation()},c=(m,v)=>{this.stopAnimation();const{drag:g,dragPropagation:b,onDragStart:S}=this.getProps();if(g&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Dz(g),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),NA(E=>{let I=this.getAxisMotionValue(E).get()||0;if(zc.test(I)){const{projection:F}=this.visualElement;if(F&&F.layout){const D=F.layout.layoutBox[E];D&&(I=cl(D)*(parseFloat(I)/100))}}this.originPoint[E]=I}),S&&ca.postRender(()=>S(m,v)),Mb(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},h=(m,v)=>{this.latestPointerEvent=m,this.latestPanInfo=v;const{dragPropagation:g,dragDirectionLock:b,onDirectionLock:S,onDrag:N}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:E}=v;if(b&&this.currentDirection===null){this.currentDirection=C$(E),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",v.point,E),this.updateAxis("y",v.point,E),this.visualElement.render(),N&&N(m,v)},u=(m,v)=>{this.latestPointerEvent=m,this.latestPanInfo=v,this.stop(m,v),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>NA(m=>{var v;return this.getAnimationState(m)==="paused"&&((v=this.getAxisMotionValue(m).animation)==null?void 0:v.play())}),{dragSnapToOrigin:A}=this.getProps();this.panSession=new q3(e,{onSessionStart:o,onStart:c,onMove:h,onSessionEnd:u,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:A,distanceThreshold:s,contextWindow:J3(this.visualElement),element:this.visualElement.current})}stop(e,t){const s=e||this.latestPointerEvent,a=t||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!a||!s)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:h}=this.getProps();h&&ca.postRender(()=>h(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,s){const{drag:a}=this.getProps();if(!s||!tv(e,a,this.currentDirection))return;const o=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=g$(c,this.constraints[e],this.elastic[e])),o.set(c)}resolveConstraints(){var o;const{dragConstraints:e,dragElastic:t}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,a=this.constraints;e&&Tp(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=v$(s.layoutBox,e):this.constraints=!1,this.elastic=w$(t),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&NA(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=b$(s.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Tp(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const o=SG(s,a.root,this.visualElement.getTransformPagePoint());let c=x$(a.layout.layoutBox,o);if(t){const h=t(jG(c));this.hasMutatedConstraints=!!h,h&&(c=L3(h))}return c}startAnimation(e){const{drag:t,dragMomentum:s,dragElastic:a,dragTransition:o,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),u=this.constraints||{},f=NA(A=>{if(!tv(A,t,this.currentDirection))return;let m=u&&u[A]||{};c&&(m={min:0,max:0});const v=a?200:1e6,g=a?40:1e7,b={type:"inertia",velocity:s?e[A]:0,bounceStiffness:v,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...o,...m};return this.startAxisValueAnimation(A,b)});return Promise.all(f).then(h)}startAxisValueAnimation(e,t){const s=this.getAxisMotionValue(e);return Mb(this.visualElement,e),s.start(O2(e,s,0,t,this.visualElement,!1))}stopAnimation(){NA(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){NA(e=>{var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[t];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){NA(t=>{const{drag:s}=this.getProps();if(!tv(t,s,this.currentDirection))return;const{projection:a}=this.visualElement,o=this.getAxisMotionValue(t);if(a&&a.layout){const{min:c,max:h}=a.layout.layoutBox[t],u=o.get()||0;o.set(e[t]-_a(c,h,.5)+u)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:s}=this.visualElement;if(!Tp(t)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};NA(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const u=h.get();a[c]=y$({min:u,max:u},this.constraints[c])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),NA(c=>{if(!tv(c,e,null))return;const h=this.getAxisMotionValue(c),{min:u,max:f}=this.constraints[c];h.set(_a(u,f,a[c]))})}addListeners(){if(!this.visualElement.current)return;j$.set(this.visualElement,this);const e=this.visualElement.current,t=Yp(e,"pointerdown",u=>{const{drag:f,dragListener:A=!0}=this.getProps();f&&A&&!y3(u.target)&&this.start(u)}),s=()=>{const{dragConstraints:u}=this.getProps();Tp(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,o=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ca.read(s);const c=mg(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:f})=>{this.isDragging&&f&&(NA(A=>{const m=this.getAxisMotionValue(A);m&&(this.originPoint[A]+=u[A].translate,m.set(m.get()+u[A].translate))}),this.visualElement.render())}));return()=>{c(),t(),o(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:o=!1,dragElastic:c=Vb,dragMomentum:h=!0}=e;return{...e,drag:t,dragDirectionLock:s,dragPropagation:a,dragConstraints:o,dragElastic:c,dragMomentum:h}}}function tv(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function C$(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class S$ extends Jd{constructor(e){super(e),this.removeGroupControls=FA,this.removeListeners=FA,this.controls=new B$(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||FA}update(){const{dragControls:e}=this.node.getProps(),{dragControls:t}=this.node.prevProps||{};e!==t&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const aN=n=>(e,t)=>{n&&ca.postRender(()=>n(e,t))};class N$ extends Jd{constructor(){super(...arguments),this.removePointerDownListener=FA}onPointerDown(e){this.session=new q3(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:J3(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:aN(e),onStart:aN(t),onMove:s,onEnd:(o,c)=>{delete this.session,a&&ca.postRender(()=>a(o,c))}}}mount(){this.removePointerDownListener=Yp(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const wv={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let S1=!1;class E$ extends ee.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:s,layoutId:a}=this.props,{projection:o}=e;o&&(t.group&&t.group.add(o),s&&s.register&&a&&s.register(o),S1&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),wv.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:s,drag:a,isPresent:o}=this.props,{projection:c}=s;return c&&(c.isPresent=o,S1=!0,a||e.layoutDependency!==t||t===void 0||e.isPresent!==o?c.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?c.promote():c.relegate()||ca.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),E2.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:s}=this.props,{projection:a}=e;S1=!0,a&&(a.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function e_(n){const[e,t]=Vz(),s=ee.useContext(II);return i.jsx(E$,{...n,layoutGroup:s,switchLayoutGroup:ee.useContext(R3),isPresent:e,safeToRemove:t})}function T$(n,e,t){const s=zo(n)?n:dm(n);return s.start(O2("",s,e,t)),s.animation}const I$=(n,e)=>n.depth-e.depth;class _${constructor(){this.children=[],this.isDirty=!1}add(e){c2(this.children,e),this.isDirty=!0}remove(e){u2(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(I$),this.isDirty=!1,this.children.forEach(e)}}function F$(n,e){const t=Al.now(),s=({timestamp:a})=>{const o=a-t;o>=e&&(Kd(s),n(o-e))};return ca.setup(s,!0),()=>Kd(s)}const t_=["TopLeft","TopRight","BottomLeft","BottomRight"],U$=t_.length,iN=n=>typeof n=="string"?parseFloat(n):n,oN=n=>typeof n=="number"||xn.test(n);function R$(n,e,t,s,a,o){a?(n.opacity=_a(0,t.opacity??1,D$(s)),n.opacityExit=_a(e.opacity??1,0,L$(s))):o&&(n.opacity=_a(e.opacity??1,t.opacity??1,s));for(let c=0;c<U$;c++){const h=`border${t_[c]}Radius`;let u=lN(e,h),f=lN(t,h);if(u===void 0&&f===void 0)continue;u||(u=0),f||(f=0),u===0||f===0||oN(u)===oN(f)?(n[h]=Math.max(_a(iN(u),iN(f),s),0),(zc.test(f)||zc.test(u))&&(n[h]+="%")):n[h]=f}(e.rotate||t.rotate)&&(n.rotate=_a(e.rotate||0,t.rotate||0,s))}function lN(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const D$=n_(0,.5,MI),L$=n_(.5,.95,FA);function n_(n,e,t){return s=>s<n?0:s>e?1:t(ug(n,e,s))}function AN(n,e){n.min=e.min,n.max=e.max}function ZA(n,e){AN(n.x,e.x),AN(n.y,e.y)}function cN(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function uN(n,e,t,s,a){return n-=e,n=ax(n,1/t,s),a!==void 0&&(n=ax(n,1/a,s)),n}function Q$(n,e=0,t=1,s=.5,a,o=n,c=n){if(zc.test(e)&&(e=parseFloat(e),e=_a(c.min,c.max,e/100)-c.min),typeof e!="number")return;let h=_a(o.min,o.max,s);n===o&&(h-=e),n.min=uN(n.min,e,t,h,a),n.max=uN(n.max,e,t,h,a)}function dN(n,e,[t,s,a],o,c){Q$(n,e[t],e[s],e[a],e.scale,o,c)}const O$=["x","scaleX","originX"],P$=["y","scaleY","originY"];function hN(n,e,t,s){dN(n.x,e,O$,t?t.x:void 0,s?s.x:void 0),dN(n.y,e,P$,t?t.y:void 0,s?s.y:void 0)}function fN(n){return n.translate===0&&n.scale===1}function s_(n){return fN(n.x)&&fN(n.y)}function mN(n,e){return n.min===e.min&&n.max===e.max}function k$(n,e){return mN(n.x,e.x)&&mN(n.y,e.y)}function pN(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function r_(n,e){return pN(n.x,e.x)&&pN(n.y,e.y)}function gN(n){return cl(n.x)/cl(n.y)}function vN(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class M${constructor(){this.members=[]}add(e){c2(this.members,e),e.scheduleRender()}remove(e){if(u2(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(a=>e===a);if(t===0)return!1;let s;for(let a=t;a>=0;a--){const o=this.members[a];if(o.isPresent!==!1){s=o;break}}return s?(this.promote(s),!0):!1}promote(e,t){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,t&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:s}=e;t.onExitComplete&&t.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function H$(n,e,t){let s="";const a=n.x.translate/e.x,o=n.y.translate/e.y,c=(t==null?void 0:t.z)||0;if((a||o||c)&&(s=`translate3d(${a}px, ${o}px, ${c}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:f,rotate:A,rotateX:m,rotateY:v,skewX:g,skewY:b}=t;f&&(s=`perspective(${f}px) ${s}`),A&&(s+=`rotate(${A}deg) `),m&&(s+=`rotateX(${m}deg) `),v&&(s+=`rotateY(${v}deg) `),g&&(s+=`skewX(${g}deg) `),b&&(s+=`skewY(${b}deg) `)}const h=n.x.scale*e.x,u=n.y.scale*e.y;return(h!==1||u!==1)&&(s+=`scale(${h}, ${u})`),s||"none"}const N1=["","X","Y","Z"],V$=1e3;let K$=0;function E1(n,e,t,s){const{latestValues:a}=e;a[n]&&(t[n]=a[n],e.setStaticValue(n,0),s&&(s[n]=0))}function a_(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=K3(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:a,layoutId:o}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",ca,!(a||o))}const{parent:s}=n;s&&!s.hasCheckedOptimisedAppear&&a_(s)}function i_({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},h=e==null?void 0:e()){this.id=K$++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach($$),this.nodes.forEach(J$),this.nodes.forEach(q$),this.nodes.forEach(Y$)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new _$)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new f2),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const u=this.eventHandlers.get(c);u&&u.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=b3(c)&&!kz(c),this.instance=c;const{layoutId:h,layout:u,visualElement:f}=this.options;if(f&&!f.current&&f.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||h)&&(this.isLayoutDirty=!0),n){let A,m=0;const v=()=>this.root.updateBlockedByResize=!1;ca.read(()=>{m=window.innerWidth}),n(c,()=>{const g=window.innerWidth;g!==m&&(m=g,this.root.updateBlockedByResize=!0,A&&A(),A=F$(v,250),wv.hasAnimatedSinceResize&&(wv.hasAnimatedSinceResize=!1,this.nodes.forEach(bN)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&f&&(h||u)&&this.addEventListener("didUpdate",({delta:A,hasLayoutChanged:m,hasRelativeLayoutChanged:v,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||f.getDefaultTransition()||sY,{onLayoutAnimationStart:S,onLayoutAnimationComplete:N}=f.getProps(),E=!this.targetLayout||!r_(this.targetLayout,g),I=!m&&v;if(this.options.layoutRoot||this.resumeFrom||I||m&&(E||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const F={...S2(b,"layout"),onPlay:S,onComplete:N};(f.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F),this.setAnimationOrigin(A,I)}else m||bN(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Kd(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Z$),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&a_(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let A=0;A<this.path.length;A++){const m=this.path[A];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:h,layout:u}=this.options;if(h===void 0&&!u)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(xN);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(yN);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(X$),this.nodes.forEach(z$),this.nodes.forEach(G$)):this.nodes.forEach(yN),this.clearAllSnapshots();const h=Al.now();Ao.delta=Yc(0,1e3/60,h-Ao.timestamp),Ao.timestamp=h,Ao.isProcessing=!0,m1.update.process(Ao),m1.preRender.process(Ao),m1.render.process(Ao),Ao.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,E2.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(W$),this.sharedNodes.forEach(eY)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ca.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ca.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!cl(this.snapshot.measuredBox.x)&&!cl(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Qi(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h&&this.instance){const u=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:u,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!s_(this.projectionDelta),u=this.getTransformTemplate(),f=u?u(this.latestValues,""):void 0,A=f!==this.prevTransformTemplateValue;c&&this.instance&&(h||Fh(this.latestValues)||A)&&(a(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let u=this.removeElementScroll(h);return c&&(u=this.removeTransform(u)),rY(u),{animationId:this.root.animationId,measuredBox:h,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var f;const{visualElement:c}=this.options;if(!c)return Qi();const h=c.measureViewportBox();if(!(((f=this.scroll)==null?void 0:f.wasRoot)||this.path.some(aY))){const{scroll:A}=this.root;A&&($f(h.x,A.offset.x),$f(h.y,A.offset.y))}return h}removeElementScroll(c){var u;const h=Qi();if(ZA(h,c),(u=this.scroll)!=null&&u.wasRoot)return h;for(let f=0;f<this.path.length;f++){const A=this.path[f],{scroll:m,options:v}=A;A!==this.root&&m&&v.layoutScroll&&(m.wasRoot&&ZA(h,c),$f(h.x,m.offset.x),$f(h.y,m.offset.y))}return h}applyTransform(c,h=!1){const u=Qi();ZA(u,c);for(let f=0;f<this.path.length;f++){const A=this.path[f];!h&&A.options.layoutScroll&&A.scroll&&A!==A.root&&Yf(u,{x:-A.scroll.offset.x,y:-A.scroll.offset.y}),Fh(A.latestValues)&&Yf(u,A.latestValues)}return Fh(this.latestValues)&&Yf(u,this.latestValues),u}removeTransform(c){const h=Qi();ZA(h,c);for(let u=0;u<this.path.length;u++){const f=this.path[u];if(!f.instance||!Fh(f.latestValues))continue;Qb(f.latestValues)&&f.updateSnapshot();const A=Qi(),m=f.measurePageBox();ZA(A,m),hN(h,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,A)}return Fh(this.latestValues)&&hN(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ao.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var g;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==h;if(!(c||u&&this.isSharedProjectionDirty||this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:A,layoutId:m}=this.options;if(!this.layout||!(A||m))return;this.resolvedRelativeTargetAt=Ao.timestamp;const v=this.getClosestProjectingParent();v&&this.linkedParentVersion!==v.layoutVersion&&!v.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(v&&v.layout?this.createRelativeTarget(v,this.layout.layoutBox,v.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Qi(),this.targetWithTransforms=Qi()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),h$(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ZA(this.target,this.layout.layoutBox),O3(this.target,this.targetDelta)):ZA(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?this.createRelativeTarget(v,this.target,v.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Qb(this.parent.latestValues)||Q3(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,h,u){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qi(),this.relativeTargetOrigin=Qi(),ix(this.relativeTargetOrigin,h,u),ZA(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var b;const c=this.getLead(),h=!!this.resumingFrom||this!==c;let u=!0;if((this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty)&&(u=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Ao.timestamp&&(u=!1),u)return;const{layout:f,layoutId:A}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||A))return;ZA(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,v=this.treeScale.y;CG(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Qi());const{target:g}=c;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(cN(this.prevProjectionDelta.x,this.projectionDelta.x),cN(this.prevProjectionDelta.y,this.projectionDelta.y)),Wp(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==v||!vN(this.projectionDelta.x,this.prevProjectionDelta.x)||!vN(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var h;if((h=this.options.visualElement)==null||h.scheduleRender(),c){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Wf(),this.projectionDelta=Wf(),this.projectionDeltaWithTransform=Wf()}setAnimationOrigin(c,h=!1){const u=this.snapshot,f=u?u.latestValues:{},A={...this.latestValues},m=Wf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const v=Qi(),g=u?u.source:void 0,b=this.layout?this.layout.source:void 0,S=g!==b,N=this.getStack(),E=!N||N.members.length<=1,I=!!(S&&!E&&this.options.crossfade===!0&&!this.path.some(nY));this.animationProgress=0;let F;this.mixTargetDelta=D=>{const P=D/1e3;wN(m.x,c.x,P),wN(m.y,c.y,P),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ix(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),tY(this.relativeTarget,this.relativeTargetOrigin,v,P),F&&k$(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=Qi()),ZA(F,this.relativeTarget)),S&&(this.animationValues=A,R$(A,f,this.latestValues,P,I,E)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var h,u,f;this.notifyListeners("animationStart"),(h=this.currentAnimation)==null||h.stop(),(f=(u=this.resumingFrom)==null?void 0:u.currentAnimation)==null||f.stop(),this.pendingAnimation&&(Kd(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ca.update(()=>{wv.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=dm(0)),this.currentAnimation=T$(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:A=>{this.mixTargetDelta(A),c.onUpdate&&c.onUpdate(A)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(V$),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:u,layout:f,latestValues:A}=c;if(!(!h||!u||!f)){if(this!==c&&this.layout&&f&&o_(this.options.animationType,this.layout.layoutBox,f.layoutBox)){u=this.target||Qi();const m=cl(this.layout.layoutBox.x);u.x.min=c.target.x.min,u.x.max=u.x.min+m;const v=cl(this.layout.layoutBox.y);u.y.min=c.target.y.min,u.y.max=u.y.min+v}ZA(h,u),Yf(h,A),Wp(this.projectionDeltaWithTransform,this.layoutCorrected,h,A)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new M$),this.sharedNodes.get(c).add(h);const f=h.options.initialPromotionConfig;h.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var h;const{layoutId:c}=this.options;return c?((h=this.getStack())==null?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:c}=this.options;return c?(h=this.getStack())==null?void 0:h.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:u}={}){const f=this.getStack();f&&f.promote(this,u),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:u}=c;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(h=!0),!h)return;const f={};u.z&&E1("z",c,f,this.animationValues);for(let A=0;A<N1.length;A++)E1(`rotate${N1[A]}`,c,f,this.animationValues),E1(`skew${N1[A]}`,c,f,this.animationValues);c.render();for(const A in f)c.setStaticValue(A,f[A]),this.animationValues&&(this.animationValues[A]=f[A]);c.scheduleRender()}applyProjectionStyles(c,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=bv(h==null?void 0:h.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=bv(h==null?void 0:h.pointerEvents)||""),this.hasProjected&&!Fh(this.latestValues)&&(c.transform=u?u({},""):"none",this.hasProjected=!1);return}c.visibility="";const A=f.animationValues||f.latestValues;this.applyTransformsToTarget();let m=H$(this.projectionDeltaWithTransform,this.treeScale,A);u&&(m=u(A,m)),c.transform=m;const{x:v,y:g}=this.projectionDelta;c.transformOrigin=`${v.origin*100}% ${g.origin*100}% 0`,f.animationValues?c.opacity=f===this?A.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:A.opacityExit:c.opacity=f===this?A.opacity!==void 0?A.opacity:"":A.opacityExit!==void 0?A.opacityExit:0;for(const b in Lb){if(A[b]===void 0)continue;const{correct:S,applyTo:N,isCSSVariable:E}=Lb[b],I=m==="none"?A[b]:S(A[b],f);if(N){const F=N.length;for(let D=0;D<F;D++)c[N[D]]=I}else E?this.options.visualElement.renderState.vars[b]=I:c[b]=I}this.options.layoutId&&(c.pointerEvents=f===this?bv(h==null?void 0:h.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var h;return(h=c.currentAnimation)==null?void 0:h.stop()}),this.root.nodes.forEach(xN),this.root.sharedNodes.clear()}}}function z$(n){n.updateLayout()}function G$(n){var t;const e=((t=n.resumeFrom)==null?void 0:t.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:a}=n.layout,{animationType:o}=n.options,c=e.source!==n.layout.source;o==="size"?NA(m=>{const v=c?e.measuredBox[m]:e.layoutBox[m],g=cl(v);v.min=s[m].min,v.max=v.min+g}):o_(o,e.layoutBox,s)&&NA(m=>{const v=c?e.measuredBox[m]:e.layoutBox[m],g=cl(s[m]);v.max=v.min+g,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[m].max=n.relativeTarget[m].min+g)});const h=Wf();Wp(h,s,e.layoutBox);const u=Wf();c?Wp(u,n.applyTransform(a,!0),e.measuredBox):Wp(u,s,e.layoutBox);const f=!s_(h);let A=!1;if(!n.resumeFrom){const m=n.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:v,layout:g}=m;if(v&&g){const b=Qi();ix(b,e.layoutBox,v.layoutBox);const S=Qi();ix(S,s,g.layoutBox),r_(b,S)||(A=!0),m.options.layoutRoot&&(n.relativeTarget=S,n.relativeTargetOrigin=b,n.relativeParent=m)}}}n.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:u,layoutDelta:h,hasLayoutChanged:f,hasRelativeLayoutChanged:A})}else if(n.isLead()){const{onExitComplete:s}=n.options;s&&s()}n.options.transition=void 0}function $$(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function Y$(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function W$(n){n.clearSnapshot()}function xN(n){n.clearMeasurements()}function yN(n){n.isLayoutDirty=!1}function X$(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function bN(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function J$(n){n.resolveTargetDelta()}function q$(n){n.calcProjection()}function Z$(n){n.resetSkewAndRotation()}function eY(n){n.removeLeadSnapshot()}function wN(n,e,t){n.translate=_a(e.translate,0,t),n.scale=_a(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function jN(n,e,t,s){n.min=_a(e.min,t.min,s),n.max=_a(e.max,t.max,s)}function tY(n,e,t,s){jN(n.x,e.x,t.x,s),jN(n.y,e.y,t.y,s)}function nY(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const sY={duration:.45,ease:[.4,0,.1,1]},BN=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),CN=BN("applewebkit/")&&!BN("chrome/")?Math.round:FA;function SN(n){n.min=CN(n.min),n.max=CN(n.max)}function rY(n){SN(n.x),SN(n.y)}function o_(n,e,t){return n==="position"||n==="preserve-aspect"&&!d$(gN(e),gN(t),.2)}function aY(n){var e;return n!==n.root&&((e=n.scroll)==null?void 0:e.wasRoot)}const iY=i_({attachResizeListener:(n,e)=>mg(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),T1={current:void 0},l_=i_({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!T1.current){const n=new iY({});n.mount(window),n.setOptions({layoutScroll:!0}),T1.current=n}return T1.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),oY={pan:{Feature:N$},drag:{Feature:S$,ProjectionNode:l_,MeasureLayout:e_}};function NN(n,e,t){const{props:s}=n;n.animationState&&s.whileHover&&n.animationState.setActive("whileHover",t==="Start");const a="onHover"+t,o=s[a];o&&ca.postRender(()=>o(e,Pg(e)))}class lY extends Jd{mount(){const{current:e}=this.node;e&&(this.unmount=Lz(e,(t,s)=>(NN(this.node,s,"Start"),a=>NN(this.node,a,"End"))))}unmount(){}}class AY extends Jd{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Lg(mg(this.node.current,"focus",()=>this.onFocus()),mg(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function EN(n,e,t){const{props:s}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&s.whileTap&&n.animationState.setActive("whileTap",t==="Start");const a="onTap"+(t==="End"?"":t),o=s[a];o&&ca.postRender(()=>o(e,Pg(e)))}class cY extends Jd{mount(){const{current:e}=this.node;e&&(this.unmount=Pz(e,(t,s)=>(EN(this.node,s,"Start"),(a,{success:o})=>EN(this.node,a,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Kb=new WeakMap,I1=new WeakMap,uY=n=>{const e=Kb.get(n.target);e&&e(n)},dY=n=>{n.forEach(uY)};function hY({root:n,...e}){const t=n||document;I1.has(t)||I1.set(t,{});const s=I1.get(t),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(dY,{root:n,...e})),s[a]}function fY(n,e,t){const s=hY(e);return Kb.set(n,t),s.observe(n),()=>{Kb.delete(n),s.unobserve(n)}}const mY={some:0,all:1};class pY extends Jd{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:s,amount:a="some",once:o}=e,c={root:t?t.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:mY[a]},h=u=>{const{isIntersecting:f}=u;if(this.isInView===f||(this.isInView=f,o&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:A,onViewportLeave:m}=this.node.getProps(),v=f?A:m;v&&v(u)};return fY(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(gY(e,t))&&this.startObserver()}unmount(){}}function gY({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const vY={inView:{Feature:pY},tap:{Feature:cY},focus:{Feature:AY},hover:{Feature:lY}},xY={layout:{ProjectionNode:l_,MeasureLayout:e_}},yY={...i$,...vY,...oY,...xY},TN=wG(yY,DG),bY=({reopenDate:n})=>{const e=n?(()=>{const[t,s,a]=n.split("-").map(c=>parseInt(c,10));return new Date(t,s-1,a).toLocaleDateString()})():"Not set";return i.jsx(TN.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",children:i.jsxs(TN.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5,delay:.2},className:"bg-white rounded-lg p-8 m-4 text-center shadow-2xl",children:[i.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-4",children:"School is on Vacation!"}),i.jsx("p",{className:"text-lg text-gray-600 mb-2",children:"The school is currently on break. We hope you are having a wonderful time."}),i.jsxs("p",{className:"text-lg text-gray-600",children:["School will reopen on"," ",i.jsx("span",{className:"font-semibold text-red-600",children:e}),"."]})]})})},IN=["Monday","Tuesday","Wednesday","Thursday","Friday"],wY=["punctuality","neatness","conduct","attitudeToWork","classParticipation","homeworkCompletion"],jY=["An outstanding performer with excellent academic progress.","Shows great potential and maintains good conduct in class.","Consistent effort and improvement throughout the term.","Active participant in class activities and assignments.","Demonstrates good leadership qualities among peers.","Maintains excellent attendance and punctuality.","Shows remarkable improvement in academic performance.","A disciplined student who follows school rules diligently.","Excellent interpersonal skills and teamwork abilities.","Creative and innovative in approaching class tasks."],A_=()=>{const{user:n}=$o(),e=(n==null?void 0:n.schoolId)||null,[t,s]=ee.useState([]),a=(n==null?void 0:n.assignedClassIds)||[],[o,c]=ee.useState(""),[h,u]=ee.useState("Term 1"),[f,A]=ee.useState(null),[m,v]=ee.useState(!1);ee.useEffect(()=>{a.length>0&&c(a[0])},[n]);const g=Un.find(Ke=>Ke.id===o),b=a.map(Ke=>{var yt;return(yt=Un.find(ze=>ze.id===Ke))==null?void 0:yt.name}).join(", "),[S,N]=ee.useState([]),[E,I]=ee.useState(null),[F,D]=ee.useState(!1),[P,K]=ee.useState({show:!1,dates:[]}),[L,Q]=ee.useState({show:!1,date:""}),[R,M]=ee.useState(!1),[O,H]=ee.useState([]),[G,ie]=ee.useState({}),[ge,J]=ee.useState(!1),[re,se]=ee.useState(!1),[he,je]=ee.useState([]),[ne,V]=ee.useState({}),[W,ae]=ee.useState(!1),[ce,Ae]=ee.useState([]),pe=()=>{const Ke=new Date().toLocaleDateString("en-US",{weekday:"long"});return IN.includes(Ke)?Ke:"Monday"},[Se,xe]=ee.useState(null),[Ie,_e]=ee.useState(pe()),[De,st]=ee.useState([]),[He,de]=ee.useState([]),[rt,_t]=ee.useState(0),[vt,qe]=ee.useState(0),[We,dt]=ee.useState(0),[Qt,Pt]=ee.useState(0),[Gt,sn]=ee.useState(0),[en,Nn]=ee.useState("0.0"),[xt,St]=ee.useState([]);if(!n)return i.jsx(Xs,{title:"Teacher Dashboard",children:i.jsxs("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-8rem)]",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#1160A8] mx-auto mb-4"}),i.jsx("p",{className:"text-slate-500",children:"Loading dashboard..."})]})});const $t=(Ke=0)=>{const yt=new Date;yt.setDate(yt.getDate()+Ke*7);const ze=yt.getDay(),ot=ze===0?-6:1-ze,ft=new Date(yt);ft.setDate(yt.getDate()+ot);const Lt=[];for(let Ct=0;Ct<5;Ct++){const zt=new Date(ft);zt.setDate(ft.getDate()+Ct);const yn=zt.getFullYear(),Tt=String(zt.getMonth()+1).padStart(2,"0"),ht=String(zt.getDate()).padStart(2,"0");Lt.push(`${yn}-${Tt}-${ht}`)}return Lt},Ht=Ke=>{if(Ke===0)return"This Week";const yt=$t(Ke),ze=new Date(yt[0]+"T00:00:00"),ot=new Date(yt[4]+"T00:00:00"),ft={month:"short",day:"numeric"},Lt=ze.toLocaleDateString("en-US",ft),Ct=ot.toLocaleDateString("en-US",ft);return Ke===-1?`Last Week (${Lt} - ${Ct})`:`${Lt} - ${Ct}`};ee.useEffect(()=>{let Ke=!0;return n&&(async()=>{const ze=new Date().toISOString().split("T")[0];await ut.getTeacherAttendance(e||void 0,(n==null?void 0:n.id)||"",ze);try{if(!e)return;const ot=await ut.getSchoolConfig(e);if(!Ke)return;const ft=new Date,Lt=ot.schoolReopenDate?new Date(ot.schoolReopenDate+"T00:00:00"):null;Lt&&Lt.setHours(0,0,0,0);const Ct=new Date;Ct.setHours(0,0,0,0);const zt=ot.nextTermBegins?new Date(ot.nextTermBegins+"T00:00:00"):null;if(zt&&zt.setHours(0,0,0,0),zt&&Ct.getTime()===zt.getTime()){K({show:!1,dates:[]}),Q({show:!1,date:""});return}const yn=ot.vacationDate?new Date(ot.vacationDate+"T00:00:00"):null;yn&&yn.setHours(0,0,0,0);const Tt=!Lt||ft>=Lt,ht=yn&&zt&&Ct>=yn&&Ct<zt;if(Tt&&!ht){const Ot=[];let qt=new Date;for(qt.setDate(qt.getDate()-1);qt>=Lt;){const on=qt.getDay(),cs=yn&&qt.toDateString()===yn.toDateString();if(on===0||on===6||cs){qt.setDate(qt.getDate()-1);continue}const js=`${qt.getFullYear()}-${String(qt.getMonth()+1).padStart(2,"0")}-${String(qt.getDate()).padStart(2,"0")}`,cn=await ut.getTeacherAttendance(e,(n==null?void 0:n.id)||"",js);if(!Ke)return;cn||Ot.push(js),qt.setDate(qt.getDate()-1)}if(Ot.length>0?K({show:!0,dates:Ot}):K({show:!1,dates:[]}),o&&Ot.length>0){const on=Ot[0],cs=await ut.getAttendance(e,o,on);if(!Ke)return;Q(cs?{show:!1,date:""}:{show:!0,date:on})}}}catch(ot){console.error("Error re-checking missed attendance:",ot)}})(),()=>{Ke=!1}},[n,o]),ee.useEffect(()=>{let Ke=!0;return(async()=>{if(!o||!e)return;let ze;try{if(ze=await ut.getSchoolConfig(e),Ke){A(ze),u(ze.currentTerm||`Term ${Pi}`);const zt=new Date;zt.setHours(0,0,0,0);const yn=zt.getTime();let Tt=null;if(ze.vacationDate){const on=new Date(ze.vacationDate+"T00:00:00");on.setHours(0,0,0,0),Tt=on.getTime()}let ht=null;if(ze.nextTermBegins){const on=new Date(ze.nextTermBegins+"T00:00:00");on.setHours(0,0,0,0),ht=on.getTime()}let Ot=null;if(Tt!==null){const on=new Date(Tt);on.setDate(on.getDate()+1),Ot=on.getTime()}let qt=!1;if(Ot!==null&&yn>=Ot&&ht!==null&&yn<ht&&(qt=!0),v(qt),console.log("--- Vacation Overlay Debug ---"),console.log("Current Date (Local Midnight):",zt.toLocaleDateString()),console.log("Vacation Date (Last School Day):",ze.vacationDate),console.log("Vacation Starts (Local Midnight):",Ot?new Date(Ot).toLocaleDateString():"N/A"),console.log("Next Term Begins (Local Midnight):",ze.nextTermBegins),console.log("Is Vacation:",qt),console.log("--- End Debug ---"),ze.nextTermBegins&&yn>=ht){if(ze.termTransitionProcessed===!1){console.log("New term begins today or has passed. Initiating dashboard reset...");try{await ut.resetForNewTerm(ze),await ut.updateSchoolConfig({...ze,termTransitionProcessed:!0}),Mt("New term started! Dashboard has been reset.",{type:"success"}),window.location.reload()}catch(on){console.error("Error during new term reset:",on),Mt("Failed to reset dashboard for new term.",{type:"error"})}}}else ze.nextTermBegins&&yn<ht&&ze.termTransitionProcessed===!0&&await ut.updateSchoolConfig({...ze,termTransitionProcessed:!1})}}catch(zt){console.error(zt),ze={currentTerm:`Term ${Pi}`,academicYear:ho,schoolReopenDate:"",schoolName:"School Manager GH",headTeacherRemark:"An outstanding performance. The school is proud of you.",termEndDate:"2024-12-20",vacationDate:"2024-12-20",nextTermBegins:"",termTransitionProcessed:!1,schoolId:""}}const ot=await ut.getSubjects(e,o);if(!Ke)return;s(ot);const ft=await ut.getNotices(e);if(!Ke)return;N(ft);const Lt=new Date().toISOString().split("T")[0],Ct=await ut.getTeacherAttendance(e,(n==null?void 0:n.id)||"",Lt);if(Ke&&(I(Ct),o)){const zt=await ut.getTimetable(e,o);if(!Ke)return;xe(zt||null),_e(pe());try{const[yn,Tt]=await Promise.all([ut.getClassAttendance(e,o),ut.getStudents(e,o)]);if(!Ke)return;const ht=Tt.length||1,Ot=$t(rt),qt=yn.filter(Ft=>Ot.includes(Ft.date)),on=Ot.map(Ft=>{const Yt=qt.find(In=>In.date===Ft),Ut=Yt?Math.round(Yt.presentStudentIds.length/ht*100):0,[vn,Sn,On]=Ft.split("-").map(Number);return{day:new Date(vn,Sn-1,On).toLocaleDateString("en-US",{weekday:"short"}),percentage:Ut}});if(de(on),Ae(Tt),rt===0){qe(Tt.length);const Ft=new Date().toISOString().split("T")[0],Yt=yn.find(vn=>vn.date===Ft),Ut=Yt?Yt.presentStudentIds.length:0;dt(Ut),Pt(Tt.length-Ut)}else dt(0),Pt(0);const cs=parseInt((ze.currentTerm||`Term ${Pi}`).split(" ")[1]);let js=0,cn=0;for(const Ft of ot){const Ut=(await ut.getAssessments(e,o,Ft)).filter(vn=>vn.term===cs);for(const vn of Ut){const Sn=vn.total??nc(vn);js+=Sn,cn++}}const ri=cn>0?js/cn:0;sn(ri);const ua=(await ut.getStudentSkills(e,o)).filter(Ft=>Ft.term===cs);let $r=0,ln=0;const Le={Excellent:5,"Very Good":4,Good:3,Fair:2,Poor:1};for(const Ft of ua)Ft.conduct&&($r+=Le[Ft.conduct]||0,ln++);const Rt=ln>0?$r/ln:0;Nn(Rt.toFixed(1));const Vt=[];for(const Ft of ot){const Ut=(await ut.getAssessments(e,o,Ft)).filter(Kn=>Kn.term===cs);if(Ut.length===0)continue;let vn=0,Sn=0,On="";for(const Kn of Ut){const In=Kn.total??nc(Kn),Us=Tt.find(Ss=>Ss.id===Kn.studentId);Us&&In>Sn&&(Sn=In,On=Us.name),vn+=In}const dr=vn/Ut.length;Vt.push({subject:Ft,topStudent:On,average:dr})}Vt.sort((Ft,Yt)=>Yt.average-Ft.average),St(Vt)}catch(yn){console.error("Error calculating dashboard stats:",yn)}}})(),()=>{Ke=!1}},[o,rt,e]),ee.useEffect(()=>{if(Se&&Se.schedule&&Ie){const Ke=Se.schedule[Ie]||[];st(Ke)}else st([])},[Se,Ie]);const Rn=Ke=>{switch(Ke){case"break":return{border:"border-amber-400",bgHover:"group-hover:bg-amber-50",text:"text-amber-700 italic",badge:"text-amber-600"};case"worship":return{border:"border-purple-400",bgHover:"group-hover:bg-purple-50",text:"text-purple-700 font-semibold",badge:"text-purple-600"};case"closing":return{border:"border-slate-400",bgHover:"group-hover:bg-slate-50",text:"text-slate-700 font-bold",badge:"text-slate-600"};default:return{border:"border-[#1160A8]",bgHover:"group-hover:bg-[#E6F0FA]",text:"text-slate-800",badge:"text-[#1160A8]"}}};return i.jsxs(Xs,{title:"Teacher Dashboard",children:[m&&i.jsx(bY,{reopenDate:(f==null?void 0:f.nextTermBegins)||"TBD"}),i.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl font-bold text-slate-800",children:["Welcome back, ",n==null?void 0:n.fullName]}),i.jsxs("p",{className:"text-slate-500 mt-1",children:[i.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-[#1160A8] mr-2"}),"Class Teacher for:"," ",i.jsx("span",{className:"font-semibold text-slate-800",children:b||"Not Assigned"})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-end sm:items-center",children:[a.length>1&&i.jsxs("div",{className:"flex items-center bg-white border border-slate-200 rounded-lg px-3 py-1.5 shadow-sm",children:[i.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase mr-2",children:"Viewing:"}),i.jsx("select",{value:o,onChange:Ke=>c(Ke.target.value),className:"text-sm font-semibold text-slate-800 bg-transparent outline-none cursor-pointer",children:a.map(Ke=>{const yt=Un.find(ze=>ze.id===Ke);return i.jsx("option",{value:Ke,children:yt==null?void 0:yt.name},Ke)})})]}),i.jsx("div",{className:"flex gap-2",children:i.jsxs("span",{className:"px-3 py-1 bg-emerald-50 text-emerald-700 text-xs font-bold rounded-full border border-emerald-100 uppercase tracking-wide",children:[h," Active"]})})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[i.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[i.jsxs(wi,{to:"/teacher/attendance",className:"group block bg-white p-6 rounded-xl shadow-sm border border-slate-100 hover:border-[#1160A8] transition-all relative overflow-hidden",children:[i.jsx("div",{className:"absolute right-0 top-0 w-24 h-24 bg-[#E6F0FA] rounded-bl-full -mr-4 -mt-4 transition-transform group-hover:scale-110"}),i.jsxs("div",{className:"relative z-10",children:[i.jsx("div",{className:"w-12 h-12 bg-[#E6F0FA] rounded-lg flex items-center justify-center mb-4 group-hover:bg-[#0B4A82] transition-colors",children:i.jsx(Yv,{className:"w-6 h-6 text-[#1160A8] group-hover:text-white"})}),i.jsx("h3",{className:"font-bold text-lg text-slate-800 mb-1",children:"Take Attendance"}),i.jsxs("p",{className:"text-sm text-slate-500",children:["Record daily register for"," ",(g==null?void 0:g.name)||"your class","."]})]})]}),i.jsxs(wi,{to:"/teacher/assessment",className:"group block bg-white p-6 rounded-xl shadow-sm border border-slate-100 hover:border-amber-500 transition-all relative overflow-hidden",children:[i.jsx("div",{className:"absolute right-0 top-0 w-24 h-24 bg-amber-50 rounded-bl-full -mr-4 -mt-4 transition-transform group-hover:scale-110"}),i.jsxs("div",{className:"relative z-10",children:[i.jsx("div",{className:"w-12 h-12 bg-amber-100 rounded-lg flex items-center justify-center mb-4 group-hover:bg-amber-500 transition-colors",children:i.jsx(Dl,{className:"w-6 h-6 text-amber-600 group-hover:text-white"})}),i.jsx("h3",{className:"font-bold text-lg text-slate-800 mb-1",children:"Gradebook"}),i.jsx("p",{className:"text-sm text-slate-500",children:"Record marks for tests, homework & exams."})]})]}),i.jsxs(wi,{to:"/teacher/my-attendance",className:"group block bg-white p-6 rounded-xl shadow-sm border border-slate-100 hover:border-green-500 transition-all relative overflow-hidden w-full text-left",children:[i.jsx("div",{className:"absolute right-0 top-0 w-24 h-24 bg-green-50 rounded-bl-full -mr-4 -mt-4 transition-transform group-hover:scale-110"}),i.jsxs("div",{className:"relative z-10",children:[i.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mb-4 group-hover:bg-green-500 transition-colors",children:i.jsx(Yv,{className:"w-6 h-6 text-green-600 group-hover:text-white"})}),i.jsx("h3",{className:"font-bold text-lg text-slate-800 mb-1",children:"My Attendance"}),i.jsx("p",{className:"text-sm text-slate-500",children:"Mark weekly attendance & view records"}),E&&i.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["Last marked: ",E.date]})]})]}),i.jsxs("button",{onClick:async()=>{let Ke=ce;(!Ke||Ke.length===0)&&(Ke=await ut.getStudents(e,o));const ze=(await ut.getStudentRemarks(e,o)).reduce((Lt,Ct)=>(Lt[Ct.studentId]={remark:Ct.remark,behaviorTag:Ct.behaviorTag},Lt),{});ie(ze);const ft=(await ut.getStudentSkills(e,o)).reduce((Lt,Ct)=>(Lt[Ct.studentId]={punctuality:Ct.punctuality,neatness:Ct.neatness,conduct:Ct.conduct,attitudeToWork:Ct.attitudeToWork,classParticipation:Ct.classParticipation,homeworkCompletion:Ct.homeworkCompletion},Lt),{});V(ft),H(Ke||[]),M(!0)},className:"group block bg-white p-6 rounded-xl shadow-sm border border-slate-100 hover:border-purple-500 transition-all relative overflow-hidden w-full text-left",children:[i.jsx("div",{className:"absolute right-0 top-0 w-24 h-24 bg-purple-50 rounded-bl-full -mr-4 -mt-4 transition-transform group-hover:scale-110"}),i.jsxs("div",{className:"relative z-10",children:[i.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-4 group-hover:bg-purple-500 transition-colors",children:i.jsx(Dl,{className:"w-6 h-6 text-purple-600 group-hover:text-white"})}),i.jsx("h3",{className:"font-bold text-lg text-slate-800 mb-1",children:"Write Remarks"}),i.jsx("p",{className:"text-sm text-slate-500",children:"End of term comments & behavior tags."})]})]}),i.jsxs("button",{onClick:async()=>{let Ke=ce;(!Ke||Ke.length===0)&&(Ke=await ut.getStudents(e,o));const ze=(await ut.getStudentSkills(e,o)).reduce((ot,ft)=>(ot[ft.studentId]={punctuality:ft.punctuality,neatness:ft.neatness,conduct:ft.conduct,attitudeToWork:ft.attitudeToWork,classParticipation:ft.classParticipation,homeworkCompletion:ft.homeworkCompletion},ot),{});V(ze),je(Ke||[]),se(!0)},className:"group block bg-white p-6 rounded-xl shadow-sm border border-slate-100 hover:border-[#1160A8] transition-all relative overflow-hidden w-full text-left",children:[i.jsx("div",{className:"absolute right-0 top-0 w-24 h-24 bg-[#E6F0FA] rounded-bl-full -mr-4 -mt-4 transition-transform group-hover:scale-110"}),i.jsxs("div",{className:"relative z-10",children:[i.jsx("div",{className:"w-12 h-12 bg-[#E6F0FA] rounded-lg flex items-center justify-center mb-4 group-hover:bg-[#1160A8] transition-colors",children:i.jsx(Sd,{className:"w-6 h-6 text-[#1160A8] group-hover:text-white"})}),i.jsx("h3",{className:"font-bold text-lg text-slate-800 mb-1",children:"Edit Skills"}),i.jsx("p",{className:"text-sm text-slate-500",children:"Rate student skills and behavior."})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100",children:[i.jsx("h4",{className:"font-bold text-slate-800 mb-2",children:"Class Health"}),i.jsxs("div",{className:"space-y-1 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Total Students:"}),i.jsx("span",{className:"font-semibold",children:vt})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Present Today:"}),i.jsx("span",{className:"font-semibold text-green-600",children:We})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Absent Today:"}),i.jsx("span",{className:"font-semibold text-red-600",children:Qt})]})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100",children:[i.jsx("h4",{className:"font-bold text-slate-800 mb-2",children:"Average Performance"}),i.jsx("div",{className:"text-center",children:Gt>0?i.jsxs("span",{className:"text-2xl font-bold text-[#1160A8]",children:[Gt.toFixed(1),"%"]}):i.jsx("span",{className:"text-sm text-slate-400 italic",children:"No assessment data."})})]}),i.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100",children:[i.jsx("h4",{className:"font-bold text-slate-800 mb-2",children:"Behavior Average"}),i.jsx("div",{className:"text-center",children:parseFloat(en)>0?i.jsxs("span",{className:"text-lg font-semibold text-purple-600",children:[en,"/5"]}):i.jsx("span",{className:"text-sm text-slate-400 italic",children:"No behavior data."})})]}),i.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100",children:[i.jsx("h4",{className:"font-bold text-slate-800 mb-2",children:"Subject Standings"}),i.jsx("div",{className:"space-y-1 max-h-20 overflow-y-auto",children:xt.slice(0,3).map(Ke=>i.jsxs("div",{className:"flex justify-between text-xs",children:[i.jsxs("span",{children:[Ke.subject,":"]}),i.jsx("span",{className:"font-semibold",children:Ke.topStudent||"N/A"})]},Ke.subject))})]})]}),i.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-xl shadow-sm border border-slate-100",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 sm:mb-8 gap-3 sm:gap-0",children:[i.jsxs("h3",{className:"font-bold text-slate-800 flex items-center text-base sm:text-lg",children:[i.jsx(Sd,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2 text-[#1160A8]"})," ","Weekly Attendance Trend"]}),i.jsxs("div",{className:"flex gap-2 items-center w-full sm:w-auto justify-center sm:justify-start",children:[i.jsx("button",{onClick:()=>_t(rt-1),className:"px-3 py-1.5 text-xs font-medium rounded-full bg-slate-100 hover:bg-slate-200 transition-colors min-w-[60px] touch-manipulation",children:" Prev"}),i.jsx("span",{className:"px-3 py-1.5 text-xs font-medium rounded-full bg-[#1160A8] text-white text-center min-w-[120px] sm:w-36 truncate",children:Ht(rt)}),i.jsx("button",{onClick:()=>_t(rt+1),disabled:rt===0,className:"px-3 py-1.5 text-xs font-medium rounded-full bg-slate-100 hover:bg-slate-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed min-w-[60px] touch-manipulation",children:"Next "})]})]}),i.jsx("div",{className:"flex items-end justify-between h-32 sm:h-40 gap-1 sm:gap-2 px-1 sm:px-2",children:He.length===0?i.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-slate-300",children:[i.jsx(Sd,{className:"w-6 h-6 sm:w-8 sm:h-8 mb-2 opacity-30"}),i.jsx("p",{className:"text-xs sm:text-sm italic",children:"No attendance records found."})]}):He.map((Ke,yt)=>i.jsxs("div",{className:"flex flex-col items-center flex-1 group min-w-0",children:[i.jsxs("div",{className:"relative w-full flex justify-center",children:[i.jsx("div",{className:"w-full max-w-[32px] sm:max-w-[40px] bg-slate-100 rounded-t-lg transition-all duration-500 group-hover:bg-[#E6F0FA] relative overflow-hidden",style:{height:"120px"},children:i.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-[#1160A8] rounded-t-lg transition-all duration-1000",style:{height:`${Ke.percentage}%`}})}),i.jsxs("div",{className:"hidden sm:block absolute -top-8 bg-slate-800 text-white text-xs py-1 px-2 rounded opacity-0 group-hover:opacity-100 transition-opacity",children:[Ke.percentage,"%"]}),i.jsxs("div",{className:"sm:hidden absolute -top-6 bg-slate-800 text-white text-xs py-0.5 px-1 rounded opacity-0 group-active:opacity-100 transition-opacity",children:[Ke.percentage,"%"]})]}),i.jsx("span",{className:"text-xs text-slate-500 mt-2 sm:mt-3 font-medium truncate",children:Ke.day})]},yt))})]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100",children:[i.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center",children:[i.jsx(Qp,{className:"w-5 h-5 mr-2 text-[#1160A8]"})," Notice Board"]}),i.jsx("div",{className:"space-y-4 max-h-[350px] overflow-y-auto pr-1",children:S.length===0?i.jsx("div",{className:"text-center py-6 text-slate-400 italic text-sm",children:"No announcements at this time."}):S.map(Ke=>i.jsxs("div",{className:"group relative pl-4 pb-2 border-l-2 border-slate-200 hover:border-[#1160A8] transition-colors",children:[i.jsx("div",{className:`absolute -left-[5px] top-1 w-2.5 h-2.5 rounded-full border-2 border-white ${Ke.type==="urgent"?"bg-red-500":"bg-amber-400"} shadow-sm`}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between items-start mb-1",children:[i.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wide",children:Ke.date}),Ke.type==="urgent"&&i.jsx("span",{className:"text-[10px] text-red-500 font-bold px-1.5 py-0.5 bg-red-50 rounded",children:"URGENT"})]}),i.jsx("p",{className:"text-sm font-medium text-slate-800 leading-snug",children:Ke.message})]})]},Ke.id))})]}),i.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsxs("h3",{className:"font-bold text-slate-800 flex items-center",children:[i.jsx(Rd,{className:"w-5 h-5 mr-2 text-[#1160A8]"})," Class Schedule"]}),i.jsx("select",{value:Ie,onChange:Ke=>_e(Ke.target.value),className:"text-xs font-bold text-[#1160A8] bg-[#E6F0FA] px-2 py-1 rounded uppercase border-none outline-none cursor-pointer hover:bg-[#E6F0FA] transition-colors",children:IN.map(Ke=>i.jsx("option",{value:Ke,children:Ke},Ke))})]}),o?i.jsx("div",{className:"space-y-4 relative min-h-[150px]",children:De.length===0?i.jsxs("div",{className:"text-center py-10 text-slate-400 text-sm italic border-2 border-dashed border-slate-100 rounded-lg",children:["No schedule set for ",Ie,"."]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"absolute left-2.5 top-2 bottom-2 w-0.5 bg-slate-200"}),De.map(Ke=>{const yt=Rn(Ke.type);return i.jsxs("div",{className:"relative pl-8 group",children:[i.jsx("div",{className:`absolute left-0 top-1.5 w-5 h-5 bg-white border-2 rounded-full z-10 transition-colors ${yt.border} ${yt.bgHover}`}),i.jsxs("div",{className:"flex items-baseline justify-between",children:[i.jsxs("p",{className:"text-xs text-slate-500 font-mono",children:[Ke.startTime," - ",Ke.endTime]}),Ke.type!=="lesson"&&i.jsx("span",{className:`text-[10px] font-bold uppercase ${yt.badge}`,children:Ke.type})]}),i.jsx("p",{className:`text-sm ${yt.text}`,children:Ke.subject})]},Ke.id)})]})}):i.jsx("div",{className:"text-center py-10 text-slate-400",children:"Select a class to view schedule."})]})]})]}),P.show&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[100] p-4 animate-in fade-in duration-200",children:i.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md max-h-[90vh] overflow-y-auto shadow-2xl",children:[i.jsx("div",{className:"p-6 border-b border-slate-100",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-amber-100 rounded-full",children:i.jsx(Qp,{className:"text-amber-600",size:20})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-slate-900",children:"Attendance Reminder"}),i.jsx("p",{className:"text-sm text-slate-500",children:"You missed marking attendance for a previous school day"})]})]})}),i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:[i.jsx("p",{className:"text-sm text-amber-800",children:"Please mark your attendance for the following dates to keep your records accurate:"}),i.jsx("ul",{className:"mt-2 space-y-1",children:P.dates.map(Ke=>i.jsx("li",{className:"text-sm font-medium",children:i.jsx("strong",{children:(()=>{const yt=Ke.split("-");return yt.length===3?`${yt[1]}/${yt[2]}/${yt[0]}`:Ke})()})},Ke))})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:()=>K({show:!1,dates:[]}),className:"flex-1 px-4 py-2 text-slate-600 border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors",children:"Remind Me Later"}),i.jsx(wi,{to:"/teacher/my-attendance",onClick:()=>K({show:!1,dates:[]}),className:"flex-1 px-4 py-2 bg-[#1160A8] text-white rounded-lg hover:bg-[#0B4A82] transition-colors text-center",children:"Mark Attendance Now"})]})]})]})}),L.show&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[100] p-4 animate-in fade-in duration-200",children:i.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md max-h-[90vh] overflow-y-auto shadow-2xl",children:[i.jsx("div",{className:"p-6 border-b border-slate-100",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-red-100 rounded-full",children:i.jsx(Qp,{className:"text-red-600",size:20})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-slate-900",children:"Student Attendance Reminder"}),i.jsx("p",{className:"text-sm text-slate-500",children:"You missed marking student attendance for your class."})]})]})}),i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:i.jsxs("p",{className:"text-sm text-red-800",children:["Please mark student attendance for"," ",i.jsx("strong",{children:g==null?void 0:g.name})," on"," ",i.jsx("strong",{children:(()=>{const Ke=L.date.split("-");return Ke.length===3?`${Ke[1]}/${Ke[2]}/${Ke[0]}`:L.date})()})," ","to keep records accurate."]})}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:()=>Q({show:!1,date:""}),className:"flex-1 px-4 py-2 text-slate-600 border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors",children:"Remind Me Later"}),i.jsx(wi,{to:"/teacher/attendance",onClick:()=>Q({show:!1,date:""}),className:"flex-1 px-4 py-2 text-center bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Take Attendance"})]})]})]})}),R&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[100] p-4 animate-in fade-in duration-200",children:i.jsxs("div",{className:"bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto shadow-2xl",children:[i.jsx("div",{className:"p-6 border-b border-slate-100",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-purple-100 rounded-full",children:i.jsx(Dl,{className:"text-purple-600",size:20})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-slate-900",children:"End of Term Remarks"}),i.jsx("p",{className:"text-sm text-slate-500",children:"Write comments and select behavior tags for each student"})]})]}),i.jsx("button",{onClick:()=>M(!1),className:"p-2 hover:bg-slate-100 rounded-full",children:i.jsx(fo,{size:20})})]})}),i.jsxs("div",{className:"p-6",children:[i.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:O.map(Ke=>{var yt,ze;return i.jsxs("div",{className:"border rounded p-4",children:[i.jsx("h4",{className:"font-semibold mb-2",children:Ke.name}),i.jsxs("div",{className:"mb-2",children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Behavior Tag"}),i.jsxs("select",{value:((yt=G[Ke.id])==null?void 0:yt.behaviorTag)||"",onChange:ot=>ie(ft=>({...ft,[Ke.id]:{...ft[Ke.id],behaviorTag:ot.target.value}})),className:"w-full p-2 border rounded",children:[i.jsx("option",{value:"",children:"Select Behavior"}),i.jsx("option",{value:"Excellent",children:"Excellent"}),i.jsx("option",{value:"Good",children:"Good"}),i.jsx("option",{value:"Needs Improvement",children:"Needs Improvement"})]})]}),i.jsxs("div",{className:"mb-2",children:[i.jsxs("label",{className:"block text-sm font-medium mb-1 flex items-center gap-2",children:[i.jsx(UT,{size:14,className:"text-purple-600"}),"Remark"]}),i.jsx("textarea",{value:((ze=G[Ke.id])==null?void 0:ze.remark)||"",onChange:ot=>ie(ft=>({...ft,[Ke.id]:{...ft[Ke.id],remark:ot.target.value}})),placeholder:"Write remark or select from suggestions below...",className:"w-full p-2 border rounded",rows:3}),i.jsxs("div",{className:"mt-2",children:[i.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Tap to insert suggestion:"}),i.jsx("div",{className:"flex flex-wrap gap-1 max-h-24 overflow-y-auto p-1 bg-slate-50 rounded-lg",children:jY.map((ot,ft)=>i.jsx("button",{type:"button",onClick:()=>ie(Lt=>({...Lt,[Ke.id]:{...Lt[Ke.id],remark:ot}})),className:"text-xs px-2 py-1 bg-purple-50 text-purple-700 rounded-full border border-purple-200 hover:bg-purple-100 transition-colors text-left truncate max-w-full",title:ot,children:ot.length>50?ot.substring(0,50)+"...":ot},ft))})]})]})]},Ke.id)})}),i.jsxs("div",{className:"mt-4 flex justify-end gap-3",children:[i.jsx("button",{onClick:()=>M(!1),className:"px-4 py-2 text-slate-600 border rounded hover:bg-slate-50",children:"Cancel"}),i.jsx("button",{onClick:async()=>{var Ke,yt;J(!0);try{for(const ze of O){const ot=parseInt(h.split(" ")[1]),ft={id:`${ze.id}_${h}_${ho}`,studentId:ze.id,classId:o,term:ot,academicYear:ho,schoolId:e||(f==null?void 0:f.schoolId)||"",remark:((Ke=G[ze.id])==null?void 0:Ke.remark)||"",behaviorTag:((yt=G[ze.id])==null?void 0:yt.behaviorTag)||"",teacherId:n.id,dateCreated:new Date().toISOString().split("T")[0]};await ut.saveStudentRemark(ft)}Mt("Remarks saved successfully!",{type:"success"}),M(!1)}catch(ze){console.error(ze),Mt("Failed to save remarks",{type:"error"})}finally{J(!1)}},disabled:ge,className:"px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 disabled:opacity-50",children:ge?"Saving...":"Save Remarks"})]})]})]})}),re&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[100] p-4 animate-in fade-in duration-200",children:i.jsxs("div",{className:"bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto shadow-2xl",children:[i.jsx("div",{className:"p-6 border-b border-slate-100",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-[#E6F0FA] rounded-full",children:i.jsx(Sd,{className:"text-[#1160A8]",size:20})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-slate-900",children:"Edit Student Skills"}),i.jsx("p",{className:"text-sm text-slate-500",children:"Rate skills and behavior for each student"})]})]}),i.jsx("button",{onClick:()=>se(!1),className:"p-2 hover:bg-slate-100 rounded-full",children:i.jsx(fo,{size:20})})]})}),i.jsxs("div",{className:"p-6",children:[i.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:he.map(Ke=>i.jsxs("div",{className:"border rounded p-4",children:[i.jsx("h4",{className:"font-semibold mb-3",children:Ke.name}),i.jsx("div",{className:"grid grid-cols-2 gap-3",children:wY.map(yt=>{var ze;return i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium mb-1 capitalize",children:yt.replace(/([A-Z])/g," $1").trim()}),i.jsxs("select",{value:((ze=ne[Ke.id])==null?void 0:ze[yt])||"",onChange:ot=>V(ft=>({...ft,[Ke.id]:{...ft[Ke.id],[yt]:ot.target.value}})),className:"w-full p-2 border rounded text-sm",children:[i.jsx("option",{value:"",children:"Select"}),i.jsx("option",{value:"Excellent",children:"Excellent"}),i.jsx("option",{value:"Very Good",children:"Very Good"}),i.jsx("option",{value:"Good",children:"Good"}),i.jsx("option",{value:"Fair",children:"Fair"}),i.jsx("option",{value:"Poor",children:"Poor"})]})]},yt)})})]},Ke.id))}),i.jsxs("div",{className:"mt-4 flex justify-end gap-3",children:[i.jsx("button",{onClick:()=>se(!1),className:"px-4 py-2 text-slate-600 border rounded hover:bg-slate-50",children:"Cancel"}),i.jsx("button",{onClick:async()=>{ae(!0);try{const Ke=parseInt(h.split(" ")[1]);for(const yt of he){const ze={id:`${yt.id}_${h}_${ho}`,studentId:yt.id,classId:o,term:Ke,academicYear:ho,schoolId:e||(f==null?void 0:f.schoolId)||"",...ne[yt.id]};await ut.saveStudentSkills(ze)}Mt("Skills saved successfully!",{type:"success"}),se(!1)}catch(Ke){console.error(Ke),Mt("Failed to save skills",{type:"error"})}finally{ae(!1)}},disabled:W,className:"px-4 py-2 bg-[#1160A8] text-white rounded hover:bg-[#0B4A82] disabled:opacity-50",children:W?"Saving...":"Save Skills"})]})]})]})})]})},BY=()=>{var Q;const{user:n}=$o(),e=(n==null?void 0:n.assignedClassIds)||[],[t,s]=ee.useState(""),a=(n==null?void 0:n.schoolId)||null,[o,c]=ee.useState([]),[h,u]=ee.useState(new Date().toISOString().split("T")[0]),[f,A]=ee.useState(new Set),[m,v]=ee.useState(!1),[g,b]=ee.useState(""),[S,N]=ee.useState(null);ee.useEffect(()=>{e.length>0&&!t&&s(e[0])},[e]),ee.useEffect(()=>{(async()=>{if(!a){N(null);return}const M=await ut.getSchoolConfig(a);N(M);const O=I(M);O&&h<O&&u(O)})()},[a]);const E=()=>I(S),I=R=>R&&R.schoolReopenDate?R.schoolReopenDate:"",F=()=>{const R=S==null?void 0:S.vacationDate,M=S==null?void 0:S.nextTermBegins,O=S==null?void 0:S.schoolReopenDate;return M&&h>=M?!1:!!(R&&h>R||!R&&O&&h<O)};ee.useEffect(()=>{if(!t||!a)return;(async()=>{v(!0);try{const M=await ut.getStudents(a,t);c(M);const O=await ut.getAttendance(a,t,h);A(O?new Set(O.presentStudentIds):new Set)}catch(M){console.error(M)}finally{v(!1)}})()},[t,h,a]);const D=R=>{const M=new Set(f);M.has(R)?M.delete(R):M.add(R),A(M)},P=async()=>{var H;if(!t||!a)return;const R=S==null?void 0:S.vacationDate,M=S==null?void 0:S.nextTermBegins,O=S==null?void 0:S.schoolReopenDate;if(!(M&&h>=M)){if(R&&h>R){b("Cannot mark attendance after school vacation date"),setTimeout(()=>b(""),3e3);return}else if(!R&&O&&h<O){b(`Cannot mark attendance before school re-open date (${O})`),setTimeout(()=>b(""),3e3);return}}v(!0);try{await ut.saveAttendance({id:`${a}_${t}_${h}`,schoolId:a,classId:t,date:h,presentStudentIds:Array.from(f)});const G=((H=Un.find(ie=>ie.id===t))==null?void 0:H.name)||t;await ut.addSystemNotification(`${n==null?void 0:n.fullName} marked attendance for ${G} on ${h}. (${f.size} Present)`,"attendance",a),b("Attendance saved successfully!"),setTimeout(()=>b(""),3e3)}catch(G){console.error(G)}finally{v(!1)}};if(e.length===0)return i.jsx(Xs,{title:"Attendance",children:i.jsx("div",{className:"p-8 text-center text-slate-500",children:"You are not assigned to any class. Contact Admin."})});const K=((Q=Un.find(R=>R.id===t))==null?void 0:Q.name)||t,L=o.length-f.size;return i.jsx(Xs,{title:"Mark Attendance",children:i.jsxs("div",{className:"max-w-5xl mx-auto space-y-6",children:[i.jsxs("div",{className:"relative overflow-hidden rounded-2xl border bg-gradient-to-br from-indigo-50 via-white to-emerald-50 p-6 shadow-sm",children:[i.jsx("div",{className:"absolute -top-16 -right-16 h-40 w-40 rounded-full bg-indigo-200/40 blur-3xl"}),i.jsx("div",{className:"absolute -bottom-20 -left-16 h-48 w-48 rounded-full bg-emerald-200/40 blur-3xl"}),i.jsxs("div",{className:"relative flex flex-col gap-2",children:[i.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Student Attendance"}),i.jsx("p",{className:"text-sm text-slate-600",children:"Mark attendance quickly and accurately for your class."}),i.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-3 text-sm",children:[i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-white/80 px-3 py-1 font-medium text-slate-700 shadow-sm",children:[i.jsx(ll,{className:"h-4 w-4 text-indigo-500"}),"Class: ",K||"Select class"]}),i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-emerald-50 px-3 py-1 font-medium text-emerald-700 shadow-sm",children:[i.jsx(_A,{className:"h-4 w-4"}),f.size," Present"]}),i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-rose-50 px-3 py-1 font-medium text-rose-700 shadow-sm",children:[i.jsx(kh,{className:"h-4 w-4"}),L," Absent"]})]})]})]}),i.jsx("div",{className:"rounded-2xl border bg-white/80 p-6 shadow-sm",children:i.jsxs("div",{className:"flex flex-col gap-6",children:[i.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-end md:justify-between",children:[i.jsxs("div",{className:"w-full md:w-64",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Select Class"}),i.jsx("select",{value:t,onChange:R=>s(R.target.value),className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm transition focus:border-emerald-400 focus:ring-2 focus:ring-emerald-200",children:e.map(R=>{const M=Un.find(O=>O.id===R);return i.jsx("option",{value:R,children:M==null?void 0:M.name},R)})})]}),i.jsxs("div",{className:"w-full md:w-64",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Select Date"}),i.jsxs("div",{className:"relative",children:[i.jsx(ol,{className:"absolute left-3 top-2.5 w-4 h-4 text-slate-400"}),i.jsx("input",{type:"date",value:h,onChange:R=>u(R.target.value),min:E(),className:"w-full rounded-xl border border-slate-200 bg-white pl-10 pr-4 py-2 text-sm shadow-sm transition focus:border-emerald-400 focus:ring-2 focus:ring-emerald-200"})]})]})]}),i.jsxs("div",{className:"flex flex-col gap-4 border-t border-slate-100 pt-4 sm:flex-row sm:items-center sm:justify-between",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm",children:[i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-emerald-50 px-3 py-1 font-semibold text-emerald-700",children:[i.jsx(_A,{className:"h-4 w-4"}),f.size," Present"]}),i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-rose-50 px-3 py-1 font-semibold text-rose-700",children:[i.jsx(kh,{className:"h-4 w-4"}),L," Absent"]})]}),i.jsxs("button",{onClick:P,disabled:m||!t||F(),className:"inline-flex w-full items-center justify-center gap-2 rounded-full bg-emerald-600 px-6 py-2.5 text-sm font-semibold text-white shadow-sm transition hover:scale-[1.01] hover:bg-emerald-700 disabled:opacity-50 sm:w-auto",children:[i.jsx(sA,{size:18}),m?"Saving...":"Save Register"]})]})]})}),g&&i.jsx("div",{className:`rounded-2xl p-3 text-center text-sm shadow-sm ${g.includes("Cannot")?"bg-rose-50 text-rose-700":"bg-emerald-50 text-emerald-700"}`,children:g}),F()&&i.jsx("div",{className:"rounded-2xl border border-amber-200 bg-amber-50/70 p-4 text-amber-900 shadow-sm",children:i.jsxs("div",{className:"flex items-center gap-2 text-amber-700",children:[i.jsx(Ll,{size:18}),i.jsx("span",{className:"font-medium",children:S!=null&&S.nextTermBegins&&h>=S.nextTermBegins?"Attendance not available for selected date":S!=null&&S.vacationDate&&h>S.vacationDate?`Cannot mark attendance after vacation date (${S.vacationDate})`:!(S!=null&&S.vacationDate)&&(S!=null&&S.schoolReopenDate)&&h<S.schoolReopenDate?`Cannot mark attendance before school re-open date (${S.schoolReopenDate})`:"Attendance not available for selected date"})]})}),i.jsxs("div",{className:"rounded-2xl border bg-white/80 p-2 shadow-sm",children:[o.map(R=>{const M=f.has(R.id),O=F();return i.jsxs("div",{className:`group flex items-center justify-between gap-4 rounded-xl border border-slate-200 bg-white p-4 shadow-sm transition duration-300 hover:-translate-y-0.5 hover:shadow-md ${O?"opacity-60":"cursor-pointer"}`,onClick:()=>!O&&D(R.id),children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:`flex h-11 w-11 items-center justify-center rounded-full text-sm font-bold ${M?"bg-emerald-100 text-emerald-700":"bg-rose-100 text-rose-700"}`,children:R.name.charAt(0)}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-slate-900",children:R.name}),i.jsx("p",{className:"text-xs text-slate-500",children:R.gender})]})]}),i.jsxs("div",{className:`inline-flex items-center gap-2 rounded-full border px-3 py-1 text-xs font-semibold ${M?"border-emerald-200 bg-emerald-50 text-emerald-700":"border-rose-200 bg-rose-50 text-rose-700"}`,children:[M?i.jsx(_A,{className:"h-4 w-4"}):i.jsx(kh,{className:"h-4 w-4"}),M?"PRESENT":"ABSENT"]})]},R.id)}),o.length===0&&i.jsx("div",{className:"p-8 text-center text-slate-500",children:t?"No students found in this class.":"Select a class to view students."})]})]})})},lo=n=>{const e=n.split("-");if(e.length===3){const s=new Date(parseInt(e[0]),parseInt(e[1])-1,parseInt(e[2]));if(!isNaN(s.getTime()))return s}const t=new Date(n);return isNaN(t.getTime())?(console.error("Invalid date string:",n),new Date):t},CY=()=>{const{user:n}=$o(),e=(n==null?void 0:n.schoolId)||null,[t,s]=ee.useState({}),[a,o]=ee.useState(!0),[c,h]=ee.useState({}),[u,f]=ee.useState(null),[A,m]=ee.useState(null),v=R=>{const M=R.getFullYear(),O=String(R.getMonth()+1).padStart(2,"0"),H=String(R.getDate()).padStart(2,"0");return`${M}-${O}-${H}`},g=()=>{const R=new Date;return R.setHours(0,0,0,0),R},b=ee.useMemo(()=>g(),[]),S=ee.useMemo(()=>v(b),[b]),N=(R,M,O=!1)=>{const H=[];let G=new Date(R);for(G.setHours(0,0,0,0);H.length<M;)G.getDay()!==0&&G.getDay()!==6&&H.push(v(G)),G.setDate(G.getDate()+(O?-1:1));return H},E=ee.useMemo(()=>{const R=u!=null&&u.schoolReopenDate?lo(u.schoolReopenDate):null,M=u!=null&&u.vacationDate?lo(u.vacationDate):null,O=new Date(b);return N(O,20,!0).filter(G=>{const ie=lo(G),ge=u!=null&&u.nextTermBegins?lo(u.nextTermBegins):null;if(ge&&ie>=ge)return!0;const J=!R||ie>=R,re=!M||ie<=M;return J&&re}).sort()},[b,u]),I=R=>{const M=new Date(R);for(M.setDate(M.getDate()-1);M.getDay()===0||M.getDay()===6;)M.setDate(M.getDate()-1);return v(M)},F=ee.useMemo(()=>I(b),[b]),D=(R,M,O,H)=>{const G=lo(R),ie=M?lo(M):null,ge=O?lo(O):null,J=H?lo(H):null;return J&&G>=J?!0:!(ie&&G<ie||ge&&G>ge)};ee.useEffect(()=>{(async()=>{if(!e){f(null);return}const M=await ut.getSchoolConfig(e);f(M)})()},[e]),ee.useEffect(()=>{if(!(n!=null&&n.id)||!e||E.length===0){o(!1);return}(async()=>{o(!0);const M={};for(const O of E)if(D(O,u==null?void 0:u.schoolReopenDate,u==null?void 0:u.vacationDate,u==null?void 0:u.nextTermBegins)){const H=await ut.getTeacherAttendance(e,n.id,O);H&&(M[O]=H)}s(M),o(!1)})()},[n==null?void 0:n.id,E,u==null?void 0:u.schoolReopenDate,e]),ee.useEffect(()=>{if(!(n!=null&&n.id)||!e||!u)return;(async()=>{const M=u.schoolReopenDate,O=u.vacationDate;if(!D(F,M,O,u.nextTermBegins))return;await ut.getTeacherAttendance(e,n.id,F)||m(F)})()},[n==null?void 0:n.id,u,F,D]);const P=async(R,M)=>{if(!(n!=null&&n.id)||!e)return;h(H=>({...H,[R]:!0}));const O={id:`${e}_${n.id}_${R}`,date:R,teacherId:n.id,schoolId:e||(u==null?void 0:u.schoolId)||"",status:M};await ut.saveTeacherAttendance(O),s(H=>({...H,[R]:O})),m(null),await ut.addSystemNotification(`${(n==null?void 0:n.fullName)||"Teacher"} marked ${M} for ${R}`,"attendance",e),h(H=>({...H,[R]:!1}))},K=()=>u!=null&&u.schoolReopenDate?b>=lo(u.schoolReopenDate):!0,L=R=>{const M=lo(R),O=u!=null&&u.schoolReopenDate?lo(u.schoolReopenDate):null,H=u!=null&&u.vacationDate?lo(u.vacationDate):null,G=u!=null&&u.nextTermBegins?lo(u.nextTermBegins):null;return G&&M>=G?!0:!(O&&M<O||H&&M>H)},Q=R=>lo(R).toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric",year:"numeric"});return i.jsx(Xs,{title:"Daily Attendance",children:i.jsxs("div",{className:"max-w-5xl mx-auto space-y-6",children:[i.jsxs("div",{className:"relative overflow-hidden rounded-2xl border bg-gradient-to-br from-indigo-50 via-white to-emerald-50 p-6 shadow-sm",children:[i.jsx("div",{className:"absolute -top-16 -right-16 h-40 w-40 rounded-full bg-indigo-200/40 blur-3xl"}),i.jsx("div",{className:"absolute -bottom-20 -left-16 h-48 w-48 rounded-full bg-emerald-200/40 blur-3xl"}),i.jsxs("div",{className:"relative flex flex-col gap-2",children:[i.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Daily Attendance"}),i.jsx("p",{className:"text-sm text-slate-600",children:"Mark your attendance with confidence  fast, clear, and beautiful."}),i.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-3 text-sm",children:[i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-white/80 px-3 py-1 font-medium text-slate-700 shadow-sm",children:[i.jsx(ol,{className:"h-4 w-4 text-indigo-500"}),"Today: ",Q(S)]}),i.jsxs("span",{className:`inline-flex items-center gap-2 rounded-full px-3 py-1 font-medium shadow-sm ${K()?"bg-emerald-50 text-emerald-700":"bg-rose-50 text-rose-700"}`,children:[i.jsx(Rd,{className:"h-4 w-4"}),K()?"School Open":"School Closed"]})]})]})]}),A&&i.jsxs("div",{className:"relative overflow-hidden rounded-2xl border border-amber-200 bg-amber-50/60 p-5 shadow-sm",children:[i.jsx("div",{className:"absolute -right-10 -top-10 h-24 w-24 rounded-full bg-amber-200/60 blur-2xl"}),i.jsxs("div",{className:"relative flex flex-col gap-3",children:[i.jsxs("div",{className:"flex items-center gap-2 text-amber-800",children:[i.jsx(Ll,{className:"h-5 w-5"}),i.jsx("span",{className:"font-semibold",children:"Missed Attendance"})]}),i.jsxs("p",{className:"text-sm text-amber-900",children:["You missed attendance for",i.jsxs("span",{className:"font-semibold",children:[" ",Q(A)]}),". Please update it now."]}),i.jsxs("div",{className:"flex flex-wrap gap-3",children:[i.jsxs("button",{onClick:()=>P(A,"present"),disabled:c[A],className:"inline-flex items-center gap-2 rounded-full bg-emerald-600 px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:scale-[1.02] hover:bg-emerald-700 disabled:opacity-50",children:[i.jsx(_A,{className:"h-4 w-4"}),"Mark Present"]}),i.jsxs("button",{onClick:()=>P(A,"absent"),disabled:c[A],className:"inline-flex items-center gap-2 rounded-full bg-rose-600 px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:scale-[1.02] hover:bg-rose-700 disabled:opacity-50",children:[i.jsx(kh,{className:"h-4 w-4"}),"Mark Absent"]})]})]})]}),!K()&&i.jsx("div",{className:"rounded-2xl border border-rose-200 bg-rose-50/70 p-4 text-rose-800 shadow-sm",children:i.jsxs("div",{className:"flex items-center gap-2 font-semibold",children:[i.jsx(Rd,{className:"h-5 w-5"}),"School not yet open"]})}),(u==null?void 0:u.vacationDate)&&b<lo(u.vacationDate)&&i.jsx("div",{className:"rounded-2xl border border-amber-200 bg-amber-50/70 p-4 text-amber-900 shadow-sm",children:i.jsxs("div",{className:"flex items-center gap-2 font-semibold",children:[i.jsx(ol,{className:"h-5 w-5 text-amber-600"}),"School will vacate on: ",u.vacationDate]})}),i.jsx("div",{className:"rounded-2xl border bg-white/80 p-2 shadow-sm",children:a?i.jsx("div",{className:"p-8 text-center text-sm text-slate-500",children:"Loading attendance..."}):i.jsx("div",{className:"grid gap-3 p-2",children:E.map(R=>{const M=t[R],O=R>S,H=D(R,u==null?void 0:u.schoolReopenDate,u==null?void 0:u.vacationDate,u==null?void 0:u.nextTermBegins);return i.jsxs("div",{className:"group flex flex-col gap-4 rounded-2xl border border-slate-200 bg-white p-4 shadow-sm transition duration-300 hover:-translate-y-0.5 hover:shadow-md",children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-slate-900",children:Q(R)}),i.jsx("p",{className:"text-xs text-slate-500",children:R})]}),i.jsx("div",{className:"flex items-center gap-2",children:M?i.jsxs("span",{className:`inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold ${M.status==="present"?"bg-emerald-50 text-emerald-700":"bg-rose-50 text-rose-700"}`,children:[M.status==="present"?i.jsx(_A,{className:"h-4 w-4"}):i.jsx(kh,{className:"h-4 w-4"}),M.status.toUpperCase()]}):H?O?i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-500",children:[i.jsx(Rd,{className:"h-4 w-4"}),"Future"]}):i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-indigo-50 px-3 py-1 text-xs font-semibold text-indigo-700",children:[i.jsx(ol,{className:"h-4 w-4"}),"Pending"]}):i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-amber-50 px-3 py-1 text-xs font-semibold text-amber-700",children:[i.jsx(Ll,{className:"h-4 w-4"}),lo(R)<lo((u==null?void 0:u.schoolReopenDate)||"")?"Before Reopen":"After Vacation"]})})]}),i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[i.jsx("div",{className:"text-xs text-slate-500",children:L(R)?"School in session":"Out of session"}),M||!H||O?null:i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs("button",{onClick:()=>P(R,"present"),className:"inline-flex items-center gap-2 rounded-full border border-emerald-200 bg-emerald-50 px-4 py-2 text-xs font-semibold text-emerald-700 shadow-sm transition hover:scale-[1.02] hover:bg-emerald-100",children:[i.jsx(_A,{className:"h-4 w-4"}),"Present"]}),i.jsxs("button",{onClick:()=>P(R,"absent"),className:"inline-flex items-center gap-2 rounded-full border border-rose-200 bg-rose-50 px-4 py-2 text-xs font-semibold text-rose-700 shadow-sm transition hover:scale-[1.02] hover:bg-rose-100",children:[i.jsx(kh,{className:"h-4 w-4"}),"Absent"]})]})]})]},R)})})})]})})},SY=()=>{const{user:n}=$o(),e=(n==null?void 0:n.assignedClassIds)||[],t=(n==null?void 0:n.schoolId)||null,[s,a]=ee.useState(""),[o,c]=ee.useState([]),[h,u]=ee.useState([]),[f,A]=ee.useState(""),[m,v]=ee.useState({}),[g,b]=ee.useState(!1),[S,N]=ee.useState(!1),[E,I]=ee.useState({currentTerm:`Term ${Pi}`,academicYear:ho}),F={testScore:15,homeworkScore:15,projectScore:20,examScore:100};ee.useEffect(()=>{e.length>0&&!s&&a(e[0])},[e]),ee.useEffect(()=>{(async()=>{try{if(!t)return;const L=await ut.getSchoolConfig(t);if(I({currentTerm:L.currentTerm||`Term ${Pi}`,academicYear:L.academicYear||ho}),L.termTransitionProcessed){console.log("Term transition detected, reloading for fresh data..."),await ut.updateSchoolConfig({...L,termTransitionProcessed:!1}),window.location.reload();return}const Q=new Date;Q.setHours(0,0,0,0);const R=L.nextTermBegins?new Date(L.nextTermBegins+"T00:00:00"):null;if(R&&Q>=R){console.log("New term begins, initiating reset..."),await ut.resetForNewTerm(L),await ut.updateSchoolConfig({...L,termTransitionProcessed:!0}),Mt("New term started! Assessments have been reset.",{type:"success"}),window.location.reload();return}}catch(L){console.error("Failed to load school config",L)}})()},[t]),ee.useEffect(()=>{(async()=>{if(!s||!t){u([]),A("");return}const L=await ut.getSubjects(t,s);u(L),L.length>0?A(L[0]):A("")})()},[s,t]),ee.useEffect(()=>{if(!s||!t)return;(async()=>{const L=await ut.getStudents(t,s);c(L)})()},[s,t]),ee.useEffect(()=>{if(!s||!f||!t){v({});return}(async()=>{b(!0);const L=await ut.getAssessments(t,s,f);let Q=Pi;if(E.currentTerm){const M=E.currentTerm.match(/\d+/);M&&(Q=parseInt(M[0],10))}const R={};o.forEach(M=>{const O=L.find(H=>H.studentId===M.id&&H.term===Q);R[M.id]=O||{id:`${M.id}_${f}_${Q}_${E.academicYear}`,schoolId:t||"",studentId:M.id,classId:s,term:Q,academicYear:E.academicYear,subject:f,testScore:0,homeworkScore:0,projectScore:0,examScore:0,total:0}}),v(R),b(!1)})()},[s,f,o,E.currentTerm,E.academicYear,t]);const D=(K,L,Q)=>{let R=Q===""?0:parseFloat(Q);const M=F[L];R>M&&(R=M),R<0&&(R=0),v(O=>{const H=O[K]||{};return{...O,[K]:{...H,[L]:R}}})},P=async()=>{var K;if(!(!s||!t)){N(!0);try{let L=Pi;if(E.currentTerm){const M=E.currentTerm.match(/\d+/);M&&(L=parseInt(M[0],10))}const Q=Object.values(m).map(async M=>{if(!M.studentId)return;const O=nc(M),H={...M,id:M.id||Math.random().toString(36),schoolId:t,total:O,studentId:M.studentId,classId:s,subject:f,term:L,academicYear:E.academicYear,testScore:M.testScore||0,homeworkScore:M.homeworkScore||0,projectScore:M.projectScore||0,examScore:M.examScore||0};return ut.saveAssessment(H)});await Promise.all(Q);const R=((K=Un.find(M=>M.id===s))==null?void 0:K.name)||s;await ut.addSystemNotification(`${(n==null?void 0:n.fullName)||"Teacher"} updated assessments for ${R} in ${f}.`,"assessment",t),Mt("Saved Successfully",{type:"success"})}catch(L){console.error(L),Mt("Error saving data",{type:"error"})}finally{N(!1)}}};return e.length===0?i.jsx(Xs,{title:"Assessment",children:i.jsx("div",{className:"p-8 text-center text-slate-500",children:"No class assigned."})}):i.jsx(Xs,{title:"Assessment Sheet",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 overflow-hidden",children:[i.jsxs("div",{className:"p-6 border-b border-slate-100 bg-slate-50 flex flex-col gap-4",children:[i.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-1",children:"Class"}),i.jsx("select",{value:s,onChange:K=>a(K.target.value),className:"p-2 border border-slate-300 rounded-md shadow-sm w-full md:w-64 bg-white text-black",children:e.map(K=>{const L=Un.find(Q=>Q.id===K);return i.jsx("option",{value:K,children:L==null?void 0:L.name},K)})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-1",children:"Subject"}),i.jsxs("select",{value:f,onChange:K=>A(K.target.value),className:"p-2 border border-slate-300 rounded-md shadow-sm w-full md:w-64",disabled:h.length===0,children:[h.length===0&&i.jsx("option",{children:"Loading subjects..."}),h.map(K=>i.jsx("option",{value:K,children:K},K))]})]})]}),i.jsxs("div",{className:"flex items-center justify-between border-t border-slate-200 pt-4",children:[i.jsx("div",{className:"hidden sm:block",children:i.jsxs("p",{className:"text-sm font-medium text-slate-900",children:[E.currentTerm,"  ",E.academicYear]})}),i.jsxs("button",{onClick:P,disabled:S||!f||!s,className:"flex items-center bg-emerald-600 text-white px-6 py-2 rounded-lg hover:bg-emerald-700 transition-colors shadow-sm disabled:opacity-50 disabled:cursor-not-allowed ml-auto",children:[i.jsx(sA,{size:18,className:"mr-2"}),S?"Saving...":"Save Scores"]})]})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-left text-sm",children:[i.jsx("thead",{className:"bg-slate-100 text-slate-600 font-semibold uppercase text-xs tracking-wider",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3 sticky left-0 bg-slate-100 z-10 w-48",children:"Student Name"}),i.jsxs("th",{className:"px-2 py-3 w-24 text-center",children:["Class Test",i.jsx("br",{}),i.jsx("span",{className:"text-[10px] normal-case font-bold text-emerald-600",children:"(15)"})]}),i.jsxs("th",{className:"px-2 py-3 w-24 text-center",children:["Homework",i.jsx("br",{}),i.jsx("span",{className:"text-[10px] normal-case font-bold text-emerald-600",children:"(15)"})]}),i.jsxs("th",{className:"px-2 py-3 w-24 text-center",children:["Project",i.jsx("br",{}),i.jsx("span",{className:"text-[10px] normal-case font-bold text-emerald-600",children:"(20)"})]}),i.jsxs("th",{className:"px-2 py-3 w-28 text-center border-l border-slate-200 bg-red-50/50",children:["Exam",i.jsx("br",{}),i.jsx("span",{className:"text-[10px] normal-case font-bold text-red-600",children:"(100)"})]}),i.jsxs("th",{className:"px-4 py-3 w-24 text-center bg-slate-200",children:["Total",i.jsx("br",{}),i.jsx("span",{className:"text-[10px] normal-case",children:"(100%)"})]}),i.jsx("th",{className:"px-4 py-3 w-20 text-center bg-slate-200",children:"Grade"})]})}),i.jsxs("tbody",{className:"divide-y divide-slate-100",children:[o.map(K=>{const L=m[K.id]||{},Q=nc(L),{grade:R,remark:M}=um(Q),O=Rg(R);return i.jsxs("tr",{className:"hover:bg-slate-50",children:[i.jsx("td",{className:"px-4 py-3 font-medium text-slate-800 sticky left-0 bg-white border-r border-slate-100",children:K.name}),i.jsx("td",{className:"px-2 py-2",children:i.jsx("input",{type:"number",min:"0",max:F.testScore,className:"w-full text-center border border-slate-200 rounded p-1 focus:ring-2 focus:ring-emerald-500 outline-none",value:L.testScore||0,onChange:H=>D(K.id,"testScore",H.target.value),onFocus:H=>H.target.select()})}),i.jsx("td",{className:"px-2 py-2",children:i.jsx("input",{type:"number",min:"0",max:F.homeworkScore,className:"w-full text-center border border-slate-200 rounded p-1 focus:ring-2 focus:ring-emerald-500 outline-none",value:L.homeworkScore||0,onChange:H=>D(K.id,"homeworkScore",H.target.value),onFocus:H=>H.target.select()})}),i.jsx("td",{className:"px-2 py-2",children:i.jsx("input",{type:"number",min:"0",max:F.projectScore,className:"w-full text-center border border-slate-200 rounded p-1 focus:ring-2 focus:ring-emerald-500 outline-none",value:L.projectScore||0,onChange:H=>D(K.id,"projectScore",H.target.value),onFocus:H=>H.target.select()})}),i.jsx("td",{className:"px-2 py-2 border-l border-slate-200 bg-red-50/20",children:i.jsx("input",{type:"number",min:"0",max:F.examScore,className:"w-full text-center border border-red-500 rounded p-1 focus:ring-2 focus:ring-red-300 outline-none font-bold text-slate-800 bg-white shadow-sm",value:L.examScore||0,onChange:H=>D(K.id,"examScore",H.target.value),onFocus:H=>H.target.select()})}),i.jsx("td",{className:"px-4 py-3 text-center font-bold text-slate-800 bg-slate-50",children:Q}),i.jsx("td",{className:"px-4 py-3 text-center bg-slate-50",children:i.jsx("span",{className:`inline-block w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold ${O}`,children:R})})]},K.id)}),o.length===0&&i.jsx("tr",{children:i.jsx("td",{colSpan:7,className:"p-8 text-center text-slate-400",children:s?"No students found in this class.":"Select a class above."})})]})]})})]})})},NY=()=>{const{user:n}=$o(),e=(n==null?void 0:n.assignedClassIds)||[],t=(n==null?void 0:n.schoolId)||null,[s,a]=ee.useState(""),[o,c]=ee.useState([]),[h,u]=ee.useState({}),[f,A]=ee.useState(!1),[m,v]=ee.useState(!1),[g,b]=ee.useState("");ee.useEffect(()=>{e.length>0&&!s&&a(e[0])},[e]),ee.useEffect(()=>{if(!s||!t)return;(async()=>{A(!0);try{const I=await ut.getStudents(t,s);c(I);const F=await ut.getStudentRemarks(t,s),D={};let P=Pi;const K=await ut.getSchoolConfig(t);if(K.currentTerm){const L=K.currentTerm.match(/\d+/);L&&(P=parseInt(L[0],10))}I.forEach(L=>{const Q=F.find(R=>R.studentId===L.id&&R.term===P);D[L.id]=(Q==null?void 0:Q.remark)||""}),u(D)}catch(I){console.error(I)}finally{A(!1)}})()},[s,t]);const S=(E,I)=>{u(F=>({...F,[E]:I}))},N=async()=>{var E;if(!(!s||!t)){v(!0);try{const I=await ut.getSchoolConfig(t);let F=Pi;if(I.currentTerm){const K=I.currentTerm.match(/\d+/);K&&(F=parseInt(K[0],10))}const D=Object.entries(h).map(async([K,L])=>{const Q=L;if(!Q.trim())return;const R={id:`${K}_${s}_${F}_${ho}`,studentId:K,classId:s,term:F,academicYear:ho,schoolId:t,remark:Q,behaviorTag:"Good",teacherId:(n==null?void 0:n.id)||"",dateCreated:new Date().toISOString().split("T")[0]};await ut.saveStudentRemark(R)});await Promise.all(D);const P=((E=Un.find(K=>K.id===s))==null?void 0:E.name)||s;await ut.addSystemNotification(`${n==null?void 0:n.fullName} updated remarks for ${P}.`,"assessment",t),b("Remarks saved successfully!"),setTimeout(()=>b(""),3e3)}catch(I){console.error(I),b("Error saving remarks"),setTimeout(()=>b(""),3e3)}finally{v(!1)}}};return e.length===0?i.jsx(Xs,{title:"Write Remarks",children:i.jsx("div",{className:"p-8 text-center text-slate-500",children:"You are not assigned to any class. Contact Admin."})}):i.jsx(Xs,{title:"Write Remarks",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 p-6 max-w-4xl mx-auto",children:[i.jsxs("div",{className:"flex flex-col gap-6 mb-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between",children:[i.jsxs("div",{className:"w-full sm:w-auto",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Select Class"}),i.jsx("select",{value:s,onChange:E=>a(E.target.value),className:"w-full sm:w-64 px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none bg-white text-black",children:e.map(E=>{const I=Un.find(F=>F.id===E);return i.jsx("option",{value:E,children:I==null?void 0:I.name},E)})})]}),i.jsx("div",{className:"flex items-end",children:i.jsxs("button",{onClick:N,disabled:m||!s,className:"flex items-center bg-emerald-600 text-white px-6 py-2.5 rounded-lg hover:bg-emerald-700 transition-colors disabled:opacity-50 font-medium shadow-sm",children:[i.jsx(sA,{size:18,className:"mr-2"}),m?"Saving...":"Save Remarks"]})})]}),g&&i.jsx("div",{className:`p-3 rounded text-center text-sm ${g.includes("Error")?"bg-red-50 text-red-700":"bg-green-50 text-green-700"}`,children:g})]}),i.jsxs("div",{className:"border border-slate-200 rounded-lg overflow-hidden",children:[f?i.jsx("div",{className:"p-8 text-center text-slate-500",children:"Loading..."}):o.map(E=>{var I;return i.jsxs("div",{className:"p-4 border-b last:border-b-0",children:[i.jsxs("div",{className:"flex items-center mb-2",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 flex items-center justify-center text-sm font-bold text-slate-600 mr-3",children:E.name.charAt(0)}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-slate-800",children:E.name}),i.jsx("p",{className:"text-xs text-slate-400",children:(I=Un.find(F=>F.id===E.classId))==null?void 0:I.name})]})]}),i.jsx("textarea",{value:h[E.id]||"",onChange:F=>S(E.id,F.target.value),placeholder:"Write remarks for this student...",className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none resize-none",rows:3})]},E.id)}),o.length===0&&i.jsx("div",{className:"p-8 text-center text-slate-500",children:s?"No students found in this class.":"Select a class to view students."})]})]})})},EY=["Excellent","Very Good","Good","Fair","Poor"],TY=()=>{const{user:n}=$o(),e=(n==null?void 0:n.assignedClassIds)||[],t=(n==null?void 0:n.schoolId)||null,[s,a]=ee.useState(""),[o,c]=ee.useState([]),[h,u]=ee.useState({}),[f,A]=ee.useState(!1),[m,v]=ee.useState(!1),[g,b]=ee.useState("");ee.useEffect(()=>{e.length>0&&!s&&a(e[0])},[e]),ee.useEffect(()=>{if(!s||!t)return;(async()=>{A(!0);try{const F=await ut.getStudents(t,s);c(F);const D=await ut.getStudentSkills(t,s),P={};let K=Pi;const L=await ut.getSchoolConfig(t);if(L.currentTerm){const Q=L.currentTerm.match(/\d+/);Q&&(K=parseInt(Q[0],10))}F.forEach(Q=>{const R=D.find(M=>M.studentId===Q.id&&M.term===K);R?P[Q.id]=R:P[Q.id]={id:`${Q.id}_${s}_${K}_${ho}`,studentId:Q.id,classId:s,term:K,academicYear:ho,schoolId:t||(L==null?void 0:L.schoolId)||"",punctuality:"Good",neatness:"Good",conduct:"Good",attitudeToWork:"Good",classParticipation:"Good",homeworkCompletion:"Good"}}),u(P)}catch(F){console.error(F)}finally{A(!1)}})()},[s,t]);const S=(I,F,D)=>{u(P=>({...P,[I]:{...P[I],[F]:D}}))},N=async()=>{var I;if(!(!s||!t)){v(!0);try{const F=await ut.getSchoolConfig(t);let D=Pi;if(F.currentTerm){const L=F.currentTerm.match(/\d+/);L&&(D=parseInt(L[0],10))}const P=Object.values(h).map(async L=>{await ut.saveStudentSkills(L)});await Promise.all(P);const K=((I=Un.find(L=>L.id===s))==null?void 0:I.name)||s;await ut.addSystemNotification(`${(n==null?void 0:n.fullName)||"Teacher"} updated skills for ${K}.`,"assessment",t),b("Skills saved successfully!"),setTimeout(()=>b(""),3e3)}catch(F){console.error(F),b("Error saving skills"),setTimeout(()=>b(""),3e3)}finally{v(!1)}}};if(e.length===0)return i.jsx(Xs,{title:"Edit Skills",children:i.jsx("div",{className:"p-8 text-center text-slate-500",children:"You are not assigned to any class. Contact Admin."})});const E=[{key:"punctuality",label:"Punctuality"},{key:"neatness",label:"Neatness"},{key:"conduct",label:"Conduct"},{key:"attitudeToWork",label:"Attitude to Work"},{key:"classParticipation",label:"Class Participation"},{key:"homeworkCompletion",label:"Homework Completion"}];return i.jsx(Xs,{title:"Edit Skills",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 p-6 max-w-6xl mx-auto",children:[i.jsxs("div",{className:"flex flex-col gap-6 mb-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between",children:[i.jsxs("div",{className:"w-full sm:w-auto",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Select Class"}),i.jsx("select",{value:s,onChange:I=>a(I.target.value),className:"w-full sm:w-64 px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none bg-white text-black",children:e.map(I=>{const F=Un.find(D=>D.id===I);return i.jsx("option",{value:I,children:F==null?void 0:F.name},I)})})]}),i.jsx("div",{className:"flex items-end",children:i.jsxs("button",{onClick:N,disabled:m||!s,className:"flex items-center bg-emerald-600 text-white px-6 py-2.5 rounded-lg hover:bg-emerald-700 transition-colors disabled:opacity-50 font-medium shadow-sm",children:[i.jsx(sA,{size:18,className:"mr-2"}),m?"Saving...":"Save Skills"]})})]}),g&&i.jsx("div",{className:`p-3 rounded text-center text-sm ${g.includes("Error")?"bg-red-50 text-red-700":"bg-green-50 text-green-700"}`,children:g})]}),i.jsxs("div",{className:"overflow-x-auto border border-slate-200 rounded-lg",children:[f?i.jsx("div",{className:"p-8 text-center text-slate-500",children:"Loading..."}):i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{className:"bg-slate-100 text-slate-600 font-semibold",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3 text-left w-48",children:"Student Name"}),E.map(I=>i.jsx("th",{className:"px-2 py-3 text-center",children:I.label},I.key))]})}),i.jsx("tbody",{className:"divide-y divide-slate-100",children:o.map(I=>i.jsxs("tr",{className:"hover:bg-slate-50",children:[i.jsx("td",{className:"px-4 py-3 font-medium text-slate-800",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 flex items-center justify-center text-sm font-bold text-slate-600 mr-3",children:I.name.charAt(0)}),I.name]})}),E.map(F=>{var D;return i.jsx("td",{className:"px-2 py-3",children:i.jsx("select",{value:((D=h[I.id])==null?void 0:D[F.key])||"Good",onChange:P=>S(I.id,F.key,P.target.value),className:"w-full px-2 py-1.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none bg-white text-center",children:EY.map(P=>i.jsx("option",{value:P,children:P},P))})},F.key)})]},I.id))})]}),o.length===0&&i.jsx("div",{className:"p-8 text-center text-slate-500",children:s?"No students found in this class.":"Select a class to view students."})]})]})})},IY=()=>{const{user:n}=$o(),[e,t]=ee.useState([]),[s,a]=ee.useState(!0),[o,c]=ee.useState(!1),[h,u]=ee.useState({name:"",phone:"",address:"",logoUrl:"",plan:"trial"}),[f,A]=ee.useState(!1),[m,v]=ee.useState(null),[g,b]=ee.useState(!1),[S,N]=ee.useState(!1),[E,I]=ee.useState(""),[F,D]=ee.useState(1),[P,K]=ee.useState({x:0,y:0}),[L,Q]=ee.useState({width:0,height:0}),R=ee.useRef(null),M=180,O=512,H=M/2,G=he=>{if(!he)return"N/A";const je=he,ne=je instanceof Date?je:typeof(je==null?void 0:je.toDate)=="function"?je.toDate():typeof je=="string"||typeof je=="number"?new Date(je):null;return!ne||Number.isNaN(ne.getTime())?"N/A":ne.toLocaleDateString()};ee.useEffect(()=>{const he=Wn(Et,"schools");return zf(he,ne=>{const V=ne.docs.map(W=>({id:W.id,...W.data()}));t(V),a(!1)})},[]);const ie=async he=>{if(he.preventDefault(),!h.name.trim())return;const je=()=>{if(!E||!R.current)return"";const ne=R.current,V=L.width||ne.naturalWidth||1,W=L.height||ne.naturalHeight||1,ce=Math.max(M/V,M/W)*F*(O/M),Ae=P.x*(O/M),pe=P.y*(O/M),Se=document.createElement("canvas");Se.width=O,Se.height=O;const xe=Se.getContext("2d");if(!xe)return"";const Ie=V*ce,_e=W*ce,De=O/2-Ie/2+Ae,st=O/2-_e/2+pe;return xe.drawImage(ne,De,st,Ie,_e),Se.toDataURL("image/png")};b(!0);try{const ne=je();await qM({name:h.name.trim(),phone:h.phone.trim(),address:h.address.trim(),logoUrl:ne||"",plan:h.plan}),u({name:"",phone:"",address:"",logoUrl:"",plan:"trial"}),I(""),D(1),K({x:0,y:0}),Q({width:0,height:0}),c(!1),Mt("School created successfully!",{type:"success"})}catch(ne){console.error("Error creating school:",ne),Mt(ne.message||"Failed to create school",{type:"error"})}finally{b(!1)}},ge=he=>{var V;const je=(V=he.target.files)==null?void 0:V[0];if(!je){I(""),Q({width:0,height:0});return}const ne=new FileReader;ne.onload=()=>{I(ne.result),D(1),K({x:0,y:0})},ne.readAsDataURL(je)},J=async(he,je)=>{try{const ne=je==="active"?"inactive":"active";await Lp(Vn(Et,"schools",he),{status:ne}),Mt(`School ${ne==="active"?"activated":"deactivated"}`,{type:"success"})}catch(ne){console.error("Error updating school status:",ne),Mt("Failed to update school status",{type:"error"})}},re=async()=>{if(m)try{N(!0);const he=m.id,je=400,ne=await es(Zn(Wn(Et,"users"),Zt("schoolId","==",he)));let V=0;const W=[];for(let Ae=0;Ae<ne.docs.length;Ae+=je){const pe=U5(Et),Se=ne.docs.slice(Ae,Ae+je);for(const xe of Se)pe.delete(Vn(Et,"users",xe.id));W.push(pe.commit()),V+=Se.length}W.length>0&&(await Promise.all(W),console.log(`Deleted ${V} user documents`));const ae=["students","classes","attendance","assessments","teacher_attendance","notices","student_remarks","student_skills","admin_remarks","admin_notifications","timetables","class_subjects","settings"];let ce=0;for(const Ae of ae)if(Ae==="settings")try{await yi(Vn(Et,"settings",he)),ce+=1}catch{console.log(`Settings document ${he} not found or already deleted`)}else{const pe=Zn(Wn(Et,Ae),Zt("schoolId","==",he)),xe=(await es(pe)).docs.map(Ie=>Ie.id);if(xe.length>0)for(let Ie=0;Ie<xe.length;Ie+=je){const _e=U5(Et),De=xe.slice(Ie,Ie+je);for(const st of De)_e.delete(Vn(Et,Ae,st));await _e.commit(),ce+=De.length}}await yi(Vn(Et,"schools",he)),Mt(`School deleted successfully! Removed ${V} users and ${ce} data records.`,{type:"success"}),A(!1),v(null)}catch(he){console.error("Error deleting school:",he),Mt(he.message||"Failed to delete school",{type:"error"})}finally{N(!1)}},se=he=>{v(he),A(!0)};return s?i.jsx(Xs,{title:"Schools",children:i.jsx("div",{className:"flex items-center justify-center h-96",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0B4A82]"})})}):i.jsxs(Xs,{title:"Schools",children:[i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-8",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Schools Management"}),i.jsx("p",{className:"text-slate-500 mt-1",children:"Manage all schools in the system"})]}),i.jsxs("button",{onClick:()=>c(!0),className:"flex items-center px-4 py-2 bg-[#0B4A82] text-white rounded-lg hover:bg-[#0B4A82] transition-colors",children:[i.jsx(cm,{size:18,className:"mr-2"}),"Create School"]})]}),i.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-left text-sm text-slate-600",children:[i.jsx("thead",{className:"bg-slate-50 text-slate-700 font-semibold",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4",children:"Name"}),i.jsx("th",{className:"px-6 py-4",children:"Code"}),i.jsx("th",{className:"px-6 py-4",children:"Status"}),i.jsx("th",{className:"px-6 py-4",children:"Plan"}),i.jsx("th",{className:"px-6 py-4",children:"Created"}),i.jsx("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-100",children:e.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-slate-400",children:"No schools created yet."})}):e.map(he=>i.jsxs("tr",{className:"hover:bg-slate-50",children:[i.jsxs("td",{className:"px-6 py-4 font-medium text-slate-800 flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-slate-100 rounded-full flex items-center justify-center overflow-hidden",children:he.logoUrl?i.jsx("img",{src:he.logoUrl,alt:he.name,className:"w-full h-full object-cover"}):i.jsx(Op,{size:16,className:"text-slate-600"})}),he.name]}),i.jsx("td",{className:"px-6 py-4 font-mono text-sm",children:he.code}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${he.status==="active"?"bg-emerald-100 text-emerald-700":"bg-red-100 text-red-700"}`,children:he.status==="active"?"Active":"Inactive"})}),i.jsx("td",{className:"px-6 py-4 capitalize",children:he.plan}),i.jsx("td",{className:"px-6 py-4",children:G(he.createdAt)}),i.jsx("td",{className:"px-6 py-4 text-right",children:i.jsxs("div",{className:"flex items-center justify-end gap-2",children:[i.jsx("button",{onClick:()=>J(he.id,he.status),className:`p-1 rounded transition-colors ${he.status==="active"?"text-[#1160A8] hover:bg-[#E6F0FA]":"text-emerald-600 hover:bg-emerald-50"}`,title:he.status==="active"?"Deactivate":"Activate",children:he.status==="active"?i.jsx(wM,{size:18}):i.jsx(yM,{size:18})}),i.jsx(wi,{to:`/super-admin/schools/${he.id}`,className:"p-1 text-slate-600 hover:bg-slate-50 rounded transition-colors",title:"View Details",children:i.jsx(Xd,{size:18})}),i.jsx("button",{onClick:()=>se(he),className:"p-1 text-red-600 hover:bg-red-50 rounded transition-colors",title:"Delete School",children:i.jsx(ic,{size:18})})]})})]},he.id))})]})})})]}),o&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6 shadow-xl relative overflow-hidden",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Create New School"}),i.jsx("button",{onClick:()=>c(!1),className:"text-slate-400 hover:text-slate-700",children:i.jsx(fo,{size:20})})]}),i.jsxs("form",{onSubmit:ie,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"School Name"}),i.jsx("input",{type:"text",required:!0,disabled:g,className:"w-full border border-slate-300 p-3 rounded-lg focus:ring-2 focus:ring-[#1160A8] focus:border-transparent outline-none disabled:bg-slate-100 disabled:cursor-not-allowed",value:h.name,onChange:he=>u({...h,name:he.target.value}),placeholder:"Enter school name"})]}),i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Phone"}),i.jsx("input",{type:"tel",disabled:g,className:"w-full border border-slate-300 p-3 rounded-lg focus:ring-2 focus:ring-[#1160A8] focus:border-transparent outline-none disabled:bg-slate-100 disabled:cursor-not-allowed",value:h.phone,onChange:he=>u({...h,phone:he.target.value}),placeholder:"School phone number"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Address"}),i.jsx("input",{type:"text",disabled:g,className:"w-full border border-slate-300 p-3 rounded-lg focus:ring-2 focus:ring-[#1160A8] focus:border-transparent outline-none disabled:bg-slate-100 disabled:cursor-not-allowed",value:h.address,onChange:he=>u({...h,address:he.target.value}),placeholder:"School address"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Logo Upload (Optional)"}),i.jsx("input",{type:"file",accept:"image/*",disabled:g,className:"w-full border border-slate-300 p-3 rounded-lg bg-white focus:ring-2 focus:ring-[#1160A8] focus:border-transparent outline-none disabled:bg-slate-100 disabled:cursor-not-allowed",onChange:ge}),E&&i.jsxs("div",{className:"mt-4 space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[i.jsx("span",{children:"Crop to square"}),i.jsxs("span",{children:[Math.round(F*100),"%"]})]}),i.jsx("div",{className:"rounded-xl border border-slate-200 bg-slate-50 flex items-center justify-center overflow-hidden",style:{width:M,height:M},children:i.jsx("img",{ref:R,src:E,alt:"Logo preview",onLoad:he=>{const je=he.currentTarget;Q({width:je.naturalWidth,height:je.naturalHeight})},style:{width:L.width?`${Math.max(M,M/L.height*L.width)*F}px`:"auto",height:L.height?`${Math.max(M,M/L.width*L.height)*F}px`:"auto",transform:`translate(${P.x}px, ${P.y}px)`}})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-xs font-semibold text-slate-600",children:"Zoom"}),i.jsx("input",{type:"range",min:1,max:3,step:.05,value:F,onChange:he=>D(parseFloat(he.target.value)),className:"w-full"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-semibold text-slate-600",children:"Move X"}),i.jsx("input",{type:"range",min:-H,max:H,value:P.x,onChange:he=>K(je=>({...je,x:parseFloat(he.target.value)})),className:"w-full"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-semibold text-slate-600",children:"Move Y"}),i.jsx("input",{type:"range",min:-H,max:H,value:P.y,onChange:he=>K(je=>({...je,y:parseFloat(he.target.value)})),className:"w-full"})]})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Plan"}),i.jsxs("select",{disabled:g,className:"w-full border border-slate-300 p-3 rounded-lg focus:ring-2 focus:ring-[#1160A8] focus:border-transparent outline-none bg-white disabled:bg-slate-100 disabled:cursor-not-allowed",value:h.plan,onChange:he=>u({...h,plan:he.target.value}),children:[i.jsx("option",{value:"trial",children:"Trial"}),i.jsx("option",{value:"monthly",children:"Monthly"}),i.jsx("option",{value:"termly",children:"Termly"}),i.jsx("option",{value:"yearly",children:"Yearly"})]})]}),i.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-4 border-t border-slate-100",children:[i.jsx("button",{type:"button",disabled:g,onClick:()=>c(!1),className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:g,className:"flex items-center px-4 py-2 bg-[#0B4A82] text-white rounded-lg hover:bg-[#0B4A82] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:g?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating..."]}):i.jsxs(i.Fragment,{children:[i.jsx(sA,{size:18,className:"mr-2"}),"Create School"]})})]})]}),g&&i.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-95 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"relative mb-4",children:[i.jsx("div",{className:"w-16 h-16 mx-auto",children:i.jsx(Op,{size:64,className:"text-[#0B4A82] animate-pulse"})}),i.jsx("div",{className:"absolute top-2 left-2 w-2 h-2 bg-[#1160A8] rounded-full animate-bounce"}),i.jsx("div",{className:"absolute top-4 right-3 w-1.5 h-1.5 bg-[#E6F0FA] rounded-full animate-ping"}),i.jsx("div",{className:"absolute bottom-2 left-4 w-1 h-1 bg-[#0B4A82] rounded-full animate-pulse"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-800 animate-pulse",children:"Creating Your School"}),i.jsx("p",{className:"text-sm text-slate-600 animate-pulse delay-100",children:"Setting up everything perfectly..."})]}),i.jsxs("div",{className:"flex justify-center space-x-1 mt-4",children:[i.jsx("div",{className:"w-2 h-2 bg-[#1160A8] rounded-full animate-bounce"}),i.jsx("div",{className:"w-2 h-2 bg-[#1160A8] rounded-full animate-bounce delay-75"}),i.jsx("div",{className:"w-2 h-2 bg-[#1160A8] rounded-full animate-bounce delay-150"})]})]})})]})}),f&&m&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6 shadow-xl relative overflow-hidden",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Delete School"}),i.jsx("button",{onClick:()=>A(!1),disabled:S,className:"text-slate-400 hover:text-slate-700 disabled:opacity-50 disabled:cursor-not-allowed",children:i.jsx(fo,{size:20})})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("svg",{className:"w-5 h-5 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-red-800",children:"Are you sure you want to delete this school?"}),i.jsx("p",{className:"text-sm text-red-700 mt-1",children:"This action cannot be undone. All associated data including students, teachers, admin accounts, and all school records will be permanently removed from the system."})]})]})}),i.jsx("div",{className:"bg-slate-50 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-slate-200 rounded-full flex items-center justify-center",children:i.jsx(Op,{size:20,className:"text-slate-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-slate-900",children:m.name}),i.jsxs("p",{className:"text-sm text-slate-500",children:["Code: ",m.code]})]})]})})]}),i.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-4 border-t border-slate-100",children:[i.jsx("button",{onClick:()=>A(!1),disabled:S,className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),i.jsx("button",{onClick:re,disabled:S,className:"flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:S?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Deleting..."]}):"Delete School"})]}),S&&i.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-95 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"relative mb-4",children:[i.jsx("div",{className:"w-16 h-16 mx-auto",children:i.jsx(ic,{size:64,className:"text-red-600 animate-pulse"})}),i.jsx("div",{className:"absolute top-2 left-2 w-2 h-2 bg-red-400 rounded-full animate-bounce"}),i.jsx("div",{className:"absolute top-4 right-3 w-1.5 h-1.5 bg-red-300 rounded-full animate-ping"}),i.jsx("div",{className:"absolute bottom-2 left-4 w-1 h-1 bg-red-500 rounded-full animate-pulse"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-800 animate-pulse",children:"Deleting School"}),i.jsx("p",{className:"text-sm text-slate-600 animate-pulse delay-100",children:"Removing associated data safely..."})]}),i.jsxs("div",{className:"flex justify-center space-x-1 mt-4",children:[i.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-bounce"}),i.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-bounce delay-75"}),i.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-bounce delay-150"})]})]})})]})})]})},_Y=()=>{const{schoolId:n}=qF(),e=gg(),[t,s]=ee.useState(null),[a,o]=ee.useState(null),[c,h]=ee.useState(!0),[u,f]=ee.useState(!1),[A,m]=ee.useState(!1),[v,g]=ee.useState(!1),[b,S]=ee.useState({fullName:"",email:"",password:""}),[N,E]=ee.useState(!1),[I,F]=ee.useState(null),[D,P]=ee.useState({students:"0",teachers:"0",lastActivity:"Coming soon"}),[K,L]=ee.useState(!1),[Q,R]=ee.useState(""),[M,O]=ee.useState(!1),[H,G]=ee.useState(""),[ie,ge]=ee.useState(1),[J,re]=ee.useState({x:0,y:0}),[se,he]=ee.useState({width:0,height:0}),je=ee.useRef(null),ne=180,V=512,W=ne/2;ee.useEffect(()=>{if(!n)return;(async()=>{var de,rt;try{const _t=await ju(Vn(Et,"schools",n));if(!_t.exists()){Mt("School not found",{type:"error"}),e("/super-admin/schools");return}const vt={id:_t.id,..._t.data()};s(vt);const qe=vt.createdAt&&((rt=(de=vt.createdAt)==null?void 0:de.toDate)!=null&&rt.call(de))?vt.createdAt.toDate():null;o({name:vt.name||"",code:vt.code||"",phone:vt.phone||"",address:vt.address||"",logoUrl:vt.logoUrl||"",status:vt.status||"active",plan:vt.plan||"trial",planEndsAt:vt.planEndsAt?new Date(vt.planEndsAt).toISOString().split("T")[0]:"",notes:vt.notes||""});const We=Zn(Wn(Et,"users"),Zt("role","==",ms.SCHOOL_ADMIN),Zt("schoolId","==",vt.id)),Qt=(await es(We)).docs[0];F(Qt?{id:Qt.id,...Qt.data()}:null);const[Pt,Gt]=await Promise.all([es(Zn(Wn(Et,"students"),Zt("schoolId","==",vt.id))),es(Zn(Wn(Et,"users"),Zt("schoolId","==",vt.id),Zt("role","==",ms.TEACHER)))]);P({students:Pt.size.toString(),teachers:Gt.size.toString(),lastActivity:qe?qe.toLocaleDateString():""})}catch(_t){console.error("Error fetching school:",_t),Mt("Failed to load school details",{type:"error"})}finally{h(!1)}})()},[n,e]);const ae=ee.useMemo(()=>{var de,rt;if(!(t!=null&&t.createdAt))return"";const He=(rt=(de=t.createdAt)==null?void 0:de.toDate)!=null&&rt.call(de)?t.createdAt.toDate():new Date(t.createdAt);return!He||Number.isNaN(He.getTime())?"":He.toLocaleDateString()},[t==null?void 0:t.createdAt]),ce=(He,de)=>{a&&o({...a,[He]:de})},Ae=He=>{var _t;const de=(_t=He.target.files)==null?void 0:_t[0];if(!de){G(""),he({width:0,height:0});return}const rt=new FileReader;rt.onload=()=>{G(rt.result),ge(1),re({x:0,y:0})},rt.readAsDataURL(de)},pe=()=>{if(!a)return!1;if(!a.name.trim())return Mt("School name is required.",{type:"error"}),!1;if(a.phone&&a.phone.trim().length<7)return Mt("Phone number is too short.",{type:"error"}),!1;if(a.planEndsAt){const He=new Date(a.planEndsAt),de=new Date;if(de.setHours(0,0,0,0),He<de)return Mt("Plan end date cannot be in the past.",{type:"error"}),!1}return!0},Se=async()=>{if(!n||!a||!pe())return;const He=()=>{if(!H||!je.current)return"";const de=je.current,rt=se.width||de.naturalWidth||1,_t=se.height||de.naturalHeight||1,qe=Math.max(ne/rt,ne/_t)*ie*(V/ne),We=J.x*(V/ne),dt=J.y*(V/ne),Qt=document.createElement("canvas");Qt.width=V,Qt.height=V;const Pt=Qt.getContext("2d");if(!Pt)return"";const Gt=rt*qe,sn=_t*qe,en=V/2-Gt/2+We,Nn=V/2-sn/2+dt;return Pt.drawImage(de,en,Nn,Gt,sn),Qt.toDataURL("image/png")};f(!0);try{const rt=He()||a.logoUrl.trim();await vi(Vn(Et,"schools",n),{name:a.name.trim(),code:a.code.trim(),phone:a.phone.trim(),address:a.address.trim(),logoUrl:rt,status:a.status,plan:a.plan,planEndsAt:a.planEndsAt?new Date(a.planEndsAt):null,notes:a.notes.trim()},{merge:!0}),Mt("School updated successfully.",{type:"success"}),s(_t=>_t&&{..._t,...a,logoUrl:rt,planEndsAt:a.planEndsAt?new Date(a.planEndsAt):null}),o(_t=>_t&&{..._t,logoUrl:rt}),G(""),ge(1),re({x:0,y:0}),he({width:0,height:0})}catch(de){console.error("Failed to update school",de),Mt(de.message||"Failed to update school.",{type:"error"})}finally{f(!1)}},xe=()=>{t&&o({name:t.name||"",code:t.code||"",phone:t.phone||"",address:t.address||"",logoUrl:t.logoUrl||"",status:t.status||"active",plan:t.plan||"trial",planEndsAt:t.planEndsAt?new Date(t.planEndsAt).toISOString().split("T")[0]:"",notes:t.notes||""})},Ie=async He=>{if(He.preventDefault(),!!n&&!(!b.fullName.trim()||!b.email.trim())){E(!0);try{const de=await ZM({schoolId:n,fullName:b.fullName.trim(),email:b.email.trim(),password:b.password.trim()||void 0});Mt(b.password.trim()?`Admin created: ${de.email}`:`Admin created: ${de.email}. Reset link sent.`,{type:"success"}),S({fullName:"",email:"",password:""}),m(!1);const rt=Zn(Wn(Et,"users"),Zt("role","==",ms.SCHOOL_ADMIN),Zt("schoolId","==",n)),vt=(await es(rt)).docs[0];F(vt?{id:vt.id,...vt.data()}:null)}catch(de){console.error("Error creating admin:",de),Mt(de.message||"Failed to create admin.",{type:"error"})}finally{E(!1)}}},_e=async()=>{if(I)try{const He=await e7({adminUid:I.id});await navigator.clipboard.writeText(He.resetLink),Mt("Reset link copied to clipboard.",{type:"success"})}catch(He){console.error("Failed to reset admin password",He),Mt(He.message||"Failed to reset admin password.",{type:"error"})}},De=async()=>{if(I)try{await Lp(Vn(Et,"users",I.id),{status:"inactive"}),F({...I,status:"inactive"}),Mt("Admin disabled successfully.",{type:"success"})}catch(He){console.error("Failed to disable admin",He),Mt(He.message||"Failed to disable admin.",{type:"error"})}},st=async()=>{if(!(!t||Q.trim()!==t.name)){O(!0);try{await r7({schoolId:t.id}),Mt("School deleted successfully.",{type:"success"}),L(!1),e("/super-admin/schools")}catch(He){console.error("Failed to delete school",He),Mt(He.message||"Failed to delete school.",{type:"error"})}finally{O(!1),R("")}}};return c?i.jsx(Xs,{title:"School Details",children:i.jsx("div",{className:"flex items-center justify-center h-96",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0B4A82]"})})}):!t||!a?i.jsx(Xs,{title:"School Details",children:i.jsx("div",{className:"text-center py-12",children:i.jsx("p",{className:"text-slate-500",children:"School not found"})})}):i.jsxs(Xs,{title:"School Details",children:[i.jsxs("div",{className:"p-6 space-y-8",children:[i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsxs("button",{onClick:()=>e("/super-admin/schools"),className:"flex items-center gap-2 text-slate-500 hover:text-slate-700 text-sm",children:[i.jsx(ST,{size:16}),"Schools / ",t.name]}),i.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-6 flex flex-col md:flex-row md:items-center md:justify-between gap-6",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-16 h-16 rounded-2xl bg-slate-100 flex items-center justify-center overflow-hidden",children:t.logoUrl?i.jsx("img",{src:t.logoUrl,alt:t.name,className:"w-full h-full object-cover"}):i.jsx(rk,{className:"text-slate-500"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:t.name}),i.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm text-slate-500",children:[i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(Mh,{size:14})," Code: ",t.code||""]}),i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(ol,{size:14})," Created: ",ae]})]})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${t.status==="active"?"bg-emerald-100 text-emerald-700":"bg-[#E6F0FA] text-[#0B4A82]"}`,children:t.status==="active"?"Active":"Inactive"}),i.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium bg-slate-100 text-slate-600",children:t.plan})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[1.1fr_1.4fr] gap-6",children:[i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-6 space-y-4",children:[i.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Overview"}),i.jsxs("div",{className:"grid gap-3 text-sm text-slate-600",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(rM,{size:16}),i.jsx("span",{children:t.phone||"No phone"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Kk,{size:16}),i.jsx("span",{children:t.address||"No address"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Mh,{size:16}),i.jsx("span",{children:t.notes||"No internal notes"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-6 space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Administration"}),!I&&i.jsx("button",{onClick:()=>m(!0),className:"text-sm font-medium text-emerald-600 hover:text-emerald-700",children:"Create Admin"})]}),I?i.jsxs("div",{className:"border border-slate-200 rounded-xl p-4 space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-slate-900",children:I.fullName}),i.jsx("p",{className:"text-sm text-slate-500",children:I.email})]}),i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${I.status==="active"?"bg-emerald-100 text-emerald-700":"bg-[#E6F0FA] text-[#0B4A82]"}`,children:I.status})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("button",{onClick:_e,className:"px-3 py-2 rounded-lg border border-slate-200 text-sm text-slate-600 hover:bg-slate-50",children:"Reset Admin Password"}),i.jsx("button",{onClick:De,className:"px-3 py-2 rounded-lg border border-red-200 text-sm text-red-600 hover:bg-red-50",children:"Disable Admin"})]})]}):i.jsx("div",{className:"text-sm text-slate-500",children:"No admin assigned yet."})]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[{label:"Total students",value:D.students},{label:"Total teachers",value:D.teachers},{label:"Last activity",value:D.lastActivity}].map(He=>i.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-4",children:[i.jsx("p",{className:"text-xs uppercase text-slate-400",children:He.label}),i.jsx("p",{className:"text-lg font-semibold text-slate-900",children:He.value})]},He.label))})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-6",children:[i.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Edit School Settings"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Name"}),i.jsx("input",{value:a.name,onChange:He=>ce("name",He.target.value),className:"w-full mt-1 border border-slate-200 rounded-xl px-3 py-2"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Code"}),i.jsx("input",{value:a.code,onChange:He=>ce("code",He.target.value),className:"w-full mt-1 border border-slate-200 rounded-xl px-3 py-2"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Phone"}),i.jsx("input",{value:a.phone,onChange:He=>ce("phone",He.target.value),className:"w-full mt-1 border border-slate-200 rounded-xl px-3 py-2"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Status"}),i.jsxs("select",{value:a.status,onChange:He=>ce("status",He.target.value),className:"w-full mt-1 border border-slate-200 rounded-xl px-3 py-2 bg-white",children:[i.jsx("option",{value:"active",children:"Active"}),i.jsx("option",{value:"inactive",children:"Inactive"})]})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Address"}),i.jsx("input",{value:a.address,onChange:He=>ce("address",He.target.value),className:"w-full mt-1 border border-slate-200 rounded-xl px-3 py-2"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Logo Upload"}),i.jsx("input",{type:"file",accept:"image/*",onChange:Ae,className:"w-full mt-1 border border-slate-200 rounded-xl px-3 py-2 bg-white"}),a.logoUrl&&!H&&i.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Current logo is saved. Upload a new file to replace it."}),H&&i.jsxs("div",{className:"mt-4 space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[i.jsx("span",{children:"Crop to square"}),i.jsxs("span",{children:[Math.round(ie*100),"%"]})]}),i.jsx("div",{className:"rounded-xl border border-slate-200 bg-slate-50 flex items-center justify-center overflow-hidden",style:{width:ne,height:ne},children:i.jsx("img",{ref:je,src:H,alt:"Logo preview",onLoad:He=>{const de=He.currentTarget;he({width:de.naturalWidth,height:de.naturalHeight})},style:{width:se.width?`${Math.max(ne,ne/se.height*se.width)*ie}px`:"auto",height:se.height?`${Math.max(ne,ne/se.width*se.height)*ie}px`:"auto",transform:`translate(${J.x}px, ${J.y}px)`}})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-xs font-semibold text-slate-600",children:"Zoom"}),i.jsx("input",{type:"range",min:1,max:3,step:.05,value:ie,onChange:He=>ge(parseFloat(He.target.value)),className:"w-full"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-semibold text-slate-600",children:"Move X"}),i.jsx("input",{type:"range",min:-W,max:W,value:J.x,onChange:He=>re(de=>({...de,x:parseFloat(He.target.value)})),className:"w-full"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-semibold text-slate-600",children:"Move Y"}),i.jsx("input",{type:"range",min:-W,max:W,value:J.y,onChange:He=>re(de=>({...de,y:parseFloat(He.target.value)})),className:"w-full"})]})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Plan"}),i.jsxs("select",{value:a.plan,onChange:He=>ce("plan",He.target.value),className:"w-full mt-1 border border-slate-200 rounded-xl px-3 py-2 bg-white",children:[i.jsx("option",{value:"trial",children:"Trial"}),i.jsx("option",{value:"monthly",children:"Monthly"}),i.jsx("option",{value:"termly",children:"Termly"}),i.jsx("option",{value:"yearly",children:"Yearly"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Plan Ends At"}),i.jsx("input",{type:"date",value:a.planEndsAt,onChange:He=>ce("planEndsAt",He.target.value),className:"w-full mt-1 border border-slate-200 rounded-xl px-3 py-2"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Internal Notes"}),i.jsx("textarea",{value:a.notes,onChange:He=>ce("notes",He.target.value),rows:4,className:"w-full mt-1 border border-slate-200 rounded-xl px-3 py-2"})]})]}),i.jsxs("div",{className:"flex flex-wrap gap-3 mt-6",children:[i.jsx("button",{onClick:xe,className:"px-4 py-2 rounded-xl border border-slate-200 text-slate-600",children:"Cancel"}),i.jsxs("button",{onClick:Se,disabled:u,className:"px-4 py-2 rounded-xl bg-emerald-600 text-white flex items-center gap-2 disabled:opacity-60",children:[i.jsx(sA,{size:16})," ",u?"Saving...":"Save Changes"]})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl border border-red-100 shadow-sm p-6",children:[i.jsxs("div",{className:"flex items-center gap-2 text-red-600 mb-4",children:[i.jsx(M5,{size:18}),i.jsx("h2",{className:"text-lg font-semibold",children:"Danger Zone"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("button",{onClick:()=>ce("status",a.status==="active"?"inactive":"active"),className:"w-full flex items-center justify-between px-4 py-3 rounded-xl border border-red-200 text-red-600 hover:bg-red-50",children:[i.jsx("span",{children:a.status==="active"?"Deactivate School":"Activate School"}),i.jsx(ic,{size:16})]}),i.jsxs("button",{onClick:()=>L(!0),className:"w-full flex items-center justify-between px-4 py-3 rounded-xl border border-red-200 text-red-600 hover:bg-red-50",children:[i.jsx("span",{children:"Delete School"}),i.jsx(ic,{size:16})]})]})]})]})]})]}),A&&i.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md p-6 shadow-xl relative",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Create School Admin"}),i.jsx("button",{onClick:()=>m(!1),className:"text-slate-400 hover:text-slate-700",children:i.jsx(fo,{size:18})})]}),i.jsxs("form",{onSubmit:Ie,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Full Name"}),i.jsx("input",{value:b.fullName,onChange:He=>S({...b,fullName:He.target.value}),className:"w-full mt-1 border border-slate-200 rounded-xl px-3 py-2"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Email"}),i.jsx("input",{type:"email",value:b.email,onChange:He=>S({...b,email:He.target.value}),className:"w-full mt-1 border border-slate-200 rounded-xl px-3 py-2"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Password (optional)"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:v?"text":"password",value:b.password,onChange:He=>S({...b,password:He.target.value}),className:"w-full mt-1 border border-slate-200 rounded-xl px-3 py-2 pr-10"}),i.jsx("button",{type:"button",onClick:()=>g(!v),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400",children:v?i.jsx(IT,{size:16}):i.jsx(Xd,{size:16})})]}),i.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Leave blank to send a reset link."})]}),i.jsxs("button",{type:"submit",disabled:N,className:"w-full py-2 rounded-xl bg-emerald-600 text-white flex items-center justify-center gap-2 disabled:opacity-60",children:[i.jsx(n2,{size:16}),N?"Creating...":"Create Admin"]})]})]})}),K&&i.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md p-6 shadow-xl space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-2 text-red-600",children:[i.jsx(M5,{size:18}),i.jsx("h3",{className:"text-lg font-semibold",children:"Delete School"})]}),i.jsxs("p",{className:"text-sm text-slate-500",children:["Type ",i.jsx("span",{className:"font-semibold",children:t.name})," to confirm deletion."]}),i.jsx("input",{value:Q,onChange:He=>R(He.target.value),className:"w-full border border-slate-200 rounded-xl px-3 py-2"}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:()=>L(!1),className:"flex-1 py-2 rounded-xl border border-slate-200 text-slate-600",children:"Cancel"}),i.jsx("button",{onClick:st,disabled:Q.trim()!==t.name||M,className:"flex-1 py-2 rounded-xl bg-red-600 text-white disabled:opacity-60",children:M?"Deleting...":"Delete"})]})]})})]})},Uh=({children:n,className:e=""})=>i.jsx("div",{className:`bg-white rounded-2xl border border-slate-100 shadow-sm hover:shadow-md transition-shadow p-6 ${e}`,children:n}),nv=({label:n,value:e,hint:t,icon:s,trend:a=0})=>i.jsxs(Uh,{className:"group hover:-translate-y-0.5 hover:shadow-lg transition-all",children:[i.jsxs("div",{className:"flex items-start justify-between gap-3 mb-3",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"text-xs font-medium text-slate-500 uppercase tracking-wide",children:n}),i.jsx("div",{className:"text-3xl md:text-4xl font-bold text-slate-900 mt-2",children:e})]}),i.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center text-white ${a>=0?"bg-gradient-to-br from-emerald-400 to-emerald-600":"bg-gradient-to-br from-amber-400 to-amber-600"}`,children:s})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[t&&i.jsx("div",{className:"text-xs text-slate-500",children:t}),a!==void 0&&i.jsxs("div",{className:`flex items-center gap-1 text-xs font-semibold ${a>=0?"text-emerald-600":"text-[#0B4A82]"}`,children:[a>=0?i.jsx(NT,{size:14}):i.jsx(GP,{size:14}),Math.abs(a),"%"]})]}),i.jsx("div",{className:"mt-3 h-1 bg-gradient-to-r from-slate-100 via-slate-200 to-slate-100 rounded-full opacity-50"})]}),_1=({icon:n,title:e,count:t,description:s,accentColor:a})=>i.jsx(Uh,{className:`border-l-4 ${a} group hover:shadow-lg transition-all`,children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center text-white ${a.replace("border","bg")}`,children:n}),i.jsx("h3",{className:"font-semibold text-slate-800",children:e})]}),i.jsx("div",{className:"text-3xl font-bold text-slate-900 mb-1",children:t}),i.jsx("p",{className:"text-sm text-slate-600",children:s})]}),i.jsx("button",{className:"p-2 rounded-lg hover:bg-slate-50 transition",children:i.jsx(ET,{size:18,className:"text-slate-400"})})]})}),Qf=({className:n="h-6 bg-gradient-to-r from-slate-100 via-slate-50 to-slate-100 rounded animate-pulse"})=>i.jsx("div",{className:n}),_N=({icon:n,title:e,description:t,action:s})=>i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"flex justify-center mb-4",children:n}),i.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-2",children:e}),i.jsx("p",{className:"text-sm text-slate-600 mb-6",children:t}),s&&i.jsx("button",{onClick:s.onClick,className:"inline-flex items-center gap-2 px-4 py-2 bg-[#0B4A82] text-white rounded-lg hover:bg-[#0B4A82] transition-colors text-sm font-medium",children:s.label})]}),c_=()=>{const{user:n}=$o(),[e,t]=ee.useState([]),[s,a]=ee.useState([]),[o,c]=ee.useState([]),[h,u]=ee.useState(!1),[f,A]=ee.useState(""),[m,v]=ee.useState(""),[g,b]=ee.useState(""),[S,N]=ee.useState("inactive"),[E,I]=ee.useState(null),[F,D]=ee.useState({summary:{},perSchool:{}}),P=ee.useCallback(async()=>{u(!0);try{const J=Wn(Et,"schools"),se=(await es(J)).docs.map(pe=>({id:pe.id,...pe.data()}));t(se);const he=Wn(Et,"activity_logs"),je=Zn(he,ob("createdAt","desc"),pu(20)),V=(await es(je)).docs.map(pe=>({id:pe.id,...pe.data()}));a(V);const W=Wn(Et,"payments"),ae=Zn(W,ob("createdAt","desc"),pu(200)),Ae=(await es(ae)).docs.map(pe=>({id:pe.id,...pe.data()}));c(Ae),I(new Date)}catch(J){console.error(J)}finally{u(!1)}},[]);ee.useEffect(()=>{if(!e.length)return;(async()=>{try{const re=new Date,he=(Se=>{const xe=Se.getFullYear(),Ie=String(Se.getMonth()+1).padStart(2,"0"),_e=String(Se.getDate()).padStart(2,"0");return`${xe}-${Ie}-${_e}`})(re),je=new Date(re);je.setHours(0,0,0,0);const ne=new Date(re);ne.setHours(23,59,59,999);const V=je.getTime(),W=ne.getTime(),ae=e.length,ce={attendance:{completed:0,total:ae},teacherAttendance:{completed:0,total:ae},assessments:{completed:0,total:ae},timetable:{completed:0,total:ae},notices:{completed:0,total:ae}},Ae={},pe=e.map(async Se=>{const xe=Se.id;if(!xe)return;const[Ie,_e,De,st,He]=await Promise.all([es(Zn(Wn(Et,"attendance"),Zt("schoolId","==",xe),Zt("date","==",he),pu(1))),es(Zn(Wn(Et,"teacher_attendance"),Zt("schoolId","==",xe),Zt("date","==",he),pu(1))),es(Zn(Wn(Et,"admin_notifications"),Zt("schoolId","==",xe),Zt("type","==","assessment"),Zt("createdAt",">=",V),Zt("createdAt","<=",W),pu(1))),es(Zn(Wn(Et,"timetables"),Zt("schoolId","==",xe),Zt("updatedAt",">=",V),Zt("updatedAt","<=",W),pu(1))),es(Zn(Wn(Et,"notices"),Zt("schoolId","==",xe),Zt("createdAt",">=",V),Zt("createdAt","<=",W),pu(1)))]),de={attendance:!Ie.empty,teacherAttendance:!_e.empty,assessments:!De.empty,timetable:!st.empty,notices:!He.empty};Ae[xe]=de,de.attendance&&(ce.attendance.completed+=1),de.teacherAttendance&&(ce.teacherAttendance.completed+=1),de.assessments&&(ce.assessments.completed+=1),de.timetable&&(ce.timetable.completed+=1),de.notices&&(ce.notices.completed+=1)});await Promise.all(pe),D({summary:ce,perSchool:Ae})}catch(re){console.error("Failed to load daily checklist",re)}})()},[e]),ee.useEffect(()=>{P()},[P]);const K=ee.useMemo(()=>{const J=e.length,re=e.filter(W=>W.status==="active").length,se=e.filter(W=>W.status==="inactive").length,he=e.filter(W=>W.plan==="trial").length,je=e.filter(W=>W.plan&&W.plan!=="trial").length,ne=e.filter(W=>W.createdAt?(W.createdAt instanceof nr?W.createdAt.toDate():new Date(W.createdAt))>=new Date(Date.now()-720*60*60*1e3):!1).length,V=new Set(s.filter(W=>W.createdAt?(W.createdAt instanceof nr?W.createdAt.toDate():new Date(W.createdAt))>=new Date(Date.now()-10080*60*1e3):!1).map(W=>W.schoolId)).size;return{total:J,active:re,inactive:se,trial:he,paid:je,newSchools:ne,activeLast7:V}},[e,s]),L=J=>{const re=String(J||"pending").toLowerCase();return["success","paid","active"].includes(re)?"success":["failed","failure","past_due"].includes(re)||["abandoned","cancelled","canceled"].includes(re)?"failed":"pending"},Q=(J,re="GHS")=>new Intl.NumberFormat("en-GH",{style:"currency",currency:re,maximumFractionDigits:2}).format(J),R=ee.useMemo(()=>{const J=new Date,re=[];for(let pe=5;pe>=0;pe-=1){const Se=new Date(J.getFullYear(),J.getMonth()-pe,1),xe=`${Se.getFullYear()}-${String(Se.getMonth()+1).padStart(2,"0")}`,Ie=Se.toLocaleString("en-US",{month:"short"});re.push({key:xe,label:Ie})}const se=Object.fromEntries(re.map(pe=>[pe.key,0])),he=new Date(Date.now()-720*60*60*1e3);let je=0,ne=0,V=0,W=0,ae=0;o.forEach(pe=>{const Se=L(pe.status),xe=pe.amount??0,Ie=xe>=100?xe/100:xe,_e=pe.createdAt instanceof nr?pe.createdAt.toDate():new Date(pe.createdAt||0);if(Se==="success"){je+=Ie,ne+=1,_e>=he&&(ae+=Ie);const De=`${_e.getFullYear()}-${String(_e.getMonth()+1).padStart(2,"0")}`;se[De]!==void 0&&(se[De]+=Ie)}Se==="pending"&&(V+=1),Se==="failed"&&(W+=1)});const ce=ne+V+W,Ae=ce?Math.round(ne/ce*100):0;return{paidAmount:je,paidCount:ne,pendingCount:V,failedCount:W,last30Amount:ae,successRate:Ae,monthlySeries:re.map(pe=>({label:pe.label,value:se[pe.key]||0}))}},[o]),M=ee.useMemo(()=>{const J={trial:0,monthly:0,termly:0,yearly:0};return e.forEach(re=>{const se=re.plan||"trial";J[se]=(J[se]||0)+1}),J},[e]),O=e.filter(J=>!(f&&!J.name.toLowerCase().includes(f.toLowerCase())||m&&J.status!==m||g&&J.plan!==g)),H=e.filter(J=>J.status!=="active"),G=e.filter(J=>J.plan==="trial"&&J.planEndsAt).sort((J,re)=>{const se=J.planEndsAt instanceof nr?J.planEndsAt.toDate().getTime():new Date(J.planEndsAt).getTime(),he=re.planEndsAt instanceof nr?re.planEndsAt.toDate().getTime():new Date(re.planEndsAt).getTime();return se-he}),ie=(()=>{const J=new Date(Date.now()-12096e5),re={};return s.forEach(se=>{if(!se.schoolId)return;const he=se.createdAt instanceof nr?se.createdAt.toDate():new Date(se.createdAt);(!re[se.schoolId]||re[se.schoolId]<he)&&(re[se.schoolId]=he)}),e.filter(se=>{const he=re[se.id];return!he||he<J})})(),ge=[{label:"Active",count:K.active,color:"bg-emerald-100 text-emerald-700"},{label:"Trial",count:K.trial,color:"bg-amber-100 text-amber-700"},{label:"Paid",count:K.paid,color:"bg-[#E6F0FA] text-[#0B4A82]"}];return i.jsx("div",{className:"p-6",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsx("div",{className:"mb-8",children:i.jsxs("div",{className:"bg-gradient-to-br from-slate-50 via-white to-slate-50 rounded-3xl border border-slate-100 shadow-sm p-8",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-6",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-emerald-500"}),i.jsx("span",{className:"text-xs font-semibold text-emerald-600 uppercase tracking-widest",children:"System Status"})]}),i.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Super Admin Dashboard"}),i.jsxs("p",{className:"text-slate-600",children:["Manage ",K.total," schools across ",K.active," active organizations"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("button",{onClick:()=>P(),"aria-label":"Refresh dashboard",className:"inline-flex items-center gap-2 px-4 py-2 bg-white border border-slate-200 rounded-lg text-sm font-medium text-slate-700 hover:bg-slate-50 hover:border-slate-300 transition-all focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#1160A8]",children:[i.jsx(og,{size:16,className:"group-hover:rotate-180 transition-transform"}),"Refresh"]}),i.jsxs(wi,{to:"/super-admin/schools",className:"inline-flex items-center gap-2 px-4 py-2 bg-[#0B4A82] text-white rounded-lg text-sm font-medium hover:bg-[#0B4A82] transition-all focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#1160A8]",children:[i.jsx(Op,{size:16}),"View Schools"]})]})]}),i.jsxs("div",{className:"flex flex-wrap gap-3 mt-6 pt-6 border-t border-slate-100",children:[ge.map(J=>i.jsxs("div",{className:`px-3 py-1.5 rounded-full text-xs font-semibold ${J.color}`,children:[J.label,": ",i.jsx("span",{className:"font-bold",children:J.count})]},J.label)),i.jsx("div",{className:"text-xs text-slate-500 flex items-center ml-auto",children:E?`Last updated ${E.toLocaleTimeString()}`:"Not updated yet"})]})]})}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-5 mb-8",children:h?Array.from({length:4}).map((J,re)=>i.jsx("div",{children:i.jsx(Qf,{className:"h-32"})},re)):i.jsxs(i.Fragment,{children:[i.jsx(nv,{label:"Total Schools",value:K.total,hint:"All time",icon:i.jsx(ll,{size:20}),trend:5}),i.jsx(nv,{label:"Active Schools",value:K.active,hint:"Currently active",icon:i.jsx(_A,{size:20}),trend:3}),i.jsx(nv,{label:"Inactive Schools",value:K.inactive,hint:"Needs attention",icon:i.jsx(Ll,{size:20}),trend:-1}),i.jsx(nv,{label:"New Schools",value:K.newSchools,hint:"Last 30 days",icon:i.jsx(Sd,{size:20}),trend:8})]})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[i.jsxs(Uh,{className:"lg:col-span-2",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Billing Analytics"}),i.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Payment performance over the last 6 months"})]}),i.jsxs(wi,{to:"/super-admin/payments",className:"inline-flex items-center gap-2 text-sm font-semibold text-[#0B4A82]",children:["View payments ",i.jsx(ET,{size:16})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[i.jsxs("div",{className:"rounded-2xl border border-emerald-100 bg-emerald-50/50 p-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-xs font-semibold uppercase text-emerald-600",children:"Total Revenue"}),i.jsx("span",{className:"w-8 h-8 rounded-lg bg-emerald-500/90 text-white flex items-center justify-center",children:i.jsx(qP,{size:16})})]}),i.jsx("div",{className:"mt-3 text-2xl font-bold text-slate-900",children:Q(R.paidAmount)}),i.jsxs("p",{className:"text-xs text-emerald-700 mt-2",children:[R.paidCount," successful payments"]})]}),i.jsxs("div",{className:"rounded-2xl border border-amber-100 bg-amber-50/60 p-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-xs font-semibold uppercase text-amber-600",children:"Pending"}),i.jsx("span",{className:"w-8 h-8 rounded-lg bg-amber-500/90 text-white flex items-center justify-center",children:i.jsx(Rd,{size:16})})]}),i.jsx("div",{className:"mt-3 text-2xl font-bold text-slate-900",children:R.pendingCount}),i.jsx("p",{className:"text-xs text-amber-700 mt-2",children:"Awaiting confirmation"})]}),i.jsxs("div",{className:"rounded-2xl border border-rose-100 bg-rose-50/60 p-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-xs font-semibold uppercase text-rose-600",children:"Failed"}),i.jsx("span",{className:"w-8 h-8 rounded-lg bg-rose-500/90 text-white flex items-center justify-center",children:i.jsx(Ll,{size:16})})]}),i.jsx("div",{className:"mt-3 text-2xl font-bold text-slate-900",children:R.failedCount}),i.jsx("p",{className:"text-xs text-rose-700 mt-2",children:"Needs follow-up"})]})]}),i.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-white p-5",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:"Monthly Revenue"}),i.jsx("p",{className:"text-xs text-slate-500",children:"Successful payments per month"})]}),i.jsxs("span",{className:"text-xs font-semibold text-emerald-600",children:["+",R.successRate,"% success rate"]})]}),i.jsx("div",{className:"grid grid-cols-6 gap-3 items-end h-36",children:R.monthlySeries.map(J=>{const re=Math.max(1,...R.monthlySeries.map(he=>he.value)),se=Math.round(J.value/re*100);return i.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i.jsx("div",{className:"w-10 rounded-full bg-gradient-to-t from-[#0B4A82] to-emerald-400 shadow-sm",style:{height:`${se}%`,minHeight:"12%"}}),i.jsx("span",{className:"text-[11px] text-slate-500",children:J.label})]},J.label)})}),i.jsxs("div",{className:"mt-4 flex items-center justify-between text-xs text-slate-500",children:[i.jsxs("span",{children:["Last 30 days: ",Q(R.last30Amount)]}),i.jsxs("span",{className:"inline-flex items-center gap-1",children:[i.jsx(O5,{size:12})," Updated with payments data"]})]})]})]}),i.jsxs(Uh,{children:[i.jsxs("div",{className:"flex items-center justify-between mb-5",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Billing Health"}),i.jsx("p",{className:"text-sm text-slate-600",children:"Current payment status mix"})]}),i.jsx("div",{className:"w-11 h-11 rounded-xl bg-[#E6F0FA] text-[#0B4A82] flex items-center justify-center",children:i.jsx(DT,{size:18})})]}),i.jsx("div",{className:"space-y-4",children:[{label:"Successful",value:R.paidCount,color:"bg-emerald-500"},{label:"Pending",value:R.pendingCount,color:"bg-amber-500"},{label:"Failed",value:R.failedCount,color:"bg-rose-500"}].map(J=>{const re=R.paidCount+R.pendingCount+R.failedCount,se=re?Math.round(J.value/re*100):0;return i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"font-medium text-slate-700",children:J.label}),i.jsxs("span",{className:"text-slate-500",children:[se,"%"]})]}),i.jsx("div",{className:"h-2 rounded-full bg-slate-100 overflow-hidden",children:i.jsx("div",{className:`h-full ${J.color} rounded-full`,style:{width:`${se}%`}})})]},J.label)})}),i.jsxs("div",{className:"mt-6 rounded-2xl bg-slate-50 border border-slate-100 p-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Success rate"}),i.jsxs("p",{className:"text-2xl font-bold text-slate-900",children:[R.successRate,"%"]})]}),i.jsx("div",{className:"w-12 h-12 rounded-full bg-emerald-100 text-emerald-600 flex items-center justify-center",children:i.jsx(Sd,{size:18})})]}),i.jsx("p",{className:"text-xs text-slate-500 mt-3",children:"Track billed revenue and follow up on pending payments."})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-5 mb-8",children:[i.jsx(_1,{icon:i.jsx(Ll,{size:18}),title:"Inactive Schools",count:H.length,description:"Schools requiring attention",accentColor:"border-[#1160A8] bg-[#E6F0FA]"}),i.jsx(_1,{icon:i.jsx(LM,{size:18}),title:"Trials Ending",count:G.length,description:"Trial periods expiring soon",accentColor:"border-amber-400 bg-amber-80"}),i.jsx(_1,{icon:i.jsx(Rd,{size:18}),title:"No Recent Activity",count:ie.length,description:"Last 14 days with no activity",accentColor:"border-slate-400 bg-slate-50"})]}),i.jsxs(Uh,{className:"mb-8",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Plan Distribution"}),i.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:["Plan split across ",K.total," schools"]})]}),e.length===0?i.jsx(_N,{icon:i.jsx(hk,{className:"mx-auto text-slate-300",size:48}),title:"No Plan Data",description:"Create your first school to see plan distribution",action:{label:"Create School",onClick:()=>{}}}):i.jsxs("div",{className:"flex flex-col lg:flex-row gap-8 items-center",children:[i.jsx("div",{className:"w-full lg:w-1/3 flex justify-center",children:i.jsx("div",{className:"w-40 h-40",children:i.jsxs("svg",{viewBox:"0 0 36 36",className:"w-full h-full",style:{transform:"rotate(-90deg)"},children:[i.jsx("circle",{cx:"18",cy:"18",r:"15.915",fill:"none",stroke:"#f1f5f9",strokeWidth:"8"}),i.jsx("circle",{cx:"18",cy:"18",r:"15.915",fill:"none",stroke:"#f97316",strokeWidth:"8",strokeDasharray:`${M.trial/Math.max(1,e.length)*100} 100`}),i.jsx("circle",{cx:"18",cy:"18",r:"15.915",fill:"none",stroke:"#3b82f6",strokeWidth:"8",strokeDasharray:`${M.monthly/Math.max(1,e.length)*100} 100`,style:{strokeDashoffset:`${-(M.trial/Math.max(1,e.length)*100)}`}})]})})}),i.jsx("div",{className:"w-full lg:w-2/3",children:i.jsx("div",{className:"grid grid-cols-2 gap-4",children:[{label:"Trial",value:M.trial,color:"bg-orange-100 border-l-4 border-orange-500"},{label:"Monthly",value:M.monthly,color:"bg-[#E6F0FA] border-l-4 border-[#1160A8]"},{label:"Termly",value:M.termly,color:"bg-green-100 border-l-4 border-green-500"},{label:"Yearly",value:M.yearly,color:"bg-purple-100 border-l-4 border-purple-500"}].map(J=>i.jsxs("div",{className:`${J.color} rounded-lg p-4`,children:[i.jsx("div",{className:"text-2xl font-bold text-slate-900",children:J.value}),i.jsxs("div",{className:"text-xs text-slate-600 mt-1",children:[J.label," Plan"]})]},J.label))})})]})]}),i.jsxs(Uh,{className:"mb-8",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Schools Directory"}),i.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:[O.length," of ",e.length," schools"]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 items-stretch sm:items-center",children:[i.jsxs("div",{className:"relative flex-1 sm:flex-none",children:[i.jsx(cb,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:16}),i.jsx("input",{value:f,onChange:J=>A(J.target.value),placeholder:"Search schools...",className:"w-full pl-10 pr-4 py-2 rounded-lg border border-slate-200 bg-white text-sm focus:outline-none focus:ring-2 focus:ring-offset-0 focus:ring-[#1160A8] transition-all","aria-label":"Search schools"})]}),i.jsxs("select",{value:m,onChange:J=>v(J.target.value),className:"px-3 py-2 text-sm border border-slate-200 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-[#1160A8]",children:[i.jsx("option",{value:"",children:"All Status"}),i.jsx("option",{value:"active",children:"Active"}),i.jsx("option",{value:"inactive",children:"Inactive"})]}),i.jsxs("select",{value:g,onChange:J=>b(J.target.value),className:"px-3 py-2 text-sm border border-slate-200 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-[#1160A8]",children:[i.jsx("option",{value:"",children:"All Plans"}),i.jsx("option",{value:"trial",children:"Trial"}),i.jsx("option",{value:"monthly",children:"Monthly"}),i.jsx("option",{value:"termly",children:"Termly"}),i.jsx("option",{value:"yearly",children:"Yearly"})]})]})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-slate-100",children:[i.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"School"}),i.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"Status"}),i.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"Plan"}),i.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"Created"}),i.jsx("th",{className:"text-right py-3 px-4 font-semibold text-slate-700",children:"Action"})]})}),i.jsx("tbody",{children:h?Array.from({length:5}).map((J,re)=>i.jsxs("tr",{className:"border-b border-slate-100",children:[i.jsx("td",{className:"py-4 px-4",children:i.jsx(Qf,{className:"h-4 w-32"})}),i.jsx("td",{className:"py-4 px-4",children:i.jsx(Qf,{className:"h-4 w-16"})}),i.jsx("td",{className:"py-4 px-4",children:i.jsx(Qf,{className:"h-4 w-20"})}),i.jsx("td",{className:"py-4 px-4",children:i.jsx(Qf,{className:"h-4 w-24"})}),i.jsx("td",{className:"py-4 px-4 text-right",children:i.jsx(Qf,{className:"h-8 w-16 ml-auto"})})]},re)):O.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:5,className:"py-12 px-4",children:i.jsx(_N,{icon:i.jsx(cb,{className:"text-slate-300 mx-auto",size:40}),title:"No schools found",description:"Try adjusting your filters or search criteria"})})}):O.map((J,re)=>i.jsxs("tr",{className:`border-b border-slate-100 hover:bg-slate-50 transition-colors ${re%2===0?"bg-white":"bg-slate-50/30"}`,children:[i.jsx("td",{className:"py-4 px-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-slate-100 to-slate-200 flex items-center justify-center text-slate-600 overflow-hidden font-semibold flex-shrink-0",children:J.logoUrl?i.jsx("img",{src:J.logoUrl,alt:J.name,className:"w-full h-full object-cover"}):J.name.charAt(0).toUpperCase()}),i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold text-slate-900",children:J.name}),i.jsx("div",{className:"text-xs text-slate-500",children:J.code||""})]})]})}),i.jsx("td",{className:"py-4 px-4",children:i.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold ${J.status==="active"?"bg-emerald-100 text-emerald-700":"bg-[#E6F0FA] text-[#0B4A82]"}`,children:J.status==="active"?"Active":"Inactive"})}),i.jsx("td",{className:"py-4 px-4",children:i.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold bg-slate-100 text-slate-700 capitalize",children:J.plan})}),i.jsx("td",{className:"py-4 px-4 text-slate-600",children:J.createdAt?J.createdAt instanceof nr?J.createdAt.toDate().toLocaleDateString():new Date(J.createdAt).toLocaleDateString():""}),i.jsx("td",{className:"py-4 px-4 text-right",children:i.jsxs(wi,{to:`/super-admin/schools/${J.id}`,className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-semibold bg-[#0B4A82] text-white hover:bg-[#0B4A82] transition-colors",children:[i.jsx(Xd,{size:14})," View"]})})]},J.id))})]})}),O.length>0&&i.jsxs("div",{className:"flex items-center justify-between mt-6 pt-6 border-t border-slate-100",children:[i.jsxs("div",{className:"text-xs text-slate-600",children:["Showing 1 to ",Math.min(10,O.length)," of"," ",O.length]}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx("button",{className:"px-3 py-1 rounded-lg border border-slate-200 text-sm font-medium text-slate-700 hover:bg-slate-50 disabled:opacity-50",children:" Previous"}),i.jsx("button",{className:"px-3 py-1 rounded-lg border border-slate-200 text-sm font-medium text-slate-700 hover:bg-slate-50 disabled:opacity-50",children:"Next "})]})]})]}),i.jsxs(Uh,{className:"bg-gradient-to-br from-white via-slate-50 to-white border border-slate-100",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4 mb-6",children:[i.jsx("div",{children:i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("div",{className:"w-10 h-10 rounded-2xl bg-[#E6F0FA] text-[#0B4A82] flex items-center justify-center",children:i.jsx(O5,{size:20})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Daily Operations Checklist"}),i.jsx("p",{className:"text-sm text-slate-600",children:"Track routine school actions completed each day"})]})]})}),i.jsxs("div",{className:"flex items-center gap-3 text-xs text-slate-500",children:[i.jsx("span",{className:"px-3 py-1 rounded-full border border-slate-200 bg-white",children:"Live today"}),i.jsxs("span",{className:"px-3 py-1 rounded-full border border-slate-200 bg-white",children:[e.length," schools"]})]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{key:"attendance",title:"Attendance submitted",description:"Daily student attendance recorded by classes.",gradient:"from-emerald-500/15 to-emerald-500/5",accent:"text-emerald-600",bar:"bg-emerald-500"},{key:"teacherAttendance",title:"Teacher attendance completed",description:"Staff attendance confirmed for the day.",gradient:"from-blue-500/15 to-blue-500/5",accent:"text-blue-600",bar:"bg-blue-500"},{key:"timetable",title:"Lesson plans logged",description:"Timetable updated today to reflect lessons.",gradient:"from-violet-500/15 to-violet-500/5",accent:"text-violet-600",bar:"bg-violet-500"},{key:"assessments",title:"Assessments graded",description:"Class assessments scored and saved.",gradient:"from-amber-500/15 to-amber-500/5",accent:"text-amber-600",bar:"bg-amber-500"},{key:"notices",title:"Notices posted",description:"Daily notices shared to staff and students.",gradient:"from-slate-500/15 to-slate-500/5",accent:"text-slate-600",bar:"bg-slate-500"}].map(J=>{const re=F.summary[J.key],se=re?Math.round(re.completed/Math.max(1,re.total)*100):0,he=(re==null?void 0:re.completed)??0,je=(re==null?void 0:re.total)??0;return i.jsxs("div",{className:`rounded-2xl border border-slate-100 bg-gradient-to-br ${J.gradient} p-4 shadow-sm hover:shadow-md transition-shadow`,children:[i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:`mt-1 ${J.accent}`,children:i.jsx(_A,{size:18})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-slate-900",children:J.title}),i.jsx("p",{className:"text-xs text-slate-500 mt-1",children:J.description})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:`text-lg font-bold ${J.accent}`,children:[se,"%"]}),i.jsxs("div",{className:"text-[10px] text-slate-500",children:[he,"/",je," schools"]})]})]}),i.jsx("div",{className:"mt-4",children:i.jsx("div",{className:"h-2 w-full rounded-full bg-white/70 border border-white/60 overflow-hidden",children:i.jsx("div",{className:`h-full ${J.bar} transition-all`,style:{width:`${se}%`}})})})]},J.title)})}),i.jsxs("div",{className:"mt-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-base font-semibold text-slate-900",children:"School Activity Status"}),i.jsx("span",{className:"text-xs text-slate-500",children:"Live today per school"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:e.map(J=>{const re=F.perSchool[J.id]||{attendance:!1,teacherAttendance:!1,assessments:!1,timetable:!1,notices:!1},se=[{label:"Attendance",value:re.attendance},{label:"Teacher Attendance",value:re.teacherAttendance},{label:"Assessments",value:re.assessments},{label:"Timetable",value:re.timetable},{label:"Notices",value:re.notices}],he=se.filter(je=>je.value).length;return i.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-white p-5 shadow-sm hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-500",children:"School"}),i.jsx("p",{className:"text-lg font-semibold text-slate-900",children:J.name}),i.jsx("p",{className:"text-xs text-slate-400",children:J.code})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Completion"}),i.jsxs("p",{className:"text-lg font-bold text-emerald-600",children:[he,"/",se.length]})]})]}),i.jsx("div",{className:"mt-4 grid grid-cols-2 gap-2 text-xs",children:se.map(je=>i.jsxs("div",{className:`flex items-center justify-between rounded-lg border px-2 py-1.5 ${je.value?"border-emerald-200 bg-emerald-50 text-emerald-700":"border-slate-200 bg-slate-50 text-slate-500"}`,children:[i.jsx("span",{children:je.label}),i.jsx("span",{className:"font-semibold",children:je.value?"Done":"Pending"})]},je.label))})]},J.id)})})]})]})]})})},FY=()=>{var se,he,je,ne;const[n,e]=ee.useState([]),[t,s]=ee.useState([]),[a,o]=ee.useState(!0),[c,h]=ee.useState(null),[u,f]=ee.useState(""),[A,m]=ee.useState(""),[v,g]=ee.useState(""),[b,S]=ee.useState(""),[N,E]=ee.useState(null),[I,F]=ee.useState(!1),[D,P]=ee.useState(null),[K,L]=ee.useState(!1),Q=ee.useMemo(()=>n.reduce((V,W)=>(V[W.id]=W,V),{}),[n]),R=ee.useMemo(()=>{var xe;if(!((xe=N==null?void 0:N.data)!=null&&xe.students))return[];const V=N.data.students||[],W=N.data.attendanceRecords||[],ae=N.data.assessments||[],ce=N.data.studentRemarks||[],Ae=W.reduce((Ie,_e)=>(Ie[_e.classId]||(Ie[_e.classId]=[]),Ie[_e.classId].push(_e),Ie),{}),pe=ae.reduce((Ie,_e)=>{const De=typeof _e.total=="number"?_e.total:nc(_e);return Ie[_e.studentId]||(Ie[_e.studentId]={total:0,count:0}),Ie[_e.studentId].total+=De,Ie[_e.studentId].count+=1,Ie},{}),Se=ce.reduce((Ie,_e)=>{const De=Ie[_e.studentId];if(!De)return Ie[_e.studentId]=_e,Ie;const st=new Date(De.dateCreated).getTime();return new Date(_e.dateCreated).getTime()>=st&&(Ie[_e.studentId]=_e),Ie},{});return V.map(Ie=>{var vt;const _e=Ae[Ie.classId]||[],De=_e.filter(qe=>{var We;return(We=qe.presentStudentIds)==null?void 0:We.includes(Ie.id)}).length,st=_e.length,He=st?`${Math.round(De/st*100)}%`:"-",de=pe[Ie.id],rt=de!=null&&de.count?(de.total/de.count).toFixed(1):"-",_t=((vt=Se[Ie.id])==null?void 0:vt.remark)||"N/A";return{student:Ie,presentDays:De,totalDays:st,attendanceRate:He,avgScore:rt,remark:_t}})},[N]),M=V=>{if(!V)return"CLASS";const W=Un.find(ae=>ae.id===V);return W&&W.level?W.level:V.startsWith("c_n")?"NURSERY":V.startsWith("c_kg")?"KG":V.startsWith("c_p")?"PRIMARY":V.startsWith("c_jhs")?"JHS":"CLASS"},O=u&&Q[u]?Q[u].name:"All Schools",H=async()=>{const W=(await es(Wn(Et,"schools"))).docs.map(ae=>({id:ae.id,...ae.data()}));e(W)},G=async()=>{o(!0),h(null);try{const V=[];if(u&&V.push(Zt("schoolId","==",u)),A&&V.push(Zt("term","==",A)),v&&V.push(Zt("academicYear","==",v)),b){const pe=new Date(b).getTime(),Se=pe+1440*60*1e3-1;V.push(Zt("timestamp",">=",pe)),V.push(Zt("timestamp","<=",Se))}const W=Wn(Et,"backups"),ae=V.length>0?Zn(W,...V):W,Ae=(await es(ae)).docs.map(pe=>pe.data());Ae.sort((pe,Se)=>(Se.timestamp||0)-(pe.timestamp||0)),s(Ae)}catch(V){console.error("Error fetching backups:",V),h("Failed to fetch backups."),Mt("Failed to fetch backups.",{type:"error"})}finally{o(!1)}},ie=async V=>{try{const W=await ju(Vn(Et,"backups",V));if(!W.exists()){Mt("Backup details not found.",{type:"error"});return}E(W.data()),F(!0)}catch(W){console.error("Error fetching backup details:",W),Mt("Failed to fetch backup details.",{type:"error"})}},ge=async V=>{try{const W=await ju(Vn(Et,"backups",V));if(!W.exists()){Mt("No data available to download.",{type:"error"});return}const ae=W.data();if(!ae.data){Mt("No data available to download.",{type:"error"});return}const ce=`backup_${ae.academicYear.replace("-","")}_${ae.term.replace(" ","")}_${ae.timestamp}.json`,Ae=JSON.stringify(ae.data,null,2),pe=new Blob([Ae],{type:"application/json"}),Se=URL.createObjectURL(pe),xe=document.createElement("a");xe.href=Se,xe.download=ce,document.body.appendChild(xe),xe.click(),document.body.removeChild(xe),URL.revokeObjectURL(Se),Mt("Backup downloaded successfully!",{type:"success"})}catch(W){console.error("Error downloading backup:",W),Mt("Failed to download backup.",{type:"error"})}},J=async()=>{if(D)try{await yi(Vn(Et,"backups",D)),Mt("Backup deleted successfully!",{type:"success"}),L(!1),P(null),await G()}catch(V){console.error("Error deleting backup:",V),Mt("Failed to delete backup.",{type:"error"})}};ee.useEffect(()=>{H()},[]),ee.useEffect(()=>{G()},[u,A,v,b]);const re=V=>V?V.length:"-";return i.jsxs(Xs,{title:"Backups Overview",children:[i.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[i.jsxs("div",{className:"relative overflow-hidden rounded-2xl border bg-gradient-to-br from-indigo-50 via-white to-emerald-50 p-6 shadow-sm",children:[i.jsx("div",{className:"absolute -top-16 -right-16 h-40 w-40 rounded-full bg-indigo-200/40 blur-3xl"}),i.jsx("div",{className:"absolute -bottom-20 -left-16 h-48 w-48 rounded-full bg-emerald-200/40 blur-3xl"}),i.jsxs("div",{className:"relative flex flex-col gap-2",children:[i.jsxs("h1",{className:"text-3xl font-bold text-slate-900 flex items-center gap-3",children:[i.jsx("span",{className:"h-10 w-10 rounded-2xl bg-indigo-100 text-indigo-700 flex items-center justify-center",children:i.jsx(e2,{size:20})}),"Global Backups"]}),i.jsx("p",{className:"text-sm text-slate-600",children:"View, audit, and manage term backups across all schools."}),i.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-3 text-sm",children:[i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-white/80 px-3 py-1 font-medium text-slate-700 shadow-sm",children:[i.jsx(Op,{className:"h-4 w-4 text-indigo-500"}),O]}),i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-emerald-50 px-3 py-1 font-medium text-emerald-700 shadow-sm",children:[i.jsx(Mh,{className:"h-4 w-4"}),"Backups: ",t.length]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 p-6",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4 text-slate-700 font-semibold",children:[i.jsx(_T,{size:16})," Filters"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"School"}),i.jsxs("select",{value:u,onChange:V=>f(V.target.value),className:"w-full border border-slate-200 p-2.5 rounded-xl bg-white text-slate-800 focus:ring-2 focus:ring-emerald-200 outline-none",children:[i.jsx("option",{value:"",children:"All Schools"}),n.map(V=>i.jsx("option",{value:V.id,children:V.name},V.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Term"}),i.jsxs("select",{value:A,onChange:V=>m(V.target.value),className:"w-full border border-slate-200 p-2.5 rounded-xl bg-white text-slate-800 focus:ring-2 focus:ring-emerald-200 outline-none",children:[i.jsx("option",{value:"",children:"All Terms"}),i.jsx("option",{value:"Term 1",children:"Term 1"}),i.jsx("option",{value:"Term 2",children:"Term 2"}),i.jsx("option",{value:"Term 3",children:"Term 3"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Academic Year"}),i.jsx("input",{type:"text",value:v,onChange:V=>g(V.target.value),placeholder:"e.g. 2024-2025",className:"w-full border border-slate-200 p-2.5 rounded-xl bg-white text-slate-800 focus:ring-2 focus:ring-emerald-200 outline-none"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Date"}),i.jsxs("div",{className:"relative",children:[i.jsx(ol,{className:"absolute left-3 top-3 h-4 w-4 text-slate-400"}),i.jsx("input",{type:"date",value:b,onChange:V=>S(V.target.value),className:"w-full border border-slate-200 pl-10 pr-3 py-2.5 rounded-xl bg-white text-slate-800 focus:ring-2 focus:ring-emerald-200 outline-none"})]})]})]}),i.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[i.jsxs("button",{onClick:G,className:"inline-flex items-center gap-2 rounded-full bg-[#0B4A82] text-white px-4 py-2 text-sm font-semibold hover:bg-[#0B4A82]",children:[i.jsx(FT,{size:16})," Refresh"]}),i.jsx("button",{onClick:()=>{f(""),m(""),g(""),S("")},className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-4 py-2 text-sm text-slate-600 hover:bg-slate-50",children:"Clear Filters"})]})]}),a?i.jsx("div",{className:"text-center py-12 text-slate-500",children:"Loading backups..."}):c?i.jsx("div",{className:"text-center py-12 text-rose-600",children:c}):t.length===0?i.jsx("div",{className:"text-center py-12 text-slate-500",children:"No backups found for the current filters."}):i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:t.map(V=>{var ae,ce,Ae,pe;const W=V.schoolId?((ae=Q[V.schoolId])==null?void 0:ae.name)||V.schoolId:"Unknown School";return i.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-white p-5 shadow-sm",children:[i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-500",children:"School"}),i.jsx("p",{className:"text-lg font-semibold text-slate-900",children:W}),i.jsxs("p",{className:"text-sm text-slate-500",children:[V.term,"  ",V.academicYear]}),i.jsx("p",{className:"text-xs text-slate-400 mt-1",children:V.timestamp?new Date(V.timestamp).toLocaleString():"N/A"})]}),i.jsx(wi,{to:V.schoolId?`/super-admin/schools/${V.schoolId}`:"/super-admin/schools",className:"text-xs font-semibold text-[#1160A8] hover:text-[#0B4A82]",children:"View School"})]}),i.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-3 text-xs text-slate-500",children:[i.jsxs("div",{className:"rounded-xl bg-slate-50 p-3",children:[i.jsx("p",{children:"Students"}),i.jsx("p",{className:"text-sm font-semibold text-slate-800",children:re((ce=V.data)==null?void 0:ce.students)})]}),i.jsxs("div",{className:"rounded-xl bg-slate-50 p-3",children:[i.jsx("p",{children:"Assessments"}),i.jsx("p",{className:"text-sm font-semibold text-slate-800",children:re((Ae=V.data)==null?void 0:Ae.assessments)})]}),i.jsxs("div",{className:"rounded-xl bg-slate-50 p-3",children:[i.jsx("p",{children:"Users"}),i.jsx("p",{className:"text-sm font-semibold text-slate-800",children:re((pe=V.data)==null?void 0:pe.users)})]})]}),i.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-2",children:[i.jsxs("button",{onClick:()=>ie(V.id||""),className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-3 py-1.5 text-xs font-semibold text-slate-700 hover:bg-slate-50",children:[i.jsx(Xd,{size:14})," View"]}),i.jsxs("button",{onClick:()=>ge(V.id||""),className:"inline-flex items-center gap-2 rounded-full border border-emerald-200 bg-emerald-50 px-3 py-1.5 text-xs font-semibold text-emerald-700 hover:bg-emerald-100",children:[i.jsx(Wv,{size:14})," Download"]}),i.jsxs("button",{onClick:()=>{P(V.id||null),L(!0)},className:"inline-flex items-center gap-2 rounded-full border border-rose-200 bg-rose-50 px-3 py-1.5 text-xs font-semibold text-rose-700 hover:bg-rose-100",children:[i.jsx(ic,{size:14})," Delete"]})]})]},V.id)})})]}),I&&N&&i.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto shadow-2xl",children:[i.jsxs("div",{className:"p-5 border-b border-slate-100 flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Backup Details"}),i.jsxs("p",{className:"text-sm text-slate-500",children:[N.term,"  ",N.academicYear]})]}),i.jsx("button",{onClick:()=>F(!1),className:"text-slate-400 hover:text-slate-600",children:""})]}),i.jsxs("div",{className:"p-5 space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[i.jsxs("div",{className:"rounded-xl border border-slate-100 bg-slate-50 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Students"}),i.jsx("p",{className:"text-lg font-semibold text-slate-900",children:re((se=N.data)==null?void 0:se.students)})]}),i.jsxs("div",{className:"rounded-xl border border-slate-100 bg-slate-50 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Assessments"}),i.jsx("p",{className:"text-lg font-semibold text-slate-900",children:re((he=N.data)==null?void 0:he.assessments)})]}),i.jsxs("div",{className:"rounded-xl border border-slate-100 bg-slate-50 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Users"}),i.jsx("p",{className:"text-lg font-semibold text-slate-900",children:re((je=N.data)==null?void 0:je.users)})]})]}),i.jsxs("div",{children:[i.jsxs("h4",{className:"font-bold text-slate-800 mb-3 flex items-center",children:[i.jsx(Mh,{size:18,className:"mr-2 text-[#0B4A82]"}),"Student Performance Snapshot"]}),R.length>0?i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 overflow-hidden",children:[i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm text-left",children:[i.jsx("thead",{className:"bg-slate-50 text-slate-600 font-semibold",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3",children:"Student"}),i.jsx("th",{className:"px-4 py-3",children:"Class"}),i.jsx("th",{className:"px-4 py-3 text-center",children:"Attendance"}),i.jsx("th",{className:"px-4 py-3 text-center",children:"Avg Score"}),i.jsx("th",{className:"px-4 py-3",children:"Remark"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-100",children:R.map(V=>{var W;return i.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[i.jsx("td",{className:"px-4 py-3 font-medium text-slate-800",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs text-white mr-3 shadow-sm ${V.student.gender==="Male"?"bg-amber-400":"bg-[#0B4A82]"}`,children:V.student.name.charAt(0)}),i.jsxs("div",{children:[i.jsx("p",{children:V.student.name}),i.jsx("p",{className:"text-xs text-slate-400",children:V.student.gender})]})]})}),i.jsx("td",{className:"px-4 py-3",children:i.jsx("span",{className:"px-2.5 py-1 rounded-md bg-slate-100 text-slate-600 text-xs font-semibold border border-slate-200",children:((W=Un.find(ae=>ae.id===V.student.classId))==null?void 0:W.name)||V.student.classId})}),i.jsxs("td",{className:"px-4 py-3 text-center",children:[i.jsx("div",{className:"text-sm font-semibold text-slate-700",children:V.attendanceRate}),i.jsxs("div",{className:"text-xs text-slate-400",children:[V.presentDays,"/",V.totalDays," days"]})]}),i.jsx("td",{className:"px-4 py-3 text-center font-semibold text-slate-700",children:V.avgScore}),i.jsx("td",{className:"px-4 py-3 text-slate-600",children:V.remark})]},V.student.id)})})]})}),i.jsxs("div",{className:"px-4 py-3 bg-slate-50 border-t border-slate-100 text-xs text-slate-500",children:["Total: ",R.length," student",R.length!==1?"s":""]})]}):i.jsxs("div",{className:"text-center py-8 text-slate-500 bg-slate-50 rounded-xl border border-slate-100",children:[i.jsx(Mh,{size:32,className:"mx-auto mb-2 text-slate-300"}),i.jsx("p",{children:"No student records in this backup."})]})]}),((ne=N.data)==null?void 0:ne.classSubjects)&&N.data.classSubjects.length>0&&i.jsxs("div",{children:[i.jsxs("h4",{className:"font-bold text-slate-800 mb-3 flex items-center",children:[i.jsx(Am,{size:18,className:"mr-2 text-amber-600"}),"Classes & Subjects"]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:N.data.classSubjects.map((V,W)=>{var Ae,pe;const ae=Un.find(Se=>Se.id===V.classId),ce=M(V.classId);return i.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-white rounded-xl p-4 border border-amber-200 hover:shadow-lg transition-shadow",children:[i.jsxs("div",{className:"text-center mb-3 pb-3 border-b border-amber-200",children:[i.jsx("p",{className:"text-xs font-bold text-amber-600 uppercase tracking-wider mb-1",children:ce}),i.jsx("p",{className:"text-2xl font-extrabold text-slate-800",children:(ae==null?void 0:ae.name)||V.classId})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wide mb-2",children:"Subjects"}),i.jsx("div",{className:"flex flex-wrap gap-1",children:V.subjects&&V.subjects.length>0?V.subjects.map((Se,xe)=>i.jsx("span",{className:"px-2 py-1 bg-white border border-slate-200 text-slate-700 text-xs rounded-md shadow-sm",children:Se},xe)):i.jsx("span",{className:"text-xs text-slate-400 italic",children:"No subjects"})}),i.jsxs("p",{className:"text-xs text-slate-500 mt-2 font-medium",children:[((Ae=V.subjects)==null?void 0:Ae.length)||0," subject",((pe=V.subjects)==null?void 0:pe.length)!==1?"s":""]})]})]},W)})})]}),i.jsx("div",{className:"flex justify-end gap-2",children:i.jsxs("button",{onClick:()=>ge(N.id),className:"inline-flex items-center gap-2 rounded-full border border-emerald-200 bg-emerald-50 px-4 py-2 text-sm font-semibold text-emerald-700 hover:bg-emerald-100",children:[i.jsx(Wv,{size:16})," Download JSON"]})})]})]})}),K&&D&&i.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-sm p-6 shadow-2xl",children:[i.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"Delete Backup"}),i.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Are you sure you want to delete this backup? This action cannot be undone."}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx("button",{onClick:()=>L(!1),className:"px-4 py-2 rounded-full border border-slate-200 text-slate-600",children:"Cancel"}),i.jsx("button",{onClick:J,className:"px-4 py-2 rounded-full bg-rose-600 text-white",children:"Delete"})]})]})})]})},UY=n=>{if(!n)return"-";if(n instanceof nr)return n.toDate().toLocaleString();if(typeof n=="number")return new Date(n).toLocaleString();const e=new Date(n);return Number.isNaN(e.getTime())?"-":e.toLocaleString()},RY=(n,e="GHS")=>{if(!n&&n!==0)return"-";const t=n>=100?n/100:n;return new Intl.NumberFormat("en-GH",{style:"currency",currency:e}).format(t)},FN=n=>{const e=(n||"pending").toLowerCase();return["success","paid","active"].includes(e)?{label:"Paid",className:"bg-emerald-50 text-emerald-700"}:["failed","failure","past_due"].includes(e)?{label:"Failed",className:"bg-rose-50 text-rose-700"}:["abandoned","cancelled","canceled"].includes(e)?{label:"Cancelled",className:"bg-slate-100 text-slate-600"}:{label:"Pending",className:"bg-amber-50 text-amber-700"}},DY=()=>{const[n,e]=ee.useState([]),[t,s]=ee.useState(!1),[a,o]=ee.useState(""),c=async()=>{s(!0);try{const u=Wn(Et,"payments"),f=Zn(u,ob("createdAt","desc")),m=(await es(f)).docs.map(v=>({id:v.id,...v.data()}));e(m)}catch(u){console.error("Failed to load payments",u),Mt("Failed to load payment data.",{type:"error"})}finally{s(!1)}};ee.useEffect(()=>{c()},[]);const h=ee.useMemo(()=>{const u=a.trim().toLowerCase();return u?n.filter(f=>[f.schoolName,f.schoolId,f.adminEmail,f.status,f.reference,f.currency].filter(Boolean).join(" ").toLowerCase().includes(u)):n},[n,a]);return i.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[i.jsx("div",{className:"bg-white rounded-2xl border border-slate-100 p-6 shadow-sm",children:i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Payments"}),i.jsx("p",{className:"text-sm text-slate-500",children:"View all school admin payments in one place."})]}),i.jsxs("button",{onClick:c,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-slate-200 text-slate-600 hover:bg-slate-50",disabled:t,children:[i.jsx(og,{size:16,className:t?"animate-spin":""}),"Refresh"]})]})}),i.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 p-6 shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(cb,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),i.jsx("input",{value:a,onChange:u=>o(u.target.value),placeholder:"Search by school, email, status, reference",className:"w-full rounded-xl border border-slate-200 bg-white pl-10 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[#0B4A82]/20"})]}),i.jsxs("span",{className:"text-xs text-slate-400",children:[h.length," records"]})]}),i.jsxs("div",{className:"overflow-x-auto",children:[i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"text-left text-slate-500 border-b border-slate-100",children:[i.jsx("th",{className:"py-3 pr-4",children:"School"}),i.jsx("th",{className:"py-3 pr-4",children:"Admin Email"}),i.jsx("th",{className:"py-3 pr-4",children:"Amount"}),i.jsx("th",{className:"py-3 pr-4",children:"Currency"}),i.jsx("th",{className:"py-3 pr-4",children:"Status"}),i.jsx("th",{className:"py-3 pr-4",children:"Reference"}),i.jsx("th",{className:"py-3",children:"Created"})]})}),i.jsx("tbody",{children:h.map(u=>i.jsxs("tr",{className:"border-b border-slate-100",children:[i.jsxs("td",{className:"py-3 pr-4",children:[i.jsx("div",{className:"font-medium text-slate-800",children:u.schoolName||"-"}),i.jsx("div",{className:"text-xs text-slate-400",children:u.schoolId||""})]}),i.jsx("td",{className:"py-3 pr-4 text-slate-600",children:u.adminEmail||"-"}),i.jsx("td",{className:"py-3 pr-4 text-slate-700",children:RY(u.amount,u.currency)}),i.jsx("td",{className:"py-3 pr-4 text-slate-600",children:u.currency||"GHS"}),i.jsx("td",{className:"py-3 pr-4",children:i.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-0.5 text-xs font-semibold ${FN(u.status).className}`,children:FN(u.status).label})}),i.jsx("td",{className:"py-3 pr-4 text-slate-500",children:u.reference||"-"}),i.jsx("td",{className:"py-3 text-slate-500",children:UY(u.createdAt)})]},u.id))})]}),!h.length&&!t&&i.jsx("div",{className:"text-center text-sm text-slate-400 py-10",children:"No payments found yet."})]})]})]})},LY=()=>{const{user:n,loading:e,authLoading:t,error:s,logout:a}=$o(),{school:o,schoolLoading:c,schoolError:h}=cc();return t?i.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0B4A82] mb-4"}),i.jsx("p",{className:"text-slate-600",children:"Authenticating..."})]})}):s==="Your account is not set up yet. Please contact your administrator for access."?i.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-lg border border-slate-100 p-8 text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-[#E6F0FA] rounded-full flex items-center justify-center mx-auto mb-6",children:i.jsx("svg",{className:"w-8 h-8 text-[#0B4A82]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),i.jsx("h1",{className:"text-2xl font-bold text-slate-800 mb-4",children:"Account Not Set Up"}),i.jsx("p",{className:"text-slate-600 mb-6",children:"Your account is not set up yet. Please contact your administrator for access to the system."}),i.jsx("button",{onClick:a,className:"px-6 py-2 bg-slate-600 text-white rounded-lg hover:bg-slate-700 transition-colors",children:"Sign Out"})]})}):h&&(n==null?void 0:n.role)!==ms.SUPER_ADMIN?i.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-lg border border-slate-100 p-8 text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-[#E6F0FA] rounded-full flex items-center justify-center mx-auto mb-6",children:i.jsx("svg",{className:"w-8 h-8 text-[#0B4A82]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),i.jsx("h1",{className:"text-2xl font-bold text-slate-800 mb-4",children:"School Access Issue"}),i.jsx("p",{className:"text-slate-600 mb-6",children:h}),i.jsx("button",{onClick:a,className:"px-6 py-2 bg-slate-600 text-white rounded-lg hover:bg-slate-700 transition-colors",children:"Sign Out"})]})}):i.jsx(QM,{children:i.jsx(PY,{})})},QY=()=>i.jsx(QP,{children:i.jsx(OP,{children:i.jsx(Q6,{children:i.jsx(LY,{})})})}),Ha=({children:n,allowedRoles:e})=>{const{user:t,isAuthenticated:s,authLoading:a}=$o();if(a)return i.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0B4A82] mb-4"}),i.jsx("p",{className:"text-slate-600",children:"Authenticating..."})]})});if(!s)return i.jsx(U1,{to:"/login",replace:!0});if(e&&t&&!e.includes(t.role)){const o=t.role===ms.SUPER_ADMIN?"/super-admin/schools":t.role===ms.SCHOOL_ADMIN?"/admin/students":"/teacher";return i.jsx(U1,{to:o,replace:!0})}return n},OY=()=>{const{user:n}=$o();return(n==null?void 0:n.role)===ms.SUPER_ADMIN?i.jsx(Xs,{title:"Super Admin Dashboard",children:i.jsx(c_,{})}):(n==null?void 0:n.role)===ms.SCHOOL_ADMIN?i.jsx(YM,{}):(n==null?void 0:n.role)===ms.TEACHER?i.jsx(A_,{}):i.jsx(U1,{to:"/login"})},PY=()=>i.jsxs(h6,{children:[i.jsx(ja,{path:"/login",element:i.jsx(OM,{})}),i.jsx(ja,{path:"/",element:i.jsx(Ha,{children:i.jsx(OY,{})})}),i.jsx(ja,{path:"/admin/students",element:i.jsx(Ha,{allowedRoles:[ms.SCHOOL_ADMIN],children:i.jsx(WM,{})})}),i.jsx(ja,{path:"/admin/teachers",element:i.jsx(Ha,{allowedRoles:[ms.SCHOOL_ADMIN],children:i.jsx(i7,{})})}),i.jsx(ja,{path:"/admin/attendance",element:i.jsx(Ha,{allowedRoles:[ms.SCHOOL_ADMIN],children:i.jsx(o7,{})})}),i.jsx(ja,{path:"/admin/teacher-attendance",element:i.jsx(Ha,{allowedRoles:[ms.SCHOOL_ADMIN],children:i.jsx(l7,{})})}),i.jsx(ja,{path:"/admin/reports",element:i.jsx(Ha,{allowedRoles:[ms.SCHOOL_ADMIN],children:i.jsx(A7,{})})}),i.jsx(ja,{path:"/admin/report-card",element:i.jsx(Ha,{allowedRoles:[ms.SCHOOL_ADMIN],children:i.jsx(uV,{})})}),i.jsx(ja,{path:"/admin/timetable",element:i.jsx(Ha,{allowedRoles:[ms.SCHOOL_ADMIN],children:i.jsx(VV,{})})}),i.jsx(ja,{path:"/admin/settings",element:i.jsx(Ha,{allowedRoles:[ms.SCHOOL_ADMIN],children:i.jsx(kV,{})})}),i.jsx(ja,{path:"/admin/backups",element:i.jsx(Ha,{allowedRoles:[ms.SCHOOL_ADMIN],children:i.jsx(HV,{})})}),i.jsx(ja,{path:"/admin/billing",element:i.jsx(Ha,{allowedRoles:[ms.SCHOOL_ADMIN],children:i.jsx(KV,{})})}),i.jsx(ja,{path:"/super-admin/schools",element:i.jsx(Ha,{allowedRoles:[ms.SUPER_ADMIN],children:i.jsx(IY,{})})}),i.jsx(ja,{path:"/super-admin/dashboard",element:i.jsx(Ha,{allowedRoles:[ms.SUPER_ADMIN],children:i.jsx(Xs,{title:"Super Admin Dashboard",children:i.jsx(c_,{})})})}),i.jsx(ja,{path:"/super-admin/schools/:schoolId",element:i.jsx(Ha,{allowedRoles:[ms.SUPER_ADMIN],children:i.jsx(_Y,{})})}),i.jsx(ja,{path:"/super-admin/backups",element:i.jsx(Ha,{allowedRoles:[ms.SUPER_ADMIN],children:i.jsx(FY,{})})}),i.jsx(ja,{path:"/super-admin/payments",element:i.jsx(Ha,{allowedRoles:[ms.SUPER_ADMIN],children:i.jsx(Xs,{title:"Payments",children:i.jsx(DY,{})})})}),i.jsx(ja,{path:"/teacher",element:i.jsx(Ha,{allowedRoles:[ms.TEACHER],children:i.jsx(A_,{})})}),i.jsx(ja,{path:"/teacher/attendance",element:i.jsx(Ha,{allowedRoles:[ms.TEACHER],children:i.jsx(BY,{})})}),i.jsx(ja,{path:"/teacher/assessment",element:i.jsx(Ha,{allowedRoles:[ms.TEACHER],children:i.jsx(SY,{})})}),i.jsx(ja,{path:"/teacher/my-attendance",element:i.jsx(Ha,{allowedRoles:[ms.TEACHER],children:i.jsx(CY,{})})}),i.jsx(ja,{path:"/teacher/write-remarks",element:i.jsx(Ha,{allowedRoles:[ms.TEACHER],children:i.jsx(NY,{})})}),i.jsx(ja,{path:"/teacher/edit-skills",element:i.jsx(Ha,{allowedRoles:[ms.TEACHER],children:i.jsx(TY,{})})})]}),u_=document.getElementById("root");if(!u_)throw new Error("Could not find root element to mount to");const kY=mF.createRoot(u_);kY.render(i.jsx($b.StrictMode,{children:i.jsx(QY,{})}));export{Fr as _,Pj as c,zb as g};
