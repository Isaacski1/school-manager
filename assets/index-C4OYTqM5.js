var o6=Object.defineProperty;var l6=(n,e,t)=>e in n?o6(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Hr=(n,e,t)=>l6(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();var Vj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wb(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function A6(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(s){var a=Object.getOwnPropertyDescriptor(n,s);Object.defineProperty(t,s,a.get?a:{enumerable:!0,get:function(){return n[s]}})}),t}var By={exports:{}},gp={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kj;function c6(){if(Kj)return gp;Kj=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:n,type:s,key:c,ref:a!==void 0?a:null,props:o}}return gp.Fragment=e,gp.jsx=t,gp.jsxs=t,gp}var zj;function u6(){return zj||(zj=1,By.exports=c6()),By.exports}var i=u6(),Cy={exports:{}},vs={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gj;function d6(){if(Gj)return vs;Gj=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),v=Symbol.iterator;function g(ne){return ne===null||typeof ne!="object"?null:(ne=v&&ne[v]||ne["@@iterator"],typeof ne=="function"?ne:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,N={};function S(ne,M,W){this.props=ne,this.context=M,this.refs=N,this.updater=W||b}S.prototype.isReactComponent={},S.prototype.setState=function(ne,M){if(typeof ne!="object"&&typeof ne!="function"&&ne!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ne,M,"setState")},S.prototype.forceUpdate=function(ne){this.updater.enqueueForceUpdate(this,ne,"forceUpdate")};function E(){}E.prototype=S.prototype;function _(ne,M,W){this.props=ne,this.context=M,this.refs=N,this.updater=W||b}var R=_.prototype=new E;R.constructor=_,I(R,S.prototype),R.isPureReactComponent=!0;var L=Array.isArray;function H(){}var D={H:null,A:null,T:null,S:null},Q=Object.prototype.hasOwnProperty;function O(ne,M,W){var ae=W.ref;return{$$typeof:n,type:ne,key:M,ref:ae!==void 0?ae:null,props:W}}function $(ne,M){return O(ne.type,M,ne.props)}function P(ne){return typeof ne=="object"&&ne!==null&&ne.$$typeof===n}function V(ne){var M={"=":"=0",":":"=2"};return"$"+ne.replace(/[=:]/g,function(W){return M[W]})}var G=/\/+/g;function ie(ne,M){return typeof ne=="object"&&ne!==null&&ne.key!=null?V(""+ne.key):M.toString(36)}function de(ne){switch(ne.status){case"fulfilled":return ne.value;case"rejected":throw ne.reason;default:switch(typeof ne.status=="string"?ne.then(H,H):(ne.status="pending",ne.then(function(M){ne.status==="pending"&&(ne.status="fulfilled",ne.value=M)},function(M){ne.status==="pending"&&(ne.status="rejected",ne.reason=M)})),ne.status){case"fulfilled":return ne.value;case"rejected":throw ne.reason}}throw ne}function X(ne,M,W,ae,ue){var ce=typeof ne;(ce==="undefined"||ce==="boolean")&&(ne=null);var ge=!1;if(ne===null)ge=!0;else switch(ce){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(ne.$$typeof){case n:case e:ge=!0;break;case A:return ge=ne._init,X(ge(ne._payload),M,W,ae,ue)}}if(ge)return ue=ue(ne),ge=ae===""?"."+ie(ne,0):ae,L(ue)?(W="",ge!=null&&(W=ge.replace(G,"$&/")+"/"),X(ue,M,W,"",function(Ie){return Ie})):ue!=null&&(P(ue)&&(ue=$(ue,W+(ue.key==null||ne&&ne.key===ue.key?"":(""+ue.key).replace(G,"$&/")+"/")+ge)),M.push(ue)),1;ge=0;var Se=ae===""?".":ae+":";if(L(ne))for(var xe=0;xe<ne.length;xe++)ae=ne[xe],ce=Se+ie(ae,xe),ge+=X(ae,M,W,ce,ue);else if(xe=g(ne),typeof xe=="function")for(ne=xe.call(ne),xe=0;!(ae=ne.next()).done;)ae=ae.value,ce=Se+ie(ae,xe++),ge+=X(ae,M,W,ce,ue);else if(ce==="object"){if(typeof ne.then=="function")return X(de(ne),M,W,ae,ue);throw M=String(ne),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(ne).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.")}return ge}function q(ne,M,W){if(ne==null)return ne;var ae=[],ue=0;return X(ne,ae,"","",function(ce){return M.call(W,ce,ue++)}),ae}function Z(ne){if(ne._status===-1){var M=ne._result;M=M(),M.then(function(W){(ne._status===0||ne._status===-1)&&(ne._status=1,ne._result=W)},function(W){(ne._status===0||ne._status===-1)&&(ne._status=2,ne._result=W)}),ne._status===-1&&(ne._status=0,ne._result=M)}if(ne._status===1)return ne._result.default;throw ne._result}var oe=typeof reportError=="function"?reportError:function(ne){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var M=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ne=="object"&&ne!==null&&typeof ne.message=="string"?String(ne.message):String(ne),error:ne});if(!window.dispatchEvent(M))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ne);return}console.error(ne)},ye={map:q,forEach:function(ne,M,W){q(ne,function(){M.apply(this,arguments)},W)},count:function(ne){var M=0;return q(ne,function(){M++}),M},toArray:function(ne){return q(ne,function(M){return M})||[]},only:function(ne){if(!P(ne))throw Error("React.Children.only expected to receive a single React element child.");return ne}};return vs.Activity=m,vs.Children=ye,vs.Component=S,vs.Fragment=t,vs.Profiler=a,vs.PureComponent=_,vs.StrictMode=s,vs.Suspense=u,vs.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,vs.__COMPILER_RUNTIME={__proto__:null,c:function(ne){return D.H.useMemoCache(ne)}},vs.cache=function(ne){return function(){return ne.apply(null,arguments)}},vs.cacheSignal=function(){return null},vs.cloneElement=function(ne,M,W){if(ne==null)throw Error("The argument must be a React element, but you passed "+ne+".");var ae=I({},ne.props),ue=ne.key;if(M!=null)for(ce in M.key!==void 0&&(ue=""+M.key),M)!Q.call(M,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&M.ref===void 0||(ae[ce]=M[ce]);var ce=arguments.length-2;if(ce===1)ae.children=W;else if(1<ce){for(var ge=Array(ce),Se=0;Se<ce;Se++)ge[Se]=arguments[Se+2];ae.children=ge}return O(ne.type,ue,ae)},vs.createContext=function(ne){return ne={$$typeof:c,_currentValue:ne,_currentValue2:ne,_threadCount:0,Provider:null,Consumer:null},ne.Provider=ne,ne.Consumer={$$typeof:o,_context:ne},ne},vs.createElement=function(ne,M,W){var ae,ue={},ce=null;if(M!=null)for(ae in M.key!==void 0&&(ce=""+M.key),M)Q.call(M,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(ue[ae]=M[ae]);var ge=arguments.length-2;if(ge===1)ue.children=W;else if(1<ge){for(var Se=Array(ge),xe=0;xe<ge;xe++)Se[xe]=arguments[xe+2];ue.children=Se}if(ne&&ne.defaultProps)for(ae in ge=ne.defaultProps,ge)ue[ae]===void 0&&(ue[ae]=ge[ae]);return O(ne,ce,ue)},vs.createRef=function(){return{current:null}},vs.forwardRef=function(ne){return{$$typeof:h,render:ne}},vs.isValidElement=P,vs.lazy=function(ne){return{$$typeof:A,_payload:{_status:-1,_result:ne},_init:Z}},vs.memo=function(ne,M){return{$$typeof:f,type:ne,compare:M===void 0?null:M}},vs.startTransition=function(ne){var M=D.T,W={};D.T=W;try{var ae=ne(),ue=D.S;ue!==null&&ue(W,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(H,oe)}catch(ce){oe(ce)}finally{M!==null&&W.types!==null&&(M.types=W.types),D.T=M}},vs.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},vs.use=function(ne){return D.H.use(ne)},vs.useActionState=function(ne,M,W){return D.H.useActionState(ne,M,W)},vs.useCallback=function(ne,M){return D.H.useCallback(ne,M)},vs.useContext=function(ne){return D.H.useContext(ne)},vs.useDebugValue=function(){},vs.useDeferredValue=function(ne,M){return D.H.useDeferredValue(ne,M)},vs.useEffect=function(ne,M){return D.H.useEffect(ne,M)},vs.useEffectEvent=function(ne){return D.H.useEffectEvent(ne)},vs.useId=function(){return D.H.useId()},vs.useImperativeHandle=function(ne,M,W){return D.H.useImperativeHandle(ne,M,W)},vs.useInsertionEffect=function(ne,M){return D.H.useInsertionEffect(ne,M)},vs.useLayoutEffect=function(ne,M){return D.H.useLayoutEffect(ne,M)},vs.useMemo=function(ne,M){return D.H.useMemo(ne,M)},vs.useOptimistic=function(ne,M){return D.H.useOptimistic(ne,M)},vs.useReducer=function(ne,M,W){return D.H.useReducer(ne,M,W)},vs.useRef=function(ne){return D.H.useRef(ne)},vs.useState=function(ne){return D.H.useState(ne)},vs.useSyncExternalStore=function(ne,M,W){return D.H.useSyncExternalStore(ne,M,W)},vs.useTransition=function(){return D.H.useTransition()},vs.version="19.2.3",vs}var $j;function Xb(){return $j||($j=1,Cy.exports=d6()),Cy.exports}var ee=Xb();const Ax=Wb(ee);var Sy={exports:{}},vp={},Ny={exports:{}},Ey={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yj;function h6(){return Yj||(Yj=1,(function(n){function e(X,q){var Z=X.length;X.push(q);e:for(;0<Z;){var oe=Z-1>>>1,ye=X[oe];if(0<a(ye,q))X[oe]=q,X[Z]=ye,Z=oe;else break e}}function t(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var q=X[0],Z=X.pop();if(Z!==q){X[0]=Z;e:for(var oe=0,ye=X.length,ne=ye>>>1;oe<ne;){var M=2*(oe+1)-1,W=X[M],ae=M+1,ue=X[ae];if(0>a(W,Z))ae<ye&&0>a(ue,W)?(X[oe]=ue,X[ae]=Z,oe=ae):(X[oe]=W,X[M]=Z,oe=M);else if(ae<ye&&0>a(ue,Z))X[oe]=ue,X[ae]=Z,oe=ae;else break e}}return q}function a(X,q){var Z=X.sortIndex-q.sortIndex;return Z!==0?Z:X.id-q.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var u=[],f=[],A=1,m=null,v=3,g=!1,b=!1,I=!1,N=!1,S=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function R(X){for(var q=t(f);q!==null;){if(q.callback===null)s(f);else if(q.startTime<=X)s(f),q.sortIndex=q.expirationTime,e(u,q);else break;q=t(f)}}function L(X){if(I=!1,R(X),!b)if(t(u)!==null)b=!0,H||(H=!0,V());else{var q=t(f);q!==null&&de(L,q.startTime-X)}}var H=!1,D=-1,Q=5,O=-1;function $(){return N?!0:!(n.unstable_now()-O<Q)}function P(){if(N=!1,H){var X=n.unstable_now();O=X;var q=!0;try{e:{b=!1,I&&(I=!1,E(D),D=-1),g=!0;var Z=v;try{t:{for(R(X),m=t(u);m!==null&&!(m.expirationTime>X&&$());){var oe=m.callback;if(typeof oe=="function"){m.callback=null,v=m.priorityLevel;var ye=oe(m.expirationTime<=X);if(X=n.unstable_now(),typeof ye=="function"){m.callback=ye,R(X),q=!0;break t}m===t(u)&&s(u),R(X)}else s(u);m=t(u)}if(m!==null)q=!0;else{var ne=t(f);ne!==null&&de(L,ne.startTime-X),q=!1}}break e}finally{m=null,v=Z,g=!1}q=void 0}}finally{q?V():H=!1}}}var V;if(typeof _=="function")V=function(){_(P)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,ie=G.port2;G.port1.onmessage=P,V=function(){ie.postMessage(null)}}else V=function(){S(P,0)};function de(X,q){D=S(function(){X(n.unstable_now())},q)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(X){X.callback=null},n.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<X?Math.floor(1e3/X):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_next=function(X){switch(v){case 1:case 2:case 3:var q=3;break;default:q=v}var Z=v;v=q;try{return X()}finally{v=Z}},n.unstable_requestPaint=function(){N=!0},n.unstable_runWithPriority=function(X,q){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var Z=v;v=X;try{return q()}finally{v=Z}},n.unstable_scheduleCallback=function(X,q,Z){var oe=n.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?oe+Z:oe):Z=oe,X){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=Z+ye,X={id:A++,callback:q,priorityLevel:X,startTime:Z,expirationTime:ye,sortIndex:-1},Z>oe?(X.sortIndex=Z,e(f,X),t(u)===null&&X===t(f)&&(I?(E(D),D=-1):I=!0,de(L,Z-oe))):(X.sortIndex=ye,e(u,X),b||g||(b=!0,H||(H=!0,V()))),X},n.unstable_shouldYield=$,n.unstable_wrapCallback=function(X){var q=v;return function(){var Z=v;v=q;try{return X.apply(this,arguments)}finally{v=Z}}}})(Ey)),Ey}var Wj;function f6(){return Wj||(Wj=1,Ny.exports=h6()),Ny.exports}var Ty={exports:{}},zo={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xj;function m6(){if(Xj)return zo;Xj=1;var n=Xb();function e(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)f+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(u,f,A){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:m==null?null:""+m,children:u,containerInfo:f,implementation:A}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(u,f){if(u==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return zo.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,zo.createPortal=function(u,f){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(u,f,null,A)},zo.flushSync=function(u){var f=c.T,A=s.p;try{if(c.T=null,s.p=2,u)return u()}finally{c.T=f,s.p=A,s.d.f()}},zo.preconnect=function(u,f){typeof u=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,s.d.C(u,f))},zo.prefetchDNS=function(u){typeof u=="string"&&s.d.D(u)},zo.preinit=function(u,f){if(typeof u=="string"&&f&&typeof f.as=="string"){var A=f.as,m=h(A,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,g=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;A==="style"?s.d.S(u,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:v,fetchPriority:g}):A==="script"&&s.d.X(u,{crossOrigin:m,integrity:v,fetchPriority:g,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},zo.preinitModule=function(u,f){if(typeof u=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var A=h(f.as,f.crossOrigin);s.d.M(u,{crossOrigin:A,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&s.d.M(u)},zo.preload=function(u,f){if(typeof u=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var A=f.as,m=h(A,f.crossOrigin);s.d.L(u,A,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},zo.preloadModule=function(u,f){if(typeof u=="string")if(f){var A=h(f.as,f.crossOrigin);s.d.m(u,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:A,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else s.d.m(u)},zo.requestFormReset=function(u){s.d.r(u)},zo.unstable_batchedUpdates=function(u,f){return u(f)},zo.useFormState=function(u,f,A){return c.H.useFormState(u,f,A)},zo.useFormStatus=function(){return c.H.useHostTransitionStatus()},zo.version="19.2.3",zo}var Jj;function p6(){if(Jj)return Ty.exports;Jj=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Ty.exports=m6(),Ty.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qj;function g6(){if(qj)return vp;qj=1;var n=f6(),e=Xb(),t=p6();function s(r){var l="https://react.dev/errors/"+r;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+r+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var l=r,d=r;if(r.alternate)for(;l.return;)l=l.return;else{r=l;do l=r,(l.flags&4098)!==0&&(d=l.return),r=l.return;while(r)}return l.tag===3?d:null}function c(r){if(r.tag===13){var l=r.memoizedState;if(l===null&&(r=r.alternate,r!==null&&(l=r.memoizedState)),l!==null)return l.dehydrated}return null}function h(r){if(r.tag===31){var l=r.memoizedState;if(l===null&&(r=r.alternate,r!==null&&(l=r.memoizedState)),l!==null)return l.dehydrated}return null}function u(r){if(o(r)!==r)throw Error(s(188))}function f(r){var l=r.alternate;if(!l){if(l=o(r),l===null)throw Error(s(188));return l!==r?null:r}for(var d=r,p=l;;){var T=d.return;if(T===null)break;var U=T.alternate;if(U===null){if(p=T.return,p!==null){d=p;continue}break}if(T.child===U.child){for(U=T.child;U;){if(U===d)return u(T),r;if(U===p)return u(T),l;U=U.sibling}throw Error(s(188))}if(d.return!==p.return)d=T,p=U;else{for(var te=!1,ve=T.child;ve;){if(ve===d){te=!0,d=T,p=U;break}if(ve===p){te=!0,p=T,d=U;break}ve=ve.sibling}if(!te){for(ve=U.child;ve;){if(ve===d){te=!0,d=U,p=T;break}if(ve===p){te=!0,p=U,d=T;break}ve=ve.sibling}if(!te)throw Error(s(189))}}if(d.alternate!==p)throw Error(s(190))}if(d.tag!==3)throw Error(s(188));return d.stateNode.current===d?r:l}function A(r){var l=r.tag;if(l===5||l===26||l===27||l===6)return r;for(r=r.child;r!==null;){if(l=A(r),l!==null)return l;r=r.sibling}return null}var m=Object.assign,v=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),_=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),$=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function V(r){return r===null||typeof r!="object"?null:(r=P&&r[P]||r["@@iterator"],typeof r=="function"?r:null)}var G=Symbol.for("react.client.reference");function ie(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===G?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case I:return"Fragment";case S:return"Profiler";case N:return"StrictMode";case L:return"Suspense";case H:return"SuspenseList";case O:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case b:return"Portal";case _:return r.displayName||"Context";case E:return(r._context.displayName||"Context")+".Consumer";case R:var l=r.render;return r=r.displayName,r||(r=l.displayName||l.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case D:return l=r.displayName||null,l!==null?l:ie(r.type)||"Memo";case Q:l=r._payload,r=r._init;try{return ie(r(l))}catch{}}return null}var de=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},oe=[],ye=-1;function ne(r){return{current:r}}function M(r){0>ye||(r.current=oe[ye],oe[ye]=null,ye--)}function W(r,l){ye++,oe[ye]=r.current,r.current=l}var ae=ne(null),ue=ne(null),ce=ne(null),ge=ne(null);function Se(r,l){switch(W(ce,l),W(ue,r),W(ae,null),l.nodeType){case 9:case 11:r=(r=l.documentElement)&&(r=r.namespaceURI)?dj(r):0;break;default:if(r=l.tagName,l=l.namespaceURI)l=dj(l),r=hj(l,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}M(ae),W(ae,r)}function xe(){M(ae),M(ue),M(ce)}function Ie(r){r.memoizedState!==null&&W(ge,r);var l=ae.current,d=hj(l,r.type);l!==d&&(W(ue,r),W(ae,d))}function Ue(r){ue.current===r&&(M(ae),M(ue)),ge.current===r&&(M(ge),hp._currentValue=Z)}var Pe,rt;function Le(r){if(Pe===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);Pe=l&&l[1]||"",rt=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pe+r+rt}var me=!1;function Ze(r,l){if(!r||me)return"";me=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(l){var Nt=function(){throw Error()};if(Object.defineProperty(Nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Nt,[])}catch(it){var st=it}Reflect.construct(r,[],Nt)}else{try{Nt.call()}catch(it){st=it}r.call(Nt.prototype)}}else{try{throw Error()}catch(it){st=it}(Nt=r())&&typeof Nt.catch=="function"&&Nt.catch(function(){})}}catch(it){if(it&&st&&typeof it.stack=="string")return[it.stack,st.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var T=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");T&&T.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var U=p.DetermineComponentFrameRoot(),te=U[0],ve=U[1];if(te&&ve){var Fe=te.split(`
`),tt=ve.split(`
`);for(T=p=0;p<Fe.length&&!Fe[p].includes("DetermineComponentFrameRoot");)p++;for(;T<tt.length&&!tt[T].includes("DetermineComponentFrameRoot");)T++;if(p===Fe.length||T===tt.length)for(p=Fe.length-1,T=tt.length-1;1<=p&&0<=T&&Fe[p]!==tt[T];)T--;for(;1<=p&&0<=T;p--,T--)if(Fe[p]!==tt[T]){if(p!==1||T!==1)do if(p--,T--,0>T||Fe[p]!==tt[T]){var xt=`
`+Fe[p].replace(" at new "," at ");return r.displayName&&xt.includes("<anonymous>")&&(xt=xt.replace("<anonymous>",r.displayName)),xt}while(1<=p&&0<=T);break}}}finally{me=!1,Error.prepareStackTrace=d}return(d=r?r.displayName||r.name:"")?Le(d):""}function pt(r,l){switch(r.tag){case 26:case 27:case 5:return Le(r.type);case 16:return Le("Lazy");case 13:return r.child!==l&&l!==null?Le("Suspense Fallback"):Le("Suspense");case 19:return Le("SuspenseList");case 0:case 15:return Ze(r.type,!1);case 11:return Ze(r.type.render,!1);case 1:return Ze(r.type,!0);case 31:return Le("Activity");default:return""}}function dt(r){try{var l="",d=null;do l+=pt(r,d),d=r,r=r.return;while(r);return l}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var Je=Object.prototype.hasOwnProperty,Ut=n.unstable_scheduleCallback,Rt=n.unstable_cancelCallback,zt=n.unstable_shouldYield,$t=n.unstable_requestPaint,Jt=n.unstable_now,sn=n.unstable_getCurrentPriorityLevel,Ge=n.unstable_ImmediatePriority,Ht=n.unstable_UserBlockingPriority,kt=n.unstable_NormalPriority,Ot=n.unstable_LowPriority,gt=n.unstable_IdlePriority,_t=n.log,Un=n.unstable_setDisableYieldValue,Me=null,ht=null;function Ve(r){if(typeof _t=="function"&&Un(r),ht&&typeof ht.setStrictMode=="function")try{ht.setStrictMode(Me,r)}catch{}}var lt=Math.clz32?Math.clz32:St,At=Math.log,Qt=Math.LN2;function St(r){return r>>>=0,r===0?32:31-(At(r)/Qt|0)|0}var Vt=256,en=262144,jt=4194304;function ct(r){var l=r&42;if(l!==0)return l;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Dt(r,l,d){var p=r.pendingLanes;if(p===0)return 0;var T=0,U=r.suspendedLanes,te=r.pingedLanes;r=r.warmLanes;var ve=p&134217727;return ve!==0?(p=ve&~U,p!==0?T=ct(p):(te&=ve,te!==0?T=ct(te):d||(d=ve&~r,d!==0&&(T=ct(d))))):(ve=p&~U,ve!==0?T=ct(ve):te!==0?T=ct(te):d||(d=p&~r,d!==0&&(T=ct(d)))),T===0?0:l!==0&&l!==T&&(l&U)===0&&(U=T&-T,d=l&-l,U>=d||U===32&&(d&4194048)!==0)?l:T}function Yt(r,l){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&l)===0}function rn(r,l){switch(r){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ts(){var r=jt;return jt<<=1,(jt&62914560)===0&&(jt=4194304),r}function Ms(r){for(var l=[],d=0;31>d;d++)l.push(r);return l}function ln(r,l){r.pendingLanes|=l,l!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function ri(r,l,d,p,T,U){var te=r.pendingLanes;r.pendingLanes=d,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=d,r.entangledLanes&=d,r.errorRecoveryDisabledLanes&=d,r.shellSuspendCounter=0;var ve=r.entanglements,Fe=r.expirationTimes,tt=r.hiddenUpdates;for(d=te&~d;0<d;){var xt=31-lt(d),Nt=1<<xt;ve[xt]=0,Fe[xt]=-1;var st=tt[xt];if(st!==null)for(tt[xt]=null,xt=0;xt<st.length;xt++){var it=st[xt];it!==null&&(it.lane&=-536870913)}d&=~Nt}p!==0&&Ga(r,p,0),U!==0&&T===0&&r.tag!==0&&(r.suspendedLanes|=U&~(te&~l))}function Ga(r,l,d){r.pendingLanes|=l,r.suspendedLanes&=~l;var p=31-lt(l);r.entangledLanes|=l,r.entanglements[p]=r.entanglements[p]|1073741824|d&261930}function Ca(r,l){var d=r.entangledLanes|=l;for(r=r.entanglements;d;){var p=31-lt(d),T=1<<p;T&l|r[p]&l&&(r[p]|=l),d&=~T}}function Xr(r,l){var d=l&-l;return d=(d&42)!==0?1:dn(d),(d&(r.suspendedLanes|l))!==0?0:d}function dn(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Hs(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Cr(){var r=q.p;return r!==0?r:(r=window.event,r===void 0?32:Lj(r.type))}function Ns(r,l){var d=q.p;try{return q.p=r,l()}finally{q.p=d}}var cs=Math.random().toString(36).slice(2),rs="__reactFiber$"+cs,us="__reactProps$"+cs,Rs="__reactContainer$"+cs,fr="__reactEvents$"+cs,pa="__reactListeners$"+cs,Qi="__reactHandles$"+cs,Kr="__reactResources$"+cs,_r="__reactMarker$"+cs;function vi(r){delete r[rs],delete r[us],delete r[fr],delete r[pa],delete r[Qi]}function zr(r){var l=r[rs];if(l)return l;for(var d=r.parentNode;d;){if(l=d[Rs]||d[rs]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(r=yj(r);r!==null;){if(d=r[rs])return d;r=yj(r)}return l}r=d,d=r.parentNode}return null}function Sa(r){if(r=r[rs]||r[Rs]){var l=r.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return r}return null}function _e(r){var l=r.tag;if(l===5||l===26||l===27||l===6)return r.stateNode;throw Error(s(33))}function Et(r){var l=r[Kr];return l||(l=r[Kr]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Ft(r){r[_r]=!0}var Gt=new Set,En={};function vn(r,l){Gn(r,l),Gn(r+"Capture",l)}function Gn(r,l){for(En[r]=l,r=0;r<l.length;r++)Gt.add(l[r])}var as=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zt={},Gs={};function ds(r){return Je.call(Gs,r)?!0:Je.call(Zt,r)?!1:as.test(r)?Gs[r]=!0:(Zt[r]=!0,!1)}function Sn(r,l,d){if(ds(l))if(d===null)r.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":r.removeAttribute(l);return;case"boolean":var p=l.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){r.removeAttribute(l);return}}r.setAttribute(l,""+d)}}function Cs(r,l,d){if(d===null)r.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttribute(l,""+d)}}function is(r,l,d,p){if(p===null)r.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(d);return}r.setAttributeNS(l,d,""+p)}}function Vn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function mr(r){var l=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Ds(r,l,d){var p=Object.getOwnPropertyDescriptor(r.constructor.prototype,l);if(!r.hasOwnProperty(l)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var T=p.get,U=p.set;return Object.defineProperty(r,l,{configurable:!0,get:function(){return T.call(this)},set:function(te){d=""+te,U.call(this,te)}}),Object.defineProperty(r,l,{enumerable:p.enumerable}),{getValue:function(){return d},setValue:function(te){d=""+te},stopTracking:function(){r._valueTracker=null,delete r[l]}}}}function Kn(r){if(!r._valueTracker){var l=mr(r)?"checked":"value";r._valueTracker=Ds(r,l,""+r[l])}}function Oi(r){if(!r)return!1;var l=r._valueTracker;if(!l)return!0;var d=l.getValue(),p="";return r&&(p=mr(r)?r.checked?"true":"false":r.value),r=p,r!==d?(l.setValue(r),!0):!1}function ys(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Ar=/[\n"\\]/g;function Fr(r){return r.replace(Ar,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function sl(r,l,d,p,T,U,te,ve){r.name="",te!=null&&typeof te!="function"&&typeof te!="symbol"&&typeof te!="boolean"?r.type=te:r.removeAttribute("type"),l!=null?te==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+Vn(l)):r.value!==""+Vn(l)&&(r.value=""+Vn(l)):te!=="submit"&&te!=="reset"||r.removeAttribute("value"),l!=null?Ml(r,te,Vn(l)):d!=null?Ml(r,te,Vn(d)):p!=null&&r.removeAttribute("value"),T==null&&U!=null&&(r.defaultChecked=!!U),T!=null&&(r.checked=T&&typeof T!="function"&&typeof T!="symbol"),ve!=null&&typeof ve!="function"&&typeof ve!="symbol"&&typeof ve!="boolean"?r.name=""+Vn(ve):r.removeAttribute("name")}function AA(r,l,d,p,T,U,te,ve){if(U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"&&(r.type=U),l!=null||d!=null){if(!(U!=="submit"&&U!=="reset"||l!=null)){Kn(r);return}d=d!=null?""+Vn(d):"",l=l!=null?""+Vn(l):d,ve||l===r.value||(r.value=l),r.defaultValue=l}p=p??T,p=typeof p!="function"&&typeof p!="symbol"&&!!p,r.checked=ve?r.checked:!!p,r.defaultChecked=!!p,te!=null&&typeof te!="function"&&typeof te!="symbol"&&typeof te!="boolean"&&(r.name=te),Kn(r)}function Ml(r,l,d){l==="number"&&ys(r.ownerDocument)===r||r.defaultValue===""+d||(r.defaultValue=""+d)}function Pa(r,l,d,p){if(r=r.options,l){l={};for(var T=0;T<d.length;T++)l["$"+d[T]]=!0;for(d=0;d<r.length;d++)T=l.hasOwnProperty("$"+r[d].value),r[d].selected!==T&&(r[d].selected=T),T&&p&&(r[d].defaultSelected=!0)}else{for(d=""+Vn(d),l=null,T=0;T<r.length;T++){if(r[T].value===d){r[T].selected=!0,p&&(r[T].defaultSelected=!0);return}l!==null||r[T].disabled||(l=r[T])}l!==null&&(l.selected=!0)}}function Hl(r,l,d){if(l!=null&&(l=""+Vn(l),l!==r.value&&(r.value=l),d==null)){r.defaultValue!==l&&(r.defaultValue=l);return}r.defaultValue=d!=null?""+Vn(d):""}function ao(r,l,d,p){if(l==null){if(p!=null){if(d!=null)throw Error(s(92));if(de(p)){if(1<p.length)throw Error(s(93));p=p[0]}d=p}d==null&&(d=""),l=d}d=Vn(l),r.defaultValue=d,p=r.textContent,p===d&&p!==""&&p!==null&&(r.value=p),Kn(r)}function Ur(r,l){if(l){var d=r.firstChild;if(d&&d===r.lastChild&&d.nodeType===3){d.nodeValue=l;return}}r.textContent=l}var Co=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qi(r,l,d){var p=l.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?p?r.setProperty(l,""):l==="float"?r.cssFloat="":r[l]="":p?r.setProperty(l,d):typeof d!="number"||d===0||Co.has(l)?l==="float"?r.cssFloat=d:r[l]=(""+d).trim():r[l]=d+"px"}function vl(r,l,d){if(l!=null&&typeof l!="object")throw Error(s(62));if(r=r.style,d!=null){for(var p in d)!d.hasOwnProperty(p)||l!=null&&l.hasOwnProperty(p)||(p.indexOf("--")===0?r.setProperty(p,""):p==="float"?r.cssFloat="":r[p]="");for(var T in l)p=l[T],l.hasOwnProperty(T)&&d[T]!==p&&qi(r,T,p)}else for(var U in l)l.hasOwnProperty(U)&&qi(r,U,l[U])}function So(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var io=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ai=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Sr(r){return ai.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function hn(){}var js=null;function ms(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var _s=null,Wt=null;function cn(r){var l=Sa(r);if(l&&(r=l.stateNode)){var d=r[us]||null;e:switch(r=l.stateNode,l.type){case"input":if(sl(r,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),l=d.name,d.type==="radio"&&l!=null){for(d=r;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Fr(""+l)+'"][type="radio"]'),l=0;l<d.length;l++){var p=d[l];if(p!==r&&p.form===r.form){var T=p[us]||null;if(!T)throw Error(s(90));sl(p,T.value,T.defaultValue,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name)}}for(l=0;l<d.length;l++)p=d[l],p.form===r.form&&Oi(p)}break e;case"textarea":Hl(r,d.value,d.defaultValue);break e;case"select":l=d.value,l!=null&&Pa(r,!!d.multiple,l,!1)}}}var sr=!1;function oa(r,l,d){if(sr)return r(l,d);sr=!0;try{var p=r(l);return p}finally{if(sr=!1,(_s!==null||Wt!==null)&&($i(),_s&&(l=_s,r=Wt,Wt=_s=null,cn(l),r)))for(l=0;l<r.length;l++)cn(r[l])}}function Rr(r,l){var d=r.stateNode;if(d===null)return null;var p=d[us]||null;if(p===null)return null;d=p[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(r=r.type,p=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!p;break e;default:r=!1}if(r)return null;if(d&&typeof d!="function")throw Error(s(231,l,typeof d));return d}var Nr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),la=!1;if(Nr)try{var bs={};Object.defineProperty(bs,"passive",{get:function(){la=!0}}),window.addEventListener("test",bs,bs),window.removeEventListener("test",bs,bs)}catch{la=!1}var Jr=null,Aa=null,qr=null;function rl(){if(qr)return qr;var r,l=Aa,d=l.length,p,T="value"in Jr?Jr.value:Jr.textContent,U=T.length;for(r=0;r<d&&l[r]===T[r];r++);var te=d-r;for(p=1;p<=te&&l[d-p]===T[U-p];p++);return qr=T.slice(r,1<p?1-p:void 0)}function $a(r){var l=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&l===13&&(r=13)):r=l,r===10&&(r=13),32<=r||r===13?r:0}function Zi(){return!0}function xi(){return!1}function ca(r){function l(d,p,T,U,te){this._reactName=d,this._targetInst=T,this.type=p,this.nativeEvent=U,this.target=te,this.currentTarget=null;for(var ve in r)r.hasOwnProperty(ve)&&(d=r[ve],this[ve]=d?d(U):U[ve]);return this.isDefaultPrevented=(U.defaultPrevented!=null?U.defaultPrevented:U.returnValue===!1)?Zi:xi,this.isPropagationStopped=xi,this}return m(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Zi)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Zi)},persist:function(){},isPersistent:Zi}),l}var No={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ya=ca(No),xr=m({},No,{view:0,detail:0}),xl=ca(xr),ii,Eo,eo,Vl=m({},xr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ln,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==eo&&(eo&&r.type==="mousemove"?(ii=r.screenX-eo.screenX,Eo=r.screenY-eo.screenY):Eo=ii=0,eo=r),ii)},movementY:function(r){return"movementY"in r?r.movementY:Eo}}),cA=ca(Vl),Wa=m({},Vl,{dataTransfer:0}),Pi=ca(Wa),uA=m({},xr,{relatedTarget:0}),oo=ca(uA),ki=m({},No,{animationName:0,elapsedTime:0,pseudoElement:0}),k=ca(ki),le=m({},No,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Ee=ca(le),Re=m({},No,{data:0}),ze=ca(Re),vt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wn(r){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(r):(r=pn[r])?!!l[r]:!1}function Ln(){return wn}var _n=m({},xr,{key:function(r){if(r.key){var l=vt[r.key]||r.key;if(l!=="Unidentified")return l}return r.type==="keypress"?(r=$a(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Tt[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ln,charCode:function(r){return r.type==="keypress"?$a(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?$a(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Es=ca(_n),Er=m({},Vl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pr=ca(Er),w=m({},xr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ln}),Y=ca(w),re=m({},No,{propertyName:0,elapsedTime:0,pseudoElement:0}),we=ca(re),Ye=m({},Vl,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),nt=ca(Ye),Mt=m({},No,{newState:0,oldState:0}),Jn=ca(Mt),Tr=[9,13,27,32],ps=Nr&&"CompositionEvent"in window,er=null;Nr&&"documentMode"in document&&(er=document.documentMode);var ka=Nr&&"TextEvent"in window&&!er,ga=Nr&&(!ps||er&&8<er&&11>=er),$s=" ",ns=!1;function lo(r,l){switch(r){case"keyup":return Tr.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function To(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var al=!1;function Na(r,l){switch(r){case"compositionend":return To(l);case"keypress":return l.which!==32?null:(ns=!0,$s);case"textInput":return r=l.data,r===$s&&ns?null:r;default:return null}}function Xa(r,l){if(al)return r==="compositionend"||!ps&&lo(r,l)?(r=rl(),qr=Aa=Jr=null,al=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return ga&&l.locale!=="ko"?null:l.data;default:return null}}var fc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Io(r){var l=r&&r.nodeName&&r.nodeName.toLowerCase();return l==="input"?!!fc[r.type]:l==="textarea"}function Ys(r,l,d,p){_s?Wt?Wt.push(p):Wt=[p]:_s=p,l=y0(l,"onChange"),0<l.length&&(d=new Ya("onChange","change",null,d,p),r.push({event:d,listeners:l}))}var _o=null,Dr=null;function QA(r){ij(r,0)}function Ja(r){var l=_e(r);if(Oi(l))return r}function Fo(r,l){if(r==="change")return l}var ws=!1;if(Nr){var yi;if(Nr){var il="oninput"in document;if(!il){var ol=document.createElement("div");ol.setAttribute("oninput","return;"),il=typeof ol.oninput=="function"}yi=il}else yi=!1;ws=yi&&(!document.documentMode||9<document.documentMode)}function yl(){_o&&(_o.detachEvent("onpropertychange",Kl),Dr=_o=null)}function Kl(r){if(r.propertyName==="value"&&Ja(Dr)){var l=[];Ys(l,Dr,r,ms(r)),oa(QA,l)}}function OA(r,l,d){r==="focusin"?(yl(),_o=l,Dr=d,_o.attachEvent("onpropertychange",Kl)):r==="focusout"&&yl()}function ua(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Ja(Dr)}function Mi(r,l){if(r==="click")return Ja(l)}function oi(r,l){if(r==="input"||r==="change")return Ja(l)}function li(r,l){return r===l&&(r!==0||1/r===1/l)||r!==r&&l!==l}var Ls=typeof Object.is=="function"?Object.is:li;function bi(r,l){if(Ls(r,l))return!0;if(typeof r!="object"||r===null||typeof l!="object"||l===null)return!1;var d=Object.keys(r),p=Object.keys(l);if(d.length!==p.length)return!1;for(p=0;p<d.length;p++){var T=d[p];if(!Je.call(l,T)||!Ls(r[T],l[T]))return!1}return!0}function PA(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function kA(r,l){var d=PA(r);r=0;for(var p;d;){if(d.nodeType===3){if(p=r+d.textContent.length,r<=l&&p>=l)return{node:d,offset:l-r};r=p}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=PA(d)}}function ll(r,l){return r&&l?r===l?!0:r&&r.nodeType===3?!1:l&&l.nodeType===3?ll(r,l.parentNode):"contains"in r?r.contains(l):r.compareDocumentPosition?!!(r.compareDocumentPosition(l)&16):!1:!1}function bl(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var l=ys(r.document);l instanceof r.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)r=l.contentWindow;else break;l=ys(r.document)}return l}function wl(r){var l=r&&r.nodeName&&r.nodeName.toLowerCase();return l&&(l==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||l==="textarea"||r.contentEditable==="true")}var Al=Nr&&"documentMode"in document&&11>=document.documentMode,va=null,zl=null,wi=null,Hi=!1;function Ws(r,l,d){var p=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Hi||va==null||va!==ys(p)||(p=va,"selectionStart"in p&&wl(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),wi&&bi(wi,p)||(wi=p,p=y0(zl,"onSelect"),0<p.length&&(l=new Ya("onSelect","select",null,l,d),r.push({event:l,listeners:p}),l.target=va)))}function Vs(r,l){var d={};return d[r.toLowerCase()]=l.toLowerCase(),d["Webkit"+r]="webkit"+l,d["Moz"+r]="moz"+l,d}var Ir={animationend:Vs("Animation","AnimationEnd"),animationiteration:Vs("Animation","AnimationIteration"),animationstart:Vs("Animation","AnimationStart"),transitionrun:Vs("Transition","TransitionRun"),transitionstart:Vs("Transition","TransitionStart"),transitioncancel:Vs("Transition","TransitionCancel"),transitionend:Vs("Transition","TransitionEnd")},tr={},cl={};Nr&&(cl=document.createElement("div").style,"AnimationEvent"in window||(delete Ir.animationend.animation,delete Ir.animationiteration.animation,delete Ir.animationstart.animation),"TransitionEvent"in window||delete Ir.transitionend.transition);function ul(r){if(tr[r])return tr[r];if(!Ir[r])return r;var l=Ir[r],d;for(d in l)if(l.hasOwnProperty(d)&&d in cl)return tr[r]=l[d];return r}var MA=ul("animationend"),dA=ul("animationiteration"),eh=ul("animationstart"),th=ul("transitionrun"),nh=ul("transitionstart"),sh=ul("transitioncancel"),Du=ul("transitionend"),Lu=new Map,hA="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hA.push("scrollEnd");function Ao(r,l){Lu.set(r,l),vn(l,[r])}var mc=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},co=[],jl=0,Qu=0;function eu(){for(var r=jl,l=Qu=jl=0;l<r;){var d=co[l];co[l++]=null;var p=co[l];co[l++]=null;var T=co[l];co[l++]=null;var U=co[l];if(co[l++]=null,p!==null&&T!==null){var te=p.pending;te===null?T.next=T:(T.next=te.next,te.next=T),p.pending=T}U!==0&&tu(d,T,U)}}function HA(r,l,d,p){co[jl++]=r,co[jl++]=l,co[jl++]=d,co[jl++]=p,Qu|=p,r.lanes|=p,r=r.alternate,r!==null&&(r.lanes|=p)}function Ou(r,l,d,p){return HA(r,l,d,p),ji(r)}function Bl(r,l){return HA(r,null,null,l),ji(r)}function tu(r,l,d){r.lanes|=d;var p=r.alternate;p!==null&&(p.lanes|=d);for(var T=!1,U=r.return;U!==null;)U.childLanes|=d,p=U.alternate,p!==null&&(p.childLanes|=d),U.tag===22&&(r=U.stateNode,r===null||r._visibility&1||(T=!0)),r=U,U=U.return;return r.tag===3?(U=r.stateNode,T&&l!==null&&(T=31-lt(d),r=U.hiddenUpdates,p=r[T],p===null?r[T]=[l]:p.push(l),l.lane=d|536870912),U):null}function ji(r){if(50<Is)throw Is=0,ks=null,Error(s(185));for(var l=r.return;l!==null;)r=l,l=r.return;return r.tag===3?r.stateNode:null}var Ai={};function Pu(r,l,d,p){this.tag=r,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bi(r,l,d,p){return new Pu(r,l,d,p)}function Gl(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Uo(r,l){var d=r.alternate;return d===null?(d=Bi(r.tag,l,r.key,r.mode),d.elementType=r.elementType,d.type=r.type,d.stateNode=r.stateNode,d.alternate=r,r.alternate=d):(d.pendingProps=l,d.type=r.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=r.flags&65011712,d.childLanes=r.childLanes,d.lanes=r.lanes,d.child=r.child,d.memoizedProps=r.memoizedProps,d.memoizedState=r.memoizedState,d.updateQueue=r.updateQueue,l=r.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=r.sibling,d.index=r.index,d.ref=r.ref,d.refCleanup=r.refCleanup,d}function nu(r,l){r.flags&=65011714;var d=r.alternate;return d===null?(r.childLanes=0,r.lanes=l,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=d.childLanes,r.lanes=d.lanes,r.child=d.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=d.memoizedProps,r.memoizedState=d.memoizedState,r.updateQueue=d.updateQueue,r.type=d.type,l=d.dependencies,r.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),r}function $l(r,l,d,p,T,U){var te=0;if(p=r,typeof r=="function")Gl(r)&&(te=1);else if(typeof r=="string")te=W_(r,d,ae.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case O:return r=Bi(31,d,l,T),r.elementType=O,r.lanes=U,r;case I:return fA(d.children,T,U,l);case N:te=8,T|=24;break;case S:return r=Bi(12,d,l,T|2),r.elementType=S,r.lanes=U,r;case L:return r=Bi(13,d,l,T),r.elementType=L,r.lanes=U,r;case H:return r=Bi(19,d,l,T),r.elementType=H,r.lanes=U,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case _:te=10;break e;case E:te=9;break e;case R:te=11;break e;case D:te=14;break e;case Q:te=16,p=null;break e}te=29,d=Error(s(130,r===null?"null":typeof r,"")),p=null}return l=Bi(te,d,l,T),l.elementType=r,l.type=p,l.lanes=U,l}function fA(r,l,d,p){return r=Bi(7,r,p,l),r.lanes=d,r}function su(r,l,d){return r=Bi(6,r,null,l),r.lanes=d,r}function ku(r){var l=Bi(18,null,null,0);return l.stateNode=r,l}function pc(r,l,d){return l=Bi(4,r.children!==null?r.children:[],r.key,l),l.lanes=d,l.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},l}var VA=new WeakMap;function Ro(r,l){if(typeof r=="object"&&r!==null){var d=VA.get(r);return d!==void 0?d:(l={value:r,source:l,stack:dt(l)},VA.set(r,l),l)}return{value:r,source:l,stack:dt(l)}}var gc=[],KA=0,Mu=null,mA=0,Do=[],Lo=0,pA=null,Qo=1,Vi="";function uo(r,l){gc[KA++]=mA,gc[KA++]=Mu,Mu=r,mA=l}function cf(r,l,d){Do[Lo++]=Qo,Do[Lo++]=Vi,Do[Lo++]=pA,pA=r;var p=Qo;r=Vi;var T=32-lt(p)-1;p&=~(1<<T),d+=1;var U=32-lt(l)+T;if(30<U){var te=T-T%5;U=(p&(1<<te)-1).toString(32),p>>=te,T-=te,Qo=1<<32-lt(l)+T|d<<T|p,Vi=U+r}else Qo=1<<U|d<<T|p,Vi=r}function rh(r){r.return!==null&&(uo(r,1),cf(r,1,0))}function Hu(r){for(;r===Mu;)Mu=gc[--KA],gc[KA]=null,mA=gc[--KA],gc[KA]=null;for(;r===pA;)pA=Do[--Lo],Do[Lo]=null,Vi=Do[--Lo],Do[Lo]=null,Qo=Do[--Lo],Do[Lo]=null}function uf(r,l){Do[Lo++]=Qo,Do[Lo++]=Vi,Do[Lo++]=pA,Qo=l.id,Vi=l.overflow,pA=r}var ci=null,Lr=null,Fs=!1,Ki=null,da=!1,to=Error(s(519));function gA(r){var l=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Yl(Ro(l,r)),to}function ah(r){var l=r.stateNode,d=r.type,p=r.memoizedProps;switch(l[rs]=r,l[us]=p,d){case"dialog":zs("cancel",l),zs("close",l);break;case"iframe":case"object":case"embed":zs("load",l);break;case"video":case"audio":for(d=0;d<lp.length;d++)zs(lp[d],l);break;case"source":zs("error",l);break;case"img":case"image":case"link":zs("error",l),zs("load",l);break;case"details":zs("toggle",l);break;case"input":zs("invalid",l),AA(l,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":zs("invalid",l);break;case"textarea":zs("invalid",l),ao(l,p.value,p.defaultValue,p.children)}d=p.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||l.textContent===""+d||p.suppressHydrationWarning===!0||cj(l.textContent,d)?(p.popover!=null&&(zs("beforetoggle",l),zs("toggle",l)),p.onScroll!=null&&zs("scroll",l),p.onScrollEnd!=null&&zs("scrollend",l),p.onClick!=null&&(l.onclick=hn),l=!0):l=!1,l||gA(r,!0)}function Cl(r){for(ci=r.return;ci;)switch(ci.tag){case 5:case 31:case 13:da=!1;return;case 27:case 3:da=!0;return;default:ci=ci.return}}function ui(r){if(r!==ci)return!1;if(!Fs)return Cl(r),Fs=!0,!1;var l=r.tag,d;if((d=l!==3&&l!==27)&&((d=l===5)&&(d=r.type,d=!(d!=="form"&&d!=="button")||Ay(r.type,r.memoizedProps)),d=!d),d&&Lr&&gA(r),Cl(r),l===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));Lr=xj(r)}else if(l===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));Lr=xj(r)}else l===27?(l=Lr,cd(r.type)?(r=fy,fy=null,Lr=r):Lr=l):Lr=ci?NA(r.stateNode.nextSibling):null;return!0}function zA(){Lr=ci=null,Fs=!1}function ru(){var r=Ki;return r!==null&&(De===null?De=r:De.push.apply(De,r),Ki=null),r}function Yl(r){Ki===null?Ki=[r]:Ki.push(r)}var Vu=ne(null),vA=null,Sl=null;function xA(r,l,d){W(Vu,l._currentValue),l._currentValue=d}function Oo(r){r._currentValue=Vu.current,M(Vu)}function vc(r,l,d){for(;r!==null;){var p=r.alternate;if((r.childLanes&l)!==l?(r.childLanes|=l,p!==null&&(p.childLanes|=l)):p!==null&&(p.childLanes&l)!==l&&(p.childLanes|=l),r===d)break;r=r.return}}function Nl(r,l,d,p){var T=r.child;for(T!==null&&(T.return=r);T!==null;){var U=T.dependencies;if(U!==null){var te=T.child;U=U.firstContext;e:for(;U!==null;){var ve=U;U=T;for(var Fe=0;Fe<l.length;Fe++)if(ve.context===l[Fe]){U.lanes|=d,ve=U.alternate,ve!==null&&(ve.lanes|=d),vc(U.return,d,r),p||(te=null);break e}U=ve.next}}else if(T.tag===18){if(te=T.return,te===null)throw Error(s(341));te.lanes|=d,U=te.alternate,U!==null&&(U.lanes|=d),vc(te,d,r),te=null}else te=T.child;if(te!==null)te.return=T;else for(te=T;te!==null;){if(te===r){te=null;break}if(T=te.sibling,T!==null){T.return=te.return,te=T;break}te=te.return}T=te}}function yA(r,l,d,p){r=null;for(var T=l,U=!1;T!==null;){if(!U){if((T.flags&524288)!==0)U=!0;else if((T.flags&262144)!==0)break}if(T.tag===10){var te=T.alternate;if(te===null)throw Error(s(387));if(te=te.memoizedProps,te!==null){var ve=T.type;Ls(T.pendingProps.value,te.value)||(r!==null?r.push(ve):r=[ve])}}else if(T===ge.current){if(te=T.alternate,te===null)throw Error(s(387));te.memoizedState.memoizedState!==T.memoizedState.memoizedState&&(r!==null?r.push(hp):r=[hp])}T=T.return}r!==null&&Nl(l,r,d,p),l.flags|=262144}function Ku(r){for(r=r.firstContext;r!==null;){if(!Ls(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function bA(r){vA=r,Sl=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function di(r){return df(vA,r)}function zu(r,l){return vA===null&&bA(r),df(r,l)}function df(r,l){var d=l._currentValue;if(l={context:l,memoizedValue:d,next:null},Sl===null){if(r===null)throw Error(s(308));Sl=l,r.dependencies={lanes:0,firstContext:l},r.flags|=524288}else Sl=Sl.next=l;return d}var Tm=typeof AbortController<"u"?AbortController:function(){var r=[],l=this.signal={aborted:!1,addEventListener:function(d,p){r.push(p)}};this.abort=function(){l.aborted=!0,r.forEach(function(d){return d()})}},Im=n.unstable_scheduleCallback,_m=n.unstable_NormalPriority,xa={$$typeof:_,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xc(){return{controller:new Tm,data:new Map,refCount:0}}function au(r){r.refCount--,r.refCount===0&&Im(_m,function(){r.controller.abort()})}var yc=null,Gu=0,y=0,F=null;function K(r,l){if(yc===null){var d=yc=[];Gu=0,y=ey(),F={status:"pending",value:void 0,then:function(p){d.push(p)}}}return Gu++,l.then(J,J),l}function J(){if(--Gu===0&&yc!==null){F!==null&&(F.status="fulfilled");var r=yc;yc=null,y=0,F=null;for(var l=0;l<r.length;l++)(0,r[l])()}}function Ae(r,l){var d=[],p={status:"pending",value:null,reason:null,then:function(T){d.push(T)}};return r.then(function(){p.status="fulfilled",p.value=l;for(var T=0;T<d.length;T++)(0,d[T])(l)},function(T){for(p.status="rejected",p.reason=T,T=0;T<d.length;T++)(0,d[T])(void 0)}),p}var fe=X.S;X.S=function(r,l){mt=Jt(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&K(r,l),fe!==null&&fe(r,l)};var pe=ne(null);function be(){var r=pe.current;return r!==null?r:Pr.pooledCache}function je(r,l){l===null?W(pe,pe.current):W(pe,l.pool)}function Te(){var r=be();return r===null?null:{parent:xa._currentValue,pool:r}}var Qe=Error(s(460)),qe=Error(s(474)),Ne=Error(s(542)),ke={then:function(){}};function He(r){return r=r.status,r==="fulfilled"||r==="rejected"}function ft(r,l,d){switch(d=r[d],d===void 0?r.push(l):d!==l&&(l.then(hn,hn),l=d),l.status){case"fulfilled":return l.value;case"rejected":throw r=l.reason,Lt(r),r;default:if(typeof l.status=="string")l.then(hn,hn);else{if(r=Pr,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=l,r.status="pending",r.then(function(p){if(l.status==="pending"){var T=l;T.status="fulfilled",T.value=p}},function(p){if(l.status==="pending"){var T=l;T.status="rejected",T.reason=p}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw r=l.reason,Lt(r),r}throw ut=l,Qe}}function Xe(r){try{var l=r._init;return l(r._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(ut=d,Qe):d}}var ut=null;function yt(){if(ut===null)throw Error(s(459));var r=ut;return ut=null,r}function Lt(r){if(r===Qe||r===Ne)throw Error(s(483))}var Bt=null,jn=0;function fn(r){var l=jn;return jn+=1,Bt===null&&(Bt=[]),ft(Bt,r,l)}function qn(r,l){l=l.props.ref,r.ref=l!==void 0?l:null}function xn(r,l){throw l.$$typeof===v?Error(s(525)):(r=Object.prototype.toString.call(l),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":r)))}function Ts(r){function l($e,Oe){if(r){var et=$e.deletions;et===null?($e.deletions=[Oe],$e.flags|=16):et.push(Oe)}}function d($e,Oe){if(!r)return null;for(;Oe!==null;)l($e,Oe),Oe=Oe.sibling;return null}function p($e){for(var Oe=new Map;$e!==null;)$e.key!==null?Oe.set($e.key,$e):Oe.set($e.index,$e),$e=$e.sibling;return Oe}function T($e,Oe){return $e=Uo($e,Oe),$e.index=0,$e.sibling=null,$e}function U($e,Oe,et){return $e.index=et,r?(et=$e.alternate,et!==null?(et=et.index,et<Oe?($e.flags|=67108866,Oe):et):($e.flags|=67108866,Oe)):($e.flags|=1048576,Oe)}function te($e){return r&&$e.alternate===null&&($e.flags|=67108866),$e}function ve($e,Oe,et,wt){return Oe===null||Oe.tag!==6?(Oe=su(et,$e.mode,wt),Oe.return=$e,Oe):(Oe=T(Oe,et),Oe.return=$e,Oe)}function Fe($e,Oe,et,wt){var Mn=et.type;return Mn===I?xt($e,Oe,et.props.children,wt,et.key):Oe!==null&&(Oe.elementType===Mn||typeof Mn=="object"&&Mn!==null&&Mn.$$typeof===Q&&Xe(Mn)===Oe.type)?(Oe=T(Oe,et.props),qn(Oe,et),Oe.return=$e,Oe):(Oe=$l(et.type,et.key,et.props,null,$e.mode,wt),qn(Oe,et),Oe.return=$e,Oe)}function tt($e,Oe,et,wt){return Oe===null||Oe.tag!==4||Oe.stateNode.containerInfo!==et.containerInfo||Oe.stateNode.implementation!==et.implementation?(Oe=pc(et,$e.mode,wt),Oe.return=$e,Oe):(Oe=T(Oe,et.children||[]),Oe.return=$e,Oe)}function xt($e,Oe,et,wt,Mn){return Oe===null||Oe.tag!==7?(Oe=fA(et,$e.mode,wt,Mn),Oe.return=$e,Oe):(Oe=T(Oe,et),Oe.return=$e,Oe)}function Nt($e,Oe,et){if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint")return Oe=su(""+Oe,$e.mode,et),Oe.return=$e,Oe;if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case g:return et=$l(Oe.type,Oe.key,Oe.props,null,$e.mode,et),qn(et,Oe),et.return=$e,et;case b:return Oe=pc(Oe,$e.mode,et),Oe.return=$e,Oe;case Q:return Oe=Xe(Oe),Nt($e,Oe,et)}if(de(Oe)||V(Oe))return Oe=fA(Oe,$e.mode,et,null),Oe.return=$e,Oe;if(typeof Oe.then=="function")return Nt($e,fn(Oe),et);if(Oe.$$typeof===_)return Nt($e,zu($e,Oe),et);xn($e,Oe)}return null}function st($e,Oe,et,wt){var Mn=Oe!==null?Oe.key:null;if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return Mn!==null?null:ve($e,Oe,""+et,wt);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case g:return et.key===Mn?Fe($e,Oe,et,wt):null;case b:return et.key===Mn?tt($e,Oe,et,wt):null;case Q:return et=Xe(et),st($e,Oe,et,wt)}if(de(et)||V(et))return Mn!==null?null:xt($e,Oe,et,wt,null);if(typeof et.then=="function")return st($e,Oe,fn(et),wt);if(et.$$typeof===_)return st($e,Oe,zu($e,et),wt);xn($e,et)}return null}function it($e,Oe,et,wt,Mn){if(typeof wt=="string"&&wt!==""||typeof wt=="number"||typeof wt=="bigint")return $e=$e.get(et)||null,ve(Oe,$e,""+wt,Mn);if(typeof wt=="object"&&wt!==null){switch(wt.$$typeof){case g:return $e=$e.get(wt.key===null?et:wt.key)||null,Fe(Oe,$e,wt,Mn);case b:return $e=$e.get(wt.key===null?et:wt.key)||null,tt(Oe,$e,wt,Mn);case Q:return wt=Xe(wt),it($e,Oe,et,wt,Mn)}if(de(wt)||V(wt))return $e=$e.get(et)||null,xt(Oe,$e,wt,Mn,null);if(typeof wt.then=="function")return it($e,Oe,et,fn(wt),Mn);if(wt.$$typeof===_)return it($e,Oe,et,zu(Oe,wt),Mn);xn(Oe,wt)}return null}function Bn($e,Oe,et,wt){for(var Mn=null,gr=null,In=Oe,Ss=Oe=0,Js=null;In!==null&&Ss<et.length;Ss++){In.index>Ss?(Js=In,In=null):Js=In.sibling;var vr=st($e,In,et[Ss],wt);if(vr===null){In===null&&(In=Js);break}r&&In&&vr.alternate===null&&l($e,In),Oe=U(vr,Oe,Ss),gr===null?Mn=vr:gr.sibling=vr,gr=vr,In=Js}if(Ss===et.length)return d($e,In),Fs&&uo($e,Ss),Mn;if(In===null){for(;Ss<et.length;Ss++)In=Nt($e,et[Ss],wt),In!==null&&(Oe=U(In,Oe,Ss),gr===null?Mn=In:gr.sibling=In,gr=In);return Fs&&uo($e,Ss),Mn}for(In=p(In);Ss<et.length;Ss++)Js=it(In,$e,Ss,et[Ss],wt),Js!==null&&(r&&Js.alternate!==null&&In.delete(Js.key===null?Ss:Js.key),Oe=U(Js,Oe,Ss),gr===null?Mn=Js:gr.sibling=Js,gr=Js);return r&&In.forEach(function(md){return l($e,md)}),Fs&&uo($e,Ss),Mn}function Wn($e,Oe,et,wt){if(et==null)throw Error(s(151));for(var Mn=null,gr=null,In=Oe,Ss=Oe=0,Js=null,vr=et.next();In!==null&&!vr.done;Ss++,vr=et.next()){In.index>Ss?(Js=In,In=null):Js=In.sibling;var md=st($e,In,vr.value,wt);if(md===null){In===null&&(In=Js);break}r&&In&&md.alternate===null&&l($e,In),Oe=U(md,Oe,Ss),gr===null?Mn=md:gr.sibling=md,gr=md,In=Js}if(vr.done)return d($e,In),Fs&&uo($e,Ss),Mn;if(In===null){for(;!vr.done;Ss++,vr=et.next())vr=Nt($e,vr.value,wt),vr!==null&&(Oe=U(vr,Oe,Ss),gr===null?Mn=vr:gr.sibling=vr,gr=vr);return Fs&&uo($e,Ss),Mn}for(In=p(In);!vr.done;Ss++,vr=et.next())vr=it(In,$e,Ss,vr.value,wt),vr!==null&&(r&&vr.alternate!==null&&In.delete(vr.key===null?Ss:vr.key),Oe=U(vr,Oe,Ss),gr===null?Mn=vr:gr.sibling=vr,gr=vr);return r&&In.forEach(function(i6){return l($e,i6)}),Fs&&uo($e,Ss),Mn}function Wr($e,Oe,et,wt){if(typeof et=="object"&&et!==null&&et.type===I&&et.key===null&&(et=et.props.children),typeof et=="object"&&et!==null){switch(et.$$typeof){case g:e:{for(var Mn=et.key;Oe!==null;){if(Oe.key===Mn){if(Mn=et.type,Mn===I){if(Oe.tag===7){d($e,Oe.sibling),wt=T(Oe,et.props.children),wt.return=$e,$e=wt;break e}}else if(Oe.elementType===Mn||typeof Mn=="object"&&Mn!==null&&Mn.$$typeof===Q&&Xe(Mn)===Oe.type){d($e,Oe.sibling),wt=T(Oe,et.props),qn(wt,et),wt.return=$e,$e=wt;break e}d($e,Oe);break}else l($e,Oe);Oe=Oe.sibling}et.type===I?(wt=fA(et.props.children,$e.mode,wt,et.key),wt.return=$e,$e=wt):(wt=$l(et.type,et.key,et.props,null,$e.mode,wt),qn(wt,et),wt.return=$e,$e=wt)}return te($e);case b:e:{for(Mn=et.key;Oe!==null;){if(Oe.key===Mn)if(Oe.tag===4&&Oe.stateNode.containerInfo===et.containerInfo&&Oe.stateNode.implementation===et.implementation){d($e,Oe.sibling),wt=T(Oe,et.children||[]),wt.return=$e,$e=wt;break e}else{d($e,Oe);break}else l($e,Oe);Oe=Oe.sibling}wt=pc(et,$e.mode,wt),wt.return=$e,$e=wt}return te($e);case Q:return et=Xe(et),Wr($e,Oe,et,wt)}if(de(et))return Bn($e,Oe,et,wt);if(V(et)){if(Mn=V(et),typeof Mn!="function")throw Error(s(150));return et=Mn.call(et),Wn($e,Oe,et,wt)}if(typeof et.then=="function")return Wr($e,Oe,fn(et),wt);if(et.$$typeof===_)return Wr($e,Oe,zu($e,et),wt);xn($e,et)}return typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint"?(et=""+et,Oe!==null&&Oe.tag===6?(d($e,Oe.sibling),wt=T(Oe,et),wt.return=$e,$e=wt):(d($e,Oe),wt=su(et,$e.mode,wt),wt.return=$e,$e=wt),te($e)):d($e,Oe)}return function($e,Oe,et,wt){try{jn=0;var Mn=Wr($e,Oe,et,wt);return Bt=null,Mn}catch(In){if(In===Qe||In===Ne)throw In;var gr=Bi(29,In,null,$e.mode);return gr.lanes=wt,gr.return=$e,gr}finally{}}}var Qr=Ts(!0),os=Ts(!1),at=!1;function Xt(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zr(r,l){r=r.updateQueue,l.updateQueue===r&&(l.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function kn(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function zn(r,l,d){var p=r.updateQueue;if(p===null)return null;if(p=p.shared,(hr&2)!==0){var T=p.pending;return T===null?l.next=l:(l.next=T.next,T.next=l),p.pending=l,l=ji(r),tu(r,null,d),l}return HA(r,p,l,d),ji(r)}function cr(r,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194048)!==0)){var p=l.lanes;p&=r.pendingLanes,d|=p,l.lanes=d,Ca(r,d)}}function Ea(r,l){var d=r.updateQueue,p=r.alternate;if(p!==null&&(p=p.updateQueue,d===p)){var T=null,U=null;if(d=d.firstBaseUpdate,d!==null){do{var te={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};U===null?T=U=te:U=U.next=te,d=d.next}while(d!==null);U===null?T=U=l:U=U.next=l}else T=U=l;d={baseState:p.baseState,firstBaseUpdate:T,lastBaseUpdate:U,shared:p.shared,callbacks:p.callbacks},r.updateQueue=d;return}r=d.lastBaseUpdate,r===null?d.firstBaseUpdate=l:r.next=l,d.lastBaseUpdate=l}var ya=!1;function ur(){if(ya){var r=F;if(r!==null)throw r}}function Ta(r,l,d,p){ya=!1;var T=r.updateQueue;at=!1;var U=T.firstBaseUpdate,te=T.lastBaseUpdate,ve=T.shared.pending;if(ve!==null){T.shared.pending=null;var Fe=ve,tt=Fe.next;Fe.next=null,te===null?U=tt:te.next=tt,te=Fe;var xt=r.alternate;xt!==null&&(xt=xt.updateQueue,ve=xt.lastBaseUpdate,ve!==te&&(ve===null?xt.firstBaseUpdate=tt:ve.next=tt,xt.lastBaseUpdate=Fe))}if(U!==null){var Nt=T.baseState;te=0,xt=tt=Fe=null,ve=U;do{var st=ve.lane&-536870913,it=st!==ve.lane;if(it?(Ps&st)===st:(p&st)===st){st!==0&&st===y&&(ya=!0),xt!==null&&(xt=xt.next={lane:0,tag:ve.tag,payload:ve.payload,callback:null,next:null});e:{var Bn=r,Wn=ve;st=l;var Wr=d;switch(Wn.tag){case 1:if(Bn=Wn.payload,typeof Bn=="function"){Nt=Bn.call(Wr,Nt,st);break e}Nt=Bn;break e;case 3:Bn.flags=Bn.flags&-65537|128;case 0:if(Bn=Wn.payload,st=typeof Bn=="function"?Bn.call(Wr,Nt,st):Bn,st==null)break e;Nt=m({},Nt,st);break e;case 2:at=!0}}st=ve.callback,st!==null&&(r.flags|=64,it&&(r.flags|=8192),it=T.callbacks,it===null?T.callbacks=[st]:it.push(st))}else it={lane:st,tag:ve.tag,payload:ve.payload,callback:ve.callback,next:null},xt===null?(tt=xt=it,Fe=Nt):xt=xt.next=it,te|=st;if(ve=ve.next,ve===null){if(ve=T.shared.pending,ve===null)break;it=ve,ve=it.next,it.next=null,T.lastBaseUpdate=it,T.shared.pending=null}}while(!0);xt===null&&(Fe=Nt),T.baseState=Fe,T.firstBaseUpdate=tt,T.lastBaseUpdate=xt,U===null&&(T.shared.lanes=0),B|=te,r.lanes=te,r.memoizedState=Nt}}function Ci(r,l){if(typeof r!="function")throw Error(s(191,r));r.call(l)}function Ia(r,l){var d=r.callbacks;if(d!==null)for(r.callbacks=null,r=0;r<d.length;r++)Ci(d[r],l)}var ss=ne(null),Qs=ne(0);function Or(r,l){r=x,W(Qs,r),W(ss,l),x=r|l.baseLanes}function nr(){W(Qs,x),W(ss,ss.current)}function _a(){x=Qs.current,M(ss),M(Qs)}var ea=ne(null),Os=null;function ba(r){var l=r.alternate;W(Ks,Ks.current&1),W(ea,r),Os===null&&(l===null||ss.current!==null||l.memoizedState!==null)&&(Os=r)}function dr(r){W(Ks,Ks.current),W(ea,r),Os===null&&(Os=r)}function Fa(r){r.tag===22?(W(Ks,Ks.current),W(ea,r),Os===null&&(Os=r)):Ua()}function Ua(){W(Ks,Ks.current),W(ea,ea.current)}function yr(r){M(ea),Os===r&&(Os=null),M(Ks)}var Ks=ne(0);function Si(r){for(var l=r;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||dy(d)||hy(d)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===r)break;for(;l.sibling===null;){if(l.return===null||l.return===r)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var ha=0,Rn=null,Qn=null,Xs=null,no=!1,ho=!1,zi=!1,ta=0,wA=0,El=null,bc=0;function br(){throw Error(s(321))}function $u(r,l){if(l===null)return!1;for(var d=0;d<l.length&&d<r.length;d++)if(!Ls(r[d],l[d]))return!1;return!0}function ih(r,l,d,p,T,U){return ha=U,Rn=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,X.H=r===null||r.memoizedState===null?Wg:yf,zi=!1,U=d(p,T),zi=!1,ho&&(U=dl(l,d,p,T)),iu(r),U}function iu(r){X.H=mh;var l=Qn!==null&&Qn.next!==null;if(ha=0,Xs=Qn=Rn=null,no=!1,wA=0,El=null,l)throw Error(s(300));r===null||na||(r=r.dependencies,r!==null&&Ku(r)&&(na=!0))}function dl(r,l,d,p){Rn=r;var T=0;do{if(ho&&(El=null),wA=0,ho=!1,25<=T)throw Error(s(301));if(T+=1,Xs=Qn=null,r.updateQueue!=null){var U=r.updateQueue;U.lastEffect=null,U.events=null,U.stores=null,U.memoCache!=null&&(U.memoCache.index=0)}X.H=bf,U=l(d,p)}while(ho);return U}function oh(){var r=X.H,l=r.useState()[0];return l=typeof l.then=="function"?jA(l):l,r=r.useState()[0],(Qn!==null?Qn.memoizedState:null)!==r&&(Rn.flags|=1024),l}function Yu(){var r=ta!==0;return ta=0,r}function Wu(r,l,d){l.updateQueue=r.updateQueue,l.flags&=-2053,r.lanes&=~d}function ou(r){if(no){for(r=r.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}no=!1}ha=0,Xs=Qn=Rn=null,ho=!1,wA=ta=0,El=null}function Ma(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xs===null?Rn.memoizedState=Xs=r:Xs=Xs.next=r,Xs}function Gr(){if(Qn===null){var r=Rn.alternate;r=r!==null?r.memoizedState:null}else r=Qn.next;var l=Xs===null?Rn.memoizedState:Xs.next;if(l!==null)Xs=l,Qn=r;else{if(r===null)throw Rn.alternate===null?Error(s(467)):Error(s(310));Qn=r,r={memoizedState:Qn.memoizedState,baseState:Qn.baseState,baseQueue:Qn.baseQueue,queue:Qn.queue,next:null},Xs===null?Rn.memoizedState=Xs=r:Xs=Xs.next=r}return Xs}function lu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jA(r){var l=wA;return wA+=1,El===null&&(El=[]),r=ft(El,r,l),l=Rn,(Xs===null?l.memoizedState:Xs.next)===null&&(l=l.alternate,X.H=l===null||l.memoizedState===null?Wg:yf),r}function wc(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return jA(r);if(r.$$typeof===_)return di(r)}throw Error(s(438,String(r)))}function qa(r){var l=null,d=Rn.updateQueue;if(d!==null&&(l=d.memoCache),l==null){var p=Rn.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(l={data:p.data.map(function(T){return T.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),d===null&&(d=lu(),Rn.updateQueue=d),d.memoCache=l,d=l.data[l.index],d===void 0)for(d=l.data[l.index]=Array(r),p=0;p<r;p++)d[p]=$;return l.index++,d}function Po(r,l){return typeof l=="function"?l(r):l}function Xu(r){var l=Gr();return jc(l,Qn,r)}function jc(r,l,d){var p=r.queue;if(p===null)throw Error(s(311));p.lastRenderedReducer=d;var T=r.baseQueue,U=p.pending;if(U!==null){if(T!==null){var te=T.next;T.next=U.next,U.next=te}l.baseQueue=T=U,p.pending=null}if(U=r.baseState,T===null)r.memoizedState=U;else{l=T.next;var ve=te=null,Fe=null,tt=l,xt=!1;do{var Nt=tt.lane&-536870913;if(Nt!==tt.lane?(Ps&Nt)===Nt:(ha&Nt)===Nt){var st=tt.revertLane;if(st===0)Fe!==null&&(Fe=Fe.next={lane:0,revertLane:0,gesture:null,action:tt.action,hasEagerState:tt.hasEagerState,eagerState:tt.eagerState,next:null}),Nt===y&&(xt=!0);else if((ha&st)===st){tt=tt.next,st===y&&(xt=!0);continue}else Nt={lane:0,revertLane:tt.revertLane,gesture:null,action:tt.action,hasEagerState:tt.hasEagerState,eagerState:tt.eagerState,next:null},Fe===null?(ve=Fe=Nt,te=U):Fe=Fe.next=Nt,Rn.lanes|=st,B|=st;Nt=tt.action,zi&&d(U,Nt),U=tt.hasEagerState?tt.eagerState:d(U,Nt)}else st={lane:Nt,revertLane:tt.revertLane,gesture:tt.gesture,action:tt.action,hasEagerState:tt.hasEagerState,eagerState:tt.eagerState,next:null},Fe===null?(ve=Fe=st,te=U):Fe=Fe.next=st,Rn.lanes|=Nt,B|=Nt;tt=tt.next}while(tt!==null&&tt!==l);if(Fe===null?te=U:Fe.next=ve,!Ls(U,r.memoizedState)&&(na=!0,xt&&(d=F,d!==null)))throw d;r.memoizedState=U,r.baseState=te,r.baseQueue=Fe,p.lastRenderedState=U}return T===null&&(p.lanes=0),[r.memoizedState,p.dispatch]}function Ju(r){var l=Gr(),d=l.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=r;var p=d.dispatch,T=d.pending,U=l.memoizedState;if(T!==null){d.pending=null;var te=T=T.next;do U=r(U,te.action),te=te.next;while(te!==T);Ls(U,l.memoizedState)||(na=!0),l.memoizedState=U,l.baseQueue===null&&(l.baseState=U),d.lastRenderedState=U}return[U,p]}function qu(r,l,d){var p=Rn,T=Gr(),U=Fs;if(U){if(d===void 0)throw Error(s(407));d=d()}else d=l();var te=!Ls((Qn||T).memoizedState,d);if(te&&(T.memoizedState=d,na=!0),T=T.queue,pf(Ah.bind(null,p,T,r),[r]),T.getSnapshot!==l||te||Xs!==null&&Xs.memoizedState.tag&1){if(p.flags|=2048,$A(9,{destroy:void 0},lh.bind(null,p,T,d,l),null),Pr===null)throw Error(s(349));U||(ha&127)!==0||Wl(p,l,d)}return d}function Wl(r,l,d){r.flags|=16384,r={getSnapshot:l,value:d},l=Rn.updateQueue,l===null?(l=lu(),Rn.updateQueue=l,l.stores=[r]):(d=l.stores,d===null?l.stores=[r]:d.push(r))}function lh(r,l,d,p){l.value=d,l.getSnapshot=p,hf(l)&&ch(r)}function Ah(r,l,d){return d(function(){hf(l)&&ch(r)})}function hf(r){var l=r.getSnapshot;r=r.value;try{var d=l();return!Ls(r,d)}catch{return!0}}function ch(r){var l=Bl(r,2);l!==null&&kr(l,r,2)}function Xl(r){var l=Ma();if(typeof r=="function"){var d=r;if(r=d(),zi){Ve(!0);try{d()}finally{Ve(!1)}}}return l.memoizedState=l.baseState=r,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Po,lastRenderedState:r},l}function ff(r,l,d,p){return r.baseState=d,jc(r,Qn,typeof p=="function"?p:Po)}function Zu(r,l,d,p,T){if(Au(r))throw Error(s(485));if(r=l.action,r!==null){var U={payload:T,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(te){U.listeners.push(te)}};X.T!==null?d(!0):U.isTransition=!1,p(U),d=l.pending,d===null?(U.next=l.pending=U,uh(l,U)):(U.next=d.next,l.pending=d.next=U)}}function uh(r,l){var d=l.action,p=l.payload,T=r.state;if(l.isTransition){var U=X.T,te={};X.T=te;try{var ve=d(T,p),Fe=X.S;Fe!==null&&Fe(te,ve),Ha(r,l,ve)}catch(tt){GA(r,l,tt)}finally{U!==null&&te.types!==null&&(U.types=te.types),X.T=U}}else try{U=d(T,p),Ha(r,l,U)}catch(tt){GA(r,l,tt)}}function Ha(r,l,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(p){Bc(r,l,p)},function(p){return GA(r,l,p)}):Bc(r,l,d)}function Bc(r,l,d){l.status="fulfilled",l.value=d,ed(l),r.state=d,l=r.pending,l!==null&&(d=l.next,d===l?r.pending=null:(d=d.next,l.next=d,uh(r,d)))}function GA(r,l,d){var p=r.pending;if(r.pending=null,p!==null){p=p.next;do l.status="rejected",l.reason=d,ed(l),l=l.next;while(l!==p)}r.action=null}function ed(r){r=r.listeners;for(var l=0;l<r.length;l++)(0,r[l])()}function Cc(r,l){return l}function ko(r,l){if(Fs){var d=Pr.formState;if(d!==null){e:{var p=Rn;if(Fs){if(Lr){t:{for(var T=Lr,U=da;T.nodeType!==8;){if(!U){T=null;break t}if(T=NA(T.nextSibling),T===null){T=null;break t}}U=T.data,T=U==="F!"||U==="F"?T:null}if(T){Lr=NA(T.nextSibling),p=T.data==="F!";break e}}gA(p)}p=!1}p&&(l=d[0])}}return d=Ma(),d.memoizedState=d.baseState=l,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cc,lastRenderedState:l},d.queue=p,d=km.bind(null,Rn,p),p.dispatch=d,p=Xl(!1),U=fh.bind(null,Rn,!1,p.queue),p=Ma(),T={state:l,dispatch:null,action:r,pending:null},p.queue=T,d=Zu.bind(null,Rn,T,U,d),T.dispatch=d,p.memoizedState=r,[l,d,!1]}function Jl(r){var l=Gr();return ql(l,Qn,r)}function ql(r,l,d){if(l=jc(r,l,Cc)[0],r=Xu(Po)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var p=jA(l)}catch(te){throw te===Qe?Ne:te}else p=l;l=Gr();var T=l.queue,U=T.dispatch;return d!==l.memoizedState&&(Rn.flags|=2048,$A(9,{destroy:void 0},td.bind(null,T,d),null)),[p,U,r]}function td(r,l){r.action=l}function nd(r){var l=Gr(),d=Qn;if(d!==null)return ql(l,d,r);Gr(),l=l.memoizedState,d=Gr();var p=d.queue.dispatch;return d.memoizedState=r,[l,p,!1]}function $A(r,l,d,p){return r={tag:r,create:d,deps:p,inst:l,next:null},l=Rn.updateQueue,l===null&&(l=lu(),Rn.updateQueue=l),d=l.lastEffect,d===null?l.lastEffect=r.next=r:(p=d.next,d.next=r,r.next=p,l.lastEffect=r),r}function mf(){return Gr().memoizedState}function Sc(r,l,d,p){var T=Ma();Rn.flags|=r,T.memoizedState=$A(1|l,{destroy:void 0},d,p===void 0?null:p)}function Nc(r,l,d,p){var T=Gr();p=p===void 0?null:p;var U=T.memoizedState.inst;Qn!==null&&p!==null&&$u(p,Qn.memoizedState.deps)?T.memoizedState=$A(l,U,d,p):(Rn.flags|=r,T.memoizedState=$A(1|l,U,d,p))}function Fm(r,l){Sc(8390656,8,r,l)}function pf(r,l){Nc(2048,8,r,l)}function Mg(r){Rn.flags|=4;var l=Rn.updateQueue;if(l===null)l=lu(),Rn.updateQueue=l,l.events=[r];else{var d=l.events;d===null?l.events=[r]:d.push(r)}}function Um(r){var l=Gr().memoizedState;return Mg({ref:l,nextImpl:r}),function(){if((hr&2)!==0)throw Error(s(440));return l.impl.apply(void 0,arguments)}}function gf(r,l){return Nc(4,2,r,l)}function Hg(r,l){return Nc(4,4,r,l)}function Vg(r,l){if(typeof l=="function"){r=r();var d=l(r);return function(){typeof d=="function"?d():l(null)}}if(l!=null)return r=r(),l.current=r,function(){l.current=null}}function Kg(r,l,d){d=d!=null?d.concat([r]):null,Nc(4,4,Vg.bind(null,l,r),d)}function Rm(){}function dh(r,l){var d=Gr();l=l===void 0?null:l;var p=d.memoizedState;return l!==null&&$u(l,p[1])?p[0]:(d.memoizedState=[r,l],r)}function hh(r,l){var d=Gr();l=l===void 0?null:l;var p=d.memoizedState;if(l!==null&&$u(l,p[1]))return p[0];if(p=r(),zi){Ve(!0);try{r()}finally{Ve(!1)}}return d.memoizedState=[p,l],p}function Dm(r,l,d){return d===void 0||(ha&1073741824)!==0&&(Ps&261930)===0?r.memoizedState=l:(r.memoizedState=d,r=Va(),Rn.lanes|=r,B|=r,d)}function Lm(r,l,d,p){return Ls(d,l)?d:ss.current!==null?(r=Dm(r,d,p),Ls(r,l)||(na=!0),r):(ha&42)===0||(ha&1073741824)!==0&&(Ps&261930)===0?(na=!0,r.memoizedState=d):(r=Va(),Rn.lanes|=r,B|=r,l)}function vf(r,l,d,p,T){var U=q.p;q.p=U!==0&&8>U?U:8;var te=X.T,ve={};X.T=ve,fh(r,!1,l,d);try{var Fe=T(),tt=X.S;if(tt!==null&&tt(ve,Fe),Fe!==null&&typeof Fe=="object"&&typeof Fe.then=="function"){var xt=Ae(Fe,p);BA(r,l,xt,Fn(r))}else BA(r,l,p,Fn(r))}catch(Nt){BA(r,l,{then:function(){},status:"rejected",reason:Nt},Fn())}finally{q.p=U,te!==null&&ve.types!==null&&(te.types=ve.types),X.T=te}}function zg(){}function xf(r,l,d,p){if(r.tag!==5)throw Error(s(476));var T=Qm(r).queue;vf(r,T,l,Z,d===null?zg:function(){return Gg(r),d(p)})}function Qm(r){var l=r.memoizedState;if(l!==null)return l;l={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Po,lastRenderedState:Z},next:null};var d={};return l.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Po,lastRenderedState:d},next:null},r.memoizedState=l,r=r.alternate,r!==null&&(r.memoizedState=l),l}function Gg(r){var l=Qm(r);l.next===null&&(l=r.alternate.memoizedState),BA(r,l.next.queue,{},Fn())}function sd(){return di(hp)}function Om(){return Gr().memoizedState}function Pm(){return Gr().memoizedState}function Kx(r){for(var l=r.return;l!==null;){switch(l.tag){case 24:case 3:var d=Fn();r=kn(d);var p=zn(l,r,d);p!==null&&(kr(p,l,d),cr(p,l,d)),l={cache:xc()},r.payload=l;return}l=l.return}}function zx(r,l,d){var p=Fn();d={lane:p,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Au(r)?$g(l,d):(d=Ou(r,l,d,p),d!==null&&(kr(d,r,p),Yg(d,l,p)))}function km(r,l,d){var p=Fn();BA(r,l,d,p)}function BA(r,l,d,p){var T={lane:p,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(Au(r))$g(l,T);else{var U=r.alternate;if(r.lanes===0&&(U===null||U.lanes===0)&&(U=l.lastRenderedReducer,U!==null))try{var te=l.lastRenderedState,ve=U(te,d);if(T.hasEagerState=!0,T.eagerState=ve,Ls(ve,te))return HA(r,l,T,0),Pr===null&&eu(),!1}catch{}finally{}if(d=Ou(r,l,T,p),d!==null)return kr(d,r,p),Yg(d,l,p),!0}return!1}function fh(r,l,d,p){if(p={lane:2,revertLane:ey(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},Au(r)){if(l)throw Error(s(479))}else l=Ou(r,d,p,2),l!==null&&kr(l,r,2)}function Au(r){var l=r.alternate;return r===Rn||l!==null&&l===Rn}function $g(r,l){ho=no=!0;var d=r.pending;d===null?l.next=l:(l.next=d.next,d.next=l),r.pending=l}function Yg(r,l,d){if((d&4194048)!==0){var p=l.lanes;p&=r.pendingLanes,d|=p,l.lanes=d,Ca(r,d)}}var mh={readContext:di,use:wc,useCallback:br,useContext:br,useEffect:br,useImperativeHandle:br,useLayoutEffect:br,useInsertionEffect:br,useMemo:br,useReducer:br,useRef:br,useState:br,useDebugValue:br,useDeferredValue:br,useTransition:br,useSyncExternalStore:br,useId:br,useHostTransitionStatus:br,useFormState:br,useActionState:br,useOptimistic:br,useMemoCache:br,useCacheRefresh:br};mh.useEffectEvent=br;var Wg={readContext:di,use:wc,useCallback:function(r,l){return Ma().memoizedState=[r,l===void 0?null:l],r},useContext:di,useEffect:Fm,useImperativeHandle:function(r,l,d){d=d!=null?d.concat([r]):null,Sc(4194308,4,Vg.bind(null,l,r),d)},useLayoutEffect:function(r,l){return Sc(4194308,4,r,l)},useInsertionEffect:function(r,l){Sc(4,2,r,l)},useMemo:function(r,l){var d=Ma();l=l===void 0?null:l;var p=r();if(zi){Ve(!0);try{r()}finally{Ve(!1)}}return d.memoizedState=[p,l],p},useReducer:function(r,l,d){var p=Ma();if(d!==void 0){var T=d(l);if(zi){Ve(!0);try{d(l)}finally{Ve(!1)}}}else T=l;return p.memoizedState=p.baseState=T,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:T},p.queue=r,r=r.dispatch=zx.bind(null,Rn,r),[p.memoizedState,r]},useRef:function(r){var l=Ma();return r={current:r},l.memoizedState=r},useState:function(r){r=Xl(r);var l=r.queue,d=km.bind(null,Rn,l);return l.dispatch=d,[r.memoizedState,d]},useDebugValue:Rm,useDeferredValue:function(r,l){var d=Ma();return Dm(d,r,l)},useTransition:function(){var r=Xl(!1);return r=vf.bind(null,Rn,r.queue,!0,!1),Ma().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,l,d){var p=Rn,T=Ma();if(Fs){if(d===void 0)throw Error(s(407));d=d()}else{if(d=l(),Pr===null)throw Error(s(349));(Ps&127)!==0||Wl(p,l,d)}T.memoizedState=d;var U={value:d,getSnapshot:l};return T.queue=U,Fm(Ah.bind(null,p,U,r),[r]),p.flags|=2048,$A(9,{destroy:void 0},lh.bind(null,p,U,d,l),null),d},useId:function(){var r=Ma(),l=Pr.identifierPrefix;if(Fs){var d=Vi,p=Qo;d=(p&~(1<<32-lt(p)-1)).toString(32)+d,l="_"+l+"R_"+d,d=ta++,0<d&&(l+="H"+d.toString(32)),l+="_"}else d=bc++,l="_"+l+"r_"+d.toString(32)+"_";return r.memoizedState=l},useHostTransitionStatus:sd,useFormState:ko,useActionState:ko,useOptimistic:function(r){var l=Ma();l.memoizedState=l.baseState=r;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=d,l=fh.bind(null,Rn,!0,d),d.dispatch=l,[r,l]},useMemoCache:qa,useCacheRefresh:function(){return Ma().memoizedState=Kx.bind(null,Rn)},useEffectEvent:function(r){var l=Ma(),d={impl:r};return l.memoizedState=d,function(){if((hr&2)!==0)throw Error(s(440));return d.impl.apply(void 0,arguments)}}},yf={readContext:di,use:wc,useCallback:dh,useContext:di,useEffect:pf,useImperativeHandle:Kg,useInsertionEffect:gf,useLayoutEffect:Hg,useMemo:hh,useReducer:Xu,useRef:mf,useState:function(){return Xu(Po)},useDebugValue:Rm,useDeferredValue:function(r,l){var d=Gr();return Lm(d,Qn.memoizedState,r,l)},useTransition:function(){var r=Xu(Po)[0],l=Gr().memoizedState;return[typeof r=="boolean"?r:jA(r),l]},useSyncExternalStore:qu,useId:Om,useHostTransitionStatus:sd,useFormState:Jl,useActionState:Jl,useOptimistic:function(r,l){var d=Gr();return ff(d,Qn,r,l)},useMemoCache:qa,useCacheRefresh:Pm};yf.useEffectEvent=Um;var bf={readContext:di,use:wc,useCallback:dh,useContext:di,useEffect:pf,useImperativeHandle:Kg,useInsertionEffect:gf,useLayoutEffect:Hg,useMemo:hh,useReducer:Ju,useRef:mf,useState:function(){return Ju(Po)},useDebugValue:Rm,useDeferredValue:function(r,l){var d=Gr();return Qn===null?Dm(d,r,l):Lm(d,Qn.memoizedState,r,l)},useTransition:function(){var r=Ju(Po)[0],l=Gr().memoizedState;return[typeof r=="boolean"?r:jA(r),l]},useSyncExternalStore:qu,useId:Om,useHostTransitionStatus:sd,useFormState:nd,useActionState:nd,useOptimistic:function(r,l){var d=Gr();return Qn!==null?ff(d,Qn,r,l):(d.baseState=r,[r,d.queue.dispatch])},useMemoCache:qa,useCacheRefresh:Pm};bf.useEffectEvent=Um;function wf(r,l,d,p){l=r.memoizedState,d=d(p,l),d=d==null?l:m({},l,d),r.memoizedState=d,r.lanes===0&&(r.updateQueue.baseState=d)}var jf={enqueueSetState:function(r,l,d){r=r._reactInternals;var p=Fn(),T=kn(p);T.payload=l,d!=null&&(T.callback=d),l=zn(r,T,p),l!==null&&(kr(l,r,p),cr(l,r,p))},enqueueReplaceState:function(r,l,d){r=r._reactInternals;var p=Fn(),T=kn(p);T.tag=1,T.payload=l,d!=null&&(T.callback=d),l=zn(r,T,p),l!==null&&(kr(l,r,p),cr(l,r,p))},enqueueForceUpdate:function(r,l){r=r._reactInternals;var d=Fn(),p=kn(d);p.tag=2,l!=null&&(p.callback=l),l=zn(r,p,d),l!==null&&(kr(l,r,d),cr(l,r,d))}};function Bf(r,l,d,p,T,U,te){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(p,U,te):l.prototype&&l.prototype.isPureReactComponent?!bi(d,p)||!bi(T,U):!0}function Mm(r,l,d,p){r=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,p),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,p),l.state!==r&&jf.enqueueReplaceState(l,l.state,null)}function Ec(r,l){var d=l;if("ref"in l){d={};for(var p in l)p!=="ref"&&(d[p]=l[p])}if(r=r.defaultProps){d===l&&(d=m({},d));for(var T in r)d[T]===void 0&&(d[T]=r[T])}return d}function Xg(r){mc(r)}function ph(r){console.error(r)}function gh(r){mc(r)}function vh(r,l){try{var d=r.onUncaughtError;d(l.value,{componentStack:l.stack})}catch(p){setTimeout(function(){throw p})}}function Hm(r,l,d){try{var p=r.onCaughtError;p(d.value,{componentStack:d.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(T){setTimeout(function(){throw T})}}function Vm(r,l,d){return d=kn(d),d.tag=3,d.payload={element:null},d.callback=function(){vh(r,l)},d}function Km(r){return r=kn(r),r.tag=3,r}function zm(r,l,d,p){var T=d.type.getDerivedStateFromError;if(typeof T=="function"){var U=p.value;r.payload=function(){return T(U)},r.callback=function(){Hm(l,d,p)}}var te=d.stateNode;te!==null&&typeof te.componentDidCatch=="function"&&(r.callback=function(){Hm(l,d,p),typeof T!="function"&&(qt===null?qt=new Set([this]):qt.add(this));var ve=p.stack;this.componentDidCatch(p.value,{componentStack:ve!==null?ve:""})})}function Gx(r,l,d,p,T){if(d.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(l=d.alternate,l!==null&&yA(l,d,T,!0),d=ea.current,d!==null){switch(d.tag){case 31:case 13:return Os===null?Rl():d.alternate===null&&C===0&&(C=3),d.flags&=-257,d.flags|=65536,d.lanes=T,p===ke?d.flags|=16384:(l=d.updateQueue,l===null?d.updateQueue=new Set([p]):l.add(p),Jx(r,p,T)),!1;case 22:return d.flags|=65536,p===ke?d.flags|=16384:(l=d.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([p])},d.updateQueue=l):(d=l.retryQueue,d===null?l.retryQueue=new Set([p]):d.add(p)),Jx(r,p,T)),!1}throw Error(s(435,d.tag))}return Jx(r,p,T),Rl(),!1}if(Fs)return l=ea.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=T,p!==to&&(r=Error(s(422),{cause:p}),Yl(Ro(r,d)))):(p!==to&&(l=Error(s(423),{cause:p}),Yl(Ro(l,d))),r=r.current.alternate,r.flags|=65536,T&=-T,r.lanes|=T,p=Ro(p,d),T=Vm(r.stateNode,p,T),Ea(r,T),C!==4&&(C=2)),!1;var U=Error(s(520),{cause:p});if(U=Ro(U,d),Ce===null?Ce=[U]:Ce.push(U),C!==4&&(C=2),l===null)return!0;p=Ro(p,d),d=l;do{switch(d.tag){case 3:return d.flags|=65536,r=T&-T,d.lanes|=r,r=Vm(d.stateNode,p,r),Ea(d,r),!1;case 1:if(l=d.type,U=d.stateNode,(d.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(qt===null||!qt.has(U))))return d.flags|=65536,T&=-T,d.lanes|=T,T=Km(T),zm(T,r,d,p),Ea(d,T),!1}d=d.return}while(d!==null);return!1}var Gm=Error(s(461)),na=!1;function Ni(r,l,d,p){l.child=r===null?os(l,null,d,p):Qr(l,r.child,d,p)}function Ra(r,l,d,p,T){d=d.render;var U=l.ref;if("ref"in p){var te={};for(var ve in p)ve!=="ref"&&(te[ve]=p[ve])}else te=p;return bA(l),p=ih(r,l,d,te,U,T),ve=Yu(),r!==null&&!na?(Wu(r,l,T),WA(r,l,T)):(Fs&&ve&&rh(l),l.flags|=1,Ni(r,l,p,T),l.child)}function Tc(r,l,d,p,T){if(r===null){var U=d.type;return typeof U=="function"&&!Gl(U)&&U.defaultProps===void 0&&d.compare===null?(l.tag=15,l.type=U,cu(r,l,U,p,T)):(r=$l(d.type,null,p,l,l.mode,T),r.ref=l.ref,r.return=l,l.child=r)}if(U=r.child,!ep(r,T)){var te=U.memoizedProps;if(d=d.compare,d=d!==null?d:bi,d(te,p)&&r.ref===l.ref)return WA(r,l,T)}return l.flags|=1,r=Uo(U,p),r.ref=l.ref,r.return=l,l.child=r}function cu(r,l,d,p,T){if(r!==null){var U=r.memoizedProps;if(bi(U,p)&&r.ref===l.ref)if(na=!1,l.pendingProps=p=U,ep(r,T))(r.flags&131072)!==0&&(na=!0);else return l.lanes=r.lanes,WA(r,l,T)}return yh(r,l,d,p,T)}function YA(r,l,d,p){var T=p.children,U=r!==null?r.memoizedState:null;if(r===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((l.flags&128)!==0){if(U=U!==null?U.baseLanes|d:d,r!==null){for(p=l.child=r.child,T=0;p!==null;)T=T|p.lanes|p.childLanes,p=p.sibling;p=T&~U}else p=0,l.child=null;return rd(r,l,U,d,p)}if((d&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},r!==null&&je(l,U!==null?U.cachePool:null),U!==null?Or(l,U):nr(),Fa(l);else return p=l.lanes=536870912,rd(r,l,U!==null?U.baseLanes|d:d,d,p)}else U!==null?(je(l,U.cachePool),Or(l,U),Ua(),l.memoizedState=null):(r!==null&&je(l,null),nr(),Ua());return Ni(r,l,T,d),l.child}function Tl(r,l){return r!==null&&r.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function rd(r,l,d,p,T){var U=be();return U=U===null?null:{parent:xa._currentValue,pool:U},l.memoizedState={baseLanes:d,cachePool:U},r!==null&&je(l,null),nr(),Fa(l),r!==null&&yA(r,l,p,!0),l.childLanes=T,null}function Il(r,l){return l=Cf({mode:l.mode,children:l.children},r.mode),l.ref=r.ref,r.child=l,l.return=r,l}function $m(r,l,d){return Qr(l,r.child,null,d),r=Il(l,l.pendingProps),r.flags|=2,yr(l),l.memoizedState=null,r}function Jg(r,l,d){var p=l.pendingProps,T=(l.flags&128)!==0;if(l.flags&=-129,r===null){if(Fs){if(p.mode==="hidden")return r=Il(l,p),l.lanes=536870912,Tl(null,r);if(dr(l),(r=Lr)?(r=vj(r,da),r=r!==null&&r.data==="&"?r:null,r!==null&&(l.memoizedState={dehydrated:r,treeContext:pA!==null?{id:Qo,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},d=ku(r),d.return=l,l.child=d,ci=l,Lr=null)):r=null,r===null)throw gA(l);return l.lanes=536870912,null}return Il(l,p)}var U=r.memoizedState;if(U!==null){var te=U.dehydrated;if(dr(l),T)if(l.flags&256)l.flags&=-257,l=$m(r,l,d);else if(l.memoizedState!==null)l.child=r.child,l.flags|=128,l=null;else throw Error(s(558));else if(na||yA(r,l,d,!1),T=(d&r.childLanes)!==0,na||T){if(p=Pr,p!==null&&(te=Xr(p,d),te!==0&&te!==U.retryLane))throw U.retryLane=te,Bl(r,te),kr(p,r,te),Gm;Rl(),l=$m(r,l,d)}else r=U.treeContext,Lr=NA(te.nextSibling),ci=l,Fs=!0,Ki=null,da=!1,r!==null&&uf(l,r),l=Il(l,p),l.flags|=4096;return l}return r=Uo(r.child,{mode:p.mode,children:p.children}),r.ref=l.ref,l.child=r,r.return=l,r}function xh(r,l){var d=l.ref;if(d===null)r!==null&&r.ref!==null&&(l.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(s(284));(r===null||r.ref!==d)&&(l.flags|=4194816)}}function yh(r,l,d,p,T){return bA(l),d=ih(r,l,d,p,void 0,T),p=Yu(),r!==null&&!na?(Wu(r,l,T),WA(r,l,T)):(Fs&&p&&rh(l),l.flags|=1,Ni(r,l,d,T),l.child)}function ad(r,l,d,p,T,U){return bA(l),l.updateQueue=null,d=dl(l,p,d,T),iu(r),p=Yu(),r!==null&&!na?(Wu(r,l,U),WA(r,l,U)):(Fs&&p&&rh(l),l.flags|=1,Ni(r,l,d,U),l.child)}function Ym(r,l,d,p,T){if(bA(l),l.stateNode===null){var U=Ai,te=d.contextType;typeof te=="object"&&te!==null&&(U=di(te)),U=new d(p,U),l.memoizedState=U.state!==null&&U.state!==void 0?U.state:null,U.updater=jf,l.stateNode=U,U._reactInternals=l,U=l.stateNode,U.props=p,U.state=l.memoizedState,U.refs={},Xt(l),te=d.contextType,U.context=typeof te=="object"&&te!==null?di(te):Ai,U.state=l.memoizedState,te=d.getDerivedStateFromProps,typeof te=="function"&&(wf(l,d,te,p),U.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof U.getSnapshotBeforeUpdate=="function"||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(te=U.state,typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount(),te!==U.state&&jf.enqueueReplaceState(U,U.state,null),Ta(l,p,U,T),ur(),U.state=l.memoizedState),typeof U.componentDidMount=="function"&&(l.flags|=4194308),p=!0}else if(r===null){U=l.stateNode;var ve=l.memoizedProps,Fe=Ec(d,ve);U.props=Fe;var tt=U.context,xt=d.contextType;te=Ai,typeof xt=="object"&&xt!==null&&(te=di(xt));var Nt=d.getDerivedStateFromProps;xt=typeof Nt=="function"||typeof U.getSnapshotBeforeUpdate=="function",ve=l.pendingProps!==ve,xt||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(ve||tt!==te)&&Mm(l,U,p,te),at=!1;var st=l.memoizedState;U.state=st,Ta(l,p,U,T),ur(),tt=l.memoizedState,ve||st!==tt||at?(typeof Nt=="function"&&(wf(l,d,Nt,p),tt=l.memoizedState),(Fe=at||Bf(l,d,Fe,p,st,tt,te))?(xt||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount()),typeof U.componentDidMount=="function"&&(l.flags|=4194308)):(typeof U.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=p,l.memoizedState=tt),U.props=p,U.state=tt,U.context=te,p=Fe):(typeof U.componentDidMount=="function"&&(l.flags|=4194308),p=!1)}else{U=l.stateNode,Zr(r,l),te=l.memoizedProps,xt=Ec(d,te),U.props=xt,Nt=l.pendingProps,st=U.context,tt=d.contextType,Fe=Ai,typeof tt=="object"&&tt!==null&&(Fe=di(tt)),ve=d.getDerivedStateFromProps,(tt=typeof ve=="function"||typeof U.getSnapshotBeforeUpdate=="function")||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(te!==Nt||st!==Fe)&&Mm(l,U,p,Fe),at=!1,st=l.memoizedState,U.state=st,Ta(l,p,U,T),ur();var it=l.memoizedState;te!==Nt||st!==it||at||r!==null&&r.dependencies!==null&&Ku(r.dependencies)?(typeof ve=="function"&&(wf(l,d,ve,p),it=l.memoizedState),(xt=at||Bf(l,d,xt,p,st,it,Fe)||r!==null&&r.dependencies!==null&&Ku(r.dependencies))?(tt||typeof U.UNSAFE_componentWillUpdate!="function"&&typeof U.componentWillUpdate!="function"||(typeof U.componentWillUpdate=="function"&&U.componentWillUpdate(p,it,Fe),typeof U.UNSAFE_componentWillUpdate=="function"&&U.UNSAFE_componentWillUpdate(p,it,Fe)),typeof U.componentDidUpdate=="function"&&(l.flags|=4),typeof U.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof U.componentDidUpdate!="function"||te===r.memoizedProps&&st===r.memoizedState||(l.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||te===r.memoizedProps&&st===r.memoizedState||(l.flags|=1024),l.memoizedProps=p,l.memoizedState=it),U.props=p,U.state=it,U.context=Fe,p=xt):(typeof U.componentDidUpdate!="function"||te===r.memoizedProps&&st===r.memoizedState||(l.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||te===r.memoizedProps&&st===r.memoizedState||(l.flags|=1024),p=!1)}return U=p,xh(r,l),p=(l.flags&128)!==0,U||p?(U=l.stateNode,d=p&&typeof d.getDerivedStateFromError!="function"?null:U.render(),l.flags|=1,r!==null&&p?(l.child=Qr(l,r.child,null,T),l.child=Qr(l,null,d,T)):Ni(r,l,d,T),l.memoizedState=U.state,r=l.child):r=WA(r,l,T),r}function Wm(r,l,d,p){return zA(),l.flags|=256,Ni(r,l,d,p),l.child}var uu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xm(r){return{baseLanes:r,cachePool:Te()}}function Jm(r,l,d){return r=r!==null?r.childLanes&~d:0,l&&(r|=he),r}function qg(r,l,d){var p=l.pendingProps,T=!1,U=(l.flags&128)!==0,te;if((te=U)||(te=r!==null&&r.memoizedState===null?!1:(Ks.current&2)!==0),te&&(T=!0,l.flags&=-129),te=(l.flags&32)!==0,l.flags&=-33,r===null){if(Fs){if(T?ba(l):Ua(),(r=Lr)?(r=vj(r,da),r=r!==null&&r.data!=="&"?r:null,r!==null&&(l.memoizedState={dehydrated:r,treeContext:pA!==null?{id:Qo,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},d=ku(r),d.return=l,l.child=d,ci=l,Lr=null)):r=null,r===null)throw gA(l);return hy(r)?l.lanes=32:l.lanes=536870912,null}var ve=p.children;return p=p.fallback,T?(Ua(),T=l.mode,ve=Cf({mode:"hidden",children:ve},T),p=fA(p,T,d,null),ve.return=l,p.return=l,ve.sibling=p,l.child=ve,p=l.child,p.memoizedState=Xm(d),p.childLanes=Jm(r,te,d),l.memoizedState=uu,Tl(null,p)):(ba(l),qm(l,ve))}var Fe=r.memoizedState;if(Fe!==null&&(ve=Fe.dehydrated,ve!==null)){if(U)l.flags&256?(ba(l),l.flags&=-257,l=bh(r,l,d)):l.memoizedState!==null?(Ua(),l.child=r.child,l.flags|=128,l=null):(Ua(),ve=p.fallback,T=l.mode,p=Cf({mode:"visible",children:p.children},T),ve=fA(ve,T,d,null),ve.flags|=2,p.return=l,ve.return=l,p.sibling=ve,l.child=p,Qr(l,r.child,null,d),p=l.child,p.memoizedState=Xm(d),p.childLanes=Jm(r,te,d),l.memoizedState=uu,l=Tl(null,p));else if(ba(l),hy(ve)){if(te=ve.nextSibling&&ve.nextSibling.dataset,te)var tt=te.dgst;te=tt,p=Error(s(419)),p.stack="",p.digest=te,Yl({value:p,source:null,stack:null}),l=bh(r,l,d)}else if(na||yA(r,l,d,!1),te=(d&r.childLanes)!==0,na||te){if(te=Pr,te!==null&&(p=Xr(te,d),p!==0&&p!==Fe.retryLane))throw Fe.retryLane=p,Bl(r,p),kr(te,r,p),Gm;dy(ve)||Rl(),l=bh(r,l,d)}else dy(ve)?(l.flags|=192,l.child=r.child,l=null):(r=Fe.treeContext,Lr=NA(ve.nextSibling),ci=l,Fs=!0,Ki=null,da=!1,r!==null&&uf(l,r),l=qm(l,p.children),l.flags|=4096);return l}return T?(Ua(),ve=p.fallback,T=l.mode,Fe=r.child,tt=Fe.sibling,p=Uo(Fe,{mode:"hidden",children:p.children}),p.subtreeFlags=Fe.subtreeFlags&65011712,tt!==null?ve=Uo(tt,ve):(ve=fA(ve,T,d,null),ve.flags|=2),ve.return=l,p.return=l,p.sibling=ve,l.child=p,Tl(null,p),p=l.child,ve=r.child.memoizedState,ve===null?ve=Xm(d):(T=ve.cachePool,T!==null?(Fe=xa._currentValue,T=T.parent!==Fe?{parent:Fe,pool:Fe}:T):T=Te(),ve={baseLanes:ve.baseLanes|d,cachePool:T}),p.memoizedState=ve,p.childLanes=Jm(r,te,d),l.memoizedState=uu,Tl(r.child,p)):(ba(l),d=r.child,r=d.sibling,d=Uo(d,{mode:"visible",children:p.children}),d.return=l,d.sibling=null,r!==null&&(te=l.deletions,te===null?(l.deletions=[r],l.flags|=16):te.push(r)),l.child=d,l.memoizedState=null,d)}function qm(r,l){return l=Cf({mode:"visible",children:l},r.mode),l.return=r,r.child=l}function Cf(r,l){return r=Bi(22,r,null,l),r.lanes=0,r}function bh(r,l,d){return Qr(l,r.child,null,d),r=qm(l,l.pendingProps.children),r.flags|=2,l.memoizedState=null,r}function Zg(r,l,d){r.lanes|=l;var p=r.alternate;p!==null&&(p.lanes|=l),vc(r.return,l,d)}function Zm(r,l,d,p,T,U){var te=r.memoizedState;te===null?r.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:p,tail:d,tailMode:T,treeForkCount:U}:(te.isBackwards=l,te.rendering=null,te.renderingStartTime=0,te.last=p,te.tail=d,te.tailMode=T,te.treeForkCount=U)}function e0(r,l,d){var p=l.pendingProps,T=p.revealOrder,U=p.tail;p=p.children;var te=Ks.current,ve=(te&2)!==0;if(ve?(te=te&1|2,l.flags|=128):te&=1,W(Ks,te),Ni(r,l,p,d),p=Fs?mA:0,!ve&&r!==null&&(r.flags&128)!==0)e:for(r=l.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Zg(r,d,l);else if(r.tag===19)Zg(r,d,l);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===l)break e;for(;r.sibling===null;){if(r.return===null||r.return===l)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(T){case"forwards":for(d=l.child,T=null;d!==null;)r=d.alternate,r!==null&&Si(r)===null&&(T=d),d=d.sibling;d=T,d===null?(T=l.child,l.child=null):(T=d.sibling,d.sibling=null),Zm(l,!1,T,d,U,p);break;case"backwards":case"unstable_legacy-backwards":for(d=null,T=l.child,l.child=null;T!==null;){if(r=T.alternate,r!==null&&Si(r)===null){l.child=T;break}r=T.sibling,T.sibling=d,d=T,T=r}Zm(l,!0,d,null,U,p);break;case"together":Zm(l,!1,null,null,void 0,p);break;default:l.memoizedState=null}return l.child}function WA(r,l,d){if(r!==null&&(l.dependencies=r.dependencies),B|=l.lanes,(d&l.childLanes)===0)if(r!==null){if(yA(r,l,d,!1),(d&l.childLanes)===0)return null}else return null;if(r!==null&&l.child!==r.child)throw Error(s(153));if(l.child!==null){for(r=l.child,d=Uo(r,r.pendingProps),l.child=d,d.return=l;r.sibling!==null;)r=r.sibling,d=d.sibling=Uo(r,r.pendingProps),d.return=l;d.sibling=null}return l.child}function ep(r,l){return(r.lanes&l)!==0?!0:(r=r.dependencies,!!(r!==null&&Ku(r)))}function tp(r,l,d){switch(l.tag){case 3:Se(l,l.stateNode.containerInfo),xA(l,xa,r.memoizedState.cache),zA();break;case 27:case 5:Ie(l);break;case 4:Se(l,l.stateNode.containerInfo);break;case 10:xA(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,dr(l),null;break;case 13:var p=l.memoizedState;if(p!==null)return p.dehydrated!==null?(ba(l),l.flags|=128,null):(d&l.child.childLanes)!==0?qg(r,l,d):(ba(l),r=WA(r,l,d),r!==null?r.sibling:null);ba(l);break;case 19:var T=(r.flags&128)!==0;if(p=(d&l.childLanes)!==0,p||(yA(r,l,d,!1),p=(d&l.childLanes)!==0),T){if(p)return e0(r,l,d);l.flags|=128}if(T=l.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),W(Ks,Ks.current),p)break;return null;case 22:return l.lanes=0,YA(r,l,d,l.pendingProps);case 24:xA(l,xa,r.memoizedState.cache)}return WA(r,l,d)}function Sf(r,l,d){if(r!==null)if(r.memoizedProps!==l.pendingProps)na=!0;else{if(!ep(r,d)&&(l.flags&128)===0)return na=!1,tp(r,l,d);na=(r.flags&131072)!==0}else na=!1,Fs&&(l.flags&1048576)!==0&&cf(l,mA,l.index);switch(l.lanes=0,l.tag){case 16:e:{var p=l.pendingProps;if(r=Xe(l.elementType),l.type=r,typeof r=="function")Gl(r)?(p=Ec(r,p),l.tag=1,l=Ym(null,l,r,p,d)):(l.tag=0,l=yh(null,l,r,p,d));else{if(r!=null){var T=r.$$typeof;if(T===R){l.tag=11,l=Ra(null,l,r,p,d);break e}else if(T===D){l.tag=14,l=Tc(null,l,r,p,d);break e}}throw l=ie(r)||r,Error(s(306,l,""))}}return l;case 0:return yh(r,l,l.type,l.pendingProps,d);case 1:return p=l.type,T=Ec(p,l.pendingProps),Ym(r,l,p,T,d);case 3:e:{if(Se(l,l.stateNode.containerInfo),r===null)throw Error(s(387));p=l.pendingProps;var U=l.memoizedState;T=U.element,Zr(r,l),Ta(l,p,null,d);var te=l.memoizedState;if(p=te.cache,xA(l,xa,p),p!==U.cache&&Nl(l,[xa],d,!0),ur(),p=te.element,U.isDehydrated)if(U={element:p,isDehydrated:!1,cache:te.cache},l.updateQueue.baseState=U,l.memoizedState=U,l.flags&256){l=Wm(r,l,p,d);break e}else if(p!==T){T=Ro(Error(s(424)),l),Yl(T),l=Wm(r,l,p,d);break e}else{switch(r=l.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Lr=NA(r.firstChild),ci=l,Fs=!0,Ki=null,da=!0,d=os(l,null,p,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(zA(),p===T){l=WA(r,l,d);break e}Ni(r,l,p,d)}l=l.child}return l;case 26:return xh(r,l),r===null?(d=Bj(l.type,null,l.pendingProps,null))?l.memoizedState=d:Fs||(d=l.type,r=l.pendingProps,p=b0(ce.current).createElement(d),p[rs]=l,p[us]=r,go(p,d,r),Ft(p),l.stateNode=p):l.memoizedState=Bj(l.type,r.memoizedProps,l.pendingProps,r.memoizedState),null;case 27:return Ie(l),r===null&&Fs&&(p=l.stateNode=bj(l.type,l.pendingProps,ce.current),ci=l,da=!0,T=Lr,cd(l.type)?(fy=T,Lr=NA(p.firstChild)):Lr=T),Ni(r,l,l.pendingProps.children,d),xh(r,l),r===null&&(l.flags|=4194304),l.child;case 5:return r===null&&Fs&&((T=p=Lr)&&(p=L_(p,l.type,l.pendingProps,da),p!==null?(l.stateNode=p,ci=l,Lr=NA(p.firstChild),da=!1,T=!0):T=!1),T||gA(l)),Ie(l),T=l.type,U=l.pendingProps,te=r!==null?r.memoizedProps:null,p=U.children,Ay(T,U)?p=null:te!==null&&Ay(T,te)&&(l.flags|=32),l.memoizedState!==null&&(T=ih(r,l,oh,null,null,d),hp._currentValue=T),xh(r,l),Ni(r,l,p,d),l.child;case 6:return r===null&&Fs&&((r=d=Lr)&&(d=Q_(d,l.pendingProps,da),d!==null?(l.stateNode=d,ci=l,Lr=null,r=!0):r=!1),r||gA(l)),null;case 13:return qg(r,l,d);case 4:return Se(l,l.stateNode.containerInfo),p=l.pendingProps,r===null?l.child=Qr(l,null,p,d):Ni(r,l,p,d),l.child;case 11:return Ra(r,l,l.type,l.pendingProps,d);case 7:return Ni(r,l,l.pendingProps,d),l.child;case 8:return Ni(r,l,l.pendingProps.children,d),l.child;case 12:return Ni(r,l,l.pendingProps.children,d),l.child;case 10:return p=l.pendingProps,xA(l,l.type,p.value),Ni(r,l,p.children,d),l.child;case 9:return T=l.type._context,p=l.pendingProps.children,bA(l),T=di(T),p=p(T),l.flags|=1,Ni(r,l,p,d),l.child;case 14:return Tc(r,l,l.type,l.pendingProps,d);case 15:return cu(r,l,l.type,l.pendingProps,d);case 19:return e0(r,l,d);case 31:return Jg(r,l,d);case 22:return YA(r,l,d,l.pendingProps);case 24:return bA(l),p=di(xa),r===null?(T=be(),T===null&&(T=Pr,U=xc(),T.pooledCache=U,U.refCount++,U!==null&&(T.pooledCacheLanes|=d),T=U),l.memoizedState={parent:p,cache:T},Xt(l),xA(l,xa,T)):((r.lanes&d)!==0&&(Zr(r,l),Ta(l,null,null,d),ur()),T=r.memoizedState,U=l.memoizedState,T.parent!==p?(T={parent:p,cache:p},l.memoizedState=T,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=T),xA(l,xa,p)):(p=U.cache,xA(l,xa,p),p!==T.cache&&Nl(l,[xa],d,!0))),Ni(r,l,l.pendingProps.children,d),l.child;case 29:throw l.pendingProps}throw Error(s(156,l.tag))}function CA(r){r.flags|=4}function np(r,l,d,p,T){if((l=(r.mode&32)!==0)&&(l=!1),l){if(r.flags|=16777216,(T&335544128)===T)if(r.stateNode.complete)r.flags|=8192;else if(JA())r.flags|=8192;else throw ut=ke,qe}else r.flags&=-16777217}function t0(r,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Tj(l))if(JA())r.flags|=8192;else throw ut=ke,qe}function wh(r,l){l!==null&&(r.flags|=4),r.flags&16384&&(l=r.tag!==22?ts():536870912,r.lanes|=l,Be|=l)}function jh(r,l){if(!Fs)switch(r.tailMode){case"hidden":l=r.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?r.tail=null:d.sibling=null;break;case"collapsed":d=r.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?l||r.tail===null?r.tail=null:r.tail.sibling=null:p.sibling=null}}function sa(r){var l=r.alternate!==null&&r.alternate.child===r.child,d=0,p=0;if(l)for(var T=r.child;T!==null;)d|=T.lanes|T.childLanes,p|=T.subtreeFlags&65011712,p|=T.flags&65011712,T.return=r,T=T.sibling;else for(T=r.child;T!==null;)d|=T.lanes|T.childLanes,p|=T.subtreeFlags,p|=T.flags,T.return=r,T=T.sibling;return r.subtreeFlags|=p,r.childLanes=d,l}function $x(r,l,d){var p=l.pendingProps;switch(Hu(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sa(l),null;case 1:return sa(l),null;case 3:return d=l.stateNode,p=null,r!==null&&(p=r.memoizedState.cache),l.memoizedState.cache!==p&&(l.flags|=2048),Oo(xa),xe(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(ui(l)?CA(l):r===null||r.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,ru())),sa(l),null;case 26:var T=l.type,U=l.memoizedState;return r===null?(CA(l),U!==null?(sa(l),t0(l,U)):(sa(l),np(l,T,null,p,d))):U?U!==r.memoizedState?(CA(l),sa(l),t0(l,U)):(sa(l),l.flags&=-16777217):(r=r.memoizedProps,r!==p&&CA(l),sa(l),np(l,T,r,p,d)),null;case 27:if(Ue(l),d=ce.current,T=l.type,r!==null&&l.stateNode!=null)r.memoizedProps!==p&&CA(l);else{if(!p){if(l.stateNode===null)throw Error(s(166));return sa(l),null}r=ae.current,ui(l)?ah(l):(r=bj(T,p,d),l.stateNode=r,CA(l))}return sa(l),null;case 5:if(Ue(l),T=l.type,r!==null&&l.stateNode!=null)r.memoizedProps!==p&&CA(l);else{if(!p){if(l.stateNode===null)throw Error(s(166));return sa(l),null}if(U=ae.current,ui(l))ah(l);else{var te=b0(ce.current);switch(U){case 1:U=te.createElementNS("http://www.w3.org/2000/svg",T);break;case 2:U=te.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;default:switch(T){case"svg":U=te.createElementNS("http://www.w3.org/2000/svg",T);break;case"math":U=te.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;case"script":U=te.createElement("div"),U.innerHTML="<script><\/script>",U=U.removeChild(U.firstChild);break;case"select":U=typeof p.is=="string"?te.createElement("select",{is:p.is}):te.createElement("select"),p.multiple?U.multiple=!0:p.size&&(U.size=p.size);break;default:U=typeof p.is=="string"?te.createElement(T,{is:p.is}):te.createElement(T)}}U[rs]=l,U[us]=p;e:for(te=l.child;te!==null;){if(te.tag===5||te.tag===6)U.appendChild(te.stateNode);else if(te.tag!==4&&te.tag!==27&&te.child!==null){te.child.return=te,te=te.child;continue}if(te===l)break e;for(;te.sibling===null;){if(te.return===null||te.return===l)break e;te=te.return}te.sibling.return=te.return,te=te.sibling}l.stateNode=U;e:switch(go(U,T,p),T){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&CA(l)}}return sa(l),np(l,l.type,r===null?null:r.memoizedProps,l.pendingProps,d),null;case 6:if(r&&l.stateNode!=null)r.memoizedProps!==p&&CA(l);else{if(typeof p!="string"&&l.stateNode===null)throw Error(s(166));if(r=ce.current,ui(l)){if(r=l.stateNode,d=l.memoizedProps,p=null,T=ci,T!==null)switch(T.tag){case 27:case 5:p=T.memoizedProps}r[rs]=l,r=!!(r.nodeValue===d||p!==null&&p.suppressHydrationWarning===!0||cj(r.nodeValue,d)),r||gA(l,!0)}else r=b0(r).createTextNode(p),r[rs]=l,l.stateNode=r}return sa(l),null;case 31:if(d=l.memoizedState,r===null||r.memoizedState!==null){if(p=ui(l),d!==null){if(r===null){if(!p)throw Error(s(318));if(r=l.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(557));r[rs]=l}else zA(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;sa(l),r=!1}else d=ru(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=d),r=!0;if(!r)return l.flags&256?(yr(l),l):(yr(l),null);if((l.flags&128)!==0)throw Error(s(558))}return sa(l),null;case 13:if(p=l.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(T=ui(l),p!==null&&p.dehydrated!==null){if(r===null){if(!T)throw Error(s(318));if(T=l.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(s(317));T[rs]=l}else zA(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;sa(l),T=!1}else T=ru(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=T),T=!0;if(!T)return l.flags&256?(yr(l),l):(yr(l),null)}return yr(l),(l.flags&128)!==0?(l.lanes=d,l):(d=p!==null,r=r!==null&&r.memoizedState!==null,d&&(p=l.child,T=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(T=p.alternate.memoizedState.cachePool.pool),U=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(U=p.memoizedState.cachePool.pool),U!==T&&(p.flags|=2048)),d!==r&&d&&(l.child.flags|=8192),wh(l,l.updateQueue),sa(l),null);case 4:return xe(),r===null&&ry(l.stateNode.containerInfo),sa(l),null;case 10:return Oo(l.type),sa(l),null;case 19:if(M(Ks),p=l.memoizedState,p===null)return sa(l),null;if(T=(l.flags&128)!==0,U=p.rendering,U===null)if(T)jh(p,!1);else{if(C!==0||r!==null&&(r.flags&128)!==0)for(r=l.child;r!==null;){if(U=Si(r),U!==null){for(l.flags|=128,jh(p,!1),r=U.updateQueue,l.updateQueue=r,wh(l,r),l.subtreeFlags=0,r=d,d=l.child;d!==null;)nu(d,r),d=d.sibling;return W(Ks,Ks.current&1|2),Fs&&uo(l,p.treeForkCount),l.child}r=r.sibling}p.tail!==null&&Jt()>An&&(l.flags|=128,T=!0,jh(p,!1),l.lanes=4194304)}else{if(!T)if(r=Si(U),r!==null){if(l.flags|=128,T=!0,r=r.updateQueue,l.updateQueue=r,wh(l,r),jh(p,!0),p.tail===null&&p.tailMode==="hidden"&&!U.alternate&&!Fs)return sa(l),null}else 2*Jt()-p.renderingStartTime>An&&d!==536870912&&(l.flags|=128,T=!0,jh(p,!1),l.lanes=4194304);p.isBackwards?(U.sibling=l.child,l.child=U):(r=p.last,r!==null?r.sibling=U:l.child=U,p.last=U)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=Jt(),r.sibling=null,d=Ks.current,W(Ks,T?d&1|2:d&1),Fs&&uo(l,p.treeForkCount),r):(sa(l),null);case 22:case 23:return yr(l),_a(),p=l.memoizedState!==null,r!==null?r.memoizedState!==null!==p&&(l.flags|=8192):p&&(l.flags|=8192),p?(d&536870912)!==0&&(l.flags&128)===0&&(sa(l),l.subtreeFlags&6&&(l.flags|=8192)):sa(l),d=l.updateQueue,d!==null&&wh(l,d.retryQueue),d=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),p=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==d&&(l.flags|=2048),r!==null&&M(pe),null;case 24:return d=null,r!==null&&(d=r.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),Oo(xa),sa(l),null;case 25:return null;case 30:return null}throw Error(s(156,l.tag))}function Yx(r,l){switch(Hu(l),l.tag){case 1:return r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 3:return Oo(xa),xe(),r=l.flags,(r&65536)!==0&&(r&128)===0?(l.flags=r&-65537|128,l):null;case 26:case 27:case 5:return Ue(l),null;case 31:if(l.memoizedState!==null){if(yr(l),l.alternate===null)throw Error(s(340));zA()}return r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 13:if(yr(l),r=l.memoizedState,r!==null&&r.dehydrated!==null){if(l.alternate===null)throw Error(s(340));zA()}return r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 19:return M(Ks),null;case 4:return xe(),null;case 10:return Oo(l.type),null;case 22:case 23:return yr(l),_a(),r!==null&&M(pe),r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 24:return Oo(xa),null;case 25:return null;default:return null}}function n0(r,l){switch(Hu(l),l.tag){case 3:Oo(xa),xe();break;case 26:case 27:case 5:Ue(l);break;case 4:xe();break;case 31:l.memoizedState!==null&&yr(l);break;case 13:yr(l);break;case 19:M(Ks);break;case 10:Oo(l.type);break;case 22:case 23:yr(l),_a(),r!==null&&M(pe);break;case 24:Oo(xa)}}function du(r,l){try{var d=l.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var T=p.next;d=T;do{if((d.tag&r)===r){p=void 0;var U=d.create,te=d.inst;p=U(),te.destroy=p}d=d.next}while(d!==T)}}catch(ve){Mr(l,l.return,ve)}}function Ic(r,l,d){try{var p=l.updateQueue,T=p!==null?p.lastEffect:null;if(T!==null){var U=T.next;p=U;do{if((p.tag&r)===r){var te=p.inst,ve=te.destroy;if(ve!==void 0){te.destroy=void 0,T=l;var Fe=d,tt=ve;try{tt()}catch(xt){Mr(T,Fe,xt)}}}p=p.next}while(p!==U)}}catch(xt){Mr(l,l.return,xt)}}function Nf(r){var l=r.updateQueue;if(l!==null){var d=r.stateNode;try{Ia(l,d)}catch(p){Mr(r,r.return,p)}}}function s0(r,l,d){d.props=Ec(r.type,r.memoizedProps),d.state=r.memoizedState;try{d.componentWillUnmount()}catch(p){Mr(r,l,p)}}function tn(r,l){try{var d=r.ref;if(d!==null){switch(r.tag){case 26:case 27:case 5:var p=r.stateNode;break;case 30:p=r.stateNode;break;default:p=r.stateNode}typeof d=="function"?r.refCleanup=d(p):d.current=p}}catch(T){Mr(r,l,T)}}function fo(r,l){var d=r.ref,p=r.refCleanup;if(d!==null)if(typeof p=="function")try{p()}catch(T){Mr(r,l,T)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(T){Mr(r,l,T)}else d.current=null}function Bh(r){var l=r.type,d=r.memoizedProps,p=r.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":d.autoFocus&&p.focus();break e;case"img":d.src?p.src=d.src:d.srcSet&&(p.srcset=d.srcSet)}}catch(T){Mr(r,r.return,T)}}function Mo(r,l,d){try{var p=r.stateNode;I_(p,r.type,d,l),p[us]=l}catch(T){Mr(r,r.return,T)}}function r0(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&cd(r.type)||r.tag===4}function rr(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||r0(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&cd(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function $r(r,l,d){var p=r.tag;if(p===5||p===6)r=r.stateNode,l?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(r,l):(l=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,l.appendChild(r),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=hn));else if(p!==4&&(p===27&&cd(r.type)&&(d=r.stateNode,l=null),r=r.child,r!==null))for($r(r,l,d),r=r.sibling;r!==null;)$r(r,l,d),r=r.sibling}function hu(r,l,d){var p=r.tag;if(p===5||p===6)r=r.stateNode,l?d.insertBefore(r,l):d.appendChild(r);else if(p!==4&&(p===27&&cd(r.type)&&(d=r.stateNode),r=r.child,r!==null))for(hu(r,l,d),r=r.sibling;r!==null;)hu(r,l,d),r=r.sibling}function a0(r){var l=r.stateNode,d=r.memoizedProps;try{for(var p=r.type,T=l.attributes;T.length;)l.removeAttributeNode(T[0]);go(l,p,d),l[rs]=r,l[us]=d}catch(U){Mr(r,r.return,U)}}var _l=!1,Za=!1,id=!1,i0=typeof WeakSet=="function"?WeakSet:Set,Ei=null;function o0(r,l){if(r=r.containerInfo,oy=E0,r=bl(r),wl(r)){if("selectionStart"in r)var d={start:r.selectionStart,end:r.selectionEnd};else e:{d=(d=r.ownerDocument)&&d.defaultView||window;var p=d.getSelection&&d.getSelection();if(p&&p.rangeCount!==0){d=p.anchorNode;var T=p.anchorOffset,U=p.focusNode;p=p.focusOffset;try{d.nodeType,U.nodeType}catch{d=null;break e}var te=0,ve=-1,Fe=-1,tt=0,xt=0,Nt=r,st=null;t:for(;;){for(var it;Nt!==d||T!==0&&Nt.nodeType!==3||(ve=te+T),Nt!==U||p!==0&&Nt.nodeType!==3||(Fe=te+p),Nt.nodeType===3&&(te+=Nt.nodeValue.length),(it=Nt.firstChild)!==null;)st=Nt,Nt=it;for(;;){if(Nt===r)break t;if(st===d&&++tt===T&&(ve=te),st===U&&++xt===p&&(Fe=te),(it=Nt.nextSibling)!==null)break;Nt=st,st=Nt.parentNode}Nt=it}d=ve===-1||Fe===-1?null:{start:ve,end:Fe}}else d=null}d=d||{start:0,end:0}}else d=null;for(ly={focusedElem:r,selectionRange:d},E0=!1,Ei=l;Ei!==null;)if(l=Ei,r=l.child,(l.subtreeFlags&1028)!==0&&r!==null)r.return=l,Ei=r;else for(;Ei!==null;){switch(l=Ei,U=l.alternate,r=l.flags,l.tag){case 0:if((r&4)!==0&&(r=l.updateQueue,r=r!==null?r.events:null,r!==null))for(d=0;d<r.length;d++)T=r[d],T.ref.impl=T.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&U!==null){r=void 0,d=l,T=U.memoizedProps,U=U.memoizedState,p=d.stateNode;try{var Bn=Ec(d.type,T);r=p.getSnapshotBeforeUpdate(Bn,U),p.__reactInternalSnapshotBeforeUpdate=r}catch(Wn){Mr(d,d.return,Wn)}}break;case 3:if((r&1024)!==0){if(r=l.stateNode.containerInfo,d=r.nodeType,d===9)uy(r);else if(d===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":uy(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(s(163))}if(r=l.sibling,r!==null){r.return=l.return,Ei=r;break}Ei=l.return}}function l0(r,l,d){var p=d.flags;switch(d.tag){case 0:case 11:case 15:Fl(r,d),p&4&&du(5,d);break;case 1:if(Fl(r,d),p&4)if(r=d.stateNode,l===null)try{r.componentDidMount()}catch(te){Mr(d,d.return,te)}else{var T=Ec(d.type,l.memoizedProps);l=l.memoizedState;try{r.componentDidUpdate(T,l,r.__reactInternalSnapshotBeforeUpdate)}catch(te){Mr(d,d.return,te)}}p&64&&Nf(d),p&512&&tn(d,d.return);break;case 3:if(Fl(r,d),p&64&&(r=d.updateQueue,r!==null)){if(l=null,d.child!==null)switch(d.child.tag){case 27:case 5:l=d.child.stateNode;break;case 1:l=d.child.stateNode}try{Ia(r,l)}catch(te){Mr(d,d.return,te)}}break;case 27:l===null&&p&4&&a0(d);case 26:case 5:Fl(r,d),l===null&&p&4&&Bh(d),p&512&&tn(d,d.return);break;case 12:Fl(r,d);break;case 31:Fl(r,d),p&4&&rp(r,d);break;case 13:Fl(r,d),p&4&&A0(r,d),p&64&&(r=d.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(d=v_.bind(null,d),O_(r,d))));break;case 22:if(p=d.memoizedState!==null||_l,!p){l=l!==null&&l.memoizedState!==null||Za,T=_l;var U=Za;_l=p,(Za=l)&&!U?XA(r,d,(d.subtreeFlags&8772)!==0):Fl(r,d),_l=T,Za=U}break;case 30:break;default:Fl(r,d)}}function sp(r){var l=r.alternate;l!==null&&(r.alternate=null,sp(l)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(l=r.stateNode,l!==null&&vi(l)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var fa=null,mo=!1;function SA(r,l,d){for(d=d.child;d!==null;)Ef(r,l,d),d=d.sibling}function Ef(r,l,d){if(ht&&typeof ht.onCommitFiberUnmount=="function")try{ht.onCommitFiberUnmount(Me,d)}catch{}switch(d.tag){case 26:Za||fo(d,l),SA(r,l,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:Za||fo(d,l);var p=fa,T=mo;cd(d.type)&&(fa=d.stateNode,mo=!1),SA(r,l,d),cp(d.stateNode),fa=p,mo=T;break;case 5:Za||fo(d,l);case 6:if(p=fa,T=mo,fa=null,SA(r,l,d),fa=p,mo=T,fa!==null)if(mo)try{(fa.nodeType===9?fa.body:fa.nodeName==="HTML"?fa.ownerDocument.body:fa).removeChild(d.stateNode)}catch(U){Mr(d,l,U)}else try{fa.removeChild(d.stateNode)}catch(U){Mr(d,l,U)}break;case 18:fa!==null&&(mo?(r=fa,pj(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,d.stateNode),Lf(r)):pj(fa,d.stateNode));break;case 4:p=fa,T=mo,fa=d.stateNode.containerInfo,mo=!0,SA(r,l,d),fa=p,mo=T;break;case 0:case 11:case 14:case 15:Ic(2,d,l),Za||Ic(4,d,l),SA(r,l,d);break;case 1:Za||(fo(d,l),p=d.stateNode,typeof p.componentWillUnmount=="function"&&s0(d,l,p)),SA(r,l,d);break;case 21:SA(r,l,d);break;case 22:Za=(p=Za)||d.memoizedState!==null,SA(r,l,d),Za=p;break;default:SA(r,l,d)}}function rp(r,l){if(l.memoizedState===null&&(r=l.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{Lf(r)}catch(d){Mr(l,l.return,d)}}}function A0(r,l){if(l.memoizedState===null&&(r=l.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Lf(r)}catch(d){Mr(l,l.return,d)}}function c0(r){switch(r.tag){case 31:case 13:case 19:var l=r.stateNode;return l===null&&(l=r.stateNode=new i0),l;case 22:return r=r.stateNode,l=r._retryCache,l===null&&(l=r._retryCache=new i0),l;default:throw Error(s(435,r.tag))}}function Tf(r,l){var d=c0(r);l.forEach(function(p){if(!d.has(p)){d.add(p);var T=x_.bind(null,r,p);p.then(T,T)}})}function Ho(r,l){var d=l.deletions;if(d!==null)for(var p=0;p<d.length;p++){var T=d[p],U=r,te=l,ve=te;e:for(;ve!==null;){switch(ve.tag){case 27:if(cd(ve.type)){fa=ve.stateNode,mo=!1;break e}break;case 5:fa=ve.stateNode,mo=!1;break e;case 3:case 4:fa=ve.stateNode.containerInfo,mo=!0;break e}ve=ve.return}if(fa===null)throw Error(s(160));Ef(U,te,T),fa=null,mo=!1,U=T.alternate,U!==null&&(U.return=null),T.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)Ch(l,r),l=l.sibling}var Zl=null;function Ch(r,l){var d=r.alternate,p=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Ho(l,r),ra(r),p&4&&(Ic(3,r,r.return),du(3,r),Ic(5,r,r.return));break;case 1:Ho(l,r),ra(r),p&512&&(Za||d===null||fo(d,d.return)),p&64&&_l&&(r=r.updateQueue,r!==null&&(p=r.callbacks,p!==null&&(d=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=d===null?p:d.concat(p))));break;case 26:var T=Zl;if(Ho(l,r),ra(r),p&512&&(Za||d===null||fo(d,d.return)),p&4){var U=d!==null?d.memoizedState:null;if(p=r.memoizedState,d===null)if(p===null)if(r.stateNode===null){e:{p=r.type,d=r.memoizedProps,T=T.ownerDocument||T;t:switch(p){case"title":U=T.getElementsByTagName("title")[0],(!U||U[_r]||U[rs]||U.namespaceURI==="http://www.w3.org/2000/svg"||U.hasAttribute("itemprop"))&&(U=T.createElement(p),T.head.insertBefore(U,T.querySelector("head > title"))),go(U,p,d),U[rs]=r,Ft(U),p=U;break e;case"link":var te=Nj("link","href",T).get(p+(d.href||""));if(te){for(var ve=0;ve<te.length;ve++)if(U=te[ve],U.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&U.getAttribute("rel")===(d.rel==null?null:d.rel)&&U.getAttribute("title")===(d.title==null?null:d.title)&&U.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){te.splice(ve,1);break t}}U=T.createElement(p),go(U,p,d),T.head.appendChild(U);break;case"meta":if(te=Nj("meta","content",T).get(p+(d.content||""))){for(ve=0;ve<te.length;ve++)if(U=te[ve],U.getAttribute("content")===(d.content==null?null:""+d.content)&&U.getAttribute("name")===(d.name==null?null:d.name)&&U.getAttribute("property")===(d.property==null?null:d.property)&&U.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&U.getAttribute("charset")===(d.charSet==null?null:d.charSet)){te.splice(ve,1);break t}}U=T.createElement(p),go(U,p,d),T.head.appendChild(U);break;default:throw Error(s(468,p))}U[rs]=r,Ft(U),p=U}r.stateNode=p}else Ej(T,r.type,r.stateNode);else r.stateNode=Sj(T,p,r.memoizedProps);else U!==p?(U===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):U.count--,p===null?Ej(T,r.type,r.stateNode):Sj(T,p,r.memoizedProps)):p===null&&r.stateNode!==null&&Mo(r,r.memoizedProps,d.memoizedProps)}break;case 27:Ho(l,r),ra(r),p&512&&(Za||d===null||fo(d,d.return)),d!==null&&p&4&&Mo(r,r.memoizedProps,d.memoizedProps);break;case 5:if(Ho(l,r),ra(r),p&512&&(Za||d===null||fo(d,d.return)),r.flags&32){T=r.stateNode;try{Ur(T,"")}catch(Bn){Mr(r,r.return,Bn)}}p&4&&r.stateNode!=null&&(T=r.memoizedProps,Mo(r,T,d!==null?d.memoizedProps:T)),p&1024&&(id=!0);break;case 6:if(Ho(l,r),ra(r),p&4){if(r.stateNode===null)throw Error(s(162));p=r.memoizedProps,d=r.stateNode;try{d.nodeValue=p}catch(Bn){Mr(r,r.return,Bn)}}break;case 3:if(B0=null,T=Zl,Zl=w0(l.containerInfo),Ho(l,r),Zl=T,ra(r),p&4&&d!==null&&d.memoizedState.isDehydrated)try{Lf(l.containerInfo)}catch(Bn){Mr(r,r.return,Bn)}id&&(id=!1,ap(r));break;case 4:p=Zl,Zl=w0(r.stateNode.containerInfo),Ho(l,r),ra(r),Zl=p;break;case 12:Ho(l,r),ra(r);break;case 31:Ho(l,r),ra(r),p&4&&(p=r.updateQueue,p!==null&&(r.updateQueue=null,Tf(r,p)));break;case 13:Ho(l,r),ra(r),r.child.flags&8192&&r.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(We=Jt()),p&4&&(p=r.updateQueue,p!==null&&(r.updateQueue=null,Tf(r,p)));break;case 22:T=r.memoizedState!==null;var Fe=d!==null&&d.memoizedState!==null,tt=_l,xt=Za;if(_l=tt||T,Za=xt||Fe,Ho(l,r),Za=xt,_l=tt,ra(r),p&8192)e:for(l=r.stateNode,l._visibility=T?l._visibility&-2:l._visibility|1,T&&(d===null||Fe||_l||Za||fu(r)),d=null,l=r;;){if(l.tag===5||l.tag===26){if(d===null){Fe=d=l;try{if(U=Fe.stateNode,T)te=U.style,typeof te.setProperty=="function"?te.setProperty("display","none","important"):te.display="none";else{ve=Fe.stateNode;var Nt=Fe.memoizedProps.style,st=Nt!=null&&Nt.hasOwnProperty("display")?Nt.display:null;ve.style.display=st==null||typeof st=="boolean"?"":(""+st).trim()}}catch(Bn){Mr(Fe,Fe.return,Bn)}}}else if(l.tag===6){if(d===null){Fe=l;try{Fe.stateNode.nodeValue=T?"":Fe.memoizedProps}catch(Bn){Mr(Fe,Fe.return,Bn)}}}else if(l.tag===18){if(d===null){Fe=l;try{var it=Fe.stateNode;T?gj(it,!0):gj(Fe.stateNode,!1)}catch(Bn){Mr(Fe,Fe.return,Bn)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===r)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===r)break e;for(;l.sibling===null;){if(l.return===null||l.return===r)break e;d===l&&(d=null),l=l.return}d===l&&(d=null),l.sibling.return=l.return,l=l.sibling}p&4&&(p=r.updateQueue,p!==null&&(d=p.retryQueue,d!==null&&(p.retryQueue=null,Tf(r,d))));break;case 19:Ho(l,r),ra(r),p&4&&(p=r.updateQueue,p!==null&&(r.updateQueue=null,Tf(r,p)));break;case 30:break;case 21:break;default:Ho(l,r),ra(r)}}function ra(r){var l=r.flags;if(l&2){try{for(var d,p=r.return;p!==null;){if(r0(p)){d=p;break}p=p.return}if(d==null)throw Error(s(160));switch(d.tag){case 27:var T=d.stateNode,U=rr(r);hu(r,U,T);break;case 5:var te=d.stateNode;d.flags&32&&(Ur(te,""),d.flags&=-33);var ve=rr(r);hu(r,ve,te);break;case 3:case 4:var Fe=d.stateNode.containerInfo,tt=rr(r);$r(r,tt,Fe);break;default:throw Error(s(161))}}catch(xt){Mr(r,r.return,xt)}r.flags&=-3}l&4096&&(r.flags&=-4097)}function ap(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var l=r;ap(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),r=r.sibling}}function Fl(r,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)l0(r,l.alternate,l),l=l.sibling}function fu(r){for(r=r.child;r!==null;){var l=r;switch(l.tag){case 0:case 11:case 14:case 15:Ic(4,l,l.return),fu(l);break;case 1:fo(l,l.return);var d=l.stateNode;typeof d.componentWillUnmount=="function"&&s0(l,l.return,d),fu(l);break;case 27:cp(l.stateNode);case 26:case 5:fo(l,l.return),fu(l);break;case 22:l.memoizedState===null&&fu(l);break;case 30:fu(l);break;default:fu(l)}r=r.sibling}}function XA(r,l,d){for(d=d&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var p=l.alternate,T=r,U=l,te=U.flags;switch(U.tag){case 0:case 11:case 15:XA(T,U,d),du(4,U);break;case 1:if(XA(T,U,d),p=U,T=p.stateNode,typeof T.componentDidMount=="function")try{T.componentDidMount()}catch(tt){Mr(p,p.return,tt)}if(p=U,T=p.updateQueue,T!==null){var ve=p.stateNode;try{var Fe=T.shared.hiddenCallbacks;if(Fe!==null)for(T.shared.hiddenCallbacks=null,T=0;T<Fe.length;T++)Ci(Fe[T],ve)}catch(tt){Mr(p,p.return,tt)}}d&&te&64&&Nf(U),tn(U,U.return);break;case 27:a0(U);case 26:case 5:XA(T,U,d),d&&p===null&&te&4&&Bh(U),tn(U,U.return);break;case 12:XA(T,U,d);break;case 31:XA(T,U,d),d&&te&4&&rp(T,U);break;case 13:XA(T,U,d),d&&te&4&&A0(T,U);break;case 22:U.memoizedState===null&&XA(T,U,d),tn(U,U.return);break;case 30:break;default:XA(T,U,d)}l=l.sibling}}function Sh(r,l){var d=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),r=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(r=l.memoizedState.cachePool.pool),r!==d&&(r!=null&&r.refCount++,d!=null&&au(d))}function _c(r,l){r=null,l.alternate!==null&&(r=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==r&&(l.refCount++,r!=null&&au(r))}function Vo(r,l,d,p){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)u0(r,l,d,p),l=l.sibling}function u0(r,l,d,p){var T=l.flags;switch(l.tag){case 0:case 11:case 15:Vo(r,l,d,p),T&2048&&du(9,l);break;case 1:Vo(r,l,d,p);break;case 3:Vo(r,l,d,p),T&2048&&(r=null,l.alternate!==null&&(r=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==r&&(l.refCount++,r!=null&&au(r)));break;case 12:if(T&2048){Vo(r,l,d,p),r=l.stateNode;try{var U=l.memoizedProps,te=U.id,ve=U.onPostCommit;typeof ve=="function"&&ve(te,l.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(Fe){Mr(l,l.return,Fe)}}else Vo(r,l,d,p);break;case 31:Vo(r,l,d,p);break;case 13:Vo(r,l,d,p);break;case 23:break;case 22:U=l.stateNode,te=l.alternate,l.memoizedState!==null?U._visibility&2?Vo(r,l,d,p):Nh(r,l):U._visibility&2?Vo(r,l,d,p):(U._visibility|=2,eA(r,l,d,p,(l.subtreeFlags&10256)!==0||!1)),T&2048&&Sh(te,l);break;case 24:Vo(r,l,d,p),T&2048&&_c(l.alternate,l);break;default:Vo(r,l,d,p)}}function eA(r,l,d,p,T){for(T=T&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var U=r,te=l,ve=d,Fe=p,tt=te.flags;switch(te.tag){case 0:case 11:case 15:eA(U,te,ve,Fe,T),du(8,te);break;case 23:break;case 22:var xt=te.stateNode;te.memoizedState!==null?xt._visibility&2?eA(U,te,ve,Fe,T):Nh(U,te):(xt._visibility|=2,eA(U,te,ve,Fe,T)),T&&tt&2048&&Sh(te.alternate,te);break;case 24:eA(U,te,ve,Fe,T),T&&tt&2048&&_c(te.alternate,te);break;default:eA(U,te,ve,Fe,T)}l=l.sibling}}function Nh(r,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var d=r,p=l,T=p.flags;switch(p.tag){case 22:Nh(d,p),T&2048&&Sh(p.alternate,p);break;case 24:Nh(d,p),T&2048&&_c(p.alternate,p);break;default:Nh(d,p)}l=l.sibling}}var Eh=8192;function mu(r,l,d){if(r.subtreeFlags&Eh)for(r=r.child;r!==null;)d0(r,l,d),r=r.sibling}function d0(r,l,d){switch(r.tag){case 26:mu(r,l,d),r.flags&Eh&&r.memoizedState!==null&&X_(d,Zl,r.memoizedState,r.memoizedProps);break;case 5:mu(r,l,d);break;case 3:case 4:var p=Zl;Zl=w0(r.stateNode.containerInfo),mu(r,l,d),Zl=p;break;case 22:r.memoizedState===null&&(p=r.alternate,p!==null&&p.memoizedState!==null?(p=Eh,Eh=16777216,mu(r,l,d),Eh=p):mu(r,l,d));break;default:mu(r,l,d)}}function ip(r){var l=r.alternate;if(l!==null&&(r=l.child,r!==null)){l.child=null;do l=r.sibling,r.sibling=null,r=l;while(r!==null)}}function Th(r){var l=r.deletions;if((r.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];Ei=p,f0(p,r)}ip(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)h0(r),r=r.sibling}function h0(r){switch(r.tag){case 0:case 11:case 15:Th(r),r.flags&2048&&Ic(9,r,r.return);break;case 3:Th(r);break;case 12:Th(r);break;case 22:var l=r.stateNode;r.memoizedState!==null&&l._visibility&2&&(r.return===null||r.return.tag!==13)?(l._visibility&=-3,If(r)):Th(r);break;default:Th(r)}}function If(r){var l=r.deletions;if((r.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];Ei=p,f0(p,r)}ip(r)}for(r=r.child;r!==null;){switch(l=r,l.tag){case 0:case 11:case 15:Ic(8,l,l.return),If(l);break;case 22:d=l.stateNode,d._visibility&2&&(d._visibility&=-3,If(l));break;default:If(l)}r=r.sibling}}function f0(r,l){for(;Ei!==null;){var d=Ei;switch(d.tag){case 0:case 11:case 15:Ic(8,d,l);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var p=d.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:au(d.memoizedState.cache)}if(p=d.child,p!==null)p.return=d,Ei=p;else e:for(d=r;Ei!==null;){p=Ei;var T=p.sibling,U=p.return;if(sp(p),p===d){Ei=null;break e}if(T!==null){T.return=U,Ei=T;break e}Ei=U}}}var Wx={getCacheForType:function(r){var l=di(xa),d=l.data.get(r);return d===void 0&&(d=r(),l.data.set(r,d)),d},cacheSignal:function(){return di(xa).controller.signal}},Xx=typeof WeakMap=="function"?WeakMap:Map,hr=0,Pr=null,Us=null,Ps=0,wr=0,hl=null,Fc=!1,od=!1,j=!1,x=0,C=0,B=0,z=0,se=0,he=0,Be=0,Ce=null,De=null,Ke=!1,We=0,mt=0,An=1/0,Kt=null,qt=null,Tn=0,gn=null,mn=null,Bs=0,gs=0,Yn=null,un=null,Is=0,ks=null;function Fn(){return(hr&2)!==0&&Ps!==0?Ps&-Ps:X.T!==null?ey():Cr()}function Va(){if(he===0)if((Ps&536870912)===0||Fs){var r=en;en<<=1,(en&3932160)===0&&(en=262144),he=r}else he=536870912;return r=ea.current,r!==null&&(r.flags|=32),he}function kr(r,l,d){(r===Pr&&(wr===2||wr===9)||r.cancelPendingCommit!==null)&&(Ul(r,0),po(r,Ps,he,!1)),ln(r,d),((hr&2)===0||r!==Pr)&&(r===Pr&&((hr&2)===0&&(z|=d),C===4&&po(r,Ps,he,!1)),Dc(r))}function Ko(r,l,d){if((hr&6)!==0)throw Error(s(327));var p=!d&&(l&127)===0&&(l&r.expiredLanes)===0||Yt(r,l),T=p?ld(r,l):qA(r,l,!0),U=p;do{if(T===0){od&&!p&&po(r,l,0,!1);break}else{if(d=r.current.alternate,U&&!Gi(d)){T=qA(r,l,!1),U=!1;continue}if(T===2){if(U=l,r.errorRecoveryDisabledLanes&U)var te=0;else te=r.pendingLanes&-536870913,te=te!==0?te:te&536870912?536870912:0;if(te!==0){l=te;e:{var ve=r;T=Ce;var Fe=ve.current.memoizedState.isDehydrated;if(Fe&&(Ul(ve,te).flags|=256),te=qA(ve,te,!1),te!==2){if(j&&!Fe){ve.errorRecoveryDisabledLanes|=U,z|=U,T=4;break e}U=De,De=T,U!==null&&(De===null?De=U:De.push.apply(De,U))}T=te}if(U=!1,T!==2)continue}}if(T===1){Ul(r,0),po(r,l,0,!0);break}e:{switch(p=r,U=T,U){case 0:case 1:throw Error(s(345));case 4:if((l&4194048)!==l)break;case 6:po(p,l,he,!Fc);break e;case 2:De=null;break;case 3:case 5:break;default:throw Error(s(329))}if((l&62914560)===l&&(T=We+300-Jt(),10<T)){if(po(p,l,he,!Fc),Dt(p,0,!0)!==0)break e;Bs=l,p.timeoutHandle=fj(jr.bind(null,p,d,De,Kt,Ke,l,he,z,Be,Fc,U,"Throttled",-0,0),T);break e}jr(p,d,De,Kt,Ke,l,he,z,Be,Fc,U,null,-0,0)}}break}while(!0);Dc(r)}function jr(r,l,d,p,T,U,te,ve,Fe,tt,xt,Nt,st,it){if(r.timeoutHandle=-1,Nt=l.subtreeFlags,Nt&8192||(Nt&16785408)===16785408){Nt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:hn},d0(l,U,Nt);var Bn=(U&62914560)===U?We-Jt():(U&4194048)===U?mt-Jt():0;if(Bn=J_(Nt,Bn),Bn!==null){Bs=U,r.cancelPendingCommit=Bn(G2.bind(null,r,l,U,d,p,T,te,ve,Fe,xt,Nt,null,st,it)),po(r,U,te,!tt);return}}G2(r,l,U,d,p,T,te,ve,Fe)}function Gi(r){for(var l=r;;){var d=l.tag;if((d===0||d===11||d===15)&&l.flags&16384&&(d=l.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var p=0;p<d.length;p++){var T=d[p],U=T.getSnapshot;T=T.value;try{if(!Ls(U(),T))return!1}catch{return!1}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===r)break;for(;l.sibling===null;){if(l.return===null||l.return===r)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function po(r,l,d,p){l&=~se,l&=~z,r.suspendedLanes|=l,r.pingedLanes&=~l,p&&(r.warmLanes|=l),p=r.expirationTimes;for(var T=l;0<T;){var U=31-lt(T),te=1<<U;p[U]=-1,T&=~te}d!==0&&Ga(r,d,l)}function $i(){return(hr&6)===0?(op(0),!1):!0}function so(){if(Us!==null){if(wr===0)var r=Us.return;else r=Us,Sl=vA=null,ou(r),Bt=null,jn=0,r=Us;for(;r!==null;)n0(r.alternate,r),r=r.return;Us=null}}function Ul(r,l){var d=r.timeoutHandle;d!==-1&&(r.timeoutHandle=-1,U_(d)),d=r.cancelPendingCommit,d!==null&&(r.cancelPendingCommit=null,d()),Bs=0,so(),Pr=r,Us=d=Uo(r.current,null),Ps=l,wr=0,hl=null,Fc=!1,od=Yt(r,l),j=!1,Be=he=se=z=B=C=0,De=Ce=null,Ke=!1,(l&8)!==0&&(l|=l&32);var p=r.entangledLanes;if(p!==0)for(r=r.entanglements,p&=l;0<p;){var T=31-lt(p),U=1<<T;l|=r[T],p&=~U}return x=l,eu(),d}function tA(r,l){Rn=null,X.H=mh,l===Qe||l===Ne?(l=yt(),wr=3):l===qe?(l=yt(),wr=4):wr=l===Gm?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,hl=l,Us===null&&(C=1,vh(r,Ro(l,r.current)))}function JA(){var r=ea.current;return r===null?!0:(Ps&4194048)===Ps?Os===null:(Ps&62914560)===Ps||(Ps&536870912)!==0?r===Os:!1}function Uc(){var r=X.H;return X.H=mh,r===null?mh:r}function Rc(){var r=X.A;return X.A=Wx,r}function Rl(){C=4,Fc||(Ps&4194048)!==Ps&&ea.current!==null||(od=!0),(B&134217727)===0&&(z&134217727)===0||Pr===null||po(Pr,Ps,he,!1)}function qA(r,l,d){var p=hr;hr|=2;var T=Uc(),U=Rc();(Pr!==r||Ps!==l)&&(Kt=null,Ul(r,l)),l=!1;var te=C;e:do try{if(wr!==0&&Us!==null){var ve=Us,Fe=hl;switch(wr){case 8:so(),te=6;break e;case 3:case 2:case 9:case 6:ea.current===null&&(l=!0);var tt=wr;if(wr=0,hl=null,_f(r,ve,Fe,tt),d&&od){te=0;break e}break;default:tt=wr,wr=0,hl=null,_f(r,ve,Fe,tt)}}ZA(),te=C;break}catch(xt){tA(r,xt)}while(!0);return l&&r.shellSuspendCounter++,Sl=vA=null,hr=p,X.H=T,X.A=U,Us===null&&(Pr=null,Ps=0,eu()),te}function ZA(){for(;Us!==null;)V2(Us)}function ld(r,l){var d=hr;hr|=2;var p=Uc(),T=Rc();Pr!==r||Ps!==l?(Kt=null,An=Jt()+500,Ul(r,l)):od=Yt(r,l);e:do try{if(wr!==0&&Us!==null){l=Us;var U=hl;t:switch(wr){case 1:wr=0,hl=null,_f(r,l,U,1);break;case 2:case 9:if(He(U)){wr=0,hl=null,K2(l);break}l=function(){wr!==2&&wr!==9||Pr!==r||(wr=7),Dc(r)},U.then(l,l);break e;case 3:wr=7;break e;case 4:wr=5;break e;case 7:He(U)?(wr=0,hl=null,K2(l)):(wr=0,hl=null,_f(r,l,U,7));break;case 5:var te=null;switch(Us.tag){case 26:te=Us.memoizedState;case 5:case 27:var ve=Us;if(te?Tj(te):ve.stateNode.complete){wr=0,hl=null;var Fe=ve.sibling;if(Fe!==null)Us=Fe;else{var tt=ve.return;tt!==null?(Us=tt,m0(tt)):Us=null}break t}}wr=0,hl=null,_f(r,l,U,5);break;case 6:wr=0,hl=null,_f(r,l,U,6);break;case 8:so(),C=6;break e;default:throw Error(s(462))}}Ih();break}catch(xt){tA(r,xt)}while(!0);return Sl=vA=null,X.H=p,X.A=T,hr=d,Us!==null?0:(Pr=null,Ps=0,eu(),C)}function Ih(){for(;Us!==null&&!zt();)V2(Us)}function V2(r){var l=Sf(r.alternate,r,x);r.memoizedProps=r.pendingProps,l===null?m0(r):Us=l}function K2(r){var l=r,d=l.alternate;switch(l.tag){case 15:case 0:l=ad(d,l,l.pendingProps,l.type,void 0,Ps);break;case 11:l=ad(d,l,l.pendingProps,l.type.render,l.ref,Ps);break;case 5:ou(l);default:n0(d,l),l=Us=nu(l,x),l=Sf(d,l,x)}r.memoizedProps=r.pendingProps,l===null?m0(r):Us=l}function _f(r,l,d,p){Sl=vA=null,ou(l),Bt=null,jn=0;var T=l.return;try{if(Gx(r,T,l,d,Ps)){C=1,vh(r,Ro(d,r.current)),Us=null;return}}catch(U){if(T!==null)throw Us=T,U;C=1,vh(r,Ro(d,r.current)),Us=null;return}l.flags&32768?(Fs||p===1?r=!0:od||(Ps&536870912)!==0?r=!1:(Fc=r=!0,(p===2||p===9||p===3||p===6)&&(p=ea.current,p!==null&&p.tag===13&&(p.flags|=16384))),z2(l,r)):m0(l)}function m0(r){var l=r;do{if((l.flags&32768)!==0){z2(l,Fc);return}r=l.return;var d=$x(l.alternate,l,x);if(d!==null){Us=d;return}if(l=l.sibling,l!==null){Us=l;return}Us=l=r}while(l!==null);C===0&&(C=5)}function z2(r,l){do{var d=Yx(r.alternate,r);if(d!==null){d.flags&=32767,Us=d;return}if(d=r.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!l&&(r=r.sibling,r!==null)){Us=r;return}Us=r=d}while(r!==null);C=6,Us=null}function G2(r,l,d,p,T,U,te,ve,Fe){r.cancelPendingCommit=null;do p0();while(Tn!==0);if((hr&6)!==0)throw Error(s(327));if(l!==null){if(l===r.current)throw Error(s(177));if(U=l.lanes|l.childLanes,U|=Qu,ri(r,d,U,te,ve,Fe),r===Pr&&(Us=Pr=null,Ps=0),mn=l,gn=r,Bs=d,gs=U,Yn=T,un=p,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,y_(kt,function(){return J2(),null})):(r.callbackNode=null,r.callbackPriority=0),p=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||p){p=X.T,X.T=null,T=q.p,q.p=2,te=hr,hr|=4;try{o0(r,l,d)}finally{hr=te,q.p=T,X.T=p}}Tn=1,$2(),Y2(),W2()}}function $2(){if(Tn===1){Tn=0;var r=gn,l=mn,d=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||d){d=X.T,X.T=null;var p=q.p;q.p=2;var T=hr;hr|=4;try{Ch(l,r);var U=ly,te=bl(r.containerInfo),ve=U.focusedElem,Fe=U.selectionRange;if(te!==ve&&ve&&ve.ownerDocument&&ll(ve.ownerDocument.documentElement,ve)){if(Fe!==null&&wl(ve)){var tt=Fe.start,xt=Fe.end;if(xt===void 0&&(xt=tt),"selectionStart"in ve)ve.selectionStart=tt,ve.selectionEnd=Math.min(xt,ve.value.length);else{var Nt=ve.ownerDocument||document,st=Nt&&Nt.defaultView||window;if(st.getSelection){var it=st.getSelection(),Bn=ve.textContent.length,Wn=Math.min(Fe.start,Bn),Wr=Fe.end===void 0?Wn:Math.min(Fe.end,Bn);!it.extend&&Wn>Wr&&(te=Wr,Wr=Wn,Wn=te);var $e=kA(ve,Wn),Oe=kA(ve,Wr);if($e&&Oe&&(it.rangeCount!==1||it.anchorNode!==$e.node||it.anchorOffset!==$e.offset||it.focusNode!==Oe.node||it.focusOffset!==Oe.offset)){var et=Nt.createRange();et.setStart($e.node,$e.offset),it.removeAllRanges(),Wn>Wr?(it.addRange(et),it.extend(Oe.node,Oe.offset)):(et.setEnd(Oe.node,Oe.offset),it.addRange(et))}}}}for(Nt=[],it=ve;it=it.parentNode;)it.nodeType===1&&Nt.push({element:it,left:it.scrollLeft,top:it.scrollTop});for(typeof ve.focus=="function"&&ve.focus(),ve=0;ve<Nt.length;ve++){var wt=Nt[ve];wt.element.scrollLeft=wt.left,wt.element.scrollTop=wt.top}}E0=!!oy,ly=oy=null}finally{hr=T,q.p=p,X.T=d}}r.current=l,Tn=2}}function Y2(){if(Tn===2){Tn=0;var r=gn,l=mn,d=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||d){d=X.T,X.T=null;var p=q.p;q.p=2;var T=hr;hr|=4;try{l0(r,l.alternate,l)}finally{hr=T,q.p=p,X.T=d}}Tn=3}}function W2(){if(Tn===4||Tn===3){Tn=0,$t();var r=gn,l=mn,d=Bs,p=un;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Tn=5:(Tn=0,mn=gn=null,X2(r,r.pendingLanes));var T=r.pendingLanes;if(T===0&&(qt=null),Hs(d),l=l.stateNode,ht&&typeof ht.onCommitFiberRoot=="function")try{ht.onCommitFiberRoot(Me,l,void 0,(l.current.flags&128)===128)}catch{}if(p!==null){l=X.T,T=q.p,q.p=2,X.T=null;try{for(var U=r.onRecoverableError,te=0;te<p.length;te++){var ve=p[te];U(ve.value,{componentStack:ve.stack})}}finally{X.T=l,q.p=T}}(Bs&3)!==0&&p0(),Dc(r),T=r.pendingLanes,(d&261930)!==0&&(T&42)!==0?r===ks?Is++:(Is=0,ks=r):Is=0,op(0)}}function X2(r,l){(r.pooledCacheLanes&=l)===0&&(l=r.pooledCache,l!=null&&(r.pooledCache=null,au(l)))}function p0(){return $2(),Y2(),W2(),J2()}function J2(){if(Tn!==5)return!1;var r=gn,l=gs;gs=0;var d=Hs(Bs),p=X.T,T=q.p;try{q.p=32>d?32:d,X.T=null,d=Yn,Yn=null;var U=gn,te=Bs;if(Tn=0,mn=gn=null,Bs=0,(hr&6)!==0)throw Error(s(331));var ve=hr;if(hr|=4,h0(U.current),u0(U,U.current,te,d),hr=ve,op(0,!1),ht&&typeof ht.onPostCommitFiberRoot=="function")try{ht.onPostCommitFiberRoot(Me,U)}catch{}return!0}finally{q.p=T,X.T=p,X2(r,l)}}function q2(r,l,d){l=Ro(d,l),l=Vm(r.stateNode,l,2),r=zn(r,l,2),r!==null&&(ln(r,2),Dc(r))}function Mr(r,l,d){if(r.tag===3)q2(r,r,d);else for(;l!==null;){if(l.tag===3){q2(l,r,d);break}else if(l.tag===1){var p=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(qt===null||!qt.has(p))){r=Ro(d,r),d=Km(2),p=zn(l,d,2),p!==null&&(zm(d,p,l,r),ln(p,2),Dc(p));break}}l=l.return}}function Jx(r,l,d){var p=r.pingCache;if(p===null){p=r.pingCache=new Xx;var T=new Set;p.set(l,T)}else T=p.get(l),T===void 0&&(T=new Set,p.set(l,T));T.has(d)||(j=!0,T.add(d),r=g_.bind(null,r,l,d),l.then(r,r))}function g_(r,l,d){var p=r.pingCache;p!==null&&p.delete(l),r.pingedLanes|=r.suspendedLanes&d,r.warmLanes&=~d,Pr===r&&(Ps&d)===d&&(C===4||C===3&&(Ps&62914560)===Ps&&300>Jt()-We?(hr&2)===0&&Ul(r,0):se|=d,Be===Ps&&(Be=0)),Dc(r)}function Z2(r,l){l===0&&(l=ts()),r=Bl(r,l),r!==null&&(ln(r,l),Dc(r))}function v_(r){var l=r.memoizedState,d=0;l!==null&&(d=l.retryLane),Z2(r,d)}function x_(r,l){var d=0;switch(r.tag){case 31:case 13:var p=r.stateNode,T=r.memoizedState;T!==null&&(d=T.retryLane);break;case 19:p=r.stateNode;break;case 22:p=r.stateNode._retryCache;break;default:throw Error(s(314))}p!==null&&p.delete(l),Z2(r,d)}function y_(r,l){return Ut(r,l)}var g0=null,Ff=null,qx=!1,v0=!1,Zx=!1,Ad=0;function Dc(r){r!==Ff&&r.next===null&&(Ff===null?g0=Ff=r:Ff=Ff.next=r),v0=!0,qx||(qx=!0,w_())}function op(r,l){if(!Zx&&v0){Zx=!0;do for(var d=!1,p=g0;p!==null;){if(r!==0){var T=p.pendingLanes;if(T===0)var U=0;else{var te=p.suspendedLanes,ve=p.pingedLanes;U=(1<<31-lt(42|r)+1)-1,U&=T&~(te&~ve),U=U&201326741?U&201326741|1:U?U|2:0}U!==0&&(d=!0,sj(p,U))}else U=Ps,U=Dt(p,p===Pr?U:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(U&3)===0||Yt(p,U)||(d=!0,sj(p,U));p=p.next}while(d);Zx=!1}}function b_(){ej()}function ej(){v0=qx=!1;var r=0;Ad!==0&&F_()&&(r=Ad);for(var l=Jt(),d=null,p=g0;p!==null;){var T=p.next,U=tj(p,l);U===0?(p.next=null,d===null?g0=T:d.next=T,T===null&&(Ff=d)):(d=p,(r!==0||(U&3)!==0)&&(v0=!0)),p=T}Tn!==0&&Tn!==5||op(r),Ad!==0&&(Ad=0)}function tj(r,l){for(var d=r.suspendedLanes,p=r.pingedLanes,T=r.expirationTimes,U=r.pendingLanes&-62914561;0<U;){var te=31-lt(U),ve=1<<te,Fe=T[te];Fe===-1?((ve&d)===0||(ve&p)!==0)&&(T[te]=rn(ve,l)):Fe<=l&&(r.expiredLanes|=ve),U&=~ve}if(l=Pr,d=Ps,d=Dt(r,r===l?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),p=r.callbackNode,d===0||r===l&&(wr===2||wr===9)||r.cancelPendingCommit!==null)return p!==null&&p!==null&&Rt(p),r.callbackNode=null,r.callbackPriority=0;if((d&3)===0||Yt(r,d)){if(l=d&-d,l===r.callbackPriority)return l;switch(p!==null&&Rt(p),Hs(d)){case 2:case 8:d=Ht;break;case 32:d=kt;break;case 268435456:d=gt;break;default:d=kt}return p=nj.bind(null,r),d=Ut(d,p),r.callbackPriority=l,r.callbackNode=d,l}return p!==null&&p!==null&&Rt(p),r.callbackPriority=2,r.callbackNode=null,2}function nj(r,l){if(Tn!==0&&Tn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var d=r.callbackNode;if(p0()&&r.callbackNode!==d)return null;var p=Ps;return p=Dt(r,r===Pr?p:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),p===0?null:(Ko(r,p,l),tj(r,Jt()),r.callbackNode!=null&&r.callbackNode===d?nj.bind(null,r):null)}function sj(r,l){if(p0())return null;Ko(r,l,!0)}function w_(){R_(function(){(hr&6)!==0?Ut(Ge,b_):ej()})}function ey(){if(Ad===0){var r=y;r===0&&(r=Vt,Vt<<=1,(Vt&261888)===0&&(Vt=256)),Ad=r}return Ad}function rj(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Sr(""+r)}function aj(r,l){var d=l.ownerDocument.createElement("input");return d.name=l.name,d.value=l.value,r.id&&d.setAttribute("form",r.id),l.parentNode.insertBefore(d,l),r=new FormData(r),d.parentNode.removeChild(d),r}function j_(r,l,d,p,T){if(l==="submit"&&d&&d.stateNode===T){var U=rj((T[us]||null).action),te=p.submitter;te&&(l=(l=te[us]||null)?rj(l.formAction):te.getAttribute("formAction"),l!==null&&(U=l,te=null));var ve=new Ya("action","action",null,p,T);r.push({event:ve,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(Ad!==0){var Fe=te?aj(T,te):new FormData(T);xf(d,{pending:!0,data:Fe,method:T.method,action:U},null,Fe)}}else typeof U=="function"&&(ve.preventDefault(),Fe=te?aj(T,te):new FormData(T),xf(d,{pending:!0,data:Fe,method:T.method,action:U},U,Fe))},currentTarget:T}]})}}for(var ty=0;ty<hA.length;ty++){var ny=hA[ty],B_=ny.toLowerCase(),C_=ny[0].toUpperCase()+ny.slice(1);Ao(B_,"on"+C_)}Ao(MA,"onAnimationEnd"),Ao(dA,"onAnimationIteration"),Ao(eh,"onAnimationStart"),Ao("dblclick","onDoubleClick"),Ao("focusin","onFocus"),Ao("focusout","onBlur"),Ao(th,"onTransitionRun"),Ao(nh,"onTransitionStart"),Ao(sh,"onTransitionCancel"),Ao(Du,"onTransitionEnd"),Gn("onMouseEnter",["mouseout","mouseover"]),Gn("onMouseLeave",["mouseout","mouseover"]),Gn("onPointerEnter",["pointerout","pointerover"]),Gn("onPointerLeave",["pointerout","pointerover"]),vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vn("onBeforeInput",["compositionend","keypress","textInput","paste"]),vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),S_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(lp));function ij(r,l){l=(l&4)!==0;for(var d=0;d<r.length;d++){var p=r[d],T=p.event;p=p.listeners;e:{var U=void 0;if(l)for(var te=p.length-1;0<=te;te--){var ve=p[te],Fe=ve.instance,tt=ve.currentTarget;if(ve=ve.listener,Fe!==U&&T.isPropagationStopped())break e;U=ve,T.currentTarget=tt;try{U(T)}catch(xt){mc(xt)}T.currentTarget=null,U=Fe}else for(te=0;te<p.length;te++){if(ve=p[te],Fe=ve.instance,tt=ve.currentTarget,ve=ve.listener,Fe!==U&&T.isPropagationStopped())break e;U=ve,T.currentTarget=tt;try{U(T)}catch(xt){mc(xt)}T.currentTarget=null,U=Fe}}}}function zs(r,l){var d=l[fr];d===void 0&&(d=l[fr]=new Set);var p=r+"__bubble";d.has(p)||(oj(l,r,2,!1),d.add(p))}function sy(r,l,d){var p=0;l&&(p|=4),oj(d,r,p,l)}var x0="_reactListening"+Math.random().toString(36).slice(2);function ry(r){if(!r[x0]){r[x0]=!0,Gt.forEach(function(d){d!=="selectionchange"&&(S_.has(d)||sy(d,!1,r),sy(d,!0,r))});var l=r.nodeType===9?r:r.ownerDocument;l===null||l[x0]||(l[x0]=!0,sy("selectionchange",!1,l))}}function oj(r,l,d,p){switch(Lj(l)){case 2:var T=e6;break;case 8:T=t6;break;default:T=xy}d=T.bind(null,l,d,r),T=void 0,!la||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(T=!0),p?T!==void 0?r.addEventListener(l,d,{capture:!0,passive:T}):r.addEventListener(l,d,!0):T!==void 0?r.addEventListener(l,d,{passive:T}):r.addEventListener(l,d,!1)}function ay(r,l,d,p,T){var U=p;if((l&1)===0&&(l&2)===0&&p!==null)e:for(;;){if(p===null)return;var te=p.tag;if(te===3||te===4){var ve=p.stateNode.containerInfo;if(ve===T)break;if(te===4)for(te=p.return;te!==null;){var Fe=te.tag;if((Fe===3||Fe===4)&&te.stateNode.containerInfo===T)return;te=te.return}for(;ve!==null;){if(te=zr(ve),te===null)return;if(Fe=te.tag,Fe===5||Fe===6||Fe===26||Fe===27){p=U=te;continue e}ve=ve.parentNode}}p=p.return}oa(function(){var tt=U,xt=ms(d),Nt=[];e:{var st=Lu.get(r);if(st!==void 0){var it=Ya,Bn=r;switch(r){case"keypress":if($a(d)===0)break e;case"keydown":case"keyup":it=Es;break;case"focusin":Bn="focus",it=oo;break;case"focusout":Bn="blur",it=oo;break;case"beforeblur":case"afterblur":it=oo;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":it=cA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":it=Pi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":it=Y;break;case MA:case dA:case eh:it=k;break;case Du:it=we;break;case"scroll":case"scrollend":it=xl;break;case"wheel":it=nt;break;case"copy":case"cut":case"paste":it=Ee;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":it=pr;break;case"toggle":case"beforetoggle":it=Jn}var Wn=(l&4)!==0,Wr=!Wn&&(r==="scroll"||r==="scrollend"),$e=Wn?st!==null?st+"Capture":null:st;Wn=[];for(var Oe=tt,et;Oe!==null;){var wt=Oe;if(et=wt.stateNode,wt=wt.tag,wt!==5&&wt!==26&&wt!==27||et===null||$e===null||(wt=Rr(Oe,$e),wt!=null&&Wn.push(Ap(Oe,wt,et))),Wr)break;Oe=Oe.return}0<Wn.length&&(st=new it(st,Bn,null,d,xt),Nt.push({event:st,listeners:Wn}))}}if((l&7)===0){e:{if(st=r==="mouseover"||r==="pointerover",it=r==="mouseout"||r==="pointerout",st&&d!==js&&(Bn=d.relatedTarget||d.fromElement)&&(zr(Bn)||Bn[Rs]))break e;if((it||st)&&(st=xt.window===xt?xt:(st=xt.ownerDocument)?st.defaultView||st.parentWindow:window,it?(Bn=d.relatedTarget||d.toElement,it=tt,Bn=Bn?zr(Bn):null,Bn!==null&&(Wr=o(Bn),Wn=Bn.tag,Bn!==Wr||Wn!==5&&Wn!==27&&Wn!==6)&&(Bn=null)):(it=null,Bn=tt),it!==Bn)){if(Wn=cA,wt="onMouseLeave",$e="onMouseEnter",Oe="mouse",(r==="pointerout"||r==="pointerover")&&(Wn=pr,wt="onPointerLeave",$e="onPointerEnter",Oe="pointer"),Wr=it==null?st:_e(it),et=Bn==null?st:_e(Bn),st=new Wn(wt,Oe+"leave",it,d,xt),st.target=Wr,st.relatedTarget=et,wt=null,zr(xt)===tt&&(Wn=new Wn($e,Oe+"enter",Bn,d,xt),Wn.target=et,Wn.relatedTarget=Wr,wt=Wn),Wr=wt,it&&Bn)t:{for(Wn=N_,$e=it,Oe=Bn,et=0,wt=$e;wt;wt=Wn(wt))et++;wt=0;for(var Mn=Oe;Mn;Mn=Wn(Mn))wt++;for(;0<et-wt;)$e=Wn($e),et--;for(;0<wt-et;)Oe=Wn(Oe),wt--;for(;et--;){if($e===Oe||Oe!==null&&$e===Oe.alternate){Wn=$e;break t}$e=Wn($e),Oe=Wn(Oe)}Wn=null}else Wn=null;it!==null&&lj(Nt,st,it,Wn,!1),Bn!==null&&Wr!==null&&lj(Nt,Wr,Bn,Wn,!0)}}e:{if(st=tt?_e(tt):window,it=st.nodeName&&st.nodeName.toLowerCase(),it==="select"||it==="input"&&st.type==="file")var gr=Fo;else if(Io(st))if(ws)gr=oi;else{gr=ua;var In=OA}else it=st.nodeName,!it||it.toLowerCase()!=="input"||st.type!=="checkbox"&&st.type!=="radio"?tt&&So(tt.elementType)&&(gr=Fo):gr=Mi;if(gr&&(gr=gr(r,tt))){Ys(Nt,gr,d,xt);break e}In&&In(r,st,tt),r==="focusout"&&tt&&st.type==="number"&&tt.memoizedProps.value!=null&&Ml(st,"number",st.value)}switch(In=tt?_e(tt):window,r){case"focusin":(Io(In)||In.contentEditable==="true")&&(va=In,zl=tt,wi=null);break;case"focusout":wi=zl=va=null;break;case"mousedown":Hi=!0;break;case"contextmenu":case"mouseup":case"dragend":Hi=!1,Ws(Nt,d,xt);break;case"selectionchange":if(Al)break;case"keydown":case"keyup":Ws(Nt,d,xt)}var Ss;if(ps)e:{switch(r){case"compositionstart":var Js="onCompositionStart";break e;case"compositionend":Js="onCompositionEnd";break e;case"compositionupdate":Js="onCompositionUpdate";break e}Js=void 0}else al?lo(r,d)&&(Js="onCompositionEnd"):r==="keydown"&&d.keyCode===229&&(Js="onCompositionStart");Js&&(ga&&d.locale!=="ko"&&(al||Js!=="onCompositionStart"?Js==="onCompositionEnd"&&al&&(Ss=rl()):(Jr=xt,Aa="value"in Jr?Jr.value:Jr.textContent,al=!0)),In=y0(tt,Js),0<In.length&&(Js=new ze(Js,r,null,d,xt),Nt.push({event:Js,listeners:In}),Ss?Js.data=Ss:(Ss=To(d),Ss!==null&&(Js.data=Ss)))),(Ss=ka?Na(r,d):Xa(r,d))&&(Js=y0(tt,"onBeforeInput"),0<Js.length&&(In=new ze("onBeforeInput","beforeinput",null,d,xt),Nt.push({event:In,listeners:Js}),In.data=Ss)),j_(Nt,r,tt,d,xt)}ij(Nt,l)})}function Ap(r,l,d){return{instance:r,listener:l,currentTarget:d}}function y0(r,l){for(var d=l+"Capture",p=[];r!==null;){var T=r,U=T.stateNode;if(T=T.tag,T!==5&&T!==26&&T!==27||U===null||(T=Rr(r,d),T!=null&&p.unshift(Ap(r,T,U)),T=Rr(r,l),T!=null&&p.push(Ap(r,T,U))),r.tag===3)return p;r=r.return}return[]}function N_(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function lj(r,l,d,p,T){for(var U=l._reactName,te=[];d!==null&&d!==p;){var ve=d,Fe=ve.alternate,tt=ve.stateNode;if(ve=ve.tag,Fe!==null&&Fe===p)break;ve!==5&&ve!==26&&ve!==27||tt===null||(Fe=tt,T?(tt=Rr(d,U),tt!=null&&te.unshift(Ap(d,tt,Fe))):T||(tt=Rr(d,U),tt!=null&&te.push(Ap(d,tt,Fe)))),d=d.return}te.length!==0&&r.push({event:l,listeners:te})}var E_=/\r\n?/g,T_=/\u0000|\uFFFD/g;function Aj(r){return(typeof r=="string"?r:""+r).replace(E_,`
`).replace(T_,"")}function cj(r,l){return l=Aj(l),Aj(r)===l}function Yr(r,l,d,p,T,U){switch(d){case"children":typeof p=="string"?l==="body"||l==="textarea"&&p===""||Ur(r,p):(typeof p=="number"||typeof p=="bigint")&&l!=="body"&&Ur(r,""+p);break;case"className":Cs(r,"class",p);break;case"tabIndex":Cs(r,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":Cs(r,d,p);break;case"style":vl(r,p,U);break;case"data":if(l!=="object"){Cs(r,"data",p);break}case"src":case"href":if(p===""&&(l!=="a"||d!=="href")){r.removeAttribute(d);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){r.removeAttribute(d);break}p=Sr(""+p),r.setAttribute(d,p);break;case"action":case"formAction":if(typeof p=="function"){r.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof U=="function"&&(d==="formAction"?(l!=="input"&&Yr(r,l,"name",T.name,T,null),Yr(r,l,"formEncType",T.formEncType,T,null),Yr(r,l,"formMethod",T.formMethod,T,null),Yr(r,l,"formTarget",T.formTarget,T,null)):(Yr(r,l,"encType",T.encType,T,null),Yr(r,l,"method",T.method,T,null),Yr(r,l,"target",T.target,T,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){r.removeAttribute(d);break}p=Sr(""+p),r.setAttribute(d,p);break;case"onClick":p!=null&&(r.onclick=hn);break;case"onScroll":p!=null&&zs("scroll",r);break;case"onScrollEnd":p!=null&&zs("scrollend",r);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(s(61));if(d=p.__html,d!=null){if(T.children!=null)throw Error(s(60));r.innerHTML=d}}break;case"multiple":r.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":r.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){r.removeAttribute("xlink:href");break}d=Sr(""+p),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?r.setAttribute(d,""+p):r.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?r.setAttribute(d,""):r.removeAttribute(d);break;case"capture":case"download":p===!0?r.setAttribute(d,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?r.setAttribute(d,p):r.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?r.setAttribute(d,p):r.removeAttribute(d);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?r.removeAttribute(d):r.setAttribute(d,p);break;case"popover":zs("beforetoggle",r),zs("toggle",r),Sn(r,"popover",p);break;case"xlinkActuate":is(r,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":is(r,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":is(r,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":is(r,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":is(r,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":is(r,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":is(r,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":is(r,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":is(r,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Sn(r,"is",p);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=io.get(d)||d,Sn(r,d,p))}}function iy(r,l,d,p,T,U){switch(d){case"style":vl(r,p,U);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(s(61));if(d=p.__html,d!=null){if(T.children!=null)throw Error(s(60));r.innerHTML=d}}break;case"children":typeof p=="string"?Ur(r,p):(typeof p=="number"||typeof p=="bigint")&&Ur(r,""+p);break;case"onScroll":p!=null&&zs("scroll",r);break;case"onScrollEnd":p!=null&&zs("scrollend",r);break;case"onClick":p!=null&&(r.onclick=hn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!En.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(T=d.endsWith("Capture"),l=d.slice(2,T?d.length-7:void 0),U=r[us]||null,U=U!=null?U[d]:null,typeof U=="function"&&r.removeEventListener(l,U,T),typeof p=="function")){typeof U!="function"&&U!==null&&(d in r?r[d]=null:r.hasAttribute(d)&&r.removeAttribute(d)),r.addEventListener(l,p,T);break e}d in r?r[d]=p:p===!0?r.setAttribute(d,""):Sn(r,d,p)}}}function go(r,l,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":zs("error",r),zs("load",r);var p=!1,T=!1,U;for(U in d)if(d.hasOwnProperty(U)){var te=d[U];if(te!=null)switch(U){case"src":p=!0;break;case"srcSet":T=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,l));default:Yr(r,l,U,te,d,null)}}T&&Yr(r,l,"srcSet",d.srcSet,d,null),p&&Yr(r,l,"src",d.src,d,null);return;case"input":zs("invalid",r);var ve=U=te=T=null,Fe=null,tt=null;for(p in d)if(d.hasOwnProperty(p)){var xt=d[p];if(xt!=null)switch(p){case"name":T=xt;break;case"type":te=xt;break;case"checked":Fe=xt;break;case"defaultChecked":tt=xt;break;case"value":U=xt;break;case"defaultValue":ve=xt;break;case"children":case"dangerouslySetInnerHTML":if(xt!=null)throw Error(s(137,l));break;default:Yr(r,l,p,xt,d,null)}}AA(r,U,ve,Fe,tt,te,T,!1);return;case"select":zs("invalid",r),p=te=U=null;for(T in d)if(d.hasOwnProperty(T)&&(ve=d[T],ve!=null))switch(T){case"value":U=ve;break;case"defaultValue":te=ve;break;case"multiple":p=ve;default:Yr(r,l,T,ve,d,null)}l=U,d=te,r.multiple=!!p,l!=null?Pa(r,!!p,l,!1):d!=null&&Pa(r,!!p,d,!0);return;case"textarea":zs("invalid",r),U=T=p=null;for(te in d)if(d.hasOwnProperty(te)&&(ve=d[te],ve!=null))switch(te){case"value":p=ve;break;case"defaultValue":T=ve;break;case"children":U=ve;break;case"dangerouslySetInnerHTML":if(ve!=null)throw Error(s(91));break;default:Yr(r,l,te,ve,d,null)}ao(r,p,T,U);return;case"option":for(Fe in d)if(d.hasOwnProperty(Fe)&&(p=d[Fe],p!=null))switch(Fe){case"selected":r.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:Yr(r,l,Fe,p,d,null)}return;case"dialog":zs("beforetoggle",r),zs("toggle",r),zs("cancel",r),zs("close",r);break;case"iframe":case"object":zs("load",r);break;case"video":case"audio":for(p=0;p<lp.length;p++)zs(lp[p],r);break;case"image":zs("error",r),zs("load",r);break;case"details":zs("toggle",r);break;case"embed":case"source":case"link":zs("error",r),zs("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(tt in d)if(d.hasOwnProperty(tt)&&(p=d[tt],p!=null))switch(tt){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,l));default:Yr(r,l,tt,p,d,null)}return;default:if(So(l)){for(xt in d)d.hasOwnProperty(xt)&&(p=d[xt],p!==void 0&&iy(r,l,xt,p,d,void 0));return}}for(ve in d)d.hasOwnProperty(ve)&&(p=d[ve],p!=null&&Yr(r,l,ve,p,d,null))}function I_(r,l,d,p){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var T=null,U=null,te=null,ve=null,Fe=null,tt=null,xt=null;for(it in d){var Nt=d[it];if(d.hasOwnProperty(it)&&Nt!=null)switch(it){case"checked":break;case"value":break;case"defaultValue":Fe=Nt;default:p.hasOwnProperty(it)||Yr(r,l,it,null,p,Nt)}}for(var st in p){var it=p[st];if(Nt=d[st],p.hasOwnProperty(st)&&(it!=null||Nt!=null))switch(st){case"type":U=it;break;case"name":T=it;break;case"checked":tt=it;break;case"defaultChecked":xt=it;break;case"value":te=it;break;case"defaultValue":ve=it;break;case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(s(137,l));break;default:it!==Nt&&Yr(r,l,st,it,p,Nt)}}sl(r,te,ve,Fe,tt,xt,U,T);return;case"select":it=te=ve=st=null;for(U in d)if(Fe=d[U],d.hasOwnProperty(U)&&Fe!=null)switch(U){case"value":break;case"multiple":it=Fe;default:p.hasOwnProperty(U)||Yr(r,l,U,null,p,Fe)}for(T in p)if(U=p[T],Fe=d[T],p.hasOwnProperty(T)&&(U!=null||Fe!=null))switch(T){case"value":st=U;break;case"defaultValue":ve=U;break;case"multiple":te=U;default:U!==Fe&&Yr(r,l,T,U,p,Fe)}l=ve,d=te,p=it,st!=null?Pa(r,!!d,st,!1):!!p!=!!d&&(l!=null?Pa(r,!!d,l,!0):Pa(r,!!d,d?[]:"",!1));return;case"textarea":it=st=null;for(ve in d)if(T=d[ve],d.hasOwnProperty(ve)&&T!=null&&!p.hasOwnProperty(ve))switch(ve){case"value":break;case"children":break;default:Yr(r,l,ve,null,p,T)}for(te in p)if(T=p[te],U=d[te],p.hasOwnProperty(te)&&(T!=null||U!=null))switch(te){case"value":st=T;break;case"defaultValue":it=T;break;case"children":break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:T!==U&&Yr(r,l,te,T,p,U)}Hl(r,st,it);return;case"option":for(var Bn in d)if(st=d[Bn],d.hasOwnProperty(Bn)&&st!=null&&!p.hasOwnProperty(Bn))switch(Bn){case"selected":r.selected=!1;break;default:Yr(r,l,Bn,null,p,st)}for(Fe in p)if(st=p[Fe],it=d[Fe],p.hasOwnProperty(Fe)&&st!==it&&(st!=null||it!=null))switch(Fe){case"selected":r.selected=st&&typeof st!="function"&&typeof st!="symbol";break;default:Yr(r,l,Fe,st,p,it)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Wn in d)st=d[Wn],d.hasOwnProperty(Wn)&&st!=null&&!p.hasOwnProperty(Wn)&&Yr(r,l,Wn,null,p,st);for(tt in p)if(st=p[tt],it=d[tt],p.hasOwnProperty(tt)&&st!==it&&(st!=null||it!=null))switch(tt){case"children":case"dangerouslySetInnerHTML":if(st!=null)throw Error(s(137,l));break;default:Yr(r,l,tt,st,p,it)}return;default:if(So(l)){for(var Wr in d)st=d[Wr],d.hasOwnProperty(Wr)&&st!==void 0&&!p.hasOwnProperty(Wr)&&iy(r,l,Wr,void 0,p,st);for(xt in p)st=p[xt],it=d[xt],!p.hasOwnProperty(xt)||st===it||st===void 0&&it===void 0||iy(r,l,xt,st,p,it);return}}for(var $e in d)st=d[$e],d.hasOwnProperty($e)&&st!=null&&!p.hasOwnProperty($e)&&Yr(r,l,$e,null,p,st);for(Nt in p)st=p[Nt],it=d[Nt],!p.hasOwnProperty(Nt)||st===it||st==null&&it==null||Yr(r,l,Nt,st,p,it)}function uj(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function __(){if(typeof performance.getEntriesByType=="function"){for(var r=0,l=0,d=performance.getEntriesByType("resource"),p=0;p<d.length;p++){var T=d[p],U=T.transferSize,te=T.initiatorType,ve=T.duration;if(U&&ve&&uj(te)){for(te=0,ve=T.responseEnd,p+=1;p<d.length;p++){var Fe=d[p],tt=Fe.startTime;if(tt>ve)break;var xt=Fe.transferSize,Nt=Fe.initiatorType;xt&&uj(Nt)&&(Fe=Fe.responseEnd,te+=xt*(Fe<ve?1:(ve-tt)/(Fe-tt)))}if(--p,l+=8*(U+te)/(T.duration/1e3),r++,10<r)break}}if(0<r)return l/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var oy=null,ly=null;function b0(r){return r.nodeType===9?r:r.ownerDocument}function dj(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function hj(r,l){if(r===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&l==="foreignObject"?0:r}function Ay(r,l){return r==="textarea"||r==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var cy=null;function F_(){var r=window.event;return r&&r.type==="popstate"?r===cy?!1:(cy=r,!0):(cy=null,!1)}var fj=typeof setTimeout=="function"?setTimeout:void 0,U_=typeof clearTimeout=="function"?clearTimeout:void 0,mj=typeof Promise=="function"?Promise:void 0,R_=typeof queueMicrotask=="function"?queueMicrotask:typeof mj<"u"?function(r){return mj.resolve(null).then(r).catch(D_)}:fj;function D_(r){setTimeout(function(){throw r})}function cd(r){return r==="head"}function pj(r,l){var d=l,p=0;do{var T=d.nextSibling;if(r.removeChild(d),T&&T.nodeType===8)if(d=T.data,d==="/$"||d==="/&"){if(p===0){r.removeChild(T),Lf(l);return}p--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")p++;else if(d==="html")cp(r.ownerDocument.documentElement);else if(d==="head"){d=r.ownerDocument.head,cp(d);for(var U=d.firstChild;U;){var te=U.nextSibling,ve=U.nodeName;U[_r]||ve==="SCRIPT"||ve==="STYLE"||ve==="LINK"&&U.rel.toLowerCase()==="stylesheet"||d.removeChild(U),U=te}}else d==="body"&&cp(r.ownerDocument.body);d=T}while(d);Lf(l)}function gj(r,l){var d=r;r=0;do{var p=d.nextSibling;if(d.nodeType===1?l?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(l?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),p&&p.nodeType===8)if(d=p.data,d==="/$"){if(r===0)break;r--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||r++;d=p}while(d)}function uy(r){var l=r.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var d=l;switch(l=l.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":uy(d),vi(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}r.removeChild(d)}}function L_(r,l,d,p){for(;r.nodeType===1;){var T=d;if(r.nodeName.toLowerCase()!==l.toLowerCase()){if(!p&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(p){if(!r[_r])switch(l){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(U=r.getAttribute("rel"),U==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(U!==T.rel||r.getAttribute("href")!==(T.href==null||T.href===""?null:T.href)||r.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin)||r.getAttribute("title")!==(T.title==null?null:T.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(U=r.getAttribute("src"),(U!==(T.src==null?null:T.src)||r.getAttribute("type")!==(T.type==null?null:T.type)||r.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin))&&U&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(l==="input"&&r.type==="hidden"){var U=T.name==null?null:""+T.name;if(T.type==="hidden"&&r.getAttribute("name")===U)return r}else return r;if(r=NA(r.nextSibling),r===null)break}return null}function Q_(r,l,d){if(l==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!d||(r=NA(r.nextSibling),r===null))return null;return r}function vj(r,l){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=NA(r.nextSibling),r===null))return null;return r}function dy(r){return r.data==="$?"||r.data==="$~"}function hy(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function O_(r,l){var d=r.ownerDocument;if(r.data==="$~")r._reactRetry=l;else if(r.data!=="$?"||d.readyState!=="loading")l();else{var p=function(){l(),d.removeEventListener("DOMContentLoaded",p)};d.addEventListener("DOMContentLoaded",p),r._reactRetry=p}}function NA(r){for(;r!=null;r=r.nextSibling){var l=r.nodeType;if(l===1||l===3)break;if(l===8){if(l=r.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return r}var fy=null;function xj(r){r=r.nextSibling;for(var l=0;r;){if(r.nodeType===8){var d=r.data;if(d==="/$"||d==="/&"){if(l===0)return NA(r.nextSibling);l--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||l++}r=r.nextSibling}return null}function yj(r){r=r.previousSibling;for(var l=0;r;){if(r.nodeType===8){var d=r.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(l===0)return r;l--}else d!=="/$"&&d!=="/&"||l++}r=r.previousSibling}return null}function bj(r,l,d){switch(l=b0(d),r){case"html":if(r=l.documentElement,!r)throw Error(s(452));return r;case"head":if(r=l.head,!r)throw Error(s(453));return r;case"body":if(r=l.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}function cp(r){for(var l=r.attributes;l.length;)r.removeAttributeNode(l[0]);vi(r)}var EA=new Map,wj=new Set;function w0(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var pu=q.d;q.d={f:P_,r:k_,D:M_,C:H_,L:V_,m:K_,X:G_,S:z_,M:$_};function P_(){var r=pu.f(),l=$i();return r||l}function k_(r){var l=Sa(r);l!==null&&l.tag===5&&l.type==="form"?Gg(l):pu.r(r)}var Uf=typeof document>"u"?null:document;function jj(r,l,d){var p=Uf;if(p&&typeof l=="string"&&l){var T=Fr(l);T='link[rel="'+r+'"][href="'+T+'"]',typeof d=="string"&&(T+='[crossorigin="'+d+'"]'),wj.has(T)||(wj.add(T),r={rel:r,crossOrigin:d,href:l},p.querySelector(T)===null&&(l=p.createElement("link"),go(l,"link",r),Ft(l),p.head.appendChild(l)))}}function M_(r){pu.D(r),jj("dns-prefetch",r,null)}function H_(r,l){pu.C(r,l),jj("preconnect",r,l)}function V_(r,l,d){pu.L(r,l,d);var p=Uf;if(p&&r&&l){var T='link[rel="preload"][as="'+Fr(l)+'"]';l==="image"&&d&&d.imageSrcSet?(T+='[imagesrcset="'+Fr(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(T+='[imagesizes="'+Fr(d.imageSizes)+'"]')):T+='[href="'+Fr(r)+'"]';var U=T;switch(l){case"style":U=Rf(r);break;case"script":U=Df(r)}EA.has(U)||(r=m({rel:"preload",href:l==="image"&&d&&d.imageSrcSet?void 0:r,as:l},d),EA.set(U,r),p.querySelector(T)!==null||l==="style"&&p.querySelector(up(U))||l==="script"&&p.querySelector(dp(U))||(l=p.createElement("link"),go(l,"link",r),Ft(l),p.head.appendChild(l)))}}function K_(r,l){pu.m(r,l);var d=Uf;if(d&&r){var p=l&&typeof l.as=="string"?l.as:"script",T='link[rel="modulepreload"][as="'+Fr(p)+'"][href="'+Fr(r)+'"]',U=T;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":U=Df(r)}if(!EA.has(U)&&(r=m({rel:"modulepreload",href:r},l),EA.set(U,r),d.querySelector(T)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(dp(U)))return}p=d.createElement("link"),go(p,"link",r),Ft(p),d.head.appendChild(p)}}}function z_(r,l,d){pu.S(r,l,d);var p=Uf;if(p&&r){var T=Et(p).hoistableStyles,U=Rf(r);l=l||"default";var te=T.get(U);if(!te){var ve={loading:0,preload:null};if(te=p.querySelector(up(U)))ve.loading=5;else{r=m({rel:"stylesheet",href:r,"data-precedence":l},d),(d=EA.get(U))&&my(r,d);var Fe=te=p.createElement("link");Ft(Fe),go(Fe,"link",r),Fe._p=new Promise(function(tt,xt){Fe.onload=tt,Fe.onerror=xt}),Fe.addEventListener("load",function(){ve.loading|=1}),Fe.addEventListener("error",function(){ve.loading|=2}),ve.loading|=4,j0(te,l,p)}te={type:"stylesheet",instance:te,count:1,state:ve},T.set(U,te)}}}function G_(r,l){pu.X(r,l);var d=Uf;if(d&&r){var p=Et(d).hoistableScripts,T=Df(r),U=p.get(T);U||(U=d.querySelector(dp(T)),U||(r=m({src:r,async:!0},l),(l=EA.get(T))&&py(r,l),U=d.createElement("script"),Ft(U),go(U,"link",r),d.head.appendChild(U)),U={type:"script",instance:U,count:1,state:null},p.set(T,U))}}function $_(r,l){pu.M(r,l);var d=Uf;if(d&&r){var p=Et(d).hoistableScripts,T=Df(r),U=p.get(T);U||(U=d.querySelector(dp(T)),U||(r=m({src:r,async:!0,type:"module"},l),(l=EA.get(T))&&py(r,l),U=d.createElement("script"),Ft(U),go(U,"link",r),d.head.appendChild(U)),U={type:"script",instance:U,count:1,state:null},p.set(T,U))}}function Bj(r,l,d,p){var T=(T=ce.current)?w0(T):null;if(!T)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(l=Rf(d.href),d=Et(T).hoistableStyles,p=d.get(l),p||(p={type:"style",instance:null,count:0,state:null},d.set(l,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){r=Rf(d.href);var U=Et(T).hoistableStyles,te=U.get(r);if(te||(T=T.ownerDocument||T,te={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},U.set(r,te),(U=T.querySelector(up(r)))&&!U._p&&(te.instance=U,te.state.loading=5),EA.has(r)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},EA.set(r,d),U||Y_(T,r,d,te.state))),l&&p===null)throw Error(s(528,""));return te}if(l&&p!==null)throw Error(s(529,""));return null;case"script":return l=d.async,d=d.src,typeof d=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Df(d),d=Et(T).hoistableScripts,p=d.get(l),p||(p={type:"script",instance:null,count:0,state:null},d.set(l,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function Rf(r){return'href="'+Fr(r)+'"'}function up(r){return'link[rel="stylesheet"]['+r+"]"}function Cj(r){return m({},r,{"data-precedence":r.precedence,precedence:null})}function Y_(r,l,d,p){r.querySelector('link[rel="preload"][as="style"]['+l+"]")?p.loading=1:(l=r.createElement("link"),p.preload=l,l.addEventListener("load",function(){return p.loading|=1}),l.addEventListener("error",function(){return p.loading|=2}),go(l,"link",d),Ft(l),r.head.appendChild(l))}function Df(r){return'[src="'+Fr(r)+'"]'}function dp(r){return"script[async]"+r}function Sj(r,l,d){if(l.count++,l.instance===null)switch(l.type){case"style":var p=r.querySelector('style[data-href~="'+Fr(d.href)+'"]');if(p)return l.instance=p,Ft(p),p;var T=m({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return p=(r.ownerDocument||r).createElement("style"),Ft(p),go(p,"style",T),j0(p,d.precedence,r),l.instance=p;case"stylesheet":T=Rf(d.href);var U=r.querySelector(up(T));if(U)return l.state.loading|=4,l.instance=U,Ft(U),U;p=Cj(d),(T=EA.get(T))&&my(p,T),U=(r.ownerDocument||r).createElement("link"),Ft(U);var te=U;return te._p=new Promise(function(ve,Fe){te.onload=ve,te.onerror=Fe}),go(U,"link",p),l.state.loading|=4,j0(U,d.precedence,r),l.instance=U;case"script":return U=Df(d.src),(T=r.querySelector(dp(U)))?(l.instance=T,Ft(T),T):(p=d,(T=EA.get(U))&&(p=m({},d),py(p,T)),r=r.ownerDocument||r,T=r.createElement("script"),Ft(T),go(T,"link",p),r.head.appendChild(T),l.instance=T);case"void":return null;default:throw Error(s(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(p=l.instance,l.state.loading|=4,j0(p,d.precedence,r));return l.instance}function j0(r,l,d){for(var p=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),T=p.length?p[p.length-1]:null,U=T,te=0;te<p.length;te++){var ve=p[te];if(ve.dataset.precedence===l)U=ve;else if(U!==T)break}U?U.parentNode.insertBefore(r,U.nextSibling):(l=d.nodeType===9?d.head:d,l.insertBefore(r,l.firstChild))}function my(r,l){r.crossOrigin==null&&(r.crossOrigin=l.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=l.referrerPolicy),r.title==null&&(r.title=l.title)}function py(r,l){r.crossOrigin==null&&(r.crossOrigin=l.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=l.referrerPolicy),r.integrity==null&&(r.integrity=l.integrity)}var B0=null;function Nj(r,l,d){if(B0===null){var p=new Map,T=B0=new Map;T.set(d,p)}else T=B0,p=T.get(d),p||(p=new Map,T.set(d,p));if(p.has(r))return p;for(p.set(r,null),d=d.getElementsByTagName(r),T=0;T<d.length;T++){var U=d[T];if(!(U[_r]||U[rs]||r==="link"&&U.getAttribute("rel")==="stylesheet")&&U.namespaceURI!=="http://www.w3.org/2000/svg"){var te=U.getAttribute(l)||"";te=r+te;var ve=p.get(te);ve?ve.push(U):p.set(te,[U])}}return p}function Ej(r,l,d){r=r.ownerDocument||r,r.head.insertBefore(d,l==="title"?r.querySelector("head > title"):null)}function W_(r,l,d){if(d===1||l.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return r=l.disabled,typeof l.precedence=="string"&&r==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function Tj(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function X_(r,l,d,p){if(d.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var T=Rf(p.href),U=l.querySelector(up(T));if(U){l=U._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(r.count++,r=C0.bind(r),l.then(r,r)),d.state.loading|=4,d.instance=U,Ft(U);return}U=l.ownerDocument||l,p=Cj(p),(T=EA.get(T))&&my(p,T),U=U.createElement("link"),Ft(U);var te=U;te._p=new Promise(function(ve,Fe){te.onload=ve,te.onerror=Fe}),go(U,"link",p),d.instance=U}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(d,l),(l=d.state.preload)&&(d.state.loading&3)===0&&(r.count++,d=C0.bind(r),l.addEventListener("load",d),l.addEventListener("error",d))}}var gy=0;function J_(r,l){return r.stylesheets&&r.count===0&&N0(r,r.stylesheets),0<r.count||0<r.imgCount?function(d){var p=setTimeout(function(){if(r.stylesheets&&N0(r,r.stylesheets),r.unsuspend){var U=r.unsuspend;r.unsuspend=null,U()}},6e4+l);0<r.imgBytes&&gy===0&&(gy=62500*__());var T=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&N0(r,r.stylesheets),r.unsuspend)){var U=r.unsuspend;r.unsuspend=null,U()}},(r.imgBytes>gy?50:800)+l);return r.unsuspend=d,function(){r.unsuspend=null,clearTimeout(p),clearTimeout(T)}}:null}function C0(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)N0(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var S0=null;function N0(r,l){r.stylesheets=null,r.unsuspend!==null&&(r.count++,S0=new Map,l.forEach(q_,r),S0=null,C0.call(r))}function q_(r,l){if(!(l.state.loading&4)){var d=S0.get(r);if(d)var p=d.get(null);else{d=new Map,S0.set(r,d);for(var T=r.querySelectorAll("link[data-precedence],style[data-precedence]"),U=0;U<T.length;U++){var te=T[U];(te.nodeName==="LINK"||te.getAttribute("media")!=="not all")&&(d.set(te.dataset.precedence,te),p=te)}p&&d.set(null,p)}T=l.instance,te=T.getAttribute("data-precedence"),U=d.get(te)||p,U===p&&d.set(null,T),d.set(te,T),this.count++,p=C0.bind(this),T.addEventListener("load",p),T.addEventListener("error",p),U?U.parentNode.insertBefore(T,U.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(T,r.firstChild)),l.state.loading|=4}}var hp={$$typeof:_,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function Z_(r,l,d,p,T,U,te,ve,Fe){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ms(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ms(0),this.hiddenUpdates=Ms(null),this.identifierPrefix=p,this.onUncaughtError=T,this.onCaughtError=U,this.onRecoverableError=te,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Fe,this.incompleteTransitions=new Map}function Ij(r,l,d,p,T,U,te,ve,Fe,tt,xt,Nt){return r=new Z_(r,l,d,te,Fe,tt,xt,Nt,ve),l=1,U===!0&&(l|=24),U=Bi(3,null,null,l),r.current=U,U.stateNode=r,l=xc(),l.refCount++,r.pooledCache=l,l.refCount++,U.memoizedState={element:p,isDehydrated:d,cache:l},Xt(U),r}function _j(r){return r?(r=Ai,r):Ai}function Fj(r,l,d,p,T,U){T=_j(T),p.context===null?p.context=T:p.pendingContext=T,p=kn(l),p.payload={element:d},U=U===void 0?null:U,U!==null&&(p.callback=U),d=zn(r,p,l),d!==null&&(kr(d,r,l),cr(d,r,l))}function Uj(r,l){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var d=r.retryLane;r.retryLane=d!==0&&d<l?d:l}}function vy(r,l){Uj(r,l),(r=r.alternate)&&Uj(r,l)}function Rj(r){if(r.tag===13||r.tag===31){var l=Bl(r,67108864);l!==null&&kr(l,r,67108864),vy(r,67108864)}}function Dj(r){if(r.tag===13||r.tag===31){var l=Fn();l=dn(l);var d=Bl(r,l);d!==null&&kr(d,r,l),vy(r,l)}}var E0=!0;function e6(r,l,d,p){var T=X.T;X.T=null;var U=q.p;try{q.p=2,xy(r,l,d,p)}finally{q.p=U,X.T=T}}function t6(r,l,d,p){var T=X.T;X.T=null;var U=q.p;try{q.p=8,xy(r,l,d,p)}finally{q.p=U,X.T=T}}function xy(r,l,d,p){if(E0){var T=yy(p);if(T===null)ay(r,l,p,T0,d),Qj(r,p);else if(s6(T,r,l,d,p))p.stopPropagation();else if(Qj(r,p),l&4&&-1<n6.indexOf(r)){for(;T!==null;){var U=Sa(T);if(U!==null)switch(U.tag){case 3:if(U=U.stateNode,U.current.memoizedState.isDehydrated){var te=ct(U.pendingLanes);if(te!==0){var ve=U;for(ve.pendingLanes|=2,ve.entangledLanes|=2;te;){var Fe=1<<31-lt(te);ve.entanglements[1]|=Fe,te&=~Fe}Dc(U),(hr&6)===0&&(An=Jt()+500,op(0))}}break;case 31:case 13:ve=Bl(U,2),ve!==null&&kr(ve,U,2),$i(),vy(U,2)}if(U=yy(p),U===null&&ay(r,l,p,T0,d),U===T)break;T=U}T!==null&&p.stopPropagation()}else ay(r,l,p,null,d)}}function yy(r){return r=ms(r),by(r)}var T0=null;function by(r){if(T0=null,r=zr(r),r!==null){var l=o(r);if(l===null)r=null;else{var d=l.tag;if(d===13){if(r=c(l),r!==null)return r;r=null}else if(d===31){if(r=h(l),r!==null)return r;r=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;r=null}else l!==r&&(r=null)}}return T0=r,null}function Lj(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(sn()){case Ge:return 2;case Ht:return 8;case kt:case Ot:return 32;case gt:return 268435456;default:return 32}default:return 32}}var wy=!1,ud=null,dd=null,hd=null,fp=new Map,mp=new Map,fd=[],n6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Qj(r,l){switch(r){case"focusin":case"focusout":ud=null;break;case"dragenter":case"dragleave":dd=null;break;case"mouseover":case"mouseout":hd=null;break;case"pointerover":case"pointerout":fp.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":mp.delete(l.pointerId)}}function pp(r,l,d,p,T,U){return r===null||r.nativeEvent!==U?(r={blockedOn:l,domEventName:d,eventSystemFlags:p,nativeEvent:U,targetContainers:[T]},l!==null&&(l=Sa(l),l!==null&&Rj(l)),r):(r.eventSystemFlags|=p,l=r.targetContainers,T!==null&&l.indexOf(T)===-1&&l.push(T),r)}function s6(r,l,d,p,T){switch(l){case"focusin":return ud=pp(ud,r,l,d,p,T),!0;case"dragenter":return dd=pp(dd,r,l,d,p,T),!0;case"mouseover":return hd=pp(hd,r,l,d,p,T),!0;case"pointerover":var U=T.pointerId;return fp.set(U,pp(fp.get(U)||null,r,l,d,p,T)),!0;case"gotpointercapture":return U=T.pointerId,mp.set(U,pp(mp.get(U)||null,r,l,d,p,T)),!0}return!1}function Oj(r){var l=zr(r.target);if(l!==null){var d=o(l);if(d!==null){if(l=d.tag,l===13){if(l=c(d),l!==null){r.blockedOn=l,Ns(r.priority,function(){Dj(d)});return}}else if(l===31){if(l=h(d),l!==null){r.blockedOn=l,Ns(r.priority,function(){Dj(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){r.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}r.blockedOn=null}function I0(r){if(r.blockedOn!==null)return!1;for(var l=r.targetContainers;0<l.length;){var d=yy(r.nativeEvent);if(d===null){d=r.nativeEvent;var p=new d.constructor(d.type,d);js=p,d.target.dispatchEvent(p),js=null}else return l=Sa(d),l!==null&&Rj(l),r.blockedOn=d,!1;l.shift()}return!0}function Pj(r,l,d){I0(r)&&d.delete(l)}function r6(){wy=!1,ud!==null&&I0(ud)&&(ud=null),dd!==null&&I0(dd)&&(dd=null),hd!==null&&I0(hd)&&(hd=null),fp.forEach(Pj),mp.forEach(Pj)}function _0(r,l){r.blockedOn===l&&(r.blockedOn=null,wy||(wy=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,r6)))}var F0=null;function kj(r){F0!==r&&(F0=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){F0===r&&(F0=null);for(var l=0;l<r.length;l+=3){var d=r[l],p=r[l+1],T=r[l+2];if(typeof p!="function"){if(by(p||d)===null)continue;break}var U=Sa(d);U!==null&&(r.splice(l,3),l-=3,xf(U,{pending:!0,data:T,method:d.method,action:p},p,T))}}))}function Lf(r){function l(Fe){return _0(Fe,r)}ud!==null&&_0(ud,r),dd!==null&&_0(dd,r),hd!==null&&_0(hd,r),fp.forEach(l),mp.forEach(l);for(var d=0;d<fd.length;d++){var p=fd[d];p.blockedOn===r&&(p.blockedOn=null)}for(;0<fd.length&&(d=fd[0],d.blockedOn===null);)Oj(d),d.blockedOn===null&&fd.shift();if(d=(r.ownerDocument||r).$$reactFormReplay,d!=null)for(p=0;p<d.length;p+=3){var T=d[p],U=d[p+1],te=T[us]||null;if(typeof U=="function")te||kj(d);else if(te){var ve=null;if(U&&U.hasAttribute("formAction")){if(T=U,te=U[us]||null)ve=te.formAction;else if(by(T)!==null)continue}else ve=te.action;typeof ve=="function"?d[p+1]=ve:(d.splice(p,3),p-=3),kj(d)}}}function Mj(){function r(U){U.canIntercept&&U.info==="react-transition"&&U.intercept({handler:function(){return new Promise(function(te){return T=te})},focusReset:"manual",scroll:"manual"})}function l(){T!==null&&(T(),T=null),p||setTimeout(d,20)}function d(){if(!p&&!navigation.transition){var U=navigation.currentEntry;U&&U.url!=null&&navigation.navigate(U.url,{state:U.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,T=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(d,100),function(){p=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),T!==null&&(T(),T=null)}}}function jy(r){this._internalRoot=r}U0.prototype.render=jy.prototype.render=function(r){var l=this._internalRoot;if(l===null)throw Error(s(409));var d=l.current,p=Fn();Fj(d,p,r,l,null,null)},U0.prototype.unmount=jy.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var l=r.containerInfo;Fj(r.current,2,null,r,null,null),$i(),l[Rs]=null}};function U0(r){this._internalRoot=r}U0.prototype.unstable_scheduleHydration=function(r){if(r){var l=Cr();r={blockedOn:null,target:r,priority:l};for(var d=0;d<fd.length&&l!==0&&l<fd[d].priority;d++);fd.splice(d,0,r),d===0&&Oj(r)}};var Hj=e.version;if(Hj!=="19.2.3")throw Error(s(527,Hj,"19.2.3"));q.findDOMNode=function(r){var l=r._reactInternals;if(l===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=f(l),r=r!==null?A(r):null,r=r===null?null:r.stateNode,r};var a6={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var R0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!R0.isDisabled&&R0.supportsFiber)try{Me=R0.inject(a6),ht=R0}catch{}}return vp.createRoot=function(r,l){if(!a(r))throw Error(s(299));var d=!1,p="",T=Xg,U=ph,te=gh;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(T=l.onUncaughtError),l.onCaughtError!==void 0&&(U=l.onCaughtError),l.onRecoverableError!==void 0&&(te=l.onRecoverableError)),l=Ij(r,1,!1,null,null,d,p,null,T,U,te,Mj),r[Rs]=l.current,ry(r),new jy(l)},vp.hydrateRoot=function(r,l,d){if(!a(r))throw Error(s(299));var p=!1,T="",U=Xg,te=ph,ve=gh,Fe=null;return d!=null&&(d.unstable_strictMode===!0&&(p=!0),d.identifierPrefix!==void 0&&(T=d.identifierPrefix),d.onUncaughtError!==void 0&&(U=d.onUncaughtError),d.onCaughtError!==void 0&&(te=d.onCaughtError),d.onRecoverableError!==void 0&&(ve=d.onRecoverableError),d.formState!==void 0&&(Fe=d.formState)),l=Ij(r,1,!0,l,d??null,p,T,Fe,U,te,ve,Mj),l.context=_j(null),d=l.current,p=Fn(),p=dn(p),T=kn(p),T.callback=null,zn(d,T,p),d=p,l.current.lanes=d,ln(l,d),Dc(l),r[Rs]=l.current,ry(r),new U0(l)},vp.version="19.2.3",vp}var Zj;function v6(){if(Zj)return Sy.exports;Zj=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Sy.exports=g6(),Sy.exports}var x6=v6();const y6=Wb(x6);/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var eB="popstate";function b6(n={}){function e(a,o){let{pathname:c="/",search:h="",hash:u=""}=nf(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),L1("",{pathname:c,search:h,hash:u},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(a,o){let c=a.document.querySelector("base"),h="";if(c&&c.getAttribute("href")){let u=a.location.href,f=u.indexOf("#");h=f===-1?u:u.slice(0,f)}return h+"#"+(typeof o=="string"?o:qp(o))}function s(a,o){oA(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return j6(e,t,s,n)}function Qa(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function oA(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function w6(){return Math.random().toString(36).substring(2,10)}function tB(n,e){return{usr:n.state,key:n.key,idx:e}}function L1(n,e,t=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?nf(e):e,state:t,key:e&&e.key||s||w6()}}function qp({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function nf(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substring(s),n=n.substring(0,s)),n&&(e.pathname=n)}return e}function j6(n,e,t,s={}){let{window:a=document.defaultView,v5Compat:o=!1}=s,c=a.history,h="POP",u=null,f=A();f==null&&(f=0,c.replaceState({...c.state,idx:f},""));function A(){return(c.state||{idx:null}).idx}function m(){h="POP";let N=A(),S=N==null?null:N-f;f=N,u&&u({action:h,location:I.location,delta:S})}function v(N,S){h="PUSH";let E=L1(I.location,N,S);t&&t(E,N),f=A()+1;let _=tB(E,f),R=I.createHref(E);try{c.pushState(_,"",R)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;a.location.assign(R)}o&&u&&u({action:h,location:I.location,delta:1})}function g(N,S){h="REPLACE";let E=L1(I.location,N,S);t&&t(E,N),f=A();let _=tB(E,f),R=I.createHref(E);c.replaceState(_,"",R),o&&u&&u({action:h,location:I.location,delta:0})}function b(N){return B6(N)}let I={get action(){return h},get location(){return n(a,c)},listen(N){if(u)throw new Error("A history only accepts one active listener");return a.addEventListener(eB,m),u=N,()=>{a.removeEventListener(eB,m),u=null}},createHref(N){return e(a,N)},createURL:b,encodeLocation(N){let S=b(N);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:v,replace:g,go(N){return c.go(N)}};return I}function B6(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Qa(t,"No window.location.(origin|href) available to create URL");let s=typeof n=="string"?n:qp(n);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function ON(n,e,t="/"){return C6(n,e,t,!1)}function C6(n,e,t,s){let a=typeof e=="string"?nf(e):e,o=Su(a.pathname||"/",t);if(o==null)return null;let c=PN(n);S6(c);let h=null;for(let u=0;h==null&&u<c.length;++u){let f=Q6(o);h=D6(c[u],f,s)}return h}function PN(n,e=[],t=[],s="",a=!1){let o=(c,h,u=a,f)=>{let A={relativePath:f===void 0?c.path||"":f,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(A.relativePath.startsWith("/")){if(!A.relativePath.startsWith(s)&&u)return;Qa(A.relativePath.startsWith(s),`Absolute route path "${A.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),A.relativePath=A.relativePath.slice(s.length)}let m=ju([s,A.relativePath]),v=t.concat(A);c.children&&c.children.length>0&&(Qa(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),PN(c.children,e,v,m,u)),!(c.path==null&&!c.index)&&e.push({path:m,score:U6(m,c.index),routesMeta:v})};return n.forEach((c,h)=>{var u;if(c.path===""||!((u=c.path)!=null&&u.includes("?")))o(c,h);else for(let f of kN(c.path))o(c,h,!0,f)}),e}function kN(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,a=t.endsWith("?"),o=t.replace(/\?$/,"");if(s.length===0)return a?[o,""]:[o];let c=kN(s.join("/")),h=[];return h.push(...c.map(u=>u===""?o:[o,u].join("/"))),a&&h.push(...c),h.map(u=>n.startsWith("/")&&u===""?"/":u)}function S6(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:R6(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var N6=/^:[\w-]+$/,E6=3,T6=2,I6=1,_6=10,F6=-2,nB=n=>n==="*";function U6(n,e){let t=n.split("/"),s=t.length;return t.some(nB)&&(s+=F6),e&&(s+=T6),t.filter(a=>!nB(a)).reduce((a,o)=>a+(N6.test(o)?E6:o===""?I6:_6),s)}function R6(n,e){return n.length===e.length&&n.slice(0,-1).every((s,a)=>s===e[a])?n[n.length-1]-e[e.length-1]:0}function D6(n,e,t=!1){let{routesMeta:s}=n,a={},o="/",c=[];for(let h=0;h<s.length;++h){let u=s[h],f=h===s.length-1,A=o==="/"?e:e.slice(o.length)||"/",m=Bv({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},A),v=u.route;if(!m&&f&&t&&!s[s.length-1].route.index&&(m=Bv({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},A)),!m)return null;Object.assign(a,m.params),c.push({params:a,pathname:ju([o,m.pathname]),pathnameBase:M6(ju([o,m.pathnameBase])),route:v}),m.pathnameBase!=="/"&&(o=ju([o,m.pathnameBase]))}return c}function Bv(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=L6(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let o=a[0],c=o.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:s.reduce((f,{paramName:A,isOptional:m},v)=>{if(A==="*"){let b=h[v]||"";c=o.slice(0,o.length-b.length).replace(/(.)\/+$/,"$1")}const g=h[v];return m&&!g?f[A]=void 0:f[A]=(g||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:c,pattern:n}}function L6(n,e=!1,t=!0){oA(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,u)=>(s.push({paramName:h,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(s.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function Q6(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return oA(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Su(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}var MN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,O6=n=>MN.test(n);function P6(n,e="/"){let{pathname:t,search:s="",hash:a=""}=typeof n=="string"?nf(n):n,o;if(t)if(O6(t))o=t;else{if(t.includes("//")){let c=t;t=t.replace(/\/\/+/g,"/"),oA(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${t}`)}t.startsWith("/")?o=sB(t.substring(1),"/"):o=sB(t,e)}else o=e;return{pathname:o,search:H6(s),hash:V6(a)}}function sB(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Iy(n,e,t,s){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function k6(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Jb(n){let e=k6(n);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function qb(n,e,t,s=!1){let a;typeof n=="string"?a=nf(n):(a={...n},Qa(!a.pathname||!a.pathname.includes("?"),Iy("?","pathname","search",a)),Qa(!a.pathname||!a.pathname.includes("#"),Iy("#","pathname","hash",a)),Qa(!a.search||!a.search.includes("#"),Iy("#","search","hash",a)));let o=n===""||a.pathname==="",c=o?"/":a.pathname,h;if(c==null)h=t;else{let m=e.length-1;if(!s&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),m-=1;a.pathname=v.join("/")}h=m>=0?e[m]:"/"}let u=P6(a,h),f=c&&c!=="/"&&c.endsWith("/"),A=(o||c===".")&&t.endsWith("/");return!u.pathname.endsWith("/")&&(f||A)&&(u.pathname+="/"),u}var ju=n=>n.join("/").replace(/\/\/+/g,"/"),M6=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),H6=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,V6=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,K6=class{constructor(n,e,t,s=!1){this.status=n,this.statusText=e||"",this.internal=s,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function z6(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function G6(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var HN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function VN(n,e){let t=n;if(typeof t!="string"||!MN.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let s=t,a=!1;if(HN)try{let o=new URL(window.location.href),c=t.startsWith("//")?new URL(o.protocol+t):new URL(t),h=Su(c.pathname,e);c.origin===o.origin&&h!=null?t=h+c.search+c.hash:a=!0}catch{oA(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:a,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var KN=["POST","PUT","PATCH","DELETE"];new Set(KN);var $6=["GET",...KN];new Set($6);var mm=ee.createContext(null);mm.displayName="DataRouter";var cx=ee.createContext(null);cx.displayName="DataRouterState";var Y6=ee.createContext(!1),zN=ee.createContext({isTransitioning:!1});zN.displayName="ViewTransition";var W6=ee.createContext(new Map);W6.displayName="Fetchers";var X6=ee.createContext(null);X6.displayName="Await";var lA=ee.createContext(null);lA.displayName="Navigation";var vg=ee.createContext(null);vg.displayName="Location";var Ac=ee.createContext({outlet:null,matches:[],isDataRoute:!1});Ac.displayName="Route";var Zb=ee.createContext(null);Zb.displayName="RouteError";var GN="REACT_ROUTER_ERROR",J6="REDIRECT",q6="ROUTE_ERROR_RESPONSE";function Z6(n){if(n.startsWith(`${GN}:${J6}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function eF(n){if(n.startsWith(`${GN}:${q6}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new K6(e.status,e.statusText,e.data)}catch{}}function tF(n,{relative:e}={}){Qa(pm(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=ee.useContext(lA),{hash:a,pathname:o,search:c}=yg(n,{relative:e}),h=o;return t!=="/"&&(h=o==="/"?t:ju([t,o])),s.createHref({pathname:h,search:c,hash:a})}function pm(){return ee.useContext(vg)!=null}function Fu(){return Qa(pm(),"useLocation() may be used only in the context of a <Router> component."),ee.useContext(vg).location}var $N="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function YN(n){ee.useContext(lA).static||ee.useLayoutEffect(n)}function xg(){let{isDataRoute:n}=ee.useContext(Ac);return n?mF():nF()}function nF(){Qa(pm(),"useNavigate() may be used only in the context of a <Router> component.");let n=ee.useContext(mm),{basename:e,navigator:t}=ee.useContext(lA),{matches:s}=ee.useContext(Ac),{pathname:a}=Fu(),o=JSON.stringify(Jb(s)),c=ee.useRef(!1);return YN(()=>{c.current=!0}),ee.useCallback((u,f={})=>{if(oA(c.current,$N),!c.current)return;if(typeof u=="number"){t.go(u);return}let A=qb(u,JSON.parse(o),a,f.relative==="path");n==null&&e!=="/"&&(A.pathname=A.pathname==="/"?e:ju([e,A.pathname])),(f.replace?t.replace:t.push)(A,f.state,f)},[e,t,o,a,n])}ee.createContext(null);function sF(){let{matches:n}=ee.useContext(Ac),e=n[n.length-1];return e?e.params:{}}function yg(n,{relative:e}={}){let{matches:t}=ee.useContext(Ac),{pathname:s}=Fu(),a=JSON.stringify(Jb(t));return ee.useMemo(()=>qb(n,JSON.parse(a),s,e==="path"),[n,a,s,e])}function rF(n,e){return WN(n,e)}function WN(n,e,t,s,a){var E;Qa(pm(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=ee.useContext(lA),{matches:c}=ee.useContext(Ac),h=c[c.length-1],u=h?h.params:{},f=h?h.pathname:"/",A=h?h.pathnameBase:"/",m=h&&h.route;{let _=m&&m.path||"";JN(f,!m||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let v=Fu(),g;if(e){let _=typeof e=="string"?nf(e):e;Qa(A==="/"||((E=_.pathname)==null?void 0:E.startsWith(A)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${A}" but pathname "${_.pathname}" was given in the \`location\` prop.`),g=_}else g=v;let b=g.pathname||"/",I=b;if(A!=="/"){let _=A.replace(/^\//,"").split("/");I="/"+b.replace(/^\//,"").split("/").slice(_.length).join("/")}let N=ON(n,{pathname:I});oA(m||N!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),oA(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=AF(N&&N.map(_=>Object.assign({},_,{params:Object.assign({},u,_.params),pathname:ju([A,o.encodeLocation?o.encodeLocation(_.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?A:ju([A,o.encodeLocation?o.encodeLocation(_.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathnameBase])})),c,t,s,a);return e&&S?ee.createElement(vg.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},S):S}function aF(){let n=fF(),e=z6(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},o={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=ee.createElement(ee.Fragment,null,ee.createElement("p",null," Hey developer "),ee.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ee.createElement("code",{style:o},"ErrorBoundary")," or"," ",ee.createElement("code",{style:o},"errorElement")," prop on your route.")),ee.createElement(ee.Fragment,null,ee.createElement("h2",null,"Unexpected Application Error!"),ee.createElement("h3",{style:{fontStyle:"italic"}},e),t?ee.createElement("pre",{style:a},t):null,c)}var iF=ee.createElement(aF,null),XN=class extends ee.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=eF(n.digest);t&&(n=t)}let e=n!==void 0?ee.createElement(Ac.Provider,{value:this.props.routeContext},ee.createElement(Zb.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?ee.createElement(oF,{error:n},e):e}};XN.contextType=Y6;var _y=new WeakMap;function oF({children:n,error:e}){let{basename:t}=ee.useContext(lA);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=Z6(e.digest);if(s){let a=_y.get(e);if(a)throw a;let o=VN(s.location,t);if(HN&&!_y.get(e))if(o.isExternal||s.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:s.replace}));throw _y.set(e,c),c}return ee.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return n}function lF({routeContext:n,match:e,children:t}){let s=ee.useContext(mm);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),ee.createElement(Ac.Provider,{value:n},t)}function AF(n,e=[],t=null,s=null,a=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,c=t==null?void 0:t.errors;if(c!=null){let A=o.findIndex(m=>m.route.id&&(c==null?void 0:c[m.route.id])!==void 0);Qa(A>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,A+1))}let h=!1,u=-1;if(t)for(let A=0;A<o.length;A++){let m=o[A];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=A),m.route.id){let{loaderData:v,errors:g}=t,b=m.route.loader&&!v.hasOwnProperty(m.route.id)&&(!g||g[m.route.id]===void 0);if(m.route.lazy||b){h=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}let f=t&&s?(A,m)=>{var v,g;s(A,{location:t.location,params:((g=(v=t.matches)==null?void 0:v[0])==null?void 0:g.params)??{},unstable_pattern:G6(t.matches),errorInfo:m})}:void 0;return o.reduceRight((A,m,v)=>{let g,b=!1,I=null,N=null;t&&(g=c&&m.route.id?c[m.route.id]:void 0,I=m.route.errorElement||iF,h&&(u<0&&v===0?(JN("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,N=null):u===v&&(b=!0,N=m.route.hydrateFallbackElement||null)));let S=e.concat(o.slice(0,v+1)),E=()=>{let _;return g?_=I:b?_=N:m.route.Component?_=ee.createElement(m.route.Component,null):m.route.element?_=m.route.element:_=A,ee.createElement(lF,{match:m,routeContext:{outlet:A,matches:S,isDataRoute:t!=null},children:_})};return t&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?ee.createElement(XN,{location:t.location,revalidation:t.revalidation,component:I,error:g,children:E(),routeContext:{outlet:null,matches:S,isDataRoute:!0},onError:f}):E()},null)}function ew(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cF(n){let e=ee.useContext(mm);return Qa(e,ew(n)),e}function uF(n){let e=ee.useContext(cx);return Qa(e,ew(n)),e}function dF(n){let e=ee.useContext(Ac);return Qa(e,ew(n)),e}function tw(n){let e=dF(n),t=e.matches[e.matches.length-1];return Qa(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function hF(){return tw("useRouteId")}function fF(){var s;let n=ee.useContext(Zb),e=uF("useRouteError"),t=tw("useRouteError");return n!==void 0?n:(s=e.errors)==null?void 0:s[t]}function mF(){let{router:n}=cF("useNavigate"),e=tw("useNavigate"),t=ee.useRef(!1);return YN(()=>{t.current=!0}),ee.useCallback(async(a,o={})=>{oA(t.current,$N),t.current&&(typeof a=="number"?await n.navigate(a):await n.navigate(a,{fromRouteId:e,...o}))},[n,e])}var rB={};function JN(n,e,t){!e&&!rB[n]&&(rB[n]=!0,oA(!1,t))}ee.memo(pF);function pF({routes:n,future:e,state:t,onError:s}){return WN(n,void 0,t,s,e)}function Q1({to:n,replace:e,state:t,relative:s}){Qa(pm(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=ee.useContext(lA);oA(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=ee.useContext(Ac),{pathname:c}=Fu(),h=xg(),u=qb(n,Jb(o),c,s==="path"),f=JSON.stringify(u);return ee.useEffect(()=>{h(JSON.parse(f),{replace:e,state:t,relative:s})},[h,f,s,e,t]),null}function La(n){Qa(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function gF({basename:n="/",children:e=null,location:t,navigationType:s="POP",navigator:a,static:o=!1,unstable_useTransitions:c}){Qa(!pm(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=n.replace(/^\/*/,"/"),u=ee.useMemo(()=>({basename:h,navigator:a,static:o,unstable_useTransitions:c,future:{}}),[h,a,o,c]);typeof t=="string"&&(t=nf(t));let{pathname:f="/",search:A="",hash:m="",state:v=null,key:g="default"}=t,b=ee.useMemo(()=>{let I=Su(f,h);return I==null?null:{location:{pathname:I,search:A,hash:m,state:v,key:g},navigationType:s}},[h,f,A,m,v,g,s]);return oA(b!=null,`<Router basename="${h}"> is not able to match the URL "${f}${A}${m}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:ee.createElement(lA.Provider,{value:u},ee.createElement(vg.Provider,{children:e,value:b}))}function vF({children:n,location:e}){return rF(O1(n),e)}function O1(n,e=[]){let t=[];return ee.Children.forEach(n,(s,a)=>{if(!ee.isValidElement(s))return;let o=[...e,a];if(s.type===ee.Fragment){t.push.apply(t,O1(s.props.children,o));return}Qa(s.type===La,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Qa(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||o.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=O1(s.props.children,o)),t.push(c)}),t}var rv="get",av="application/x-www-form-urlencoded";function ux(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function xF(n){return ux(n)&&n.tagName.toLowerCase()==="button"}function yF(n){return ux(n)&&n.tagName.toLowerCase()==="form"}function bF(n){return ux(n)&&n.tagName.toLowerCase()==="input"}function wF(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function jF(n,e){return n.button===0&&(!e||e==="_self")&&!wF(n)}var D0=null;function BF(){if(D0===null)try{new FormData(document.createElement("form"),0),D0=!1}catch{D0=!0}return D0}var CF=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Fy(n){return n!=null&&!CF.has(n)?(oA(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${av}"`),null):n}function SF(n,e){let t,s,a,o,c;if(yF(n)){let h=n.getAttribute("action");s=h?Su(h,e):null,t=n.getAttribute("method")||rv,a=Fy(n.getAttribute("enctype"))||av,o=new FormData(n)}else if(xF(n)||bF(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=n.getAttribute("formaction")||h.getAttribute("action");if(s=u?Su(u,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||rv,a=Fy(n.getAttribute("formenctype"))||Fy(h.getAttribute("enctype"))||av,o=new FormData(h,n),!BF()){let{name:f,type:A,value:m}=n;if(A==="image"){let v=f?`${f}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else f&&o.append(f,m)}}else{if(ux(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=rv,s=null,a=av,c=n}return o&&a==="text/plain"&&(c=o,o=void 0),{action:s,method:t.toLowerCase(),encType:a,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function nw(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function NF(n,e,t){let s=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&Su(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function EF(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function TF(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function IF(n,e,t){let s=await Promise.all(n.map(async a=>{let o=e.routes[a.route.id];if(o){let c=await EF(o,t);return c.links?c.links():[]}return[]}));return RF(s.flat(1).filter(TF).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function aB(n,e,t,s,a,o){let c=(u,f)=>t[f]?u.route.id!==t[f].route.id:!0,h=(u,f)=>{var A;return t[f].pathname!==u.pathname||((A=t[f].route.path)==null?void 0:A.endsWith("*"))&&t[f].params["*"]!==u.params["*"]};return o==="assets"?e.filter((u,f)=>c(u,f)||h(u,f)):o==="data"?e.filter((u,f)=>{var m;let A=s.routes[u.route.id];if(!A||!A.hasLoader)return!1;if(c(u,f)||h(u,f))return!0;if(u.route.shouldRevalidate){let v=u.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((m=t[0])==null?void 0:m.params)||{},nextUrl:new URL(n,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function _F(n,e,{includeHydrateFallback:t}={}){return FF(n.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function FF(n){return[...new Set(n)]}function UF(n){let e={},t=Object.keys(n).sort();for(let s of t)e[s]=n[s];return e}function RF(n,e){let t=new Set;return new Set(e),n.reduce((s,a)=>{let o=JSON.stringify(UF(a));return t.has(o)||(t.add(o),s.push({key:o,link:a})),s},[])}function qN(){let n=ee.useContext(mm);return nw(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function DF(){let n=ee.useContext(cx);return nw(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var sw=ee.createContext(void 0);sw.displayName="FrameworkContext";function ZN(){let n=ee.useContext(sw);return nw(n,"You must render this element inside a <HydratedRouter> element"),n}function LF(n,e){let t=ee.useContext(sw),[s,a]=ee.useState(!1),[o,c]=ee.useState(!1),{onFocus:h,onBlur:u,onMouseEnter:f,onMouseLeave:A,onTouchStart:m}=e,v=ee.useRef(null);ee.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let I=S=>{S.forEach(E=>{c(E.isIntersecting)})},N=new IntersectionObserver(I,{threshold:.5});return v.current&&N.observe(v.current),()=>{N.disconnect()}}},[n]),ee.useEffect(()=>{if(s){let I=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(I)}}},[s]);let g=()=>{a(!0)},b=()=>{a(!1),c(!1)};return t?n!=="intent"?[o,v,{}]:[o,v,{onFocus:xp(h,g),onBlur:xp(u,b),onMouseEnter:xp(f,g),onMouseLeave:xp(A,b),onTouchStart:xp(m,g)}]:[!1,v,{}]}function xp(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function QF({page:n,...e}){let{router:t}=qN(),s=ee.useMemo(()=>ON(t.routes,n,t.basename),[t.routes,n,t.basename]);return s?ee.createElement(PF,{page:n,matches:s,...e}):null}function OF(n){let{manifest:e,routeModules:t}=ZN(),[s,a]=ee.useState([]);return ee.useEffect(()=>{let o=!1;return IF(n,e,t).then(c=>{o||a(c)}),()=>{o=!0}},[n,e,t]),s}function PF({page:n,matches:e,...t}){let s=Fu(),{manifest:a,routeModules:o}=ZN(),{basename:c}=qN(),{loaderData:h,matches:u}=DF(),f=ee.useMemo(()=>aB(n,e,u,a,s,"data"),[n,e,u,a,s]),A=ee.useMemo(()=>aB(n,e,u,a,s,"assets"),[n,e,u,a,s]),m=ee.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let b=new Set,I=!1;if(e.forEach(S=>{var _;let E=a.routes[S.route.id];!E||!E.hasLoader||(!f.some(R=>R.route.id===S.route.id)&&S.route.id in h&&((_=o[S.route.id])!=null&&_.shouldRevalidate)||E.hasClientLoader?I=!0:b.add(S.route.id))}),b.size===0)return[];let N=NF(n,c,"data");return I&&b.size>0&&N.searchParams.set("_routes",e.filter(S=>b.has(S.route.id)).map(S=>S.route.id).join(",")),[N.pathname+N.search]},[c,h,s,a,f,e,n,o]),v=ee.useMemo(()=>_F(A,a),[A,a]),g=OF(A);return ee.createElement(ee.Fragment,null,m.map(b=>ee.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...t})),v.map(b=>ee.createElement("link",{key:b,rel:"modulepreload",href:b,...t})),g.map(({key:b,link:I})=>ee.createElement("link",{key:b,nonce:t.nonce,...I})))}function kF(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var MF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{MF&&(window.__reactRouterVersion="7.11.0")}catch{}function HF({basename:n,children:e,unstable_useTransitions:t,window:s}){let a=ee.useRef();a.current==null&&(a.current=b6({window:s,v5Compat:!0}));let o=a.current,[c,h]=ee.useState({action:o.action,location:o.location}),u=ee.useCallback(f=>{t===!1?h(f):ee.startTransition(()=>h(f))},[t]);return ee.useLayoutEffect(()=>o.listen(u),[o,u]),ee.createElement(gF,{basename:n,children:e,location:c.location,navigationType:c.action,navigator:o,unstable_useTransitions:t})}var eE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fi=ee.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:a,reloadDocument:o,replace:c,state:h,target:u,to:f,preventScrollReset:A,viewTransition:m,unstable_defaultShouldRevalidate:v,...g},b){let{basename:I,unstable_useTransitions:N}=ee.useContext(lA),S=typeof f=="string"&&eE.test(f),E=VN(f,I);f=E.to;let _=tF(f,{relative:a}),[R,L,H]=LF(s,g),D=GF(f,{replace:c,state:h,target:u,preventScrollReset:A,relative:a,viewTransition:m,unstable_defaultShouldRevalidate:v,unstable_useTransitions:N});function Q($){e&&e($),$.defaultPrevented||D($)}let O=ee.createElement("a",{...g,...H,href:E.absoluteURL||_,onClick:E.isExternal||o?e:Q,ref:kF(b,L),target:u,"data-discover":!S&&t==="render"?"true":void 0});return R&&!S?ee.createElement(ee.Fragment,null,O,ee.createElement(QF,{page:_})):O});fi.displayName="Link";var VF=ee.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:a=!1,style:o,to:c,viewTransition:h,children:u,...f},A){let m=yg(c,{relative:f.relative}),v=Fu(),g=ee.useContext(cx),{navigator:b,basename:I}=ee.useContext(lA),N=g!=null&&JF(m)&&h===!0,S=b.encodeLocation?b.encodeLocation(m).pathname:m.pathname,E=v.pathname,_=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;t||(E=E.toLowerCase(),_=_?_.toLowerCase():null,S=S.toLowerCase()),_&&I&&(_=Su(_,I)||_);const R=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let L=E===S||!a&&E.startsWith(S)&&E.charAt(R)==="/",H=_!=null&&(_===S||!a&&_.startsWith(S)&&_.charAt(S.length)==="/"),D={isActive:L,isPending:H,isTransitioning:N},Q=L?e:void 0,O;typeof s=="function"?O=s(D):O=[s,L?"active":null,H?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let $=typeof o=="function"?o(D):o;return ee.createElement(fi,{...f,"aria-current":Q,className:O,ref:A,style:$,to:c,viewTransition:h},typeof u=="function"?u(D):u)});VF.displayName="NavLink";var KF=ee.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:a,state:o,method:c=rv,action:h,onSubmit:u,relative:f,preventScrollReset:A,viewTransition:m,unstable_defaultShouldRevalidate:v,...g},b)=>{let{unstable_useTransitions:I}=ee.useContext(lA),N=WF(),S=XF(h,{relative:f}),E=c.toLowerCase()==="get"?"get":"post",_=typeof h=="string"&&eE.test(h),R=L=>{if(u&&u(L),L.defaultPrevented)return;L.preventDefault();let H=L.nativeEvent.submitter,D=(H==null?void 0:H.getAttribute("formmethod"))||c,Q=()=>N(H||L.currentTarget,{fetcherKey:e,method:D,navigate:t,replace:a,state:o,relative:f,preventScrollReset:A,viewTransition:m,unstable_defaultShouldRevalidate:v});I&&t!==!1?ee.startTransition(()=>Q()):Q()};return ee.createElement("form",{ref:b,method:E,action:S,onSubmit:s?u:R,...g,"data-discover":!_&&n==="render"?"true":void 0})});KF.displayName="Form";function zF(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tE(n){let e=ee.useContext(mm);return Qa(e,zF(n)),e}function GF(n,{target:e,replace:t,state:s,preventScrollReset:a,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:h,unstable_useTransitions:u}={}){let f=xg(),A=Fu(),m=yg(n,{relative:o});return ee.useCallback(v=>{if(jF(v,e)){v.preventDefault();let g=t!==void 0?t:qp(A)===qp(m),b=()=>f(n,{replace:g,state:s,preventScrollReset:a,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:h});u?ee.startTransition(()=>b()):b()}},[A,f,m,t,s,e,n,a,o,c,h,u])}var $F=0,YF=()=>`__${String(++$F)}__`;function WF(){let{router:n}=tE("useSubmit"),{basename:e}=ee.useContext(lA),t=hF(),s=n.fetch,a=n.navigate;return ee.useCallback(async(o,c={})=>{let{action:h,method:u,encType:f,formData:A,body:m}=SF(o,e);if(c.navigate===!1){let v=c.fetcherKey||YF();await s(v,t,c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:A,body:m,formMethod:c.method||u,formEncType:c.encType||f,flushSync:c.flushSync})}else await a(c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:A,body:m,formMethod:c.method||u,formEncType:c.encType||f,replace:c.replace,state:c.state,fromRouteId:t,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,a,e,t])}function XF(n,{relative:e}={}){let{basename:t}=ee.useContext(lA),s=ee.useContext(Ac);Qa(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),o={...yg(n||".",{relative:e})},c=Fu();if(n==null){o.search=c.search;let h=new URLSearchParams(o.search),u=h.getAll("index");if(u.some(A=>A==="")){h.delete("index"),u.filter(m=>m).forEach(m=>h.append("index",m));let A=h.toString();o.search=A?`?${A}`:""}}return(!n||n===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:ju([t,o.pathname])),qp(o)}function JF(n,{relative:e}={}){let t=ee.useContext(zN);Qa(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=tE("useViewTransitionState"),a=yg(n,{relative:e});if(!t.isTransitioning)return!1;let o=Su(t.currentLocation.pathname,s)||t.currentLocation.pathname,c=Su(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Bv(a.pathname,c)!=null||Bv(a.pathname,o)!=null}const qF=()=>{};var iB={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let a=n.charCodeAt(s);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},ZF=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const a=n[t++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const o=n[t++];e[s++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=n[t++],c=n[t++],h=n[t++],u=((a&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;e[s++]=String.fromCharCode(55296+(u>>10)),e[s++]=String.fromCharCode(56320+(u&1023))}else{const o=n[t++],c=n[t++];e[s++]=String.fromCharCode((a&15)<<12|(o&63)<<6|c&63)}}return e.join("")},sE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<n.length;a+=3){const o=n[a],c=a+1<n.length,h=c?n[a+1]:0,u=a+2<n.length,f=u?n[a+2]:0,A=o>>2,m=(o&3)<<4|h>>4;let v=(h&15)<<2|f>>6,g=f&63;u||(g=64,c||(v=64)),s.push(t[A],t[m],t[v],t[g])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(nE(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):ZF(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<n.length;){const o=t[n.charAt(a++)],h=a<n.length?t[n.charAt(a)]:0;++a;const f=a<n.length?t[n.charAt(a)]:64;++a;const m=a<n.length?t[n.charAt(a)]:64;if(++a,o==null||h==null||f==null||m==null)throw new eU;const v=o<<2|h>>4;if(s.push(v),f!==64){const g=h<<4&240|f>>2;if(s.push(g),m!==64){const b=f<<6&192|m;s.push(b)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class eU extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tU=function(n){const e=nE(n);return sE.encodeByteArray(e,!0)},Cv=function(n){return tU(n).replace(/\./g,"")},rE=function(n){try{return sE.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sU=()=>nU().__FIREBASE_DEFAULTS__,rU=()=>{if(typeof process>"u"||typeof iB>"u")return;const n=iB.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},aU=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&rE(n[1]);return e&&JSON.parse(e)},dx=()=>{try{return qF()||sU()||rU()||aU()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},aE=n=>{var e,t;return(t=(e=dx())==null?void 0:e.emulatorHosts)==null?void 0:t[n]},iE=n=>{const e=aE(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},oE=()=>{var n;return(n=dx())==null?void 0:n.config},lE=n=>{var e;return(e=dx())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iU{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yd(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function rw(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oU(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",a=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Cv(JSON.stringify(t)),Cv(JSON.stringify(c)),""].join(".")}const Fp={};function lU(){const n={prod:[],emulator:[]};for(const e of Object.keys(Fp))Fp[e]?n.emulator.push(e):n.prod.push(e);return n}function AU(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let oB=!1;function aw(n,e){if(typeof window>"u"||typeof document>"u"||!Yd(window.location.host)||Fp[n]===e||Fp[n]||oB)return;Fp[n]=e;function t(v){return`__firebase__banner__${v}`}const s="__firebase__banner",o=lU().prod.length>0;function c(){const v=document.getElementById(s);v&&v.remove()}function h(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function u(v,g){v.setAttribute("width","24"),v.setAttribute("id",g),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function f(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{oB=!0,c()},v}function A(v,g){v.setAttribute("id",g),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function m(){const v=AU(s),g=t("text"),b=document.getElementById(g)||document.createElement("span"),I=t("learnmore"),N=document.getElementById(I)||document.createElement("a"),S=t("preprendIcon"),E=document.getElementById(S)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const _=v.element;h(_),A(N,I);const R=f();u(E,S),_.append(E,b,N,R),document.body.appendChild(_)}o?(b.innerText="Preview backend disconnected.",E.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(E.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tl(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cU(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tl())}function uU(){var e;const n=(e=dx())==null?void 0:e.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dU(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function hU(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function fU(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mU(){const n=tl();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function pU(){return!uU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gU(){try{return typeof indexedDB=="object"}catch{return!1}}function vU(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var o;e(((o=a.error)==null?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xU="FirebaseError";class cc extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=xU,Object.setPrototypeOf(this,cc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bg.prototype.create)}}class bg{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},a=`${this.service}/${e}`,o=this.errors[e],c=o?yU(o,s):"Error",h=`${this.serviceName}: ${c} (${a}).`;return new cc(a,h,s)}}function yU(n,e){return n.replace(bU,(t,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const bU=/\{\$([^}]+)}/g;function wU(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Xh(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const a of t){if(!s.includes(a))return!1;const o=n[a],c=e[a];if(lB(o)&&lB(c)){if(!Xh(o,c))return!1}else if(o!==c)return!1}for(const a of s)if(!t.includes(a))return!1;return!0}function lB(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wg(n){const e=[];for(const[t,s]of Object.entries(n))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Bp(n){const e={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,o]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(o)}}),e}function Cp(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function jU(n,e){const t=new BU(n,e);return t.subscribe.bind(t)}class BU{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let a;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");CU(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:s},a.next===void 0&&(a.next=Uy),a.error===void 0&&(a.error=Uy),a.complete===void 0&&(a.complete=Uy);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function CU(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Uy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oa(n){return n&&n._delegate?n._delegate:n}let Sv=class{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fh="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SU{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new iU;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(EU(e))try{this.getOrInitializeService({instanceIdentifier:Fh})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:a});s.resolve(o)}catch{}}}}clearInstance(e=Fh){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fh){return this.instances.has(e)}getOptions(e=Fh){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);s===h&&c.resolve(a)}return a}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const o=this.instances.get(s);return o&&e(o,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const a of s)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:NU(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Fh){return this.component?this.component.multipleInstances?e:Fh:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function NU(n){return n===Fh?void 0:n}function EU(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TU{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new SU(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wa;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(wa||(wa={}));const IU={debug:wa.DEBUG,verbose:wa.VERBOSE,info:wa.INFO,warn:wa.WARN,error:wa.ERROR,silent:wa.SILENT},_U=wa.INFO,FU={[wa.DEBUG]:"log",[wa.VERBOSE]:"log",[wa.INFO]:"info",[wa.WARN]:"warn",[wa.ERROR]:"error"},UU=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),a=FU[e];if(a)console[a](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let RU=class{constructor(e){this.name=e,this._logLevel=_U,this._logHandler=UU,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in wa))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?IU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,wa.DEBUG,...e),this._logHandler(this,wa.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,wa.VERBOSE,...e),this._logHandler(this,wa.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,wa.INFO,...e),this._logHandler(this,wa.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,wa.WARN,...e),this._logHandler(this,wa.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,wa.ERROR,...e),this._logHandler(this,wa.ERROR,...e)}};const DU=(n,e)=>e.some(t=>n instanceof t);let AB,cB;function LU(){return AB||(AB=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QU(){return cB||(cB=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const AE=new WeakMap,P1=new WeakMap,cE=new WeakMap,Ry=new WeakMap,iw=new WeakMap;function OU(n){const e=new Promise((t,s)=>{const a=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{t(_d(n.result)),a()},c=()=>{s(n.error),a()};n.addEventListener("success",o),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&AE.set(t,n)}).catch(()=>{}),iw.set(e,n),e}function PU(n){if(P1.has(n))return;const e=new Promise((t,s)=>{const a=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{t(),a()},c=()=>{s(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});P1.set(n,e)}let k1={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return P1.get(n);if(e==="objectStoreNames")return n.objectStoreNames||cE.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return _d(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function kU(n){k1=n(k1)}function MU(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(Dy(this),e,...t);return cE.set(s,e.sort?e.sort():[e]),_d(s)}:QU().includes(n)?function(...e){return n.apply(Dy(this),e),_d(AE.get(this))}:function(...e){return _d(n.apply(Dy(this),e))}}function HU(n){return typeof n=="function"?MU(n):(n instanceof IDBTransaction&&PU(n),DU(n,LU())?new Proxy(n,k1):n)}function _d(n){if(n instanceof IDBRequest)return OU(n);if(Ry.has(n))return Ry.get(n);const e=HU(n);return e!==n&&(Ry.set(n,e),iw.set(e,n)),e}const Dy=n=>iw.get(n);function VU(n,e,{blocked:t,upgrade:s,blocking:a,terminated:o}={}){const c=indexedDB.open(n,e),h=_d(c);return s&&c.addEventListener("upgradeneeded",u=>{s(_d(c.result),u.oldVersion,u.newVersion,_d(c.transaction),u)}),t&&c.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),h.then(u=>{o&&u.addEventListener("close",()=>o()),a&&u.addEventListener("versionchange",f=>a(f.oldVersion,f.newVersion,f))}).catch(()=>{}),h}const KU=["get","getKey","getAll","getAllKeys","count"],zU=["put","add","delete","clear"],Ly=new Map;function uB(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Ly.get(e))return Ly.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,a=zU.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(a||KU.includes(t)))return;const o=async function(c,...h){const u=this.transaction(c,a?"readwrite":"readonly");let f=u.store;return s&&(f=f.index(h.shift())),(await Promise.all([f[t](...h),a&&u.done]))[0]};return Ly.set(e,o),o}kU(n=>({...n,get:(e,t,s)=>uB(e,t)||n.get(e,t,s),has:(e,t)=>!!uB(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GU{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if($U(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function $U(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const M1="@firebase/app",dB="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nu=new RU("@firebase/app"),YU="@firebase/app-compat",WU="@firebase/analytics-compat",XU="@firebase/analytics",JU="@firebase/app-check-compat",qU="@firebase/app-check",ZU="@firebase/auth",eR="@firebase/auth-compat",tR="@firebase/database",nR="@firebase/data-connect",sR="@firebase/database-compat",rR="@firebase/functions",aR="@firebase/functions-compat",iR="@firebase/installations",oR="@firebase/installations-compat",lR="@firebase/messaging",AR="@firebase/messaging-compat",cR="@firebase/performance",uR="@firebase/performance-compat",dR="@firebase/remote-config",hR="@firebase/remote-config-compat",fR="@firebase/storage",mR="@firebase/storage-compat",pR="@firebase/firestore",gR="@firebase/ai",vR="@firebase/firestore-compat",xR="firebase",yR="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1="[DEFAULT]",bR={[M1]:"fire-core",[YU]:"fire-core-compat",[XU]:"fire-analytics",[WU]:"fire-analytics-compat",[qU]:"fire-app-check",[JU]:"fire-app-check-compat",[ZU]:"fire-auth",[eR]:"fire-auth-compat",[tR]:"fire-rtdb",[nR]:"fire-data-connect",[sR]:"fire-rtdb-compat",[rR]:"fire-fn",[aR]:"fire-fn-compat",[iR]:"fire-iid",[oR]:"fire-iid-compat",[lR]:"fire-fcm",[AR]:"fire-fcm-compat",[cR]:"fire-perf",[uR]:"fire-perf-compat",[dR]:"fire-rc",[hR]:"fire-rc-compat",[fR]:"fire-gcs",[mR]:"fire-gcs-compat",[pR]:"fire-fst",[vR]:"fire-fst-compat",[gR]:"fire-vertex","fire-js":"fire-js",[xR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv=new Map,wR=new Map,V1=new Map;function hB(n,e){try{n.container.addComponent(e)}catch(t){Nu.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Od(n){const e=n.name;if(V1.has(e))return Nu.debug(`There were multiple attempts to register component ${e}.`),!1;V1.set(e,n);for(const t of Nv.values())hB(t,n);for(const t of wR.values())hB(t,n);return!0}function hx(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function sA(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fd=new bg("app","Firebase",jR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Sv("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fd.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sf=yR;function uE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s={name:H1,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw Fd.create("bad-app-name",{appName:String(a)});if(t||(t=oE()),!t)throw Fd.create("no-options");const o=Nv.get(a);if(o){if(Xh(t,o.options)&&Xh(s,o.config))return o;throw Fd.create("duplicate-app",{appName:a})}const c=new TU(a);for(const u of V1.values())c.addComponent(u);const h=new BR(t,s,c);return Nv.set(a,h),h}function ow(n=H1){const e=Nv.get(n);if(!e&&n===H1&&oE())return uE();if(!e)throw Fd.create("no-app",{appName:n});return e}function FA(n,e,t){let s=bR[n]??n;t&&(s+=`-${t}`);const a=s.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const c=[`Unable to register library "${s}" with version "${e}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Nu.warn(c.join(" "));return}Od(new Sv(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR="firebase-heartbeat-database",SR=1,Zp="firebase-heartbeat-store";let Qy=null;function dE(){return Qy||(Qy=VU(CR,SR,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Zp)}catch(t){console.warn(t)}}}}).catch(n=>{throw Fd.create("idb-open",{originalErrorMessage:n.message})})),Qy}async function NR(n){try{const t=(await dE()).transaction(Zp),s=await t.objectStore(Zp).get(hE(n));return await t.done,s}catch(e){if(e instanceof cc)Nu.warn(e.message);else{const t=Fd.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Nu.warn(t.message)}}}async function fB(n,e){try{const s=(await dE()).transaction(Zp,"readwrite");await s.objectStore(Zp).put(e,hE(n)),await s.done}catch(t){if(t instanceof cc)Nu.warn(t.message);else{const s=Fd.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Nu.warn(s.message)}}}function hE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER=1024,TR=30;class IR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new FR(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=mB();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(c=>c.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:a}),this._heartbeatsCache.heartbeats.length>TR){const c=UR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Nu.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=mB(),{heartbeatsToSend:s,unsentEntries:a}=_R(this._heartbeatsCache.heartbeats),o=Cv(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Nu.warn(t),""}}}function mB(){return new Date().toISOString().substring(0,10)}function _R(n,e=ER){const t=[];let s=n.slice();for(const a of n){const o=t.find(c=>c.agent===a.agent);if(o){if(o.dates.push(a.date),pB(t)>e){o.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),pB(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class FR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gU()?vU().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await NR(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return fB(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return fB(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function pB(n){return Cv(JSON.stringify({version:2,heartbeats:n})).length}function UR(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let s=1;s<n.length;s++)n[s].date<t&&(t=n[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RR(n){Od(new Sv("platform-logger",e=>new GU(e),"PRIVATE")),Od(new Sv("heartbeat",e=>new IR(e),"PRIVATE")),FA(M1,dB,n),FA(M1,dB,"esm2020"),FA("fire-js","")}RR("");var DR="firebase",LR="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */FA(DR,LR,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ia;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ia||(ia={}));const QR={debug:ia.DEBUG,verbose:ia.VERBOSE,info:ia.INFO,warn:ia.WARN,error:ia.ERROR,silent:ia.SILENT},OR=ia.INFO,PR={[ia.DEBUG]:"log",[ia.VERBOSE]:"log",[ia.INFO]:"info",[ia.WARN]:"warn",[ia.ERROR]:"error"},kR=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),a=PR[e];if(a)console[a](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let MR=class{constructor(e){this.name=e,this._logLevel=OR,this._logHandler=kR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ia))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?QR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ia.DEBUG,...e),this._logHandler(this,ia.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ia.VERBOSE,...e),this._logHandler(this,ia.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ia.INFO,...e),this._logHandler(this,ia.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ia.WARN,...e),this._logHandler(this,ia.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ia.ERROR,...e),this._logHandler(this,ia.ERROR,...e)}},gB=class{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};function fE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const HR=fE,mE=new bg("auth","Firebase",fE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev=new MR("@firebase/auth");function VR(n,...e){Ev.logLevel<=ia.WARN&&Ev.warn(`Auth (${sf}): ${n}`,...e)}function iv(n,...e){Ev.logLevel<=ia.ERROR&&Ev.error(`Auth (${sf}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ic(n,...e){throw lw(n,...e)}function kc(n,...e){return lw(n,...e)}function pE(n,e,t){const s={...HR(),[e]:t};return new bg("auth","Firebase",s).create(e,{appName:n.name})}function Ud(n){return pE(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lw(n,...e){if(typeof n!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(t,...s)}return mE.create(n,...e)}function Zn(n,e,...t){if(!n)throw lw(e,...t)}function bu(n){const e="INTERNAL ASSERTION FAILED: "+n;throw iv(e),new Error(e)}function Eu(n,e){n||bu(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function KR(){return vB()==="http:"||vB()==="https:"}function vB(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(KR()||hU()||"connection"in navigator)?navigator.onLine:!0}function GR(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(e,t){this.shortDelay=e,this.longDelay=t,Eu(t>e,"Short delay should be less than long delay!"),this.isMobile=cU()||fU()}get(){return zR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw(n,e){Eu(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;bu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;bu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;bu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],WR=new jg(3e4,6e4);function Wd(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Uu(n,e,t,s,a={}){return vE(n,a,async()=>{let o={},c={};s&&(e==="GET"?c=s:o={body:JSON.stringify(s)});const h=wg({key:n.config.apiKey,...c}).slice(1),u=await n._getAdditionalHeaders();u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode);const f={method:e,headers:u,...o};return dU()||(f.referrerPolicy="no-referrer"),n.emulatorConfig&&Yd(n.emulatorConfig.host)&&(f.credentials="include"),gE.fetch()(await xE(n,n.config.apiHost,t,h),f)})}async function vE(n,e,t){n._canInitEmulator=!1;const s={...$R,...e};try{const a=new JR(n),o=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw L0(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const h=o.ok?c.errorMessage:c.error.message,[u,f]=h.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw L0(n,"credential-already-in-use",c);if(u==="EMAIL_EXISTS")throw L0(n,"email-already-in-use",c);if(u==="USER_DISABLED")throw L0(n,"user-disabled",c);const A=s[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw pE(n,A,f);ic(n,A)}}catch(a){if(a instanceof cc)throw a;ic(n,"network-request-failed",{message:String(a)})}}async function fx(n,e,t,s,a={}){const o=await Uu(n,e,t,s,a);return"mfaPendingCredential"in o&&ic(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function xE(n,e,t,s){const a=`${e}${t}?${s}`,o=n,c=o.config.emulator?Aw(n.config,a):`${n.config.apiScheme}://${a}`;return YR.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function XR(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class JR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(kc(this.auth,"network-request-failed")),WR.get())})}}function L0(n,e,t){const s={appName:n.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const a=kc(n,e,s);return a.customData._tokenResponse=t,a}function xB(n){return n!==void 0&&n.enterprise!==void 0}class qR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return XR(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ZR(n,e){return Uu(n,"GET","/v2/recaptchaConfig",Wd(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eD(n,e){return Uu(n,"POST","/v1/accounts:delete",e)}async function Tv(n,e){return Uu(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Up(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function tD(n,e=!1){const t=Oa(n),s=await t.getIdToken(e),a=cw(s);Zn(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,c=o==null?void 0:o.sign_in_provider;return{claims:a,token:s,authTime:Up(Oy(a.auth_time)),issuedAtTime:Up(Oy(a.iat)),expirationTime:Up(Oy(a.exp)),signInProvider:c||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Oy(n){return Number(n)*1e3}function cw(n){const[e,t,s]=n.split(".");if(e===void 0||t===void 0||s===void 0)return iv("JWT malformed, contained fewer than 3 sections"),null;try{const a=rE(t);return a?JSON.parse(a):(iv("Failed to decode base64 JWT payload"),null)}catch(a){return iv("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function yB(n){const e=cw(n);return Zn(e,"internal-error"),Zn(typeof e.exp<"u","internal-error"),Zn(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eg(n,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof cc&&nD(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function nD({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Up(this.lastLoginAt),this.creationTime=Up(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iv(n){var m;const e=n.auth,t=await n.getIdToken(),s=await eg(n,Tv(e,{idToken:t}));Zn(s==null?void 0:s.users.length,e,"internal-error");const a=s.users[0];n._notifyReloadListener(a);const o=(m=a.providerUserInfo)!=null&&m.length?yE(a.providerUserInfo):[],c=aD(n.providerData,o),h=n.isAnonymous,u=!(n.email&&a.passwordHash)&&!(c!=null&&c.length),f=h?u:!1,A={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new z1(a.createdAt,a.lastLoginAt),isAnonymous:f};Object.assign(n,A)}async function rD(n){const e=Oa(n);await Iv(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function aD(n,e){return[...n.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function yE(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iD(n,e){const t=await vE(n,{},async()=>{const s=wg({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=n.config,c=await xE(n,a,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:h,body:s};return n.emulatorConfig&&Yd(n.emulatorConfig.host)&&(u.credentials="include"),gE.fetch()(c,u)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function oD(n,e){return Uu(n,"POST","/v2/accounts:revokeToken",Wd(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Zn(e.idToken,"internal-error"),Zn(typeof e.idToken<"u","internal-error"),Zn(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):yB(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Zn(e.length!==0,"internal-error");const t=yB(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Zn(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:a,expiresIn:o}=await iD(e,t);this.updateTokensAndExpiration(s,a,Number(o))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:a,expirationTime:o}=t,c=new qf;return s&&(Zn(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),a&&(Zn(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),o&&(Zn(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new qf,this.toJSON())}_performRefresh(){return bu("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pd(n,e){Zn(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class sc{constructor({uid:e,auth:t,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new sD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new z1(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await eg(this,this.stsTokenManager.getToken(this.auth,e));return Zn(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return tD(this,e)}reload(){return rD(this)}_assign(e){this!==e&&(Zn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new sc({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Zn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Iv(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(sA(this.auth.app))return Promise.reject(Ud(this.auth));const e=await this.getIdToken();return await eg(this,eD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,a=t.email??void 0,o=t.phoneNumber??void 0,c=t.photoURL??void 0,h=t.tenantId??void 0,u=t._redirectEventId??void 0,f=t.createdAt??void 0,A=t.lastLoginAt??void 0,{uid:m,emailVerified:v,isAnonymous:g,providerData:b,stsTokenManager:I}=t;Zn(m&&I,e,"internal-error");const N=qf.fromJSON(this.name,I);Zn(typeof m=="string",e,"internal-error"),pd(s,e.name),pd(a,e.name),Zn(typeof v=="boolean",e,"internal-error"),Zn(typeof g=="boolean",e,"internal-error"),pd(o,e.name),pd(c,e.name),pd(h,e.name),pd(u,e.name),pd(f,e.name),pd(A,e.name);const S=new sc({uid:m,auth:e,email:a,emailVerified:v,displayName:s,isAnonymous:g,photoURL:c,phoneNumber:o,tenantId:h,stsTokenManager:N,createdAt:f,lastLoginAt:A});return b&&Array.isArray(b)&&(S.providerData=b.map(E=>({...E}))),u&&(S._redirectEventId=u),S}static async _fromIdTokenResponse(e,t,s=!1){const a=new qf;a.updateFromServerResponse(t);const o=new sc({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await Iv(o),o}static async _fromGetAccountInfoResponse(e,t,s){const a=t.users[0];Zn(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?yE(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(o!=null&&o.length),h=new qf;h.updateFromIdToken(s);const u=new sc({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:c}),f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new z1(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(o!=null&&o.length)};return Object.assign(u,f),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bB=new Map;function wu(n){Eu(n instanceof Function,"Expected a class definition");let e=bB.get(n);return e?(Eu(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,bB.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}bE.type="NONE";const wB=bE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(n,e,t){return`firebase:${n}:${e}:${t}`}class Zf{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:a,name:o}=this.auth;this.fullUserKey=ov(this.userKey,a.apiKey,o),this.fullPersistenceKey=ov("persistence",a.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Tv(this.auth,{idToken:e}).catch(()=>{});return t?sc._fromGetAccountInfoResponse(this.auth,t,e):null}return sc._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Zf(wu(wB),e,s);const a=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=a[0]||wu(wB);const c=ov(s,e.config.apiKey,e.name);let h=null;for(const f of t)try{const A=await f._get(c);if(A){let m;if(typeof A=="string"){const v=await Tv(e,{idToken:A}).catch(()=>{});if(!v)break;m=await sc._fromGetAccountInfoResponse(e,v,A)}else m=sc._fromJSON(e,A);f!==o&&(h=m),o=f;break}}catch{}const u=a.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new Zf(o,e,s):(o=u[0],h&&await o._set(c,h.toJSON()),await Promise.all(t.map(async f=>{if(f!==o)try{await f._remove(c)}catch{}})),new Zf(o,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jB(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(CE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(wE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(NE(e))return"Blackberry";if(EE(e))return"Webos";if(jE(e))return"Safari";if((e.includes("chrome/")||BE(e))&&!e.includes("edge/"))return"Chrome";if(SE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function wE(n=tl()){return/firefox\//i.test(n)}function jE(n=tl()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function BE(n=tl()){return/crios\//i.test(n)}function CE(n=tl()){return/iemobile/i.test(n)}function SE(n=tl()){return/android/i.test(n)}function NE(n=tl()){return/blackberry/i.test(n)}function EE(n=tl()){return/webos/i.test(n)}function uw(n=tl()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function lD(n=tl()){var e;return uw(n)&&!!((e=window.navigator)!=null&&e.standalone)}function AD(){return mU()&&document.documentMode===10}function TE(n=tl()){return uw(n)||SE(n)||EE(n)||NE(n)||/windows phone/i.test(n)||CE(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(n,e=[]){let t;switch(n){case"Browser":t=jB(tl());break;case"Worker":t=`${jB(tl())}-${n}`;break;default:t=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${sf}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=o=>new Promise((c,h)=>{try{const u=e(o);c(u)}catch(u){h(u)}});s.onAbort=t,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uD(n,e={}){return Uu(n,"GET","/v2/passwordPolicy",Wd(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD=6;class hD{constructor(e){var s;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??dD,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e,t,s,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new BB(this),this.idTokenSubscription=new BB(this),this.beforeStateQueue=new cD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=wu(t)),this._initializationPromise=this.queue(async()=>{var s,a,o;if(!this._deleted&&(this.persistenceManager=await Zf.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Tv(this,{idToken:e}),s=await sc._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(sA(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(o=this.redirectUser)==null?void 0:o._redirectEventId,h=s==null?void 0:s._redirectEventId,u=await this.tryRedirectSignIn(e);(!c||c===h)&&(u!=null&&u.user)&&(s=u.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Zn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Iv(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=GR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(sA(this.app))return Promise.reject(Ud(this));const t=e?Oa(e):null;return t&&Zn(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Zn(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return sA(this.app)?Promise.reject(Ud(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return sA(this.app)?Promise.reject(Ud(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(wu(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await uD(this),t=new hD(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new bg("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await oD(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&wu(e)||this._popupRedirectResolver;Zn(t,this,"argument-error"),this.redirectPersistenceManager=await Zf.create(this,[wu(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,a){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Zn(h,this,"internal-error"),h.then(()=>{c||o(this.currentUser)}),typeof t=="function"){const u=e.addObserver(t,s,a);return()=>{c=!0,u()}}else{const u=e.addObserver(t);return()=>{c=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Zn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=IE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var t;if(sA(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&VR(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function rf(n){return Oa(n)}class BB{constructor(e){this.auth=e,this.observer=null,this.addObserver=jU(t=>this.observer=t)}get next(){return Zn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mx={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mD(n){mx=n}function _E(n){return mx.loadJS(n)}function pD(){return mx.recaptchaEnterpriseScript}function gD(){return mx.gapiScript}function vD(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class xD{constructor(){this.enterprise=new yD}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class yD{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const bD="recaptcha-enterprise",FE="NO_RECAPTCHA";class wD{constructor(e){this.type=bD,this.auth=rf(e)}async verify(e="verify",t=!1){async function s(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,h)=>{ZR(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const f=new qR(u);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,c(f.siteKey)}}).catch(u=>{h(u)})})}function a(o,c,h){const u=window.grecaptcha;xB(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(f=>{c(f)}).catch(()=>{c(FE)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new xD().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{s(this.auth).then(h=>{if(!t&&xB(window.grecaptcha))a(h,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let u=pD();u.length!==0&&(u+=h),_E(u).then(()=>{a(h,o,c)}).catch(f=>{c(f)})}}).catch(h=>{c(h)})})}}async function CB(n,e,t,s=!1,a=!1){const o=new wD(n);let c;if(a)c=FE;else try{c=await o.verify(t)}catch{c=await o.verify(t,!0)}const h={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const u=h.phoneEnrollmentInfo.phoneNumber,f=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const u=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return s?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function G1(n,e,t,s,a){var o;if((o=n._getRecaptchaConfig())!=null&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await CB(n,e,t,t==="getOobCode");return s(n,c)}else return s(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await CB(n,e,t,t==="getOobCode");return s(n,h)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(n,e){const t=hx(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),o=t.getOptions();if(Xh(o,e??{}))return a;ic(a,"already-initialized")}return t.initialize({options:e})}function BD(n,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(wu);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function CD(n,e,t){const s=rf(n);Zn(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,o=UE(e),{host:c,port:h}=SD(e),u=h===null?"":`:${h}`,f={url:`${o}//${c}${u}/`},A=Object.freeze({host:c,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Zn(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Zn(Xh(f,s.config.emulator)&&Xh(A,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=f,s.emulatorConfig=A,s.settings.appVerificationDisabledForTesting=!0,Yd(c)?(rw(`${o}//${c}${u}`),aw("Auth",!0)):ND()}function UE(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function SD(n){const e=UE(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const o=a[1];return{host:o,port:SB(s.substr(o.length+1))}}else{const[o,c]=s.split(":");return{host:o,port:SB(c)}}}function SB(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function ND(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return bu("not implemented")}_getIdTokenResponse(e){return bu("not implemented")}_linkToIdToken(e,t){return bu("not implemented")}_getReauthenticationResolver(e){return bu("not implemented")}}async function ED(n,e){return Uu(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TD(n,e){return fx(n,"POST","/v1/accounts:signInWithPassword",Wd(n,e))}async function ID(n,e){return Uu(n,"POST","/v1/accounts:sendOobCode",Wd(n,e))}async function _D(n,e){return ID(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FD(n,e){return fx(n,"POST","/v1/accounts:signInWithEmailLink",Wd(n,e))}async function UD(n,e){return fx(n,"POST","/v1/accounts:signInWithEmailLink",Wd(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg extends dw{constructor(e,t,s,a=null){super("password",s),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new tg(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new tg(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return G1(e,t,"signInWithPassword",TD);case"emailLink":return FD(e,{email:this._email,oobCode:this._password});default:ic(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return G1(e,s,"signUpPassword",ED);case"emailLink":return UD(e,{idToken:t,email:this._email,oobCode:this._password});default:ic(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function em(n,e){return fx(n,"POST","/v1/accounts:signInWithIdp",Wd(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD="http://localhost";class Jh extends dw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Jh(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ic("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...o}=t;if(!s||!a)return null;const c=new Jh(s,a);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return em(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,em(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,em(e,t)}buildRequest(){const e={requestUri:RD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=wg(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DD(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function LD(n){const e=Bp(Cp(n)).link,t=e?Bp(Cp(e)).deep_link_id:null,s=Bp(Cp(n)).deep_link_id;return(s?Bp(Cp(s)).link:null)||s||t||e||n}class hw{constructor(e){const t=Bp(Cp(e)),s=t.apiKey??null,a=t.oobCode??null,o=DD(t.mode??null);Zn(s&&a&&o,"argument-error"),this.apiKey=s,this.operation=o,this.code=a,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=LD(e);try{return new hw(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(){this.providerId=gm.PROVIDER_ID}static credential(e,t){return tg._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=hw.parseLink(t);return Zn(s,"argument-error"),tg._fromEmailAndCode(e,s.code,s.tenantId)}}gm.PROVIDER_ID="password";gm.EMAIL_PASSWORD_SIGN_IN_METHOD="password";gm.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg extends RE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd extends Bg{constructor(){super("facebook.com")}static credential(e){return Jh._fromParams({providerId:bd.PROVIDER_ID,signInMethod:bd.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bd.credentialFromTaggedObject(e)}static credentialFromError(e){return bd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bd.credential(e.oauthAccessToken)}catch{return null}}}bd.FACEBOOK_SIGN_IN_METHOD="facebook.com";bd.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd extends Bg{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Jh._fromParams({providerId:wd.PROVIDER_ID,signInMethod:wd.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return wd.credentialFromTaggedObject(e)}static credentialFromError(e){return wd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return wd.credential(t,s)}catch{return null}}}wd.GOOGLE_SIGN_IN_METHOD="google.com";wd.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd extends Bg{constructor(){super("github.com")}static credential(e){return Jh._fromParams({providerId:jd.PROVIDER_ID,signInMethod:jd.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return jd.credentialFromTaggedObject(e)}static credentialFromError(e){return jd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return jd.credential(e.oauthAccessToken)}catch{return null}}}jd.GITHUB_SIGN_IN_METHOD="github.com";jd.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd extends Bg{constructor(){super("twitter.com")}static credential(e,t){return Jh._fromParams({providerId:Bd.PROVIDER_ID,signInMethod:Bd.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Bd.credentialFromTaggedObject(e)}static credentialFromError(e){return Bd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Bd.credential(t,s)}catch{return null}}}Bd.TWITTER_SIGN_IN_METHOD="twitter.com";Bd.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,a=!1){const o=await sc._fromIdTokenResponse(e,s,a),c=NB(s);return new sm({user:o,providerId:c,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const a=NB(s);return new sm({user:e,providerId:a,_tokenResponse:s,operationType:t})}}function NB(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v extends cc{constructor(e,t,s,a){super(t.code,t.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,_v.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,a){return new _v(e,t,s,a)}}function DE(n,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?_v._fromErrorAndOperation(n,o,e,s):o})}async function QD(n,e,t=!1){const s=await eg(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return sm._forOperation(n,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OD(n,e,t=!1){const{auth:s}=n;if(sA(s.app))return Promise.reject(Ud(s));const a="reauthenticate";try{const o=await eg(n,DE(s,a,e,n),t);Zn(o.idToken,s,"internal-error");const c=cw(o.idToken);Zn(c,s,"internal-error");const{sub:h}=c;return Zn(n.uid===h,s,"user-mismatch"),sm._forOperation(n,a,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&ic(s,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LE(n,e,t=!1){if(sA(n.app))return Promise.reject(Ud(n));const s="signIn",a=await DE(n,s,e),o=await sm._fromIdTokenResponse(n,s,a);return t||await n._updateCurrentUser(o.user),o}async function PD(n,e){return LE(rf(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kD(n){const e=rf(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function MD(n,e,t){const s=rf(n);await G1(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",_D)}function HD(n,e,t){return sA(n.app)?Promise.reject(Ud(n)):PD(Oa(n),gm.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&kD(n),s})}function VD(n,e,t,s){return Oa(n).onIdTokenChanged(e,t,s)}function KD(n,e,t){return Oa(n).beforeAuthStateChanged(e,t)}function zD(n,e,t,s){return Oa(n).onAuthStateChanged(e,t,s)}function yp(n){return Oa(n).signOut()}const Fv="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Fv,"1"),this.storage.removeItem(Fv),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD=1e3,$D=10;class OE extends QE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=TE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),a=this.localCache[t];s!==a&&e(t,a,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,h,u)=>{this.notifyListeners(c,u)});return}const s=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!t&&this.localCache[s]===c||this.notifyListeners(s,c)},o=this.storage.getItem(s);AD()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,$D):a()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},GD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}OE.type="LOCAL";const YD=OE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE extends QE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}PE.type="SESSION";const kE=PE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WD(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const s=new px(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:a,data:o}=t.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const h=Array.from(c).map(async f=>f(t.origin,o)),u=await WD(h);t.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:u})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}px.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(n="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,c;return new Promise((h,u)=>{const f=fw("",20);a.port1.start();const A=setTimeout(()=>{u(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(m){const v=m;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(A),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(v.data.response);break;default:clearTimeout(A),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mc(){return window}function JD(n){Mc().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ME(){return typeof Mc().WorkerGlobalScope<"u"&&typeof Mc().importScripts=="function"}async function qD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ZD(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function eL(){return ME()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE="firebaseLocalStorageDb",tL=1,Uv="firebaseLocalStorage",VE="fbase_key";class Cg{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function gx(n,e){return n.transaction([Uv],e?"readwrite":"readonly").objectStore(Uv)}function nL(){const n=indexedDB.deleteDatabase(HE);return new Cg(n).toPromise()}function $1(){const n=indexedDB.open(HE,tL);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(Uv,{keyPath:VE})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(Uv)?e(s):(s.close(),await nL(),e(await $1()))})})}async function EB(n,e,t){const s=gx(n,!0).put({[VE]:e,value:t});return new Cg(s).toPromise()}async function sL(n,e){const t=gx(n,!1).get(e),s=await new Cg(t).toPromise();return s===void 0?null:s.value}function TB(n,e){const t=gx(n,!0).delete(e);return new Cg(t).toPromise()}const rL=800,aL=3;class KE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $1(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>aL)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ME()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=px._getInstance(eL()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,s;if(this.activeServiceWorker=await qD(),!this.activeServiceWorker)return;this.sender=new XD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ZD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await $1();return await EB(e,Fv,"1"),await TB(e,Fv),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>EB(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>sL(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>TB(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=gx(a,!1).getAll();return new Cg(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}KE.type="LOCAL";const iL=KE;new jg(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oL(n,e){return e?wu(e):(Zn(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw extends dw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return em(e,this._buildIdpRequest())}_linkToIdToken(e,t){return em(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return em(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function lL(n){return LE(n.auth,new mw(n),n.bypassAuthState)}function AL(n){const{auth:e,user:t}=n;return Zn(t,e,"internal-error"),OD(t,new mw(n),n.bypassAuthState)}async function cL(n){const{auth:e,user:t}=n;return Zn(t,e,"internal-error"),QD(t,new mw(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(e,t,s,a,o=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:a,tenantId:o,error:c,type:h}=e;if(c){this.reject(c);return}const u={auth:this.auth,requestUri:t,sessionId:s,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(u))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return lL;case"linkViaPopup":case"linkViaRedirect":return cL;case"reauthViaPopup":case"reauthViaRedirect":return AL;default:ic(this.auth,"internal-error")}}resolve(e){Eu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Eu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uL=new jg(2e3,1e4);class Gf extends zE{constructor(e,t,s,a,o){super(e,t,a,o),this.provider=s,this.authWindow=null,this.pollId=null,Gf.currentPopupAction&&Gf.currentPopupAction.cancel(),Gf.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Zn(e,this.auth,"internal-error"),e}async onExecution(){Eu(this.filter.length===1,"Popup operations only handle one event");const e=fw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(kc(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(kc(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Gf.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if((s=(t=this.authWindow)==null?void 0:t.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(kc(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,uL.get())};e()}}Gf.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dL="pendingRedirect",lv=new Map;class hL extends zE{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=lv.get(this.auth._key());if(!e){try{const s=await fL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}lv.set(this.auth._key(),e)}return this.bypassAuthState||lv.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fL(n,e){const t=gL(e),s=pL(n);if(!await s._isAvailable())return!1;const a=await s._get(t)==="true";return await s._remove(t),a}function mL(n,e){lv.set(n._key(),e)}function pL(n){return wu(n._redirectPersistence)}function gL(n){return ov(dL,n.config.apiKey,n.name)}async function vL(n,e,t=!1){if(sA(n.app))return Promise.reject(Ud(n));const s=rf(n),a=oL(s,e),c=await new hL(s,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xL=600*1e3;class yL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!bL(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!GE(e)){const a=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";t.onError(kc(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=xL&&this.cachedEventUids.clear(),this.cachedEventUids.has(IB(e))}saveEventToCache(e){this.cachedEventUids.add(IB(e)),this.lastProcessedEventTime=Date.now()}}function IB(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function GE({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function bL(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return GE(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wL(n,e={}){return Uu(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BL=/^https?/;async function CL(n){if(n.config.emulator)return;const{authorizedDomains:e}=await wL(n);for(const t of e)try{if(SL(t))return}catch{}ic(n,"unauthorized-domain")}function SL(n){const e=K1(),{protocol:t,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&s===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===s}if(!BL.test(t))return!1;if(jL.test(n))return s===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NL=new jg(3e4,6e4);function _B(){const n=Mc().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function EL(n){return new Promise((e,t)=>{var a,o,c;function s(){_B(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_B(),t(kc(n,"network-request-failed"))},timeout:NL.get()})}if((o=(a=Mc().gapi)==null?void 0:a.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((c=Mc().gapi)!=null&&c.load)s();else{const h=vD("iframefcb");return Mc()[h]=()=>{gapi.load?s():t(kc(n,"network-request-failed"))},_E(`${gD()}?onload=${h}`).catch(u=>t(u))}}).catch(e=>{throw Av=null,e})}let Av=null;function TL(n){return Av=Av||EL(n),Av}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IL=new jg(5e3,15e3),_L="__/auth/iframe",FL="emulator/auth/iframe",UL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},RL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function DL(n){const e=n.config;Zn(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Aw(e,FL):`https://${n.config.authDomain}/${_L}`,s={apiKey:e.apiKey,appName:n.name,v:sf},a=RL.get(n.config.apiHost);a&&(s.eid=a);const o=n._getFrameworks();return o.length&&(s.fw=o.join(",")),`${t}?${wg(s).slice(1)}`}async function LL(n){const e=await TL(n),t=Mc().gapi;return Zn(t,n,"internal-error"),e.open({where:document.body,url:DL(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:UL,dontclear:!0},s=>new Promise(async(a,o)=>{await s.restyle({setHideOnLeave:!1});const c=kc(n,"network-request-failed"),h=Mc().setTimeout(()=>{o(c)},IL.get());function u(){Mc().clearTimeout(h),a(s)}s.ping(u).then(u,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},OL=500,PL=600,kL="_blank",ML="http://localhost";class FB{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function HL(n,e,t,s=OL,a=PL){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let h="";const u={...QL,width:s.toString(),height:a.toString(),top:o,left:c},f=tl().toLowerCase();t&&(h=BE(f)?kL:t),wE(f)&&(e=e||ML,u.scrollbars="yes");const A=Object.entries(u).reduce((v,[g,b])=>`${v}${g}=${b},`,"");if(lD(f)&&h!=="_self")return VL(e||"",h),new FB(null);const m=window.open(e||"",h,A);Zn(m,n,"popup-blocked");try{m.focus()}catch{}return new FB(m)}function VL(n,e){const t=document.createElement("a");t.href=n,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KL="__/auth/handler",zL="emulator/auth/handler",GL=encodeURIComponent("fac");async function UB(n,e,t,s,a,o){Zn(n.config.authDomain,n,"auth-domain-config-required"),Zn(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:s,v:sf,eventId:a};if(e instanceof RE){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",wU(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[A,m]of Object.entries({}))c[A]=m}if(e instanceof Bg){const A=e.getScopes().filter(m=>m!=="");A.length>0&&(c.scopes=A.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const A of Object.keys(h))h[A]===void 0&&delete h[A];const u=await n._getAppCheckToken(),f=u?`#${GL}=${encodeURIComponent(u)}`:"";return`${$L(n)}?${wg(h).slice(1)}${f}`}function $L({config:n}){return n.emulator?Aw(n,zL):`https://${n.authDomain}/${KL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py="webStorageSupport";class YL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kE,this._completeRedirectFn=vL,this._overrideRedirectResult=mL}async _openPopup(e,t,s,a){var c;Eu((c=this.eventManagers[e._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const o=await UB(e,t,s,K1(),a);return HL(e,o,fw())}async _openRedirect(e,t,s,a){await this._originValidation(e);const o=await UB(e,t,s,K1(),a);return JD(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:o}=this.eventManagers[t];return a?Promise.resolve(a):(Eu(o,"If manager is not set, promise should be"),o)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await LL(e),s=new yL(e);return t.register("authEvent",a=>(Zn(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Py,{type:Py},a=>{var c;const o=(c=a==null?void 0:a[0])==null?void 0:c[Py];o!==void 0&&t(!!o),ic(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=CL(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return TE()||jE()||uw()}}const WL=YL;var RB="@firebase/auth",DB="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Zn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JL(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qL(n){Od(new gB("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=s.options;Zn(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const u={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:IE(n)},f=new fD(s,a,o,u);return BD(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Od(new gB("auth-internal",e=>{const t=rf(e.getProvider("auth").getImmediate());return(s=>new XL(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),FA(RB,DB,JL(n)),FA(RB,DB,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL=300,eQ=lE("authIdTokenMaxAge")||ZL;let LB=null;const tQ=n=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>eQ)return;const a=t==null?void 0:t.token;LB!==a&&(LB=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function nQ(n=ow()){const e=hx(n,"auth");if(e.isInitialized())return e.getImmediate();const t=jD(n,{popupRedirectResolver:WL,persistence:[iL,YD,kE]}),s=lE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(s,location.origin);if(location.origin===o.origin){const c=tQ(o.toString());KD(t,c,()=>c(t.currentUser)),VD(t,h=>c(h))}}const a=aE("auth");return a&&CD(t,`http://${a}`),t}function sQ(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}mD({loadJS(n){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=a=>{const o=kc("internal-error");o.customData=a,t(o)},s.type="text/javascript",s.charset="UTF-8",sQ().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qL("Browser");let rQ=class{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ir;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ir||(ir={}));const aQ={debug:ir.DEBUG,verbose:ir.VERBOSE,info:ir.INFO,warn:ir.WARN,error:ir.ERROR,silent:ir.SILENT},iQ=ir.INFO,oQ={[ir.DEBUG]:"log",[ir.VERBOSE]:"log",[ir.INFO]:"info",[ir.WARN]:"warn",[ir.ERROR]:"error"},lQ=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),a=oQ[e];if(a)console[a](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class AQ{constructor(e){this.name=e,this._logLevel=iQ,this._logHandler=lQ,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ir))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?aQ[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ir.DEBUG,...e),this._logHandler(this,ir.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ir.VERBOSE,...e),this._logHandler(this,ir.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ir.INFO,...e),this._logHandler(this,ir.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ir.WARN,...e),this._logHandler(this,ir.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ir.ERROR,...e),this._logHandler(this,ir.ERROR,...e)}}var QB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Rd,$E;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,Q){function O(){}O.prototype=Q.prototype,D.F=Q.prototype,D.prototype=new O,D.prototype.constructor=D,D.D=function($,P,V){for(var G=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)G[ie-2]=arguments[ie];return Q.prototype[P].apply($,G)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,t),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(D,Q,O){O||(O=0);const $=Array(16);if(typeof Q=="string")for(var P=0;P<16;++P)$[P]=Q.charCodeAt(O++)|Q.charCodeAt(O++)<<8|Q.charCodeAt(O++)<<16|Q.charCodeAt(O++)<<24;else for(P=0;P<16;++P)$[P]=Q[O++]|Q[O++]<<8|Q[O++]<<16|Q[O++]<<24;Q=D.g[0],O=D.g[1],P=D.g[2];let V=D.g[3],G;G=Q+(V^O&(P^V))+$[0]+3614090360&4294967295,Q=O+(G<<7&4294967295|G>>>25),G=V+(P^Q&(O^P))+$[1]+3905402710&4294967295,V=Q+(G<<12&4294967295|G>>>20),G=P+(O^V&(Q^O))+$[2]+606105819&4294967295,P=V+(G<<17&4294967295|G>>>15),G=O+(Q^P&(V^Q))+$[3]+3250441966&4294967295,O=P+(G<<22&4294967295|G>>>10),G=Q+(V^O&(P^V))+$[4]+4118548399&4294967295,Q=O+(G<<7&4294967295|G>>>25),G=V+(P^Q&(O^P))+$[5]+1200080426&4294967295,V=Q+(G<<12&4294967295|G>>>20),G=P+(O^V&(Q^O))+$[6]+2821735955&4294967295,P=V+(G<<17&4294967295|G>>>15),G=O+(Q^P&(V^Q))+$[7]+4249261313&4294967295,O=P+(G<<22&4294967295|G>>>10),G=Q+(V^O&(P^V))+$[8]+1770035416&4294967295,Q=O+(G<<7&4294967295|G>>>25),G=V+(P^Q&(O^P))+$[9]+2336552879&4294967295,V=Q+(G<<12&4294967295|G>>>20),G=P+(O^V&(Q^O))+$[10]+4294925233&4294967295,P=V+(G<<17&4294967295|G>>>15),G=O+(Q^P&(V^Q))+$[11]+2304563134&4294967295,O=P+(G<<22&4294967295|G>>>10),G=Q+(V^O&(P^V))+$[12]+1804603682&4294967295,Q=O+(G<<7&4294967295|G>>>25),G=V+(P^Q&(O^P))+$[13]+4254626195&4294967295,V=Q+(G<<12&4294967295|G>>>20),G=P+(O^V&(Q^O))+$[14]+2792965006&4294967295,P=V+(G<<17&4294967295|G>>>15),G=O+(Q^P&(V^Q))+$[15]+1236535329&4294967295,O=P+(G<<22&4294967295|G>>>10),G=Q+(P^V&(O^P))+$[1]+4129170786&4294967295,Q=O+(G<<5&4294967295|G>>>27),G=V+(O^P&(Q^O))+$[6]+3225465664&4294967295,V=Q+(G<<9&4294967295|G>>>23),G=P+(Q^O&(V^Q))+$[11]+643717713&4294967295,P=V+(G<<14&4294967295|G>>>18),G=O+(V^Q&(P^V))+$[0]+3921069994&4294967295,O=P+(G<<20&4294967295|G>>>12),G=Q+(P^V&(O^P))+$[5]+3593408605&4294967295,Q=O+(G<<5&4294967295|G>>>27),G=V+(O^P&(Q^O))+$[10]+38016083&4294967295,V=Q+(G<<9&4294967295|G>>>23),G=P+(Q^O&(V^Q))+$[15]+3634488961&4294967295,P=V+(G<<14&4294967295|G>>>18),G=O+(V^Q&(P^V))+$[4]+3889429448&4294967295,O=P+(G<<20&4294967295|G>>>12),G=Q+(P^V&(O^P))+$[9]+568446438&4294967295,Q=O+(G<<5&4294967295|G>>>27),G=V+(O^P&(Q^O))+$[14]+3275163606&4294967295,V=Q+(G<<9&4294967295|G>>>23),G=P+(Q^O&(V^Q))+$[3]+4107603335&4294967295,P=V+(G<<14&4294967295|G>>>18),G=O+(V^Q&(P^V))+$[8]+1163531501&4294967295,O=P+(G<<20&4294967295|G>>>12),G=Q+(P^V&(O^P))+$[13]+2850285829&4294967295,Q=O+(G<<5&4294967295|G>>>27),G=V+(O^P&(Q^O))+$[2]+4243563512&4294967295,V=Q+(G<<9&4294967295|G>>>23),G=P+(Q^O&(V^Q))+$[7]+1735328473&4294967295,P=V+(G<<14&4294967295|G>>>18),G=O+(V^Q&(P^V))+$[12]+2368359562&4294967295,O=P+(G<<20&4294967295|G>>>12),G=Q+(O^P^V)+$[5]+4294588738&4294967295,Q=O+(G<<4&4294967295|G>>>28),G=V+(Q^O^P)+$[8]+2272392833&4294967295,V=Q+(G<<11&4294967295|G>>>21),G=P+(V^Q^O)+$[11]+1839030562&4294967295,P=V+(G<<16&4294967295|G>>>16),G=O+(P^V^Q)+$[14]+4259657740&4294967295,O=P+(G<<23&4294967295|G>>>9),G=Q+(O^P^V)+$[1]+2763975236&4294967295,Q=O+(G<<4&4294967295|G>>>28),G=V+(Q^O^P)+$[4]+1272893353&4294967295,V=Q+(G<<11&4294967295|G>>>21),G=P+(V^Q^O)+$[7]+4139469664&4294967295,P=V+(G<<16&4294967295|G>>>16),G=O+(P^V^Q)+$[10]+3200236656&4294967295,O=P+(G<<23&4294967295|G>>>9),G=Q+(O^P^V)+$[13]+681279174&4294967295,Q=O+(G<<4&4294967295|G>>>28),G=V+(Q^O^P)+$[0]+3936430074&4294967295,V=Q+(G<<11&4294967295|G>>>21),G=P+(V^Q^O)+$[3]+3572445317&4294967295,P=V+(G<<16&4294967295|G>>>16),G=O+(P^V^Q)+$[6]+76029189&4294967295,O=P+(G<<23&4294967295|G>>>9),G=Q+(O^P^V)+$[9]+3654602809&4294967295,Q=O+(G<<4&4294967295|G>>>28),G=V+(Q^O^P)+$[12]+3873151461&4294967295,V=Q+(G<<11&4294967295|G>>>21),G=P+(V^Q^O)+$[15]+530742520&4294967295,P=V+(G<<16&4294967295|G>>>16),G=O+(P^V^Q)+$[2]+3299628645&4294967295,O=P+(G<<23&4294967295|G>>>9),G=Q+(P^(O|~V))+$[0]+4096336452&4294967295,Q=O+(G<<6&4294967295|G>>>26),G=V+(O^(Q|~P))+$[7]+1126891415&4294967295,V=Q+(G<<10&4294967295|G>>>22),G=P+(Q^(V|~O))+$[14]+2878612391&4294967295,P=V+(G<<15&4294967295|G>>>17),G=O+(V^(P|~Q))+$[5]+4237533241&4294967295,O=P+(G<<21&4294967295|G>>>11),G=Q+(P^(O|~V))+$[12]+1700485571&4294967295,Q=O+(G<<6&4294967295|G>>>26),G=V+(O^(Q|~P))+$[3]+2399980690&4294967295,V=Q+(G<<10&4294967295|G>>>22),G=P+(Q^(V|~O))+$[10]+4293915773&4294967295,P=V+(G<<15&4294967295|G>>>17),G=O+(V^(P|~Q))+$[1]+2240044497&4294967295,O=P+(G<<21&4294967295|G>>>11),G=Q+(P^(O|~V))+$[8]+1873313359&4294967295,Q=O+(G<<6&4294967295|G>>>26),G=V+(O^(Q|~P))+$[15]+4264355552&4294967295,V=Q+(G<<10&4294967295|G>>>22),G=P+(Q^(V|~O))+$[6]+2734768916&4294967295,P=V+(G<<15&4294967295|G>>>17),G=O+(V^(P|~Q))+$[13]+1309151649&4294967295,O=P+(G<<21&4294967295|G>>>11),G=Q+(P^(O|~V))+$[4]+4149444226&4294967295,Q=O+(G<<6&4294967295|G>>>26),G=V+(O^(Q|~P))+$[11]+3174756917&4294967295,V=Q+(G<<10&4294967295|G>>>22),G=P+(Q^(V|~O))+$[2]+718787259&4294967295,P=V+(G<<15&4294967295|G>>>17),G=O+(V^(P|~Q))+$[9]+3951481745&4294967295,D.g[0]=D.g[0]+Q&4294967295,D.g[1]=D.g[1]+(P+(G<<21&4294967295|G>>>11))&4294967295,D.g[2]=D.g[2]+P&4294967295,D.g[3]=D.g[3]+V&4294967295}s.prototype.v=function(D,Q){Q===void 0&&(Q=D.length);const O=Q-this.blockSize,$=this.C;let P=this.h,V=0;for(;V<Q;){if(P==0)for(;V<=O;)a(this,D,V),V+=this.blockSize;if(typeof D=="string"){for(;V<Q;)if($[P++]=D.charCodeAt(V++),P==this.blockSize){a(this,$),P=0;break}}else for(;V<Q;)if($[P++]=D[V++],P==this.blockSize){a(this,$),P=0;break}}this.h=P,this.o+=Q},s.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var Q=1;Q<D.length-8;++Q)D[Q]=0;Q=this.o*8;for(var O=D.length-8;O<D.length;++O)D[O]=Q&255,Q/=256;for(this.v(D),D=Array(16),Q=0,O=0;O<4;++O)for(let $=0;$<32;$+=8)D[Q++]=this.g[O]>>>$&255;return D};function o(D,Q){var O=h;return Object.prototype.hasOwnProperty.call(O,D)?O[D]:O[D]=Q(D)}function c(D,Q){this.h=Q;const O=[];let $=!0;for(let P=D.length-1;P>=0;P--){const V=D[P]|0;$&&V==Q||(O[P]=V,$=!1)}this.g=O}var h={};function u(D){return-128<=D&&D<128?o(D,function(Q){return new c([Q|0],Q<0?-1:0)}):new c([D|0],D<0?-1:0)}function f(D){if(isNaN(D)||!isFinite(D))return m;if(D<0)return N(f(-D));const Q=[];let O=1;for(let $=0;D>=O;$++)Q[$]=D/O|0,O*=4294967296;return new c(Q,0)}function A(D,Q){if(D.length==0)throw Error("number format error: empty string");if(Q=Q||10,Q<2||36<Q)throw Error("radix out of range: "+Q);if(D.charAt(0)=="-")return N(A(D.substring(1),Q));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const O=f(Math.pow(Q,8));let $=m;for(let V=0;V<D.length;V+=8){var P=Math.min(8,D.length-V);const G=parseInt(D.substring(V,V+P),Q);P<8?(P=f(Math.pow(Q,P)),$=$.j(P).add(f(G))):($=$.j(O),$=$.add(f(G)))}return $}var m=u(0),v=u(1),g=u(16777216);n=c.prototype,n.m=function(){if(I(this))return-N(this).m();let D=0,Q=1;for(let O=0;O<this.g.length;O++){const $=this.i(O);D+=($>=0?$:4294967296+$)*Q,Q*=4294967296}return D},n.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(b(this))return"0";if(I(this))return"-"+N(this).toString(D);const Q=f(Math.pow(D,6));var O=this;let $="";for(;;){const P=R(O,Q).g;O=S(O,P.j(Q));let V=((O.g.length>0?O.g[0]:O.h)>>>0).toString(D);if(O=P,b(O))return V+$;for(;V.length<6;)V="0"+V;$=V+$}},n.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function b(D){if(D.h!=0)return!1;for(let Q=0;Q<D.g.length;Q++)if(D.g[Q]!=0)return!1;return!0}function I(D){return D.h==-1}n.l=function(D){return D=S(this,D),I(D)?-1:b(D)?0:1};function N(D){const Q=D.g.length,O=[];for(let $=0;$<Q;$++)O[$]=~D.g[$];return new c(O,~D.h).add(v)}n.abs=function(){return I(this)?N(this):this},n.add=function(D){const Q=Math.max(this.g.length,D.g.length),O=[];let $=0;for(let P=0;P<=Q;P++){let V=$+(this.i(P)&65535)+(D.i(P)&65535),G=(V>>>16)+(this.i(P)>>>16)+(D.i(P)>>>16);$=G>>>16,V&=65535,G&=65535,O[P]=G<<16|V}return new c(O,O[O.length-1]&-2147483648?-1:0)};function S(D,Q){return D.add(N(Q))}n.j=function(D){if(b(this)||b(D))return m;if(I(this))return I(D)?N(this).j(N(D)):N(N(this).j(D));if(I(D))return N(this.j(N(D)));if(this.l(g)<0&&D.l(g)<0)return f(this.m()*D.m());const Q=this.g.length+D.g.length,O=[];for(var $=0;$<2*Q;$++)O[$]=0;for($=0;$<this.g.length;$++)for(let P=0;P<D.g.length;P++){const V=this.i($)>>>16,G=this.i($)&65535,ie=D.i(P)>>>16,de=D.i(P)&65535;O[2*$+2*P]+=G*de,E(O,2*$+2*P),O[2*$+2*P+1]+=V*de,E(O,2*$+2*P+1),O[2*$+2*P+1]+=G*ie,E(O,2*$+2*P+1),O[2*$+2*P+2]+=V*ie,E(O,2*$+2*P+2)}for(D=0;D<Q;D++)O[D]=O[2*D+1]<<16|O[2*D];for(D=Q;D<2*Q;D++)O[D]=0;return new c(O,0)};function E(D,Q){for(;(D[Q]&65535)!=D[Q];)D[Q+1]+=D[Q]>>>16,D[Q]&=65535,Q++}function _(D,Q){this.g=D,this.h=Q}function R(D,Q){if(b(Q))throw Error("division by zero");if(b(D))return new _(m,m);if(I(D))return Q=R(N(D),Q),new _(N(Q.g),N(Q.h));if(I(Q))return Q=R(D,N(Q)),new _(N(Q.g),Q.h);if(D.g.length>30){if(I(D)||I(Q))throw Error("slowDivide_ only works with positive integers.");for(var O=v,$=Q;$.l(D)<=0;)O=L(O),$=L($);var P=H(O,1),V=H($,1);for($=H($,2),O=H(O,2);!b($);){var G=V.add($);G.l(D)<=0&&(P=P.add(O),V=G),$=H($,1),O=H(O,1)}return Q=S(D,P.j(Q)),new _(P,Q)}for(P=m;D.l(Q)>=0;){for(O=Math.max(1,Math.floor(D.m()/Q.m())),$=Math.ceil(Math.log(O)/Math.LN2),$=$<=48?1:Math.pow(2,$-48),V=f(O),G=V.j(Q);I(G)||G.l(D)>0;)O-=$,V=f(O),G=V.j(Q);b(V)&&(V=v),P=P.add(V),D=S(D,G)}return new _(P,D)}n.B=function(D){return R(this,D).h},n.and=function(D){const Q=Math.max(this.g.length,D.g.length),O=[];for(let $=0;$<Q;$++)O[$]=this.i($)&D.i($);return new c(O,this.h&D.h)},n.or=function(D){const Q=Math.max(this.g.length,D.g.length),O=[];for(let $=0;$<Q;$++)O[$]=this.i($)|D.i($);return new c(O,this.h|D.h)},n.xor=function(D){const Q=Math.max(this.g.length,D.g.length),O=[];for(let $=0;$<Q;$++)O[$]=this.i($)^D.i($);return new c(O,this.h^D.h)};function L(D){const Q=D.g.length+1,O=[];for(let $=0;$<Q;$++)O[$]=D.i($)<<1|D.i($-1)>>>31;return new c(O,D.h)}function H(D,Q){const O=Q>>5;Q%=32;const $=D.g.length-O,P=[];for(let V=0;V<$;V++)P[V]=Q>0?D.i(V+O)>>>Q|D.i(V+O+1)<<32-Q:D.i(V+O);return new c(P,D.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,$E=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=f,c.fromString=A,Rd=c}).apply(typeof QB<"u"?QB:typeof self<"u"?self:typeof window<"u"?window:{});var Q0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var YE,Sp,WE,cv,Y1,XE,JE,qE;(function(){var n,e=Object.defineProperty;function t(w){w=[typeof globalThis=="object"&&globalThis,w,typeof window=="object"&&window,typeof self=="object"&&self,typeof Q0=="object"&&Q0];for(var Y=0;Y<w.length;++Y){var re=w[Y];if(re&&re.Math==Math)return re}throw Error("Cannot find global object")}var s=t(this);function a(w,Y){if(Y)e:{var re=s;w=w.split(".");for(var we=0;we<w.length-1;we++){var Ye=w[we];if(!(Ye in re))break e;re=re[Ye]}w=w[w.length-1],we=re[w],Y=Y(we),Y!=we&&Y!=null&&e(re,w,{configurable:!0,writable:!0,value:Y})}}a("Symbol.dispose",function(w){return w||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(w){return w||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(w){return w||function(Y){var re=[],we;for(we in Y)Object.prototype.hasOwnProperty.call(Y,we)&&re.push([we,Y[we]]);return re}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},c=this||self;function h(w){var Y=typeof w;return Y=="object"&&w!=null||Y=="function"}function u(w,Y,re){return w.call.apply(w.bind,arguments)}function f(w,Y,re){return f=u,f.apply(null,arguments)}function A(w,Y){var re=Array.prototype.slice.call(arguments,1);return function(){var we=re.slice();return we.push.apply(we,arguments),w.apply(this,we)}}function m(w,Y){function re(){}re.prototype=Y.prototype,w.Z=Y.prototype,w.prototype=new re,w.prototype.constructor=w,w.Ob=function(we,Ye,nt){for(var Mt=Array(arguments.length-2),Jn=2;Jn<arguments.length;Jn++)Mt[Jn-2]=arguments[Jn];return Y.prototype[Ye].apply(we,Mt)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?w=>w&&AsyncContext.Snapshot.wrap(w):w=>w;function g(w){const Y=w.length;if(Y>0){const re=Array(Y);for(let we=0;we<Y;we++)re[we]=w[we];return re}return[]}function b(w,Y){for(let we=1;we<arguments.length;we++){const Ye=arguments[we];var re=typeof Ye;if(re=re!="object"?re:Ye?Array.isArray(Ye)?"array":re:"null",re=="array"||re=="object"&&typeof Ye.length=="number"){re=w.length||0;const nt=Ye.length||0;w.length=re+nt;for(let Mt=0;Mt<nt;Mt++)w[re+Mt]=Ye[Mt]}else w.push(Ye)}}class I{constructor(Y,re){this.i=Y,this.j=re,this.h=0,this.g=null}get(){let Y;return this.h>0?(this.h--,Y=this.g,this.g=Y.next,Y.next=null):Y=this.i(),Y}}function N(w){c.setTimeout(()=>{throw w},0)}function S(){var w=D;let Y=null;return w.g&&(Y=w.g,w.g=w.g.next,w.g||(w.h=null),Y.next=null),Y}class E{constructor(){this.h=this.g=null}add(Y,re){const we=_.get();we.set(Y,re),this.h?this.h.next=we:this.g=we,this.h=we}}var _=new I(()=>new R,w=>w.reset());class R{constructor(){this.next=this.g=this.h=null}set(Y,re){this.h=Y,this.g=re,this.next=null}reset(){this.next=this.g=this.h=null}}let L,H=!1,D=new E,Q=()=>{const w=Promise.resolve(void 0);L=()=>{w.then(O)}};function O(){for(var w;w=S();){try{w.h.call(w.g)}catch(re){N(re)}var Y=_;Y.j(w),Y.h<100&&(Y.h++,w.next=Y.g,Y.g=w)}H=!1}function $(){this.u=this.u,this.C=this.C}$.prototype.u=!1,$.prototype.dispose=function(){this.u||(this.u=!0,this.N())},$.prototype[Symbol.dispose]=function(){this.dispose()},$.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(w,Y){this.type=w,this.g=this.target=Y,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var w=!1,Y=Object.defineProperty({},"passive",{get:function(){w=!0}});try{const re=()=>{};c.addEventListener("test",re,Y),c.removeEventListener("test",re,Y)}catch{}return w})();function G(w){return/^[\s\xa0]*$/.test(w)}function ie(w,Y){P.call(this,w?w.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,w&&this.init(w,Y)}m(ie,P),ie.prototype.init=function(w,Y){const re=this.type=w.type,we=w.changedTouches&&w.changedTouches.length?w.changedTouches[0]:null;this.target=w.target||w.srcElement,this.g=Y,Y=w.relatedTarget,Y||(re=="mouseover"?Y=w.fromElement:re=="mouseout"&&(Y=w.toElement)),this.relatedTarget=Y,we?(this.clientX=we.clientX!==void 0?we.clientX:we.pageX,this.clientY=we.clientY!==void 0?we.clientY:we.pageY,this.screenX=we.screenX||0,this.screenY=we.screenY||0):(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0),this.button=w.button,this.key=w.key||"",this.ctrlKey=w.ctrlKey,this.altKey=w.altKey,this.shiftKey=w.shiftKey,this.metaKey=w.metaKey,this.pointerId=w.pointerId||0,this.pointerType=w.pointerType,this.state=w.state,this.i=w,w.defaultPrevented&&ie.Z.h.call(this)},ie.prototype.h=function(){ie.Z.h.call(this);const w=this.i;w.preventDefault?w.preventDefault():w.returnValue=!1};var de="closure_listenable_"+(Math.random()*1e6|0),X=0;function q(w,Y,re,we,Ye){this.listener=w,this.proxy=null,this.src=Y,this.type=re,this.capture=!!we,this.ha=Ye,this.key=++X,this.da=this.fa=!1}function Z(w){w.da=!0,w.listener=null,w.proxy=null,w.src=null,w.ha=null}function oe(w,Y,re){for(const we in w)Y.call(re,w[we],we,w)}function ye(w,Y){for(const re in w)Y.call(void 0,w[re],re,w)}function ne(w){const Y={};for(const re in w)Y[re]=w[re];return Y}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W(w,Y){let re,we;for(let Ye=1;Ye<arguments.length;Ye++){we=arguments[Ye];for(re in we)w[re]=we[re];for(let nt=0;nt<M.length;nt++)re=M[nt],Object.prototype.hasOwnProperty.call(we,re)&&(w[re]=we[re])}}function ae(w){this.src=w,this.g={},this.h=0}ae.prototype.add=function(w,Y,re,we,Ye){const nt=w.toString();w=this.g[nt],w||(w=this.g[nt]=[],this.h++);const Mt=ce(w,Y,we,Ye);return Mt>-1?(Y=w[Mt],re||(Y.fa=!1)):(Y=new q(Y,this.src,nt,!!we,Ye),Y.fa=re,w.push(Y)),Y};function ue(w,Y){const re=Y.type;if(re in w.g){var we=w.g[re],Ye=Array.prototype.indexOf.call(we,Y,void 0),nt;(nt=Ye>=0)&&Array.prototype.splice.call(we,Ye,1),nt&&(Z(Y),w.g[re].length==0&&(delete w.g[re],w.h--))}}function ce(w,Y,re,we){for(let Ye=0;Ye<w.length;++Ye){const nt=w[Ye];if(!nt.da&&nt.listener==Y&&nt.capture==!!re&&nt.ha==we)return Ye}return-1}var ge="closure_lm_"+(Math.random()*1e6|0),Se={};function xe(w,Y,re,we,Ye){if(Array.isArray(Y)){for(let nt=0;nt<Y.length;nt++)xe(w,Y[nt],re,we,Ye);return null}return re=dt(re),w&&w[de]?w.J(Y,re,h(we)?!!we.capture:!1,Ye):Ie(w,Y,re,!1,we,Ye)}function Ie(w,Y,re,we,Ye,nt){if(!Y)throw Error("Invalid event type");const Mt=h(Ye)?!!Ye.capture:!!Ye;let Jn=Ze(w);if(Jn||(w[ge]=Jn=new ae(w)),re=Jn.add(Y,re,we,Mt,nt),re.proxy)return re;if(we=Ue(),re.proxy=we,we.src=w,we.listener=re,w.addEventListener)V||(Ye=Mt),Ye===void 0&&(Ye=!1),w.addEventListener(Y.toString(),we,Ye);else if(w.attachEvent)w.attachEvent(Le(Y.toString()),we);else if(w.addListener&&w.removeListener)w.addListener(we);else throw Error("addEventListener and attachEvent are unavailable.");return re}function Ue(){function w(re){return Y.call(w.src,w.listener,re)}const Y=me;return w}function Pe(w,Y,re,we,Ye){if(Array.isArray(Y))for(var nt=0;nt<Y.length;nt++)Pe(w,Y[nt],re,we,Ye);else we=h(we)?!!we.capture:!!we,re=dt(re),w&&w[de]?(w=w.i,nt=String(Y).toString(),nt in w.g&&(Y=w.g[nt],re=ce(Y,re,we,Ye),re>-1&&(Z(Y[re]),Array.prototype.splice.call(Y,re,1),Y.length==0&&(delete w.g[nt],w.h--)))):w&&(w=Ze(w))&&(Y=w.g[Y.toString()],w=-1,Y&&(w=ce(Y,re,we,Ye)),(re=w>-1?Y[w]:null)&&rt(re))}function rt(w){if(typeof w!="number"&&w&&!w.da){var Y=w.src;if(Y&&Y[de])ue(Y.i,w);else{var re=w.type,we=w.proxy;Y.removeEventListener?Y.removeEventListener(re,we,w.capture):Y.detachEvent?Y.detachEvent(Le(re),we):Y.addListener&&Y.removeListener&&Y.removeListener(we),(re=Ze(Y))?(ue(re,w),re.h==0&&(re.src=null,Y[ge]=null)):Z(w)}}}function Le(w){return w in Se?Se[w]:Se[w]="on"+w}function me(w,Y){if(w.da)w=!0;else{Y=new ie(Y,this);const re=w.listener,we=w.ha||w.src;w.fa&&rt(w),w=re.call(we,Y)}return w}function Ze(w){return w=w[ge],w instanceof ae?w:null}var pt="__closure_events_fn_"+(Math.random()*1e9>>>0);function dt(w){return typeof w=="function"?w:(w[pt]||(w[pt]=function(Y){return w.handleEvent(Y)}),w[pt])}function Je(){$.call(this),this.i=new ae(this),this.M=this,this.G=null}m(Je,$),Je.prototype[de]=!0,Je.prototype.removeEventListener=function(w,Y,re,we){Pe(this,w,Y,re,we)};function Ut(w,Y){var re,we=w.G;if(we)for(re=[];we;we=we.G)re.push(we);if(w=w.M,we=Y.type||Y,typeof Y=="string")Y=new P(Y,w);else if(Y instanceof P)Y.target=Y.target||w;else{var Ye=Y;Y=new P(we,w),W(Y,Ye)}Ye=!0;let nt,Mt;if(re)for(Mt=re.length-1;Mt>=0;Mt--)nt=Y.g=re[Mt],Ye=Rt(nt,we,!0,Y)&&Ye;if(nt=Y.g=w,Ye=Rt(nt,we,!0,Y)&&Ye,Ye=Rt(nt,we,!1,Y)&&Ye,re)for(Mt=0;Mt<re.length;Mt++)nt=Y.g=re[Mt],Ye=Rt(nt,we,!1,Y)&&Ye}Je.prototype.N=function(){if(Je.Z.N.call(this),this.i){var w=this.i;for(const Y in w.g){const re=w.g[Y];for(let we=0;we<re.length;we++)Z(re[we]);delete w.g[Y],w.h--}}this.G=null},Je.prototype.J=function(w,Y,re,we){return this.i.add(String(w),Y,!1,re,we)},Je.prototype.K=function(w,Y,re,we){return this.i.add(String(w),Y,!0,re,we)};function Rt(w,Y,re,we){if(Y=w.i.g[String(Y)],!Y)return!0;Y=Y.concat();let Ye=!0;for(let nt=0;nt<Y.length;++nt){const Mt=Y[nt];if(Mt&&!Mt.da&&Mt.capture==re){const Jn=Mt.listener,Tr=Mt.ha||Mt.src;Mt.fa&&ue(w.i,Mt),Ye=Jn.call(Tr,we)!==!1&&Ye}}return Ye&&!we.defaultPrevented}function zt(w,Y){if(typeof w!="function")if(w&&typeof w.handleEvent=="function")w=f(w.handleEvent,w);else throw Error("Invalid listener argument");return Number(Y)>2147483647?-1:c.setTimeout(w,Y||0)}function $t(w){w.g=zt(()=>{w.g=null,w.i&&(w.i=!1,$t(w))},w.l);const Y=w.h;w.h=null,w.m.apply(null,Y)}class Jt extends ${constructor(Y,re){super(),this.m=Y,this.l=re,this.h=null,this.i=!1,this.g=null}j(Y){this.h=arguments,this.g?this.i=!0:$t(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sn(w){$.call(this),this.h=w,this.g={}}m(sn,$);var Ge=[];function Ht(w){oe(w.g,function(Y,re){this.g.hasOwnProperty(re)&&rt(Y)},w),w.g={}}sn.prototype.N=function(){sn.Z.N.call(this),Ht(this)},sn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var kt=c.JSON.stringify,Ot=c.JSON.parse,gt=class{stringify(w){return c.JSON.stringify(w,void 0)}parse(w){return c.JSON.parse(w,void 0)}};function _t(){}function Un(){}var Me={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ht(){P.call(this,"d")}m(ht,P);function Ve(){P.call(this,"c")}m(Ve,P);var lt={},At=null;function Qt(){return At=At||new Je}lt.Ia="serverreachability";function St(w){P.call(this,lt.Ia,w)}m(St,P);function Vt(w){const Y=Qt();Ut(Y,new St(Y))}lt.STAT_EVENT="statevent";function en(w,Y){P.call(this,lt.STAT_EVENT,w),this.stat=Y}m(en,P);function jt(w){const Y=Qt();Ut(Y,new en(Y,w))}lt.Ja="timingevent";function ct(w,Y){P.call(this,lt.Ja,w),this.size=Y}m(ct,P);function Dt(w,Y){if(typeof w!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){w()},Y)}function Yt(){this.g=!0}Yt.prototype.ua=function(){this.g=!1};function rn(w,Y,re,we,Ye,nt){w.info(function(){if(w.g)if(nt){var Mt="",Jn=nt.split("&");for(let ps=0;ps<Jn.length;ps++){var Tr=Jn[ps].split("=");if(Tr.length>1){const er=Tr[0];Tr=Tr[1];const ka=er.split("_");Mt=ka.length>=2&&ka[1]=="type"?Mt+(er+"="+Tr+"&"):Mt+(er+"=redacted&")}}}else Mt=null;else Mt=nt;return"XMLHTTP REQ ("+we+") [attempt "+Ye+"]: "+Y+`
`+re+`
`+Mt})}function ts(w,Y,re,we,Ye,nt,Mt){w.info(function(){return"XMLHTTP RESP ("+we+") [ attempt "+Ye+"]: "+Y+`
`+re+`
`+nt+" "+Mt})}function Ms(w,Y,re,we){w.info(function(){return"XMLHTTP TEXT ("+Y+"): "+ri(w,re)+(we?" "+we:"")})}function ln(w,Y){w.info(function(){return"TIMEOUT: "+Y})}Yt.prototype.info=function(){};function ri(w,Y){if(!w.g)return Y;if(!Y)return null;try{const nt=JSON.parse(Y);if(nt){for(w=0;w<nt.length;w++)if(Array.isArray(nt[w])){var re=nt[w];if(!(re.length<2)){var we=re[1];if(Array.isArray(we)&&!(we.length<1)){var Ye=we[0];if(Ye!="noop"&&Ye!="stop"&&Ye!="close")for(let Mt=1;Mt<we.length;Mt++)we[Mt]=""}}}}return kt(nt)}catch{return Y}}var Ga={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ca={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Xr;function dn(){}m(dn,_t),dn.prototype.g=function(){return new XMLHttpRequest},Xr=new dn;function Hs(w){return encodeURIComponent(String(w))}function Cr(w){var Y=1;w=w.split(":");const re=[];for(;Y>0&&w.length;)re.push(w.shift()),Y--;return w.length&&re.push(w.join(":")),re}function Ns(w,Y,re,we){this.j=w,this.i=Y,this.l=re,this.S=we||1,this.V=new sn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new cs}function cs(){this.i=null,this.g="",this.h=!1}var rs={},us={};function Rs(w,Y,re){w.M=1,w.A=Oi(is(Y)),w.u=re,w.R=!0,fr(w,null)}function fr(w,Y){w.F=Date.now(),_r(w),w.B=is(w.A);var re=w.B,we=w.S;Array.isArray(we)||(we=[String(we)]),So(re.i,"t",we),w.C=0,re=w.j.L,w.h=new cs,w.g=pn(w.j,re?Y:null,!w.u),w.P>0&&(w.O=new Jt(f(w.Y,w,w.g),w.P)),Y=w.V,re=w.g,we=w.ba;var Ye="readystatechange";Array.isArray(Ye)||(Ye&&(Ge[0]=Ye.toString()),Ye=Ge);for(let nt=0;nt<Ye.length;nt++){const Mt=xe(re,Ye[nt],we||Y.handleEvent,!1,Y.h||Y);if(!Mt)break;Y.g[Mt.key]=Mt}Y=w.J?ne(w.J):{},w.u?(w.v||(w.v="POST"),Y["Content-Type"]="application/x-www-form-urlencoded",w.g.ea(w.B,w.v,w.u,Y)):(w.v="GET",w.g.ea(w.B,w.v,null,Y)),Vt(),rn(w.i,w.v,w.B,w.l,w.S,w.u)}Ns.prototype.ba=function(w){w=w.target;const Y=this.O;Y&&xi(w)==3?Y.j():this.Y(w)},Ns.prototype.Y=function(w){try{if(w==this.g)e:{const Jn=xi(this.g),Tr=this.g.ya(),ps=this.g.ca();if(!(Jn<3)&&(Jn!=3||this.g&&(this.h.h||this.g.la()||ca(this.g)))){this.K||Jn!=4||Tr==7||(Tr==8||ps<=0?Vt(3):Vt(2)),zr(this);var Y=this.g.ca();this.X=Y;var re=pa(this);if(this.o=Y==200,ts(this.i,this.v,this.B,this.l,this.S,Jn,Y),this.o){if(this.U&&!this.L){t:{if(this.g){var we,Ye=this.g;if((we=Ye.g?Ye.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(we)){var nt=we;break t}}nt=null}if(w=nt)Ms(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Et(this,w);else{this.o=!1,this.m=3,jt(12),_e(this),Sa(this);break e}}if(this.R){w=!0;let er;for(;!this.K&&this.C<re.length;)if(er=Kr(this,re),er==us){Jn==4&&(this.m=4,jt(14),w=!1),Ms(this.i,this.l,null,"[Incomplete Response]");break}else if(er==rs){this.m=4,jt(15),Ms(this.i,this.l,re,"[Invalid Chunk]"),w=!1;break}else Ms(this.i,this.l,er,null),Et(this,er);if(Qi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Jn!=4||re.length!=0||this.h.h||(this.m=1,jt(16),w=!1),this.o=this.o&&w,!w)Ms(this.i,this.l,re,"[Invalid Chunked Response]"),_e(this),Sa(this);else if(re.length>0&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.aa&&!Mt.P&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+re.length),ki(Mt),Mt.P=!0,jt(11))}}else Ms(this.i,this.l,re,null),Et(this,re);Jn==4&&_e(this),this.o&&!this.K&&(Jn==4?Ee(this.j,this):(this.o=!1,_r(this)))}else No(this.g),Y==400&&re.indexOf("Unknown SID")>0?(this.m=3,jt(12)):(this.m=0,jt(13)),_e(this),Sa(this)}}}catch{}finally{}};function pa(w){if(!Qi(w))return w.g.la();const Y=ca(w.g);if(Y==="")return"";let re="";const we=Y.length,Ye=xi(w.g)==4;if(!w.h.i){if(typeof TextDecoder>"u")return _e(w),Sa(w),"";w.h.i=new c.TextDecoder}for(let nt=0;nt<we;nt++)w.h.h=!0,re+=w.h.i.decode(Y[nt],{stream:!(Ye&&nt==we-1)});return Y.length=0,w.h.g+=re,w.C=0,w.h.g}function Qi(w){return w.g?w.v=="GET"&&w.M!=2&&w.j.Aa:!1}function Kr(w,Y){var re=w.C,we=Y.indexOf(`
`,re);return we==-1?us:(re=Number(Y.substring(re,we)),isNaN(re)?rs:(we+=1,we+re>Y.length?us:(Y=Y.slice(we,we+re),w.C=we+re,Y)))}Ns.prototype.cancel=function(){this.K=!0,_e(this)};function _r(w){w.T=Date.now()+w.H,vi(w,w.H)}function vi(w,Y){if(w.D!=null)throw Error("WatchDog timer not null");w.D=Dt(f(w.aa,w),Y)}function zr(w){w.D&&(c.clearTimeout(w.D),w.D=null)}Ns.prototype.aa=function(){this.D=null;const w=Date.now();w-this.T>=0?(ln(this.i,this.B),this.M!=2&&(Vt(),jt(17)),_e(this),this.m=2,Sa(this)):vi(this,this.T-w)};function Sa(w){w.j.I==0||w.K||Ee(w.j,w)}function _e(w){zr(w);var Y=w.O;Y&&typeof Y.dispose=="function"&&Y.dispose(),w.O=null,Ht(w.V),w.g&&(Y=w.g,w.g=null,Y.abort(),Y.dispose())}function Et(w,Y){try{var re=w.j;if(re.I!=0&&(re.g==w||Gn(re.h,w))){if(!w.L&&Gn(re.h,w)&&re.I==3){try{var we=re.Ba.g.parse(Y)}catch{we=null}if(Array.isArray(we)&&we.length==3){var Ye=we;if(Ye[0]==0){e:if(!re.v){if(re.g)if(re.g.F+3e3<w.F)le(re),ii(re);else break e;oo(re),jt(18)}}else re.xa=Ye[1],0<re.xa-re.K&&Ye[2]<37500&&re.F&&re.A==0&&!re.C&&(re.C=Dt(f(re.Va,re),6e3));vn(re.h)<=1&&re.ta&&(re.ta=void 0)}else ze(re,11)}else if((w.L||re.g==w)&&le(re),!G(Y))for(Ye=re.Ba.g.parse(Y),Y=0;Y<Ye.length;Y++){let ps=Ye[Y];const er=ps[0];if(!(er<=re.K))if(re.K=er,ps=ps[1],re.I==2)if(ps[0]=="c"){re.M=ps[1],re.ba=ps[2];const ka=ps[3];ka!=null&&(re.ka=ka,re.j.info("VER="+re.ka));const ga=ps[4];ga!=null&&(re.za=ga,re.j.info("SVER="+re.za));const $s=ps[5];$s!=null&&typeof $s=="number"&&$s>0&&(we=1.5*$s,re.O=we,re.j.info("backChannelRequestTimeoutMs_="+we)),we=re;const ns=w.g;if(ns){const lo=ns.g?ns.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(lo){var nt=we.h;nt.g||lo.indexOf("spdy")==-1&&lo.indexOf("quic")==-1&&lo.indexOf("h2")==-1||(nt.j=nt.l,nt.g=new Set,nt.h&&(as(nt,nt.h),nt.h=null))}if(we.G){const To=ns.g?ns.g.getResponseHeader("X-HTTP-Session-Id"):null;To&&(we.wa=To,Kn(we.J,we.G,To))}}re.I=3,re.l&&re.l.ra(),re.aa&&(re.T=Date.now()-w.F,re.j.info("Handshake RTT: "+re.T+"ms")),we=re;var Mt=w;if(we.na=Tt(we,we.L?we.ba:null,we.W),Mt.L){Zt(we.h,Mt);var Jn=Mt,Tr=we.O;Tr&&(Jn.H=Tr),Jn.D&&(zr(Jn),_r(Jn)),we.g=Mt}else uA(we);re.i.length>0&&eo(re)}else ps[0]!="stop"&&ps[0]!="close"||ze(re,7);else re.I==3&&(ps[0]=="stop"||ps[0]=="close"?ps[0]=="stop"?ze(re,7):xl(re):ps[0]!="noop"&&re.l&&re.l.qa(ps),re.A=0)}}Vt(4)}catch{}}var Ft=class{constructor(w,Y){this.g=w,this.map=Y}};function Gt(w){this.l=w||10,c.PerformanceNavigationTiming?(w=c.performance.getEntriesByType("navigation"),w=w.length>0&&(w[0].nextHopProtocol=="hq"||w[0].nextHopProtocol=="h2")):w=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=w?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function En(w){return w.h?!0:w.g?w.g.size>=w.j:!1}function vn(w){return w.h?1:w.g?w.g.size:0}function Gn(w,Y){return w.h?w.h==Y:w.g?w.g.has(Y):!1}function as(w,Y){w.g?w.g.add(Y):w.h=Y}function Zt(w,Y){w.h&&w.h==Y?w.h=null:w.g&&w.g.has(Y)&&w.g.delete(Y)}Gt.prototype.cancel=function(){if(this.i=Gs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const w of this.g.values())w.cancel();this.g.clear()}};function Gs(w){if(w.h!=null)return w.i.concat(w.h.G);if(w.g!=null&&w.g.size!==0){let Y=w.i;for(const re of w.g.values())Y=Y.concat(re.G);return Y}return g(w.i)}var ds=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sn(w,Y){if(w){w=w.split("&");for(let re=0;re<w.length;re++){const we=w[re].indexOf("=");let Ye,nt=null;we>=0?(Ye=w[re].substring(0,we),nt=w[re].substring(we+1)):Ye=w[re],Y(Ye,nt?decodeURIComponent(nt.replace(/\+/g," ")):"")}}}function Cs(w){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let Y;w instanceof Cs?(this.l=w.l,Vn(this,w.j),this.o=w.o,this.g=w.g,mr(this,w.u),this.h=w.h,Ds(this,io(w.i)),this.m=w.m):w&&(Y=String(w).match(ds))?(this.l=!1,Vn(this,Y[1]||"",!0),this.o=ys(Y[2]||""),this.g=ys(Y[3]||"",!0),mr(this,Y[4]),this.h=ys(Y[5]||"",!0),Ds(this,Y[6]||"",!0),this.m=ys(Y[7]||"")):(this.l=!1,this.i=new ao(null,this.l))}Cs.prototype.toString=function(){const w=[];var Y=this.j;Y&&w.push(Ar(Y,sl,!0),":");var re=this.g;return(re||Y=="file")&&(w.push("//"),(Y=this.o)&&w.push(Ar(Y,sl,!0),"@"),w.push(Hs(re).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),re=this.u,re!=null&&w.push(":",String(re))),(re=this.h)&&(this.g&&re.charAt(0)!="/"&&w.push("/"),w.push(Ar(re,re.charAt(0)=="/"?Ml:AA,!0))),(re=this.i.toString())&&w.push("?",re),(re=this.m)&&w.push("#",Ar(re,Hl)),w.join("")},Cs.prototype.resolve=function(w){const Y=is(this);let re=!!w.j;re?Vn(Y,w.j):re=!!w.o,re?Y.o=w.o:re=!!w.g,re?Y.g=w.g:re=w.u!=null;var we=w.h;if(re)mr(Y,w.u);else if(re=!!w.h){if(we.charAt(0)!="/")if(this.g&&!this.h)we="/"+we;else{var Ye=Y.h.lastIndexOf("/");Ye!=-1&&(we=Y.h.slice(0,Ye+1)+we)}if(Ye=we,Ye==".."||Ye==".")we="";else if(Ye.indexOf("./")!=-1||Ye.indexOf("/.")!=-1){we=Ye.lastIndexOf("/",0)==0,Ye=Ye.split("/");const nt=[];for(let Mt=0;Mt<Ye.length;){const Jn=Ye[Mt++];Jn=="."?we&&Mt==Ye.length&&nt.push(""):Jn==".."?((nt.length>1||nt.length==1&&nt[0]!="")&&nt.pop(),we&&Mt==Ye.length&&nt.push("")):(nt.push(Jn),we=!0)}we=nt.join("/")}else we=Ye}return re?Y.h=we:re=w.i.toString()!=="",re?Ds(Y,io(w.i)):re=!!w.m,re&&(Y.m=w.m),Y};function is(w){return new Cs(w)}function Vn(w,Y,re){w.j=re?ys(Y,!0):Y,w.j&&(w.j=w.j.replace(/:$/,""))}function mr(w,Y){if(Y){if(Y=Number(Y),isNaN(Y)||Y<0)throw Error("Bad port number "+Y);w.u=Y}else w.u=null}function Ds(w,Y,re){Y instanceof ao?(w.i=Y,Sr(w.i,w.l)):(re||(Y=Ar(Y,Pa)),w.i=new ao(Y,w.l))}function Kn(w,Y,re){w.i.set(Y,re)}function Oi(w){return Kn(w,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),w}function ys(w,Y){return w?Y?decodeURI(w.replace(/%25/g,"%2525")):decodeURIComponent(w):""}function Ar(w,Y,re){return typeof w=="string"?(w=encodeURI(w).replace(Y,Fr),re&&(w=w.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w):null}function Fr(w){return w=w.charCodeAt(0),"%"+(w>>4&15).toString(16)+(w&15).toString(16)}var sl=/[#\/\?@]/g,AA=/[#\?:]/g,Ml=/[#\?]/g,Pa=/[#\?@]/g,Hl=/#/g;function ao(w,Y){this.h=this.g=null,this.i=w||null,this.j=!!Y}function Ur(w){w.g||(w.g=new Map,w.h=0,w.i&&Sn(w.i,function(Y,re){w.add(decodeURIComponent(Y.replace(/\+/g," ")),re)}))}n=ao.prototype,n.add=function(w,Y){Ur(this),this.i=null,w=ai(this,w);let re=this.g.get(w);return re||this.g.set(w,re=[]),re.push(Y),this.h+=1,this};function Co(w,Y){Ur(w),Y=ai(w,Y),w.g.has(Y)&&(w.i=null,w.h-=w.g.get(Y).length,w.g.delete(Y))}function qi(w,Y){return Ur(w),Y=ai(w,Y),w.g.has(Y)}n.forEach=function(w,Y){Ur(this),this.g.forEach(function(re,we){re.forEach(function(Ye){w.call(Y,Ye,we,this)},this)},this)};function vl(w,Y){Ur(w);let re=[];if(typeof Y=="string")qi(w,Y)&&(re=re.concat(w.g.get(ai(w,Y))));else for(w=Array.from(w.g.values()),Y=0;Y<w.length;Y++)re=re.concat(w[Y]);return re}n.set=function(w,Y){return Ur(this),this.i=null,w=ai(this,w),qi(this,w)&&(this.h-=this.g.get(w).length),this.g.set(w,[Y]),this.h+=1,this},n.get=function(w,Y){return w?(w=vl(this,w),w.length>0?String(w[0]):Y):Y};function So(w,Y,re){Co(w,Y),re.length>0&&(w.i=null,w.g.set(ai(w,Y),g(re)),w.h+=re.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const w=[],Y=Array.from(this.g.keys());for(let we=0;we<Y.length;we++){var re=Y[we];const Ye=Hs(re);re=vl(this,re);for(let nt=0;nt<re.length;nt++){let Mt=Ye;re[nt]!==""&&(Mt+="="+Hs(re[nt])),w.push(Mt)}}return this.i=w.join("&")};function io(w){const Y=new ao;return Y.i=w.i,w.g&&(Y.g=new Map(w.g),Y.h=w.h),Y}function ai(w,Y){return Y=String(Y),w.j&&(Y=Y.toLowerCase()),Y}function Sr(w,Y){Y&&!w.j&&(Ur(w),w.i=null,w.g.forEach(function(re,we){const Ye=we.toLowerCase();we!=Ye&&(Co(this,we),So(this,Ye,re))},w)),w.j=Y}function hn(w,Y){const re=new Yt;if(c.Image){const we=new Image;we.onload=A(ms,re,"TestLoadImage: loaded",!0,Y,we),we.onerror=A(ms,re,"TestLoadImage: error",!1,Y,we),we.onabort=A(ms,re,"TestLoadImage: abort",!1,Y,we),we.ontimeout=A(ms,re,"TestLoadImage: timeout",!1,Y,we),c.setTimeout(function(){we.ontimeout&&we.ontimeout()},1e4),we.src=w}else Y(!1)}function js(w,Y){const re=new Yt,we=new AbortController,Ye=setTimeout(()=>{we.abort(),ms(re,"TestPingServer: timeout",!1,Y)},1e4);fetch(w,{signal:we.signal}).then(nt=>{clearTimeout(Ye),nt.ok?ms(re,"TestPingServer: ok",!0,Y):ms(re,"TestPingServer: server error",!1,Y)}).catch(()=>{clearTimeout(Ye),ms(re,"TestPingServer: error",!1,Y)})}function ms(w,Y,re,we,Ye){try{Ye&&(Ye.onload=null,Ye.onerror=null,Ye.onabort=null,Ye.ontimeout=null),we(re)}catch{}}function _s(){this.g=new gt}function Wt(w){this.i=w.Sb||null,this.h=w.ab||!1}m(Wt,_t),Wt.prototype.g=function(){return new cn(this.i,this.h)};function cn(w,Y){Je.call(this),this.H=w,this.o=Y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(cn,Je),n=cn.prototype,n.open=function(w,Y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=w,this.D=Y,this.readyState=1,Rr(this)},n.send=function(w){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const Y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};w&&(Y.body=w),(this.H||c).fetch(new Request(this.D,Y)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,oa(this)),this.readyState=0},n.Pa=function(w){if(this.g&&(this.l=w,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=w.headers,this.readyState=2,Rr(this)),this.g&&(this.readyState=3,Rr(this),this.g)))if(this.responseType==="arraybuffer")w.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in w){if(this.j=w.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;sr(this)}else w.text().then(this.Oa.bind(this),this.ga.bind(this))};function sr(w){w.j.read().then(w.Ma.bind(w)).catch(w.ga.bind(w))}n.Ma=function(w){if(this.g){if(this.o&&w.value)this.response.push(w.value);else if(!this.o){var Y=w.value?w.value:new Uint8Array(0);(Y=this.B.decode(Y,{stream:!w.done}))&&(this.response=this.responseText+=Y)}w.done?oa(this):Rr(this),this.readyState==3&&sr(this)}},n.Oa=function(w){this.g&&(this.response=this.responseText=w,oa(this))},n.Na=function(w){this.g&&(this.response=w,oa(this))},n.ga=function(){this.g&&oa(this)};function oa(w){w.readyState=4,w.l=null,w.j=null,w.B=null,Rr(w)}n.setRequestHeader=function(w,Y){this.A.append(w,Y)},n.getResponseHeader=function(w){return this.h&&this.h.get(w.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const w=[],Y=this.h.entries();for(var re=Y.next();!re.done;)re=re.value,w.push(re[0]+": "+re[1]),re=Y.next();return w.join(`\r
`)};function Rr(w){w.onreadystatechange&&w.onreadystatechange.call(w)}Object.defineProperty(cn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(w){this.m=w?"include":"same-origin"}});function Nr(w){let Y="";return oe(w,function(re,we){Y+=we,Y+=":",Y+=re,Y+=`\r
`}),Y}function la(w,Y,re){e:{for(we in re){var we=!1;break e}we=!0}we||(re=Nr(re),typeof w=="string"?re!=null&&Hs(re):Kn(w,Y,re))}function bs(w){Je.call(this),this.headers=new Map,this.L=w||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(bs,Je);var Jr=/^https?$/i,Aa=["POST","PUT"];n=bs.prototype,n.Fa=function(w){this.H=w},n.ea=function(w,Y,re,we){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+w);Y=Y?Y.toUpperCase():"GET",this.D=w,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Xr.g(),this.g.onreadystatechange=v(f(this.Ca,this));try{this.B=!0,this.g.open(Y,String(w),!0),this.B=!1}catch(nt){qr(this,nt);return}if(w=re||"",re=new Map(this.headers),we)if(Object.getPrototypeOf(we)===Object.prototype)for(var Ye in we)re.set(Ye,we[Ye]);else if(typeof we.keys=="function"&&typeof we.get=="function")for(const nt of we.keys())re.set(nt,we.get(nt));else throw Error("Unknown input type for opt_headers: "+String(we));we=Array.from(re.keys()).find(nt=>nt.toLowerCase()=="content-type"),Ye=c.FormData&&w instanceof c.FormData,!(Array.prototype.indexOf.call(Aa,Y,void 0)>=0)||we||Ye||re.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[nt,Mt]of re)this.g.setRequestHeader(nt,Mt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(w),this.v=!1}catch(nt){qr(this,nt)}};function qr(w,Y){w.h=!1,w.g&&(w.j=!0,w.g.abort(),w.j=!1),w.l=Y,w.o=5,rl(w),Zi(w)}function rl(w){w.A||(w.A=!0,Ut(w,"complete"),Ut(w,"error"))}n.abort=function(w){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=w||7,Ut(this,"complete"),Ut(this,"abort"),Zi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zi(this,!0)),bs.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?$a(this):this.Xa())},n.Xa=function(){$a(this)};function $a(w){if(w.h&&typeof o<"u"){if(w.v&&xi(w)==4)setTimeout(w.Ca.bind(w),0);else if(Ut(w,"readystatechange"),xi(w)==4){w.h=!1;try{const nt=w.ca();e:switch(nt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var Y=!0;break e;default:Y=!1}var re;if(!(re=Y)){var we;if(we=nt===0){let Mt=String(w.D).match(ds)[1]||null;!Mt&&c.self&&c.self.location&&(Mt=c.self.location.protocol.slice(0,-1)),we=!Jr.test(Mt?Mt.toLowerCase():"")}re=we}if(re)Ut(w,"complete"),Ut(w,"success");else{w.o=6;try{var Ye=xi(w)>2?w.g.statusText:""}catch{Ye=""}w.l=Ye+" ["+w.ca()+"]",rl(w)}}finally{Zi(w)}}}}function Zi(w,Y){if(w.g){w.m&&(clearTimeout(w.m),w.m=null);const re=w.g;w.g=null,Y||Ut(w,"ready");try{re.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function xi(w){return w.g?w.g.readyState:0}n.ca=function(){try{return xi(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(w){if(this.g){var Y=this.g.responseText;return w&&Y.indexOf(w)==0&&(Y=Y.substring(w.length)),Ot(Y)}};function ca(w){try{if(!w.g)return null;if("response"in w.g)return w.g.response;switch(w.F){case"":case"text":return w.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in w.g)return w.g.mozResponseArrayBuffer}return null}catch{return null}}function No(w){const Y={};w=(w.g&&xi(w)>=2&&w.g.getAllResponseHeaders()||"").split(`\r
`);for(let we=0;we<w.length;we++){if(G(w[we]))continue;var re=Cr(w[we]);const Ye=re[0];if(re=re[1],typeof re!="string")continue;re=re.trim();const nt=Y[Ye]||[];Y[Ye]=nt,nt.push(re)}ye(Y,function(we){return we.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ya(w,Y,re){return re&&re.internalChannelParams&&re.internalChannelParams[w]||Y}function xr(w){this.za=0,this.i=[],this.j=new Yt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ya("failFast",!1,w),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ya("baseRetryDelayMs",5e3,w),this.Za=Ya("retryDelaySeedMs",1e4,w),this.Ta=Ya("forwardChannelMaxRetries",2,w),this.va=Ya("forwardChannelRequestTimeoutMs",2e4,w),this.ma=w&&w.xmlHttpFactory||void 0,this.Ua=w&&w.Rb||void 0,this.Aa=w&&w.useFetchStreams||!1,this.O=void 0,this.L=w&&w.supportsCrossDomainXhr||!1,this.M="",this.h=new Gt(w&&w.concurrentRequestLimit),this.Ba=new _s,this.S=w&&w.fastHandshake||!1,this.R=w&&w.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=w&&w.Pb||!1,w&&w.ua&&this.j.ua(),w&&w.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&w&&w.detectBufferingProxy||!1,this.ia=void 0,w&&w.longPollingTimeout&&w.longPollingTimeout>0&&(this.ia=w.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=xr.prototype,n.ka=8,n.I=1,n.connect=function(w,Y,re,we){jt(0),this.W=w,this.H=Y||{},re&&we!==void 0&&(this.H.OSID=re,this.H.OAID=we),this.F=this.X,this.J=Tt(this,null,this.W),eo(this)};function xl(w){if(Eo(w),w.I==3){var Y=w.V++,re=is(w.J);if(Kn(re,"SID",w.M),Kn(re,"RID",Y),Kn(re,"TYPE","terminate"),Wa(w,re),Y=new Ns(w,w.j,Y),Y.M=2,Y.A=Oi(is(re)),re=!1,c.navigator&&c.navigator.sendBeacon)try{re=c.navigator.sendBeacon(Y.A.toString(),"")}catch{}!re&&c.Image&&(new Image().src=Y.A,re=!0),re||(Y.g=pn(Y.j,null),Y.g.ea(Y.A)),Y.F=Date.now(),_r(Y)}vt(w)}function ii(w){w.g&&(ki(w),w.g.cancel(),w.g=null)}function Eo(w){ii(w),w.v&&(c.clearTimeout(w.v),w.v=null),le(w),w.h.cancel(),w.m&&(typeof w.m=="number"&&c.clearTimeout(w.m),w.m=null)}function eo(w){if(!En(w.h)&&!w.m){w.m=!0;var Y=w.Ea;L||Q(),H||(L(),H=!0),D.add(Y,w),w.D=0}}function Vl(w,Y){return vn(w.h)>=w.h.j-(w.m?1:0)?!1:w.m?(w.i=Y.G.concat(w.i),!0):w.I==1||w.I==2||w.D>=(w.Sa?0:w.Ta)?!1:(w.m=Dt(f(w.Ea,w,Y),Re(w,w.D)),w.D++,!0)}n.Ea=function(w){if(this.m)if(this.m=null,this.I==1){if(!w){this.V=Math.floor(Math.random()*1e5),w=this.V++;const Ye=new Ns(this,this.j,w);let nt=this.o;if(this.U&&(nt?(nt=ne(nt),W(nt,this.U)):nt=this.U),this.u!==null||this.R||(Ye.J=nt,nt=null),this.S)e:{for(var Y=0,re=0;re<this.i.length;re++){t:{var we=this.i[re];if("__data__"in we.map&&(we=we.map.__data__,typeof we=="string")){we=we.length;break t}we=void 0}if(we===void 0)break;if(Y+=we,Y>4096){Y=re;break e}if(Y===4096||re===this.i.length-1){Y=re+1;break e}}Y=1e3}else Y=1e3;Y=Pi(this,Ye,Y),re=is(this.J),Kn(re,"RID",w),Kn(re,"CVER",22),this.G&&Kn(re,"X-HTTP-Session-Id",this.G),Wa(this,re),nt&&(this.R?Y="headers="+Hs(Nr(nt))+"&"+Y:this.u&&la(re,this.u,nt)),as(this.h,Ye),this.Ra&&Kn(re,"TYPE","init"),this.S?(Kn(re,"$req",Y),Kn(re,"SID","null"),Ye.U=!0,Rs(Ye,re,null)):Rs(Ye,re,Y),this.I=2}}else this.I==3&&(w?cA(this,w):this.i.length==0||En(this.h)||cA(this))};function cA(w,Y){var re;Y?re=Y.l:re=w.V++;const we=is(w.J);Kn(we,"SID",w.M),Kn(we,"RID",re),Kn(we,"AID",w.K),Wa(w,we),w.u&&w.o&&la(we,w.u,w.o),re=new Ns(w,w.j,re,w.D+1),w.u===null&&(re.J=w.o),Y&&(w.i=Y.G.concat(w.i)),Y=Pi(w,re,1e3),re.H=Math.round(w.va*.5)+Math.round(w.va*.5*Math.random()),as(w.h,re),Rs(re,we,Y)}function Wa(w,Y){w.H&&oe(w.H,function(re,we){Kn(Y,we,re)}),w.l&&oe({},function(re,we){Kn(Y,we,re)})}function Pi(w,Y,re){re=Math.min(w.i.length,re);const we=w.l?f(w.l.Ka,w.l,w):null;e:{var Ye=w.i;let Jn=-1;for(;;){const Tr=["count="+re];Jn==-1?re>0?(Jn=Ye[0].g,Tr.push("ofs="+Jn)):Jn=0:Tr.push("ofs="+Jn);let ps=!0;for(let er=0;er<re;er++){var nt=Ye[er].g;const ka=Ye[er].map;if(nt-=Jn,nt<0)Jn=Math.max(0,Ye[er].g-100),ps=!1;else try{nt="req"+nt+"_"||"";try{var Mt=ka instanceof Map?ka:Object.entries(ka);for(const[ga,$s]of Mt){let ns=$s;h($s)&&(ns=kt($s)),Tr.push(nt+ga+"="+encodeURIComponent(ns))}}catch(ga){throw Tr.push(nt+"type="+encodeURIComponent("_badmap")),ga}}catch{we&&we(ka)}}if(ps){Mt=Tr.join("&");break e}}Mt=void 0}return w=w.i.splice(0,re),Y.G=w,Mt}function uA(w){if(!w.g&&!w.v){w.Y=1;var Y=w.Da;L||Q(),H||(L(),H=!0),D.add(Y,w),w.A=0}}function oo(w){return w.g||w.v||w.A>=3?!1:(w.Y++,w.v=Dt(f(w.Da,w),Re(w,w.A)),w.A++,!0)}n.Da=function(){if(this.v=null,k(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var w=4*this.T;this.j.info("BP detection timer enabled: "+w),this.B=Dt(f(this.Wa,this),w)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,jt(10),ii(this),k(this))};function ki(w){w.B!=null&&(c.clearTimeout(w.B),w.B=null)}function k(w){w.g=new Ns(w,w.j,"rpc",w.Y),w.u===null&&(w.g.J=w.o),w.g.P=0;var Y=is(w.na);Kn(Y,"RID","rpc"),Kn(Y,"SID",w.M),Kn(Y,"AID",w.K),Kn(Y,"CI",w.F?"0":"1"),!w.F&&w.ia&&Kn(Y,"TO",w.ia),Kn(Y,"TYPE","xmlhttp"),Wa(w,Y),w.u&&w.o&&la(Y,w.u,w.o),w.O&&(w.g.H=w.O);var re=w.g;w=w.ba,re.M=1,re.A=Oi(is(Y)),re.u=null,re.R=!0,fr(re,w)}n.Va=function(){this.C!=null&&(this.C=null,ii(this),oo(this),jt(19))};function le(w){w.C!=null&&(c.clearTimeout(w.C),w.C=null)}function Ee(w,Y){var re=null;if(w.g==Y){le(w),ki(w),w.g=null;var we=2}else if(Gn(w.h,Y))re=Y.G,Zt(w.h,Y),we=1;else return;if(w.I!=0){if(Y.o)if(we==1){re=Y.u?Y.u.length:0,Y=Date.now()-Y.F;var Ye=w.D;we=Qt(),Ut(we,new ct(we,re)),eo(w)}else uA(w);else if(Ye=Y.m,Ye==3||Ye==0&&Y.X>0||!(we==1&&Vl(w,Y)||we==2&&oo(w)))switch(re&&re.length>0&&(Y=w.h,Y.i=Y.i.concat(re)),Ye){case 1:ze(w,5);break;case 4:ze(w,10);break;case 3:ze(w,6);break;default:ze(w,2)}}}function Re(w,Y){let re=w.Qa+Math.floor(Math.random()*w.Za);return w.isActive()||(re*=2),re*Y}function ze(w,Y){if(w.j.info("Error code "+Y),Y==2){var re=f(w.bb,w),we=w.Ua;const Ye=!we;we=new Cs(we||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Vn(we,"https"),Oi(we),Ye?hn(we.toString(),re):js(we.toString(),re)}else jt(2);w.I=0,w.l&&w.l.pa(Y),vt(w),Eo(w)}n.bb=function(w){w?(this.j.info("Successfully pinged google.com"),jt(2)):(this.j.info("Failed to ping google.com"),jt(1))};function vt(w){if(w.I=0,w.ja=[],w.l){const Y=Gs(w.h);(Y.length!=0||w.i.length!=0)&&(b(w.ja,Y),b(w.ja,w.i),w.h.i.length=0,g(w.i),w.i.length=0),w.l.oa()}}function Tt(w,Y,re){var we=re instanceof Cs?is(re):new Cs(re);if(we.g!="")Y&&(we.g=Y+"."+we.g),mr(we,we.u);else{var Ye=c.location;we=Ye.protocol,Y=Y?Y+"."+Ye.hostname:Ye.hostname,Ye=+Ye.port;const nt=new Cs(null);we&&Vn(nt,we),Y&&(nt.g=Y),Ye&&mr(nt,Ye),re&&(nt.h=re),we=nt}return re=w.G,Y=w.wa,re&&Y&&Kn(we,re,Y),Kn(we,"VER",w.ka),Wa(w,we),we}function pn(w,Y,re){if(Y&&!w.L)throw Error("Can't create secondary domain capable XhrIo object.");return Y=w.Aa&&!w.ma?new bs(new Wt({ab:re})):new bs(w.ma),Y.Fa(w.L),Y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function wn(){}n=wn.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Ln(){}Ln.prototype.g=function(w,Y){return new _n(w,Y)};function _n(w,Y){Je.call(this),this.g=new xr(Y),this.l=w,this.h=Y&&Y.messageUrlParams||null,w=Y&&Y.messageHeaders||null,Y&&Y.clientProtocolHeaderRequired&&(w?w["X-Client-Protocol"]="webchannel":w={"X-Client-Protocol":"webchannel"}),this.g.o=w,w=Y&&Y.initMessageHeaders||null,Y&&Y.messageContentType&&(w?w["X-WebChannel-Content-Type"]=Y.messageContentType:w={"X-WebChannel-Content-Type":Y.messageContentType}),Y&&Y.sa&&(w?w["X-WebChannel-Client-Profile"]=Y.sa:w={"X-WebChannel-Client-Profile":Y.sa}),this.g.U=w,(w=Y&&Y.Qb)&&!G(w)&&(this.g.u=w),this.A=Y&&Y.supportsCrossDomainXhr||!1,this.v=Y&&Y.sendRawJson||!1,(Y=Y&&Y.httpSessionIdParam)&&!G(Y)&&(this.g.G=Y,w=this.h,w!==null&&Y in w&&(w=this.h,Y in w&&delete w[Y])),this.j=new pr(this)}m(_n,Je),_n.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){xl(this.g)},_n.prototype.o=function(w){var Y=this.g;if(typeof w=="string"){var re={};re.__data__=w,w=re}else this.v&&(re={},re.__data__=kt(w),w=re);Y.i.push(new Ft(Y.Ya++,w)),Y.I==3&&eo(Y)},_n.prototype.N=function(){this.g.l=null,delete this.j,xl(this.g),delete this.g,_n.Z.N.call(this)};function Es(w){ht.call(this),w.__headers__&&(this.headers=w.__headers__,this.statusCode=w.__status__,delete w.__headers__,delete w.__status__);var Y=w.__sm__;if(Y){e:{for(const re in Y){w=re;break e}w=void 0}(this.i=w)&&(w=this.i,Y=Y!==null&&w in Y?Y[w]:void 0),this.data=Y}else this.data=w}m(Es,ht);function Er(){Ve.call(this),this.status=1}m(Er,Ve);function pr(w){this.g=w}m(pr,wn),pr.prototype.ra=function(){Ut(this.g,"a")},pr.prototype.qa=function(w){Ut(this.g,new Es(w))},pr.prototype.pa=function(w){Ut(this.g,new Er)},pr.prototype.oa=function(){Ut(this.g,"b")},Ln.prototype.createWebChannel=Ln.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,qE=function(){return new Ln},JE=function(){return Qt()},XE=lt,Y1={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ga.NO_ERROR=0,Ga.TIMEOUT=8,Ga.HTTP_ERROR=6,cv=Ga,Ca.COMPLETE="complete",WE=Ca,Un.EventType=Me,Me.OPEN="a",Me.CLOSE="b",Me.ERROR="c",Me.MESSAGE="d",Je.prototype.listen=Je.prototype.J,Sp=Un,bs.prototype.listenOnce=bs.prototype.K,bs.prototype.getLastError=bs.prototype.Ha,bs.prototype.getLastErrorCode=bs.prototype.ya,bs.prototype.getStatus=bs.prototype.ca,bs.prototype.getResponseJson=bs.prototype.La,bs.prototype.getResponseText=bs.prototype.la,bs.prototype.send=bs.prototype.ea,bs.prototype.setWithCredentials=bs.prototype.Fa,YE=bs}).apply(typeof Q0<"u"?Q0:typeof self<"u"?self:typeof window<"u"?window:{});const OB="@firebase/firestore",PB="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jo=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Jo.UNAUTHENTICATED=new Jo(null),Jo.GOOGLE_CREDENTIALS=new Jo("google-credentials-uid"),Jo.FIRST_PARTY=new Jo("first-party-uid"),Jo.MOCK_USER=new Jo("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vm="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qh=new AQ("@firebase/firestore");function Mf(){return qh.logLevel}function yn(n,...e){if(qh.logLevel<=ir.DEBUG){const t=e.map(pw);qh.debug(`Firestore (${vm}): ${n}`,...t)}}function Tu(n,...e){if(qh.logLevel<=ir.ERROR){const t=e.map(pw);qh.error(`Firestore (${vm}): ${n}`,...t)}}function rm(n,...e){if(qh.logLevel<=ir.WARN){const t=e.map(pw);qh.warn(`Firestore (${vm}): ${n}`,...t)}}function pw(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(n,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,ZE(n,s,t)}function ZE(n,e,t){let s=`FIRESTORE (${vm}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw Tu(s),new Error(s)}function Br(n,e,t,s){let a="Unexpected state";typeof t=="string"?a=t:s=t,n||ZE(e,a,s)}function As(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class an extends cc{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class cQ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Jo.UNAUTHENTICATED)))}shutdown(){}}class uQ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class dQ{constructor(e){this.t=e,this.currentUser=Jo.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Br(this.o===void 0,42304);let s=this.i;const a=u=>this.i!==s?(s=this.i,t(u)):Promise.resolve();let o=new Hc;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Hc,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const u=o;e.enqueueRetryable((async()=>{await u.promise,await a(this.currentUser)}))},h=u=>{yn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((u=>h(u))),setTimeout((()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?h(u):(yn("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Hc)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(yn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Br(typeof s.accessToken=="string",31837,{l:s}),new e4(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Br(e===null||typeof e=="string",2055,{h:e}),new Jo(e)}}class hQ{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=Jo.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class fQ{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new hQ(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Jo.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class kB{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mQ{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,sA(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Br(this.o===void 0,3512);const s=o=>{o.error!=null&&yn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,yn("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>s(o)))};const a=o=>{yn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>a(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):yn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new kB(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Br(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new kB(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pQ(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=pQ(40);for(let o=0;o<a.length;++o)s.length<20&&a[o]<t&&(s+=e.charAt(a[o]%62))}return s}}function qs(n,e){return n<e?-1:n>e?1:0}function W1(n,e){const t=Math.min(n.length,e.length);for(let s=0;s<t;s++){const a=n.charAt(s),o=e.charAt(s);if(a!==o)return ky(a)===ky(o)?qs(a,o):ky(a)?1:-1}return qs(n.length,e.length)}const gQ=55296,vQ=57343;function ky(n){const e=n.charCodeAt(0);return e>=gQ&&e<=vQ}function am(n,e,t){return n.length===e.length&&n.every(((s,a)=>t(s,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MB="__name__";class Oc{constructor(e,t,s){t===void 0?t=0:t>e.length&&es(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&es(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Oc.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Oc?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const o=Oc.compareSegments(e.get(a),t.get(a));if(o!==0)return o}return qs(e.length,t.length)}static compareSegments(e,t){const s=Oc.isNumericId(e),a=Oc.isNumericId(t);return s&&!a?-1:!s&&a?1:s&&a?Oc.extractNumericId(e).compare(Oc.extractNumericId(t)):W1(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Rd.fromString(e.substring(4,e.length-2))}}class ma extends Oc{construct(e,t,s){return new ma(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new an(bt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((a=>a.length>0)))}return new ma(t)}static emptyPath(){return new ma([])}}const xQ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bo extends Oc{construct(e,t,s){return new bo(e,t,s)}static isValidIdentifier(e){return xQ.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bo.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===MB}static keyField(){return new bo([MB])}static fromServerFormat(e){const t=[];let s="",a=0;const o=()=>{if(s.length===0)throw new an(bt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let c=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new an(bt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[a+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new an(bt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=u,a+=2}else h==="`"?(c=!c,a++):h!=="."||c?(s+=h,a++):(o(),a++)}if(o(),c)throw new an(bt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bo(t)}static emptyPath(){return new bo([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.path=e}static fromPath(e){return new Hn(ma.fromString(e))}static fromName(e){return new Hn(ma.fromString(e).popFirst(5))}static empty(){return new Hn(ma.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ma.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ma.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Hn(new ma(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t4(n,e,t){if(!t)throw new an(bt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function yQ(n,e,t,s){if(e===!0&&s===!0)throw new an(bt.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function HB(n){if(!Hn.isDocumentKey(n))throw new an(bt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function VB(n){if(Hn.isDocumentKey(n))throw new an(bt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function n4(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function vx(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":es(12329,{type:typeof n})}function gl(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new an(bt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=vx(n);throw new an(bt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function bQ(n,e){if(e<=0)throw new an(bt.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(n,e){const t={typeString:n};return e&&(t.value=e),t}function Sg(n,e){if(!n4(n))throw new an(bt.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const a=e[s].typeString,o="value"in e[s]?{value:e[s].value}:void 0;if(!(s in n)){t=`JSON missing required field: '${s}'`;break}const c=n[s];if(a&&typeof c!==a){t=`JSON field '${s}' must be a ${a}.`;break}if(o!==void 0&&c!==o.value){t=`Expected '${s}' field to equal '${o.value}'`;break}}if(t)throw new an(bt.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KB=-62135596800,zB=1e6;class or{static now(){return or.fromMillis(Date.now())}static fromDate(e){return or.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*zB);return new or(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new an(bt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new an(bt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<KB)throw new an(bt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new an(bt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/zB}_compareTo(e){return this.seconds===e.seconds?qs(this.nanoseconds,e.nanoseconds):qs(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:or._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Sg(e,or._jsonSchema))return new or(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-KB;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}or._jsonSchemaVersion="firestore/timestamp/1.0",or._jsonSchema={type:Di("string",or._jsonSchemaVersion),seconds:Di("number"),nanoseconds:Di("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{static fromTimestamp(e){return new fs(e)}static min(){return new fs(new or(0,0))}static max(){return new fs(new or(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng=-1;function wQ(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,a=fs.fromTimestamp(s===1e9?new or(t+1,0):new or(t,s));return new Pd(a,Hn.empty(),e)}function jQ(n){return new Pd(n.readTime,n.key,ng)}class Pd{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Pd(fs.min(),Hn.empty(),ng)}static max(){return new Pd(fs.max(),Hn.empty(),ng)}}function BQ(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Hn.comparator(n.documentKey,e.documentKey),t!==0?t:qs(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CQ="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SQ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xm(n){if(n.code!==bt.FAILED_PRECONDITION||n.message!==CQ)throw n;yn("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&es(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new It(((s,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(s,a)},this.catchCallback=o=>{this.wrapFailure(t,o).next(s,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof It?t:It.resolve(t)}catch(t){return It.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):It.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):It.reject(t)}static resolve(e){return new It(((t,s)=>{t(e)}))}static reject(e){return new It(((t,s)=>{s(e)}))}static waitFor(e){return new It(((t,s)=>{let a=0,o=0,c=!1;e.forEach((h=>{++a,h.next((()=>{++o,c&&o===a&&t()}),(u=>s(u)))})),c=!0,o===a&&t()}))}static or(e){let t=It.resolve(!1);for(const s of e)t=t.next((a=>a?It.resolve(a):s()));return t}static forEach(e,t){const s=[];return e.forEach(((a,o)=>{s.push(t.call(this,a,o))})),this.waitFor(s)}static mapArray(e,t){return new It(((s,a)=>{const o=e.length,c=new Array(o);let h=0;for(let u=0;u<o;u++){const f=u;t(e[f]).next((A=>{c[f]=A,++h,h===o&&s(c)}),(A=>a(A)))}}))}static doWhile(e,t){return new It(((s,a)=>{const o=()=>{e()===!0?t().next((()=>{o()}),a):s()};o()}))}}function NQ(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ym(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}xx.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw=-1;function yx(n){return n==null}function Rv(n){return n===0&&1/n==-1/0}function EQ(n){return typeof n=="number"&&Number.isInteger(n)&&!Rv(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4="";function TQ(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=GB(e)),e=IQ(n.get(t),e);return GB(e)}function IQ(n,e){let t=e;const s=n.length;for(let a=0;a<s;a++){const o=n.charAt(a);switch(o){case"\0":t+="";break;case s4:t+="";break;default:t+=o}}return t}function GB(n){return n+s4+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $B(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Xd(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function _Q(n,e){const t=[];for(const s in n)Object.prototype.hasOwnProperty.call(n,s)&&t.push(e(n[s],s,n));return t}function r4(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(e,t){this.comparator=e,this.root=t||yo.EMPTY}insert(e,t){return new za(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,yo.BLACK,null,null))}remove(e){return new za(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yo.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new O0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new O0(this.root,e,this.comparator,!1)}getReverseIterator(){return new O0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new O0(this.root,e,this.comparator,!0)}}class O0{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?s(e.key,t):1,t&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yo{constructor(e,t,s,a,o){this.key=e,this.value=t,this.color=s??yo.RED,this.left=a??yo.EMPTY,this.right=o??yo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,o){return new yo(e??this.key,t??this.value,s??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const o=s(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,t,s),null):o===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return yo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return yo.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw es(43730,{key:this.key,value:this.value});if(this.right.isRed())throw es(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw es(27949);return e+(this.isRed()?0:1)}}yo.EMPTY=null,yo.RED=!0,yo.BLACK=!1;yo.EMPTY=new class{constructor(){this.size=0}get key(){throw es(57766)}get value(){throw es(16141)}get color(){throw es(16727)}get left(){throw es(29726)}get right(){throw es(36894)}copy(e,t,s,a,o){return this}insert(e,t,s){return new yo(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e){this.comparator=e,this.data=new za(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new YB(this.data.getIterator())}getIteratorFrom(e){return new YB(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof Ji)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=s.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Ji(this.comparator);return t.data=e,t}}class YB{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(e){this.fields=e,e.sort(bo.comparator)}static empty(){return new rA([])}unionWith(e){let t=new Ji(bo.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new rA(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return am(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new a4("Invalid base64 string: "+o):o}})(e);return new Bo(t)}static fromUint8Array(e){const t=(function(a){let o="";for(let c=0;c<a.length;++c)o+=String.fromCharCode(a[c]);return o})(e);return new Bo(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let a=0;a<t.length;a++)s[a]=t.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qs(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bo.EMPTY_BYTE_STRING=new Bo("");const FQ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function kd(n){if(Br(!!n,39018),typeof n=="string"){let e=0;const t=FQ.exec(n);if(Br(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:hi(n.seconds),nanos:hi(n.nanos)}}function hi(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Md(n){return typeof n=="string"?Bo.fromBase64String(n):Bo.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4="server_timestamp",o4="__type__",l4="__previous_value__",A4="__local_write_time__";function xw(n){var t,s;return((s=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[o4])==null?void 0:s.stringValue)===i4}function bx(n){const e=n.mapValue.fields[l4];return xw(e)?bx(e):e}function sg(n){const e=kd(n.mapValue.fields[A4].timestampValue);return new or(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UQ{constructor(e,t,s,a,o,c,h,u,f,A){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=u,this.useFetchStreams=f,this.isUsingEmulator=A}}const Dv="(default)";class rg{constructor(e,t){this.projectId=e,this.database=t||Dv}static empty(){return new rg("","")}get isDefaultDatabase(){return this.database===Dv}isEqual(e){return e instanceof rg&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4="__type__",RQ="__max__",P0={mapValue:{}},u4="__vector__",Lv="value";function Hd(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?xw(n)?4:LQ(n)?9007199254740991:DQ(n)?10:11:es(28295,{value:n})}function Yc(n,e){if(n===e)return!0;const t=Hd(n);if(t!==Hd(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return sg(n).isEqual(sg(e));case 3:return(function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const c=kd(a.timestampValue),h=kd(o.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(a,o){return Md(a.bytesValue).isEqual(Md(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(a,o){return hi(a.geoPointValue.latitude)===hi(o.geoPointValue.latitude)&&hi(a.geoPointValue.longitude)===hi(o.geoPointValue.longitude)})(n,e);case 2:return(function(a,o){if("integerValue"in a&&"integerValue"in o)return hi(a.integerValue)===hi(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const c=hi(a.doubleValue),h=hi(o.doubleValue);return c===h?Rv(c)===Rv(h):isNaN(c)&&isNaN(h)}return!1})(n,e);case 9:return am(n.arrayValue.values||[],e.arrayValue.values||[],Yc);case 10:case 11:return(function(a,o){const c=a.mapValue.fields||{},h=o.mapValue.fields||{};if($B(c)!==$B(h))return!1;for(const u in c)if(c.hasOwnProperty(u)&&(h[u]===void 0||!Yc(c[u],h[u])))return!1;return!0})(n,e);default:return es(52216,{left:n})}}function ag(n,e){return(n.values||[]).find((t=>Yc(t,e)))!==void 0}function im(n,e){if(n===e)return 0;const t=Hd(n),s=Hd(e);if(t!==s)return qs(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return qs(n.booleanValue,e.booleanValue);case 2:return(function(o,c){const h=hi(o.integerValue||o.doubleValue),u=hi(c.integerValue||c.doubleValue);return h<u?-1:h>u?1:h===u?0:isNaN(h)?isNaN(u)?0:-1:1})(n,e);case 3:return WB(n.timestampValue,e.timestampValue);case 4:return WB(sg(n),sg(e));case 5:return W1(n.stringValue,e.stringValue);case 6:return(function(o,c){const h=Md(o),u=Md(c);return h.compareTo(u)})(n.bytesValue,e.bytesValue);case 7:return(function(o,c){const h=o.split("/"),u=c.split("/");for(let f=0;f<h.length&&f<u.length;f++){const A=qs(h[f],u[f]);if(A!==0)return A}return qs(h.length,u.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,c){const h=qs(hi(o.latitude),hi(c.latitude));return h!==0?h:qs(hi(o.longitude),hi(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return XB(n.arrayValue,e.arrayValue);case 10:return(function(o,c){var v,g,b,I;const h=o.fields||{},u=c.fields||{},f=(v=h[Lv])==null?void 0:v.arrayValue,A=(g=u[Lv])==null?void 0:g.arrayValue,m=qs(((b=f==null?void 0:f.values)==null?void 0:b.length)||0,((I=A==null?void 0:A.values)==null?void 0:I.length)||0);return m!==0?m:XB(f,A)})(n.mapValue,e.mapValue);case 11:return(function(o,c){if(o===P0.mapValue&&c===P0.mapValue)return 0;if(o===P0.mapValue)return 1;if(c===P0.mapValue)return-1;const h=o.fields||{},u=Object.keys(h),f=c.fields||{},A=Object.keys(f);u.sort(),A.sort();for(let m=0;m<u.length&&m<A.length;++m){const v=W1(u[m],A[m]);if(v!==0)return v;const g=im(h[u[m]],f[A[m]]);if(g!==0)return g}return qs(u.length,A.length)})(n.mapValue,e.mapValue);default:throw es(23264,{he:t})}}function WB(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return qs(n,e);const t=kd(n),s=kd(e),a=qs(t.seconds,s.seconds);return a!==0?a:qs(t.nanos,s.nanos)}function XB(n,e){const t=n.values||[],s=e.values||[];for(let a=0;a<t.length&&a<s.length;++a){const o=im(t[a],s[a]);if(o)return o}return qs(t.length,s.length)}function om(n){return X1(n)}function X1(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const s=kd(t);return`time(${s.seconds},${s.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Md(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Hn.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let s="[",a=!0;for(const o of t.values||[])a?a=!1:s+=",",s+=X1(o);return s+"]"})(n.arrayValue):"mapValue"in n?(function(t){const s=Object.keys(t.fields||{}).sort();let a="{",o=!0;for(const c of s)o?o=!1:a+=",",a+=`${c}:${X1(t.fields[c])}`;return a+"}"})(n.mapValue):es(61005,{value:n})}function uv(n){switch(Hd(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bx(n);return e?16+uv(e):16;case 5:return 2*n.stringValue.length;case 6:return Md(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,o)=>a+uv(o)),0)})(n.arrayValue);case 10:case 11:return(function(s){let a=0;return Xd(s.fields,((o,c)=>{a+=o.length+uv(c)})),a})(n.mapValue);default:throw es(13486,{value:n})}}function JB(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function J1(n){return!!n&&"integerValue"in n}function yw(n){return!!n&&"arrayValue"in n}function qB(n){return!!n&&"nullValue"in n}function ZB(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function dv(n){return!!n&&"mapValue"in n}function DQ(n){var t,s;return((s=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[c4])==null?void 0:s.stringValue)===u4}function Rp(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Xd(n.mapValue.fields,((t,s)=>e.mapValue.fields[t]=Rp(s))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Rp(n.arrayValue.values[t]);return e}return{...n}}function LQ(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===RQ}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e){this.value=e}static empty(){return new Ll({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!dv(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Rp(t)}setAll(e){let t=bo.emptyPath(),s={},a=[];e.forEach(((c,h)=>{if(!t.isImmediateParentOf(h)){const u=this.getFieldsMap(t);this.applyChanges(u,s,a),s={},a=[],t=h.popLast()}c?s[h.lastSegment()]=Rp(c):a.push(h.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,s,a)}delete(e){const t=this.field(e.popLast());dv(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Yc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];dv(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){Xd(t,((a,o)=>e[a]=o));for(const a of s)delete e[a]}clone(){return new Ll(Rp(this.value))}}function d4(n){const e=[];return Xd(n.fields,((t,s)=>{const a=new bo([t]);if(dv(s)){const o=d4(s.mapValue).fields;if(o.length===0)e.push(a);else for(const c of o)e.push(a.child(c))}else e.push(a)})),new rA(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e,t,s,a,o,c,h){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=o,this.data=c,this.documentState=h}static newInvalidDocument(e){return new qo(e,0,fs.min(),fs.min(),fs.min(),Ll.empty(),0)}static newFoundDocument(e,t,s,a){return new qo(e,1,t,fs.min(),s,a,0)}static newNoDocument(e,t){return new qo(e,2,t,fs.min(),fs.min(),Ll.empty(),0)}static newUnknownDocument(e,t){return new qo(e,3,t,fs.min(),fs.min(),Ll.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(fs.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ll.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ll.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=fs.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof qo&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qo(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(e,t){this.position=e,this.inclusive=t}}function e5(n,e,t){let s=0;for(let a=0;a<n.position.length;a++){const o=e[a],c=n.position[a];if(o.field.isKeyField()?s=Hn.comparator(Hn.fromName(c.referenceValue),t.key):s=im(c,t.data.field(o.field)),o.dir==="desc"&&(s*=-1),s!==0)break}return s}function t5(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Yc(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,t="asc"){this.field=e,this.dir=t}}function QQ(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{}class Ri extends h4{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new PQ(e,t,s):t==="array-contains"?new HQ(e,s):t==="in"?new VQ(e,s):t==="not-in"?new KQ(e,s):t==="array-contains-any"?new zQ(e,s):new Ri(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new kQ(e,s):new MQ(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(im(t,this.value)):t!==null&&Hd(this.value)===Hd(t)&&this.matchesComparison(im(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return es(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class oc extends h4{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new oc(e,t)}matches(e){return f4(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function f4(n){return n.op==="and"}function m4(n){return OQ(n)&&f4(n)}function OQ(n){for(const e of n.filters)if(e instanceof oc)return!1;return!0}function q1(n){if(n instanceof Ri)return n.field.canonicalString()+n.op.toString()+om(n.value);if(m4(n))return n.filters.map((e=>q1(e))).join(",");{const e=n.filters.map((t=>q1(t))).join(",");return`${n.op}(${e})`}}function p4(n,e){return n instanceof Ri?(function(s,a){return a instanceof Ri&&s.op===a.op&&s.field.isEqual(a.field)&&Yc(s.value,a.value)})(n,e):n instanceof oc?(function(s,a){return a instanceof oc&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((o,c,h)=>o&&p4(c,a.filters[h])),!0):!1})(n,e):void es(19439)}function g4(n){return n instanceof Ri?(function(t){return`${t.field.canonicalString()} ${t.op} ${om(t.value)}`})(n):n instanceof oc?(function(t){return t.op.toString()+" {"+t.getFilters().map(g4).join(" ,")+"}"})(n):"Filter"}class PQ extends Ri{constructor(e,t,s){super(e,t,s),this.key=Hn.fromName(s.referenceValue)}matches(e){const t=Hn.comparator(e.key,this.key);return this.matchesComparison(t)}}class kQ extends Ri{constructor(e,t){super(e,"in",t),this.keys=v4("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class MQ extends Ri{constructor(e,t){super(e,"not-in",t),this.keys=v4("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function v4(n,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((s=>Hn.fromName(s.referenceValue)))}class HQ extends Ri{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return yw(t)&&ag(t.arrayValue,this.value)}}class VQ extends Ri{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ag(this.value.arrayValue,t)}}class KQ extends Ri{constructor(e,t){super(e,"not-in",t)}matches(e){if(ag(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!ag(this.value.arrayValue,t)}}class zQ extends Ri{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!yw(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>ag(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GQ{constructor(e,t=null,s=[],a=[],o=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=o,this.startAt=c,this.endAt=h,this.Te=null}}function n5(n,e=null,t=[],s=[],a=null,o=null,c=null){return new GQ(n,e,t,s,a,o,c)}function bw(n){const e=As(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>q1(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(o){return o.field.canonicalString()+o.dir})(s))).join(","),yx(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>om(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>om(s))).join(",")),e.Te=t}return e.Te}function ww(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!QQ(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!p4(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!t5(n.startAt,e.startAt)&&t5(n.endAt,e.endAt)}function Z1(n){return Hn.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e,t=null,s=[],a=[],o=null,c="F",h=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function $Q(n,e,t,s,a,o,c,h){return new bm(n,e,t,s,a,o,c,h)}function wx(n){return new bm(n)}function s5(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function x4(n){return n.collectionGroup!==null}function Dp(n){const e=As(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Ji(bo.comparator);return c.filters.forEach((u=>{u.getFlattenedFilters().forEach((f=>{f.isInequality()&&(h=h.add(f.field))}))})),h})(e).forEach((o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new ig(o,s))})),t.has(bo.keyField().canonicalString())||e.Ie.push(new ig(bo.keyField(),s))}return e.Ie}function Vc(n){const e=As(n);return e.Ee||(e.Ee=y4(e,Dp(n))),e.Ee}function YQ(n){const e=As(n);return e.de||(e.de=y4(e,n.explicitOrderBy)),e.de}function y4(n,e){if(n.limitType==="F")return n5(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((a=>{const o=a.dir==="desc"?"asc":"desc";return new ig(a.field,o)}));const t=n.endAt?new Qv(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new Qv(n.startAt.position,n.startAt.inclusive):null;return n5(n.path,n.collectionGroup,e,n.filters,n.limit,t,s)}}function eb(n,e){const t=n.filters.concat([e]);return new bm(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Ov(n,e,t){return new bm(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function jx(n,e){return ww(Vc(n),Vc(e))&&n.limitType===e.limitType}function b4(n){return`${bw(Vc(n))}|lt:${n.limitType}`}function Hf(n){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((a=>g4(a))).join(", ")}]`),yx(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((a=>om(a))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((a=>om(a))).join(",")),`Target(${s})`})(Vc(n))}; limitType=${n.limitType})`}function Bx(n,e){return e.isFoundDocument()&&(function(s,a){const o=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(o):Hn.isDocumentKey(s.path)?s.path.isEqual(o):s.path.isImmediateParentOf(o)})(n,e)&&(function(s,a){for(const o of Dp(s))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(s,a){for(const o of s.filters)if(!o.matches(a))return!1;return!0})(n,e)&&(function(s,a){return!(s.startAt&&!(function(c,h,u){const f=e5(c,h,u);return c.inclusive?f<=0:f<0})(s.startAt,Dp(s),a)||s.endAt&&!(function(c,h,u){const f=e5(c,h,u);return c.inclusive?f>=0:f>0})(s.endAt,Dp(s),a))})(n,e)}function WQ(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function w4(n){return(e,t)=>{let s=!1;for(const a of Dp(n)){const o=XQ(a,e,t);if(o!==0)return o;s=s||a.field.isKeyField()}return 0}}function XQ(n,e,t){const s=n.field.isKeyField()?Hn.comparator(e.key,t.key):(function(o,c,h){const u=c.data.field(o),f=h.data.field(o);return u!==null&&f!==null?im(u,f):es(42886)})(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return es(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[a,o]of s)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Xd(this.inner,((t,s)=>{for(const[a,o]of s)e(a,o)}))}isEmpty(){return r4(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JQ=new za(Hn.comparator);function Iu(){return JQ}const j4=new za(Hn.comparator);function Np(...n){let e=j4;for(const t of n)e=e.insert(t.key,t);return e}function B4(n){let e=j4;return n.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function Lh(){return Lp()}function C4(){return Lp()}function Lp(){return new af((n=>n.toString()),((n,e)=>n.isEqual(e)))}const qQ=new za(Hn.comparator),ZQ=new Ji(Hn.comparator);function Zs(...n){let e=ZQ;for(const t of n)e=e.add(t);return e}const e8=new Ji(qs);function t8(){return e8}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rv(e)?"-0":e}}function S4(n){return{integerValue:""+n}}function n8(n,e){return EQ(e)?S4(e):jw(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(){this._=void 0}}function s8(n,e,t){return n instanceof Pv?(function(a,o){const c={fields:{[o4]:{stringValue:i4},[A4]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&xw(o)&&(o=bx(o)),o&&(c.fields[l4]=o),{mapValue:c}})(t,e):n instanceof og?E4(n,e):n instanceof lg?T4(n,e):(function(a,o){const c=N4(a,o),h=r5(c)+r5(a.Ae);return J1(c)&&J1(a.Ae)?S4(h):jw(a.serializer,h)})(n,e)}function r8(n,e,t){return n instanceof og?E4(n,e):n instanceof lg?T4(n,e):t}function N4(n,e){return n instanceof kv?(function(s){return J1(s)||(function(o){return!!o&&"doubleValue"in o})(s)})(e)?e:{integerValue:0}:null}class Pv extends Cx{}class og extends Cx{constructor(e){super(),this.elements=e}}function E4(n,e){const t=I4(e);for(const s of n.elements)t.some((a=>Yc(a,s)))||t.push(s);return{arrayValue:{values:t}}}class lg extends Cx{constructor(e){super(),this.elements=e}}function T4(n,e){let t=I4(e);for(const s of n.elements)t=t.filter((a=>!Yc(a,s)));return{arrayValue:{values:t}}}class kv extends Cx{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function r5(n){return hi(n.integerValue||n.doubleValue)}function I4(n){return yw(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function a8(n,e){return n.field.isEqual(e.field)&&(function(s,a){return s instanceof og&&a instanceof og||s instanceof lg&&a instanceof lg?am(s.elements,a.elements,Yc):s instanceof kv&&a instanceof kv?Yc(s.Ae,a.Ae):s instanceof Pv&&a instanceof Pv})(n.transform,e.transform)}class i8{constructor(e,t){this.version=e,this.transformResults=t}}class Ol{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ol}static exists(e){return new Ol(void 0,e)}static updateTime(e){return new Ol(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hv(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Sx{}function _4(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Nx(n.key,Ol.none()):new Ng(n.key,n.data,Ol.none());{const t=n.data,s=Ll.empty();let a=new Ji(bo.comparator);for(let o of e.fields)if(!a.has(o)){let c=t.field(o);c===null&&o.length>1&&(o=o.popLast(),c=t.field(o)),c===null?s.delete(o):s.set(o,c),a=a.add(o)}return new Jd(n.key,s,new rA(a.toArray()),Ol.none())}}function o8(n,e,t){n instanceof Ng?(function(a,o,c){const h=a.value.clone(),u=i5(a.fieldTransforms,o,c.transformResults);h.setAll(u),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(n,e,t):n instanceof Jd?(function(a,o,c){if(!hv(a.precondition,o))return void o.convertToUnknownDocument(c.version);const h=i5(a.fieldTransforms,o,c.transformResults),u=o.data;u.setAll(F4(a)),u.setAll(h),o.convertToFoundDocument(c.version,u).setHasCommittedMutations()})(n,e,t):(function(a,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function Qp(n,e,t,s){return n instanceof Ng?(function(o,c,h,u){if(!hv(o.precondition,c))return h;const f=o.value.clone(),A=o5(o.fieldTransforms,u,c);return f.setAll(A),c.convertToFoundDocument(c.version,f).setHasLocalMutations(),null})(n,e,t,s):n instanceof Jd?(function(o,c,h,u){if(!hv(o.precondition,c))return h;const f=o5(o.fieldTransforms,u,c),A=c.data;return A.setAll(F4(o)),A.setAll(f),c.convertToFoundDocument(c.version,A).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((m=>m.field)))})(n,e,t,s):(function(o,c,h){return hv(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(n,e,t)}function l8(n,e){let t=null;for(const s of n.fieldTransforms){const a=e.data.field(s.field),o=N4(s.transform,a||null);o!=null&&(t===null&&(t=Ll.empty()),t.set(s.field,o))}return t||null}function a5(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&am(s,a,((o,c)=>a8(o,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Ng extends Sx{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Jd extends Sx{constructor(e,t,s,a,o=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function F4(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}})),e}function i5(n,e,t){const s=new Map;Br(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let a=0;a<t.length;a++){const o=n[a],c=o.transform,h=e.data.field(o.field);s.set(o.field,r8(c,h,t[a]))}return s}function o5(n,e,t){const s=new Map;for(const a of n){const o=a.transform,c=t.data.field(a.field);s.set(a.field,s8(o,c,e))}return s}class Nx extends Sx{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class A8 extends Sx{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c8{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&o8(o,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Qp(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Qp(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=C4();return this.mutations.forEach((a=>{const o=e.get(a.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=t.has(a.key)?null:h;const u=_4(c,h);u!==null&&s.set(a.key,u),c.isValidDocument()||c.convertToNoDocument(fs.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Zs())}isEqual(e){return this.batchId===e.batchId&&am(this.mutations,e.mutations,((t,s)=>a5(t,s)))&&am(this.baseMutations,e.baseMutations,((t,s)=>a5(t,s)))}}class Bw{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){Br(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return qQ})();const o=e.mutations;for(let c=0;c<o.length;c++)a=a.insert(o[c].key,s[c].version);return new Bw(e,t,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u8{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d8{constructor(e,t,s){this.alias=e,this.aggregateType=t,this.fieldPath=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h8{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _i,ar;function f8(n){switch(n){case bt.OK:return es(64938);case bt.CANCELLED:case bt.UNKNOWN:case bt.DEADLINE_EXCEEDED:case bt.RESOURCE_EXHAUSTED:case bt.INTERNAL:case bt.UNAVAILABLE:case bt.UNAUTHENTICATED:return!1;case bt.INVALID_ARGUMENT:case bt.NOT_FOUND:case bt.ALREADY_EXISTS:case bt.PERMISSION_DENIED:case bt.FAILED_PRECONDITION:case bt.ABORTED:case bt.OUT_OF_RANGE:case bt.UNIMPLEMENTED:case bt.DATA_LOSS:return!0;default:return es(15467,{code:n})}}function U4(n){if(n===void 0)return Tu("GRPC error has no .code"),bt.UNKNOWN;switch(n){case _i.OK:return bt.OK;case _i.CANCELLED:return bt.CANCELLED;case _i.UNKNOWN:return bt.UNKNOWN;case _i.DEADLINE_EXCEEDED:return bt.DEADLINE_EXCEEDED;case _i.RESOURCE_EXHAUSTED:return bt.RESOURCE_EXHAUSTED;case _i.INTERNAL:return bt.INTERNAL;case _i.UNAVAILABLE:return bt.UNAVAILABLE;case _i.UNAUTHENTICATED:return bt.UNAUTHENTICATED;case _i.INVALID_ARGUMENT:return bt.INVALID_ARGUMENT;case _i.NOT_FOUND:return bt.NOT_FOUND;case _i.ALREADY_EXISTS:return bt.ALREADY_EXISTS;case _i.PERMISSION_DENIED:return bt.PERMISSION_DENIED;case _i.FAILED_PRECONDITION:return bt.FAILED_PRECONDITION;case _i.ABORTED:return bt.ABORTED;case _i.OUT_OF_RANGE:return bt.OUT_OF_RANGE;case _i.UNIMPLEMENTED:return bt.UNIMPLEMENTED;case _i.DATA_LOSS:return bt.DATA_LOSS;default:return es(39323,{code:n})}}(ar=_i||(_i={}))[ar.OK=0]="OK",ar[ar.CANCELLED=1]="CANCELLED",ar[ar.UNKNOWN=2]="UNKNOWN",ar[ar.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ar[ar.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ar[ar.NOT_FOUND=5]="NOT_FOUND",ar[ar.ALREADY_EXISTS=6]="ALREADY_EXISTS",ar[ar.PERMISSION_DENIED=7]="PERMISSION_DENIED",ar[ar.UNAUTHENTICATED=16]="UNAUTHENTICATED",ar[ar.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ar[ar.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ar[ar.ABORTED=10]="ABORTED",ar[ar.OUT_OF_RANGE=11]="OUT_OF_RANGE",ar[ar.UNIMPLEMENTED=12]="UNIMPLEMENTED",ar[ar.INTERNAL=13]="INTERNAL",ar[ar.UNAVAILABLE=14]="UNAVAILABLE",ar[ar.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m8(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p8=new Rd([4294967295,4294967295],0);function l5(n){const e=m8().encode(n),t=new $E;return t.update(e),new Uint8Array(t.digest())}function A5(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Rd([t,s],0),new Rd([a,o],0)]}class Cw{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Ep(`Invalid padding: ${t}`);if(s<0)throw new Ep(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ep(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Ep(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Rd.fromNumber(this.ge)}ye(e,t,s){let a=e.add(t.multiply(Rd.fromNumber(s)));return a.compare(p8)===1&&(a=new Rd([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=l5(e),[s,a]=A5(t);for(let o=0;o<this.hashCount;o++){const c=this.ye(s,a,o);if(!this.we(c))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new Cw(o,a,t);return s.forEach((h=>c.insert(h))),c}insert(e){if(this.ge===0)return;const t=l5(e),[s,a]=A5(t);for(let o=0;o<this.hashCount;o++){const c=this.ye(s,a,o);this.Se(c)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Ep extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(e,t,s,a,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,Eg.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Ex(fs.min(),a,new za(qs),Iu(),Zs())}}class Eg{constructor(e,t,s,a,o){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Eg(s,t,Zs(),Zs(),Zs())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e,t,s,a){this.be=e,this.removedTargetIds=t,this.key=s,this.De=a}}class R4{constructor(e,t){this.targetId=e,this.Ce=t}}class D4{constructor(e,t,s=Bo.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class c5{constructor(){this.ve=0,this.Fe=u5(),this.Me=Bo.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Zs(),t=Zs(),s=Zs();return this.Fe.forEach(((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:es(38017,{changeType:o})}})),new Eg(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=u5()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Br(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class g8{constructor(e){this.Ge=e,this.ze=new Map,this.je=Iu(),this.Je=k0(),this.He=k0(),this.Ye=new za(qs)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:es(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,s=e.Ce.count,a=this.ot(t);if(a){const o=a.target;if(Z1(o))if(s===0){const c=new Hn(o.path);this.et(t,c,qo.newNoDocument(c,fs.min()))}else Br(s===1,20013,{expectedCount:s});else{const c=this._t(t);if(c!==s){const h=this.ut(e),u=h?this.ct(h,e,c):1;if(u!==0){this.it(t);const f=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,f)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:o=0}=t;let c,h;try{c=Md(s).toUint8Array()}catch(u){if(u instanceof a4)return rm("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{h=new Cw(c,a,o)}catch(u){return rm(u instanceof Ep?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return h.ge===0?null:h}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let a=0;return s.forEach((o=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.et(t,o,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((o,c)=>{const h=this.ot(c);if(h){if(o.current&&Z1(h.target)){const u=new Hn(h.target.path);this.It(u).has(c)||this.Et(c,u)||this.et(c,u,qo.newNoDocument(u,e))}o.Be&&(t.set(c,o.ke()),o.qe())}}));let s=Zs();this.He.forEach(((o,c)=>{let h=!0;c.forEachWhile((u=>{const f=this.ot(u);return!f||f.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(s=s.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(e)));const a=new Ex(e,t,this.Ye,this.je,s);return this.je=Iu(),this.Je=k0(),this.He=k0(),this.Ye=new za(qs),a}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.Qe(t,1):a.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new c5,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Ji(qs),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Ji(qs),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||yn("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new c5),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function k0(){return new za(Hn.comparator)}function u5(){return new za(Hn.comparator)}const v8={asc:"ASCENDING",desc:"DESCENDING"},x8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},y8={and:"AND",or:"OR"};class b8{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function tb(n,e){return n.useProto3Json||yx(e)?e:{value:e}}function Mv(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function L4(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function w8(n,e){return Mv(n,e.toTimestamp())}function Kc(n){return Br(!!n,49232),fs.fromTimestamp((function(t){const s=kd(t);return new or(s.seconds,s.nanos)})(n))}function Sw(n,e){return nb(n,e).canonicalString()}function nb(n,e){const t=(function(a){return new ma(["projects",a.projectId,"databases",a.database])})(n).child("documents");return e===void 0?t:t.child(e)}function Q4(n){const e=ma.fromString(n);return Br(V4(e),10190,{key:e.toString()}),e}function sb(n,e){return Sw(n.databaseId,e.path)}function My(n,e){const t=Q4(e);if(t.get(1)!==n.databaseId.projectId)throw new an(bt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new an(bt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Hn(P4(t))}function O4(n,e){return Sw(n.databaseId,e)}function j8(n){const e=Q4(n);return e.length===4?ma.emptyPath():P4(e)}function rb(n){return new ma(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function P4(n){return Br(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function d5(n,e,t){return{name:sb(n,e),fields:t.value.mapValue.fields}}function B8(n,e){let t;if("targetChange"in e){e.targetChange;const s=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:es(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=(function(f,A){return f.useProto3Json?(Br(A===void 0||typeof A=="string",58123),Bo.fromBase64String(A||"")):(Br(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Bo.fromUint8Array(A||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(f){const A=f.code===void 0?bt.UNKNOWN:U4(f.code);return new an(A,f.message||"")})(c);t=new D4(s,a,o,h||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=My(n,s.document.name),o=Kc(s.document.updateTime),c=s.document.createTime?Kc(s.document.createTime):fs.min(),h=new Ll({mapValue:{fields:s.document.fields}}),u=qo.newFoundDocument(a,o,c,h),f=s.targetIds||[],A=s.removedTargetIds||[];t=new fv(f,A,u.key,u)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=My(n,s.document),o=s.readTime?Kc(s.readTime):fs.min(),c=qo.newNoDocument(a,o),h=s.removedTargetIds||[];t=new fv([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=My(n,s.document),o=s.removedTargetIds||[];t=new fv([],o,a,null)}else{if(!("filter"in e))return es(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:o}=s,c=new h8(a,o),h=s.targetId;t=new R4(h,c)}}return t}function C8(n,e){let t;if(e instanceof Ng)t={update:d5(n,e.key,e.value)};else if(e instanceof Nx)t={delete:sb(n,e.key)};else if(e instanceof Jd)t={update:d5(n,e.key,e.data),updateMask:R8(e.fieldMask)};else{if(!(e instanceof A8))return es(16599,{Vt:e.type});t={verify:sb(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(o,c){const h=c.transform;if(h instanceof Pv)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof og)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof lg)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof kv)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw es(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(a,o){return o.updateTime!==void 0?{updateTime:w8(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:es(27497)})(n,e.precondition)),t}function S8(n,e){return n&&n.length>0?(Br(e!==void 0,14353),n.map((t=>(function(a,o){let c=a.updateTime?Kc(a.updateTime):Kc(o);return c.isEqual(fs.min())&&(c=Kc(o)),new i8(c,a.transformResults||[])})(t,e)))):[]}function N8(n,e){return{documents:[O4(n,e.path)]}}function k4(n,e){const t={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=O4(n,a);const o=(function(f){if(f.length!==0)return H4(oc.create(f,"and"))})(e.filters);o&&(t.structuredQuery.where=o);const c=(function(f){if(f.length!==0)return f.map((A=>(function(v){return{field:Cd(v.field),direction:_8(v.dir)}})(A)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const h=tb(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:t,parent:a}}function E8(n,e,t,s){const{ft:a,parent:o}=k4(n,e),c={},h=[];let u=0;return t.forEach((f=>{const A="aggregate_"+u++;c[A]=f.alias,f.aggregateType==="count"?h.push({alias:A,count:{}}):f.aggregateType==="avg"?h.push({alias:A,avg:{field:Cd(f.fieldPath)}}):f.aggregateType==="sum"&&h.push({alias:A,sum:{field:Cd(f.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:h,structuredQuery:a.structuredQuery},parent:a.parent},gt:c,parent:o}}function T8(n){let e=j8(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){Br(s===1,65062);const A=t.from[0];A.allDescendants?a=A.collectionId:e=e.child(A.collectionId)}let o=[];t.where&&(o=(function(m){const v=M4(m);return v instanceof oc&&m4(v)?v.getFilters():[v]})(t.where));let c=[];t.orderBy&&(c=(function(m){return m.map((v=>(function(b){return new ig(Vf(b.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(b.direction))})(v)))})(t.orderBy));let h=null;t.limit&&(h=(function(m){let v;return v=typeof m=="object"?m.value:m,yx(v)?null:v})(t.limit));let u=null;t.startAt&&(u=(function(m){const v=!!m.before,g=m.values||[];return new Qv(g,v)})(t.startAt));let f=null;return t.endAt&&(f=(function(m){const v=!m.before,g=m.values||[];return new Qv(g,v)})(t.endAt)),$Q(e,a,c,o,h,"F",u,f)}function I8(n,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return es(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function M4(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Vf(t.unaryFilter.field);return Ri.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Vf(t.unaryFilter.field);return Ri.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Vf(t.unaryFilter.field);return Ri.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Vf(t.unaryFilter.field);return Ri.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return es(61313);default:return es(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Ri.create(Vf(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return es(58110);default:return es(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return oc.create(t.compositeFilter.filters.map((s=>M4(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return es(1026)}})(t.compositeFilter.op))})(n):es(30097,{filter:n})}function _8(n){return v8[n]}function F8(n){return x8[n]}function U8(n){return y8[n]}function Cd(n){return{fieldPath:n.canonicalString()}}function Vf(n){return bo.fromServerFormat(n.fieldPath)}function H4(n){return n instanceof Ri?(function(t){if(t.op==="=="){if(ZB(t.value))return{unaryFilter:{field:Cd(t.field),op:"IS_NAN"}};if(qB(t.value))return{unaryFilter:{field:Cd(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(ZB(t.value))return{unaryFilter:{field:Cd(t.field),op:"IS_NOT_NAN"}};if(qB(t.value))return{unaryFilter:{field:Cd(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cd(t.field),op:F8(t.op),value:t.value}}})(n):n instanceof oc?(function(t){const s=t.getFilters().map((a=>H4(a)));return s.length===1?s[0]:{compositeFilter:{op:U8(t.op),filters:s}}})(n):es(54877,{filter:n})}function R8(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function V4(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,t,s,a,o=fs.min(),c=fs.min(),h=Bo.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=u}withSequenceNumber(e){return new Nd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Nd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Nd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Nd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D8{constructor(e){this.yt=e}}function L8(n){const e=T8({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Ov(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q8{constructor(){this.Cn=new O8}addToCollectionParentIndex(e,t){return this.Cn.add(t),It.resolve()}getCollectionParents(e,t){return It.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return It.resolve()}deleteFieldIndex(e,t){return It.resolve()}deleteAllFieldIndexes(e){return It.resolve()}createTargetIndexes(e,t){return It.resolve()}getDocumentsMatchingTarget(e,t){return It.resolve(null)}getIndexType(e,t){return It.resolve(0)}getFieldIndexes(e,t){return It.resolve([])}getNextCollectionGroupToUpdate(e){return It.resolve(null)}getMinOffset(e,t){return It.resolve(Pd.min())}getMinOffsetFromCollectionGroup(e,t){return It.resolve(Pd.min())}updateCollectionGroup(e,t,s){return It.resolve()}updateIndexEntries(e,t){return It.resolve()}}class O8{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new Ji(ma.comparator),o=!a.has(s);return this.index[t]=a.add(s),o}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Ji(ma.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h5={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},K4=41943040;class Dl{static withCacheSize(e){return new Dl(e,Dl.DEFAULT_COLLECTION_PERCENTILE,Dl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dl.DEFAULT_COLLECTION_PERCENTILE=10,Dl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dl.DEFAULT=new Dl(K4,Dl.DEFAULT_COLLECTION_PERCENTILE,Dl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dl.DISABLED=new Dl(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new lm(0)}static cr(){return new lm(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f5="LruGarbageCollector",P8=1048576;function m5([n,e],[t,s]){const a=qs(n,t);return a===0?qs(e,s):a}class k8{constructor(e){this.Ir=e,this.buffer=new Ji(m5),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();m5(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class M8{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){yn(f5,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ym(t)?yn(f5,"Ignoring IndexedDB error during garbage collection: ",t):await xm(t)}await this.Vr(3e5)}))}}class H8{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return It.resolve(xx.ce);const s=new k8(t);return this.mr.forEachTarget(e,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(yn("LruGarbageCollector","Garbage collection skipped; disabled"),It.resolve(h5)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(yn("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),h5):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,a,o,c,h,u,f;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((m=>(m>this.params.maximumSequenceNumbersToCollect?(yn("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),a=this.params.maximumSequenceNumbersToCollect):a=m,c=Date.now(),this.nthSequenceNumber(e,a)))).next((m=>(s=m,h=Date.now(),this.removeTargets(e,s,t)))).next((m=>(o=m,u=Date.now(),this.removeOrphanedDocuments(e,s)))).next((m=>(f=Date.now(),Mf()<=ir.DEBUG&&yn("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-A}ms
	Determined least recently used ${a} in `+(h-c)+`ms
	Removed ${o} targets in `+(u-h)+`ms
	Removed ${m} documents in `+(f-u)+`ms
Total Duration: ${f-A}ms`),It.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:m}))))}}function V8(n,e){return new H8(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K8{constructor(){this.changes=new af((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,qo.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?It.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z8{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G8{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(s!==null&&Qp(s.mutation,a,rA.empty(),or.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,Zs()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=Zs()){const a=Lh();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,s).next((o=>{let c=Np();return o.forEach(((h,u)=>{c=c.insert(h,u.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const s=Lh();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,Zs())))}populateOverlays(e,t,s){const a=[];return s.forEach((o=>{t.has(o)||a.push(o)})),this.documentOverlayCache.getOverlays(e,a).next((o=>{o.forEach(((c,h)=>{t.set(c,h)}))}))}computeViews(e,t,s,a){let o=Iu();const c=Lp(),h=(function(){return Lp()})();return t.forEach(((u,f)=>{const A=s.get(f.key);a.has(f.key)&&(A===void 0||A.mutation instanceof Jd)?o=o.insert(f.key,f):A!==void 0?(c.set(f.key,A.mutation.getFieldMask()),Qp(A.mutation,f,A.mutation.getFieldMask(),or.now())):c.set(f.key,rA.empty())})),this.recalculateAndSaveOverlays(e,o).next((u=>(u.forEach(((f,A)=>c.set(f,A))),t.forEach(((f,A)=>h.set(f,new z8(A,c.get(f)??null)))),h)))}recalculateAndSaveOverlays(e,t){const s=Lp();let a=new za(((c,h)=>c-h)),o=Zs();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const h of c)h.keys().forEach((u=>{const f=t.get(u);if(f===null)return;let A=s.get(u)||rA.empty();A=h.applyToLocalView(f,A),s.set(u,A);const m=(a.get(h.batchId)||Zs()).add(u);a=a.insert(h.batchId,m)}))})).next((()=>{const c=[],h=a.getReverseIterator();for(;h.hasNext();){const u=h.getNext(),f=u.key,A=u.value,m=C4();A.forEach((v=>{if(!o.has(v)){const g=_4(t.get(v),s.get(v));g!==null&&m.set(v,g),o=o.add(v)}})),c.push(this.documentOverlayCache.saveOverlays(e,f,m))}return It.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,a){return(function(c){return Hn.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):x4(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,a):this.getDocumentsMatchingCollectionQuery(e,t,s,a)}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next((o=>{const c=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-o.size):It.resolve(Lh());let h=ng,u=o;return c.next((f=>It.forEach(f,((A,m)=>(h<m.largestBatchId&&(h=m.largestBatchId),o.get(A)?It.resolve():this.remoteDocumentCache.getEntry(e,A).next((v=>{u=u.insert(A,v)}))))).next((()=>this.populateOverlays(e,f,o))).next((()=>this.computeViews(e,u,f,Zs()))).next((A=>({batchId:h,changes:B4(A)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Hn(t)).next((s=>{let a=Np();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,a){const o=t.collectionGroup;let c=Np();return this.indexManager.getCollectionParents(e,o).next((h=>It.forEach(h,(u=>{const f=(function(m,v){return new bm(v,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,s,a).next((A=>{A.forEach(((m,v)=>{c=c.insert(m,v)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,s,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,o,a)))).next((c=>{o.forEach(((u,f)=>{const A=f.getKey();c.get(A)===null&&(c=c.insert(A,qo.newInvalidDocument(A)))}));let h=Np();return c.forEach(((u,f)=>{const A=o.get(u);A!==void 0&&Qp(A.mutation,f,rA.empty(),or.now()),Bx(t,f)&&(h=h.insert(u,f))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $8{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return It.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:Kc(a.createTime)}})(t)),It.resolve()}getNamedQuery(e,t){return It.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(a){return{name:a.name,query:L8(a.bundledQuery),readTime:Kc(a.readTime)}})(t)),It.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y8{constructor(){this.overlays=new za(Hn.comparator),this.qr=new Map}getOverlay(e,t){return It.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Lh();return It.forEach(t,(a=>this.getOverlay(e,a).next((o=>{o!==null&&s.set(a,o)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((a,o)=>{this.St(e,t,o)})),It.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(s)),It.resolve()}getOverlaysForCollection(e,t,s){const a=Lh(),o=t.length+1,c=new Hn(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const u=h.getNext().value,f=u.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===o&&u.largestBatchId>s&&a.set(u.getKey(),u)}return It.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let o=new za(((f,A)=>f-A));const c=this.overlays.getIterator();for(;c.hasNext();){const f=c.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>s){let A=o.get(f.largestBatchId);A===null&&(A=Lh(),o=o.insert(f.largestBatchId,A)),A.set(f.getKey(),f)}}const h=Lh(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach(((f,A)=>h.set(f,A))),!(h.size()>=a)););return It.resolve(h)}St(e,t,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new u8(t,s));let o=this.qr.get(t);o===void 0&&(o=Zs(),this.qr.set(t,o)),this.qr.set(t,o.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W8{constructor(){this.sessionToken=Bo.EMPTY_BYTE_STRING}getSessionToken(e){return It.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,It.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(){this.Qr=new Ji(ro.$r),this.Ur=new Ji(ro.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new ro(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Gr(new ro(e,t))}zr(e,t){e.forEach((s=>this.removeReference(s,t)))}jr(e){const t=new Hn(new ma([])),s=new ro(t,e),a=new ro(t,e+1),o=[];return this.Ur.forEachInRange([s,a],(c=>{this.Gr(c),o.push(c.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Hn(new ma([])),s=new ro(t,e),a=new ro(t,e+1);let o=Zs();return this.Ur.forEachInRange([s,a],(c=>{o=o.add(c.key)})),o}containsKey(e){const t=new ro(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class ro{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Hn.comparator(e.key,t.key)||qs(e.Yr,t.Yr)}static Kr(e,t){return qs(e.Yr,t.Yr)||Hn.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X8{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Ji(ro.$r)}checkEmpty(e){return It.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,a){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new c8(o,t,s,a);this.mutationQueue.push(c);for(const h of a)this.Zr=this.Zr.add(new ro(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return It.resolve(c)}lookupMutationBatch(e,t){return It.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=this.ei(s),o=a<0?0:a;return It.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return It.resolve(this.mutationQueue.length===0?vw:this.tr-1)}getAllMutationBatches(e){return It.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new ro(t,0),a=new ro(t,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([s,a],(c=>{const h=this.Xr(c.Yr);o.push(h)})),It.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Ji(qs);return t.forEach((a=>{const o=new ro(a,0),c=new ro(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,c],(h=>{s=s.add(h.Yr)}))})),It.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let o=s;Hn.isDocumentKey(o)||(o=o.child(""));const c=new ro(new Hn(o),0);let h=new Ji(qs);return this.Zr.forEachWhile((u=>{const f=u.key.path;return!!s.isPrefixOf(f)&&(f.length===a&&(h=h.add(u.Yr)),!0)}),c),It.resolve(this.ti(h))}ti(e){const t=[];return e.forEach((s=>{const a=this.Xr(s);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){Br(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return It.forEach(t.mutations,(a=>{const o=new ro(a.key,t.batchId);return s=s.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,t){const s=new ro(t,0),a=this.Zr.firstAfterOrEqual(s);return It.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,It.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J8{constructor(e){this.ri=e,this.docs=(function(){return new za(Hn.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),o=a?a.size:0,c=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return It.resolve(s?s.document.mutableCopy():qo.newInvalidDocument(t))}getEntries(e,t){let s=Iu();return t.forEach((a=>{const o=this.docs.get(a);s=s.insert(a,o?o.document.mutableCopy():qo.newInvalidDocument(a))})),It.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let o=Iu();const c=t.path,h=new Hn(c.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(h);for(;u.hasNext();){const{key:f,value:{document:A}}=u.getNext();if(!c.isPrefixOf(f.path))break;f.path.length>c.length+1||BQ(jQ(A),s)<=0||(a.has(A.key)||Bx(t,A))&&(o=o.insert(A.key,A.mutableCopy()))}return It.resolve(o)}getAllFromCollectionGroup(e,t,s,a){es(9500)}ii(e,t){return It.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new q8(this)}getSize(e){return It.resolve(this.size)}}class q8 extends K8{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?t.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)})),It.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z8{constructor(e){this.persistence=e,this.si=new af((t=>bw(t)),ww),this.lastRemoteSnapshotVersion=fs.min(),this.highestTargetId=0,this.oi=0,this._i=new Nw,this.targetCount=0,this.ai=lm.ur()}forEachTarget(e,t){return this.si.forEach(((s,a)=>t(a))),It.resolve()}getLastRemoteSnapshotVersion(e){return It.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return It.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),It.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),It.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new lm(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,It.resolve()}updateTargetData(e,t){return this.Pr(t),It.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,It.resolve()}removeTargets(e,t,s){let a=0;const o=[];return this.si.forEach(((c,h)=>{h.sequenceNumber<=t&&s.get(h.targetId)===null&&(this.si.delete(c),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),It.waitFor(o).next((()=>a))}getTargetCount(e){return It.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return It.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),It.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const a=this.persistence.referenceDelegate,o=[];return a&&t.forEach((c=>{o.push(a.markPotentiallyOrphaned(e,c))})),It.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),It.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return It.resolve(s)}containsKey(e,t){return It.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(e,t){this.ui={},this.overlays={},this.ci=new xx(0),this.li=!1,this.li=!0,this.hi=new W8,this.referenceDelegate=e(this),this.Pi=new Z8(this),this.indexManager=new Q8,this.remoteDocumentCache=(function(a){return new J8(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new D8(t),this.Ii=new $8(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Y8,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new X8(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){yn("MemoryPersistence","Starting transaction:",e);const a=new eO(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((o=>this.referenceDelegate.di(a).next((()=>o)))).toPromise().then((o=>(a.raiseOnCommittedEvent(),o)))}Ai(e,t){return It.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,t))))}}class eO extends SQ{constructor(e){super(),this.currentSequenceNumber=e}}class Ew{constructor(e){this.persistence=e,this.Ri=new Nw,this.Vi=null}static mi(e){return new Ew(e)}get fi(){if(this.Vi)return this.Vi;throw es(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),It.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),It.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),It.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((o=>this.fi.add(o.toString())))})).next((()=>s.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return It.forEach(this.fi,(s=>{const a=Hn.fromPath(s);return this.gi(e,a).next((o=>{o||t.removeEntry(a,fs.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return It.or([()=>It.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Hv{constructor(e,t){this.persistence=e,this.pi=new af((s=>TQ(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=V8(this,t)}static mi(e,t){return new Hv(e,t)}Ei(){}di(e){return It.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((a=>s+a))))}wr(e){let t=0;return this.pr(e,(s=>{t++})).next((()=>t))}pr(e,t){return It.forEach(this.pi,((s,a)=>this.br(e,s,a).next((o=>o?It.resolve():t(a)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,t).next((h=>{h||(s++,o.removeEntry(c,fs.min()))})))).next((()=>o.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),It.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),It.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),It.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),It.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=uv(e.data.value)),t}br(e,t,s){return It.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.pi.get(t);return It.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=a}static As(e,t){let s=Zs(),a=Zs();for(const o of t.docChanges)switch(o.type){case 0:s=s.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new Tw(e,t.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return pU()?8:NQ(tl())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,a){const o={result:null};return this.ys(e,t).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ws(e,t,a,s).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new tO;return this.Ss(e,t,c).next((h=>{if(o.result=h,this.Vs)return this.bs(e,t,c,h.size)}))})).next((()=>o.result))}bs(e,t,s,a){return s.documentReadCount<this.fs?(Mf()<=ir.DEBUG&&yn("QueryEngine","SDK will not create cache indexes for query:",Hf(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),It.resolve()):(Mf()<=ir.DEBUG&&yn("QueryEngine","Query:",Hf(t),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(Mf()<=ir.DEBUG&&yn("QueryEngine","The SDK decides to create cache indexes for query:",Hf(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vc(t))):It.resolve())}ys(e,t){if(s5(t))return It.resolve(null);let s=Vc(t);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=Ov(t,null,"F"),s=Vc(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((o=>{const c=Zs(...o);return this.ps.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,s).next((u=>{const f=this.Ds(t,h);return this.Cs(t,f,c,u.readTime)?this.ys(e,Ov(t,null,"F")):this.vs(e,f,t,u)}))))})))))}ws(e,t,s,a){return s5(t)||a.isEqual(fs.min())?It.resolve(null):this.ps.getDocuments(e,s).next((o=>{const c=this.Ds(t,o);return this.Cs(t,c,s,a)?It.resolve(null):(Mf()<=ir.DEBUG&&yn("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Hf(t)),this.vs(e,c,t,wQ(a,ng)).next((h=>h)))}))}Ds(e,t){let s=new Ji(w4(e));return t.forEach(((a,o)=>{Bx(e,o)&&(s=s.add(o))})),s}Cs(e,t,s,a){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}Ss(e,t,s){return Mf()<=ir.DEBUG&&yn("QueryEngine","Using full collection scan to execute query:",Hf(t)),this.ps.getDocumentsMatchingQuery(e,t,Pd.min(),s)}vs(e,t,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next((o=>(t.forEach((c=>{o=o.insert(c.key,c)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw="LocalStore",sO=3e8;class rO{constructor(e,t,s,a){this.persistence=e,this.Fs=t,this.serializer=a,this.Ms=new za(qs),this.xs=new af((o=>bw(o)),ww),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new G8(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function aO(n,e,t,s){return new rO(n,e,t,s)}async function G4(n,e){const t=As(n);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next((o=>(a=o,t.Bs(e),t.mutationQueue.getAllMutationBatches(s)))).next((o=>{const c=[],h=[];let u=Zs();for(const f of a){c.push(f.batchId);for(const A of f.mutations)u=u.add(A.key)}for(const f of o){h.push(f.batchId);for(const A of f.mutations)u=u.add(A.key)}return t.localDocuments.getDocuments(s,u).next((f=>({Ls:f,removedBatchIds:c,addedBatchIds:h})))}))}))}function iO(n,e){const t=As(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),o=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,u,f,A){const m=f.batch,v=m.keys();let g=It.resolve();return v.forEach((b=>{g=g.next((()=>A.getEntry(u,b))).next((I=>{const N=f.docVersions.get(b);Br(N!==null,48541),I.version.compareTo(N)<0&&(m.applyToRemoteDocument(I,f),I.isValidDocument()&&(I.setReadTime(f.commitVersion),A.addEntry(I)))}))})),g.next((()=>h.mutationQueue.removeMutationBatch(u,m)))})(t,s,e,o).next((()=>o.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(h){let u=Zs();for(let f=0;f<h.mutationResults.length;++f)h.mutationResults[f].transformResults.length>0&&(u=u.add(h.batch.mutations[f].key));return u})(e)))).next((()=>t.localDocuments.getDocuments(s,a)))}))}function $4(n){const e=As(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function oO(n,e){const t=As(n),s=e.snapshotVersion;let a=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});a=t.Ms;const h=[];e.targetChanges.forEach(((A,m)=>{const v=a.get(m);if(!v)return;h.push(t.Pi.removeMatchingKeys(o,A.removedDocuments,m).next((()=>t.Pi.addMatchingKeys(o,A.addedDocuments,m))));let g=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(m)!==null?g=g.withResumeToken(Bo.EMPTY_BYTE_STRING,fs.min()).withLastLimboFreeSnapshotVersion(fs.min()):A.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(A.resumeToken,s)),a=a.insert(m,g),(function(I,N,S){return I.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=sO?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0})(v,g,A)&&h.push(t.Pi.updateTargetData(o,g))}));let u=Iu(),f=Zs();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(o,A))})),h.push(lO(o,c,e.documentUpdates).next((A=>{u=A.ks,f=A.qs}))),!s.isEqual(fs.min())){const A=t.Pi.getLastRemoteSnapshotVersion(o).next((m=>t.Pi.setTargetsMetadata(o,o.currentSequenceNumber,s)));h.push(A)}return It.waitFor(h).next((()=>c.apply(o))).next((()=>t.localDocuments.getLocalViewOfDocuments(o,u,f))).next((()=>u))})).then((o=>(t.Ms=a,o)))}function lO(n,e,t){let s=Zs(),a=Zs();return t.forEach((o=>s=s.add(o))),e.getEntries(n,s).next((o=>{let c=Iu();return t.forEach(((h,u)=>{const f=o.get(h);u.isFoundDocument()!==f.isFoundDocument()&&(a=a.add(h)),u.isNoDocument()&&u.version.isEqual(fs.min())?(e.removeEntry(h,u.readTime),c=c.insert(h,u)):!f.isValidDocument()||u.version.compareTo(f.version)>0||u.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(u),c=c.insert(h,u)):yn(Iw,"Ignoring outdated watch update for ",h,". Current version:",f.version," Watch version:",u.version)})),{ks:c,qs:a}}))}function AO(n,e){const t=As(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=vw),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function cO(n,e){const t=As(n);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return t.Pi.getTargetData(s,e).next((o=>o?(a=o,It.resolve(a)):t.Pi.allocateTargetId(s).next((c=>(a=new Nd(e,c,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=t.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s}))}async function ab(n,e,t){const s=As(n),a=s.Ms.get(e),o=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",o,(c=>s.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!ym(c))throw c;yn(Iw,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function p5(n,e,t){const s=As(n);let a=fs.min(),o=Zs();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(u,f,A){const m=As(u),v=m.xs.get(A);return v!==void 0?It.resolve(m.Ms.get(v)):m.Pi.getTargetData(f,A)})(s,c,Vc(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,h.targetId).next((u=>{o=u}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,e,t?a:fs.min(),t?o:Zs()))).next((h=>(uO(s,WQ(e),h),{documents:h,Qs:o})))))}function uO(n,e,t){let s=n.Os.get(e)||fs.min();t.forEach(((a,o)=>{o.readTime.compareTo(s)>0&&(s=o.readTime)})),n.Os.set(e,s)}class g5{constructor(){this.activeTargetIds=t8()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dO{constructor(){this.Mo=new g5,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new g5,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v5="ConnectivityMonitor";class x5{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){yn(v5,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){yn(v5,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let M0=null;function ib(){return M0===null?M0=(function(){return 268435456+Math.round(2147483648*Math.random())})():M0++,"0x"+M0.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy="RestConnection",fO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mO{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===Dv?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,t,s,a,o){const c=ib(),h=this.zo(e,t.toUriEncodedString());yn(Hy,`Sending RPC '${e}' ${c}:`,h,s);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,a,o);const{host:f}=new URL(h),A=Yd(f);return this.Jo(e,h,u,s,A).then((m=>(yn(Hy,`Received RPC '${e}' ${c}: `,m),m)),(m=>{throw rm(Hy,`RPC '${e}' ${c} failed with error: `,m,"url: ",h,"request:",s),m}))}Ho(e,t,s,a,o,c){return this.Go(e,t,s,a,o)}jo(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+vm})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,o)=>e[o]=a)),s&&s.headers.forEach(((a,o)=>e[o]=a))}zo(e,t){const s=fO[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go="WebChannelConnection";class gO extends mO{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,a,o){const c=ib();return new Promise(((h,u)=>{const f=new YE;f.setWithCredentials(!0),f.listenOnce(WE.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case cv.NO_ERROR:const m=f.getResponseJson();yn(Go,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(m)),h(m);break;case cv.TIMEOUT:yn(Go,`RPC '${e}' ${c} timed out`),u(new an(bt.DEADLINE_EXCEEDED,"Request time out"));break;case cv.HTTP_ERROR:const v=f.getStatus();if(yn(Go,`RPC '${e}' ${c} failed with status:`,v,"response text:",f.getResponseText()),v>0){let g=f.getResponseJson();Array.isArray(g)&&(g=g[0]);const b=g==null?void 0:g.error;if(b&&b.status&&b.message){const I=(function(S){const E=S.toLowerCase().replace(/_/g,"-");return Object.values(bt).indexOf(E)>=0?E:bt.UNKNOWN})(b.status);u(new an(I,b.message))}else u(new an(bt.UNKNOWN,"Server responded with status "+f.getStatus()))}else u(new an(bt.UNAVAILABLE,"Connection failed."));break;default:es(9055,{l_:e,streamId:c,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{yn(Go,`RPC '${e}' ${c} completed.`)}}));const A=JSON.stringify(a);yn(Go,`RPC '${e}' ${c} sending request:`,a),f.send(t,"POST",A,s,15)}))}T_(e,t,s){const a=ib(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=qE(),h=JE(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(u.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,t,s),u.encodeInitMessageHeaders=!0;const A=o.join("");yn(Go,`Creating RPC '${e}' stream ${a}: ${A}`,u);const m=c.createWebChannel(A,u);this.I_(m);let v=!1,g=!1;const b=new pO({Yo:N=>{g?yn(Go,`Not sending because RPC '${e}' stream ${a} is closed:`,N):(v||(yn(Go,`Opening RPC '${e}' stream ${a} transport.`),m.open(),v=!0),yn(Go,`RPC '${e}' stream ${a} sending:`,N),m.send(N))},Zo:()=>m.close()}),I=(N,S,E)=>{N.listen(S,(_=>{try{E(_)}catch(R){setTimeout((()=>{throw R}),0)}}))};return I(m,Sp.EventType.OPEN,(()=>{g||(yn(Go,`RPC '${e}' stream ${a} transport opened.`),b.o_())})),I(m,Sp.EventType.CLOSE,(()=>{g||(g=!0,yn(Go,`RPC '${e}' stream ${a} transport closed`),b.a_(),this.E_(m))})),I(m,Sp.EventType.ERROR,(N=>{g||(g=!0,rm(Go,`RPC '${e}' stream ${a} transport errored. Name:`,N.name,"Message:",N.message),b.a_(new an(bt.UNAVAILABLE,"The operation could not be completed")))})),I(m,Sp.EventType.MESSAGE,(N=>{var S;if(!g){const E=N.data[0];Br(!!E,16349);const _=E,R=(_==null?void 0:_.error)||((S=_[0])==null?void 0:S.error);if(R){yn(Go,`RPC '${e}' stream ${a} received error:`,R);const L=R.status;let H=(function(O){const $=_i[O];if($!==void 0)return U4($)})(L),D=R.message;H===void 0&&(H=bt.INTERNAL,D="Unknown error status: "+L+" with message "+R.message),g=!0,b.a_(new an(H,D)),m.close()}else yn(Go,`RPC '${e}' stream ${a} received:`,E),b.u_(E)}})),I(h,XE.STAT_EVENT,(N=>{N.stat===Y1.PROXY?yn(Go,`RPC '${e}' stream ${a} detected buffering proxy`):N.stat===Y1.NOPROXY&&yn(Go,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{b.__()}),0),b}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Vy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(n){return new b8(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(e,t,s=1e3,a=1.5,o=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=a,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-s);a>0&&yn("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y5="PersistentStream";class W4{constructor(e,t,s,a,o,c,h,u){this.Mi=e,this.S_=s,this.b_=a,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Y4(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===bt.RESOURCE_EXHAUSTED?(Tu(t.toString()),Tu("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===bt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===t&&this.G_(s,a)}),(s=>{e((()=>{const a=new an(bt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return yn(y5,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(yn(y5,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class vO extends W4{constructor(e,t,s,a,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,c),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=B8(this.serializer,e),s=(function(o){if(!("targetChange"in o))return fs.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?fs.min():c.readTime?Kc(c.readTime):fs.min()})(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=rb(this.serializer),t.addTarget=(function(o,c){let h;const u=c.target;if(h=Z1(u)?{documents:N8(o,u)}:{query:k4(o,u).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=L4(o,c.resumeToken);const f=tb(o,c.expectedCount);f!==null&&(h.expectedCount=f)}else if(c.snapshotVersion.compareTo(fs.min())>0){h.readTime=Mv(o,c.snapshotVersion.toTimestamp());const f=tb(o,c.expectedCount);f!==null&&(h.expectedCount=f)}return h})(this.serializer,e);const s=I8(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=rb(this.serializer),t.removeTarget=e,this.q_(t)}}class xO extends W4{constructor(e,t,s,a,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,c),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Br(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Br(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Br(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=S8(e.writeResults,e.commitTime),s=Kc(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=rb(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>C8(this.serializer,s)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{}class bO extends yO{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new an(bt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Go(e,nb(t,s),a,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===bt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new an(bt.UNKNOWN,o.toString())}))}Ho(e,t,s,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Ho(e,nb(t,s),a,c,h,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===bt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new an(bt.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class wO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Tu(t),this.aa=!1):yn("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zh="RemoteStore";class jO{constructor(e,t,s,a,o){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{of(this)&&(yn(Zh,"Restarting streams for network reachability change."),await(async function(u){const f=As(u);f.Ea.add(4),await Tg(f),f.Ra.set("Unknown"),f.Ea.delete(4),await Ix(f)})(this))}))})),this.Ra=new wO(s,a)}}async function Ix(n){if(of(n))for(const e of n.da)await e(!0)}async function Tg(n){for(const e of n.da)await e(!1)}function X4(n,e){const t=As(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Rw(t)?Uw(t):wm(t).O_()&&Fw(t,e))}function _w(n,e){const t=As(n),s=wm(t);t.Ia.delete(e),s.O_()&&J4(t,e),t.Ia.size===0&&(s.O_()?s.L_():of(t)&&t.Ra.set("Unknown"))}function Fw(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(fs.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}wm(n).Y_(e)}function J4(n,e){n.Va.Ue(e),wm(n).Z_(e)}function Uw(n){n.Va=new g8({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),wm(n).start(),n.Ra.ua()}function Rw(n){return of(n)&&!wm(n).x_()&&n.Ia.size>0}function of(n){return As(n).Ea.size===0}function q4(n){n.Va=void 0}async function BO(n){n.Ra.set("Online")}async function CO(n){n.Ia.forEach(((e,t)=>{Fw(n,e)}))}async function SO(n,e){q4(n),Rw(n)?(n.Ra.ha(e),Uw(n)):n.Ra.set("Unknown")}async function NO(n,e,t){if(n.Ra.set("Online"),e instanceof D4&&e.state===2&&e.cause)try{await(async function(a,o){const c=o.cause;for(const h of o.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,c),a.Ia.delete(h),a.Va.removeTarget(h))})(n,e)}catch(s){yn(Zh,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Vv(n,s)}else if(e instanceof fv?n.Va.Ze(e):e instanceof R4?n.Va.st(e):n.Va.tt(e),!t.isEqual(fs.min()))try{const s=await $4(n.localStore);t.compareTo(s)>=0&&await(function(o,c){const h=o.Va.Tt(c);return h.targetChanges.forEach(((u,f)=>{if(u.resumeToken.approximateByteSize()>0){const A=o.Ia.get(f);A&&o.Ia.set(f,A.withResumeToken(u.resumeToken,c))}})),h.targetMismatches.forEach(((u,f)=>{const A=o.Ia.get(u);if(!A)return;o.Ia.set(u,A.withResumeToken(Bo.EMPTY_BYTE_STRING,A.snapshotVersion)),J4(o,u);const m=new Nd(A.target,u,f,A.sequenceNumber);Fw(o,m)})),o.remoteSyncer.applyRemoteEvent(h)})(n,t)}catch(s){yn(Zh,"Failed to raise snapshot:",s),await Vv(n,s)}}async function Vv(n,e,t){if(!ym(e))throw e;n.Ea.add(1),await Tg(n),n.Ra.set("Offline"),t||(t=()=>$4(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{yn(Zh,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Ix(n)}))}function Z4(n,e){return e().catch((t=>Vv(n,t,e)))}async function _x(n){const e=As(n),t=Vd(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:vw;for(;EO(e);)try{const a=await AO(e.localStore,s);if(a===null){e.Ta.length===0&&t.L_();break}s=a.batchId,TO(e,a)}catch(a){await Vv(e,a)}eT(e)&&tT(e)}function EO(n){return of(n)&&n.Ta.length<10}function TO(n,e){n.Ta.push(e);const t=Vd(n);t.O_()&&t.X_&&t.ea(e.mutations)}function eT(n){return of(n)&&!Vd(n).x_()&&n.Ta.length>0}function tT(n){Vd(n).start()}async function IO(n){Vd(n).ra()}async function _O(n){const e=Vd(n);for(const t of n.Ta)e.ea(t.mutations)}async function FO(n,e,t){const s=n.Ta.shift(),a=Bw.from(s,e,t);await Z4(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await _x(n)}async function UO(n,e){e&&Vd(n).X_&&await(async function(s,a){if((function(c){return f8(c)&&c!==bt.ABORTED})(a.code)){const o=s.Ta.shift();Vd(s).B_(),await Z4(s,(()=>s.remoteSyncer.rejectFailedWrite(o.batchId,a))),await _x(s)}})(n,e),eT(n)&&tT(n)}async function b5(n,e){const t=As(n);t.asyncQueue.verifyOperationInProgress(),yn(Zh,"RemoteStore received new credentials");const s=of(t);t.Ea.add(3),await Tg(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Ix(t)}async function RO(n,e){const t=As(n);e?(t.Ea.delete(2),await Ix(t)):e||(t.Ea.add(2),await Tg(t),t.Ra.set("Unknown"))}function wm(n){return n.ma||(n.ma=(function(t,s,a){const o=As(t);return o.sa(),new vO(s,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(n.datastore,n.asyncQueue,{Xo:BO.bind(null,n),t_:CO.bind(null,n),r_:SO.bind(null,n),H_:NO.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),Rw(n)?Uw(n):n.Ra.set("Unknown")):(await n.ma.stop(),q4(n))}))),n.ma}function Vd(n){return n.fa||(n.fa=(function(t,s,a){const o=As(t);return o.sa(),new xO(s,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:IO.bind(null,n),r_:UO.bind(null,n),ta:_O.bind(null,n),na:FO.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await _x(n)):(await n.fa.stop(),n.Ta.length>0&&(yn(Zh,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e,t,s,a,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=o,this.deferred=new Hc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,a,o){const c=Date.now()+s,h=new Dw(e,t,c,a,o);return h.start(s),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new an(bt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lw(n,e){if(Tu("AsyncQueue",`${e}: ${n}`),ym(n))return new an(bt.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{static emptySet(e){return new tm(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||Hn.comparator(t.key,s.key):(t,s)=>Hn.comparator(t.key,s.key),this.keyedMap=Np(),this.sortedSet=new za(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof tm)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=s.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new tm;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(){this.ga=new za(Hn.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):es(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class Am{constructor(e,t,s,a,o,c,h,u,f){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=u,this.hasCachedResults=f}static fromInitialDocuments(e,t,s,a,o){const c=[];return t.forEach((h=>{c.push({type:0,doc:h})})),new Am(e,t,tm.emptySet(t),c,s,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jx(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class LO{constructor(){this.queries=j5(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const a=As(t),o=a.queries;a.queries=j5(),o.forEach(((c,h)=>{for(const u of h.Sa)u.onError(s)}))})(this,new an(bt.ABORTED,"Firestore shutting down"))}}function j5(){return new af((n=>b4(n)),jx)}async function Qw(n,e){const t=As(n);let s=3;const a=e.query;let o=t.queries.get(a);o?!o.ba()&&e.Da()&&(s=2):(o=new DO,s=e.Da()?0:1);try{switch(s){case 0:o.wa=await t.onListen(a,!0);break;case 1:o.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const h=Lw(c,`Initialization of query '${Hf(e.query)}' failed`);return void e.onError(h)}t.queries.set(a,o),o.Sa.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&Pw(t)}async function Ow(n,e){const t=As(n),s=e.query;let a=3;const o=t.queries.get(s);if(o){const c=o.Sa.indexOf(e);c>=0&&(o.Sa.splice(c,1),o.Sa.length===0?a=e.Da()?0:1:!o.ba()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function QO(n,e){const t=As(n);let s=!1;for(const a of e){const o=a.query,c=t.queries.get(o);if(c){for(const h of c.Sa)h.Fa(a)&&(s=!0);c.wa=a}}s&&Pw(t)}function OO(n,e,t){const s=As(n),a=s.queries.get(e);if(a)for(const o of a.Sa)o.onError(t);s.queries.delete(e)}function Pw(n){n.Ca.forEach((e=>{e.next()}))}var ob,B5;(B5=ob||(ob={})).Ma="default",B5.Cache="cache";class kw{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Am(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Am.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ob.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e){this.key=e}}class sT{constructor(e){this.key=e}}class PO{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Zs(),this.mutatedKeys=Zs(),this.eu=w4(e),this.tu=new tm(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new w5,a=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,c=a,h=!1;const u=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,f=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((A,m)=>{const v=a.get(A),g=Bx(this.query,m)?m:null,b=!!v&&this.mutatedKeys.has(v.key),I=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let N=!1;v&&g?v.data.isEqual(g.data)?b!==I&&(s.track({type:3,doc:g}),N=!0):this.su(v,g)||(s.track({type:2,doc:g}),N=!0,(u&&this.eu(g,u)>0||f&&this.eu(g,f)<0)&&(h=!0)):!v&&g?(s.track({type:0,doc:g}),N=!0):v&&!g&&(s.track({type:1,doc:v}),N=!0,(u||f)&&(h=!0)),N&&(g?(c=c.add(g),o=I?o.add(A):o.delete(A)):(c=c.delete(A),o=o.delete(A)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const A=this.query.limitType==="F"?c.last():c.first();c=c.delete(A.key),o=o.delete(A.key),s.track({type:1,doc:A})}return{tu:c,iu:s,Cs:h,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,a){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((A,m)=>(function(g,b){const I=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return es(20277,{Rt:N})}};return I(g)-I(b)})(A.type,m.type)||this.eu(A.doc,m.doc))),this.ou(s),a=a??!1;const h=t&&!a?this._u():[],u=this.Xa.size===0&&this.current&&!a?1:0,f=u!==this.Za;return this.Za=u,c.length!==0||f?{snapshot:new Am(this.query,e.tu,o,c,e.mutatedKeys,u===0,f,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new w5,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Zs(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const t=[];return e.forEach((s=>{this.Xa.has(s)||t.push(new sT(s))})),this.Xa.forEach((s=>{e.has(s)||t.push(new nT(s))})),t}cu(e){this.Ya=e.Qs,this.Xa=Zs();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Am.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Mw="SyncEngine";class kO{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class MO{constructor(e){this.key=e,this.hu=!1}}class HO{constructor(e,t,s,a,o,c){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new af((h=>b4(h)),jx),this.Iu=new Map,this.Eu=new Set,this.du=new za(Hn.comparator),this.Au=new Map,this.Ru=new Nw,this.Vu={},this.mu=new Map,this.fu=lm.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function VO(n,e,t=!0){const s=AT(n);let a;const o=s.Tu.get(e);return o?(s.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.lu()):a=await rT(s,e,t,!0),a}async function KO(n,e){const t=AT(n);await rT(t,e,!0,!1)}async function rT(n,e,t,s){const a=await cO(n.localStore,Vc(e)),o=a.targetId,c=n.sharedClientState.addLocalQueryTarget(o,t);let h;return s&&(h=await zO(n,e,o,c==="current",a.resumeToken)),n.isPrimaryClient&&t&&X4(n.remoteStore,a),h}async function zO(n,e,t,s,a){n.pu=(m,v,g)=>(async function(I,N,S,E){let _=N.view.ru(S);_.Cs&&(_=await p5(I.localStore,N.query,!1).then((({documents:D})=>N.view.ru(D,_))));const R=E&&E.targetChanges.get(N.targetId),L=E&&E.targetMismatches.get(N.targetId)!=null,H=N.view.applyChanges(_,I.isPrimaryClient,R,L);return S5(I,N.targetId,H.au),H.snapshot})(n,m,v,g);const o=await p5(n.localStore,e,!0),c=new PO(e,o.Qs),h=c.ru(o.documents),u=Eg.createSynthesizedTargetChangeForCurrentChange(t,s&&n.onlineState!=="Offline",a),f=c.applyChanges(h,n.isPrimaryClient,u);S5(n,t,f.au);const A=new kO(e,t,c);return n.Tu.set(e,A),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),f.snapshot}async function GO(n,e,t){const s=As(n),a=s.Tu.get(e),o=s.Iu.get(a.targetId);if(o.length>1)return s.Iu.set(a.targetId,o.filter((c=>!jx(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await ab(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),t&&_w(s.remoteStore,a.targetId),lb(s,a.targetId)})).catch(xm)):(lb(s,a.targetId),await ab(s.localStore,a.targetId,!0))}async function $O(n,e){const t=As(n),s=t.Tu.get(e),a=t.Iu.get(s.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),_w(t.remoteStore,s.targetId))}async function YO(n,e,t){const s=tP(n);try{const a=await(function(c,h){const u=As(c),f=or.now(),A=h.reduce(((g,b)=>g.add(b.key)),Zs());let m,v;return u.persistence.runTransaction("Locally write mutations","readwrite",(g=>{let b=Iu(),I=Zs();return u.Ns.getEntries(g,A).next((N=>{b=N,b.forEach(((S,E)=>{E.isValidDocument()||(I=I.add(S))}))})).next((()=>u.localDocuments.getOverlayedDocuments(g,b))).next((N=>{m=N;const S=[];for(const E of h){const _=l8(E,m.get(E.key).overlayedDocument);_!=null&&S.push(new Jd(E.key,_,d4(_.value.mapValue),Ol.exists(!0)))}return u.mutationQueue.addMutationBatch(g,f,S,h)})).next((N=>{v=N;const S=N.applyToLocalDocumentSet(m,I);return u.documentOverlayCache.saveOverlays(g,N.batchId,S)}))})).then((()=>({batchId:v.batchId,changes:B4(m)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(c,h,u){let f=c.Vu[c.currentUser.toKey()];f||(f=new za(qs)),f=f.insert(h,u),c.Vu[c.currentUser.toKey()]=f})(s,a.batchId,t),await Ig(s,a.changes),await _x(s.remoteStore)}catch(a){const o=Lw(a,"Failed to persist write");t.reject(o)}}async function aT(n,e){const t=As(n);try{const s=await oO(t.localStore,e);e.targetChanges.forEach(((a,o)=>{const c=t.Au.get(o);c&&(Br(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?Br(c.hu,14607):a.removedDocuments.size>0&&(Br(c.hu,42227),c.hu=!1))})),await Ig(t,s,e)}catch(s){await xm(s)}}function C5(n,e,t){const s=As(n);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const a=[];s.Tu.forEach(((o,c)=>{const h=c.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(c,h){const u=As(c);u.onlineState=h;let f=!1;u.queries.forEach(((A,m)=>{for(const v of m.Sa)v.va(h)&&(f=!0)})),f&&Pw(u)})(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function WO(n,e,t){const s=As(n);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.Au.get(e),o=a&&a.key;if(o){let c=new za(Hn.comparator);c=c.insert(o,qo.newNoDocument(o,fs.min()));const h=Zs().add(o),u=new Ex(fs.min(),new Map,new za(qs),c,h);await aT(s,u),s.du=s.du.remove(o),s.Au.delete(e),Hw(s)}else await ab(s.localStore,e,!1).then((()=>lb(s,e,t))).catch(xm)}async function XO(n,e){const t=As(n),s=e.batch.batchId;try{const a=await iO(t.localStore,e);oT(t,s,null),iT(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Ig(t,a)}catch(a){await xm(a)}}async function JO(n,e,t){const s=As(n);try{const a=await(function(c,h){const u=As(c);return u.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let A;return u.mutationQueue.lookupMutationBatch(f,h).next((m=>(Br(m!==null,37113),A=m.keys(),u.mutationQueue.removeMutationBatch(f,m)))).next((()=>u.mutationQueue.performConsistencyCheck(f))).next((()=>u.documentOverlayCache.removeOverlaysForBatchId(f,A,h))).next((()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,A))).next((()=>u.localDocuments.getDocuments(f,A)))}))})(s.localStore,e);oT(s,e,t),iT(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Ig(s,a)}catch(a){await xm(a)}}function iT(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function oT(n,e,t){const s=As(n);let a=s.Vu[s.currentUser.toKey()];if(a){const o=a.get(e);o&&(t?o.reject(t):o.resolve(),a=a.remove(e)),s.Vu[s.currentUser.toKey()]=a}}function lb(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.Iu.get(e))n.Tu.delete(s),t&&n.Pu.yu(s,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((s=>{n.Ru.containsKey(s)||lT(n,s)}))}function lT(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(_w(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),Hw(n))}function S5(n,e,t){for(const s of t)s instanceof nT?(n.Ru.addReference(s.key,e),qO(n,s)):s instanceof sT?(yn(Mw,"Document no longer in limbo: "+s.key),n.Ru.removeReference(s.key,e),n.Ru.containsKey(s.key)||lT(n,s.key)):es(19791,{wu:s})}function qO(n,e){const t=e.key,s=t.path.canonicalString();n.du.get(t)||n.Eu.has(s)||(yn(Mw,"New document in limbo: "+t),n.Eu.add(s),Hw(n))}function Hw(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Hn(ma.fromString(e)),s=n.fu.next();n.Au.set(s,new MO(t)),n.du=n.du.insert(t,s),X4(n.remoteStore,new Nd(Vc(wx(t.path)),s,"TargetPurposeLimboResolution",xx.ce))}}async function Ig(n,e,t){const s=As(n),a=[],o=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((h,u)=>{c.push(s.pu(u,e,t).then((f=>{var A;if((f||t)&&s.isPrimaryClient){const m=f?!f.fromCache:(A=t==null?void 0:t.targetChanges.get(u.targetId))==null?void 0:A.current;s.sharedClientState.updateQueryState(u.targetId,m?"current":"not-current")}if(f){a.push(f);const m=Tw.As(u.targetId,f);o.push(m)}})))})),await Promise.all(c),s.Pu.H_(a),await(async function(u,f){const A=As(u);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>It.forEach(f,(v=>It.forEach(v.Es,(g=>A.persistence.referenceDelegate.addReference(m,v.targetId,g))).next((()=>It.forEach(v.ds,(g=>A.persistence.referenceDelegate.removeReference(m,v.targetId,g)))))))))}catch(m){if(!ym(m))throw m;yn(Iw,"Failed to update sequence numbers: "+m)}for(const m of f){const v=m.targetId;if(!m.fromCache){const g=A.Ms.get(v),b=g.snapshotVersion,I=g.withLastLimboFreeSnapshotVersion(b);A.Ms=A.Ms.insert(v,I)}}})(s.localStore,o))}async function ZO(n,e){const t=As(n);if(!t.currentUser.isEqual(e)){yn(Mw,"User change. New user:",e.toKey());const s=await G4(t.localStore,e);t.currentUser=e,(function(o,c){o.mu.forEach((h=>{h.forEach((u=>{u.reject(new an(bt.CANCELLED,c))}))})),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Ig(t,s.Ls)}}function eP(n,e){const t=As(n),s=t.Au.get(e);if(s&&s.hu)return Zs().add(s.key);{let a=Zs();const o=t.Iu.get(e);if(!o)return a;for(const c of o){const h=t.Tu.get(c);a=a.unionWith(h.view.nu)}return a}}function AT(n){const e=As(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=aT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=eP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=WO.bind(null,e),e.Pu.H_=QO.bind(null,e.eventManager),e.Pu.yu=OO.bind(null,e.eventManager),e}function tP(n){const e=As(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=XO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=JO.bind(null,e),e}class Kv{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Tx(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return aO(this.persistence,new nO,e.initialUser,this.serializer)}Cu(e){return new z4(Ew.mi,this.serializer)}Du(e){return new dO}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Kv.provider={build:()=>new Kv};class nP extends Kv{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Br(this.persistence.referenceDelegate instanceof Hv,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new M8(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Dl.withCacheSize(this.cacheSizeBytes):Dl.DEFAULT;return new z4((s=>Hv.mi(s,t)),this.serializer)}}class Ab{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>C5(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=ZO.bind(null,this.syncEngine),await RO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new LO})()}createDatastore(e){const t=Tx(e.databaseInfo.databaseId),s=(function(o){return new gO(o)})(e.databaseInfo);return(function(o,c,h,u){return new bO(o,c,h,u)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,a,o,c,h){return new jO(s,a,o,c,h)})(this.localStore,this.datastore,e.asyncQueue,(t=>C5(this.syncEngine,t,0)),(function(){return x5.v()?new x5:new hO})())}createSyncEngine(e,t){return(function(a,o,c,h,u,f,A){const m=new HO(a,o,c,h,u,f);return A&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(a){const o=As(a);yn(Zh,"RemoteStore shutting down."),o.Ea.add(5),await Tg(o),o.Aa.shutdown(),o.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}Ab.provider={build:()=>new Ab};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Tu("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd="FirestoreClient";class sP{constructor(e,t,s,a,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=Jo.UNAUTHENTICATED,this.clientId=gw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(s,(async c=>{yn(Kd,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(yn(Kd,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Lw(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Ky(n,e){n.asyncQueue.verifyOperationInProgress(),yn(Kd,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener((async a=>{s.isEqual(a)||(await G4(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function N5(n,e){n.asyncQueue.verifyOperationInProgress();const t=await rP(n);yn(Kd,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((s=>b5(e.remoteStore,s))),n.setAppCheckTokenChangeListener(((s,a)=>b5(e.remoteStore,a))),n._onlineComponents=e}async function rP(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){yn(Kd,"Using user provided OfflineComponentProvider");try{await Ky(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===bt.FAILED_PRECONDITION||a.code===bt.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;rm("Error using user provided cache. Falling back to memory cache: "+t),await Ky(n,new Kv)}}else yn(Kd,"Using default OfflineComponentProvider"),await Ky(n,new nP(void 0));return n._offlineComponents}async function Kw(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(yn(Kd,"Using user provided OnlineComponentProvider"),await N5(n,n._uninitializedComponentsProvider._online)):(yn(Kd,"Using default OnlineComponentProvider"),await N5(n,new Ab))),n._onlineComponents}function aP(n){return Kw(n).then((e=>e.syncEngine))}function iP(n){return Kw(n).then((e=>e.datastore))}async function zv(n){const e=await Kw(n),t=e.eventManager;return t.onListen=VO.bind(null,e.syncEngine),t.onUnlisten=GO.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=KO.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=$O.bind(null,e.syncEngine),t}function oP(n,e,t={}){const s=new Hc;return n.asyncQueue.enqueueAndForget((async()=>(function(o,c,h,u,f){const A=new Vw({next:v=>{A.Nu(),c.enqueueAndForget((()=>Ow(o,m)));const g=v.docs.has(h);!g&&v.fromCache?f.reject(new an(bt.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&v.fromCache&&u&&u.source==="server"?f.reject(new an(bt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(v)},error:v=>f.reject(v)}),m=new kw(wx(h.path),A,{includeMetadataChanges:!0,qa:!0});return Qw(o,m)})(await zv(n),n.asyncQueue,e,t,s))),s.promise}function lP(n,e,t={}){const s=new Hc;return n.asyncQueue.enqueueAndForget((async()=>(function(o,c,h,u,f){const A=new Vw({next:v=>{A.Nu(),c.enqueueAndForget((()=>Ow(o,m))),v.fromCache&&u.source==="server"?f.reject(new an(bt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(v)},error:v=>f.reject(v)}),m=new kw(h,A,{includeMetadataChanges:!0,qa:!0});return Qw(o,m)})(await zv(n),n.asyncQueue,e,t,s))),s.promise}function AP(n,e,t){const s=new Hc;return n.asyncQueue.enqueueAndForget((async()=>{try{const a=await iP(n);s.resolve((async function(c,h,u){var I;const f=As(c),{request:A,gt:m,parent:v}=E8(f.serializer,YQ(h),u);f.connection.$o||delete A.parent;const g=(await f.Ho("RunAggregationQuery",f.serializer.databaseId,v,A,1)).filter((N=>!!N.result));Br(g.length===1,64727);const b=(I=g[0].result)==null?void 0:I.aggregateFields;return Object.keys(b).reduce(((N,S)=>(N[m[S]]=b[S],N)),{})})(a,e,t))}catch(a){s.reject(a)}})),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E5=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT="firestore.googleapis.com",T5=!0;class I5{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new an(bt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=uT,this.ssl=T5}else this.host=e.host,this.ssl=e.ssl??T5;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=K4;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<P8)throw new an(bt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}yQ("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cT(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new an(bt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new an(bt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new an(bt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fx{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new I5({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new an(bt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new an(bt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new I5(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new cQ;switch(s.type){case"firstParty":return new fQ(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new an(bt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=E5.get(t);s&&(yn("ComponentProvider","Removing Datastore"),E5.delete(t),s.terminate())})(this),Promise.resolve()}}function cP(n,e,t,s={}){var f;n=gl(n,Fx);const a=Yd(e),o=n._getSettings(),c={...o,emulatorOptions:n._getEmulatorOptions()},h=`${e}:${t}`;a&&(rw(`https://${h}`),aw("Firestore",!0)),o.host!==uT&&o.host!==h&&rm("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...o,host:h,ssl:a,emulatorOptions:s};if(!Xh(u,c)&&(n._setSettings(u),s.mockUserToken)){let A,m;if(typeof s.mockUserToken=="string")A=s.mockUserToken,m=Jo.MOCK_USER;else{A=oU(s.mockUserToken,(f=n._app)==null?void 0:f.options.projectId);const v=s.mockUserToken.sub||s.mockUserToken.user_id;if(!v)throw new an(bt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Jo(v)}n._authCredentials=new uQ(new e4(A,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ru(this.firestore,e,this._query)}}class si{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Dd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new si(this.firestore,e,this._key)}toJSON(){return{type:si._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(Sg(t,si._jsonSchema))return new si(e,s||null,new Hn(ma.fromString(t.referencePath)))}}si._jsonSchemaVersion="firestore/documentReference/1.0",si._jsonSchema={type:Di("string",si._jsonSchemaVersion),referencePath:Di("string")};class Dd extends Ru{constructor(e,t,s){super(e,t,wx(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new si(this.firestore,null,new Hn(e))}withConverter(e){return new Dd(this.firestore,e,this._path)}}function Pn(n,e,...t){if(n=Oa(n),t4("collection","path",e),n instanceof Fx){const s=ma.fromString(e,...t);return VB(s),new Dd(n,null,s)}{if(!(n instanceof si||n instanceof Dd))throw new an(bt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(ma.fromString(e,...t));return VB(s),new Dd(n.firestore,null,s)}}function On(n,e,...t){if(n=Oa(n),arguments.length===1&&(e=gw.newId()),t4("doc","path",e),n instanceof Fx){const s=ma.fromString(e,...t);return HB(s),new si(n,null,new Hn(s))}{if(!(n instanceof si||n instanceof Dd))throw new an(bt.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(ma.fromString(e,...t));return HB(s),new si(n.firestore,n instanceof Dd?n.converter:null,new Hn(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _5="AsyncQueue";class F5{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Y4(this,"async_queue_retry"),this._c=()=>{const s=Vy();s&&yn(_5,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=Vy();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Vy();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Hc;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ym(e))throw e;yn(_5,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Tu("INTERNAL UNHANDLED ERROR: ",U5(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=Dw.createAndSchedule(this,e,t,s,(o=>this.hc(o)));return this.tc.push(a),a}uc(){this.nc&&es(47125,{Pc:U5(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function U5(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R5(n){return(function(t,s){if(typeof t!="object"||t===null)return!1;const a=t;for(const o of s)if(o in a&&typeof a[o]=="function")return!0;return!1})(n,["next","error","complete"])}class Wc extends Fx{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new F5,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new F5(e),this._firestoreClient=void 0,await e}}}function uP(n,e){const t=typeof n=="object"?n:ow(),s=typeof n=="string"?n:Dv,a=hx(t,"firestore").getImmediate({identifier:s});if(!a._initialized){const o=iE("firestore");o&&cP(a,...o)}return a}function jm(n){if(n._terminated)throw new an(bt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||dP(n),n._firestoreClient}function dP(n){var s,a,o;const e=n._freezeSettings(),t=(function(h,u,f,A){return new UQ(h,u,f,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,cT(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)})(n._databaseId,((s=n._app)==null?void 0:s.options.appId)||"",n._persistenceKey,e);n._componentsProvider||(a=e.localCache)!=null&&a._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new sP(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(h){const u=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(u),_online:u}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e="count",t){this._internalFieldPath=t,this.type="AggregateField",this.aggregateType=e}}class fP{constructor(e,t,s){this._userDataWriter=t,this._data=s,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e){this._byteString=e}static fromBase64String(e){try{return new IA(Bo.fromBase64String(e))}catch(t){throw new an(bt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new IA(Bo.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:IA._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Sg(e,IA._jsonSchema))return IA.fromBase64String(e.bytes)}}IA._jsonSchemaVersion="firestore/bytes/1.0",IA._jsonSchema={type:Di("string",IA._jsonSchemaVersion),bytes:Di("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new an(bt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bo(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new an(bt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new an(bt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return qs(this._lat,e._lat)||qs(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:zc._jsonSchemaVersion}}static fromJSON(e){if(Sg(e,zc._jsonSchema))return new zc(e.latitude,e.longitude)}}zc._jsonSchemaVersion="firestore/geoPoint/1.0",zc._jsonSchema={type:Di("string",zc._jsonSchemaVersion),latitude:Di("number"),longitude:Di("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let o=0;o<s.length;++o)if(s[o]!==a[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Gc._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Sg(e,Gc._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Gc(e.vectorValues);throw new an(bt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Gc._jsonSchemaVersion="firestore/vectorValue/1.0",Gc._jsonSchema={type:Di("string",Gc._jsonSchemaVersion),vectorValues:Di("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP=/^__.*__$/;class pP{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Jd(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ng(e,this.data,t,this.fieldTransforms)}}class dT{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Jd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function hT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw es(40011,{Ac:n})}}class Gw{constructor(e,t,s,a,o,c){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Gw({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var a;const t=(a=this.path)==null?void 0:a.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){var a;const t=(a=this.path)==null?void 0:a.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Gv(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(hT(this.Ac)&&mP.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class gP{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Tx(e)}Cc(e,t,s,a=!1){return new Gw({Ac:e,methodName:t,Dc:s,path:bo.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ux(n){const e=n._freezeSettings(),t=Tx(n._databaseId);return new gP(n._databaseId,!!e.ignoreUndefinedProperties,t)}function fT(n,e,t,s,a,o={}){const c=n.Cc(o.merge||o.mergeFields?2:0,e,t,a);$w("Data must be an object, but it was:",c,s);const h=gT(s,c);let u,f;if(o.merge)u=new rA(c.fieldMask),f=c.fieldTransforms;else if(o.mergeFields){const A=[];for(const m of o.mergeFields){const v=cb(e,m,t);if(!c.contains(v))throw new an(bt.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);xT(A,v)||A.push(v)}u=new rA(A),f=c.fieldTransforms.filter((m=>u.covers(m.field)))}else u=null,f=c.fieldTransforms;return new pP(new Ll(h),u,f)}class Rx extends zw{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Rx}}function mT(n,e,t,s){const a=n.Cc(1,e,t);$w("Data must be an object, but it was:",a,s);const o=[],c=Ll.empty();Xd(s,((u,f)=>{const A=Yw(e,u,t);f=Oa(f);const m=a.yc(A);if(f instanceof Rx)o.push(A);else{const v=Fg(f,m);v!=null&&(o.push(A),c.set(A,v))}}));const h=new rA(o);return new dT(c,h,a.fieldTransforms)}function pT(n,e,t,s,a,o){const c=n.Cc(1,e,t),h=[cb(e,s,t)],u=[a];if(o.length%2!=0)throw new an(bt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)h.push(cb(e,o[v])),u.push(o[v+1]);const f=[],A=Ll.empty();for(let v=h.length-1;v>=0;--v)if(!xT(f,h[v])){const g=h[v];let b=u[v];b=Oa(b);const I=c.yc(g);if(b instanceof Rx)f.push(g);else{const N=Fg(b,I);N!=null&&(f.push(g),A.set(g,N))}}const m=new rA(f);return new dT(A,m,c.fieldTransforms)}function vP(n,e,t,s=!1){return Fg(t,n.Cc(s?4:3,e))}function Fg(n,e){if(vT(n=Oa(n)))return $w("Unsupported field value:",e,n),gT(n,e);if(n instanceof zw)return(function(s,a){if(!hT(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const o=s._toFieldTransform(a);o&&a.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,a){const o=[];let c=0;for(const h of s){let u=Fg(h,a.wc(c));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),c++}return{arrayValue:{values:o}}})(n,e)}return(function(s,a){if((s=Oa(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return n8(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const o=or.fromDate(s);return{timestampValue:Mv(a.serializer,o)}}if(s instanceof or){const o=new or(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Mv(a.serializer,o)}}if(s instanceof zc)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof IA)return{bytesValue:L4(a.serializer,s._byteString)};if(s instanceof si){const o=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(o))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Sw(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Gc)return(function(c,h){return{mapValue:{fields:{[c4]:{stringValue:u4},[Lv]:{arrayValue:{values:c.toArray().map((f=>{if(typeof f!="number")throw h.Sc("VectorValues must only contain numeric values.");return jw(h.serializer,f)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${vx(s)}`)})(n,e)}function gT(n,e){const t={};return r4(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xd(n,((s,a)=>{const o=Fg(a,e.mc(s));o!=null&&(t[s]=o)})),{mapValue:{fields:t}}}function vT(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof or||n instanceof zc||n instanceof IA||n instanceof si||n instanceof zw||n instanceof Gc)}function $w(n,e,t){if(!vT(t)||!n4(t)){const s=vx(t);throw s==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+s)}}function cb(n,e,t){if((e=Oa(e))instanceof _g)return e._internalPath;if(typeof e=="string")return Yw(n,e);throw Gv("Field path arguments must be of type string or ",n,!1,void 0,t)}const xP=new RegExp("[~\\*/\\[\\]]");function Yw(n,e,t){if(e.search(xP)>=0)throw Gv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new _g(...e.split("."))._internalPath}catch{throw Gv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Gv(n,e,t,s,a){const o=s&&!s.isEmpty(),c=a!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let u="";return(o||c)&&(u+=" (found",o&&(u+=` in field ${s}`),c&&(u+=` in document ${a}`),u+=")"),new an(bt.INVALID_ARGUMENT,h+n+u)}function xT(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e,t,s,a,o){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new si(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new yP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Dx("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class yP extends yT{data(){return super.data()}}function Dx(n,e){return typeof e=="string"?Yw(n,e):e instanceof _g?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bT(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new an(bt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ww{}class Xw extends Ww{}function $n(n,e,...t){let s=[];e instanceof Ww&&s.push(e),s=s.concat(t),(function(o){const c=o.filter((u=>u instanceof Jw)).length,h=o.filter((u=>u instanceof Lx)).length;if(c>1||c>0&&h>0)throw new an(bt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)n=a._apply(n);return n}class Lx extends Xw{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Lx(e,t,s)}_apply(e){const t=this._parse(e);return wT(e._query,t),new Ru(e.firestore,e.converter,eb(e._query,t))}_parse(e){const t=Ux(e.firestore);return(function(o,c,h,u,f,A,m){let v;if(f.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new an(bt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){L5(m,A);const b=[];for(const I of m)b.push(D5(u,o,I));v={arrayValue:{values:b}}}else v=D5(u,o,m)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||L5(m,A),v=vP(h,c,m,A==="in"||A==="not-in");return Ri.create(f,A,v)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function nn(n,e,t){const s=e,a=Dx("where",n);return Lx._create(a,s,t)}class Jw extends Ww{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Jw(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:oc.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,o){let c=a;const h=o.getFlattenedFilters();for(const u of h)wT(c,u),c=eb(c,u)})(e._query,t),new Ru(e.firestore,e.converter,eb(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class qw extends Xw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new qw(e,t)}_apply(e){const t=(function(a,o,c){if(a.startAt!==null)throw new an(bt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new an(bt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ig(o,c)})(e._query,this._field,this._direction);return new Ru(e.firestore,e.converter,(function(a,o){const c=a.explicitOrderBy.concat([o]);return new bm(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,t))}}function ub(n,e="asc"){const t=e,s=Dx("orderBy",n);return qw._create(s,t)}class Zw extends Xw{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new Zw(e,t,s)}_apply(e){return new Ru(e.firestore,e.converter,Ov(e._query,this._limit,this._limitType))}}function $v(n){return bQ("limit",n),Zw._create("limit",n,"F")}function D5(n,e,t){if(typeof(t=Oa(t))=="string"){if(t==="")throw new an(bt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!x4(e)&&t.indexOf("/")!==-1)throw new an(bt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(ma.fromString(t));if(!Hn.isDocumentKey(s))throw new an(bt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return JB(n,new Hn(s))}if(t instanceof si)return JB(n,t._key);throw new an(bt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vx(t)}.`)}function L5(n,e){if(!Array.isArray(n)||n.length===0)throw new an(bt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function wT(n,e){const t=(function(a,o){for(const c of a)for(const h of c.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new an(bt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new an(bt.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class bP{convertValue(e,t="none"){switch(Hd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return hi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Md(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw es(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Xd(e,((a,o)=>{s[a]=this.convertValue(o,t)})),s}convertVectorValue(e){var s,a,o;const t=(o=(a=(s=e.fields)==null?void 0:s[Lv].arrayValue)==null?void 0:a.values)==null?void 0:o.map((c=>hi(c.doubleValue)));return new Gc(t)}convertGeoPoint(e){return new zc(hi(e.latitude),hi(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=bx(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(sg(e));default:return null}}convertTimestamp(e){const t=kd(e);return new or(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=ma.fromString(e);Br(V4(s),9688,{name:e});const a=new rg(s.get(1),s.get(3)),o=new Hn(s.popFirst(5));return a.isEqual(t)||Tu(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(n,e,t){let s;return s=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,s}function wP(){return new hP("count")}class Tp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class kh extends yT{constructor(e,t,s,a,o,c){super(e,t,s,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new mv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Dx("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new an(bt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=kh._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}kh._jsonSchemaVersion="firestore/documentSnapshot/1.0",kh._jsonSchema={type:Di("string",kh._jsonSchemaVersion),bundleSource:Di("string","DocumentSnapshot"),bundleName:Di("string"),bundle:Di("string")};class mv extends kh{data(e={}){return super.data(e)}}class Mh{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Tp(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new mv(this._firestore,this._userDataWriter,s.key,s,new Tp(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new an(bt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,o){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((h=>{const u=new mv(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Tp(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:u,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const u=new mv(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Tp(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let f=-1,A=-1;return h.type!==0&&(f=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),A=c.indexOf(h.doc.key)),{type:jP(h.type),doc:u,oldIndex:f,newIndex:A}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new an(bt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Mh._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=gw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],a=[];return this.docs.forEach((o=>{o._document!==null&&(t.push(o._document),s.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),a.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function jP(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return es(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bu(n){n=gl(n,si);const e=gl(n.firestore,Wc);return oP(jm(e),n._key).then((t=>BT(e,n,t)))}Mh._jsonSchemaVersion="firestore/querySnapshot/1.0",Mh._jsonSchema={type:Di("string",Mh._jsonSchemaVersion),bundleSource:Di("string","QuerySnapshot"),bundleName:Di("string"),bundle:Di("string")};class Qx extends bP{constructor(e){super(),this.firestore=e}convertBytes(e){return new IA(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new si(this.firestore,null,t)}}function Xn(n){n=gl(n,Ru);const e=gl(n.firestore,Wc),t=jm(e),s=new Qx(e);return bT(n._query),lP(t,n._query).then((a=>new Mh(e,s,n,a)))}function Ii(n,e,t){n=gl(n,si);const s=gl(n.firestore,Wc),a=jT(n.converter,e,t);return Ox(s,[fT(Ux(s),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,Ol.none())])}function Op(n,e,t,...s){n=gl(n,si);const a=gl(n.firestore,Wc),o=Ux(a);let c;return c=typeof(e=Oa(e))=="string"||e instanceof _g?pT(o,"updateDoc",n._key,e,t,s):mT(o,"updateDoc",n._key,e),Ox(a,[c.toMutation(n._key,Ol.exists(!0))])}function Fi(n){return Ox(gl(n.firestore,Wc),[new Nx(n._key,Ol.none())])}function $f(n,...e){var u,f,A;n=Oa(n);let t={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||R5(e[s])||(t=e[s++]);const a={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(R5(e[s])){const m=e[s];e[s]=(u=m.next)==null?void 0:u.bind(m),e[s+1]=(f=m.error)==null?void 0:f.bind(m),e[s+2]=(A=m.complete)==null?void 0:A.bind(m)}let o,c,h;if(n instanceof si)c=gl(n.firestore,Wc),h=wx(n._key.path),o={next:m=>{e[s]&&e[s](BT(c,n,m))},error:e[s+1],complete:e[s+2]};else{const m=gl(n,Ru);c=gl(m.firestore,Wc),h=m._query;const v=new Qx(c);o={next:g=>{e[s]&&e[s](new Mh(c,v,m,g))},error:e[s+1],complete:e[s+2]},bT(n._query)}return(function(v,g,b,I){const N=new Vw(I),S=new kw(g,N,b);return v.asyncQueue.enqueueAndForget((async()=>Qw(await zv(v),S))),()=>{N.Nu(),v.asyncQueue.enqueueAndForget((async()=>Ow(await zv(v),S)))}})(jm(c),h,a,o)}function Ox(n,e){return(function(s,a){const o=new Hc;return s.asyncQueue.enqueueAndForget((async()=>YO(await aP(s),a,o))),o.promise})(jm(n),e)}function BT(n,e,t){const s=t.docs.get(e._key),a=new Qx(n);return new kh(n,a,e._key,s,new Tp(t.hasPendingWrites,t.fromCache),e.converter)}function Q5(n){return BP(n,{count:wP()})}function BP(n,e){const t=gl(n.firestore,Wc),s=jm(t),a=_Q(e,((o,c)=>new d8(c,o.aggregateType,o._internalFieldPath)));return AP(s,n._query,a).then((o=>(function(h,u,f){const A=new Qx(h);return new fP(u,A,f)})(t,n,o)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Ux(e)}set(e,t,s){this._verifyNotCommitted();const a=zy(e,this._firestore),o=jT(a.converter,t,s),c=fT(this._dataReader,"WriteBatch.set",a._key,o,a.converter!==null,s);return this._mutations.push(c.toMutation(a._key,Ol.none())),this}update(e,t,s,...a){this._verifyNotCommitted();const o=zy(e,this._firestore);let c;return c=typeof(t=Oa(t))=="string"||t instanceof _g?pT(this._dataReader,"WriteBatch.update",o._key,t,s,a):mT(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(c.toMutation(o._key,Ol.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=zy(e,this._firestore);return this._mutations=this._mutations.concat(new Nx(t._key,Ol.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new an(bt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function zy(n,e){if((n=Oa(n)).firestore!==e)throw new an(bt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O5(n){return jm(n=gl(n,Wc)),new CP(n,(e=>Ox(n,e)))}(function(e,t=!0){(function(a){vm=a})(sf),Od(new rQ("firestore",((s,{instanceIdentifier:a,options:o})=>{const c=s.getProvider("app").getImmediate(),h=new Wc(new dQ(s.getProvider("auth-internal")),new mQ(c,s.getProvider("app-check-internal")),(function(f,A){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new an(bt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rg(f.options.projectId,A)})(c,a),c);return o={useFetchStreams:t,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),FA(OB,PB,e),FA(OB,PB,"esm2020")})();let SP=class{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP="type.googleapis.com/google.protobuf.Int64Value",EP="type.googleapis.com/google.protobuf.UInt64Value";function CT(n,e){const t={};for(const s in n)n.hasOwnProperty(s)&&(t[s]=e(n[s]));return t}function Yv(n){if(n==null)return null;if(n instanceof Number&&(n=n.valueOf()),typeof n=="number"&&isFinite(n)||n===!0||n===!1||Object.prototype.toString.call(n)==="[object String]")return n;if(n instanceof Date)return n.toISOString();if(Array.isArray(n))return n.map(e=>Yv(e));if(typeof n=="function"||typeof n=="object")return CT(n,e=>Yv(e));throw new Error("Data cannot be encoded in JSON: "+n)}function cm(n){if(n==null)return n;if(n["@type"])switch(n["@type"]){case NP:case EP:{const e=Number(n.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+n);return e}default:throw new Error("Data cannot be decoded from JSON: "+n)}return Array.isArray(n)?n.map(e=>cm(e)):typeof n=="function"||typeof n=="object"?CT(n,e=>cm(e)):n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P5={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ql extends cc{constructor(e,t,s){super(`${e2}/${e}`,t||""),this.details=s,Object.setPrototypeOf(this,Ql.prototype)}}function TP(n){if(n>=200&&n<300)return"ok";switch(n){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Wv(n,e){let t=TP(n),s=t,a;try{const o=e&&e.error;if(o){const c=o.status;if(typeof c=="string"){if(!P5[c])return new Ql("internal","internal");t=P5[c],s=c}const h=o.message;typeof h=="string"&&(s=h),a=o.details,a!==void 0&&(a=cm(a))}}catch{}return t==="ok"?null:new Ql(t,s,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(e,t,s,a){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,sA(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=t.getImmediate({optional:!0}),this.messaging=s.getImmediate({optional:!0}),this.auth||t.get().then(o=>this.auth=o,()=>{}),this.messaging||s.get().then(o=>this.messaging=o,()=>{}),this.appCheck||a==null||a.get().then(o=>this.appCheck=o,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){const t=await this.getAuthToken(),s=await this.getMessagingToken(),a=await this.getAppCheckToken(e);return{authToken:t,messagingToken:s,appCheckToken:a}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db="us-central1",_P=/^data: (.*?)(?:\n|$)/;function FP(n){let e=null;return{promise:new Promise((t,s)=>{e=setTimeout(()=>{s(new Ql("deadline-exceeded","deadline-exceeded"))},n)}),cancel:()=>{e&&clearTimeout(e)}}}class UP{constructor(e,t,s,a,o=db,c=(...h)=>fetch(...h)){this.app=e,this.fetchImpl=c,this.emulatorOrigin=null,this.contextProvider=new IP(e,t,s,a),this.cancelAllRequests=new Promise(h=>{this.deleteService=()=>Promise.resolve(h())});try{const h=new URL(o);this.customDomain=h.origin+(h.pathname==="/"?"":h.pathname),this.region=db}catch{this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}function RP(n,e,t){const s=Yd(e);n.emulatorOrigin=`http${s?"s":""}://${e}:${t}`,s&&(rw(n.emulatorOrigin+"/backends"),aw("Functions",!0))}function DP(n,e,t){const s=a=>QP(n,e,a,{});return s.stream=(a,o)=>PP(n,e,a,o),s}function ST(n){return n.emulatorOrigin&&Yd(n.emulatorOrigin)?"include":void 0}async function LP(n,e,t,s,a){t["Content-Type"]="application/json";let o;try{o=await s(n,{method:"POST",body:JSON.stringify(e),headers:t,credentials:ST(a)})}catch{return{status:0,json:null}}let c=null;try{c=await o.json()}catch{}return{status:o.status,json:c}}async function NT(n,e){const t={},s=await n.contextProvider.getContext(e.limitedUseAppCheckTokens);return s.authToken&&(t.Authorization="Bearer "+s.authToken),s.messagingToken&&(t["Firebase-Instance-ID-Token"]=s.messagingToken),s.appCheckToken!==null&&(t["X-Firebase-AppCheck"]=s.appCheckToken),t}function QP(n,e,t,s){const a=n._url(e);return OP(n,a,t,s)}async function OP(n,e,t,s){t=Yv(t);const a={data:t},o=await NT(n,s),c=s.timeout||7e4,h=FP(c),u=await Promise.race([LP(e,a,o,n.fetchImpl,n),h.promise,n.cancelAllRequests]);if(h.cancel(),!u)throw new Ql("cancelled","Firebase Functions instance was deleted.");const f=Wv(u.status,u.json);if(f)throw f;if(!u.json)throw new Ql("internal","Response is not valid JSON object.");let A=u.json.data;if(typeof A>"u"&&(A=u.json.result),typeof A>"u")throw new Ql("internal","Response is missing data field.");return{data:cm(A)}}function PP(n,e,t,s){const a=n._url(e);return kP(n,a,t,s||{})}async function kP(n,e,t,s){var v;t=Yv(t);const a={data:t},o=await NT(n,s);o["Content-Type"]="application/json",o.Accept="text/event-stream";let c;try{c=await n.fetchImpl(e,{method:"POST",body:JSON.stringify(a),headers:o,signal:s==null?void 0:s.signal,credentials:ST(n)})}catch(g){if(g instanceof Error&&g.name==="AbortError"){const I=new Ql("cancelled","Request was cancelled.");return{data:Promise.reject(I),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(I)}}}}}}const b=Wv(0,null);return{data:Promise.reject(b),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(b)}}}}}}let h,u;const f=new Promise((g,b)=>{h=g,u=b});(v=s==null?void 0:s.signal)==null||v.addEventListener("abort",()=>{const g=new Ql("cancelled","Request was cancelled.");u(g)});const A=c.body.getReader(),m=MP(A,h,u,s==null?void 0:s.signal);return{stream:{[Symbol.asyncIterator](){const g=m.getReader();return{async next(){const{value:b,done:I}=await g.read();return{value:b,done:I}},async return(){return await g.cancel(),{done:!0,value:void 0}}}}},data:f}}function MP(n,e,t,s){const a=(c,h)=>{const u=c.match(_P);if(!u)return;const f=u[1];try{const A=JSON.parse(f);if("result"in A){e(cm(A.result));return}if("message"in A){h.enqueue(cm(A.message));return}if("error"in A){const m=Wv(0,A);h.error(m),t(m);return}}catch(A){if(A instanceof Ql){h.error(A),t(A);return}}},o=new TextDecoder;return new ReadableStream({start(c){let h="";return u();async function u(){if(s!=null&&s.aborted){const f=new Ql("cancelled","Request was cancelled");return c.error(f),t(f),Promise.resolve()}try{const{value:f,done:A}=await n.read();if(A){h.trim()&&a(h.trim(),c),c.close();return}if(s!=null&&s.aborted){const v=new Ql("cancelled","Request was cancelled");c.error(v),t(v),await n.cancel();return}h+=o.decode(f,{stream:!0});const m=h.split(`
`);h=m.pop()||"";for(const v of m)v.trim()&&a(v.trim(),c);return u()}catch(f){const A=f instanceof Ql?f:Wv(0,null);c.error(A),t(A)}}},cancel(){return n.cancel()}})}const k5="@firebase/functions",M5="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP="auth-internal",VP="app-check-internal",KP="messaging-internal";function zP(n){const e=(t,{instanceIdentifier:s})=>{const a=t.getProvider("app").getImmediate(),o=t.getProvider(HP),c=t.getProvider(KP),h=t.getProvider(VP);return new UP(a,o,c,h,s)};Od(new SP(e2,e,"PUBLIC").setMultipleInstances(!0)),FA(k5,M5,n),FA(k5,M5,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GP(n=ow(),e=db){const s=hx(Oa(n),e2).getImmediate({identifier:e}),a=iE("functions");return a&&$P(s,...a),s}function $P(n,e,t){RP(Oa(n),e,t)}function Ug(n,e,t){return DP(Oa(n),e)}zP();const YP={apiKey:"AIzaSyCHlCLhumJn50nw2JBgJTGeIH_6GKzjFbA",authDomain:"noble-care-management-system.firebaseapp.com",projectId:"noble-care-management-system",storageBucket:"noble-care-management-system.firebasestorage.app",messagingSenderId:"573085015524",appId:"1:573085015524:web:29ae8a509813ec1199fbf1"},t2=uE(YP),xu=nQ(t2),Ct=uP(t2),Rg=GP(t2);var hs=(n=>(n.SUPER_ADMIN="super_admin",n.SCHOOL_ADMIN="school_admin",n.TEACHER="teacher",n))(hs||{});async function WP(n){var s;const e=On(Ct,"users",n.uid),t=await Bu(e);if(t.exists()){const a=t.data(),o=a.status||"active";if(o!=="active")throw new Error("ACCOUNT_INACTIVE");const c=a.role,h=a.schoolId||null,u=Array.isArray(a.assignedClassIds)?a.assignedClassIds:[];if((c==="school_admin"||c==="teacher")&&!h)throw console.warn(`[AUTH] ${c==="teacher"?"Teacher":"School Admin"} account incomplete - missing schoolId`,{uid:n.uid,email:n.email,role:c,hasSchoolId:!!h}),new Error(`${c==="teacher"?"Teacher":"School Admin"} account is incomplete: missing schoolId. Please contact your administrator.`);if(c==="school_admin"&&h){const f=On(Ct,"schools",h),A=await Bu(f);if(!A.exists())throw new Error("SCHOOL_NOT_FOUND");const m=A.data();if((m==null?void 0:m.status)!=="active")throw new Error("SCHOOL_INACTIVE")}if(c==="teacher"&&h){const f=On(Ct,"schools",h),A=await Bu(f);if(!A.exists())throw new Error("SCHOOL_NOT_FOUND");const m=A.data();if((m==null?void 0:m.status)!=="active")throw new Error("SCHOOL_INACTIVE")}return{id:n.uid,fullName:a.fullName||n.displayName||"User",email:n.email||"",role:c,schoolId:h,assignedClassIds:u,status:o,createdAt:((s=a.createdAt)==null?void 0:s.toDate())||new Date}}else throw new Error("ACCOUNT_NOT_PROVISIONED")}function ET(n){if(!n)throw new Error("Authentication required");if(n.role===hs.SUPER_ADMIN)throw new Error("Super admin does not belong to a school");if(!n.schoolId)throw new Error("School access required. Please contact your administrator.");return n.schoolId}const TT=ee.createContext(void 0),XP=({children:n})=>{const[e,t]=ee.useState(null),[s,a]=ee.useState(!0),[o,c]=ee.useState(!0),[h,u]=ee.useState(null);ee.useEffect(()=>{const A=zD(xu,async m=>{if(c(!0),m){u(null),a(!0);try{const v=await WP(m);t(v)}catch(v){console.error("Error fetching user profile:",v),t(null);const g=v.message||v.toString();g==="ACCOUNT_NOT_PROVISIONED"?(u("Your account is not set up yet. Please contact your administrator for access."),await yp(xu)):g==="ACCOUNT_INACTIVE"?(u("Your account has been deactivated. Please contact your administrator for access."),await yp(xu)):g==="SCHOOL_NOT_FOUND"?(u("Your school could not be found. Please contact your administrator."),await yp(xu)):g==="SCHOOL_INACTIVE"?(u("Your school has been deactivated. Please contact your administrator."),await yp(xu)):g.includes("Cloud Firestore API has not been used")?u("CRITICAL ERROR: The Firestore Database is not enabled. Go to Firebase Console > Build > Firestore Database > Create Database."):g.includes("permission-denied")||g.includes("Missing or insufficient permissions")?u("PERMISSION DENIED: Database access blocked. Go to Firebase Console > Firestore Database > Rules and change 'allow read, write: if false;' to 'allow read, write: if true;' (for testing)."):g.includes("client is offline")||g.includes("offline")?u("Network Error: Could not connect to the database. Check your internet connection."):u("Failed to load user profile. Please try refreshing the page. Error: "+g)}}else t(null),u(null);c(!1),a(!1)});return()=>A()},[]);const f=async()=>{try{await yp(xu),t(null),u(null)}catch(A){console.error("Logout failed",A)}};return i.jsx(TT.Provider,{value:{user:e,loading:s,authLoading:o,error:h,logout:f,isAuthenticated:!!e},children:n})},nl=()=>{const n=ee.useContext(TT);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n},IT=ee.createContext(void 0),JP=({children:n})=>{const{user:e,isAuthenticated:t}=nl(),[s,a]=ee.useState(null),[o,c]=ee.useState(!1),[h,u]=ee.useState(null);return ee.useEffect(()=>{let f=!1;const m=(()=>{if(a(null),u(null),!t||!e||e.role==="super_admin"){c(!1);return}if(!e.schoolId){c(!1),u("No school assigned to your account");return}c(!0);const v=`school_${e.schoolId}`,g=localStorage.getItem(v);if(g)try{const b=JSON.parse(g);b.status==="active"&&(f||a(b))}catch{localStorage.removeItem(v)}try{const b=On(Ct,"schools",e.schoolId),I=$f(b,N=>{if(!N.exists()){f||u("School not found. Please contact your administrator."),f||a(null);return}const S={id:N.id,...N.data()};if(S.status!=="active"){f||u("Your school is currently inactive. Please contact your administrator."),f||a(null);return}localStorage.setItem(v,JSON.stringify(S)),f||a(S)},N=>{console.error("Error loading school data:",N),f||u("Failed to load school information. Please try refreshing the page."),f||a(null)});return()=>I()}finally{f||c(!1)}})();return()=>{f=!0,m&&m()}},[t,e==null?void 0:e.id,e==null?void 0:e.schoolId,e==null?void 0:e.role]),i.jsx(IT.Provider,{value:{school:s,schoolLoading:o,schoolError:h},children:n})},uc=()=>{const n=ee.useContext(IT);if(!n)throw new Error("useSchool must be used within a SchoolProvider");return n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ZP=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),H5=n=>{const e=ZP(n);return e.charAt(0).toUpperCase()+e.slice(1)},_T=(...n)=>n.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim(),ek=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var tk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nk=ee.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:a="",children:o,iconNode:c,...h},u)=>ee.createElement("svg",{ref:u,...tk,width:e,height:e,stroke:n,strokeWidth:s?Number(t)*24/Number(e):t,className:_T("lucide",a),...!o&&!ek(h)&&{"aria-hidden":"true"},...h},[...c.map(([f,A])=>ee.createElement(f,A)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const on=(n,e)=>{const t=ee.forwardRef(({className:s,...a},o)=>ee.createElement(nk,{ref:o,iconNode:e,className:_T(`lucide-${qP(H5(n))}`,`lucide-${n}`,s),...a}));return t.displayName=H5(n),t};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sk=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],V5=on("activity",sk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rk=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],ak=on("arrow-down-right",rk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ik=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],FT=on("arrow-left",ik);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ok=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],lk=on("arrow-right",ok);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ak=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],UT=on("arrow-up-right",Ak);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]],uk=on("badge-dollar-sign",ck);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dk=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Pp=on("bell",dk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Pl=on("book-open",hk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],mk=on("book",fk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pk=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],gk=on("building-2",pk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vk=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],kp=on("building",vk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xk=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],yk=on("calendar-days",xk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bk=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Zo=on("calendar",bk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wk=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V9",key:"uvy0l4"}],["path",{d:"M19 21V3",key:"11j9sm"}]],jk=on("chart-no-axes-column-increasing",wk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bk=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],pv=on("chart-no-axes-column",Bk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ck=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],Sk=on("chart-pie",Ck);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nk=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Mp=on("check",Nk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],RT=on("chevron-right",Ek);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],hb=on("circle-alert",Tk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ik=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],UA=on("circle-check-big",Ik);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _k=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Hh=on("circle-x",_k);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fk=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],Xv=on("clipboard-check",Fk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uk=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ld=on("clock",Uk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rk=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],Dk=on("coffee",Rk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lk=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],K5=on("copy",Lk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qk=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],DT=on("credit-card",Qk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ok=[["path",{d:"M11 20H2",key:"nlcfvz"}],["path",{d:"M11 4.562v16.157a1 1 0 0 0 1.242.97L19 20V5.562a2 2 0 0 0-1.515-1.94l-4-1A2 2 0 0 0 11 4.561z",key:"au4z13"}],["path",{d:"M11 4H8a2 2 0 0 0-2 2v14",key:"74r1mk"}],["path",{d:"M14 12h.01",key:"1jfl7z"}],["path",{d:"M22 20h-3",key:"vhrsz"}]],Pk=on("door-open",Ok);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kk=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Jv=on("download",kk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mk=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],Hk=on("ellipsis",Mk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vk=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],LT=on("eye-off",Vk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kk=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],qd=on("eye",Kk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zk=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Vh=on("file-text",zk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gk=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],QT=on("funnel",Gk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $k=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],um=on("graduation-cap",$k);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yk=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Wk=on("history",Yk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xk=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Gy=on("layout-dashboard",Xk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jk=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],$y=on("loader-circle",Jk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qk=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Zk=on("log-out",qk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],tM=on("mail",eM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],sM=on("map-pin",nM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],aM=on("megaphone",rM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],oM=on("menu",iM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],AM=on("message-square",lM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cM=[["path",{d:"M5 12h14",key:"1ays0h"}]],z5=on("minus",cM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uM=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]],Yy=on("octagon-alert",uM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],hM=on("pen",dM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fM=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],mM=on("pencil",fM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],gM=on("phone",pM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Kh=on("plus",vM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xM=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],OT=on("refresh-ccw",xM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yM=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ag=on("refresh-cw",yM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],iA=on("save",bM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wM=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],fb=on("search",wM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jM=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],n2=on("settings",jM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BM=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],G5=on("shield-alert",BM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],SM=on("shield-check",CM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],s2=on("shield",NM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],PT=on("sparkles",EM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],$5=on("square-check-big",TM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],r2=on("square-pen",IM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Y5=on("square",_M);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FM=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],UM=on("timer",FM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],DM=on("toggle-left",RM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LM=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],QM=on("toggle-right",LM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],RA=on("trash-2",OM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],W5=on("trending-down",PM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Ed=on("trending-up",kM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MM=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Li=on("triangle-alert",MM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HM=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],VM=on("trophy",HM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],a2=on("user-plus",KM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zM=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],kT=on("user",zM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],fl=on("users",GM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $M=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],i2=on("wallet",$M);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YM=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],X5=on("wrench",YM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],jo=on("x",WM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XM=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],JM=on("zap",XM);class qM extends ee.Component{constructor(){super(...arguments),this.state={hasError:!1},this.handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("ErrorBoundary caught an error:",e,t),this.setState({error:e,errorInfo:t})}render(){var e;return this.state.hasError?this.props.fallback?this.props.fallback:i.jsx("div",{className:"min-h-[400px] flex items-center justify-center p-8",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-red-200 p-8 max-w-md w-full text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(Li,{className:"w-8 h-8 text-red-600"})}),i.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"Something went wrong"}),i.jsx("p",{className:"text-slate-600 mb-6",children:"We encountered an unexpected error. Please try refreshing the page or contact support if the problem persists."}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("button",{onClick:this.handleReset,className:"w-full flex items-center justify-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[i.jsx(Ag,{size:16,className:"mr-2"}),"Try Again"]}),i.jsx("button",{onClick:()=>window.location.reload(),className:"w-full px-4 py-2 bg-slate-100 text-slate-700 rounded-lg hover:bg-slate-200 transition-colors",children:"Refresh Page"})]}),this.state.error&&i.jsxs("details",{className:"mt-4 text-left",children:[i.jsx("summary",{className:"cursor-pointer text-sm text-slate-500 hover:text-slate-700",children:"Error Details (Development)"}),i.jsxs("pre",{className:"mt-2 p-3 bg-slate-100 rounded text-xs text-slate-800 overflow-auto max-h-40",children:[this.state.error?this.state.error.toString():"Error details not available",(e=this.state.errorInfo)==null?void 0:e.componentStack]})]})]})}):this.props.children}}const mb=""+new URL("apple-icon-180x180-CeJtO7PD.png",import.meta.url).href,ZM=()=>{const{isAuthenticated:n,loading:e,error:t}=nl(),s=xg(),[a,o]=ee.useState(""),[c,h]=ee.useState(""),[u,f]=ee.useState(!1),[A,m]=ee.useState(""),[v,g]=ee.useState(!1),[b,I]=ee.useState("");ee.useEffect(()=>{n&&!e&&s("/",{replace:!0})},[n,e,s]);const N=async _=>{_.preventDefault(),f(!0),m("");try{await HD(xu,a,c)}catch(R){console.error(R);let L="Failed to sign in.";R.code==="auth/invalid-credential"||R.code==="auth/user-not-found"||R.code==="auth/wrong-password"?L="Invalid email or password.":R.code==="auth/too-many-requests"&&(L="Too many failed attempts. Please try again later."),m(L),f(!1)}},S=async _=>{if(_.preventDefault(),f(!0),m(""),I(""),!a){m("Please enter your email address to reset password."),f(!1);return}try{await MD(xu,a),I("Password reset link has been sent to your email."),m("")}catch(R){console.error(R);let L="Failed to send reset email.";R.code==="auth/user-not-found"?L="No account found with this email address.":R.code==="auth/invalid-email"&&(L="Please enter a valid email address."),m(L)}finally{f(!1)}},E=()=>{g(!v),m(""),I(""),h("")};return e?i.jsx("div",{className:"min-h-screen bg-slate-100 flex items-center justify-center",children:i.jsx("div",{className:"text-red-900 animate-pulse font-semibold",children:"Loading School Manager GH..."})}):i.jsxs("div",{className:"min-h-screen relative overflow-hidden bg-gradient-to-br from-[#E6F0FA] via-[#E6F0FA] to-[#E6F0FA] flex items-center justify-center p-4",children:[i.jsx("style",{children:`
        @keyframes loginGradientShift {
          0% { background-position: 0% 50%; }
          50% { background-position: 100% 50%; }
          100% { background-position: 0% 50%; }
        }
        @keyframes floatBlob {
          0% { transform: translate3d(0, 0, 0) scale(1); }
          50% { transform: translate3d(20px, -30px, 0) scale(1.08); }
          100% { transform: translate3d(0, 0, 0) scale(1); }
        }
        @keyframes floatBlobReverse {
          0% { transform: translate3d(0, 0, 0) scale(1); }
          50% { transform: translate3d(-25px, 25px, 0) scale(1.05); }
          100% { transform: translate3d(0, 0, 0) scale(1); }
        }
      `}),i.jsx("div",{className:"absolute inset-0 opacity-70 pointer-events-none",style:{backgroundImage:"linear-gradient(120deg, rgba(11,143,165,0.14), rgba(216,241,244,0.35), rgba(4,107,126,0.12))",backgroundSize:"200% 200%",animation:"loginGradientShift 18s ease-in-out infinite"},"aria-hidden":"true"}),i.jsx("div",{className:"absolute -top-24 -left-24 w-80 h-80 bg-[#E6F0FA]/35 rounded-full blur-3xl pointer-events-none",style:{animation:"floatBlob 16s ease-in-out infinite"},"aria-hidden":"true"}),i.jsx("div",{className:"absolute top-1/3 -right-28 w-96 h-96 bg-[#1160A8]/25 rounded-full blur-3xl pointer-events-none",style:{animation:"floatBlobReverse 20s ease-in-out infinite"},"aria-hidden":"true"}),i.jsx("div",{className:"absolute -bottom-28 left-1/4 w-72 h-72 bg-[#E6F0FA]/60 rounded-full blur-3xl pointer-events-none",style:{animation:"floatBlob 22s ease-in-out infinite"},"aria-hidden":"true"}),i.jsxs("div",{className:"max-w-md w-full bg-white rounded-xl shadow-xl p-8 border-t-8 border-[#0B4A82]",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("div",{className:"mx-auto w-28 h-28 mb-4 relative p-2 bg-white rounded-full shadow-sm border border-[#E6F0FA]",children:i.jsx("img",{src:mb,alt:"School Manager GH Logo",className:"w-full h-full object-contain rounded-full",onError:_=>{_.currentTarget.style.display="none",_.currentTarget.parentElement.innerHTML='<div class="w-24 h-24 bg-[#0B4A82] rounded-full flex items-center justify-center text-[#E6F0FA] font-bold border-4 border-[#1160A8] text-xs text-center p-1">School Manager GH</div>'}})}),i.jsx("h1",{className:"text-2xl font-bold text-[#0B4A82] font-serif",children:"School Manager GH"}),i.jsx("p",{className:"text-slate-500 mt-2 text-sm",children:v?"Reset your password":"Sign in to manage the system"})]}),t&&i.jsxs("div",{className:"mb-6 p-4 bg-red-50 text-red-800 text-sm rounded-lg border border-red-200 flex items-start",children:[i.jsx(hb,{className:"w-5 h-5 mr-2 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("span",{className:"font-bold block mb-1",children:"System Error"}),t]})]}),A&&i.jsxs("div",{className:"mb-4 p-3 bg-red-50 text-red-600 text-sm rounded-lg border border-red-100 flex items-center",children:[i.jsx(hb,{size:16,className:"mr-2 flex-shrink-0"}),A]}),b&&i.jsxs("div",{className:"mb-4 p-3 bg-emerald-50 text-emerald-700 text-sm rounded-lg border border-emerald-100 flex items-center",children:[i.jsx(UA,{size:16,className:"mr-2 flex-shrink-0"}),b]}),v?i.jsxs("form",{onSubmit:S,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Email Address"}),i.jsx("input",{type:"email",value:a,onChange:_=>o(_.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-[#1160A8] focus:border-[#1160A8] outline-none transition-all",placeholder:"Enter your registered email",required:!0}),i.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"We'll send you a link to reset your password."})]}),i.jsx("button",{type:"submit",disabled:u,className:`w-full py-3 px-4 bg-[#1160A8] hover:bg-[#0B4A82] text-white font-bold rounded-lg transition-colors shadow-md flex justify-center items-center ${u?"opacity-70 cursor-not-allowed":""}`,children:u?"Sending...":"Send Reset Link"}),i.jsxs("button",{type:"button",onClick:E,className:"w-full text-center text-sm text-slate-600 hover:text-[#0B4A82] font-medium flex items-center justify-center mt-4",children:[i.jsx(FT,{size:16,className:"mr-1"})," Back to Sign In"]})]}):i.jsxs("form",{onSubmit:N,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Email Address"}),i.jsx("input",{type:"email",value:a,onChange:_=>o(_.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-[#1160A8] focus:border-[#1160A8] outline-none transition-all",placeholder:"e.g., admin@school.com",required:!0})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between items-center mb-1",children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700",children:"Password"}),i.jsx("button",{type:"button",onClick:E,className:"text-xs text-[#1160A8] hover:text-[#0B4A82] font-medium",children:"Forgot Password?"})]}),i.jsx("input",{type:"password",value:c,onChange:_=>h(_.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-[#1160A8] focus:border-[#1160A8] outline-none transition-all",placeholder:"Enter your password",required:!0})]}),i.jsx("button",{type:"submit",disabled:u,className:`w-full py-3 px-4 bg-[#0B4A82] hover:bg-[#0B4A82] text-white font-bold rounded-lg transition-colors shadow-md flex justify-center items-center ${u?"opacity-70 cursor-not-allowed":""}`,children:u?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Signing in..."]}):"Sign In"})]}),i.jsx("div",{className:"mt-8 pt-6 border-t border-slate-100 text-center",children:i.jsxs("p",{className:"text-xs text-slate-400",children:[" ",new Date().getFullYear()," School Manager GH  Empowering Excellence"]})})]})]})},wo="2023-2024",Xi=1,Nn=[{id:"c_n1",name:"Nursery 1",level:"NURSERY"},{id:"c_n2",name:"Nursery 2",level:"NURSERY"},{id:"c_kg1",name:"KG 1",level:"KG"},{id:"c_kg2",name:"KG 2",level:"KG"},{id:"c_p1",name:"Class 1",level:"PRIMARY"},{id:"c_p2",name:"Class 2",level:"PRIMARY"},{id:"c_p3",name:"Class 3",level:"PRIMARY"},{id:"c_p4",name:"Class 4",level:"PRIMARY"},{id:"c_p5",name:"Class 5",level:"PRIMARY"},{id:"c_p6",name:"Class 6",level:"PRIMARY"},{id:"c_jhs1",name:"JHS 1",level:"JHS"},{id:"c_jhs2",name:"JHS 2",level:"JHS"},{id:"c_jhs3",name:"JHS 3",level:"JHS"}],e7=["Language & Literacy","Numeracy","Environmental Studies","Creative Arts","Physical Development","Social & Emotional Development","Rhymes, Songs & Storytelling"],t7=["Literacy & Language","Numeracy","OWOP","Creative Art","Physical Education"],n7=["English Language","Mathematics","Science","ICT","Religious & Moral Education (RME)","Ghanaian Language","Our World Our People (OWOP)","Creative Arts","Physical Education"],s7=["English Language","Mathematics","Integrated Science","Social Studies","Religious & Moral Education (RME)","ICT","French","Ghanaian Language","Creative Arts & Design","Physical Education","Career Technology","Computing / Coding"],dm=n=>n>=80?{total:n,grade:"A",remark:"Excellent"}:n>=70?{total:n,grade:"B",remark:"Very Good"}:n>=60?{total:n,grade:"C",remark:"Good"}:n>=45?{total:n,grade:"D",remark:"Pass"}:{total:n,grade:"F",remark:"Fail"},rc=n=>{const e=(n.testScore||0)+(n.homeworkScore||0)+(n.projectScore||0),t=(n.examScore||0)*.5;return Math.round(e+t)},Dg=n=>{switch(n){case"A":return"text-green-600 bg-green-100";case"B":return"text-red-600 bg-red-100";case"C":return"text-yellow-600 bg-yellow-100";case"D":return"text-orange-600 bg-orange-100";default:return"text-red-600 bg-red-100"}};class r7{async getCollection(e){return(await Xn(Pn(Ct,e))).docs.map(s=>s.data())}requireSchoolId(e,t="operation"){if(!e)throw new Error(`schoolId is required for ${t}`);return e}async getCollectionBySchoolId(e,t){const s=this.requireSchoolId(t,`getCollectionBySchoolId(${e})`),a=$n(Pn(Ct,e),nn("schoolId","==",s));return(await Xn(a)).docs.map(c=>c.data())}async getSchoolConfig(e){const t=this.requireSchoolId(e,"getSchoolConfig"),s=On(Ct,"settings",t),a=await Bu(s);return a.exists()?{...a.data(),schoolId:t}:{schoolId:t,schoolName:"New School",academicYear:wo,currentTerm:`Term ${Xi}`,headTeacherRemark:"Keep it up.",termEndDate:"",schoolReopenDate:"",vacationDate:"",nextTermBegins:"",termTransitionProcessed:!1,holidayDates:[]}}async updateSchoolConfig(e){const t=this.requireSchoolId(e.schoolId,"updateSchoolConfig");await Ii(On(Ct,"settings",t),e)}async getUsers(e){const t=this.requireSchoolId(e,"getUsers"),s=$n(Pn(Ct,"users"),nn("schoolId","==",t));return(await Xn(s)).docs.map(o=>({id:o.id,...o.data()}))}async addUser(e){await Ii(On(Ct,"users",e.id),e)}async deleteUser(e){await Fi(On(Ct,"users",e))}async updateUserAssignedClasses(e,t){await Op(On(Ct,"users",e),{assignedClassIds:t})}async getStudents(e,t){const s=this.requireSchoolId(e,"getStudents"),a=Pn(Ct,"students"),o=[nn("schoolId","==",s)];t&&o.push(nn("classId","==",t));const c=$n(a,...o);return(await Xn(c)).docs.map(u=>u.data())}async addStudent(e){this.requireSchoolId(e.schoolId,"addStudent"),await Ii(On(Ct,"students",e.id),e)}async updateStudent(e){this.requireSchoolId(e.schoolId,"updateStudent"),await Op(On(Ct,"students",e.id),{...e,...e.schoolId?{schoolId:e.schoolId}:{}})}async deleteStudent(e){await Fi(On(Ct,"students",e))}async getSubjects(e,t){const s=this.requireSchoolId(e,"getSubjects");if(!t)return[];const a=$n(Pn(Ct,"class_subjects"),nn("schoolId","==",s),nn("classId","==",t)),o=await Xn(a);return o.empty?[]:o.docs[0].data().subjects}async addSubject(e,t,s){const a=this.requireSchoolId(s,"addSubject"),o=await this.getSubjects(a,e);o.includes(t)||await Ii(On(Ct,"class_subjects",`${a}_${e}`),{schoolId:a,classId:e,subjects:[...o,t]})}async updateSubject(e,t,s,a){const o=this.requireSchoolId(a,"updateSubject"),c=await this.getSubjects(o,e),h=c.indexOf(t);h!==-1&&(c[h]=s,await Ii(On(Ct,"class_subjects",`${o}_${e}`),{schoolId:o,classId:e,subjects:c}))}async deleteSubject(e,t,s){const a=this.requireSchoolId(s,"deleteSubject"),c=(await this.getSubjects(a,e)).filter(h=>h!==t);await Ii(On(Ct,"class_subjects",`${a}_${e}`),{schoolId:a,classId:e,subjects:c})}async seedClassSubjects(e,t,s){const a=this.requireSchoolId(s,"seedClassSubjects");await Ii(On(Ct,"class_subjects",`${a}_${e}`),{schoolId:a,classId:e,subjects:t})}async resetAllClassSubjects(e){const t=this.requireSchoolId(e,"resetAllClassSubjects"),s=$n(Pn(Ct,"class_subjects"),nn("schoolId","==",t)),o=(await Xn(s)).docs.map(c=>Fi(On(Ct,"class_subjects",c.id)));await Promise.all(o)}async getAttendance(e,t,s){const a=this.requireSchoolId(e,"getAttendance");if(!t||!s)return;const o=$n(Pn(Ct,"attendance"),nn("schoolId","==",a),nn("classId","==",t),nn("date","==",s)),c=await Xn(o);return c.empty?void 0:c.docs[0].data()}async getClassAttendance(e,t){const s=this.requireSchoolId(e,"getClassAttendance");if(!t)return[];const a=$n(Pn(Ct,"attendance"),nn("schoolId","==",s),nn("classId","==",t));return(await Xn(a)).docs.map(c=>c.data())}async getAttendanceByDate(e,t){const s=this.requireSchoolId(e,"getAttendanceByDate");if(!t)return[];const a=$n(Pn(Ct,"attendance"),nn("schoolId","==",s),nn("date","==",t));return(await Xn(a)).docs.map(c=>c.data())}async saveAttendance(e){const s=`${this.requireSchoolId(e.schoolId,"saveAttendance")}_${e.classId}_${e.date}`;await Ii(On(Ct,"attendance",s),{...e,id:s})}async getAssessments(e,t,s){const a=this.requireSchoolId(e,"getAssessments");if(!t||!s)return[];const o=$n(Pn(Ct,"assessments"),nn("schoolId","==",a),nn("classId","==",t),nn("subject","==",s));return(await Xn(o)).docs.map(h=>h.data())}async getAllAssessments(e){return this.getCollectionBySchoolId("assessments",e)}async saveAssessment(e){const t=this.requireSchoolId(e.schoolId,"saveAssessment"),s=e.id||`${t}_${e.studentId}_${e.subject}_${e.term}_${e.academicYear}`;await Ii(On(Ct,"assessments",s),{...e,id:s})}async resetAssessmentsForClass(e,t,s=!1,a){const o=this.requireSchoolId(e,"resetAssessmentsForClass");if(!t)return;const c=$n(Pn(Ct,"assessments"),nn("schoolId","==",o),nn("classId","==",t)),u=(await Xn(c)).docs.map(f=>Fi(On(Ct,"assessments",f.id)));if(await Promise.all(u),s){const f=await this.getStudents(o,t),A=await this.getSubjects(o,t),m=[],v=a||Xi;for(const g of f)for(const b of A){const I=`${g.id}_${b}_${Date.now()}_${Math.random().toString(36).slice(2,6)}`,N={id:I,schoolId:o,studentId:g.id,classId:t,term:v,academicYear:wo,subject:b,testScore:0,homeworkScore:0,projectScore:0,examScore:0,total:0};m.push(Ii(On(Ct,"assessments",I),N))}await Promise.all(m)}}async getNotices(e){const t=this.requireSchoolId(e,"getNotices"),s=$n(Pn(Ct,"notices"),nn("schoolId","==",t));return(await Xn(s)).docs.map(o=>o.data())}async addNotice(e){this.requireSchoolId(e.schoolId,"addNotice"),await Ii(On(Ct,"notices",e.id),e)}async deleteNotice(e){await Fi(On(Ct,"notices",e))}async getStudentRemarks(e,t){const s=this.requireSchoolId(e,"getStudentRemarks");if(!t)return[];const a=$n(Pn(Ct,"student_remarks"),nn("schoolId","==",s),nn("classId","==",t));return(await Xn(a)).docs.map(c=>c.data())}async saveStudentRemark(e){this.requireSchoolId(e.schoolId,"saveStudentRemark"),await Ii(On(Ct,"student_remarks",e.id),e)}async getStudentSkills(e,t){const s=this.requireSchoolId(e,"getStudentSkills");if(!t)return[];const a=$n(Pn(Ct,"student_skills"),nn("schoolId","==",s),nn("classId","==",t));return(await Xn(a)).docs.map(c=>c.data())}async saveStudentSkills(e){this.requireSchoolId(e.schoolId,"saveStudentSkills"),await Ii(On(Ct,"student_skills",e.id),e)}async addSystemNotification(e,t,s){const a=this.requireSchoolId(s,"addSystemNotification"),o=`${a}_${Date.now()}`,c={id:o,schoolId:a,message:e,createdAt:Date.now(),isRead:!1,type:t};await Ii(On(Ct,"admin_notifications",o),c)}async getSystemNotifications(e){const t=this.requireSchoolId(e,"getSystemNotifications"),s=$n(Pn(Ct,"admin_notifications"),nn("schoolId","==",t),$v(20));return(await Xn(s)).docs.map(o=>o.data()).sort((o,c)=>(c.createdAt??0)-(o.createdAt??0))}async markNotificationAsRead(e){await Op(On(Ct,"admin_notifications",e),{isRead:!0})}async deleteSystemNotification(e){await Fi(On(Ct,"admin_notifications",e))}async getTimetable(e,t){const s=this.requireSchoolId(e,"getTimetable");if(!t)return;const a=$n(Pn(Ct,"timetables"),nn("schoolId","==",s),nn("classId","==",t),$v(1)),o=await Xn(a);return o.empty?void 0:o.docs[0].data()}async saveTimetable(e){const t=this.requireSchoolId(e.schoolId,"saveTimetable");await Ii(On(Ct,"timetables",`${t}_${e.classId}`),{...e,schoolId:t})}async getStudentPerformance(e,t,s){const a=await this.getClassAttendance(e,s),o=new Set(a.filter(E=>E.isHoliday).map(E=>E.date)),c=await this.getSchoolConfig(e),h=new Set((c.holidayDates||[]).map(E=>E.date));let u=0,f=[];if(c.schoolReopenDate){const E=new Date(`${c.schoolReopenDate}T00:00:00`),_=c.vacationDate?new Date(`${c.vacationDate}T00:00:00`):null,R=new Date;R.setHours(0,0,0,0);const L=_&&_<R?_:R;if(!Number.isNaN(E.getTime())){const H=new Date(E);for(;H<=L;){const D=H.getDay();if(!(D===0||D===6)){const O=`${H.getFullYear()}-${String(H.getMonth()+1).padStart(2,"0")}-${String(H.getDate()).padStart(2,"0")}`;!o.has(O)&&!h.has(O)&&(u++,f.push(O))}H.setDate(H.getDate()+1)}}}if(!u){const E=a.filter(_=>!_.isHoliday&&!h.has(_.date));u=E.length,f=E.map(_=>_.date).sort()}const A=a.filter(E=>!E.isHoliday&&!h.has(E.date)&&E.presentStudentIds.includes(t)).length,m=u===0?0:Math.round(A/u*100);f.length||(f=a.filter(E=>!E.isHoliday&&!h.has(E.date)).map(E=>E.date).sort());const v=a.filter(E=>!E.isHoliday&&!h.has(E.date)&&E.presentStudentIds.includes(t)).map(E=>E.date).sort(),g=$n(Pn(Ct,"assessments"),nn("schoolId","==",e),nn("studentId","==",t)),I=(await Xn(g)).docs.map(E=>E.data()).filter(E=>!0),S=(await this.getSubjects(e,s)).map(E=>{const _=I.find(R=>R.subject===E);return _||{subject:E,total:0}});return{attendance:{total:u,present:A,percentage:m,schoolDates:f,presentDates:v},grades:S}}async getDashboardStats(e){const t=this.requireSchoolId(e,"getDashboardStats"),[s,a,o]=await Promise.all([Xn($n(Pn(Ct,"students"),nn("schoolId","==",t))),Xn($n(Pn(Ct,"users"),nn("schoolId","==",t))),Xn($n(Pn(Ct,"attendance"),nn("schoolId","==",t)))]),c=s.docs.map(b=>b.data()),h=a.docs.map(b=>b.data()),u=await this.getSchoolConfig(t),f=new Set((u.holidayDates||[]).map(b=>b.date)),A=o.docs.map(b=>b.data()).filter(b=>!b.isHoliday&&!f.has(b.date)),m=c.filter(b=>b.gender==="Male").length,v=c.filter(b=>b.gender==="Female").length,g=Nn.map(b=>{const I=A.filter(S=>S.classId===b.id),N=c.filter(S=>S.classId===b.id);if(I.length>0&&N.length>0){const S=I.length*N.length,E=I.reduce((R,L)=>R+L.presentStudentIds.length,0),_=Math.round(E/S*100);return{className:b.name,percentage:_,id:b.id}}return{className:b.name,percentage:0,id:b.id}});return{studentsCount:c.length,teachersCount:h.filter(b=>b.role===hs.TEACHER).length,gender:{male:m,female:v},classAttendance:g}}async getDashboardSummary(e){const t=this.requireSchoolId(e,"getDashboardSummary"),[s,a]=await Promise.all([Q5($n(Pn(Ct,"students"),nn("schoolId","==",t))),Q5($n(Pn(Ct,"users"),nn("schoolId","==",t),nn("role","==",hs.TEACHER)))]);return{studentsCount:s.data().count,teachersCount:a.data().count}}async getTeacherAttendance(e,t,s){const a=this.requireSchoolId(e,"getTeacherAttendance");if(!t||!s)return;const o=$n(Pn(Ct,"teacher_attendance"),nn("schoolId","==",a),nn("teacherId","==",t),nn("date","==",s)),c=await Xn(o);return c.empty?void 0:c.docs[0].data()}async getAllTeacherAttendance(e,t){const s=this.requireSchoolId(e,"getAllTeacherAttendance");if(!t)return[];const a=$n(Pn(Ct,"teacher_attendance"),nn("schoolId","==",s),nn("date","==",t));return(await Xn(a)).docs.map(c=>c.data())}async saveTeacherAttendance(e){const s=`${this.requireSchoolId(e.schoolId,"saveTeacherAttendance")}_${e.teacherId}_${e.date}`;await Ii(On(Ct,"teacher_attendance",s),{...e,id:s})}async getAllTeacherAttendanceRecords(e){return this.getCollectionBySchoolId("teacher_attendance",e)}async resetAllTeacherAttendance(e){const t=this.requireSchoolId(e,"resetAllTeacherAttendance"),s=$n(Pn(Ct,"teacher_attendance"),nn("schoolId","==",t)),o=(await Xn(s)).docs.map(c=>Fi(On(Ct,"teacher_attendance",c.id)));await Promise.all(o)}async getAdminRemark(e,t){const s=this.requireSchoolId(e,"getAdminRemark");if(!t)return;const a=On(Ct,"admin_remarks",t),o=await Bu(a);if(!o.exists())return;const c=o.data();return c.schoolId===s?c:void 0}async saveAdminRemark(e){this.requireSchoolId(e.schoolId,"saveAdminRemark"),await Ii(On(Ct,"admin_remarks",e.id),e)}async createTermBackup(e,t,s){console.log(`Creating backup for ${t}, ${s}...`);try{const a=this.requireSchoolId(e.schoolId,"createTermBackup"),[o,c,h,u,f,A,m,v,g,b,I,N]=await Promise.all([this.getCollectionBySchoolId("students",a),this.getCollectionBySchoolId("users",a),this.getCollectionBySchoolId("attendance",a),this.getCollectionBySchoolId("teacher_attendance",a),this.getCollectionBySchoolId("assessments",a),this.getCollectionBySchoolId("student_remarks",a),this.getCollectionBySchoolId("admin_remarks",a),this.getCollectionBySchoolId("student_skills",a),this.getCollectionBySchoolId("timetables",a),this.getCollectionBySchoolId("notices",a),this.getCollectionBySchoolId("admin_notifications",a),this.getCollectionBySchoolId("activity_logs",a)]),E=(await Xn($n(Pn(Ct,"class_subjects"),nn("schoolId","==",a)))).docs.map(R=>R.data()),_={id:`backup_${Date.now()}`,schoolId:a,timestamp:Date.now(),term:t,academicYear:s,data:{schoolConfig:e,students:o,attendanceRecords:h,teacherAttendanceRecords:u,assessments:f,studentRemarks:A,adminRemarks:m,studentSkills:v,timetables:g,users:c,classSubjects:E,notices:b,adminNotifications:I,activityLogs:N}};await Ii(On(Ct,"backups",_.id),_),console.log(`Backup created successfully: ${_.id}`)}catch(a){throw console.error("Error creating backup:",a),a}}async resetForNewTerm(e){console.log("Initiating term transition for:",e.currentTerm,e.academicYear),await this.createTermBackup(e,e.currentTerm,e.academicYear);const t=Nn.map(f=>f.id),s=this.requireSchoolId(e.schoolId,"resetForNewTerm"),a=[(async()=>{const f=$n(Pn(Ct,"attendance"),nn("schoolId","==",s)),m=(await Xn(f)).docs.map(v=>Fi(On(Ct,"attendance",v.id)));await Promise.all(m),console.log("Cleared student attendance records.")})(),this.resetAllTeacherAttendance(s),(async()=>{const f=$n(Pn(Ct,"student_remarks"),nn("schoolId","==",s)),m=(await Xn(f)).docs.map(v=>Fi(On(Ct,"student_remarks",v.id)));await Promise.all(m),console.log("Cleared student remarks.")})(),(async()=>{const f=$n(Pn(Ct,"student_skills"),nn("schoolId","==",s)),m=(await Xn(f)).docs.map(v=>Fi(On(Ct,"student_skills",v.id)));await Promise.all(m),console.log("Cleared student skills.")})(),(async()=>{const f=$n(Pn(Ct,"admin_remarks"),nn("schoolId","==",s)),m=(await Xn(f)).docs.map(v=>Fi(On(Ct,"admin_remarks",v.id)));await Promise.all(m),console.log("Cleared admin remarks.")})(),(async()=>{const f=$n(Pn(Ct,"admin_notifications"),nn("schoolId","==",s)),m=(await Xn(f)).docs.map(v=>Fi(On(Ct,"admin_notifications",v.id)));await Promise.all(m),console.log("Cleared system notifications.")})(),(async()=>{const f=$n(Pn(Ct,"notices"),nn("schoolId","==",s)),m=(await Xn(f)).docs.map(v=>Fi(On(Ct,"notices",v.id)));await Promise.all(m),console.log("Cleared notices.")})()];await Promise.all(a);let o=1,c=e.academicYear;const h=parseInt(e.currentTerm.split(" ")[1]);if(h===3){o=1;const f=e.academicYear.split("-").map(Number);c=`${f[0]+1}-${f[1]+1}`}else o=h+1;for(const f of t)await this.resetAssessmentsForClass(e.schoolId,f,!0,o),console.log(`Reset and re-seeded assessments for class: ${f} with term ${o}`);const u={...e,currentTerm:`Term ${o}`,academicYear:c,termTransitionProcessed:!0,schoolReopenDate:e.nextTermBegins||"",vacationDate:"",nextTermBegins:""};await this.updateSchoolConfig(u),console.log("SchoolConfig updated for new term:",`Term ${o}`,c)}async getTeacherAttendanceAnalytics(e,t,s){const a=this.requireSchoolId(e,"getTeacherAttendanceAnalytics"),o=await this.getSchoolConfig(a);if(!t&&!o.schoolReopenDate)return[];const h=(await this.getUsers(a)).filter(b=>b.role===hs.TEACHER),u=await this.getAllTeacherAttendanceRecords(a),A=`${(o.academicYear||wo).split("-")[0]}-09-01`,m=t||o.schoolReopenDate||A,v=s||new Date().toISOString().split("T")[0],g=[];for(const b of h){const N=u.filter(H=>H.teacherId===b.id).filter(H=>H.date>=m&&H.date<=v&&!H.isHoliday),S={};N.forEach(H=>{const D=new Date(H.date),Q=`${D.getFullYear()}-${String(D.getMonth()+1).padStart(2,"0")}`;S[Q]||(S[Q]={total:0,present:0}),S[Q].total+=1,H.status==="present"&&(S[Q].present+=1)});const E=Object.entries(S).map(([H,D])=>{const[Q,O]=H.split("-"),$=D.total>0?Math.round(D.present/D.total*100):0;return{teacherId:b.id,teacherName:b.fullName,month:H,year:parseInt(Q),totalWorkingDays:D.total,presentDays:D.present,absentDays:D.total-D.present,attendanceRate:$,trend:"stable"}}).sort((H,D)=>H.month.localeCompare(D.month));for(let H=0;H<E.length;H++)if(H>0){const D=E[H].attendanceRate,Q=E[H-1].attendanceRate;D>Q+5?E[H].trend="improving":D<Q-5?E[H].trend="declining":E[H].trend="stable"}const _=E.reduce((H,D)=>H+D.totalWorkingDays,0),R=E.reduce((H,D)=>H+D.presentDays,0),L=_>0?Math.round(R/_*100):0;g.push({teacherId:b.id,teacherName:b.fullName,overallAttendance:L,monthlyBreakdown:E,termStartDate:m,vacationDate:v!==new Date().toISOString().split("T")[0]?v:void 0})}return g}async getBackups(e){const t=this.requireSchoolId(e==null?void 0:e.schoolId,"getBackups");let s=$n(Pn(Ct,"backups"),nn("schoolId","==",t));const a=[];if(e!=null&&e.term&&a.push(nn("term","==",e.term)),e!=null&&e.academicYear&&a.push(nn("academicYear","==",e.academicYear)),e!=null&&e.date){const c=new Date(e.date).getTime(),h=c+1440*60*1e3-1;a.push(nn("timestamp",">=",c),nn("timestamp","<=",h))}return a.length>0&&(s=$n(s,...a)),(await Xn(s)).docs.map(c=>c.data())}async getBackupDetails(e,t){const s=this.requireSchoolId(e,"getBackupDetails");if(!t)return;const a=await Bu(On(Ct,"backups",t));if(!a.exists())return;const o=a.data();return o.schoolId===s?o:void 0}async deleteBackup(e,t){const s=this.requireSchoolId(e,"deleteBackup");!t||!await this.getBackupDetails(s,t)||await Fi(On(Ct,"backups",t))}async deleteAllBackups(e){const t=this.requireSchoolId(e,"deleteAllBackups"),s=$n(Pn(Ct,"backups"),nn("schoolId","==",t)),o=(await Xn(s)).docs.map(c=>Fi(On(Ct,"backups",c.id)));await Promise.all(o)}}const ot=new r7,a7=({toast:n,onClose:e})=>{ee.useEffect(()=>{const s=setTimeout(()=>e(n.id),n.duration);return()=>clearTimeout(s)},[n,e]);const t=n.type==="success"?"bg-emerald-50 border-emerald-200 text-emerald-800":n.type==="error"?"bg-red-50 border-red-200 text-red-800":"bg-[#E6F0FA] border-[#E6F0FA] text-[#0B4A82]";return i.jsx("div",{className:`max-w-sm w-full px-4 py-3 rounded-lg border shadow-md ${t} transform transition-all`,children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"flex-1 text-sm leading-tight",children:n.message}),i.jsx("button",{onClick:()=>e(n.id),className:"text-slate-400 hover:text-slate-600 ml-2","aria-label":"Close notification",children:i.jsx(jo,{size:14})})]})})},i7=()=>{const[n,e]=ee.useState([]);ee.useEffect(()=>{let s=1;const a=o=>{const{message:c,type:h,duration:u}=o.detail||{},f=s++;e(A=>[{id:f,message:c,type:h,duration:u},...A])};return window.addEventListener("app-toast",a),()=>window.removeEventListener("app-toast",a)},[]);const t=s=>e(a=>a.filter(o=>o.id!==s));return n.length===0?null:i.jsx("div",{className:"fixed right-4 top-20 z-60 flex flex-col gap-3",children:n.map(s=>i.jsx(a7,{toast:s,onClose:t},s.id))})},lr=({children:n,title:e})=>{const{user:t,logout:s}=nl(),{school:a}=uc(),o=(a==null?void 0:a.id)||null,[c,h]=ee.useState(!1),u=Fu(),[f,A]=ee.useState([]),[m,v]=ee.useState(!1),[g,b]=ee.useState(0),I=(t==null?void 0:t.role)===hs.SCHOOL_ADMIN,N=(t==null?void 0:t.role)===hs.SUPER_ADMIN;ee.useEffect(()=>{if(I||N){const R=async()=>{try{if(!o)return;const H=await ot.getSystemNotifications(o);A(H),b(H.filter(D=>!D.isRead).length)}catch(H){console.error("Failed to fetch notifications",H)}};R();const L=setInterval(R,3e4);return()=>clearInterval(L)}},[I,N,o]);const S=async(R,L)=>{L.stopPropagation(),await ot.markNotificationAsRead(R),A(H=>H.map(D=>D.id===R?{...D,isRead:!0}:D)),b(H=>Math.max(0,H-1))},E=async(R,L)=>{L.stopPropagation();try{await ot.deleteSystemNotification(R),A(H=>H.filter(D=>D.id!==R)),b(H=>f.find(Q=>Q.id===R&&!Q.isRead)?Math.max(0,H-1):H)}catch(H){console.error("Failed to delete notification",H)}},_=({href:R,icon:L,label:H})=>{const D=u.pathname===R;return i.jsxs(fi,{to:R,className:`flex items-center px-4 py-3 transition-colors ${D?"bg-[#0B4A82] text-white border-r-4 border-[#1160A8]":"text-[#E6F0FA] hover:bg-[#1160A8] hover:text-white"}`,onClick:()=>h(!1),children:[i.jsx(L,{className:`w-5 h-5 mr-3 ${D?"text-white":"text-[#E6F0FA]"}`}),i.jsx("span",{className:"font-medium",children:H})]})};return i.jsxs("div",{className:"h-screen bg-[#fafafa] flex",children:[c&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-20 md:hidden",onClick:()=>h(!1)}),i.jsxs("aside",{className:`
        fixed inset-y-0 left-0 z-30 w-64 bg-[#0B4A82] text-white transform transition-transform duration-200 ease-in-out overflow-y-auto
        ${c?"translate-x-0":"-translate-x-full"}
        md:relative md:translate-x-0 flex flex-col shadow-xl border-r border-[#0B4A82]
      `,children:[i.jsxs("div",{className:"p-6 border-b border-[#0B4A82] bg-[#0B4A82] flex flex-col items-center justify-center relative",children:[i.jsx("button",{onClick:()=>h(!1),className:"md:hidden absolute top-4 right-4 text-[#E6F0FA] hover:text-white",children:i.jsx(jo,{size:24})}),N?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-20 h-20 mb-3 bg-white rounded-full p-1 shadow-lg border-2 border-[#E6F0FA] overflow-hidden",children:i.jsx("img",{src:mb,alt:"School Manager GH Logo",className:"w-full h-full object-contain rounded-full"})}),i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-xl font-bold text-[#E6F0FA] leading-tight tracking-wide font-serif break-words px-2",children:"Super Admin Panel"}),i.jsx("p",{className:"text-xs text-[#E6F0FA] mt-1 uppercase tracking-wider",children:"System Administration"})]})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-20 h-20 mb-3 bg-white rounded-full p-1 shadow-lg border-2 border-amber-500 overflow-hidden",children:i.jsx("img",{src:(a==null?void 0:a.logoUrl)||mb,alt:(a==null?void 0:a.name)||"School Management System",className:"w-full h-full object-contain rounded-full"})}),i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-xl font-bold text-[#E6F0FA] leading-tight tracking-wide font-serif break-words px-2",children:(a==null?void 0:a.name)||"School Management System"}),i.jsx("p",{className:"text-xs text-[#E6F0FA] mt-1 uppercase tracking-wider",children:"Management System"})]})]})]}),i.jsx("nav",{className:"flex-1 py-6 space-y-1",children:N?i.jsxs(i.Fragment,{children:[i.jsx(_,{href:"/",icon:Gy,label:"Dashboard"}),i.jsx(_,{href:"/super-admin/schools",icon:um,label:"Schools"}),i.jsx(_,{href:"/super-admin/backups",icon:s2,label:"Backups"}),i.jsx(_,{href:"/super-admin/payments",icon:i2,label:"Payments"})]}):I?i.jsxs(i.Fragment,{children:[i.jsx(_,{href:"/",icon:Gy,label:"Dashboard"}),i.jsx(_,{href:"/admin/students",icon:um,label:"Students"}),i.jsx(_,{href:"/admin/teachers",icon:fl,label:"Teachers"}),i.jsx(_,{href:"/admin/attendance",icon:jk,label:"Student Attendance"}),i.jsx(_,{href:"/admin/teacher-attendance",icon:Xv,label:"Teacher Attendance"}),i.jsx(_,{href:"/admin/reports",icon:Pl,label:"Reports"}),i.jsx(_,{href:"/admin/report-card",icon:Pl,label:"Report Card"}),i.jsx(_,{href:"/admin/timetable",icon:yk,label:"Timetable"}),i.jsx(_,{href:"/admin/settings",icon:n2,label:"Settings"}),i.jsx(_,{href:"/admin/billing",icon:DT,label:"Billing"})]}):i.jsxs(i.Fragment,{children:[i.jsx(_,{href:"/",icon:Gy,label:"Dashboard"}),i.jsx(_,{href:"/teacher/my-attendance",icon:Xv,label:"My Attendance"}),i.jsx(_,{href:"/teacher/attendance",icon:fl,label:"Student Attendance"}),i.jsx(_,{href:"/teacher/assessment",icon:Pl,label:"Assessment"})]})}),i.jsxs("div",{className:"p-4 border-t border-[#0B4A82] bg-[#0B4A82]",children:[i.jsxs("div",{className:"flex items-center mb-4",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-[#1160A8] border-2 border-[#E6F0FA] flex items-center justify-center text-sm font-bold shadow-lg text-white",children:t==null?void 0:t.fullName.charAt(0)}),i.jsxs("div",{className:"ml-3",children:[i.jsx("p",{className:"text-sm font-medium text-white",children:t==null?void 0:t.fullName}),i.jsx("p",{className:"text-xs text-[#E6F0FA] capitalize",children:(t==null?void 0:t.role)===hs.SUPER_ADMIN?"Super Admin":(t==null?void 0:t.role)===hs.SCHOOL_ADMIN?"School Admin":"Teacher"})]})]}),i.jsxs("button",{onClick:s,className:"w-full flex items-center justify-center px-4 py-2 text-sm text-[#E6F0FA] hover:text-white hover:bg-[#1160A8] rounded-md transition-colors",children:[i.jsx(Zk,{size:16,className:"mr-2"}),"Sign Out"]})]})]}),i.jsxs("div",{className:"flex-1 flex flex-col min-h-screen overflow-hidden",children:[i.jsxs("header",{className:"bg-white shadow-sm h-16 flex items-center justify-between px-4 md:px-8 z-10 border-b border-[#E6F0FA]",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("button",{onClick:()=>h(!0),className:"md:hidden p-2 -ml-2 text-[#0B4A82] hover:text-[#1160A8]",children:i.jsx(oM,{size:24})}),i.jsx("h2",{className:"text-xl font-bold text-[#0B4A82] ml-2 md:ml-0",children:e})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[(I||N)&&i.jsxs("div",{className:"relative",children:[i.jsxs("button",{onClick:()=>v(!m),className:`relative p-2 transition-colors ${m?"text-[#0B4A82] bg-[#E6F0FA] rounded-full":"text-slate-400 hover:text-[#0B4A82]"}`,children:[i.jsx(Pp,{size:20}),g>0&&i.jsx("span",{className:"absolute top-1 right-1 w-2.5 h-2.5 bg-[#1160A8] rounded-full border-2 border-white"})]}),m&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>v(!1)}),i.jsxs("div",{className:"fixed right-4 top-16 w-80 sm:w-96 bg-white bg-opacity-100 rounded-xl shadow-2xl border border-slate-200 z-50 overflow-hidden",children:[i.jsxs("div",{className:"p-3 border-b border-slate-100 bg-slate-50 flex justify-between items-center",children:[i.jsx("h4",{className:"font-bold text-slate-800 text-sm",children:"Notifications"}),i.jsxs("span",{className:"text-xs text-slate-500",children:[g," unread"]})]}),i.jsx("div",{className:"max-h-80 overflow-y-auto bg-white",children:f.length===0?i.jsx("div",{className:"p-8 text-center text-slate-400 text-sm",children:"No new activity."}):f.map(R=>i.jsx("div",{className:`p-3 border-b border-slate-100 hover:bg-slate-50 transition-colors ${R.isRead?"bg-slate-50":"bg-white border-l-4 border-l-[#1160A8]"}`,children:i.jsxs("div",{className:"flex justify-between items-start gap-2",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:`text-sm leading-snug mb-1 ${R.isRead?"text-slate-500":"text-slate-800 font-medium"}`,children:R.message}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded font-bold uppercase tracking-wide ${R.isRead?"bg-slate-200 text-slate-500":"bg-[#E6F0FA] text-[#0B4A82]"}`,children:R.isRead?"Read":"Unread"}),i.jsx("span",{className:"text-[10px] text-slate-400",children:new Date(R.createdAt).toLocaleString()})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[!R.isRead&&i.jsx("button",{onClick:L=>S(R.id,L),className:"text-emerald-500 hover:text-emerald-700 p-1 hover:bg-emerald-50 rounded transition-colors shrink-0",title:"Mark as read",children:i.jsx(Mp,{size:16})}),i.jsx("button",{onClick:L=>E(R.id,L),className:"text-slate-400 hover:text-red-600 p-1 hover:bg-red-50 rounded transition-colors shrink-0",title:"Delete notification",children:i.jsx(jo,{size:16})})]})]})},R.id))})]})]})]}),i.jsx("div",{className:"h-6 w-px bg-slate-200 mx-2 hidden sm:block"}),i.jsx("div",{className:"text-sm text-slate-500 hidden sm:block font-medium",children:new Date().toLocaleDateString("en-GB",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]}),i.jsx("main",{className:"flex-1 overflow-auto p-4 md:p-8",children:n}),i.jsx(i7,{})]})]})},Pt=(n,e)=>{const t={message:n,type:(e==null?void 0:e.type)||"info",duration:(e==null?void 0:e.duration)??4e3};window.dispatchEvent(new CustomEvent("app-toast",{detail:t}))},o7=({data:n,week:e,onPreviousWeek:t,onNextWeek:s,onCurrentWeek:a,schoolReopenDate:o})=>{if(e===null)return i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-md border border-slate-100 h-full flex flex-col items-center justify-center",children:[i.jsx("div",{className:"relative w-12 h-12 border-3 border-slate-100 border-t-red-900 rounded-full animate-spin"}),i.jsx("p",{className:"text-slate-400 text-sm mt-4",children:"Loading attendance data..."})]});const{monday:c,friday:h}=MT(e),f=l7().toDateString()===c.toDateString(),A=b=>{const I=b.split("-");return I.length===3?new Date(parseInt(I[0]),parseInt(I[1])-1,parseInt(I[2])):new Date(b)};let m="",v=null;o&&(v=A(o),v>new Date?m="School Closed":m="School Open");const g=b=>new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric"}).format(b);return i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-md border border-slate-100 h-full flex flex-col",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6 pb-4 border-b border-slate-100",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-slate-800 text-lg",children:"Class Attendance"}),i.jsx("p",{className:"text-xs text-slate-500",children:"Weekly participation overview"})]}),m&&i.jsx("div",{className:`text-xs font-bold px-3 py-1 rounded-full ${m==="School Closed"?"bg-red-100 text-red-700":"bg-emerald-100 text-emerald-700"}`,children:m})]}),i.jsxs("div",{className:"mb-6 p-4 bg-gradient-to-r from-red-50 to-amber-50 rounded-xl border border-red-100",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("button",{onClick:t,className:"flex items-center justify-center w-10 h-10 rounded-lg bg-white border border-slate-200 hover:bg-slate-50 hover:border-red-400 transition-colors shadow-sm text-slate-600 hover:text-red-700 font-semibold",title:"Previous week",children:""}),i.jsx("div",{className:"flex-1 mx-4 text-center",children:i.jsxs("div",{className:"flex flex-col items-center gap-1",children:[i.jsxs("p",{className:"text-sm font-semibold text-slate-800",children:[g(c),"  ",g(h)]}),i.jsx("p",{className:"text-xs text-slate-500 font-medium",children:c.getFullYear()}),f&&i.jsx("span",{className:"inline-block px-2 py-0.5 bg-red-100 text-red-700 text-[10px] font-bold rounded-full mt-1 uppercase tracking-wide",children:"Current Week"})]})}),i.jsx("button",{onClick:s,disabled:f,className:"flex items-center justify-center w-10 h-10 rounded-lg bg-white border border-slate-200 hover:bg-slate-50 hover:border-red-400 transition-colors shadow-sm text-slate-600 hover:text-red-700 font-semibold disabled:opacity-40 disabled:cursor-not-allowed disabled:hover:border-slate-200 disabled:hover:text-slate-600",title:f?"You are viewing the current week":"Next week",children:""})]}),!f&&i.jsx("div",{className:"mt-3 text-center",children:i.jsx("button",{onClick:a,className:"text-xs text-red-700 hover:text-red-800 font-semibold bg-white border border-red-200 px-3 py-1.5 rounded-md hover:bg-red-50 transition-colors",children:"Return to Current Week"})})]}),m==="School Closed"&&v&&i.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:i.jsxs("p",{className:"text-sm text-red-800 font-semibold",children:["School is currently closed. Attendance records will begin from"," ",g(v)]})}),i.jsx("div",{className:"flex-1 flex items-end justify-between gap-1 sm:gap-2 px-1 pb-2 h-96 w-full overflow-x-auto",children:n.map(b=>{let I="bg-amber-500";return b.percentage<50?I="bg-red-600":b.percentage>=80&&(I="bg-emerald-500"),i.jsxs("div",{className:"flex flex-col items-center flex-1 group h-full justify-end min-w-[20px]",children:[i.jsxs("div",{className:"w-full max-w-[30px] bg-slate-50 rounded-t-sm relative flex items-end h-full hover:bg-slate-100 transition-colors",children:[i.jsxs("div",{className:"absolute -top-10 left-1/2 transform -translate-x-1/2 bg-slate-800 text-white text-[10px] py-1 px-2 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10 pointer-events-none",children:[b.className,": ",b.percentage,"%"]}),i.jsx("div",{className:`w-full ${I} rounded-t-sm transition-all duration-1000 ease-out relative`,style:{height:`${b.percentage}%`}})]}),i.jsx("span",{className:"text-[10px] text-slate-400 mt-2 font-medium truncate w-full text-center",children:b.className.replace("Nursery ","N").replace("Class ","P").replace("Primary ","P").replace("KG ","K").replace("JHS ","J")})]},b.id)})})]})},MT=n=>{const e=new Date(n),t=e.getDay(),s=new Date(e);s.setDate(e.getDate()-(t===0?6:t-1));const a=new Date(s);return a.setDate(s.getDate()+4),{monday:s,friday:a}},l7=()=>MT(new Date).monday,A7=Ax.memo(o7),Ti=({className:n="h-4 bg-slate-100 rounded animate-pulse"})=>i.jsx("div",{className:n}),gd=({label:n="Loading"})=>i.jsxs("div",{className:"inline-flex items-center gap-2 text-xs text-slate-500",children:[i.jsxs("span",{className:"relative inline-flex h-4 w-4",children:[i.jsx("span",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-amber-400 via-[#0B4A82] to-emerald-400 opacity-60 blur-[1px]"}),i.jsx("span",{className:"absolute inset-0 rounded-full border-2 border-slate-200 border-t-[#0B4A82] animate-spin"})]}),n,""]}),c7=()=>{var Sa;xg();const{school:n,schoolLoading:e}=uc(),t=(n==null?void 0:n.id)||null,[s,a]=ee.useState({students:0,teachers:0,classes:Nn.length,maleStudents:0,femaleStudents:0,classAttendance:[]}),[o,c]=ee.useState([]),[h,u]=ee.useState([]),[f,A]=ee.useState(null),[m,v]=ee.useState(!1),[g,b]=ee.useState(!1),[I,N]=ee.useState(!1),[S,E]=ee.useState(!1),[_,R]=ee.useState(!1),[L,H]=ee.useState(null),[D,Q]=ee.useState(null),[O,$]=ee.useState([]),[P,V]=ee.useState([]),[G,ie]=ee.useState([]),[de,X]=ee.useState([]),[q,Z]=ee.useState(!1),[oe,ye]=ee.useState(null),ne=Ax.useRef(null),[M,W]=ee.useState(Date.now()),[ae,ue]=ee.useState(0),[ce,ge]=ee.useState(0),[Se,xe]=ee.useState(0),[Ie,Ue]=ee.useState(null),[Pe,rt]=ee.useState(null),[Le,me]=ee.useState({academicYear:"",currentTerm:"",schoolReopenDate:"",schoolName:"",headTeacherRemark:"",termEndDate:"",vacationDate:"",nextTermBegins:"",termTransitionProcessed:!1}),[Ze,pt]=ee.useState(null),[dt,Je]=ee.useState({A:0,B:0,C:0,D:0,F:0}),[Ut,Rt]=ee.useState([]),[zt,$t]=ee.useState({A:[],B:[],C:[],D:[],F:[]}),[Jt,sn]=ee.useState(null),Ge=ee.useMemo(()=>{var Ds;const _e=(n==null?void 0:n.createdAt)||((Ds=n==null?void 0:n.billing)==null?void 0:Ds.createdAt)||null;if(!_e)return null;const Et=_e instanceof Date?_e:new Date(typeof(_e==null?void 0:_e.toDate)=="function"?_e.toDate():_e);if(Number.isNaN(Et.getTime()))return null;const Ft=(n==null?void 0:n.plan)||"monthly",Gt=Ft==="termly"?4:Ft==="yearly"?12:1,En=Ft==="termly"?"Termly":Ft==="yearly"?"Yearly":"Monthly",Gn=300*Gt,as=new Date(Et);as.setMonth(as.getMonth()+Gt);const Zt=new Date(M),Gs=as.getTime()-Zt.getTime(),ds=Gs<0,Sn=Math.abs(Gs),Cs=Math.floor(Sn/(1440*60*1e3)),is=Math.floor(Sn/(3600*1e3)%24),Vn=Math.floor(Sn/(60*1e3)%60),mr=Math.floor(Sn/1e3%60);return{createdAt:Et,dueDate:as,isOverdue:ds,days:Cs,hours:is,minutes:Vn,seconds:mr,planLabel:En,planMonths:Gt,planFee:Gn}},[n==null?void 0:n.createdAt,M]),[Ht,kt]=ee.useState({}),[Ot,gt]=ee.useState([]),[_t,Un]=ee.useState({}),[Me,ht]=ee.useState({}),[Ve,lt]=ee.useState(null),[At,Qt]=ee.useState(null),[St,Vt]=ee.useState(null),[en,jt]=ee.useState({}),ct=ee.useMemo(()=>t?`admin_dashboard_summary_${t}`:"",[t]),Dt=ee.useCallback(async _e=>{if(t){_e!=null&&_e.background||E(!0),H(null);try{const Et=await ot.getDashboardSummary(t),Ft={students:Et.studentsCount,teachers:Et.teachersCount,classes:Nn.length,maleStudents:0,femaleStudents:0,classAttendance:[]};a(Gt=>({...Gt,students:Ft.students,teachers:Ft.teachers,classes:Ft.classes})),A(Gt=>({...Gt||Ft,students:Ft.students,teachers:Ft.teachers,classes:Ft.classes})),ct&&localStorage.setItem(ct,JSON.stringify({...Ft,updatedAt:Date.now()}))}catch(Et){console.error("Summary fetch error:",Et)}finally{_e!=null&&_e.background||E(!1)}}},[t,ct]),Yt=ee.useCallback(async _e=>{var Et,Ft;if(t){_e!=null&&_e.background||R(!0),H(null);try{const Gt=new Date,En=`${Gt.getFullYear()}-${String(Gt.getMonth()+1).padStart(2,"0")}-${String(Gt.getDate()).padStart(2,"0")}`,[vn,Gn,as,Zt,Gs,ds,Sn]=await Promise.all([ot.getDashboardStats(t),ot.getStudents(t),ot.getNotices(t),ot.getSchoolConfig(t),ot.getUsers(t),ot.getAllTeacherAttendance(t,En),ot.getAllTeacherAttendanceRecords(t)]),Cs=[],is=new Date,Vn=Zt.schoolReopenDate?new Date(Zt.schoolReopenDate+"T00:00:00"):null,mr=!Vn||is>=Vn,Ds=Zt.vacationDate?new Date(Zt.vacationDate+"T00:00:00"):null;Ds&&Ds.setHours(0,0,0,0);const Kn=Zt.nextTermBegins?new Date(Zt.nextTermBegins+"T00:00:00"):null;is.setHours(0,0,0,0);const Oi=Ds&&Kn&&is>=Ds&&is<Kn,ys=5,Ar=new Set([...Sn.filter(hn=>hn.isHoliday).map(hn=>hn.date),...(Zt.holidayDates||[]).map(hn=>hn.date)]);if(mr&&!Oi&&Sn.length>0){const hn=Wt=>{if(!Wt)return null;let cn=[];if(Wt.includes("-")){if(cn=Wt.split("-"),cn.length===3)return new Date(parseInt(cn[0]),parseInt(cn[1])-1,parseInt(cn[2]))}else if(Wt.includes("/")&&(cn=Wt.split("/"),cn.length===3))return new Date(parseInt(cn[2]),parseInt(cn[0])-1,parseInt(cn[1]));return null},js=hn(Zt.schoolReopenDate),ms=hn(Zt.vacationDate);let _s=new Date;for(let Wt=0;Wt<ys;Wt++){let cn=new Date(_s),sr=cn.getDay();do{cn.setDate(cn.getDate()-1),sr=cn.getDay();const bs=ms&&cn.toDateString()===ms.toDateString();if(!(sr===0||sr===6||bs))break}while(!0);const oa=`${cn.getFullYear()}-${String(cn.getMonth()+1).padStart(2,"0")}-${String(cn.getDate()).padStart(2,"0")}`,Rr=cn.getTime(),Nr=js?js.getTime():0,la=ms&&Kn&&cn>=ms&&cn<Kn;if(Rr>=Nr&&Nr>0&&!la&&!Ar.has(oa))for(const bs of Gs.filter(Jr=>Jr.role===hs.TEACHER)){const Jr=await ot.getTeacherAttendance(t,bs.id,oa);(!Jr||Jr.isHoliday)&&Cs.push({teacherId:bs.id,teacherName:bs.fullName,date:oa,classes:((Et=bs.assignedClassIds)==null?void 0:Et.map(Aa=>{var qr;return(qr=Nn.find(rl=>rl.id===Aa))==null?void 0:qr.name}).join(", "))||"Not Assigned"})}else break;_s=cn}}const Fr=[];if(mr&&!Oi){const hn=Wt=>{if(!Wt)return null;let cn=[];if(Wt.includes("-")){if(cn=Wt.split("-"),cn.length===3)return new Date(parseInt(cn[0]),parseInt(cn[1])-1,parseInt(cn[2]))}else if(Wt.includes("/")&&(cn=Wt.split("/"),cn.length===3))return new Date(parseInt(cn[2]),parseInt(cn[0])-1,parseInt(cn[1]));return null},js=hn(Zt.schoolReopenDate),ms=hn(Zt.vacationDate);let _s=new Date;for(let Wt=0;Wt<ys;Wt++){let cn=new Date(_s),sr=cn.getDay();do{cn.setDate(cn.getDate()-1),sr=cn.getDay();const Aa=ms&&cn.toDateString()===ms.toDateString();if(!(sr===0||sr===6||Aa))break}while(!0);const oa=`${cn.getFullYear()}-${String(cn.getMonth()+1).padStart(2,"0")}-${String(cn.getDate()).padStart(2,"0")}`,Rr=cn.getTime(),Nr=js?js.getTime():0,la=ms&&Kn&&cn>=ms&&cn<Kn,Jr=(await ot.getAttendanceByDate(t,oa)).some(Aa=>Aa.isHoliday)||(Zt.holidayDates||[]).some(Aa=>Aa.date===oa);if(Rr>=Nr&&Nr>0&&!la&&!Jr)for(const Aa of Gs.filter(qr=>qr.role===hs.TEACHER&&qr.assignedClassIds&&qr.assignedClassIds.length>0)){const qr=Aa.assignedClassIds[0],rl=((Ft=Nn.find(Zi=>Zi.id===qr))==null?void 0:Ft.name)||"Unknown Class",$a=await ot.getAttendance(t,qr,oa);(!$a||$a.isHoliday)&&Fr.push({teacherId:Aa.id,teacherName:Aa.fullName,date:oa,className:rl})}else break;_s=cn}}const sl=(hn,js)=>{if(!hn||!js)return 0;const ms=new Date(hn+"T00:00:00"),_s=new Date(js+"T00:00:00");let Wt=0;const cn=new Date(ms);for(;cn<=_s;){const sr=cn.getDay();sr!==0&&sr!==6&&Wt++,cn.setDate(cn.getDate()+1)}return Wt},AA=new Set([...Sn.filter(hn=>hn.isHoliday).map(hn=>hn.date),...(Zt.holidayDates||[]).map(hn=>hn.date)]),Ml=sl(Zt.schoolReopenDate,Zt.vacationDate),Pa=Math.max(0,Ml-AA.size),Hl=Gs.filter(hn=>hn.role===hs.TEACHER).map(hn=>{var cn;const ms=Sn.filter(sr=>sr.teacherId===hn.id&&sr.date>=(Zt.schoolReopenDate||"")&&sr.date<=(Zt.vacationDate||"9999-99-99")&&!sr.isHoliday).filter(sr=>sr.status==="present").length,_s=Pa,Wt=_s>0?Math.round(ms/_s*100):0;return{id:hn.id,name:hn.fullName,classes:((cn=hn.assignedClassIds)==null?void 0:cn.map(sr=>{var oa;return(oa=Nn.find(Rr=>Rr.id===sr))==null?void 0:oa.name}).join(", "))||"Not Assigned",presentDays:ms,totalDays:_s,attendanceRate:Wt}}),ao=ds.map(hn=>{var ms;const js=Gs.find(_s=>_s.id===hn.teacherId);return{...hn,teacherName:(js==null?void 0:js.fullName)||"Unknown",teacherClasses:((ms=js==null?void 0:js.assignedClassIds)==null?void 0:ms.map(_s=>{var Wt;return(Wt=Nn.find(cn=>cn.id===_s))==null?void 0:Wt.name}).join(", "))||"Not Assigned"}});if(me(hn=>({...hn,academicYear:Zt.academicYear,currentTerm:Zt.currentTerm,schoolReopenDate:Zt.schoolReopenDate||""})),Zt.nextTermBegins&&new Date>=new Date(Zt.nextTermBegins+"T00:00:00")&&!Zt.termTransitionProcessed)try{await ot.resetForNewTerm(Zt),Pt("Term transition completed automatically.",{type:"success"}),setTimeout(()=>Yt({background:!0}),1e3)}catch(hn){console.error("Auto term transition failed:",hn),Pt("Auto term transition failed. Please check settings.",{type:"error"})}let Ur=Xi;if(Zt.currentTerm){const hn=Zt.currentTerm.match(/\d+/);hn&&(Ur=parseInt(hn[0]))}const Co=await ot.getAllAssessments(t),qi={},vl=new Map(Gn.map(hn=>[hn.id,hn]));Co.forEach(hn=>{if(hn.term===Ur&&vl.has(hn.studentId)){if(!qi[hn.studentId]){const ms=vl.get(hn.studentId);qi[hn.studentId]={total:0,count:0,name:ms.name,classId:ms.classId}}const js=hn.total??rc(hn);qi[hn.studentId].total+=js,qi[hn.studentId].count+=1}});const So={A:0,B:0,C:0,D:0,F:0},io=[],ai={A:[],B:[],C:[],D:[],F:[]};Object.entries(qi).forEach(([hn,js])=>{var cn;const ms=js.count>0?js.total/js.count:0,{grade:_s}=dm(ms);So[_s]!==void 0&&So[_s]++;const Wt={id:hn,name:js.name,class:((cn=Nn.find(sr=>sr.id===js.classId))==null?void 0:cn.name)||"N/A",avg:parseFloat(ms.toFixed(1))};io.push(Wt),ai[_s]&&ai[_s].push(Wt)}),io.sort((hn,js)=>js.avg-hn.avg);const Sr={students:vn.studentsCount,teachers:vn.teachersCount,classes:Nn.length,maleStudents:vn.gender.male,femaleStudents:vn.gender.female,classAttendance:vn.classAttendance};a(Sr),A(Sr),ct&&localStorage.setItem(ct,JSON.stringify({...Sr,updatedAt:Date.now()})),c(as),u(Gn.slice(-5).reverse()),$(ao),V(Hl),ie(Cs),X(Fr),Je(So),Rt(io.slice(0,5)),$t(ai),ye(new Date),b(!0)}catch(Gt){console.error("Dashboard fetch error:",Gt),H("Failed to load dashboard data. Please check your internet connection or database permissions.")}finally{_e!=null&&_e.background||R(!1)}}},[t,ct]),rn=ee.useCallback(async()=>{t&&(N(!0),await Promise.all([Dt({background:!0}),Yt({background:!0})]),N(!1))},[Dt,Yt,t]),ts=async()=>{try{if(!t)return;const _e=await ot.getDashboardStats(t),Et=(_e.classAttendance||[]).map(Gt=>Gt.percentage||0),Ft=Et.length>0?Math.round(Et.reduce((Gt,En)=>Gt+En,0)/Et.length):0;a(Gt=>({...Gt,students:_e.studentsCount,teachers:_e.teachersCount,classes:Nn.length,maleStudents:_e.gender.male,femaleStudents:_e.gender.female,classAttendance:_e.classAttendance})),ct&&localStorage.setItem(ct,JSON.stringify({students:_e.studentsCount,teachers:_e.teachersCount,classes:Nn.length,maleStudents:_e.gender.male,femaleStudents:_e.gender.female,classAttendance:_e.classAttendance,updatedAt:Date.now()})),ye(new Date),b(!0),ln(ue,_e.studentsCount,600),ln(ge,Ft,600);try{const En=(await ot.getAllAssessments(t)).slice(-300),vn={};En.forEach(Zt=>{vn[Zt.studentId]||(vn[Zt.studentId]={total:0,count:0});const Gs=Zt.total??rc(Zt);vn[Zt.studentId].total+=Gs,vn[Zt.studentId].count+=1});const Gn=Object.values(vn).map(Zt=>Zt.count>0?Zt.total/Zt.count:0),as=Gn.length>0?Math.round(Gn.reduce((Zt,Gs)=>Zt+Gs,0)/Gn.length):0;ln(xe,as,600)}catch(Gt){console.error("Failed to compute grade avg",Gt)}Ga().catch(Gt=>console.error(Gt)),Ms().catch(Gt=>console.error("Failed to compute visuals",Gt))}catch(_e){console.error("Failed to fetch live stats",_e)}},Ms=async()=>{try{if(!t)return;const _e=await ot.getAllAssessments(t),Et=await ot.getStudents(t),Ft={},Gt={},En={},vn={},Gn=new Map(Et.map(ds=>[ds.id,ds.classId]));_e.forEach(ds=>{const Sn=ds.classId||Gn.get(ds.studentId)||"unknown",Cs=ds.subject||"General",is=ds.total??rc(ds);Ft[Sn]||(Ft[Sn]={}),Ft[Sn][Cs]||(Ft[Sn][Cs]={total:0,count:0}),Ft[Sn][Cs].total+=is,Ft[Sn][Cs].count+=1,Gt[Sn]||(Gt[Sn]={total:0,count:0}),Gt[Sn].total+=is,Gt[Sn].count+=1;const Vn=is,mr=Vn>=80?"A":Vn>=65?"B":Vn>=50?"C":Vn>=35?"D":"F";En[Sn]||(En[Sn]={A:0,B:0,C:0,D:0,F:0}),En[Sn][mr]=(En[Sn][mr]||0)+1;const Ds=ds.date?new Date(ds.date).getTime():ds.createdAt?new Date(ds.createdAt).getTime():Date.now();vn[Sn]||(vn[Sn]=[]),vn[Sn].push({date:Ds,avg:is})});const as={};Object.entries(Ft).forEach(([ds,Sn])=>{as[ds]={},Object.entries(Sn).forEach(([Cs,is])=>{as[ds][Cs]=Math.round(is.total/Math.max(1,is.count))})});const Zt=Object.entries(Gt).map(([ds,Sn])=>{var Cs;return{className:((Cs=Nn.find(is=>is.id===ds))==null?void 0:Cs.name)||ds,avg:Math.round(Sn.total/Math.max(1,Sn.count))}}).sort((ds,Sn)=>Sn.avg-ds.avg),Gs={};Object.entries(vn).forEach(([ds,Sn])=>{const Cs=Sn.sort((Ds,Kn)=>Ds.date-Kn.date),is=8,Vn=Math.max(1,Math.ceil(Cs.length/is)),mr=[];for(let Ds=0;Ds<Cs.length;Ds+=Vn){const Kn=Cs.slice(Ds,Ds+Vn),Oi=Math.round(Kn.reduce((ys,Ar)=>ys+Ar.avg,0)/Kn.length);mr.push(Oi)}for(;mr.length<is;)mr.unshift(mr[0]??0);Gs[ds]=mr.slice(-is)}),kt(as),gt(Zt),Un(En),ht(Gs)}catch(_e){console.error("Error fetching visualizations",_e)}},ln=(_e,Et,Ft=500)=>{const Gt=Date.now(),En=0,vn=()=>{const Gn=Math.min(1,(Date.now()-Gt)/Ft),as=Math.round(En+(Et-En)*Gn);_e(as),Gn<1&&requestAnimationFrame(vn)};requestAnimationFrame(vn)},ri=async(_e,Et)=>{const Ft=[];for(const Gt of Nn)try{if(!t)return null;const vn=(await ot.getClassAttendance(t,Gt.id)).filter(as=>{const Zt=as.date.split("-");if(Zt.length!==3)return!1;const Gs=new Date(parseInt(Zt[0]),parseInt(Zt[1])-1,parseInt(Zt[2]));return Gs>=_e&&Gs<=Et&&!as.isHoliday}),Gn=(await ot.getStudents(t,Gt.id)).length||0;if(vn.length>0&&Gn>0){const as=vn.length*Gn,Zt=vn.reduce((Gs,ds)=>{var Sn;return Gs+(((Sn=ds.presentStudentIds)==null?void 0:Sn.length)||0)},0);Ft.push(Math.round(Zt/as*100))}}catch(En){console.error("Error computing class attendance for",Gt.id,En)}return Ft.length===0?null:Math.round(Ft.reduce((Gt,En)=>Gt+En,0)/Ft.length)},Ga=async()=>{const _e=Ze||new Date,{monday:Et}=Ns(_e),Ft=Et,Gt=new Date(Et);Gt.setDate(Et.getDate()+4);const En=new Date(Et);En.setDate(Et.getDate()-7);const vn=new Date(En);vn.setDate(En.getDate()+4);const Gn=await ri(Ft,Gt),as=await ri(En,vn);Ue(Gn),rt(as)};ee.useEffect(()=>{if(!(e||!t)){if(v(!1),ct){const _e=localStorage.getItem(ct);if(_e)try{const Et=JSON.parse(_e);a(Ft=>({...Ft,students:Et.students??Ft.students,teachers:Et.teachers??Ft.teachers,classes:Et.classes??Ft.classes,maleStudents:Et.maleStudents??Ft.maleStudents,femaleStudents:Et.femaleStudents??Ft.femaleStudents,classAttendance:Et.classAttendance??Ft.classAttendance})),A(Et)}catch(Et){console.warn("Failed to parse cached dashboard summary",Et),localStorage.removeItem(ct)}}Dt().catch(_e=>console.error(_e)),Yt().catch(_e=>console.error(_e))}},[e,t,Dt,Yt,ct]),ee.useEffect(()=>{if(!t)return;const _e=$n(Pn(Ct,"attendance"),nn("schoolId","==",t)),Et=$n(Pn(Ct,"assessments"),nn("schoolId","==",t)),Ft=$n(Pn(Ct,"teacher_attendance"),nn("schoolId","==",t)),Gt=On(Ct,"settings",t),En=$f(_e,()=>{ts().catch(Zt=>console.error("Error refreshing stats on attendance change",Zt))}),vn=$f(Et,()=>{ts().catch(Zt=>console.error("Error refreshing stats on assessments change",Zt))}),Gn=$f(Ft,()=>{ts().catch(Zt=>console.error("Error refreshing stats on teacher attendance change",Zt))}),as=$f(Gt,Zt=>{if(Zt.exists()){const Gs=Zt.data();me(ds=>({...ds,academicYear:Gs.academicYear||wo,currentTerm:Gs.currentTerm||`Term ${Xi}`,schoolReopenDate:Gs.schoolReopenDate||""}))}});return()=>{En(),vn(),as(),Gn()}},[t]),ee.useEffect(()=>{if(!q){ne.current&&(clearInterval(ne.current),ne.current=null);return}return ts(),ne.current=window.setInterval(ts,15e3),()=>{ne.current&&(clearInterval(ne.current),ne.current=null)}},[q]),ee.useEffect(()=>{if(!oe)return;W(Date.now());const _e=window.setInterval(()=>W(Date.now()),1e3);return()=>clearInterval(_e)},[oe]),ee.useEffect(()=>{if(Le.schoolReopenDate){const _e=Le.schoolReopenDate.split("-"),Et=_e.length===3?new Date(parseInt(_e[0]),parseInt(_e[1])-1,parseInt(_e[2])):new Date(Le.schoolReopenDate);if(Et>new Date){pt(Ns(Et).monday);return}}pt(Ns(new Date).monday)},[Le.schoolReopenDate]),ee.useEffect(()=>{const _e=()=>Q(null);return D&&window.addEventListener("click",_e),()=>window.removeEventListener("click",_e)},[D]);const Ca=(_e,Et)=>{_e.stopPropagation(),Q(D===Et?null:Et)},Xr=async _e=>{Q(null),lt(_e),Qt(null);try{const Et=await ot.getStudentPerformance(t,_e.id,_e.classId);Qt(Et)}catch(Et){console.error(Et)}},dn=_e=>{Q(null),Vt(_e),jt({..._e})},Hs=async _e=>{if(_e.preventDefault(),!(!St||!en.name))try{const Et={...St,...en};await ot.updateStudent(Et),rn(),Vt(null)}catch{Pt("Failed to update student",{type:"error"})}},Cr=async _e=>{sn(null);try{if(!t)return;const Ft=(await ot.getStudents(t)).find(Gt=>Gt.id===_e);Ft?Xr(Ft):Pt("Student not found",{type:"error"})}catch(Et){console.error(Et),Pt("Failed to fetch student",{type:"error"})}},Ns=_e=>{const Et=new Date(_e),Ft=Et.getDay(),Gt=new Date(Et);Gt.setDate(Et.getDate()-(Ft===0?6:Ft-1));const En=new Date(Gt);return En.setDate(Gt.getDate()+4),{monday:Gt,friday:En}},cs=()=>{if(Ze===null)return;const _e=new Date(Ze);if(_e.setDate(_e.getDate()-7),Le.schoolReopenDate){const Et=Le.schoolReopenDate.split("-"),Ft=Et.length===3?new Date(parseInt(Et[0]),parseInt(Et[1])-1,parseInt(Et[2])):new Date(Le.schoolReopenDate),Gt=Ns(Ft).monday;if(_e<Gt){Pt("Cannot view weeks before school re-opens",{type:"info"});return}}pt(_e)},rs=()=>{if(Ze===null)return;const _e=new Date(Ze);_e.setDate(_e.getDate()+7),pt(_e)},us=()=>{if(Le.schoolReopenDate){const _e=Le.schoolReopenDate.split("-"),Et=_e.length===3?new Date(parseInt(_e[0]),parseInt(_e[1])-1,parseInt(_e[2])):new Date(Le.schoolReopenDate);if(Et>new Date){pt(Ns(Et).monday);return}}pt(Ns(new Date).monday)},Rs=({title:_e,value:Et,subtext:Ft,icon:Gt,colorClass:En,iconColorClass:vn})=>i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 flex flex-col justify-between relative overflow-hidden group hover:shadow-md transition-shadow min-h-[140px]",children:[i.jsx("div",{className:"flex justify-between items-start z-10",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-500 text-sm font-semibold uppercase tracking-wider",children:_e}),i.jsx("h3",{className:"text-3xl font-bold text-slate-800 mt-2",children:Et}),Ft&&i.jsx("p",{className:"text-xs text-slate-400 mt-1",children:Ft})]})}),i.jsx("div",{className:`absolute -right-4 -bottom-4 opacity-10 pointer-events-none transform group-hover:scale-110 transition-transform ${vn}`,children:i.jsx(Gt,{size:100})})]}),fr=({title:_e,value:Et,suffix:Ft,delta:Gt,deltaPositive:En})=>i.jsx("div",{className:"bg-white p-4 rounded-2xl shadow-sm border border-slate-100 flex flex-col justify-between",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-slate-400 uppercase font-semibold",children:_e}),i.jsxs("div",{className:"flex items-baseline gap-2",children:[i.jsx("span",{className:"text-2xl font-bold text-slate-800",children:Et}),Ft&&i.jsx("span",{className:"text-sm text-slate-500",children:Ft})]})]}),i.jsx("div",{className:`text-sm font-semibold px-2 py-1 rounded ${En?"bg-emerald-50 text-emerald-700":"bg-red-50 text-red-700"}`,children:Gt??"--"})]})}),pa=()=>i.jsx("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsx(fr,{title:"Students Enrolled",value:ae,suffix:"total",delta:null,deltaPositive:!0}),i.jsx(fr,{title:"Attendance Now",value:`${ce}%`,suffix:null,delta:Ie!==null&&Pe!==null?`${Ie-Pe}% vs last week`:"No comparison",deltaPositive:Ie!==null&&Pe!==null?Ie-Pe>=0:!0}),i.jsx(fr,{title:"Avg Grade",value:`${Se}%`,suffix:null,delta:null,deltaPositive:!0})]})}),Qi=()=>i.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-amber-100 p-6 rounded-2xl shadow-md border border-amber-200 flex flex-col justify-between min-h-[140px]",children:[i.jsxs("div",{className:"flex items-start justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-semibold uppercase text-amber-700",children:"Students Enrolled"}),i.jsx("h3",{className:"text-3xl sm:text-4xl font-extrabold text-amber-900 mt-2",children:s.students}),i.jsxs("p",{className:"text-sm text-amber-700 mt-1",children:[s.classes," classes  ",s.teachers," teachers"]})]}),i.jsx("div",{className:"flex items-center gap-3",children:i.jsx("div",{className:"bg-white p-3 rounded-xl shadow-sm hidden sm:flex",children:i.jsx(um,{className:"text-amber-600",size:28})})})]}),i.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-xs text-slate-500",children:"Female"}),i.jsx("div",{className:"text-lg font-bold text-[#0B4A82]",children:s.femaleStudents})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-xs text-slate-500",children:"Male"}),i.jsx("div",{className:"text-lg font-bold text-amber-600",children:s.maleStudents})]})]}),i.jsx("div",{className:"hidden sm:flex items-end gap-2 flex-1 max-w-[55%]",children:s.classAttendance.slice(0,8).map(_e=>i.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[i.jsx("div",{className:"w-full rounded-sm",title:`${_e.className}: ${_e.percentage}%`,style:{background:_e.percentage>=80?"#16a34a":_e.percentage<50?"#dc2626":"#f59e0b",height:`${Math.max(6,Math.round(_e.percentage/2))}px`}}),i.jsx("div",{className:"text-[10px] text-slate-500 mt-1 truncate text-center",children:_e.className.replace("Primary ","P").replace("Class ","P").replace("Nursery ","N")})]},_e.id))})]}),i.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[i.jsxs("div",{className:"text-xs text-slate-500",children:["Updated"," ",oe?`${Math.floor((M-oe.getTime())/1e3)}s ago`:""]}),i.jsx("div",{className:"text-xs text-slate-400 hidden sm:block",children:"Responsive  Clean  Insightful"})]})]}),Kr=()=>{const _e=s.teachers>0?Math.round(s.students/s.teachers):"";return i.jsxs("div",{className:"bg-gradient-to-br from-sky-50 to-sky-100 p-6 rounded-2xl shadow-md border border-sky-200 flex flex-col justify-between min-h-[140px]",children:[i.jsxs("div",{className:"flex items-start justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-semibold uppercase text-sky-700",children:"Teachers & Staff"}),i.jsx("h3",{className:"text-3xl sm:text-4xl font-extrabold text-sky-900 mt-2",children:s.teachers}),i.jsxs("p",{className:"text-sm text-sky-700 mt-1",children:["Teaching across ",s.classes," classes"]})]}),i.jsx("div",{className:"flex items-center gap-3",children:i.jsx("div",{className:"bg-white p-3 rounded-xl shadow-sm hidden sm:flex",children:i.jsx(fl,{className:"text-sky-600",size:28})})})]}),i.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-xs text-slate-500",children:"Avg Students / Teacher"}),i.jsx("div",{className:"text-lg font-bold text-sky-800",children:_e})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-xs text-slate-500",children:"Classes"}),i.jsx("div",{className:"text-lg font-bold text-sky-800",children:s.classes})]})]}),i.jsx("div",{className:"hidden sm:flex items-center gap-3",children:i.jsx(fi,{to:"/admin/teachers",className:"text-xs bg-white px-3 py-1 rounded-md font-medium text-sky-700 shadow-sm hover:underline",children:"Manage Staff"})})]}),i.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[i.jsxs("div",{className:"text-xs text-slate-500",children:["Updated"," ",oe?`${Math.floor((M-oe.getTime())/1e3)}s ago`:""]}),i.jsx("div",{className:"text-xs text-slate-400 hidden sm:block",children:"Professional  Accessible  Responsive"})]})]})},_r=()=>{const _e=s.maleStudents+s.femaleStudents||1,Et=Math.round(s.maleStudents/_e*100),Ft=Math.round(s.femaleStudents/_e*100);return i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 h-full flex flex-col justify-center items-center",children:[i.jsx("h3",{className:"font-bold text-slate-800 w-full mb-6",children:"Demographics"}),i.jsxs("div",{className:"relative w-48 h-48",children:[i.jsx("div",{className:"absolute inset-0 rounded-full border-8 border-slate-50"}),i.jsx("div",{className:"absolute inset-0 rounded-full",style:{background:`conic-gradient(#1160A8 0% ${Ft}%, #f59e0b ${Ft}% 100%)`,mask:"radial-gradient(transparent 60%, black 61%)",WebkitMask:"radial-gradient(transparent 60%, black 61%)"}}),i.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none",children:[i.jsx("span",{className:"text-3xl font-bold text-slate-800",children:s.students}),i.jsx("span",{className:"text-xs text-slate-500 uppercase tracking-wide",children:"Total"})]})]}),i.jsxs("div",{className:"flex w-full justify-between px-6 mt-8",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-xs text-slate-400 mb-1",children:"Female"}),i.jsxs("p",{className:"text-xl font-bold text-[#0B4A82]",children:[Ft,"%"]}),i.jsx("p",{className:"text-lg font-bold text-[#1160A8] mt-1",children:s.femaleStudents})]}),i.jsx("div",{className:"w-px bg-slate-100"}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-xs text-slate-400 mb-1",children:"Male"}),i.jsxs("p",{className:"text-xl font-bold text-amber-500",children:[Et,"%"]}),i.jsx("p",{className:"text-lg font-bold text-amber-600 mt-1",children:s.maleStudents})]})]})]})},vi=()=>{const _e=Object.keys(dt).reduce((vn,Gn)=>vn+dt[Gn],0)||0,Et={A:4,B:3,C:2,D:1,F:0},Ft=Object.entries(dt).reduce((vn,[Gn,as])=>{const Zt=Et[Gn]??0;return vn+Zt*as},0),Gt=_e>0?Ft/_e:0,En=Gt>=3.5?"A":Gt>=2.5?"B":Gt>=1.5?"C":Gt>=.5?"D":"F";return i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8",children:[i.jsxs("div",{className:"lg:col-span-2 bg-white p-4 sm:p-6 rounded-2xl shadow-md border border-slate-100 overflow-x-auto",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 sm:mb-6 gap-3 sm:gap-0",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"p-3 bg-[#E6F0FA] rounded-xl",children:i.jsx(pv,{className:"w-6 h-6 text-[#0B4A82]"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-slate-800",children:"Academic Performance Rate"}),i.jsx("p",{className:"text-xs text-slate-500",children:Le.currentTerm})]}),i.jsxs("div",{className:"grid grid-cols-2 sm:flex sm:ml-6 gap-4 sm:gap-6 sm:hidden",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-slate-500 uppercase",children:"Graded Students"}),i.jsx("p",{className:"text-lg sm:text-2xl font-bold text-slate-800",children:_e})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-slate-500 uppercase",children:"Average Grade"}),i.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-amber-500",children:[En," ",i.jsxs("span",{className:"text-xs sm:text-sm text-slate-500",children:["(",Gt.toFixed(2),")"]})]})]})]}),i.jsxs("div",{className:"hidden sm:block ml-6",children:[i.jsx("p",{className:"text-xs text-slate-500 uppercase",children:"Graded Students"}),i.jsx("p",{className:"text-2xl font-bold text-slate-800",children:_e})]}),i.jsxs("div",{className:"hidden sm:block ml-6",children:[i.jsx("p",{className:"text-xs text-slate-500 uppercase",children:"Average Grade"}),i.jsxs("p",{className:"text-2xl font-bold text-amber-500",children:[En," ",i.jsxs("span",{className:"text-sm text-slate-500",children:["(",Gt.toFixed(2),")"]})]})]})]}),i.jsxs("button",{onClick:rn,disabled:I,className:"flex items-center px-3 py-1.5 bg-slate-100 hover:bg-slate-200 text-slate-600 rounded-lg text-sm font-medium transition-colors disabled:opacity-50",title:"Refresh performance data",children:[i.jsx(Ag,{size:14,className:`mr-1 ${I?"animate-spin":""}`}),"Refresh"]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"space-y-3",children:Object.entries(dt).map(([vn,Gn])=>{const as=_e>0?Math.round(Gn/_e*100):0;let Zt="from-emerald-400 to-emerald-600";return vn==="B"&&(Zt="from-[#E6F0FA] to-[#1160A8]"),vn==="C"&&(Zt="from-amber-300 to-amber-500"),vn==="D"&&(Zt="from-orange-300 to-orange-500"),vn==="F"&&(Zt="from-red-400 to-red-600"),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-10 font-bold text-slate-700",children:vn}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"relative h-4 bg-slate-100 rounded-full overflow-hidden",children:i.jsx("div",{className:`absolute left-0 top-0 h-full rounded-full bg-gradient-to-r ${Zt} transition-all duration-1000`,style:{width:`${as}%`},title:`${Gn} students  ${as}%`})}),i.jsxs("div",{className:"mt-2 flex justify-between text-xs text-slate-500",children:[i.jsxs("span",{children:[Gn," ",Gn===1?"student":"students"]}),i.jsxs("span",{className:"font-semibold text-slate-700",children:[as,"%"]})]})]}),i.jsx("div",{className:"ml-4",children:i.jsx("button",{onClick:()=>sn(vn),className:"text-xs text-[#0B4A82] hover:underline font-medium",children:"View"})})]},vn)})}),i.jsxs("div",{className:"mt-4 flex flex-wrap gap-4 items-center",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"w-4 h-4 rounded-sm block bg-gradient-to-r from-emerald-400 to-emerald-600","aria-hidden":!0}),i.jsx("span",{className:"text-xs text-slate-600",children:"A  Excellent"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"w-4 h-4 rounded-sm block bg-gradient-to-r from-[#E6F0FA] to-[#1160A8]","aria-hidden":!0}),i.jsx("span",{className:"text-xs text-slate-600",children:"B  Very Good"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"w-4 h-4 rounded-sm block bg-gradient-to-r from-amber-300 to-amber-500","aria-hidden":!0}),i.jsx("span",{className:"text-xs text-slate-600",children:"C  Satisfactory"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"w-4 h-4 rounded-sm block bg-gradient-to-r from-orange-300 to-orange-500","aria-hidden":!0}),i.jsx("span",{className:"text-xs text-slate-600",children:"D  Needs Support"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"w-4 h-4 rounded-sm block bg-gradient-to-r from-red-400 to-red-600","aria-hidden":!0}),i.jsx("span",{className:"text-xs text-slate-600",children:"F  Intervention Required"})]})]}),_e===0&&i.jsxs("div",{className:"text-center text-slate-400 py-4 text-sm",children:["No academic data available for ",Le.currentTerm,"."]}),i.jsxs("div",{className:"mt-4 p-4 bg-gradient-to-r from-emerald-50 to-[#E6F0FA] rounded-lg text-sm text-slate-700 border border-slate-100",children:[i.jsx("div",{className:"font-semibold text-slate-800 mb-1",children:"What this chart shows"}),i.jsx("div",{className:"text-sm",children:"Each bar represents the number of students who received that grade during the selected term. Percentages are calculated against the total number of graded students. Use the counts and percentages to identify strengths (high A/B) and areas for intervention (high D/F). Hover a bar to see the exact count."})]})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[i.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center",children:[i.jsx(VM,{className:"w-5 h-5 mr-2 text-amber-500"})," Top Performers"]}),i.jsx("div",{className:"space-y-4",children:Ut.length===0?i.jsx("p",{className:"text-sm text-slate-400 italic",children:"No data yet."}):Ut.map((vn,Gn)=>i.jsxs("div",{className:"flex items-center justify-between border-b border-slate-50 pb-2 last:border-0 last:pb-0",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold text-white ${Gn===0?"bg-amber-500":"bg-slate-300"}`,children:Gn+1}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-slate-800",children:vn.name}),i.jsx("p",{className:"text-xs text-slate-400",children:vn.class})]})]}),i.jsx("span",{className:"text-sm font-bold text-[#0B4A82]",children:vn.avg})]},Gn))})]})]})},zr=S||!g;return L?i.jsx(lr,{title:"Dashboard",children:i.jsxs("div",{className:"flex items-center justify-center h-96 flex-col p-8",children:[i.jsx(Yy,{size:48,className:"text-red-400 mb-4"}),i.jsx("h3",{className:"text-lg font-bold text-slate-700",children:"Unable to load dashboard"}),i.jsx("p",{className:"text-slate-500 text-center max-w-md mb-6",children:L}),i.jsxs("button",{onClick:rn,className:"flex items-center px-4 py-2 bg-red-800 text-white rounded-lg hover:bg-red-900 transition-colors",children:[i.jsx(Ag,{size:16,className:"mr-2"})," Retry"]})]})}):i.jsxs(lr,{title:"Dashboard",children:[i.jsxs("div",{className:"mb-8 flex flex-col md:flex-row md:items-end justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Welcome, Headmistress"}),i.jsx("p",{className:"text-slate-500 mt-1",children:"Here is what's happening in your school today."}),i.jsx("div",{className:"mt-2 text-xs text-slate-500 flex items-center gap-2",children:I||_?i.jsxs("span",{className:"inline-flex items-center gap-2",children:[i.jsx("span",{className:"w-2 h-2 rounded-full bg-amber-400 animate-pulse"}),"Refreshing data"]}):i.jsxs("span",{className:"inline-flex items-center gap-2",children:[i.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-400"}),"Data up to date"]})})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"text-right mr-2 hidden sm:block",children:[i.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Academic Period"}),i.jsxs("p",{className:"text-sm font-bold text-[#0B4A82]",children:[Le.currentTerm,"  ",Le.academicYear]})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs(fi,{to:"/admin/students",className:"flex items-center px-4 py-2 bg-[#0B4A82] text-white rounded-lg hover:bg-[#0B4A82] transition-colors shadow-sm text-sm font-medium",children:[i.jsx(a2,{size:16,className:"mr-2"}),"Add Student"]}),i.jsxs(fi,{to:"/admin/teachers",className:"flex items-center px-4 py-2 bg-white border border-slate-200 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors shadow-sm text-sm font-medium",children:[i.jsx(fl,{size:16,className:"mr-2"}),"Add Staff"]})]}),i.jsxs("div",{className:"ml-4 flex flex-col items-end text-right",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:`w-3 h-3 rounded-full ${q?"bg-emerald-500":"bg-slate-300"}`,"aria-hidden":!0}),i.jsx("button",{onClick:()=>Z(_e=>!_e),className:"text-xs text-slate-600 hover:underline",title:"Toggle live metrics polling",children:q?"Live Metrics On":"Enable Live Metrics"})]}),i.jsx("div",{className:"text-xs text-slate-400 mt-1",children:oe?`Updated ${Math.floor((M-oe.getTime())/1e3)}s ago`:"Not updated"})]})]})]}),Ge&&i.jsx("div",{className:"mb-8",children:i.jsx("div",{className:`rounded-2xl border p-6 shadow-sm ${Ge.isOverdue?"border-rose-200 bg-rose-50/60":"border-amber-200 bg-amber-50/70"}`,children:i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${Ge.isOverdue?"bg-rose-500 text-white":"bg-amber-500 text-white"}`,children:i.jsx(UM,{size:20})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-semibold uppercase tracking-widest text-slate-500",children:"Subscription Reminder"}),i.jsx("h3",{className:"text-xl font-bold text-slate-900 mt-1",children:Ge.isOverdue?"Subscription overdue":"Subscription payment due"}),i.jsxs("p",{className:"text-sm text-slate-600 mt-2",children:["Plan:"," ",i.jsx("span",{className:"font-semibold",children:Ge.planLabel})," "," Fee:"," ",i.jsxs("span",{className:"font-semibold",children:["GHS ",Ge.planFee]})]}),i.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Started:"," ",Ge.createdAt.toLocaleDateString(),"  Due:"," ",Ge.dueDate.toLocaleDateString()]})]})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[i.jsx("div",{className:`px-4 py-2 rounded-full text-sm font-semibold ${Ge.isOverdue?"bg-rose-500 text-white":"bg-amber-500 text-white"}`,children:Ge.isOverdue?"Overdue":"Time left"}),i.jsxs("div",{className:"px-4 py-2 rounded-2xl bg-white border border-slate-200 text-slate-700",children:[i.jsx("div",{className:"text-xs uppercase text-slate-400",children:"Countdown"}),i.jsxs("div",{className:"text-lg font-bold",children:[Ge.days,"d ",Ge.hours,"h"," ",Ge.minutes,"m"," ",Ge.seconds,"s"]})]}),i.jsxs(fi,{to:"/admin/billing",className:"inline-flex items-center gap-2 px-4 py-2 bg-[#0B4A82] text-white rounded-lg text-sm font-medium hover:bg-[#0B4A82] transition-colors",children:[i.jsx(i2,{size:16}),"Go to Billing"]})]})]})})}),G.length>0&&i.jsx("div",{className:"mb-8",children:i.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-orange-50 border border-red-200 rounded-2xl p-6 shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"p-2 bg-red-100 rounded-full",children:i.jsx(Yy,{className:"text-red-600",size:24})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-red-900 text-lg",children:"Attendance Alerts"}),i.jsxs("p",{className:"text-red-700 text-sm",children:[G.length," teacher",G.length!==1?"s":""," have missed attendance recently."]})]})]}),i.jsx("div",{className:"space-y-3",children:G.map(_e=>i.jsx("div",{className:"bg-white p-4 rounded-lg border border-red-100 shadow-sm",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-sm font-bold text-red-600",children:_e.teacherName.charAt(0)})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-slate-800",children:_e.teacherName}),i.jsx("p",{className:"text-sm text-slate-500",children:_e.classes})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"text-sm font-medium text-red-700",children:["Missed:"," ",(()=>{const Et=_e.date.split("-");return Et.length===3?`${Et[1]}/${Et[2]}/${Et[0]}`:_e.date})()]}),i.jsx("p",{className:"text-xs text-slate-400",children:"Please follow up"})]})]})},`${_e.teacherId}-${_e.date}`))})]})}),de.length>0&&i.jsx("div",{className:"mb-8",children:i.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-indigo-50 border border-red-200 rounded-2xl p-6 shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"p-2 bg-red-100 rounded-full",children:i.jsx(Yy,{className:"text-red-600",size:24})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-red-900 text-lg",children:"Missed Student Attendance"}),i.jsxs("p",{className:"text-red-700 text-sm",children:[de.length," teacher",de.length!==1?"s":""," have not marked student attendance recently."]})]})]}),i.jsx("div",{className:"space-y-3",children:de.map(_e=>i.jsx("div",{className:"bg-white p-4 rounded-lg border border-red-100 shadow-sm",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-sm font-bold text-red-600",children:_e.teacherName.charAt(0)})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-slate-800",children:_e.teacherName}),i.jsx("p",{className:"text-sm text-slate-500",children:_e.className})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"text-sm font-medium text-red-700",children:["Missed for:"," ",(()=>{const Et=_e.date.split("-");return Et.length===3?`${Et[1]}/${Et[2]}/${Et[0]}`:_e.date})()]}),i.jsx("p",{className:"text-xs text-slate-400",children:"Action may be required"})]})]})},`${_e.teacherId}-${_e.date}`))})]})}),i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h2",{className:"text-sm font-semibold text-slate-600 uppercase tracking-wide",children:"Overview"}),(S||I)&&i.jsx(gd,{})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[zr?i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 min-h-[140px]",children:[i.jsx(Ti,{className:"h-4 w-32"}),i.jsx(Ti,{className:"h-10 w-24 mt-4"}),i.jsx(Ti,{className:"h-4 w-40 mt-4"}),i.jsxs("div",{className:"flex gap-6 mt-4",children:[i.jsx(Ti,{className:"h-6 w-16"}),i.jsx(Ti,{className:"h-6 w-16"})]})]}):i.jsx(Qi,{}),zr?i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 min-h-[140px]",children:[i.jsx(Ti,{className:"h-4 w-32"}),i.jsx(Ti,{className:"h-10 w-24 mt-4"}),i.jsx(Ti,{className:"h-4 w-40 mt-4"}),i.jsxs("div",{className:"flex gap-6 mt-4",children:[i.jsx(Ti,{className:"h-6 w-16"}),i.jsx(Ti,{className:"h-6 w-16"})]})]}):i.jsx(Kr,{}),i.jsx(Rs,{title:"Notices",value:zr?"":o.length,subtext:"Active Announcements",icon:Pp,colorClass:"bg-[#E6F0FA]",iconColorClass:"text-[#0B4A82]"})]}),i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h2",{className:"text-sm font-semibold text-slate-600 uppercase tracking-wide",children:"Live KPIs"}),(S||I)&&i.jsx(gd,{})]}),zr?i.jsx("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Array.from({length:3}).map((_e,Et)=>i.jsxs("div",{className:"bg-slate-50 p-4 rounded-2xl border border-slate-100",children:[i.jsx(Ti,{className:"h-4 w-24"}),i.jsx(Ti,{className:"h-8 w-20 mt-3"}),i.jsx(Ti,{className:"h-4 w-16 mt-2"})]},Et))})}):i.jsx(pa,{})]}),i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h2",{className:"text-sm font-semibold text-slate-600 uppercase tracking-wide",children:"Attendance & Demographics"}),(_||I)&&i.jsx(gd,{})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8",children:[i.jsx("div",{className:"lg:col-span-2 h-[550px]",children:zr?i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 h-full",children:[i.jsx(Ti,{className:"h-5 w-40"}),i.jsx(Ti,{className:"h-4 w-64 mt-3"}),i.jsx(Ti,{className:"h-64 mt-6"})]}):i.jsx(A7,{data:s.classAttendance,week:Ze,onPreviousWeek:cs,onNextWeek:rs,onCurrentWeek:us,schoolReopenDate:Le.schoolReopenDate})}),i.jsx("div",{className:"h-96",children:zr?i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 h-full flex flex-col justify-center",children:[i.jsx(Ti,{className:"h-5 w-32"}),i.jsx(Ti,{className:"h-44 w-44 rounded-full mx-auto mt-6"}),i.jsxs("div",{className:"flex justify-between mt-6",children:[i.jsx(Ti,{className:"h-6 w-20"}),i.jsx(Ti,{className:"h-6 w-20"})]})]}):i.jsx(_r,{})})]}),i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h2",{className:"text-sm font-semibold text-slate-600 uppercase tracking-wide",children:"Academic Performance"}),(_||I)&&i.jsx(gd,{})]}),i.jsx(vi,{}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[i.jsxs("div",{className:"lg:col-span-2 bg-white rounded-2xl shadow-sm border border-slate-100 overflow-visible",children:[i.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-slate-800",children:"New Admissions"}),i.jsx("p",{className:"text-xs text-slate-500",children:"Recently added students"})]}),(_||I)&&i.jsx(gd,{}),i.jsx(fi,{to:"/admin/students",className:"text-sm text-[#0B4A82] hover:text-[#0B4A82] font-medium bg-[#E6F0FA] px-3 py-1 rounded-full transition-colors",children:"View All"})]}),i.jsx("div",{className:"overflow-x-auto overflow-y-visible",children:i.jsxs("table",{className:"w-full text-left text-sm text-slate-600",children:[i.jsx("thead",{className:"bg-slate-50 text-slate-700 font-semibold",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3",children:"Student Name"}),i.jsx("th",{className:"px-6 py-3",children:"Assigned Class"}),i.jsx("th",{className:"px-6 py-3",children:"Status"}),i.jsx("th",{className:"px-6 py-3 text-right",children:"Action"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-100",children:h.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:4,className:"p-6 text-center text-slate-400",children:"No students yet."})}):h.map((_e,Et)=>{var Ft;return i.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[i.jsxs("td",{className:"px-6 py-4 font-medium text-slate-800 flex items-center",children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs text-white mr-3 shadow-sm ${_e.gender==="Male"?"bg-amber-400":"bg-[#0B4A82]"}`,children:_e.name.charAt(0)}),i.jsxs("div",{children:[i.jsx("p",{children:_e.name}),i.jsx("p",{className:"text-[10px] text-slate-400 uppercase",children:_e.gender})]})]}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("span",{className:"px-2.5 py-1 rounded-md bg-slate-100 text-slate-600 text-xs font-semibold border border-slate-200",children:(Ft=Nn.find(Gt=>Gt.id===_e.classId))==null?void 0:Ft.name})}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("span",{className:"inline-flex items-center text-xs font-medium text-emerald-600 bg-emerald-50 px-2 py-1 rounded-full",children:[i.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 mr-1.5"}),"Active"]})}),i.jsx("td",{className:"px-6 py-4 text-right",children:i.jsxs("div",{className:"relative",children:[i.jsx("button",{onClick:Gt=>Ca(Gt,_e.id),className:`transition-colors p-1.5 rounded-full hover:bg-slate-200 ${D===_e.id?"text-[#1160A8] bg-slate-100":"text-slate-400"}`,children:i.jsx(Hk,{size:18})}),D===_e.id&&i.jsxs("div",{className:"absolute right-0 mt-1 w-40 bg-white rounded-lg shadow-xl border border-slate-100 z-50 py-1 text-left animate-in fade-in zoom-in-95 duration-100 origin-top-right",children:[i.jsxs("button",{onClick:()=>Xr(_e),className:"flex items-center w-full px-4 py-2.5 text-xs text-slate-700 hover:bg-slate-50 hover:text-[#1160A8] font-medium transition-colors",children:[i.jsx(qd,{size:14,className:"mr-2"})," View Details"]}),i.jsxs("button",{onClick:()=>dn(_e),className:"flex items-center w-full px-4 py-2.5 text-xs text-slate-700 hover:bg-slate-50 hover:text-[#1160A8] font-medium transition-colors",children:[i.jsx(r2,{size:14,className:"mr-2"})," Edit Student"]})]})]})})]},_e.id)})})]})})]}),i.jsxs("div",{className:"bg-gradient-to-br from-[#0B4A82] to-[#0B4A82] rounded-2xl shadow-lg border border-[#0B4A82] overflow-hidden flex flex-col text-white self-start",children:[i.jsxs("div",{className:"p-6 border-b border-[#0B4A82] flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-[#E6F0FA]",children:"Notice Board"}),i.jsx("p",{className:"text-xs text-slate-300",children:"School announcements"})]}),(_||I)&&i.jsx(gd,{label:"Refreshing"}),i.jsx(fi,{to:"/admin/settings",className:"p-2 rounded-lg hover:bg-white/10 text-slate-300 transition-colors",children:i.jsx(n2,{size:18})})]}),i.jsx("div",{className:"p-4 space-y-4 flex-1 overflow-y-auto max-h-[400px]",children:o.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center h-40 text-slate-400",children:[i.jsx(Zo,{size:40,className:"mb-2 opacity-20"}),i.jsx("p",{className:"text-sm",children:"No new notices"})]}):o.map((_e,Et)=>i.jsxs("div",{className:"group relative pl-4 pb-4 border-l border-slate-700 last:pb-0",children:[i.jsx("div",{className:`absolute -left-[5px] top-0 w-2.5 h-2.5 rounded-full border-2 border-slate-800 ${_e.type==="urgent"?"bg-red-500":"bg-amber-500"}`}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between items-start mb-1",children:[i.jsx("span",{className:"text-[10px] font-mono text-slate-400 bg-slate-900 px-1.5 py-0.5 rounded",children:_e.date}),_e.type==="urgent"&&i.jsx("span",{className:"text-[10px] text-red-400 font-bold uppercase tracking-wider",children:"Urgent"})]}),i.jsx("p",{className:"text-sm font-medium text-slate-200 group-hover:text-white transition-colors",children:_e.message})]})]},_e.id))}),i.jsx("div",{className:"p-4 bg-slate-900/50 text-center",children:i.jsxs(fi,{to:"/admin/timetable",className:"text-xs font-semibold text-amber-400 hover:text-amber-300 uppercase tracking-wide flex items-center justify-center w-full",children:["View Calendar ",i.jsx(UT,{size:12,className:"ml-1"})]})})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 via-teal-50 to-cyan-50 rounded-2xl shadow-lg border border-emerald-200 flex flex-col min-h-[260px] hover:shadow-xl transition-shadow duration-300",children:[i.jsxs("div",{className:"p-3 sm:p-4 border-b border-emerald-200 flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-emerald-900 text-base sm:text-lg",children:"Teacher Attendance Today"}),i.jsx("p",{className:"text-[10px] sm:text-xs text-emerald-700 mt-0.5",children:"Current day's staff presence overview"})]}),(_||I)&&i.jsx(gd,{}),i.jsx("div",{className:"bg-emerald-100 p-1.5 sm:p-2 rounded-full",children:i.jsx(fl,{className:"text-emerald-600",size:16})})]}),i.jsx("div",{className:"p-3 space-y-2 flex-1 overflow-y-auto max-h-[300px] sm:max-h-[350px]",children:O.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center h-24 text-emerald-500",children:[i.jsx("div",{className:"bg-emerald-100 p-3 rounded-full mb-2",children:i.jsx(fl,{size:24,className:"text-emerald-400"})}),i.jsx("p",{className:"text-xs font-medium text-center",children:"No attendance marked yet today"}),i.jsx("p",{className:"text-[10px] text-emerald-400 mt-0.5",children:"Teachers will appear here once they mark attendance"})]}):i.jsxs("div",{className:"space-y-2",children:[O.map(_e=>i.jsx("div",{className:"bg-white p-3 rounded-lg shadow-sm border border-emerald-100 hover:shadow-md transition-all duration-200 hover:border-emerald-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[i.jsx("div",{className:`w-3.5 h-3.5 rounded-full flex-shrink-0 ${_e.isHoliday?"bg-amber-500":_e.status==="present"?"bg-emerald-500":"bg-red-500"} shadow-sm`}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-1.5 mb-0.5 flex-wrap",children:[i.jsx("p",{className:"text-[10px] sm:text-xs font-semibold text-slate-800 truncate max-w-[120px] sm:max-w-none",children:_e.teacherName}),i.jsx("span",{className:`px-1.5 py-0.5 rounded-full text-[9px] font-medium flex-shrink-0 ${_e.isHoliday?"bg-amber-100 text-amber-700":_e.status==="present"?"bg-emerald-100 text-emerald-700":"bg-red-100 text-red-700"}`,children:_e.isHoliday?"Holiday":_e.status==="present"?"Present":"Absent"})]}),i.jsx("p",{className:"text-[9px] text-slate-500 truncate",children:_e.teacherClasses||"No classes assigned"}),i.jsx("p",{className:"text-[9px] text-slate-400 mt-0.5",children:_e.date})]})]}),i.jsx("div",{className:"ml-2 flex-shrink-0",children:i.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${_e.isHoliday?"bg-amber-100 text-amber-600":_e.status==="present"?"bg-emerald-100 text-emerald-600":"bg-red-100 text-red-600"}`,children:_e.isHoliday?i.jsx(Li,{className:"w-3 h-3"}):_e.status==="present"?i.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):i.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})})]})},_e.id)),i.jsx("div",{className:"text-center mt-3 pt-2 border-t border-emerald-100",children:i.jsxs("p",{className:"text-[10px] text-emerald-600 font-medium",children:[O.length," teacher",O.length!==1?"s":""," marked attendance today"]})})]})})]}),Le.schoolReopenDate!==new Date().toISOString().split("T")[0]&&i.jsxs("div",{className:"bg-gradient-to-br from-[#E6F0FA] via-[#E6F0FA] to-white rounded-2xl shadow-lg border border-[#E6F0FA] flex flex-col min-h-[280px] hover:shadow-xl transition-shadow duration-300",children:[i.jsxs("div",{className:"p-3 sm:p-4 border-b border-[#E6F0FA] flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-[#0B4A82] text-base sm:text-lg",children:"Teacher Attendance Summary"}),i.jsx("p",{className:"text-[10px] sm:text-xs text-[#1160A8] mt-0.5",children:"Term-wide staff attendance statistics"})]}),(_||I)&&i.jsx(gd,{}),i.jsx("div",{className:"bg-[#E6F0FA] p-1.5 sm:p-2 rounded-full",children:i.jsx(pv,{className:"text-[#0B4A82]",size:16})})]}),i.jsx("div",{className:"p-3 space-y-2 flex-1 overflow-y-auto max-h-[300px] sm:max-h-[350px]",children:P.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center h-24 text-[#0B4A82]",children:[i.jsx("div",{className:"bg-[#E6F0FA] p-3 rounded-full mb-2",children:i.jsx(pv,{size:24,className:"text-[#1160A8]"})}),i.jsx("p",{className:"text-xs font-medium text-center",children:"No attendance data available"}),i.jsx("p",{className:"text-[10px] text-[#1160A8] mt-0.5",children:"Term statistics will appear as teachers mark attendance"})]}):i.jsxs("div",{className:"space-y-2",children:[P.map(_e=>i.jsx("div",{className:"bg-white p-3 rounded-lg shadow-sm border border-[#E6F0FA] hover:shadow-md transition-all duration-200 hover:border-[#E6F0FA]",children:i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"w-9 h-9 bg-[#E6F0FA] rounded-full flex items-center justify-center",children:i.jsxs("span",{className:"text-[10px] font-bold text-[#0B4A82]",children:[_e.attendanceRate,"%"]})}),i.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-white rounded-full flex items-center justify-center",children:i.jsx("div",{className:`w-2 h-2 rounded-full ${_e.attendanceRate>=80?"bg-emerald-500":_e.attendanceRate>=70?"bg-amber-500":"bg-red-500"}`})})]})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-1.5 mb-0.5 flex-wrap",children:[i.jsx("p",{className:"text-[10px] sm:text-xs font-semibold text-slate-800 truncate max-w-[120px] sm:max-w-none",children:_e.name}),i.jsx("span",{className:`px-1.5 py-0.5 rounded-full text-[9px] font-medium flex-shrink-0 ${_e.attendanceRate>=80?"bg-emerald-100 text-emerald-700":_e.attendanceRate>=70?"bg-amber-100 text-amber-700":"bg-red-100 text-red-700"}`,children:_e.attendanceRate>=80?"Excellent":_e.attendanceRate>=70?"Good":"Needs Attention"})]}),i.jsx("p",{className:"text-[9px] text-slate-500 truncate",children:_e.classes||"No classes assigned"}),i.jsxs("p",{className:"text-[9px] text-slate-400 mt-0.5",children:[_e.presentDays," present / ",_e.totalDays," ","total days"]})]})]})})},_e.id)),i.jsx("div",{className:"text-center mt-3 pt-2 border-t border-[#E6F0FA]",children:i.jsxs("p",{className:"text-[10px] text-[#0B4A82] font-medium",children:["Average attendance:"," ",P.length>0?Math.round(P.reduce((_e,Et)=>_e+Et.attendanceRate,0)/P.length):0,"%"]})})]})})]})]})]}),Ve&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[100] p-4 animate-in fade-in duration-200",children:i.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-2xl flex flex-col",children:[i.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-start bg-slate-50",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-16 h-16 bg-slate-200 rounded-full flex items-center justify-center text-2xl font-bold text-slate-500 shadow-inner",children:Ve.name.charAt(0)}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold text-slate-900",children:Ve.name}),i.jsxs("div",{className:"flex gap-2 text-sm text-slate-500 mt-1",children:[i.jsxs("span",{className:"flex items-center",children:[i.jsx(kT,{size:14,className:"mr-1"})," ",Ve.gender]}),i.jsx("span",{children:""}),i.jsx("span",{children:(Sa=Nn.find(_e=>_e.id===Ve.classId))==null?void 0:Sa.name})]})]})]}),i.jsx("button",{onClick:()=>lt(null),className:"text-slate-400 hover:text-slate-700 transition-colors bg-white p-2 rounded-full shadow-sm hover:shadow",children:i.jsx(jo,{size:20})})]}),i.jsxs("div",{className:"p-6 space-y-8",children:[i.jsxs("div",{className:"bg-amber-50 border border-amber-100 rounded-xl p-5 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 bg-amber-100 rounded-full text-amber-600",children:i.jsx(Zo,{size:24})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-amber-900",children:"Attendance Overview"}),i.jsx("p",{className:"text-sm text-amber-700",children:"Current Term Participation"})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("span",{className:"text-3xl font-bold text-amber-600",children:At?`${At.attendance.percentage}%`:"..."}),i.jsx("p",{className:"text-xs text-amber-700 font-medium mt-1",children:At?`${At.attendance.present}/${At.attendance.total} Days`:"Loading"})]})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center",children:[i.jsx(Pl,{size:20,className:"mr-2 text-[#0B4A82]"})," ","Academic Performance (",Le.currentTerm,")"]}),i.jsx("div",{className:"border border-slate-200 rounded-lg overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm text-left",children:[i.jsx("thead",{className:"bg-slate-100 text-slate-600 font-semibold",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3",children:"Subject"}),i.jsx("th",{className:"px-4 py-3 text-center",children:"Score"}),i.jsx("th",{className:"px-4 py-3 text-center",children:"Grade"}),i.jsx("th",{className:"px-4 py-3 text-right",children:"Remark"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-100",children:At?At.grades.map((_e,Et)=>{const Ft=_e.total??rc(_e),{grade:Gt,remark:En}=dm(Ft);return i.jsxs("tr",{className:"hover:bg-slate-50",children:[i.jsx("td",{className:"px-4 py-3 font-medium text-slate-800",children:_e.subject}),i.jsx("td",{className:"px-4 py-3 text-center",children:Ft>0?Ft:"-"}),i.jsx("td",{className:"px-4 py-3 text-center",children:i.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${Dg(Gt)}`,children:Ft>0?Gt:"-"})}),i.jsx("td",{className:"px-4 py-3 text-right text-slate-500",children:Ft>0?En:"N/A"})]},Et)}):i.jsx("tr",{children:i.jsx("td",{colSpan:4,className:"p-4 text-center text-slate-400 italic",children:"Fetching academic records..."})})})]})})]})]})]})}),St&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[100] p-4 animate-in fade-in duration-200",children:i.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6 shadow-xl max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-2",children:[i.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Edit Student Details"}),i.jsx("button",{onClick:()=>Vt(null),className:"text-slate-400 hover:text-slate-700",children:i.jsx(jo,{size:20})})]}),i.jsxs("form",{onSubmit:Hs,className:"space-y-5",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"text-xs font-bold text-[#0B4A82] uppercase tracking-wide",children:"Personal Information"}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Full Name"}),i.jsx("input",{type:"text",required:!0,className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-[#1160A8] outline-none transition-all placeholder-slate-400",value:en.name||"",onChange:_e=>jt({...en,name:_e.target.value})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Gender"}),i.jsxs("select",{className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-[#1160A8] outline-none bg-white text-slate-900",value:en.gender,onChange:_e=>jt({...en,gender:_e.target.value}),children:[i.jsx("option",{value:"Male",children:"Male"}),i.jsx("option",{value:"Female",children:"Female"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Date of Birth"}),i.jsx("input",{type:"date",className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-[#1160A8] outline-none",value:en.dob||"",onChange:_e=>jt({...en,dob:_e.target.value})})]})]})]}),i.jsxs("div",{className:"space-y-4 pt-2 border-t border-slate-50 mt-2",children:[i.jsx("h4",{className:"text-xs font-bold text-[#0B4A82] uppercase tracking-wide",children:"Academic Info"}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Assigned Class"}),i.jsx("select",{className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-[#1160A8] outline-none bg-white text-slate-900",value:en.classId,onChange:_e=>jt({...en,classId:_e.target.value}),children:Nn.map(_e=>i.jsx("option",{value:_e.id,children:_e.name},_e.id))})]})]}),i.jsxs("div",{className:"space-y-4 pt-2 border-t border-slate-50 mt-2",children:[i.jsx("h4",{className:"text-xs font-bold text-[#0B4A82] uppercase tracking-wide",children:"Guardian Information"}),i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Guardian Name"}),i.jsx("input",{type:"text",className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-[#1160A8] outline-none placeholder-slate-400",value:en.guardianName||"",onChange:_e=>jt({...en,guardianName:_e.target.value})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Phone Number"}),i.jsx("input",{type:"tel",className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-[#1160A8] outline-none placeholder-slate-400",value:en.guardianPhone||"",onChange:_e=>jt({...en,guardianPhone:_e.target.value})})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-3 mt-8 pt-4 border-t border-slate-100",children:[i.jsx("button",{type:"button",onClick:()=>Vt(null),className:"px-5 py-2.5 text-slate-600 hover:bg-slate-100 rounded-lg font-medium transition-colors",children:"Cancel"}),i.jsxs("button",{type:"submit",className:"flex items-center px-5 py-2.5 bg-[#0B4A82] text-white rounded-lg hover:bg-[#0B4A82] font-medium shadow-sm transition-colors",children:[i.jsx(iA,{size:18,className:"mr-2"})," Save Changes"]})]})]})]})}),Jt&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[100] p-4 animate-in fade-in duration-200",children:i.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-2xl flex flex-col",children:[i.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsxs("h2",{className:"text-lg font-bold text-slate-900",children:["Students with grade ",Jt]}),i.jsxs("p",{className:"text-sm text-slate-500",children:[(zt[Jt]||[]).length," students"]})]}),i.jsx("button",{onClick:()=>sn(null),className:"text-slate-400 hover:text-slate-700 transition-colors bg-white p-2 rounded-full shadow-sm hover:shadow",children:i.jsx(jo,{size:20})})]}),i.jsx("div",{className:"p-6 space-y-4",children:!zt[Jt]||zt[Jt].length===0?i.jsx("div",{className:"text-center text-slate-400 py-8",children:"No students in this grade for the selected term."}):i.jsx("div",{className:"space-y-3",children:zt[Jt].map((_e,Et)=>i.jsxs("div",{className:"flex items-center justify-between border-b border-slate-100 pb-3 last:pb-0",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-slate-800",children:_e.name}),i.jsxs("p",{className:"text-xs text-slate-400",children:[_e.class,"  Avg: ",_e.avg]})]}),i.jsx("div",{className:"flex items-center gap-3",children:i.jsx("button",{onClick:()=>Cr(_e.id),className:"text-xs text-[#0B4A82] hover:underline",children:"View"})})]},_e.id))})})]})})]})},u7=()=>{var M,W,ae,ue,ce,ge,Se;const{school:n}=uc(),e=(n==null?void 0:n.id)||null,[t,s]=ee.useState([]),[a,o]=ee.useState("all"),[c,h]=ee.useState(!1),[u,f]=ee.useState(null),[A,m]=ee.useState({gender:"Male",classId:"c_p1",dob:""}),[v,g]=ee.useState(null),[b,I]=ee.useState(null),[N,S]=ee.useState(null),[E,_]=ee.useState(!1),R=async()=>{if(!e){s([]);return}const xe=await ot.getStudents(e,void 0);if(s(xe),e){const Ie=xe.filter(Ue=>!Ue.schoolId);Ie.length>0&&await Promise.all(Ie.map(Ue=>ot.updateStudent({...Ue,schoolId:e})))}};ee.useEffect(()=>{R()},[e]);const L=async xe=>{I(null),g(xe);const Ie=await ot.getStudentPerformance(e||"",xe.id,xe.classId);I(Ie)},H=()=>{g(null),I(null)},D=t.filter(xe=>a==="all"?!0:xe.classId===a).sort((xe,Ie)=>xe.name.localeCompare(Ie.name)),Q=a==="all"?"All Classes":((M=Nn.find(xe=>xe.id===a))==null?void 0:M.name)||a,O=t.length,$=D.length,P=(W=b==null?void 0:b.attendance)==null?void 0:W.total,V=(ae=b==null?void 0:b.attendance)==null?void 0:ae.present,G=P!=null&&V!=null?Math.max(P-V,0):null;(ue=b==null?void 0:b.attendance)==null||ue.percentage;const ie=((ce=b==null?void 0:b.grades)==null?void 0:ce.length)??0,de=()=>{I(null),m({gender:"Male",classId:a!=="all"?a:"c_p1",dob:""}),f(null),h(!0)},X=async xe=>{m(xe),f(xe.id),h(!0),I(null);const Ie=await ot.getStudentPerformance(e||"",xe.id,xe.classId);I(Ie)},q=()=>{h(!1),m({gender:"Male",classId:"c_p1",dob:""}),f(null),I(null)},Z=(xe,Ie)=>{Ie.stopPropagation(),S(xe)},oe=async()=>{if(!N)return;const xe=N;S(null);const Ie=[...t];s(Ue=>Ue.filter(Pe=>Pe.id!==xe));try{await ot.deleteStudent(xe)}catch(Ue){console.error("Delete failed",Ue),s(Ie),Pt("Failed to delete student. Please try again.",{type:"error"})}},ye=async xe=>{if(xe.preventDefault(),!(!A.name||!A.classId)){_(!0);try{if(u){const Ie={...A,id:u,schoolId:e||A.schoolId};await ot.updateStudent(Ie),Pt("Student updated successfully.",{type:"success"})}else{const Ie={id:Math.random().toString(36).substr(2,9),name:A.name,gender:A.gender,dob:A.dob||"2015-01-01",classId:A.classId,schoolId:e||"",guardianName:A.guardianName||"",guardianPhone:A.guardianPhone||""};await ot.addStudent(Ie),Pt("Student added successfully.",{type:"success"})}await R(),q()}catch(Ie){console.error("Save failed",Ie),Pt("Failed to save student. Please try again.",{type:"error"})}finally{_(!1)}}},ne=()=>{if(!b||!b.attendance||!b.attendance.schoolDates)return null;const{schoolDates:xe,presentDates:Ie}=b.attendance;if(xe.length===0)return i.jsx("div",{className:"text-center text-slate-400 py-4 italic",children:"No attendance records found for this term."});const Ue=Ze=>(typeof Ze=="string"?new Date(Ze):Ze).toISOString().split("T")[0],Pe=new Set(xe.map(Ze=>Ue(Ze))),rt=new Set(Ie.map(Ze=>Ue(Ze))),Le={};xe.forEach(Ze=>{const pt=new Date(Ze),dt=`${pt.getFullYear()}-${pt.getMonth()}`;Le[dt]||(Le[dt]={label:pt.toLocaleString("default",{month:"long",year:"numeric"}),year:pt.getFullYear(),month:pt.getMonth()})});const me=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:Object.entries(Le).map(([Ze,pt])=>{const{year:dt,month:Je,label:Ut}=pt,Rt=new Date(dt,Je,1).getDay(),zt=new Date(dt,Je+1,0).getDate(),$t=Math.ceil((Rt+zt)/7)*7;return i.jsxs("div",{className:"relative overflow-hidden border border-slate-200 rounded-2xl p-4 bg-white shadow-sm",children:[i.jsx("div",{className:"absolute -top-10 -right-10 h-24 w-24 rounded-full bg-indigo-100/60 blur-2xl"}),i.jsx("div",{className:"absolute -bottom-12 -left-10 h-28 w-28 rounded-full bg-emerald-100/60 blur-2xl"}),i.jsxs("div",{className:"relative flex items-center justify-between mb-3 border-b border-slate-100 pb-2",children:[i.jsx("h5",{className:"font-semibold text-slate-800 text-sm",children:Ut}),i.jsx("span",{className:"text-[11px] text-slate-400",children:"Attendance"})]}),i.jsxs("div",{className:"grid grid-cols-7 gap-1 text-center",children:[me.map((Jt,sn)=>i.jsx("div",{className:"text-[10px] text-slate-400 font-semibold uppercase",children:Jt},sn)),Array.from({length:$t}).map((Jt,sn)=>{const Ge=sn-Rt+1;if(Ge<1||Ge>zt)return i.jsx("div",{className:"h-8"},sn);const Ht=new Date(dt,Je,Ge),kt=Ue(Ht),Ot=Pe.has(kt),gt=rt.has(kt),_t=Ht.getDay()===0||Ht.getDay()===6,Un="h-8 w-8 mx-auto flex items-center justify-center rounded-full text-xs font-semibold transition",Me=_t?"text-slate-300 bg-slate-50":"text-slate-600";return Ot?i.jsx("div",{className:"flex items-center justify-center",children:i.jsx("div",{title:`${kt}: ${gt?"Present":"Absent"}`,className:`${Un} ${Me} ${gt?"bg-emerald-100 text-emerald-800 shadow-sm":"bg-sky-100 text-sky-800 shadow-sm"}`,children:Ge})},sn):i.jsx("div",{className:"h-8 flex items-center justify-center text-[11px] text-slate-200"},sn)})]}),i.jsxs("div",{className:"mt-3 flex justify-center gap-4 text-[11px] text-slate-500",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 bg-emerald-100 rounded-full border border-emerald-200"})," ","Present"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 bg-sky-100 rounded-full border border-sky-200"})," ","Absent"]})]})]},Ze)})})};return i.jsxs(lr,{title:"Manage Students",children:[i.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[i.jsxs("div",{className:"relative overflow-hidden rounded-2xl border bg-gradient-to-br from-indigo-50 via-white to-emerald-50 p-6 shadow-sm",children:[i.jsx("div",{className:"absolute -top-16 -right-16 h-40 w-40 rounded-full bg-indigo-200/40 blur-3xl"}),i.jsx("div",{className:"absolute -bottom-20 -left-16 h-48 w-48 rounded-full bg-emerald-200/40 blur-3xl"}),i.jsxs("div",{className:"relative flex flex-col gap-2",children:[i.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Manage Students"}),i.jsx("p",{className:"text-sm text-slate-600",children:"Organize, update, and review student profiles in a beautiful workspace."}),i.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-3 text-sm",children:[i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-white/80 px-3 py-1 font-medium text-slate-700 shadow-sm",children:[i.jsx(fl,{className:"h-4 w-4 text-indigo-500"}),"Total: ",O]}),i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-emerald-50 px-3 py-1 font-medium text-emerald-700 shadow-sm",children:[i.jsx(UA,{className:"h-4 w-4"}),"Showing: ",$]}),i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-slate-100 px-3 py-1 font-medium text-slate-700 shadow-sm",children:[i.jsx(Pl,{className:"h-4 w-4"}),Q]})]})]})]}),i.jsxs("div",{className:"rounded-2xl border bg-white/80 shadow-sm overflow-hidden",children:[i.jsxs("div",{className:"p-4 border-b border-slate-100 flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[i.jsx("div",{className:"flex gap-2",children:i.jsxs("select",{className:"border border-slate-200 rounded-full px-4 py-2 text-sm bg-white text-slate-700 shadow-sm focus:ring-2 focus:ring-emerald-200",value:a,onChange:xe=>o(xe.target.value),children:[i.jsx("option",{value:"all",children:"All Classes"}),Nn.map(xe=>i.jsx("option",{value:xe.id,children:xe.name},xe.id))]})}),i.jsxs("button",{onClick:de,className:"flex items-center justify-center gap-2 rounded-full bg-emerald-600 text-white px-5 py-2 text-sm font-semibold shadow-sm transition hover:scale-[1.01] hover:bg-emerald-700",children:[i.jsx(Kh,{size:16}),"Add Student"]})]}),i.jsx("div",{className:"p-4",children:D.length===0?i.jsx("div",{className:"px-6 py-10 text-center text-slate-400",children:"No students found."}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:D.map(xe=>{var Ue;const Ie=((Ue=Nn.find(Pe=>Pe.id===xe.classId))==null?void 0:Ue.name)||xe.classId;return i.jsxs("div",{className:"group relative overflow-hidden rounded-2xl border border-slate-200 bg-white p-5 shadow-sm transition duration-300 hover:-translate-y-1 hover:shadow-md",children:[i.jsx("div",{className:"absolute -top-14 -right-14 h-28 w-28 rounded-full bg-indigo-100/60 blur-2xl"}),i.jsx("div",{className:"absolute -bottom-16 -left-10 h-32 w-32 rounded-full bg-emerald-100/60 blur-2xl"}),i.jsxs("div",{className:"relative flex items-center justify-between gap-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"h-11 w-11 rounded-full bg-indigo-100 text-indigo-700 flex items-center justify-center text-sm font-semibold",children:xe.name.charAt(0)}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-slate-900",children:xe.name}),i.jsxs("p",{className:"text-xs text-slate-500",children:["ID: ",xe.id]})]})]}),i.jsx("span",{className:"inline-flex items-center rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-700",children:Ie})]}),i.jsxs("div",{className:"relative mt-4 grid grid-cols-2 gap-3 text-xs text-slate-600",children:[i.jsxs("div",{className:"rounded-xl border border-slate-100 bg-slate-50/60 p-3",children:[i.jsx("p",{className:"text-[11px] uppercase tracking-wide text-slate-400",children:"Gender"}),i.jsx("p",{className:"mt-1 text-sm font-semibold text-slate-800",children:xe.gender})]}),i.jsxs("div",{className:"rounded-xl border border-slate-100 bg-slate-50/60 p-3",children:[i.jsx("p",{className:"text-[11px] uppercase tracking-wide text-slate-400",children:"Guardian"}),i.jsx("p",{className:"mt-1 text-sm font-semibold text-slate-800",children:xe.guardianName||"-"}),i.jsx("p",{className:"text-[11px] text-slate-400",children:xe.guardianPhone||""})]})]}),i.jsxs("div",{className:"relative mt-4 flex items-center justify-between",children:[i.jsxs("button",{type:"button",onClick:()=>L(xe),className:"inline-flex items-center gap-2 rounded-full border border-emerald-200 bg-emerald-50 px-3 py-1.5 text-xs font-semibold text-emerald-700 transition hover:bg-emerald-100",title:"View Performance",children:[i.jsx(qd,{size:14}),"View"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{type:"button",onClick:()=>X(xe),className:"text-[#1160A8] hover:text-[#0B4A82] p-2 hover:bg-[#E6F0FA] rounded-full transition-colors",title:"Edit Details",children:i.jsx(r2,{size:16})}),i.jsx("button",{type:"button",onClick:Pe=>Z(xe.id,Pe),className:"text-rose-500 hover:text-rose-700 p-2 hover:bg-rose-50 rounded-full transition-colors cursor-pointer",title:"Delete Student",children:i.jsx(RA,{size:16,className:"pointer-events-none"})})]})]})]},xe.id)})})})]})]}),N&&i.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[60] p-4",children:i.jsx("div",{className:"bg-white rounded-2xl max-w-sm w-full p-6 shadow-2xl transform transition-all",children:i.jsxs("div",{className:"flex flex-col items-center text-center",children:[i.jsx("div",{className:"w-12 h-12 bg-rose-50 rounded-full flex items-center justify-center mb-4",children:i.jsx(Li,{className:"text-rose-600 w-6 h-6"})}),i.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"Delete Student?"}),i.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"Are you sure you want to delete this student? This action cannot be undone."}),i.jsxs("div",{className:"flex gap-3 w-full",children:[i.jsx("button",{onClick:()=>S(null),className:"flex-1 px-4 py-2 border border-slate-200 text-slate-700 rounded-full hover:bg-slate-50 font-medium transition",children:"Cancel"}),i.jsx("button",{onClick:oe,className:"flex-1 px-4 py-2 bg-rose-600 text-white rounded-full hover:bg-rose-700 font-medium transition shadow-sm",children:"Delete"})]})]})})}),c&&i.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-6 shadow-2xl max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"mb-6 border-b border-slate-100 pb-3",children:[i.jsx("h3",{className:"text-lg font-bold text-slate-900",children:u?"Edit Student Details":"Add New Student"}),i.jsx("p",{className:"text-xs text-slate-500",children:"Keep student records accurate and up to date."})]}),u&&i.jsxs("div",{className:"mb-6 bg-slate-50 border border-slate-200 rounded-lg p-4 flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-bold text-slate-700",children:"Attendance Summary"}),i.jsx("p",{className:"text-xs text-slate-500",children:"Current Term Performance"})]}),i.jsx("div",{className:"text-right",children:b?i.jsxs(i.Fragment,{children:[i.jsxs("span",{className:"text-xl font-bold text-emerald-600",children:[b.attendance.percentage,"%"]}),i.jsxs("p",{className:"text-xs text-slate-500",children:[b.attendance.present,"/",b.attendance.total," Days"]})]}):i.jsx("span",{className:"text-xs text-slate-400",children:"Loading data..."})})]}),i.jsxs("form",{onSubmit:ye,className:"space-y-5",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"text-sm font-bold text-emerald-600 uppercase tracking-wide",children:"Personal Information"}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Full Name"}),i.jsx("input",{type:"text",required:!0,className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none transition-all placeholder-slate-400",value:A.name||"",onChange:xe=>m({...A,name:xe.target.value}),placeholder:"e.g. Kwame Nkrumah Jnr"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Gender"}),i.jsxs("select",{className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none bg-white text-slate-900",value:A.gender,onChange:xe=>m({...A,gender:xe.target.value}),children:[i.jsx("option",{value:"Male",children:"Male"}),i.jsx("option",{value:"Female",children:"Female"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Date of Birth"}),i.jsx("input",{type:"date",className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none",value:A.dob||"",onChange:xe=>m({...A,dob:xe.target.value})})]})]})]}),i.jsxs("div",{className:"space-y-4 pt-2",children:[i.jsx("h4",{className:"text-sm font-bold text-emerald-600 uppercase tracking-wide",children:"Academic Info"}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Assigned Class"}),i.jsx("select",{className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none bg-white text-slate-900",value:A.classId,onChange:xe=>m({...A,classId:xe.target.value}),children:Nn.map(xe=>i.jsx("option",{value:xe.id,children:xe.name},xe.id))})]})]}),i.jsxs("div",{className:"space-y-4 pt-2",children:[i.jsx("h4",{className:"text-sm font-bold text-emerald-600 uppercase tracking-wide",children:"Guardian Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Guardian Name"}),i.jsx("input",{type:"text",className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none placeholder-slate-400",value:A.guardianName||"",onChange:xe=>m({...A,guardianName:xe.target.value}),placeholder:"e.g. Mr. John Doe"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Phone Number"}),i.jsx("input",{type:"tel",className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none placeholder-slate-400",value:A.guardianPhone||"",onChange:xe=>m({...A,guardianPhone:xe.target.value}),placeholder:"e.g. 024 123 4567"})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-3 mt-8 pt-4 border-t border-slate-100",children:[i.jsx("button",{type:"button",onClick:q,className:"px-5 py-2.5 text-slate-600 hover:bg-slate-100 rounded-lg font-medium transition-colors",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:E,className:`px-5 py-2.5 bg-emerald-600 text-white rounded-lg font-medium shadow-sm transition-colors ${E?"opacity-60 cursor-not-allowed hover:bg-emerald-600":"hover:bg-emerald-700"}`,children:E?i.jsxs("span",{className:"flex items-center",children:[i.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),u?"Updating...":"Saving..."]}):u?"Update Student":"Save Student"})]})]})]})}),v&&i.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-4xl max-h-[95vh] overflow-y-auto shadow-2xl flex flex-col",children:[i.jsxs("div",{className:"p-6 border-b border-slate-100 flex flex-col gap-4 bg-gradient-to-r from-slate-50 via-white to-emerald-50 sticky top-0 z-10",children:[i.jsxs("div",{className:"flex items-start justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-16 h-16 bg-indigo-100 text-indigo-700 rounded-2xl flex items-center justify-center text-2xl font-bold shadow-sm",children:v.name.charAt(0)}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:v.name}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-sm text-slate-500 mt-1",children:[i.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-white/80 px-2.5 py-1 text-xs font-semibold text-slate-600 shadow-sm",children:[i.jsx(kT,{size:14}),v.gender]}),i.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-white/80 px-2.5 py-1 text-xs font-semibold text-slate-600 shadow-sm",children:[i.jsx(Pl,{size:14}),(ge=Nn.find(xe=>xe.id===v.classId))==null?void 0:ge.name]})]})]})]}),i.jsx("button",{onClick:H,className:"text-slate-400 hover:text-slate-700 bg-white p-2 rounded-full shadow-sm",children:i.jsx(jo,{size:24})})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[i.jsxs("div",{className:"rounded-xl border border-slate-100 bg-white p-3 shadow-sm",children:[i.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Attendance Rate"}),i.jsx("p",{className:`mt-1 text-2xl font-bold ${((Se=b==null?void 0:b.attendance)==null?void 0:Se.percentage)<50?"text-rose-600":"text-emerald-600"}`,children:b?`${b.attendance.percentage}%`:"-"})]}),i.jsxs("div",{className:"rounded-xl border border-slate-100 bg-white p-3 shadow-sm",children:[i.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Days Present"}),i.jsx("p",{className:"mt-1 text-2xl font-bold text-slate-900",children:b?b.attendance.present:"-"})]}),i.jsxs("div",{className:"rounded-xl border border-slate-100 bg-white p-3 shadow-sm",children:[i.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Total School Days"}),i.jsx("p",{className:"mt-1 text-2xl font-bold text-slate-900",children:b?b.attendance.total:"-"})]})]})]}),i.jsxs("div",{className:"p-6 space-y-8",children:[i.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-white/80 p-5 shadow-sm",children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-emerald-100 rounded-lg text-emerald-600",children:i.jsx(Zo,{size:20})}),i.jsx("h4",{className:"font-bold text-slate-800 text-lg",children:"Attendance Record"})]}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-emerald-50 px-3 py-1 font-semibold text-emerald-700",children:[i.jsx("div",{className:"w-2.5 h-2.5 bg-emerald-300 rounded-full"}),"Present"]}),i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-sky-50 px-3 py-1 font-semibold text-sky-700",children:[i.jsx("div",{className:"w-2.5 h-2.5 bg-sky-300 rounded-full"}),"Absent"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6",children:[i.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-slate-50/70 p-4",children:[i.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Total Days"}),i.jsx("p",{className:"mt-2 text-2xl font-bold text-slate-900",children:P??"-"})]}),i.jsxs("div",{className:"rounded-2xl border border-emerald-100 bg-emerald-50/70 p-4",children:[i.jsx("p",{className:"text-xs uppercase tracking-wide text-emerald-500",children:"Days Present"}),i.jsx("p",{className:"mt-2 text-2xl font-bold text-emerald-700",children:V??"-"})]}),i.jsxs("div",{className:"rounded-2xl border border-sky-100 bg-sky-50/70 p-4",children:[i.jsx("p",{className:"text-xs uppercase tracking-wide text-sky-500",children:"Days Absent"}),i.jsx("p",{className:"mt-2 text-2xl font-bold text-sky-700",children:G??"-"})]})]}),i.jsx("div",{className:"rounded-2xl border border-slate-100 bg-white p-4 shadow-sm",children:ne()})]}),i.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-white/80 p-5 shadow-sm",children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-4",children:[i.jsxs("h3",{className:"font-bold text-slate-800 flex items-center",children:[i.jsx(Pl,{size:20,className:"mr-2 text-[#0B4A82]"})," ","Academic Performance"]}),i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-indigo-50 px-3 py-1 text-xs font-semibold text-indigo-700",children:["Subjects: ",ie]})]}),i.jsx("div",{className:"border border-slate-200 rounded-2xl overflow-hidden bg-white",children:i.jsxs("table",{className:"w-full text-sm text-left",children:[i.jsx("thead",{className:"bg-slate-50 text-slate-600 font-semibold",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3",children:"Subject"}),i.jsx("th",{className:"px-4 py-3 text-center",children:"Score"}),i.jsx("th",{className:"px-4 py-3 text-center",children:"Grade"}),i.jsx("th",{className:"px-4 py-3 text-right",children:"Remark"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-100",children:b?b.grades.map((xe,Ie)=>{const Ue=xe.total||(xe.testScore||0)+(xe.homeworkScore||0)+(xe.projectScore||0)+(xe.examScore||0),{grade:Pe,remark:rt}=dm(Ue);return i.jsxs("tr",{className:"hover:bg-slate-50",children:[i.jsx("td",{className:"px-4 py-3 font-medium text-slate-800",children:xe.subject}),i.jsx("td",{className:"px-4 py-3 text-center",children:Ue>0?Ue:"-"}),i.jsx("td",{className:"px-4 py-3 text-center",children:i.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${Dg(Pe)}`,children:Ue>0?Pe:"-"})}),i.jsx("td",{className:"px-4 py-3 text-right text-slate-500",children:Ue>0?rt:"N/A"})]},Ie)}):i.jsx("tr",{children:i.jsx("td",{colSpan:4,className:"p-4 text-center",children:"Loading grades..."})})})]})}),i.jsx("div",{className:"mt-3 flex items-center justify-end text-xs text-slate-400",children:"Updated via system records"})]})]}),i.jsx("div",{className:"p-4 bg-slate-50 border-t border-slate-100 text-center",children:i.jsx("p",{className:"text-xs text-slate-400",children:"Generated automatically by School Manager GH System"})})]})})]})};async function d7(){const n=xu.currentUser;if(!n)throw new Error("NO_SESSION");try{return await n.getIdToken(!0)}catch(e){throw console.error("Error refreshing ID token:",e),new Error("TOKEN_REFRESH_FAILED")}}const h7="http://localhost:3001".replace(/\/$/,"")||"https://school-manager-hehk.onrender.com",J5=h7;class H0 extends Error{constructor(e,t,s){super(e),this.code=t,this.status=s,this.name="ApiError"}}async function Bm(n,e={}){let t=0;const s=1;for(;t<=s;)try{const a=await d7(),o=await fetch(`${J5}${n}`,{method:e.method||"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:e.body?JSON.stringify(e.body):void 0});if(!o.ok){const c=await o.json().catch(()=>({}));if(o.status===401&&c.code==="ID_TOKEN_EXPIRED"){if(t<s){console.log("ID token expired, retrying request..."),t++;continue}throw new H0("Your session has expired. Please log out and log in again.","SESSION_EXPIRED",o.status)}throw new H0(c.error||`HTTP ${o.status} ${o.statusText}`,c.code,o.status)}return await o.json()}catch(a){throw a.message==="NO_SESSION"?new H0("You are not logged in. Please log in to continue.","NO_SESSION"):a.name==="TypeError"&&a.message==="Failed to fetch"?new H0(`Cannot connect to the backend at ${J5}. Please ensure the server is running.`,"CONNECTION_FAILED"):a}throw new Error("API request failed after all retries.")}async function f7(n){return Bm("/api/superadmin/create-school",{body:n})}async function m7(n){return Bm("/api/superadmin/create-school-admin",{body:n})}async function p7(n){return Bm("/api/superadmin/reset-school-admin-password",{body:n})}async function g7(n){return Bm("/api/createTeacher",{body:n})}async function v7(n){return Bm("/api/billing/initiate",{body:n})}async function x7(n){return Bm("/api/billing/verify",{body:n})}Ug(Rg,"createSchool");Ug(Rg,"createSchoolAdmin");const y7=Ug(Rg,"deleteSchool");Ug(Rg,"createTeacherAccount");const b7=Ug(Rg,"repairUserSchoolId"),w7=()=>{const{school:n}=uc(),e=(n==null?void 0:n.id)||"",[t,s]=ee.useState([]),[a,o]=ee.useState(!1),[c,h]=ee.useState(!1),[u,f]=ee.useState(!1),[A,m]=ee.useState(null),[v,g]=ee.useState(null),[b,I]=ee.useState(null),[N,S]=ee.useState(!1),[E,_]=ee.useState(!1),[R,L]=ee.useState(!1),[H,D]=ee.useState(null),[Q,O]=ee.useState([]),[$,P]=ee.useState(!1),[V,G]=ee.useState({role:hs.TEACHER,assignedClassIds:[]}),[ie,de]=ee.useState(null),X=async()=>{if(!e){s([]);return}const ge=(await ot.getUsers(e)).filter(Se=>Se.role===hs.TEACHER);s(ge)};ee.useEffect(()=>{X()},[e]);const q=(ce,ge)=>{navigator.clipboard.writeText(ce),g(ge),setTimeout(()=>g(null),2e3)},Z=ce=>{G(ge=>{const Se=ge.assignedClassIds||[];return Se.includes(ce)?{...ge,assignedClassIds:Se.filter(xe=>xe!==ce)}:{...ge,assignedClassIds:[...Se,ce]}})},oe=async ce=>{if(ce.preventDefault(),!e){Pt("School ID is not available. Please refresh and try again.",{type:"error"});return}if(!V.fullName||!V.email){Pt("Please fill in all fields (full name and email).",{type:"error"});return}h(!0);try{await g7({fullName:V.fullName,email:V.email,password:V.password||void 0,assignedClassIds:V.assignedClassIds||[],schoolId:e}),m({tempPassword:V.password||void 0,email:V.email,fullName:V.fullName,adminProvidedPassword:!!V.password}),f(!0),o(!1),G({role:hs.TEACHER,assignedClassIds:[],email:"",fullName:"",password:""}),_(!1),await X()}catch(ge){console.error("Error creating teacher:",ge),Pt((ge==null?void 0:ge.message)||"Failed to create teacher.",{type:"error",duration:7e3})}finally{h(!1)}},ye=ce=>{de(ce)},ne=async()=>{if(!ie)return;const ce=t.find(xe=>xe.id===ie);if(!ce){de(null);return}if(ce.schoolId!==e){de(null),Pt("You can only delete teachers from your school.",{type:"error"});return}const ge=ie;de(null);const Se=[...t];s(xe=>xe.filter(Ie=>Ie.id!==ge));try{await ot.deleteUser(ge);const Ue=(await ot.getAllTeacherAttendanceRecords(e)).filter(Pe=>Pe.teacherId===ge&&Pe.schoolId&&Pe.schoolId===e).map(Pe=>Fi(On(Ct,"teacher_attendance",Pe.id)));await Promise.all(Ue)}catch(xe){console.error("Failed to delete teacher",xe),s(Se),Pt("Failed to delete teacher profile. Please try again.",{type:"error"})}},M=ce=>{D(ce),O(ce.assignedClassIds||[]),L(!0)},W=ce=>{O(ge=>(ge||[]).includes(ce)?(ge||[]).filter(Se=>Se!==ce):[...ge||[],ce])},ae=async()=>{if(H){if(H.schoolId!==e){Pt("You can only edit teachers from your school.",{type:"error"});return}P(!0);try{await ot.updateUserAssignedClasses(H.id,Q),Pt("Teacher classes updated successfully.",{type:"success"}),L(!1),D(null),O([]),await X()}catch(ce){console.error("Error updating teacher classes:",ce),Pt((ce==null?void 0:ce.message)||"Failed to update teacher classes.",{type:"error"})}finally{P(!1)}}},ue=async()=>{if(b){S(!0);try{const ce=await b7({targetUid:b,schoolId:e}),{message:ge}=ce.data;Pt(ge||"Teacher account repaired successfully.",{type:"success"}),I(null),await X()}catch(ce){console.error("Error repairing teacher:",ce),Pt((ce==null?void 0:ce.details)||(ce==null?void 0:ce.message)||"Failed to repair teacher account.",{type:"error",duration:6e3})}finally{S(!1)}}};return i.jsxs(lr,{title:"Manage Teachers",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 overflow-hidden",children:[i.jsxs("div",{className:"p-4 border-b border-slate-100 flex justify-between items-center",children:[i.jsx("h2",{className:"font-semibold text-slate-800",children:"Staff List"}),i.jsxs("button",{onClick:()=>{if(!e){Pt("School ID is not available yet. Please refresh and try again.",{type:"error"});return}o(!0)},className:"flex items-center bg-emerald-600 text-white px-4 py-2 rounded-md hover:bg-emerald-700 transition-colors text-sm font-medium",children:[i.jsx(Kh,{size:16,className:"mr-2"}),"Add Teacher"]})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-left text-sm text-slate-600",children:[i.jsx("thead",{className:"bg-slate-50 text-slate-800 font-semibold border-b border-slate-200",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3",children:"Name"}),i.jsx("th",{className:"px-6 py-3",children:"Email"}),i.jsx("th",{className:"px-6 py-3",children:"Account Status"}),i.jsx("th",{className:"px-6 py-3",children:"Assigned Classes"}),i.jsx("th",{className:"px-6 py-3 text-right",children:"Actions"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-100",children:t.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-slate-400",children:"No teachers found for this school."})}):t.map(ce=>{const Se=(ce.assignedClassIds||[]).map(Ie=>{var Ue;return(Ue=Nn.find(Pe=>Pe.id===Ie))==null?void 0:Ue.name}).filter(Boolean),xe=!ce.schoolId;return i.jsxs("tr",{className:`hover:bg-slate-50 ${xe?"bg-red-50":""}`,children:[i.jsx("td",{className:"px-6 py-3 font-medium text-slate-800",children:ce.fullName}),i.jsxs("td",{className:"px-6 py-3 flex items-center",children:[i.jsx(tM,{size:14,className:"mr-2 text-slate-400"}),ce.email]}),i.jsx("td",{className:"px-6 py-3",children:xe?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(hb,{size:16,className:"text-red-600"}),i.jsx("span",{className:"text-red-700 font-semibold text-xs",children:"Missing schoolId"})]}):i.jsx("span",{className:"text-emerald-700 text-xs font-medium",children:" Complete"})}),i.jsx("td",{className:"px-6 py-3",children:i.jsx("div",{className:"flex flex-wrap gap-1",children:Se.length>0?Se.map(Ie=>i.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-700",children:Ie},Ie)):i.jsx("span",{className:"text-slate-400 italic text-xs",children:"No classes"})})}),i.jsxs("td",{className:"px-6 py-3 text-right flex items-center justify-end gap-2",children:[i.jsx("button",{onClick:()=>M(ce),className:"text-blue-600 hover:text-blue-800 p-2 hover:bg-blue-50 rounded-full transition-colors",title:"Edit Assigned Classes",children:i.jsx(mM,{size:16,className:"pointer-events-none"})}),xe&&i.jsx("button",{onClick:()=>I(ce.id),className:"text-orange-600 hover:text-orange-800 p-2 hover:bg-orange-50 rounded-full transition-colors",title:"Repair Account",children:i.jsx(X5,{size:16,className:"pointer-events-none"})}),i.jsx("button",{onClick:()=>ye(ce.id),className:"text-red-500 hover:text-red-700 p-2 hover:bg-red-50 rounded-full transition-colors",title:"Remove Teacher",children:i.jsx(RA,{size:16,className:"pointer-events-none"})})]})]},ce.id)})})]})})]}),ie&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60] p-4",children:i.jsx("div",{className:"bg-white rounded-lg max-w-sm w-full p-6 shadow-xl transform transition-all",children:i.jsxs("div",{className:"flex flex-col items-center text-center",children:[i.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mb-4",children:i.jsx(Li,{className:"text-red-600 w-6 h-6"})}),i.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"Remove Teacher?"}),i.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"This removes their profile and disables their login account from the system."}),i.jsxs("div",{className:"flex gap-3 w-full",children:[i.jsx("button",{onClick:()=>de(null),className:"flex-1 px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 font-medium transition-colors",children:"Cancel"}),i.jsx("button",{onClick:ne,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 font-medium transition-colors shadow-sm",children:"Remove"})]})]})})}),a&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6 shadow-xl max-h-[90vh] overflow-y-auto",children:[i.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center text-slate-900 border-b pb-2",children:[i.jsx(a2,{className:"mr-2 text-emerald-600",size:20})," Add New Teacher"]}),i.jsxs("form",{onSubmit:oe,className:"space-y-4 pt-2",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Full Name"}),i.jsx("input",{type:"text",required:!0,className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none placeholder-slate-400",value:V.fullName||"",onChange:ce=>G({...V,fullName:ce.target.value}),placeholder:"e.g. Mr. John Doe"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Email Address"}),i.jsx("input",{type:"email",required:!0,className:"w-full border border-slate-300 p-2.5 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none placeholder-slate-400",value:V.email||"",onChange:ce=>G({...V,email:ce.target.value}),placeholder:"teacher@school.com"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Password (Optional)"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:E?"text":"password",className:"w-full border border-slate-300 p-2.5 pr-10 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none placeholder-slate-400",value:V.password||"",onChange:ce=>G({...V,password:ce.target.value}),placeholder:"Leave empty to send password reset link"}),i.jsx("button",{type:"button",onClick:()=>_(!E),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-700 transition-colors",title:E?"Hide password":"Show password",children:E?i.jsx(LT,{size:18}):i.jsx(qd,{size:18})})]})]}),i.jsxs("p",{className:"text-xs text-slate-500 bg-blue-50 p-3 rounded-lg border border-blue-200",children:[" ",i.jsx("strong",{children:"Option 1:"})," Leave password empty - a reset link will be sent to email. ",i.jsx("strong",{children:"Option 2:"})," Set a password above - teacher can log in immediately with it."]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Assign Classes"}),i.jsx("div",{className:"border border-slate-300 rounded-lg p-3 max-h-56 overflow-y-auto bg-slate-50",children:i.jsx("div",{className:"grid grid-cols-2 gap-3",children:Nn.map(ce=>{var Se;const ge=(Se=V.assignedClassIds)==null?void 0:Se.includes(ce.id);return i.jsxs("button",{type:"button",onClick:()=>Z(ce.id),className:`flex items-center justify-between px-3 py-2.5 rounded-lg text-sm font-medium border transition-all duration-200 ${ge?"bg-emerald-600 border-emerald-600 text-white shadow-md transform scale-[1.02]":"bg-white border-slate-200 text-slate-600 hover:border-emerald-300 hover:shadow-sm"}`,children:[i.jsx("span",{children:ce.name}),ge?i.jsx($5,{size:16,className:"text-white ml-2"}):i.jsx(Y5,{size:16,className:"text-slate-300 ml-2"})]},ce.id)})})}),i.jsx("p",{className:"text-[10px] text-slate-400 mt-2",children:"Click classes to select/deselect them."})]}),i.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-4 border-t border-slate-100",children:[i.jsx("button",{type:"button",onClick:()=>o(!1),disabled:c,className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg font-medium transition-colors",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:c,className:"flex items-center px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 font-medium shadow-sm transition-colors disabled:opacity-70",children:c?i.jsxs(i.Fragment,{children:[i.jsx($y,{size:16,className:"mr-2 animate-spin"})," ","Creating..."]}):"Create Teacher"})]})]})]})}),b&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60] p-4",children:i.jsx("div",{className:"bg-white rounded-lg max-w-sm w-full p-6 shadow-xl transform transition-all",children:i.jsxs("div",{className:"flex flex-col items-center text-center",children:[i.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center mb-4",children:i.jsx(X5,{className:"text-orange-600 w-6 h-6"})}),i.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"Repair Teacher Account?"}),i.jsx("p",{className:"text-sm text-slate-500 mb-2",children:"This teacher's account is missing the required schoolId field."}),i.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"This action will add your school's ID to their profile so they can log in."}),i.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded p-3 mb-6 w-full",children:i.jsx("p",{className:"text-xs text-orange-700",children:"After repair, the teacher will be able to log in and access the system."})}),i.jsxs("div",{className:"flex gap-3 w-full",children:[i.jsx("button",{onClick:()=>I(null),disabled:N,className:"flex-1 px-4 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 font-medium transition-colors disabled:opacity-50",children:"Cancel"}),i.jsx("button",{onClick:ue,disabled:N,className:"flex-1 flex items-center justify-center px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 font-medium transition-colors shadow-sm disabled:opacity-70",children:N?i.jsxs(i.Fragment,{children:[i.jsx($y,{size:16,className:"mr-2 animate-spin"}),"Repairing..."]}):"Repair Account"})]})]})})}),u&&A&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6 shadow-xl",children:[i.jsxs("div",{className:"flex flex-col items-center text-center mb-4",children:[i.jsx("div",{className:"w-12 h-12 bg-emerald-100 rounded-full flex items-center justify-center mb-4",children:i.jsx(Mp,{className:"text-emerald-600 w-6 h-6"})}),i.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"Teacher Created Successfully!"}),i.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"Share these credentials with the teacher."})]}),i.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 space-y-4 mb-4 border border-slate-200",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-semibold text-slate-500 mb-1 uppercase",children:"Email"}),i.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded border border-slate-200",children:[i.jsx("code",{className:"text-sm font-mono text-slate-700",children:A.email}),i.jsx("button",{onClick:()=>q(A.email,"email"),className:"text-slate-400 hover:text-slate-600 transition-colors",title:"Copy to clipboard",children:v==="email"?i.jsx(Mp,{size:16,className:"text-emerald-600"}):i.jsx(K5,{size:16})})]})]}),A.tempPassword&&i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-semibold text-slate-500 mb-1 uppercase",children:A.adminProvidedPassword?"Password":"Temporary Password"}),i.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded border border-slate-200",children:[i.jsx("code",{className:"text-sm font-mono text-slate-700",children:A.tempPassword}),i.jsx("button",{onClick:()=>q(A.tempPassword,"password"),className:"text-slate-400 hover:text-slate-600 transition-colors",title:"Copy to clipboard",children:v==="password"?i.jsx(Mp,{size:16,className:"text-emerald-600"}):i.jsx(K5,{size:16})})]}),!A.adminProvidedPassword&&i.jsx("p",{className:"text-xs text-slate-500 mt-2",children:" Teacher must change password on first login."})]}),A.adminProvidedPassword?i.jsx("div",{className:"bg-green-50 border border-green-200 rounded p-3",children:i.jsx("p",{className:"text-xs text-green-700",children:" Teacher can log in immediately with the password above."})}):i.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded p-3",children:i.jsx("p",{className:"text-xs text-blue-700",children:" A password reset link has been sent to their email inbox."})})]}),i.jsx("button",{onClick:()=>f(!1),className:"w-full px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 font-medium transition-colors",children:"Done"})]})}),R&&H&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60] p-4",children:i.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6 shadow-xl",children:[i.jsx("h3",{className:"text-lg font-bold mb-4 text-slate-900 border-b pb-2",children:"Assign Classes"}),i.jsxs("p",{className:"text-sm text-slate-500 mb-4",children:["Assign classes to ",H.fullName,"."]}),i.jsx("div",{className:"border border-slate-300 rounded-lg p-3 max-h-56 overflow-y-auto bg-slate-50 mb-4",children:i.jsx("div",{className:"grid grid-cols-2 gap-3",children:Nn.map(ce=>{const ge=(Q||[]).includes(ce.id);return i.jsxs("button",{type:"button",onClick:()=>W(ce.id),className:`flex items-center justify-between px-3 py-2.5 rounded-lg text-sm font-medium border transition-all duration-200 ${ge?"bg-emerald-600 border-emerald-600 text-white shadow-md transform scale-[1.02]":"bg-white border-slate-200 text-slate-600 hover:border-emerald-300 hover:shadow-sm"}`,children:[i.jsx("span",{children:ce.name}),ge?i.jsx($5,{size:16,className:"text-white ml-2"}):i.jsx(Y5,{size:16,className:"text-slate-300 ml-2"})]},ce.id)})})}),i.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[i.jsx("button",{type:"button",onClick:()=>L(!1),disabled:$,className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg font-medium transition-colors disabled:opacity-60",children:"Cancel"}),i.jsx("button",{type:"button",onClick:ae,disabled:$,className:"flex items-center px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 font-medium shadow-sm transition-colors disabled:opacity-60",children:$?i.jsxs(i.Fragment,{children:[i.jsx($y,{size:16,className:"mr-2 animate-spin"}),"Saving..."]}):"Save"})]})]})})]})},j7=()=>{const{school:n}=uc(),e=(n==null?void 0:n.id)||null,[t,s]=ee.useState(Nn[0].id),[a,o]=ee.useState([]),[c,h]=ee.useState(!1),[u,f]=ee.useState(0);return ee.useEffect(()=>{(async()=>{h(!0);try{if(!e){o([]),f(0);return}const m=await ot.getStudents(e,t),v=await ot.getSchoolConfig(e);let g=0;const b=await ot.getClassAttendance(e,t),I=new Set([...b.filter(E=>E.isHoliday).map(E=>E.date),...(v.holidayDates||[]).map(E=>E.date)]);if(v.schoolReopenDate){const E=new Date(`${v.schoolReopenDate}T00:00:00`),_=v.vacationDate?new Date(`${v.vacationDate}T00:00:00`):null,R=new Date;R.setHours(0,0,0,0);const L=_&&_<R?_:R,H=new Date(E);for(;H<=L;){const D=H.getDay();if(!(D===0||D===6)){const O=`${H.getFullYear()}-${String(H.getMonth()+1).padStart(2,"0")}-${String(H.getDate()).padStart(2,"0")}`;I.has(O)||g++}H.setDate(H.getDate()+1)}}else g=b.filter(_=>!_.isHoliday).length;f(g);const N=b,S=m.map(E=>{const _=N.filter(L=>!L.isHoliday&&L.presentStudentIds.includes(E.id)).length,R=g===0?0:Math.round(_/g*100);return{id:E.id,name:E.name,gender:E.gender,presentDays:_,totalDays:g,percentage:R}});S.sort((E,_)=>E.name.localeCompare(_.name)),o(S)}catch(m){console.error("Error fetching attendance stats:",m)}finally{h(!1)}})()},[t,e]),i.jsx(lr,{title:"Attendance Statistics",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 flex flex-col h-[calc(100vh-8rem)]",children:[i.jsxs("div",{className:"p-6 border-b border-slate-100 flex flex-col xl:flex-row justify-between xl:items-center gap-4 bg-slate-50",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Select Class"}),i.jsx("select",{className:"border border-slate-300 rounded-md px-3 py-2 text-sm w-48 bg-white text-slate-900",value:t,onChange:A=>s(A.target.value),children:Nn.map(A=>i.jsx("option",{value:A.id,children:A.name},A.id))})]}),i.jsxs("div",{className:"bg-white border border-slate-200 rounded-md px-4 py-1.5 shadow-sm",children:[i.jsx("span",{className:"block text-xs text-slate-400 uppercase",children:"Term Total Days"}),i.jsx("span",{className:"font-bold text-lg text-slate-800",children:u})]})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-slate-600 bg-white px-3 py-1.5 rounded-full border border-slate-200 shadow-sm",children:[i.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-emerald-500"})," ","Excellent (90%+)"]}),i.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-slate-600 bg-white px-3 py-1.5 rounded-full border border-slate-200 shadow-sm",children:[i.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-amber-400"})," ","Average (50-89%)"]}),i.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-[#0B4A82] bg-[#E6F0FA] px-3 py-1.5 rounded-full border border-[#E6F0FA] shadow-sm",children:[i.jsx(Li,{size:12,className:"text-[#0B4A82]"})," Critical (","<","50%)"]})]})]}),i.jsx("div",{className:"flex-1 overflow-auto p-0",children:c?i.jsx("div",{className:"text-center py-20 text-slate-400",children:"Calculating Attendance Data..."}):i.jsxs("table",{className:"w-full text-left text-sm text-slate-600",children:[i.jsx("thead",{className:"bg-slate-50 text-slate-800 font-semibold border-b border-slate-200 sticky top-0 z-10",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4",children:"Student Name"}),i.jsx("th",{className:"px-6 py-4 text-center",children:"Days Present"}),i.jsx("th",{className:"px-6 py-4 text-center",children:"Total School Days"}),i.jsx("th",{className:"px-6 py-4 w-1/3",children:"Attendance Rate"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-100",children:a.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:4,className:"p-8 text-center text-slate-400",children:"No students found in this class."})}):a.map(A=>{let m="bg-emerald-500",v="text-emerald-700 bg-emerald-50 border-emerald-200",g="hover:bg-slate-50",b=null;return A.percentage<50?(m="bg-red-500",v="text-[#0B4A82] bg-[#E6F0FA] border-[#E6F0FA]",g="bg-[#E6F0FA]/60 hover:bg-[#E6F0FA]/80",b=i.jsx("span",{title:"Critical Attendance",children:i.jsx(Li,{size:14,className:"text-[#0B4A82] ml-2"})})):A.percentage<90&&(m="bg-amber-400",v="text-amber-700 bg-amber-50 border-amber-200"),i.jsxs("tr",{className:`${g} transition-colors border-b border-slate-100 last:border-0`,children:[i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:`w-9 h-9 rounded-full flex items-center justify-center text-sm font-bold text-white mr-3 shadow-sm ${A.gender==="Male"?"bg-[#0B4A82]":"bg-pink-500"}`,children:A.name.charAt(0)}),i.jsxs("div",{children:[i.jsxs("p",{className:"font-semibold text-slate-800 flex items-center",children:[A.name,b]}),i.jsx("p",{className:"text-xs text-slate-500",children:A.gender})]})]})}),i.jsx("td",{className:"px-6 py-4 text-center",children:i.jsx("span",{className:"font-bold text-slate-800 text-lg",children:A.presentDays})}),i.jsx("td",{className:"px-6 py-4 text-center",children:i.jsx("span",{className:"text-slate-500",children:A.totalDays})}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"flex-1 h-2.5 bg-slate-200 rounded-full overflow-hidden shadow-inner",children:i.jsx("div",{className:`h-full ${m} transition-all duration-500 rounded-full`,style:{width:`${A.percentage}%`}})}),i.jsxs("span",{className:`text-xs font-bold px-2.5 py-1 rounded border ${v} min-w-[3.5rem] text-center shadow-sm`,children:[A.percentage,"%"]})]})})]},A.id)})})]})})]})})},B7=()=>{const{school:n}=uc(),e=(n==null?void 0:n.id)||null,[t,s]=ee.useState([]),[a,o]=ee.useState(!1),[c,h]=ee.useState(""),[u,f]=ee.useState("");ee.useEffect(()=>{(async()=>{o(!0);try{if(!e){s([]);return}const g=await ot.getSchoolConfig(e);g.schoolReopenDate&&!c&&h(g.schoolReopenDate),g.vacationDate&&!u&&f(g.vacationDate);const b=c||g.schoolReopenDate||void 0,I=u||g.vacationDate||void 0,N=await ot.getTeacherAttendanceAnalytics(e,b,I);s(N)}catch(g){console.error("Error fetching teacher attendance analytics:",g)}finally{o(!1)}})()},[c,u,e]);const A=v=>{switch(v){case"improving":return i.jsx(Ed,{className:"text-emerald-600",size:16});case"declining":return i.jsx(W5,{className:"text-[#0B4A82]",size:16});default:return i.jsx(z5,{className:"text-slate-400",size:16})}},m=v=>{switch(v){case"improving":return"text-emerald-700 bg-emerald-50 border-emerald-200";case"declining":return"text-[#0B4A82] bg-[#E6F0FA] border-[#E6F0FA]";default:return"text-slate-600 bg-slate-50 border-slate-200"}};return i.jsx(lr,{title:"Teacher Attendance Analytics",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 flex flex-col h-[calc(100vh-8rem)]",children:[i.jsxs("div",{className:"p-6 border-b border-slate-100 flex flex-col xl:flex-row justify-between xl:items-center gap-4 bg-slate-50",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Teacher Attendance Overview"}),i.jsxs("div",{className:"flex flex-wrap gap-3",children:[i.jsxs("div",{className:"flex flex-col",children:[i.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Term Start Date"}),i.jsx("input",{type:"date",className:"border border-slate-300 rounded-md px-3 py-2 text-sm w-40 bg-white text-slate-900",value:c,onChange:v=>h(v.target.value)})]}),i.jsxs("div",{className:"flex flex-col",children:[i.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Vacation Date"}),i.jsx("input",{type:"date",className:"border border-slate-300 rounded-md px-3 py-2 text-sm w-40 bg-white text-slate-900",value:u,onChange:v=>f(v.target.value)})]})]})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-slate-600 bg-white px-3 py-1.5 rounded-full border border-slate-200 shadow-sm",children:[i.jsx(Ed,{size:12,className:"text-emerald-600"})," Improving"]}),i.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-slate-600 bg-white px-3 py-1.5 rounded-full border border-slate-200 shadow-sm",children:[i.jsx(z5,{size:12,className:"text-slate-400"})," Stable"]}),i.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-[#0B4A82] bg-[#E6F0FA] px-3 py-1.5 rounded-full border border-[#E6F0FA] shadow-sm",children:[i.jsx(W5,{size:12,className:"text-[#0B4A82]"})," Declining"]})]})]}),i.jsx("div",{className:"flex-1 overflow-auto p-0",children:a?i.jsx("div",{className:"text-center py-20 text-slate-400",children:"Analyzing Teacher Attendance Data..."}):i.jsx("div",{className:"p-6 space-y-6",children:t.length===0?i.jsx("div",{className:"text-center py-20 text-slate-400",children:"No teacher attendance data found."}):t.map(v=>i.jsxs("div",{className:"bg-slate-50 rounded-xl p-6 border border-slate-200",children:[i.jsx("div",{className:"flex items-center justify-between mb-6",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-full bg-[#0B4A82] border-2 border-[#E6F0FA] flex items-center justify-center text-white font-bold text-lg shadow-lg",children:v.teacherName.charAt(0)}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-bold text-slate-800",children:v.teacherName}),i.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Zo,{size:14,className:"text-slate-500"}),i.jsxs("span",{className:"text-sm text-slate-600",children:[v.termStartDate," -"," ",v.vacationDate||"Present"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(UA,{size:14,className:"text-emerald-600"}),i.jsxs("span",{className:"text-sm font-semibold text-emerald-700",children:[v.overallAttendance,"% Overall Attendance"]})]})]})]})]})}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h4",{className:"text-sm font-semibold text-slate-700 uppercase tracking-wide",children:"Monthly Attendance Breakdown"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:v.monthlyBreakdown.map(g=>i.jsxs("div",{className:"bg-white rounded-lg p-4 border border-slate-200 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"font-semibold text-slate-800",children:g.month}),A(g.trend)]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-slate-600",children:"Working Days:"}),i.jsx("span",{className:"font-medium",children:g.totalWorkingDays})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-slate-600",children:"Present:"}),i.jsx("span",{className:"font-medium text-emerald-700",children:g.presentDays})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-slate-600",children:"Absent:"}),i.jsx("span",{className:"font-medium text-[#0B4A82]",children:g.absentDays})]}),i.jsxs("div",{className:"mt-3",children:[i.jsxs("div",{className:"flex justify-between items-center mb-1",children:[i.jsx("span",{className:"text-xs text-slate-500",children:"Attendance Rate"}),i.jsxs("span",{className:`text-xs font-bold px-2 py-0.5 rounded ${m(g.trend)}`,children:[g.attendanceRate,"%"]})]}),i.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:i.jsx("div",{className:`h-2 rounded-full transition-all duration-500 ${g.attendanceRate>=90?"bg-emerald-500":g.attendanceRate>=70?"bg-amber-400":"bg-[#1160A8]"}`,style:{width:`${g.attendanceRate}%`}})})]})]})]},g.month))})]}),v.overallAttendance<70&&i.jsxs("div",{className:"mt-4 bg-[#E6F0FA] border border-[#E6F0FA] rounded-lg p-4 flex items-center gap-3",children:[i.jsx(Li,{className:"text-[#0B4A82]",size:20}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-[#0B4A82]",children:"Critical Attendance Alert"}),i.jsx("p",{className:"text-xs text-[#1160A8]",children:"This teacher has below 70% overall attendance and may need intervention."})]})]})]},v.teacherId))})})]})})},C7=()=>{var N,S;const{school:n}=uc(),e=(n==null?void 0:n.id)||null,[t,s]=ee.useState(Nn[0].id),[a,o]=ee.useState([]),[c,h]=ee.useState({pass:[],fail:[]}),[u,f]=ee.useState([]),[A,m]=ee.useState(!1),[v,g]=ee.useState({currentTerm:`Term ${Xi}`,academicYear:wo,schoolReopenDate:""}),b=((N=Nn.find(E=>E.id===t))==null?void 0:N.name)||"Class";ee.useEffect(()=>{t&&(async()=>{if(m(!0),!e){o([]),f([]),m(!1);return}const _=Nn.find(V=>V.id===t);let R=await ot.getSubjects(e,t);if(!R.length&&_)switch(_.level){case"NURSERY":R=e7;break;case"KG":R=t7;break;case"PRIMARY":R=n7;break;case"JHS":R=s7;break;default:R=[]}if(f(R),R.length===0){o([]),m(!1);return}const L=await ot.getSchoolConfig(e);g({currentTerm:L.currentTerm||`Term ${Xi}`,academicYear:L.academicYear||wo,schoolReopenDate:L.schoolReopenDate||""});let H=Xi;if(L.currentTerm){const V=L.currentTerm.match(/\d+/);V&&(H=parseInt(V[0],10))}const D=await ot.getStudents(e,t),Q=await ot.getStudentRemarks(e,t),O=await Promise.all(D.map(async V=>{let G=0,ie=0;const de={};for(const Z of R){const ye=(await ot.getAssessments(e,t,Z)).find(ne=>ne.studentId===V.id&&ne.term===H);if(ye){const ne=ye.total??rc(ye);de[Z]=ne,G+=ne,ie++}else de[Z]="-"}const X=ie>0?(G/ie).toFixed(1):"0",q=Q.find(Z=>Z.studentId===V.id&&Number(Z.term)===H);return{student:V,scores:de,totalScore:G,average:X,remark:q?q.remark:"N/A"}}));O.sort((V,G)=>G.totalScore-V.totalScore),o(O);const $=O.filter(V=>V.totalScore>=500),P=O.filter(V=>V.totalScore<500);h({pass:$,fail:P}),m(!1)})()},[t,e]);const I=()=>{var $,P,V;if(a.length===0)return;const E=["Position","Student Name",...u,"Total Score","Average Grade","Remark"],_=a.map((G,ie)=>{const de=u.map(X=>G.scores[X]);return[ie+1,`"${G.student.name}"`,...de,G.totalScore,G.average,`"${G.remark}"`]}),R=[E.join(","),..._.map(G=>G.join(","))].join(`
`),L=new Blob([R],{type:"text/csv;charset=utf-8;"}),H=URL.createObjectURL(L),D=document.createElement("a"),O=`${(($=Nn.find(G=>G.id===t))==null?void 0:$.name)||"Class"}_Report_${v.academicYear.replace("-","_")}_Term${((V=(P=v.currentTerm)==null?void 0:P.match(/\d+/))==null?void 0:V[0])||Xi}.csv`;D.setAttribute("href",H),D.setAttribute("download",O),D.style.visibility="hidden",document.body.appendChild(D),D.click(),document.body.removeChild(D)};return i.jsxs(lr,{title:"Academic Reports",children:[i.jsx("style",{children:`
                @media print {
                    @page { size: landscape; margin: 10mm; }
                    body * {
                        visibility: hidden;
                    }
                    #report-content, #report-content * {
                        visibility: visible;
                    }
                    #report-content {
                        position: fixed;
                        left: 0;
                        top: 0;
                        width: 100%;
                        height: 100%;
                        margin: 0;
                        padding: 0;
                        background: white;
                        z-index: 9999;
                    }
                    .no-print {
                        display: none !important;
                    }
                    /* Ensure table expands fully and isn't cut off by scroll areas */
                    #table-container {
                        overflow: visible !important;
                        height: auto !important;
                    }
                }
            `}),i.jsxs("div",{id:"report-content",className:"bg-white rounded-2xl shadow-sm border border-slate-100 flex flex-col h-[calc(100vh-8rem)] print:h-auto print:border-none print:shadow-none",children:[i.jsxs("div",{className:"p-5 border-b border-slate-100 bg-gradient-to-r from-indigo-50 via-white to-emerald-50 print:bg-white print:border-none",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[i.jsxs("div",{className:"flex flex-col gap-2",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"h-12 w-12 rounded-2xl bg-indigo-100 text-indigo-700 flex items-center justify-center",children:i.jsx(Pl,{size:22})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Academic Reports"}),i.jsxs("p",{className:"text-sm text-slate-600",children:[v.currentTerm,"  ",v.academicYear]})]})]}),i.jsxs("div",{className:"hidden print:block text-2xl font-bold text-slate-900",children:[b," Report"]})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[i.jsx("select",{className:"border border-slate-200 rounded-full px-4 py-2 text-sm bg-white text-slate-700 shadow-sm no-print focus:ring-2 focus:ring-emerald-200",value:t,onChange:E=>s(E.target.value),children:Nn.map(E=>i.jsx("option",{value:E.id,children:E.name},E.id))}),i.jsxs("button",{onClick:I,disabled:A||a.length===0,className:"flex items-center gap-2 text-emerald-700 bg-emerald-50 hover:bg-emerald-100 border border-emerald-200 px-4 py-2 rounded-full transition-colors no-print font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:[i.jsx(Jv,{size:18})," Export CSV"]})]})]}),i.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-3 text-sm",children:[i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-white/80 px-3 py-1 font-medium text-slate-700 shadow-sm",children:[i.jsx(fl,{className:"h-4 w-4 text-indigo-500"}),"Students: ",a.length]}),i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-emerald-50 px-3 py-1 font-medium text-emerald-700 shadow-sm",children:[i.jsx(UA,{className:"h-4 w-4"}),"Pass: ",c.pass.length]}),i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-rose-50 px-3 py-1 font-medium text-rose-700 shadow-sm",children:[i.jsx(Hh,{className:"h-4 w-4"}),"Fail: ",c.fail.length]}),i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-slate-100 px-3 py-1 font-medium text-slate-700 shadow-sm",children:[i.jsx(Pl,{className:"h-4 w-4"}),"Subjects: ",u.length]})]})]}),i.jsxs("div",{id:"table-container",className:"flex-1 overflow-auto p-4 print:overflow-visible print:p-0",children:[((S=v.currentTerm)==null?void 0:S.includes("3"))&&i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 mb-6 no-print",children:[i.jsxs("div",{className:"bg-emerald-50/70 border border-emerald-100 rounded-2xl p-4 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h3",{className:"text-sm font-semibold text-emerald-800",children:"Passed (>= 500)"}),i.jsx("span",{className:"text-xs text-emerald-700 font-semibold",children:c.pass.length})]}),c.pass.length===0?i.jsx("p",{className:"text-sm text-emerald-700",children:"No passing students."}):i.jsx("ul",{className:"text-sm text-emerald-900 space-y-1 max-h-40 overflow-y-auto",children:c.pass.map(E=>i.jsxs("li",{className:"flex items-center justify-between",children:[i.jsx("span",{children:E.student.name}),i.jsx("span",{className:"font-semibold",children:E.totalScore})]},E.student.id))})]}),i.jsxs("div",{className:"bg-rose-50/70 border border-rose-100 rounded-2xl p-4 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h3",{className:"text-sm font-semibold text-rose-800",children:"Failed (< 500)"}),i.jsx("span",{className:"text-xs text-rose-700 font-semibold",children:c.fail.length})]}),c.fail.length===0?i.jsx("p",{className:"text-sm text-rose-700",children:"No failing students."}):i.jsx("ul",{className:"text-sm text-rose-900 space-y-1 max-h-40 overflow-y-auto",children:c.fail.map(E=>i.jsxs("li",{className:"flex items-center justify-between",children:[i.jsx("span",{children:E.student.name}),i.jsx("span",{className:"font-semibold",children:E.totalScore})]},E.student.id))})]})]}),A?i.jsx("div",{className:"text-center py-10 text-slate-400",children:"Loading Report Data..."}):i.jsx("div",{className:"overflow-x-auto print:overflow-visible rounded-2xl border border-slate-100 bg-white shadow-sm",children:i.jsxs("table",{className:"w-full text-left text-sm border-collapse text-black",children:[i.jsx("thead",{className:"bg-slate-50 text-slate-700 font-semibold print:bg-slate-200",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3 border border-slate-200 w-10",children:"Pos"}),i.jsx("th",{className:"px-4 py-3 border border-slate-200 min-w-[200px]",children:"Student Name"}),u.map(E=>i.jsx("th",{className:"px-2 py-3 border border-slate-200 w-24 text-center text-xs",children:E.substring(0,3)},E)),i.jsx("th",{className:"px-4 py-3 border border-slate-200 text-center w-20 bg-emerald-50 text-emerald-900 print:bg-slate-100",children:"Total"}),i.jsx("th",{className:"px-4 py-3 border border-slate-200 text-center w-20 bg-[#E6F0FA] text-[#0B4A82] print:bg-slate-100",children:"Avg"}),i.jsx("th",{className:"px-4 py-3 border border-slate-200 min-w-[200px]",children:"Remark"})]})}),i.jsxs("tbody",{children:[a.map((E,_)=>i.jsxs("tr",{className:"hover:bg-slate-50 print:hover:bg-transparent",children:[i.jsx("td",{className:"px-4 py-2 border border-slate-200 text-center font-medium",children:_+1}),i.jsx("td",{className:"px-4 py-2 border border-slate-200 font-medium",children:E.student.name}),u.map(R=>{const L=E.scores[R],H=typeof L=="number"?dm(L).grade:"-";return i.jsx("td",{className:"px-2 py-2 border border-slate-200 text-center",children:i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{children:L}),typeof L=="number"&&i.jsx("span",{className:`text-[10px] font-bold ${Dg(H).split(" ")[0]}`,children:H})]})},R)}),i.jsx("td",{className:"px-4 py-2 border border-slate-200 text-center font-bold bg-emerald-50 text-emerald-900 print:bg-transparent",children:E.totalScore}),i.jsx("td",{className:"px-4 py-2 border border-slate-200 text-center font-bold bg-[#E6F0FA] text-[#0B4A82] print:bg-transparent",children:E.average}),i.jsx("td",{className:"px-4 py-2 border border-slate-200 text-sm",children:E.remark})]},E.student.id)),a.length===0&&i.jsx("tr",{children:i.jsx("td",{colSpan:u.length+5,className:"p-8 text-center text-slate-400",children:"No students found."})})]})]})})]})]})]})};var Wy={exports:{}};const S7="modulepreload",N7=function(n,e){return new URL(n,e).href},q5={},Xy=function(e,t,s){let a=Promise.resolve();if(t&&t.length>0){let c=function(A){return Promise.all(A.map(m=>Promise.resolve(m).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};const h=document.getElementsByTagName("link"),u=document.querySelector("meta[property=csp-nonce]"),f=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));a=c(t.map(A=>{if(A=N7(A,s),A in q5)return;q5[A]=!0;const m=A.endsWith(".css"),v=m?'[rel="stylesheet"]':"";if(!!s)for(let I=h.length-1;I>=0;I--){const N=h[I];if(N.href===A&&(!m||N.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${A}"]${v}`))return;const b=document.createElement("link");if(b.rel=m?"stylesheet":S7,m||(b.as="script"),b.crossOrigin="",b.href=A,f&&b.setAttribute("nonce",f),document.head.appendChild(b),m)return new Promise((I,N)=>{b.addEventListener("load",I),b.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${A}`)))})}))}function o(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return a.then(c=>{for(const h of c||[])h.status==="rejected"&&o(h.reason);return e().catch(o)})};function Vr(n){"@babel/helpers - typeof";return Vr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vr(n)}var lc=Uint8Array,aA=Uint16Array,o2=Int32Array,l2=new lc([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),A2=new lc([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Z5=new lc([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),HT=function(n,e){for(var t=new aA(31),s=0;s<31;++s)t[s]=e+=1<<n[s-1];for(var a=new o2(t[30]),s=1;s<30;++s)for(var o=t[s];o<t[s+1];++o)a[o]=o-t[s]<<5|s;return{b:t,r:a}},VT=HT(l2,2),E7=VT.b,pb=VT.r;E7[28]=258,pb[258]=28;var T7=HT(A2,0),eC=T7.r,gb=new aA(32768);for(var ja=0;ja<32768;++ja){var vd=(ja&43690)>>1|(ja&21845)<<1;vd=(vd&52428)>>2|(vd&13107)<<2,vd=(vd&61680)>>4|(vd&3855)<<4,gb[ja]=((vd&65280)>>8|(vd&255)<<8)>>1}var Hp=(function(n,e,t){for(var s=n.length,a=0,o=new aA(e);a<s;++a)n[a]&&++o[n[a]-1];var c=new aA(e);for(a=1;a<e;++a)c[a]=c[a-1]+o[a-1]<<1;var h;if(t){h=new aA(1<<e);var u=15-e;for(a=0;a<s;++a)if(n[a])for(var f=a<<4|n[a],A=e-n[a],m=c[n[a]-1]++<<A,v=m|(1<<A)-1;m<=v;++m)h[gb[m]>>u]=f}else for(h=new aA(s),a=0;a<s;++a)n[a]&&(h[a]=gb[c[n[a]-1]++]>>15-n[a]);return h}),ef=new lc(288);for(var ja=0;ja<144;++ja)ef[ja]=8;for(var ja=144;ja<256;++ja)ef[ja]=9;for(var ja=256;ja<280;++ja)ef[ja]=7;for(var ja=280;ja<288;++ja)ef[ja]=8;var qv=new lc(32);for(var ja=0;ja<32;++ja)qv[ja]=5;var I7=Hp(ef,9,0),_7=Hp(qv,5,0),KT=function(n){return(n+7)/8|0},F7=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new lc(n.subarray(e,t))},gu=function(n,e,t){t<<=e&7;var s=e/8|0;n[s]|=t,n[s+1]|=t>>8},bp=function(n,e,t){t<<=e&7;var s=e/8|0;n[s]|=t,n[s+1]|=t>>8,n[s+2]|=t>>16},Jy=function(n,e){for(var t=[],s=0;s<n.length;++s)n[s]&&t.push({s,f:n[s]});var a=t.length,o=t.slice();if(!a)return{t:GT,l:0};if(a==1){var c=new lc(t[0].s+1);return c[t[0].s]=1,{t:c,l:1}}t.sort(function(L,H){return L.f-H.f}),t.push({s:-1,f:25001});var h=t[0],u=t[1],f=0,A=1,m=2;for(t[0]={s:-1,f:h.f+u.f,l:h,r:u};A!=a-1;)h=t[t[f].f<t[m].f?f++:m++],u=t[f!=A&&t[f].f<t[m].f?f++:m++],t[A++]={s:-1,f:h.f+u.f,l:h,r:u};for(var v=o[0].s,s=1;s<a;++s)o[s].s>v&&(v=o[s].s);var g=new aA(v+1),b=vb(t[A-1],g,0);if(b>e){var s=0,I=0,N=b-e,S=1<<N;for(o.sort(function(H,D){return g[D.s]-g[H.s]||H.f-D.f});s<a;++s){var E=o[s].s;if(g[E]>e)I+=S-(1<<b-g[E]),g[E]=e;else break}for(I>>=N;I>0;){var _=o[s].s;g[_]<e?I-=1<<e-g[_]++-1:++s}for(;s>=0&&I;--s){var R=o[s].s;g[R]==e&&(--g[R],++I)}b=e}return{t:new lc(g),l:b}},vb=function(n,e,t){return n.s==-1?Math.max(vb(n.l,e,t+1),vb(n.r,e,t+1)):e[n.s]=t},tC=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new aA(++e),s=0,a=n[0],o=1,c=function(u){t[s++]=u},h=1;h<=e;++h)if(n[h]==a&&h!=e)++o;else{if(!a&&o>2){for(;o>138;o-=138)c(32754);o>2&&(c(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(c(a),--o;o>6;o-=6)c(8304);o>2&&(c(o-3<<5|8208),o=0)}for(;o--;)c(a);o=1,a=n[h]}return{c:t.subarray(0,s),n:e}},wp=function(n,e){for(var t=0,s=0;s<e.length;++s)t+=n[s]*e[s];return t},zT=function(n,e,t){var s=t.length,a=KT(e+2);n[a]=s&255,n[a+1]=s>>8,n[a+2]=n[a]^255,n[a+3]=n[a+1]^255;for(var o=0;o<s;++o)n[a+o+4]=t[o];return(a+4+s)*8},nC=function(n,e,t,s,a,o,c,h,u,f,A){gu(e,A++,t),++a[256];for(var m=Jy(a,15),v=m.t,g=m.l,b=Jy(o,15),I=b.t,N=b.l,S=tC(v),E=S.c,_=S.n,R=tC(I),L=R.c,H=R.n,D=new aA(19),Q=0;Q<E.length;++Q)++D[E[Q]&31];for(var Q=0;Q<L.length;++Q)++D[L[Q]&31];for(var O=Jy(D,7),$=O.t,P=O.l,V=19;V>4&&!$[Z5[V-1]];--V);var G=f+5<<3,ie=wp(a,ef)+wp(o,qv)+c,de=wp(a,v)+wp(o,I)+c+14+3*V+wp(D,$)+2*D[16]+3*D[17]+7*D[18];if(u>=0&&G<=ie&&G<=de)return zT(e,A,n.subarray(u,u+f));var X,q,Z,oe;if(gu(e,A,1+(de<ie)),A+=2,de<ie){X=Hp(v,g,0),q=v,Z=Hp(I,N,0),oe=I;var ye=Hp($,P,0);gu(e,A,_-257),gu(e,A+5,H-1),gu(e,A+10,V-4),A+=14;for(var Q=0;Q<V;++Q)gu(e,A+3*Q,$[Z5[Q]]);A+=3*V;for(var ne=[E,L],M=0;M<2;++M)for(var W=ne[M],Q=0;Q<W.length;++Q){var ae=W[Q]&31;gu(e,A,ye[ae]),A+=$[ae],ae>15&&(gu(e,A,W[Q]>>5&127),A+=W[Q]>>12)}}else X=I7,q=ef,Z=_7,oe=qv;for(var Q=0;Q<h;++Q){var ue=s[Q];if(ue>255){var ae=ue>>18&31;bp(e,A,X[ae+257]),A+=q[ae+257],ae>7&&(gu(e,A,ue>>23&31),A+=l2[ae]);var ce=ue&31;bp(e,A,Z[ce]),A+=oe[ce],ce>3&&(bp(e,A,ue>>5&8191),A+=A2[ce])}else bp(e,A,X[ue]),A+=q[ue]}return bp(e,A,X[256]),A+q[256]},U7=new o2([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),GT=new lc(0),R7=function(n,e,t,s,a,o){var c=o.z||n.length,h=new lc(s+c+5*(1+Math.ceil(c/7e3))+a),u=h.subarray(s,h.length-a),f=o.l,A=(o.r||0)&7;if(e){A&&(u[0]=o.r>>3);for(var m=U7[e-1],v=m>>13,g=m&8191,b=(1<<t)-1,I=o.p||new aA(32768),N=o.h||new aA(b+1),S=Math.ceil(t/3),E=2*S,_=function(Le){return(n[Le]^n[Le+1]<<S^n[Le+2]<<E)&b},R=new o2(25e3),L=new aA(288),H=new aA(32),D=0,Q=0,O=o.i||0,$=0,P=o.w||0,V=0;O+2<c;++O){var G=_(O),ie=O&32767,de=N[G];if(I[ie]=de,N[G]=ie,P<=O){var X=c-O;if((D>7e3||$>24576)&&(X>423||!f)){A=nC(n,u,0,R,L,H,Q,$,V,O-V,A),$=D=Q=0,V=O;for(var q=0;q<286;++q)L[q]=0;for(var q=0;q<30;++q)H[q]=0}var Z=2,oe=0,ye=g,ne=ie-de&32767;if(X>2&&G==_(O-ne))for(var M=Math.min(v,X)-1,W=Math.min(32767,O),ae=Math.min(258,X);ne<=W&&--ye&&ie!=de;){if(n[O+Z]==n[O+Z-ne]){for(var ue=0;ue<ae&&n[O+ue]==n[O+ue-ne];++ue);if(ue>Z){if(Z=ue,oe=ne,ue>M)break;for(var ce=Math.min(ne,ue-2),ge=0,q=0;q<ce;++q){var Se=O-ne+q&32767,xe=I[Se],Ie=Se-xe&32767;Ie>ge&&(ge=Ie,de=Se)}}}ie=de,de=I[ie],ne+=ie-de&32767}if(oe){R[$++]=268435456|pb[Z]<<18|eC[oe];var Ue=pb[Z]&31,Pe=eC[oe]&31;Q+=l2[Ue]+A2[Pe],++L[257+Ue],++H[Pe],P=O+Z,++D}else R[$++]=n[O],++L[n[O]]}}for(O=Math.max(O,P);O<c;++O)R[$++]=n[O],++L[n[O]];A=nC(n,u,f,R,L,H,Q,$,V,O-V,A),f||(o.r=A&7|u[A/8|0]<<3,A-=7,o.h=N,o.p=I,o.i=O,o.w=P)}else{for(var O=o.w||0;O<c+f;O+=65535){var rt=O+65535;rt>=c&&(u[A/8|0]=f,rt=c),A=zT(u,A+1,n.subarray(O,rt))}o.i=c}return F7(h,0,s+KT(A)+a)},$T=function(){var n=1,e=0;return{p:function(t){for(var s=n,a=e,o=t.length|0,c=0;c!=o;){for(var h=Math.min(c+2655,o);c<h;++c)a+=s+=t[c];s=(s&65535)+15*(s>>16),a=(a&65535)+15*(a>>16)}n=s,e=a},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},D7=function(n,e,t,s,a){if(!a&&(a={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),c=new lc(o.length+n.length);c.set(o),c.set(n,o.length),n=c,a.w=o.length}return R7(n,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,s,a)},YT=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},L7=function(n,e){var t=e.level,s=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=s<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var a=$T();a.p(e.dictionary),YT(n,2,a.d())}};function xb(n,e){e||(e={});var t=$T();t.p(n);var s=D7(n,e,e.dictionary?6:2,4);return L7(s,e),YT(s,s.length-4,t.d()),s}var Q7=typeof TextDecoder<"u"&&new TextDecoder,O7=0;try{Q7.decode(GT,{stream:!0}),O7=1}catch{}function P7(n){if(Array.isArray(n))return n}function k7(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var s,a,o,c,h=[],u=!0,f=!1;try{if(o=(t=t.call(n)).next,e!==0)for(;!(u=(s=o.call(t)).done)&&(h.push(s.value),h.length!==e);u=!0);}catch(A){f=!0,a=A}finally{try{if(!u&&t.return!=null&&(c=t.return(),Object(c)!==c))return}finally{if(f)throw a}}return h}}function sC(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,s=Array(e);t<e;t++)s[t]=n[t];return s}function M7(n,e){if(n){if(typeof n=="string")return sC(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?sC(n,e):void 0}}function H7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rC(n,e){return P7(n)||k7(n,e)||M7(n,e)||H7()}function aC(n,e="utf8"){return new TextDecoder(e).decode(n)}const V7=new TextEncoder;function K7(n){return V7.encode(n)}const z7=1024*8,G7=(()=>{const n=new Uint8Array(4),e=new Uint32Array(n.buffer);return!((e[0]=1)&n[0])})(),qy={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class c2{constructor(e=z7,t={}){Hr(this,"buffer");Hr(this,"byteLength");Hr(this,"byteOffset");Hr(this,"length");Hr(this,"offset");Hr(this,"lastWrittenByte");Hr(this,"littleEndian");Hr(this,"_data");Hr(this,"_mark");Hr(this,"_marks");let s=!1;typeof e=="number"?e=new ArrayBuffer(e):(s=!0,this.lastWrittenByte=e.byteLength);const a=t.offset?t.offset>>>0:0,o=e.byteLength-a;let c=a;(ArrayBuffer.isView(e)||e instanceof c2)&&(e.byteLength!==e.buffer.byteLength&&(c=e.byteOffset+a),e=e.buffer),s?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=c,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,c,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const s=(this.offset+e)*2,a=new Uint8Array(s);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=s,this.byteLength=s,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const s=qy[t].BYTES_PER_ELEMENT*e,a=this.byteOffset+this.offset,o=this.buffer.slice(a,a+s);if(this.littleEndian===G7&&t!=="uint8"&&t!=="int8"){const h=new Uint8Array(this.buffer.slice(a,a+s));h.reverse();const u=new qy[t](h.buffer);return this.offset+=s,u.reverse(),u}const c=new qy[t](o);return this.offset+=s,c}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let s=0;s<e;s++)t+=this.readChar();return t}readUtf8(e=1){return aC(this.readBytes(e))}decodeText(e=1,t="utf8"){return aC(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(K7(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Cm(n){let e=n.length;for(;--e>=0;)n[e]=0}const $7=3,Y7=258,WT=29,W7=256,X7=W7+1+WT,XT=30,J7=512,q7=new Array((X7+2)*2);Cm(q7);const Z7=new Array(XT*2);Cm(Z7);const eH=new Array(J7);Cm(eH);const tH=new Array(Y7-$7+1);Cm(tH);const nH=new Array(WT);Cm(nH);const sH=new Array(XT);Cm(sH);const rH=(n,e,t,s)=>{let a=n&65535|0,o=n>>>16&65535|0,c=0;for(;t!==0;){c=t>2e3?2e3:t,t-=c;do a=a+e[s++]|0,o=o+a|0;while(--c);a%=65521,o%=65521}return a|o<<16|0};var yb=rH;const aH=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var s=0;s<8;s++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},iH=new Uint32Array(aH()),oH=(n,e,t,s)=>{const a=iH,o=s+t;n^=-1;for(let c=s;c<o;c++)n=n>>>8^a[(n^e[c])&255];return n^-1};var Lc=oH,bb={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},JT={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const lH=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var AH=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const s in t)lH(t,s)&&(n[s]=t[s])}}return n},cH=n=>{let e=0;for(let s=0,a=n.length;s<a;s++)e+=n[s].length;const t=new Uint8Array(e);for(let s=0,a=0,o=n.length;s<o;s++){let c=n[s];t.set(c,a),a+=c.length}return t},qT={assign:AH,flattenChunks:cH};let ZT=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{ZT=!1}const cg=new Uint8Array(256);for(let n=0;n<256;n++)cg[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;cg[254]=cg[254]=1;var uH=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,s,a,o,c=n.length,h=0;for(a=0;a<c;a++)t=n.charCodeAt(a),(t&64512)===55296&&a+1<c&&(s=n.charCodeAt(a+1),(s&64512)===56320&&(t=65536+(t-55296<<10)+(s-56320),a++)),h+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(h),o=0,a=0;o<h;a++)t=n.charCodeAt(a),(t&64512)===55296&&a+1<c&&(s=n.charCodeAt(a+1),(s&64512)===56320&&(t=65536+(t-55296<<10)+(s-56320),a++)),t<128?e[o++]=t:t<2048?(e[o++]=192|t>>>6,e[o++]=128|t&63):t<65536?(e[o++]=224|t>>>12,e[o++]=128|t>>>6&63,e[o++]=128|t&63):(e[o++]=240|t>>>18,e[o++]=128|t>>>12&63,e[o++]=128|t>>>6&63,e[o++]=128|t&63);return e};const dH=(n,e)=>{if(e<65534&&n.subarray&&ZT)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let s=0;s<e;s++)t+=String.fromCharCode(n[s]);return t};var hH=(n,e)=>{const t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let s,a;const o=new Array(t*2);for(a=0,s=0;s<t;){let c=n[s++];if(c<128){o[a++]=c;continue}let h=cg[c];if(h>4){o[a++]=65533,s+=h-1;continue}for(c&=h===2?31:h===3?15:7;h>1&&s<t;)c=c<<6|n[s++]&63,h--;if(h>1){o[a++]=65533;continue}c<65536?o[a++]=c:(c-=65536,o[a++]=55296|c>>10&1023,o[a++]=56320|c&1023)}return dH(o,a)},fH=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+cg[n[t]]>e?t:e},wb={string2buf:uH,buf2string:hH,utf8border:fH};function mH(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var pH=mH;const V0=16209,gH=16191;var vH=function(e,t){let s,a,o,c,h,u,f,A,m,v,g,b,I,N,S,E,_,R,L,H,D,Q,O,$;const P=e.state;s=e.next_in,O=e.input,a=s+(e.avail_in-5),o=e.next_out,$=e.output,c=o-(t-e.avail_out),h=o+(e.avail_out-257),u=P.dmax,f=P.wsize,A=P.whave,m=P.wnext,v=P.window,g=P.hold,b=P.bits,I=P.lencode,N=P.distcode,S=(1<<P.lenbits)-1,E=(1<<P.distbits)-1;e:do{b<15&&(g+=O[s++]<<b,b+=8,g+=O[s++]<<b,b+=8),_=I[g&S];t:for(;;){if(R=_>>>24,g>>>=R,b-=R,R=_>>>16&255,R===0)$[o++]=_&65535;else if(R&16){L=_&65535,R&=15,R&&(b<R&&(g+=O[s++]<<b,b+=8),L+=g&(1<<R)-1,g>>>=R,b-=R),b<15&&(g+=O[s++]<<b,b+=8,g+=O[s++]<<b,b+=8),_=N[g&E];n:for(;;){if(R=_>>>24,g>>>=R,b-=R,R=_>>>16&255,R&16){if(H=_&65535,R&=15,b<R&&(g+=O[s++]<<b,b+=8,b<R&&(g+=O[s++]<<b,b+=8)),H+=g&(1<<R)-1,H>u){e.msg="invalid distance too far back",P.mode=V0;break e}if(g>>>=R,b-=R,R=o-c,H>R){if(R=H-R,R>A&&P.sane){e.msg="invalid distance too far back",P.mode=V0;break e}if(D=0,Q=v,m===0){if(D+=f-R,R<L){L-=R;do $[o++]=v[D++];while(--R);D=o-H,Q=$}}else if(m<R){if(D+=f+m-R,R-=m,R<L){L-=R;do $[o++]=v[D++];while(--R);if(D=0,m<L){R=m,L-=R;do $[o++]=v[D++];while(--R);D=o-H,Q=$}}}else if(D+=m-R,R<L){L-=R;do $[o++]=v[D++];while(--R);D=o-H,Q=$}for(;L>2;)$[o++]=Q[D++],$[o++]=Q[D++],$[o++]=Q[D++],L-=3;L&&($[o++]=Q[D++],L>1&&($[o++]=Q[D++]))}else{D=o-H;do $[o++]=$[D++],$[o++]=$[D++],$[o++]=$[D++],L-=3;while(L>2);L&&($[o++]=$[D++],L>1&&($[o++]=$[D++]))}}else if((R&64)===0){_=N[(_&65535)+(g&(1<<R)-1)];continue n}else{e.msg="invalid distance code",P.mode=V0;break e}break}}else if((R&64)===0){_=I[(_&65535)+(g&(1<<R)-1)];continue t}else if(R&32){P.mode=gH;break e}else{e.msg="invalid literal/length code",P.mode=V0;break e}break}}while(s<a&&o<h);L=b>>3,s-=L,b-=L<<3,g&=(1<<b)-1,e.next_in=s,e.next_out=o,e.avail_in=s<a?5+(a-s):5-(s-a),e.avail_out=o<h?257+(h-o):257-(o-h),P.hold=g,P.bits=b};const Qf=15,iC=852,oC=592,lC=0,Zy=1,AC=2,xH=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),yH=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),bH=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),wH=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),jH=(n,e,t,s,a,o,c,h)=>{const u=h.bits;let f=0,A=0,m=0,v=0,g=0,b=0,I=0,N=0,S=0,E=0,_,R,L,H,D,Q=null,O;const $=new Uint16Array(Qf+1),P=new Uint16Array(Qf+1);let V=null,G,ie,de;for(f=0;f<=Qf;f++)$[f]=0;for(A=0;A<s;A++)$[e[t+A]]++;for(g=u,v=Qf;v>=1&&$[v]===0;v--);if(g>v&&(g=v),v===0)return a[o++]=1<<24|64<<16|0,a[o++]=1<<24|64<<16|0,h.bits=1,0;for(m=1;m<v&&$[m]===0;m++);for(g<m&&(g=m),N=1,f=1;f<=Qf;f++)if(N<<=1,N-=$[f],N<0)return-1;if(N>0&&(n===lC||v!==1))return-1;for(P[1]=0,f=1;f<Qf;f++)P[f+1]=P[f]+$[f];for(A=0;A<s;A++)e[t+A]!==0&&(c[P[e[t+A]]++]=A);if(n===lC?(Q=V=c,O=20):n===Zy?(Q=xH,V=yH,O=257):(Q=bH,V=wH,O=0),E=0,A=0,f=m,D=o,b=g,I=0,L=-1,S=1<<g,H=S-1,n===Zy&&S>iC||n===AC&&S>oC)return 1;for(;;){G=f-I,c[A]+1<O?(ie=0,de=c[A]):c[A]>=O?(ie=V[c[A]-O],de=Q[c[A]-O]):(ie=96,de=0),_=1<<f-I,R=1<<b,m=R;do R-=_,a[D+(E>>I)+R]=G<<24|ie<<16|de|0;while(R!==0);for(_=1<<f-1;E&_;)_>>=1;if(_!==0?(E&=_-1,E+=_):E=0,A++,--$[f]===0){if(f===v)break;f=e[t+c[A]]}if(f>g&&(E&H)!==L){for(I===0&&(I=g),D+=m,b=f-I,N=1<<b;b+I<v&&(N-=$[b+I],!(N<=0));)b++,N<<=1;if(S+=1<<b,n===Zy&&S>iC||n===AC&&S>oC)return 1;L=E&H,a[L]=g<<24|b<<16|D-o|0}}return E!==0&&(a[D+E]=f-I<<24|64<<16|0),h.bits=g,0};var Vp=jH;const BH=0,eI=1,tI=2,{Z_FINISH:cC,Z_BLOCK:CH,Z_TREES:K0,Z_OK:tf,Z_STREAM_END:SH,Z_NEED_DICT:NH,Z_STREAM_ERROR:LA,Z_DATA_ERROR:nI,Z_MEM_ERROR:sI,Z_BUF_ERROR:EH,Z_DEFLATED:uC}=JT,Px=16180,dC=16181,hC=16182,fC=16183,mC=16184,pC=16185,gC=16186,vC=16187,xC=16188,yC=16189,Zv=16190,vu=16191,e1=16192,bC=16193,t1=16194,wC=16195,jC=16196,BC=16197,CC=16198,z0=16199,G0=16200,SC=16201,NC=16202,EC=16203,TC=16204,IC=16205,n1=16206,_C=16207,FC=16208,Da=16209,rI=16210,aI=16211,TH=852,IH=592,_H=15,FH=_H,UC=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function UH(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const lf=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<Px||e.mode>aI?1:0},iI=n=>{if(lf(n))return LA;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=Px,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(TH),e.distcode=e.distdyn=new Int32Array(IH),e.sane=1,e.back=-1,tf},oI=n=>{if(lf(n))return LA;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,iI(n)},lI=(n,e)=>{let t;if(lf(n))return LA;const s=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?LA:(s.window!==null&&s.wbits!==e&&(s.window=null),s.wrap=t,s.wbits=e,oI(n))},AI=(n,e)=>{if(!n)return LA;const t=new UH;n.state=t,t.strm=n,t.window=null,t.mode=Px;const s=lI(n,e);return s!==tf&&(n.state=null),s},RH=n=>AI(n,FH);let RC=!0,s1,r1;const DH=n=>{if(RC){s1=new Int32Array(512),r1=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(Vp(eI,n.lens,0,288,s1,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;Vp(tI,n.lens,0,32,r1,0,n.work,{bits:5}),RC=!1}n.lencode=s1,n.lenbits=9,n.distcode=r1,n.distbits=5},cI=(n,e,t,s)=>{let a;const o=n.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),s>=o.wsize?(o.window.set(e.subarray(t-o.wsize,t),0),o.wnext=0,o.whave=o.wsize):(a=o.wsize-o.wnext,a>s&&(a=s),o.window.set(e.subarray(t-s,t-s+a),o.wnext),s-=a,s?(o.window.set(e.subarray(t-s,t),0),o.wnext=s,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0},LH=(n,e)=>{let t,s,a,o,c,h,u,f,A,m,v,g,b,I,N=0,S,E,_,R,L,H,D,Q;const O=new Uint8Array(4);let $,P;const V=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(lf(n)||!n.output||!n.input&&n.avail_in!==0)return LA;t=n.state,t.mode===vu&&(t.mode=e1),c=n.next_out,a=n.output,u=n.avail_out,o=n.next_in,s=n.input,h=n.avail_in,f=t.hold,A=t.bits,m=h,v=u,Q=tf;e:for(;;)switch(t.mode){case Px:if(t.wrap===0){t.mode=e1;break}for(;A<16;){if(h===0)break e;h--,f+=s[o++]<<A,A+=8}if(t.wrap&2&&f===35615){t.wbits===0&&(t.wbits=15),t.check=0,O[0]=f&255,O[1]=f>>>8&255,t.check=Lc(t.check,O,2,0),f=0,A=0,t.mode=dC;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((f&255)<<8)+(f>>8))%31){n.msg="incorrect header check",t.mode=Da;break}if((f&15)!==uC){n.msg="unknown compression method",t.mode=Da;break}if(f>>>=4,A-=4,D=(f&15)+8,t.wbits===0&&(t.wbits=D),D>15||D>t.wbits){n.msg="invalid window size",t.mode=Da;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=f&512?yC:vu,f=0,A=0;break;case dC:for(;A<16;){if(h===0)break e;h--,f+=s[o++]<<A,A+=8}if(t.flags=f,(t.flags&255)!==uC){n.msg="unknown compression method",t.mode=Da;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=Da;break}t.head&&(t.head.text=f>>8&1),t.flags&512&&t.wrap&4&&(O[0]=f&255,O[1]=f>>>8&255,t.check=Lc(t.check,O,2,0)),f=0,A=0,t.mode=hC;case hC:for(;A<32;){if(h===0)break e;h--,f+=s[o++]<<A,A+=8}t.head&&(t.head.time=f),t.flags&512&&t.wrap&4&&(O[0]=f&255,O[1]=f>>>8&255,O[2]=f>>>16&255,O[3]=f>>>24&255,t.check=Lc(t.check,O,4,0)),f=0,A=0,t.mode=fC;case fC:for(;A<16;){if(h===0)break e;h--,f+=s[o++]<<A,A+=8}t.head&&(t.head.xflags=f&255,t.head.os=f>>8),t.flags&512&&t.wrap&4&&(O[0]=f&255,O[1]=f>>>8&255,t.check=Lc(t.check,O,2,0)),f=0,A=0,t.mode=mC;case mC:if(t.flags&1024){for(;A<16;){if(h===0)break e;h--,f+=s[o++]<<A,A+=8}t.length=f,t.head&&(t.head.extra_len=f),t.flags&512&&t.wrap&4&&(O[0]=f&255,O[1]=f>>>8&255,t.check=Lc(t.check,O,2,0)),f=0,A=0}else t.head&&(t.head.extra=null);t.mode=pC;case pC:if(t.flags&1024&&(g=t.length,g>h&&(g=h),g&&(t.head&&(D=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(s.subarray(o,o+g),D)),t.flags&512&&t.wrap&4&&(t.check=Lc(t.check,s,g,o)),h-=g,o+=g,t.length-=g),t.length))break e;t.length=0,t.mode=gC;case gC:if(t.flags&2048){if(h===0)break e;g=0;do D=s[o+g++],t.head&&D&&t.length<65536&&(t.head.name+=String.fromCharCode(D));while(D&&g<h);if(t.flags&512&&t.wrap&4&&(t.check=Lc(t.check,s,g,o)),h-=g,o+=g,D)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=vC;case vC:if(t.flags&4096){if(h===0)break e;g=0;do D=s[o+g++],t.head&&D&&t.length<65536&&(t.head.comment+=String.fromCharCode(D));while(D&&g<h);if(t.flags&512&&t.wrap&4&&(t.check=Lc(t.check,s,g,o)),h-=g,o+=g,D)break e}else t.head&&(t.head.comment=null);t.mode=xC;case xC:if(t.flags&512){for(;A<16;){if(h===0)break e;h--,f+=s[o++]<<A,A+=8}if(t.wrap&4&&f!==(t.check&65535)){n.msg="header crc mismatch",t.mode=Da;break}f=0,A=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=vu;break;case yC:for(;A<32;){if(h===0)break e;h--,f+=s[o++]<<A,A+=8}n.adler=t.check=UC(f),f=0,A=0,t.mode=Zv;case Zv:if(t.havedict===0)return n.next_out=c,n.avail_out=u,n.next_in=o,n.avail_in=h,t.hold=f,t.bits=A,NH;n.adler=t.check=1,t.mode=vu;case vu:if(e===CH||e===K0)break e;case e1:if(t.last){f>>>=A&7,A-=A&7,t.mode=n1;break}for(;A<3;){if(h===0)break e;h--,f+=s[o++]<<A,A+=8}switch(t.last=f&1,f>>>=1,A-=1,f&3){case 0:t.mode=bC;break;case 1:if(DH(t),t.mode=z0,e===K0){f>>>=2,A-=2;break e}break;case 2:t.mode=jC;break;case 3:n.msg="invalid block type",t.mode=Da}f>>>=2,A-=2;break;case bC:for(f>>>=A&7,A-=A&7;A<32;){if(h===0)break e;h--,f+=s[o++]<<A,A+=8}if((f&65535)!==(f>>>16^65535)){n.msg="invalid stored block lengths",t.mode=Da;break}if(t.length=f&65535,f=0,A=0,t.mode=t1,e===K0)break e;case t1:t.mode=wC;case wC:if(g=t.length,g){if(g>h&&(g=h),g>u&&(g=u),g===0)break e;a.set(s.subarray(o,o+g),c),h-=g,o+=g,u-=g,c+=g,t.length-=g;break}t.mode=vu;break;case jC:for(;A<14;){if(h===0)break e;h--,f+=s[o++]<<A,A+=8}if(t.nlen=(f&31)+257,f>>>=5,A-=5,t.ndist=(f&31)+1,f>>>=5,A-=5,t.ncode=(f&15)+4,f>>>=4,A-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=Da;break}t.have=0,t.mode=BC;case BC:for(;t.have<t.ncode;){for(;A<3;){if(h===0)break e;h--,f+=s[o++]<<A,A+=8}t.lens[V[t.have++]]=f&7,f>>>=3,A-=3}for(;t.have<19;)t.lens[V[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,$={bits:t.lenbits},Q=Vp(BH,t.lens,0,19,t.lencode,0,t.work,$),t.lenbits=$.bits,Q){n.msg="invalid code lengths set",t.mode=Da;break}t.have=0,t.mode=CC;case CC:for(;t.have<t.nlen+t.ndist;){for(;N=t.lencode[f&(1<<t.lenbits)-1],S=N>>>24,E=N>>>16&255,_=N&65535,!(S<=A);){if(h===0)break e;h--,f+=s[o++]<<A,A+=8}if(_<16)f>>>=S,A-=S,t.lens[t.have++]=_;else{if(_===16){for(P=S+2;A<P;){if(h===0)break e;h--,f+=s[o++]<<A,A+=8}if(f>>>=S,A-=S,t.have===0){n.msg="invalid bit length repeat",t.mode=Da;break}D=t.lens[t.have-1],g=3+(f&3),f>>>=2,A-=2}else if(_===17){for(P=S+3;A<P;){if(h===0)break e;h--,f+=s[o++]<<A,A+=8}f>>>=S,A-=S,D=0,g=3+(f&7),f>>>=3,A-=3}else{for(P=S+7;A<P;){if(h===0)break e;h--,f+=s[o++]<<A,A+=8}f>>>=S,A-=S,D=0,g=11+(f&127),f>>>=7,A-=7}if(t.have+g>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=Da;break}for(;g--;)t.lens[t.have++]=D}}if(t.mode===Da)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=Da;break}if(t.lenbits=9,$={bits:t.lenbits},Q=Vp(eI,t.lens,0,t.nlen,t.lencode,0,t.work,$),t.lenbits=$.bits,Q){n.msg="invalid literal/lengths set",t.mode=Da;break}if(t.distbits=6,t.distcode=t.distdyn,$={bits:t.distbits},Q=Vp(tI,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,$),t.distbits=$.bits,Q){n.msg="invalid distances set",t.mode=Da;break}if(t.mode=z0,e===K0)break e;case z0:t.mode=G0;case G0:if(h>=6&&u>=258){n.next_out=c,n.avail_out=u,n.next_in=o,n.avail_in=h,t.hold=f,t.bits=A,vH(n,v),c=n.next_out,a=n.output,u=n.avail_out,o=n.next_in,s=n.input,h=n.avail_in,f=t.hold,A=t.bits,t.mode===vu&&(t.back=-1);break}for(t.back=0;N=t.lencode[f&(1<<t.lenbits)-1],S=N>>>24,E=N>>>16&255,_=N&65535,!(S<=A);){if(h===0)break e;h--,f+=s[o++]<<A,A+=8}if(E&&(E&240)===0){for(R=S,L=E,H=_;N=t.lencode[H+((f&(1<<R+L)-1)>>R)],S=N>>>24,E=N>>>16&255,_=N&65535,!(R+S<=A);){if(h===0)break e;h--,f+=s[o++]<<A,A+=8}f>>>=R,A-=R,t.back+=R}if(f>>>=S,A-=S,t.back+=S,t.length=_,E===0){t.mode=IC;break}if(E&32){t.back=-1,t.mode=vu;break}if(E&64){n.msg="invalid literal/length code",t.mode=Da;break}t.extra=E&15,t.mode=SC;case SC:if(t.extra){for(P=t.extra;A<P;){if(h===0)break e;h--,f+=s[o++]<<A,A+=8}t.length+=f&(1<<t.extra)-1,f>>>=t.extra,A-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=NC;case NC:for(;N=t.distcode[f&(1<<t.distbits)-1],S=N>>>24,E=N>>>16&255,_=N&65535,!(S<=A);){if(h===0)break e;h--,f+=s[o++]<<A,A+=8}if((E&240)===0){for(R=S,L=E,H=_;N=t.distcode[H+((f&(1<<R+L)-1)>>R)],S=N>>>24,E=N>>>16&255,_=N&65535,!(R+S<=A);){if(h===0)break e;h--,f+=s[o++]<<A,A+=8}f>>>=R,A-=R,t.back+=R}if(f>>>=S,A-=S,t.back+=S,E&64){n.msg="invalid distance code",t.mode=Da;break}t.offset=_,t.extra=E&15,t.mode=EC;case EC:if(t.extra){for(P=t.extra;A<P;){if(h===0)break e;h--,f+=s[o++]<<A,A+=8}t.offset+=f&(1<<t.extra)-1,f>>>=t.extra,A-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=Da;break}t.mode=TC;case TC:if(u===0)break e;if(g=v-u,t.offset>g){if(g=t.offset-g,g>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=Da;break}g>t.wnext?(g-=t.wnext,b=t.wsize-g):b=t.wnext-g,g>t.length&&(g=t.length),I=t.window}else I=a,b=c-t.offset,g=t.length;g>u&&(g=u),u-=g,t.length-=g;do a[c++]=I[b++];while(--g);t.length===0&&(t.mode=G0);break;case IC:if(u===0)break e;a[c++]=t.length,u--,t.mode=G0;break;case n1:if(t.wrap){for(;A<32;){if(h===0)break e;h--,f|=s[o++]<<A,A+=8}if(v-=u,n.total_out+=v,t.total+=v,t.wrap&4&&v&&(n.adler=t.check=t.flags?Lc(t.check,a,v,c-v):yb(t.check,a,v,c-v)),v=u,t.wrap&4&&(t.flags?f:UC(f))!==t.check){n.msg="incorrect data check",t.mode=Da;break}f=0,A=0}t.mode=_C;case _C:if(t.wrap&&t.flags){for(;A<32;){if(h===0)break e;h--,f+=s[o++]<<A,A+=8}if(t.wrap&4&&f!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=Da;break}f=0,A=0}t.mode=FC;case FC:Q=SH;break e;case Da:Q=nI;break e;case rI:return sI;case aI:default:return LA}return n.next_out=c,n.avail_out=u,n.next_in=o,n.avail_in=h,t.hold=f,t.bits=A,(t.wsize||v!==n.avail_out&&t.mode<Da&&(t.mode<n1||e!==cC))&&cI(n,n.output,n.next_out,v-n.avail_out),m-=n.avail_in,v-=n.avail_out,n.total_in+=m,n.total_out+=v,t.total+=v,t.wrap&4&&v&&(n.adler=t.check=t.flags?Lc(t.check,a,v,n.next_out-v):yb(t.check,a,v,n.next_out-v)),n.data_type=t.bits+(t.last?64:0)+(t.mode===vu?128:0)+(t.mode===z0||t.mode===t1?256:0),(m===0&&v===0||e===cC)&&Q===tf&&(Q=EH),Q},QH=n=>{if(lf(n))return LA;let e=n.state;return e.window&&(e.window=null),n.state=null,tf},OH=(n,e)=>{if(lf(n))return LA;const t=n.state;return(t.wrap&2)===0?LA:(t.head=e,e.done=!1,tf)},PH=(n,e)=>{const t=e.length;let s,a,o;return lf(n)||(s=n.state,s.wrap!==0&&s.mode!==Zv)?LA:s.mode===Zv&&(a=1,a=yb(a,e,t,0),a!==s.check)?nI:(o=cI(n,e,t,t),o?(s.mode=rI,sI):(s.havedict=1,tf))};var kH=oI,MH=lI,HH=iI,VH=RH,KH=AI,zH=LH,GH=QH,$H=OH,YH=PH,WH="pako inflate (from Nodeca project)",yu={inflateReset:kH,inflateReset2:MH,inflateResetKeep:HH,inflateInit:VH,inflateInit2:KH,inflate:zH,inflateEnd:GH,inflateGetHeader:$H,inflateSetDictionary:YH,inflateInfo:WH};function XH(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var JH=XH;const uI=Object.prototype.toString,{Z_NO_FLUSH:qH,Z_FINISH:ZH,Z_OK:ug,Z_STREAM_END:a1,Z_NEED_DICT:i1,Z_STREAM_ERROR:e9,Z_DATA_ERROR:DC,Z_MEM_ERROR:t9}=JT;function Lg(n){this.options=qT.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new pH,this.strm.avail_out=0;let t=yu.inflateInit2(this.strm,e.windowBits);if(t!==ug)throw new Error(bb[t]);if(this.header=new JH,yu.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=wb.string2buf(e.dictionary):uI.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=yu.inflateSetDictionary(this.strm,e.dictionary),t!==ug)))throw new Error(bb[t])}Lg.prototype.push=function(n,e){const t=this.strm,s=this.options.chunkSize,a=this.options.dictionary;let o,c,h;if(this.ended)return!1;for(e===~~e?c=e:c=e===!0?ZH:qH,uI.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(s),t.next_out=0,t.avail_out=s),o=yu.inflate(t,c),o===i1&&a&&(o=yu.inflateSetDictionary(t,a),o===ug?o=yu.inflate(t,c):o===DC&&(o=i1));t.avail_in>0&&o===a1&&t.state.wrap>0&&n[t.next_in]!==0;)yu.inflateReset(t),o=yu.inflate(t,c);switch(o){case e9:case DC:case i1:case t9:return this.onEnd(o),this.ended=!0,!1}if(h=t.avail_out,t.next_out&&(t.avail_out===0||o===a1))if(this.options.to==="string"){let u=wb.utf8border(t.output,t.next_out),f=t.next_out-u,A=wb.buf2string(t.output,u);t.next_out=f,t.avail_out=s-f,f&&t.output.set(t.output.subarray(u,u+f),0),this.onData(A)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(o===ug&&h===0)){if(o===a1)return o=yu.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};Lg.prototype.onData=function(n){this.chunks.push(n)};Lg.prototype.onEnd=function(n){n===ug&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=qT.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function n9(n,e){const t=new Lg(e);if(t.push(n),t.err)throw t.msg||bb[t.err];return t.result}var s9=Lg,r9=n9,a9={Inflate:s9,inflate:r9};const{Inflate:i9,inflate:o9}=a9;var LC=i9,l9=o9;const dI=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;dI[n]=e}const QC=4294967295;function A9(n,e,t){let s=n;for(let a=0;a<t;a++)s=dI[(s^e[a])&255]^s>>>8;return s}function c9(n,e){return(A9(QC,n,e)^QC)>>>0}function OC(n,e,t){const s=n.readUint32(),a=c9(new Uint8Array(n.buffer,n.byteOffset+n.offset-e-4,e),e);if(a!==s)throw new Error(`CRC mismatch for chunk ${t}. Expected ${s}, found ${a}`)}function hI(n,e,t){for(let s=0;s<t;s++)e[s]=n[s]}function fI(n,e,t,s){let a=0;for(;a<s;a++)e[a]=n[a];for(;a<t;a++)e[a]=n[a]+e[a-s]&255}function mI(n,e,t,s){let a=0;if(t.length===0)for(;a<s;a++)e[a]=n[a];else for(;a<s;a++)e[a]=n[a]+t[a]&255}function pI(n,e,t,s,a){let o=0;if(t.length===0){for(;o<a;o++)e[o]=n[o];for(;o<s;o++)e[o]=n[o]+(e[o-a]>>1)&255}else{for(;o<a;o++)e[o]=n[o]+(t[o]>>1)&255;for(;o<s;o++)e[o]=n[o]+(e[o-a]+t[o]>>1)&255}}function gI(n,e,t,s,a){let o=0;if(t.length===0){for(;o<a;o++)e[o]=n[o];for(;o<s;o++)e[o]=n[o]+e[o-a]&255}else{for(;o<a;o++)e[o]=n[o]+t[o]&255;for(;o<s;o++)e[o]=n[o]+u9(e[o-a],t[o],t[o-a])&255}}function u9(n,e,t){const s=n+e-t,a=Math.abs(s-n),o=Math.abs(s-e),c=Math.abs(s-t);return a<=o&&a<=c?n:o<=c?e:t}function d9(n,e,t,s,a,o){switch(n){case 0:hI(e,t,a);break;case 1:fI(e,t,a,o);break;case 2:mI(e,t,s,a);break;case 3:pI(e,t,s,a,o);break;case 4:gI(e,t,s,a,o);break;default:throw new Error(`Unsupported filter: ${n}`)}}const h9=new Uint16Array([255]),f9=new Uint8Array(h9.buffer),m9=f9[0]===255;function p9(n){const{data:e,width:t,height:s,channels:a,depth:o}=n,c=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],h=Math.ceil(o/8)*a,u=new Uint8Array(s*t*h);let f=0;for(let A=0;A<7;A++){const m=c[A],v=Math.ceil((t-m.x)/m.xStep),g=Math.ceil((s-m.y)/m.yStep);if(v<=0||g<=0)continue;const b=v*h,I=new Uint8Array(b);for(let N=0;N<g;N++){const S=e[f++],E=e.subarray(f,f+b);f+=b;const _=new Uint8Array(b);d9(S,E,_,I,b,h),I.set(_);for(let R=0;R<v;R++){const L=m.x+R*m.xStep,H=m.y+N*m.yStep;if(!(L>=t||H>=s))for(let D=0;D<h;D++)u[(H*t+L)*h+D]=_[R*h+D]}}}if(o===16){const A=new Uint16Array(u.buffer);if(m9)for(let m=0;m<A.length;m++)A[m]=g9(A[m]);return A}else return u}function g9(n){return(n&255)<<8|n>>8&255}const v9=new Uint16Array([255]),x9=new Uint8Array(v9.buffer),y9=x9[0]===255,b9=new Uint8Array(0);function PC(n){const{data:e,width:t,height:s,channels:a,depth:o}=n,c=Math.ceil(o/8)*a,h=Math.ceil(o/8*a*t),u=new Uint8Array(s*h);let f=b9,A=0,m,v;for(let g=0;g<s;g++){switch(m=e.subarray(A+1,A+1+h),v=u.subarray(g*h,(g+1)*h),e[A]){case 0:hI(m,v,h);break;case 1:fI(m,v,h,c);break;case 2:mI(m,v,f,h);break;case 3:pI(m,v,f,h,c);break;case 4:gI(m,v,f,h,c);break;default:throw new Error(`Unsupported filter: ${e[A]}`)}f=v,A+=h+1}if(o===16){const g=new Uint16Array(u.buffer);if(y9)for(let b=0;b<g.length;b++)g[b]=w9(g[b]);return g}else return u}function w9(n){return(n&255)<<8|n>>8&255}const gv=Uint8Array.of(137,80,78,71,13,10,26,10);function kC(n){if(!j9(n.readBytes(gv.length)))throw new Error("wrong PNG signature")}function j9(n){if(n.length<gv.length)return!1;for(let e=0;e<gv.length;e++)if(n[e]!==gv[e])return!1;return!0}const B9="tEXt",C9=0,vI=new TextDecoder("latin1");function S9(n){if(E9(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const N9=/^[\u0000-\u00FF]*$/;function E9(n){if(!N9.test(n))throw new Error("invalid latin1 text")}function T9(n,e,t){const s=xI(e);n[s]=I9(e,t-s.length-1)}function xI(n){for(n.mark();n.readByte()!==C9;);const e=n.offset;n.reset();const t=vI.decode(n.readBytes(e-n.offset-1));return n.skip(1),S9(t),t}function I9(n,e){return vI.decode(n.readBytes(e))}const nA={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},o1={UNKNOWN:-1,DEFLATE:0},MC={UNKNOWN:-1,ADAPTIVE:0},l1={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},$0={NONE:0,BACKGROUND:1,PREVIOUS:2},A1={SOURCE:0,OVER:1};class _9 extends c2{constructor(t,s={}){super(t);Hr(this,"_checkCrc");Hr(this,"_inflator");Hr(this,"_png");Hr(this,"_apng");Hr(this,"_end");Hr(this,"_hasPalette");Hr(this,"_palette");Hr(this,"_hasTransparency");Hr(this,"_transparency");Hr(this,"_compressionMethod");Hr(this,"_filterMethod");Hr(this,"_interlaceMethod");Hr(this,"_colorType");Hr(this,"_isAnimated");Hr(this,"_numberOfFrames");Hr(this,"_numberOfPlays");Hr(this,"_frames");Hr(this,"_writingDataChunks");const{checkCrc:a=!1}=s;this._checkCrc=a,this._inflator=new LC,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=o1.UNKNOWN,this._filterMethod=MC.UNKNOWN,this._interlaceMethod=l1.UNKNOWN,this._colorType=nA.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(kC(this);!this._end;){const t=this.readUint32(),s=this.readChars(4);this.decodeChunk(t,s)}return this.decodeImage(),this._png}decodeApng(){for(kC(this);!this._end;){const t=this.readUint32(),s=this.readChars(4);this.decodeApngChunk(t,s)}return this.decodeApngImage(),this._apng}decodeChunk(t,s){const a=this.offset;switch(s){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case B9:T9(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-a!==t)throw new Error(`Length mismatch while decoding chunk ${s}`);this._checkCrc?OC(this,t+4,s):this.skip(4)}decodeApngChunk(t,s){const a=this.offset;switch(s!=="fdAT"&&s!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),s){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,s),this.offset=a+t;break}if(this.offset-a!==t)throw new Error(`Length mismatch while decoding chunk ${s}`);this._checkCrc?OC(this,t+4,s):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=F9(this.readUint8());const s=this.readUint8();this._colorType=s;let a;switch(s){case nA.GREYSCALE:a=1;break;case nA.TRUECOLOUR:a=3;break;case nA.INDEXED_COLOUR:a=1;break;case nA.GREYSCALE_ALPHA:a=2;break;case nA.TRUECOLOUR_ALPHA:a=4;break;case nA.UNKNOWN:default:throw new Error(`Unknown color type: ${s}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==o1.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const s=t/3;this._hasPalette=!0;const a=[];this._palette=a;for(let o=0;o<s;o++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const s=t,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,s)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let s=t,a=this.offset+this.byteOffset;if(a+=4,s-=4,this._inflator.push(new Uint8Array(this.buffer,a,s)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case nA.GREYSCALE:case nA.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let s=0;s<t/2;s++)this._transparency[s]=this.readUint16();break}case nA.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let s=0;for(;s<t;s++){const a=this.readByte();this._palette[s].push(a)}for(;s<this._palette.length;s++)this._palette[s].push(255);break}case nA.UNKNOWN:case nA.GREYSCALE_ALPHA:case nA.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const s=xI(this),a=this.readUint8();if(a!==o1.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const o=this.readBytes(t-s.length-2);this._png.iccEmbeddedProfile={name:s,profile:l9(o)}}decodepHYs(){const t=this.readUint32(),s=this.readUint32(),a=this.readByte();this._png.resolution={x:t,y:s,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const s={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(t);if(a){if(a.data=PC({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)s.data=a.data;else{const o=this._apng.frames.at(t-1);this.disposeFrame(a,o,s),this.addFrameDataToCanvas(s,a)}this._apng.frames.push(s)}}return this._apng}disposeFrame(t,s,a){switch(t.disposeOp){case $0.NONE:break;case $0.BACKGROUND:for(let o=0;o<this._png.height;o++)for(let c=0;c<this._png.width;c++){const h=(o*t.width+c)*this._png.channels;for(let u=0;u<this._png.channels;u++)a.data[h+u]=0}break;case $0.PREVIOUS:a.data.set(s.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,s){const a=1<<this._png.depth,o=(c,h)=>{const u=((c+s.yOffset)*this._png.width+s.xOffset+h)*this._png.channels,f=(c*s.width+h)*this._png.channels;return{index:u,frameIndex:f}};switch(s.blendOp){case A1.SOURCE:for(let c=0;c<s.height;c++)for(let h=0;h<s.width;h++){const{index:u,frameIndex:f}=o(c,h);for(let A=0;A<this._png.channels;A++)t.data[u+A]=s.data[f+A]}break;case A1.OVER:for(let c=0;c<s.height;c++)for(let h=0;h<s.width;h++){const{index:u,frameIndex:f}=o(c,h);for(let A=0;A<this._png.channels;A++){const m=s.data[f+this._png.channels-1]/a,v=A%(this._png.channels-1)===0?1:s.data[f+A],g=Math.floor(m*v+(1-m)*t.data[u+A]);t.data[u+A]+=g}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var s;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?((s=this._frames)==null?void 0:s.at(0)).data:this._inflator.result;if(this._filterMethod!==MC.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===l1.NO_INTERLACE)this._png.data=PC({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===l1.ADAM7)this._png.data=p9({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,s=this._frames.at(-1);s?s.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:$0.NONE,blendOp:A1.SOURCE,data:t}),this._inflator=new LC,this._writingDataChunks=!1}}function F9(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var HC;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(HC||(HC={}));function U9(n,e){return new _9(n,e).decode()}var ls=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function c1(){ls.console&&typeof ls.console.log=="function"&&ls.console.log.apply(ls.console,arguments)}var aa={log:c1,warn:function(n){ls.console&&(typeof ls.console.warn=="function"?ls.console.warn.apply(ls.console,arguments):c1.call(null,arguments))},error:function(n){ls.console&&(typeof ls.console.error=="function"?ls.console.error.apply(ls.console,arguments):c1(n))}};function u1(n,e,t){var s=new XMLHttpRequest;s.open("GET",n),s.responseType="blob",s.onload=function(){Uh(s.response,e,t)},s.onerror=function(){aa.error("could not download file")},s.send()}function VC(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Y0(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var Uh=ls.saveAs||((typeof window>"u"?"undefined":Vr(window))!=="object"||window!==ls?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var s=ls.URL||ls.webkitURL,a=document.createElement("a");e=e||n.name||"download",a.download=e,a.rel="noopener",typeof n=="string"?(a.href=n,a.origin!==location.origin?VC(a.href)?u1(n,e,t):Y0(a,a.target="_blank"):Y0(a)):(a.href=s.createObjectURL(n),setTimeout(function(){s.revokeObjectURL(a.href)},4e4),setTimeout(function(){Y0(a)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(VC(n))u1(n,e,t);else{var s=document.createElement("a");s.href=n,s.target="_blank",setTimeout(function(){Y0(s)})}else navigator.msSaveOrOpenBlob((function(a,o){return o===void 0?o={autoBom:!1}:Vr(o)!=="object"&&(aa.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(n,t),e)}:function(n,e,t,s){if((s=s||open("","_blank"))&&(s.document.title=s.document.body.innerText="downloading..."),typeof n=="string")return u1(n,e,t);var a=n.type==="application/octet-stream",o=/constructor/i.test(ls.HTMLElement)||ls.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||a&&o)&&(typeof FileReader>"u"?"undefined":Vr(FileReader))==="object"){var h=new FileReader;h.onloadend=function(){var A=h.result;A=c?A:A.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=A:location=A,s=null},h.readAsDataURL(n)}else{var u=ls.URL||ls.webkitURL,f=u.createObjectURL(n);s?s.location=f:location.href=f,s=null,setTimeout(function(){u.revokeObjectURL(f)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function yI(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(h){return[parseInt(h[1]),parseInt(h[2]),parseInt(h[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(h){return[parseInt(h[1],16),parseInt(h[2],16),parseInt(h[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(h){return[parseInt(h[1]+h[1],16),parseInt(h[2]+h[2],16),parseInt(h[3]+h[3],16)]}}],s=0;s<t.length;s++){var a=t[s].re,o=t[s].process,c=a.exec(n);c&&(e=o(c),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var h=this.r.toString(16),u=this.g.toString(16),f=this.b.toString(16);return h.length==1&&(h="0"+h),u.length==1&&(u="0"+u),f.length==1&&(f="0"+f),"#"+h+u+f}}var vv=ls.atob.bind(ls),KC=ls.btoa.bind(ls);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function d1(n,e){var t=n[0],s=n[1],a=n[2],o=n[3];t=$o(t,s,a,o,e[0],7,-680876936),o=$o(o,t,s,a,e[1],12,-389564586),a=$o(a,o,t,s,e[2],17,606105819),s=$o(s,a,o,t,e[3],22,-1044525330),t=$o(t,s,a,o,e[4],7,-176418897),o=$o(o,t,s,a,e[5],12,1200080426),a=$o(a,o,t,s,e[6],17,-1473231341),s=$o(s,a,o,t,e[7],22,-45705983),t=$o(t,s,a,o,e[8],7,1770035416),o=$o(o,t,s,a,e[9],12,-1958414417),a=$o(a,o,t,s,e[10],17,-42063),s=$o(s,a,o,t,e[11],22,-1990404162),t=$o(t,s,a,o,e[12],7,1804603682),o=$o(o,t,s,a,e[13],12,-40341101),a=$o(a,o,t,s,e[14],17,-1502002290),t=Yo(t,s=$o(s,a,o,t,e[15],22,1236535329),a,o,e[1],5,-165796510),o=Yo(o,t,s,a,e[6],9,-1069501632),a=Yo(a,o,t,s,e[11],14,643717713),s=Yo(s,a,o,t,e[0],20,-373897302),t=Yo(t,s,a,o,e[5],5,-701558691),o=Yo(o,t,s,a,e[10],9,38016083),a=Yo(a,o,t,s,e[15],14,-660478335),s=Yo(s,a,o,t,e[4],20,-405537848),t=Yo(t,s,a,o,e[9],5,568446438),o=Yo(o,t,s,a,e[14],9,-1019803690),a=Yo(a,o,t,s,e[3],14,-187363961),s=Yo(s,a,o,t,e[8],20,1163531501),t=Yo(t,s,a,o,e[13],5,-1444681467),o=Yo(o,t,s,a,e[2],9,-51403784),a=Yo(a,o,t,s,e[7],14,1735328473),t=Wo(t,s=Yo(s,a,o,t,e[12],20,-1926607734),a,o,e[5],4,-378558),o=Wo(o,t,s,a,e[8],11,-2022574463),a=Wo(a,o,t,s,e[11],16,1839030562),s=Wo(s,a,o,t,e[14],23,-35309556),t=Wo(t,s,a,o,e[1],4,-1530992060),o=Wo(o,t,s,a,e[4],11,1272893353),a=Wo(a,o,t,s,e[7],16,-155497632),s=Wo(s,a,o,t,e[10],23,-1094730640),t=Wo(t,s,a,o,e[13],4,681279174),o=Wo(o,t,s,a,e[0],11,-358537222),a=Wo(a,o,t,s,e[3],16,-722521979),s=Wo(s,a,o,t,e[6],23,76029189),t=Wo(t,s,a,o,e[9],4,-640364487),o=Wo(o,t,s,a,e[12],11,-421815835),a=Wo(a,o,t,s,e[15],16,530742520),t=Xo(t,s=Wo(s,a,o,t,e[2],23,-995338651),a,o,e[0],6,-198630844),o=Xo(o,t,s,a,e[7],10,1126891415),a=Xo(a,o,t,s,e[14],15,-1416354905),s=Xo(s,a,o,t,e[5],21,-57434055),t=Xo(t,s,a,o,e[12],6,1700485571),o=Xo(o,t,s,a,e[3],10,-1894986606),a=Xo(a,o,t,s,e[10],15,-1051523),s=Xo(s,a,o,t,e[1],21,-2054922799),t=Xo(t,s,a,o,e[8],6,1873313359),o=Xo(o,t,s,a,e[15],10,-30611744),a=Xo(a,o,t,s,e[6],15,-1560198380),s=Xo(s,a,o,t,e[13],21,1309151649),t=Xo(t,s,a,o,e[4],6,-145523070),o=Xo(o,t,s,a,e[11],10,-1120210379),a=Xo(a,o,t,s,e[2],15,718787259),s=Xo(s,a,o,t,e[9],21,-343485551),n[0]=Td(t,n[0]),n[1]=Td(s,n[1]),n[2]=Td(a,n[2]),n[3]=Td(o,n[3])}function kx(n,e,t,s,a,o){return e=Td(Td(e,n),Td(s,o)),Td(e<<a|e>>>32-a,t)}function $o(n,e,t,s,a,o,c){return kx(e&t|~e&s,n,e,a,o,c)}function Yo(n,e,t,s,a,o,c){return kx(e&s|t&~s,n,e,a,o,c)}function Wo(n,e,t,s,a,o,c){return kx(e^t^s,n,e,a,o,c)}function Xo(n,e,t,s,a,o,c){return kx(t^(e|~s),n,e,a,o,c)}function bI(n){var e,t=n.length,s=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)d1(s,R9(n.substring(e-64,e)));n=n.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)a[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(d1(s,a),e=0;e<16;e++)a[e]=0;return a[14]=8*t,d1(s,a),s}function R9(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}var zC="0123456789abcdef".split("");function D9(n){for(var e="",t=0;t<4;t++)e+=zC[n>>8*t+4&15]+zC[n>>8*t&15];return e}function L9(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function jb(n){return bI(n).map(L9).join("")}var Q9=(function(n){for(var e=0;e<n.length;e++)n[e]=D9(n[e]);return n.join("")})(bI("hello"))!="5d41402abc4b2a76b9719d911017c592";function Td(n,e){if(Q9){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Bb(n,e){var t,s,a,o;if(n!==t){for(var c=(a=n,o=1+(256/n.length|0),new Array(o+1).join(a)),h=[],u=0;u<256;u++)h[u]=u;var f=0;for(u=0;u<256;u++){var A=h[u];f=(f+A+c.charCodeAt(u))%256,h[u]=h[f],h[f]=A}t=n,s=h}else h=s;var m=e.length,v=0,g=0,b="";for(u=0;u<m;u++)g=(g+(A=h[v=(v+1)%256]))%256,h[v]=h[g],h[g]=A,c=h[(h[v]+h[g])%256],b+=String.fromCharCode(e.charCodeAt(u)^c);return b}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var GC={print:4,modify:8,copy:16,"annot-forms":32};function Kf(n,e,t,s){this.v=1,this.r=2;var a=192;n.forEach(function(h){if(GC.perm!==void 0)throw new Error("Invalid permission: "+h);a+=GC[h]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),c=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,c),this.P=-(1+(255^a)),this.encryptionKey=jb(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(s)).substr(0,5),this.U=Bb(this.encryptionKey,this.padding)}function zf(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,s=0;s<t;s++){var a=n.charCodeAt(s);e+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):n[s]}return e}function $C(n){if(Vr(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,s,a){if(a=a||!1,typeof t!="string"||typeof s!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var o=Math.random().toString(35);return e[t][o]=[s,!!a],o},this.unsubscribe=function(t){for(var s in e)if(e[s][t])return delete e[s][t],Object.keys(e[s]).length===0&&delete e[s],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var s=Array.prototype.slice.call(arguments,1),a=[];for(var o in e[t]){var c=e[t][o];try{c[0].apply(n,s)}catch(h){ls.console&&aa.error("jsPDF PubSub Error",h.message,h)}c[1]&&a.push(o)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function dg(n){if(!(this instanceof dg))return new dg(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function wI(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function Sd(n,e,t,s,a){if(!(this instanceof Sd))return new Sd(n,e,t,s,a);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,wI.call(this,s,a)}function Qh(n,e,t,s,a){if(!(this instanceof Qh))return new Qh(n,e,t,s,a);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,wI.call(this,s,a)}function Dn(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",s=arguments[1],a=arguments[2],o=arguments[3],c=[],h=1,u=16,f="S",A=null;Vr(n=n||{})==="object"&&(t=n.orientation,s=n.unit||s,a=n.format||a,o=n.compress||n.compressPdf||o,(A=n.encryption||null)!==null&&(A.userPassword=A.userPassword||"",A.ownerPassword=A.ownerPassword||"",A.userPermissions=A.userPermissions||[]),h=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(u=n.floatPrecision),f=n.defaultPathOperation||"S"),c=n.filters||(o===!0?["FlateEncode"]:c),s=s||"mm",t=(""+(t||"P")).toLowerCase();var m=n.putOnlyUsedFonts||!1,v={},g={internal:{},__private__:{}};g.__private__.PubSub=$C;var b="1.3",I=g.__private__.getPdfVersion=function(){return b};g.__private__.setPdfVersion=function(k){b=k};var N={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return N};var S=g.__private__.getPageFormat=function(k){return N[k]};a=a||"a4";var E="compat",_="advanced",R=E;function L(){this.saveGraphicsState(),me(new ln(gt,0,0,-gt,0,oo()*gt).toString()+" cm"),this.setFontSize(this.getFontSize()/gt),f="n",R=_}function H(){this.restoreGraphicsState(),f="S",R=E}var D=g.__private__.combineFontStyleAndFontWeight=function(k,le){if(k=="bold"&&le=="normal"||k=="bold"&&le==400||k=="normal"&&le=="italic"||k=="bold"&&le=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return le&&(k=le==400||le==="normal"?k==="italic"?"italic":"normal":le!=700&&le!=="bold"||k!=="normal"?(le==700?"bold":le)+""+k:"bold"),k};g.advancedAPI=function(k){var le=R===E;return le&&L.call(this),typeof k!="function"||(k(this),le&&H.call(this)),this},g.compatAPI=function(k){var le=R===_;return le&&H.call(this),typeof k!="function"||(k(this),le&&L.call(this)),this},g.isAdvancedAPI=function(){return R===_};var Q,O=function(k){if(R!==_)throw new Error(k+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},$=g.roundToPrecision=g.__private__.roundToPrecision=function(k,le){var Ee=e||le;if(isNaN(k)||isNaN(Ee))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return k.toFixed(Ee).replace(/0+$/,"")};Q=g.hpf=g.__private__.hpf=typeof u=="number"?function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.hpf");return $(k,u)}:u==="smart"?function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.hpf");return $(k,k>-1&&k<1?16:5)}:function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.hpf");return $(k,16)};var P=g.f2=g.__private__.f2=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.f2");return $(k,2)},V=g.__private__.f3=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.f3");return $(k,3)},G=g.scale=g.__private__.scale=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.scale");return R===E?k*gt:R===_?k:void 0},ie=function(k){return G((function(le){return R===E?oo()-le:R===_?le:void 0})(k))};g.__private__.setPrecision=g.setPrecision=function(k){typeof parseInt(k,10)=="number"&&(e=parseInt(k,10))};var de,X="00000000000000000000000000000000",q=g.__private__.getFileId=function(){return X},Z=g.__private__.setFileId=function(k){return X=k!==void 0&&/^[a-fA-F0-9]{32}$/.test(k)?k.toUpperCase():X.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),A!==null&&(Ar=new Kf(A.userPermissions,A.userPassword,A.ownerPassword,X)),X};g.setFileId=function(k){return Z(k),this},g.getFileId=function(){return q()};var oe=g.__private__.convertDateToPDFDate=function(k){var le=k.getTimezoneOffset(),Ee=le<0?"+":"-",Re=Math.floor(Math.abs(le/60)),ze=Math.abs(le%60),vt=[Ee,ae(Re),"'",ae(ze),"'"].join("");return["D:",k.getFullYear(),ae(k.getMonth()+1),ae(k.getDate()),ae(k.getHours()),ae(k.getMinutes()),ae(k.getSeconds()),vt].join("")},ye=g.__private__.convertPDFDateToDate=function(k){var le=parseInt(k.substr(2,4),10),Ee=parseInt(k.substr(6,2),10)-1,Re=parseInt(k.substr(8,2),10),ze=parseInt(k.substr(10,2),10),vt=parseInt(k.substr(12,2),10),Tt=parseInt(k.substr(14,2),10);return new Date(le,Ee,Re,ze,vt,Tt,0)},ne=g.__private__.setCreationDate=function(k){var le;if(k===void 0&&(k=new Date),k instanceof Date)le=oe(k);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(k))throw new Error("Invalid argument passed to jsPDF.setCreationDate");le=k}return de=le},M=g.__private__.getCreationDate=function(k){var le=de;return k==="jsDate"&&(le=ye(de)),le};g.setCreationDate=function(k){return ne(k),this},g.getCreationDate=function(k){return M(k)};var W,ae=g.__private__.padd2=function(k){return("0"+parseInt(k)).slice(-2)},ue=g.__private__.padd2Hex=function(k){return("00"+(k=k.toString())).substr(k.length)},ce=0,ge=[],Se=[],xe=0,Ie=[],Ue=[],Pe=!1,rt=Se;g.__private__.setCustomOutputDestination=function(k){Pe=!0,rt=k};var Le=function(k){Pe||(rt=k)};g.__private__.resetCustomOutputDestination=function(){Pe=!1,rt=Se};var me=g.__private__.out=function(k){return k=k.toString(),xe+=k.length+1,rt.push(k),rt},Ze=g.__private__.write=function(k){return me(arguments.length===1?k.toString():Array.prototype.join.call(arguments," "))},pt=g.__private__.getArrayBuffer=function(k){for(var le=k.length,Ee=new ArrayBuffer(le),Re=new Uint8Array(Ee);le--;)Re[le]=k.charCodeAt(le);return Ee},dt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return dt};var Je=n.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(k){return Je=R===_?k/gt:k,this};var Ut,Rt=g.__private__.getFontSize=g.getFontSize=function(){return R===E?Je:Je*gt},zt=n.R2L||!1;g.__private__.setR2L=g.setR2L=function(k){return zt=k,this},g.__private__.getR2L=g.getR2L=function(){return zt};var $t,Jt=g.__private__.setZoomMode=function(k){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(k))Ut=k;else if(isNaN(k)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(k)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+k+'" is not recognized.');Ut=k}else Ut=parseInt(k,10)};g.__private__.getZoomMode=function(){return Ut};var sn,Ge=g.__private__.setPageMode=function(k){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(k)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+k+'" is not recognized.');$t=k};g.__private__.getPageMode=function(){return $t};var Ht=g.__private__.setLayoutMode=function(k){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(k)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+k+'" is not recognized.');sn=k};g.__private__.getLayoutMode=function(){return sn},g.__private__.setDisplayMode=g.setDisplayMode=function(k,le,Ee){return Jt(k),Ht(le),Ge(Ee),this};var kt={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(k){if(Object.keys(kt).indexOf(k)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return kt[k]},g.__private__.getDocumentProperties=function(){return kt},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(k){for(var le in kt)kt.hasOwnProperty(le)&&k[le]&&(kt[le]=k[le]);return this},g.__private__.setDocumentProperty=function(k,le){if(Object.keys(kt).indexOf(k)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return kt[k]=le};var Ot,gt,_t,Un,Me,ht={},Ve={},lt=[],At={},Qt={},St={},Vt={},en=null,jt=0,ct=[],Dt=new $C(g),Yt=n.hotfixes||[],rn={},ts={},Ms=[],ln=function k(le,Ee,Re,ze,vt,Tt){if(!(this instanceof k))return new k(le,Ee,Re,ze,vt,Tt);isNaN(le)&&(le=1),isNaN(Ee)&&(Ee=0),isNaN(Re)&&(Re=0),isNaN(ze)&&(ze=1),isNaN(vt)&&(vt=0),isNaN(Tt)&&(Tt=0),this._matrix=[le,Ee,Re,ze,vt,Tt]};Object.defineProperty(ln.prototype,"sx",{get:function(){return this._matrix[0]},set:function(k){this._matrix[0]=k}}),Object.defineProperty(ln.prototype,"shy",{get:function(){return this._matrix[1]},set:function(k){this._matrix[1]=k}}),Object.defineProperty(ln.prototype,"shx",{get:function(){return this._matrix[2]},set:function(k){this._matrix[2]=k}}),Object.defineProperty(ln.prototype,"sy",{get:function(){return this._matrix[3]},set:function(k){this._matrix[3]=k}}),Object.defineProperty(ln.prototype,"tx",{get:function(){return this._matrix[4]},set:function(k){this._matrix[4]=k}}),Object.defineProperty(ln.prototype,"ty",{get:function(){return this._matrix[5]},set:function(k){this._matrix[5]=k}}),Object.defineProperty(ln.prototype,"a",{get:function(){return this._matrix[0]},set:function(k){this._matrix[0]=k}}),Object.defineProperty(ln.prototype,"b",{get:function(){return this._matrix[1]},set:function(k){this._matrix[1]=k}}),Object.defineProperty(ln.prototype,"c",{get:function(){return this._matrix[2]},set:function(k){this._matrix[2]=k}}),Object.defineProperty(ln.prototype,"d",{get:function(){return this._matrix[3]},set:function(k){this._matrix[3]=k}}),Object.defineProperty(ln.prototype,"e",{get:function(){return this._matrix[4]},set:function(k){this._matrix[4]=k}}),Object.defineProperty(ln.prototype,"f",{get:function(){return this._matrix[5]},set:function(k){this._matrix[5]=k}}),Object.defineProperty(ln.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ln.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ln.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ln.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ln.prototype.join=function(k){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(Q).join(k)},ln.prototype.multiply=function(k){var le=k.sx*this.sx+k.shy*this.shx,Ee=k.sx*this.shy+k.shy*this.sy,Re=k.shx*this.sx+k.sy*this.shx,ze=k.shx*this.shy+k.sy*this.sy,vt=k.tx*this.sx+k.ty*this.shx+this.tx,Tt=k.tx*this.shy+k.ty*this.sy+this.ty;return new ln(le,Ee,Re,ze,vt,Tt)},ln.prototype.decompose=function(){var k=this.sx,le=this.shy,Ee=this.shx,Re=this.sy,ze=this.tx,vt=this.ty,Tt=Math.sqrt(k*k+le*le),pn=(k/=Tt)*Ee+(le/=Tt)*Re;Ee-=k*pn,Re-=le*pn;var wn=Math.sqrt(Ee*Ee+Re*Re);return pn/=wn,k*(Re/=wn)<le*(Ee/=wn)&&(k=-k,le=-le,pn=-pn,Tt=-Tt),{scale:new ln(Tt,0,0,wn,0,0),translate:new ln(1,0,0,1,ze,vt),rotate:new ln(k,le,-le,k,0,0),skew:new ln(1,0,pn,1,0,0)}},ln.prototype.toString=function(k){return this.join(" ")},ln.prototype.inversed=function(){var k=this.sx,le=this.shy,Ee=this.shx,Re=this.sy,ze=this.tx,vt=this.ty,Tt=1/(k*Re-le*Ee),pn=Re*Tt,wn=-le*Tt,Ln=-Ee*Tt,_n=k*Tt;return new ln(pn,wn,Ln,_n,-pn*ze-Ln*vt,-wn*ze-_n*vt)},ln.prototype.applyToPoint=function(k){var le=k.x*this.sx+k.y*this.shx+this.tx,Ee=k.x*this.shy+k.y*this.sy+this.ty;return new Ya(le,Ee)},ln.prototype.applyToRectangle=function(k){var le=this.applyToPoint(k),Ee=this.applyToPoint(new Ya(k.x+k.w,k.y+k.h));return new xr(le.x,le.y,Ee.x-le.x,Ee.y-le.y)},ln.prototype.clone=function(){var k=this.sx,le=this.shy,Ee=this.shx,Re=this.sy,ze=this.tx,vt=this.ty;return new ln(k,le,Ee,Re,ze,vt)},g.Matrix=ln;var ri=g.matrixMult=function(k,le){return le.multiply(k)},Ga=new ln(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=Ga;var Ca=function(k,le){if(!Qt[k]){var Ee=(le instanceof Sd?"Sh":"P")+(Object.keys(At).length+1).toString(10);le.id=Ee,Qt[k]=Ee,At[Ee]=le,Dt.publish("addPattern",le)}};g.ShadingPattern=Sd,g.TilingPattern=Qh,g.addShadingPattern=function(k,le){return O("addShadingPattern()"),Ca(k,le),this},g.beginTilingPattern=function(k){O("beginTilingPattern()"),ii(k.boundingBox[0],k.boundingBox[1],k.boundingBox[2]-k.boundingBox[0],k.boundingBox[3]-k.boundingBox[1],k.matrix)},g.endTilingPattern=function(k,le){O("endTilingPattern()"),le.stream=Ue[W].join(`
`),Ca(k,le),Dt.publish("endTilingPattern",le),Ms.pop().restore()};var Xr,dn=g.__private__.newObject=function(){var k=Hs();return Cr(k,!0),k},Hs=g.__private__.newObjectDeferred=function(){return ce++,ge[ce]=function(){return xe},ce},Cr=function(k,le){return le=typeof le=="boolean"&&le,ge[k]=xe,le&&me(k+" 0 obj"),k},Ns=g.__private__.newAdditionalObject=function(){var k={objId:Hs(),content:""};return Ie.push(k),k},cs=Hs(),rs=Hs(),us=g.__private__.decodeColorString=function(k){var le=k.split(" ");if(le.length!==2||le[1]!=="g"&&le[1]!=="G")le.length!==5||le[4]!=="k"&&le[4]!=="K"||(le=[(1-le[0])*(1-le[3]),(1-le[1])*(1-le[3]),(1-le[2])*(1-le[3]),"r"]);else{var Ee=parseFloat(le[0]);le=[Ee,Ee,Ee,"r"]}for(var Re="#",ze=0;ze<3;ze++)Re+=("0"+Math.floor(255*parseFloat(le[ze])).toString(16)).slice(-2);return Re},Rs=g.__private__.encodeColorString=function(k){var le;typeof k=="string"&&(k={ch1:k});var Ee=k.ch1,Re=k.ch2,ze=k.ch3,vt=k.ch4,Tt=k.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ee=="string"&&Ee.charAt(0)!=="#"){var pn=new yI(Ee);if(pn.ok)Ee=pn.toHex();else if(!/^\d*\.?\d*$/.test(Ee))throw new Error('Invalid color "'+Ee+'" passed to jsPDF.encodeColorString.')}if(typeof Ee=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ee)&&(Ee="#"+Ee[1]+Ee[1]+Ee[2]+Ee[2]+Ee[3]+Ee[3]),typeof Ee=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ee)){var wn=parseInt(Ee.substr(1),16);Ee=wn>>16&255,Re=wn>>8&255,ze=255&wn}if(Re===void 0||vt===void 0&&Ee===Re&&Re===ze)le=typeof Ee=="string"?Ee+" "+Tt[0]:k.precision===2?P(Ee/255)+" "+Tt[0]:V(Ee/255)+" "+Tt[0];else if(vt===void 0||Vr(vt)==="object"){if(vt&&!isNaN(vt.a)&&vt.a===0)return["1.","1.","1.",Tt[1]].join(" ");le=typeof Ee=="string"?[Ee,Re,ze,Tt[1]].join(" "):k.precision===2?[P(Ee/255),P(Re/255),P(ze/255),Tt[1]].join(" "):[V(Ee/255),V(Re/255),V(ze/255),Tt[1]].join(" ")}else le=typeof Ee=="string"?[Ee,Re,ze,vt,Tt[2]].join(" "):k.precision===2?[P(Ee),P(Re),P(ze),P(vt),Tt[2]].join(" "):[V(Ee),V(Re),V(ze),V(vt),Tt[2]].join(" ");return le},fr=g.__private__.getFilters=function(){return c},pa=g.__private__.putStream=function(k){var le=(k=k||{}).data||"",Ee=k.filters||fr(),Re=k.alreadyAppliedFilters||[],ze=k.addLength1||!1,vt=le.length,Tt=k.objectId,pn=function(Y){return Y};if(A!==null&&Tt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");A!==null&&(pn=Ar.encryptor(Tt,0));var wn={};Ee===!0&&(Ee=["FlateEncode"]);var Ln=k.additionalKeyValues||[],_n=(wn=Dn.API.processDataByFilters!==void 0?Dn.API.processDataByFilters(le,Ee):{data:le,reverseChain:[]}).reverseChain+(Array.isArray(Re)?Re.join(" "):Re.toString());if(wn.data.length!==0&&(Ln.push({key:"Length",value:wn.data.length}),ze===!0&&Ln.push({key:"Length1",value:vt})),_n.length!=0)if(_n.split("/").length-1==1)Ln.push({key:"Filter",value:_n});else{Ln.push({key:"Filter",value:"["+_n+"]"});for(var Es=0;Es<Ln.length;Es+=1)if(Ln[Es].key==="DecodeParms"){for(var Er=[],pr=0;pr<wn.reverseChain.split("/").length-1;pr+=1)Er.push("null");Er.push(Ln[Es].value),Ln[Es].value="["+Er.join(" ")+"]"}}me("<<");for(var w=0;w<Ln.length;w++)me("/"+Ln[w].key+" "+Ln[w].value);me(">>"),wn.data.length!==0&&(me("stream"),me(pn(wn.data)),me("endstream"))},Qi=g.__private__.putPage=function(k){var le=k.number,Ee=k.data,Re=k.objId,ze=k.contentsObjId;Cr(Re,!0),me("<</Type /Page"),me("/Parent "+k.rootDictionaryObjId+" 0 R"),me("/Resources "+k.resourceDictionaryObjId+" 0 R"),me("/MediaBox ["+parseFloat(Q(k.mediaBox.bottomLeftX))+" "+parseFloat(Q(k.mediaBox.bottomLeftY))+" "+Q(k.mediaBox.topRightX)+" "+Q(k.mediaBox.topRightY)+"]"),k.cropBox!==null&&me("/CropBox ["+Q(k.cropBox.bottomLeftX)+" "+Q(k.cropBox.bottomLeftY)+" "+Q(k.cropBox.topRightX)+" "+Q(k.cropBox.topRightY)+"]"),k.bleedBox!==null&&me("/BleedBox ["+Q(k.bleedBox.bottomLeftX)+" "+Q(k.bleedBox.bottomLeftY)+" "+Q(k.bleedBox.topRightX)+" "+Q(k.bleedBox.topRightY)+"]"),k.trimBox!==null&&me("/TrimBox ["+Q(k.trimBox.bottomLeftX)+" "+Q(k.trimBox.bottomLeftY)+" "+Q(k.trimBox.topRightX)+" "+Q(k.trimBox.topRightY)+"]"),k.artBox!==null&&me("/ArtBox ["+Q(k.artBox.bottomLeftX)+" "+Q(k.artBox.bottomLeftY)+" "+Q(k.artBox.topRightX)+" "+Q(k.artBox.topRightY)+"]"),typeof k.userUnit=="number"&&k.userUnit!==1&&me("/UserUnit "+k.userUnit),Dt.publish("putPage",{objId:Re,pageContext:ct[le],pageNumber:le,page:Ee}),me("/Contents "+ze+" 0 R"),me(">>"),me("endobj");var vt=Ee.join(`
`);return R===_&&(vt+=`
Q`),Cr(ze,!0),pa({data:vt,filters:fr(),objectId:ze}),me("endobj"),Re},Kr=g.__private__.putPages=function(){var k,le,Ee=[];for(k=1;k<=jt;k++)ct[k].objId=Hs(),ct[k].contentsObjId=Hs();for(k=1;k<=jt;k++)Ee.push(Qi({number:k,data:Ue[k],objId:ct[k].objId,contentsObjId:ct[k].contentsObjId,mediaBox:ct[k].mediaBox,cropBox:ct[k].cropBox,bleedBox:ct[k].bleedBox,trimBox:ct[k].trimBox,artBox:ct[k].artBox,userUnit:ct[k].userUnit,rootDictionaryObjId:cs,resourceDictionaryObjId:rs}));Cr(cs,!0),me("<</Type /Pages");var Re="/Kids [";for(le=0;le<jt;le++)Re+=Ee[le]+" 0 R ";me(Re+"]"),me("/Count "+jt),me(">>"),me("endobj"),Dt.publish("postPutPages")},_r=function(k){Dt.publish("putFont",{font:k,out:me,newObject:dn,putStream:pa}),k.isAlreadyPutted!==!0&&(k.objectNumber=dn(),me("<<"),me("/Type /Font"),me("/BaseFont /"+zf(k.postScriptName)),me("/Subtype /Type1"),typeof k.encoding=="string"&&me("/Encoding /"+k.encoding),me("/FirstChar 32"),me("/LastChar 255"),me(">>"),me("endobj"))},vi=function(k){k.objectNumber=dn();var le=[];le.push({key:"Type",value:"/XObject"}),le.push({key:"Subtype",value:"/Form"}),le.push({key:"BBox",value:"["+[Q(k.x),Q(k.y),Q(k.x+k.width),Q(k.y+k.height)].join(" ")+"]"}),le.push({key:"Matrix",value:"["+k.matrix.toString()+"]"});var Ee=k.pages[1].join(`
`);pa({data:Ee,additionalKeyValues:le,objectId:k.objectNumber}),me("endobj")},zr=function(k,le){le||(le=21);var Ee=dn(),Re=(function(Tt,pn){var wn,Ln=[],_n=1/(pn-1);for(wn=0;wn<1;wn+=_n)Ln.push(wn);if(Ln.push(1),Tt[0].offset!=0){var Es={offset:0,color:Tt[0].color};Tt.unshift(Es)}if(Tt[Tt.length-1].offset!=1){var Er={offset:1,color:Tt[Tt.length-1].color};Tt.push(Er)}for(var pr="",w=0,Y=0;Y<Ln.length;Y++){for(wn=Ln[Y];wn>Tt[w+1].offset;)w++;var re=Tt[w].offset,we=(wn-re)/(Tt[w+1].offset-re),Ye=Tt[w].color,nt=Tt[w+1].color;pr+=ue(Math.round((1-we)*Ye[0]+we*nt[0]).toString(16))+ue(Math.round((1-we)*Ye[1]+we*nt[1]).toString(16))+ue(Math.round((1-we)*Ye[2]+we*nt[2]).toString(16))}return pr.trim()})(k.colors,le),ze=[];ze.push({key:"FunctionType",value:"0"}),ze.push({key:"Domain",value:"[0.0 1.0]"}),ze.push({key:"Size",value:"["+le+"]"}),ze.push({key:"BitsPerSample",value:"8"}),ze.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ze.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),pa({data:Re,additionalKeyValues:ze,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ee}),me("endobj"),k.objectNumber=dn(),me("<< /ShadingType "+k.type),me("/ColorSpace /DeviceRGB");var vt="/Coords ["+Q(parseFloat(k.coords[0]))+" "+Q(parseFloat(k.coords[1]))+" ";k.type===2?vt+=Q(parseFloat(k.coords[2]))+" "+Q(parseFloat(k.coords[3])):vt+=Q(parseFloat(k.coords[2]))+" "+Q(parseFloat(k.coords[3]))+" "+Q(parseFloat(k.coords[4]))+" "+Q(parseFloat(k.coords[5])),me(vt+="]"),k.matrix&&me("/Matrix ["+k.matrix.toString()+"]"),me("/Function "+Ee+" 0 R"),me("/Extend [true true]"),me(">>"),me("endobj")},Sa=function(k,le){var Ee=Hs(),Re=dn();le.push({resourcesOid:Ee,objectOid:Re}),k.objectNumber=Re;var ze=[];ze.push({key:"Type",value:"/Pattern"}),ze.push({key:"PatternType",value:"1"}),ze.push({key:"PaintType",value:"1"}),ze.push({key:"TilingType",value:"1"}),ze.push({key:"BBox",value:"["+k.boundingBox.map(Q).join(" ")+"]"}),ze.push({key:"XStep",value:Q(k.xStep)}),ze.push({key:"YStep",value:Q(k.yStep)}),ze.push({key:"Resources",value:Ee+" 0 R"}),k.matrix&&ze.push({key:"Matrix",value:"["+k.matrix.toString()+"]"}),pa({data:k.stream,additionalKeyValues:ze,objectId:k.objectNumber}),me("endobj")},_e=function(k){for(var le in k.objectNumber=dn(),me("<<"),k)switch(le){case"opacity":me("/ca "+P(k[le]));break;case"stroke-opacity":me("/CA "+P(k[le]))}me(">>"),me("endobj")},Et=function(k){Cr(k.resourcesOid,!0),me("<<"),me("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var le in me("/Font <<"),ht)ht.hasOwnProperty(le)&&(m===!1||m===!0&&v.hasOwnProperty(le))&&me("/"+le+" "+ht[le].objectNumber+" 0 R");me(">>")})(),(function(){if(Object.keys(At).length>0){for(var le in me("/Shading <<"),At)At.hasOwnProperty(le)&&At[le]instanceof Sd&&At[le].objectNumber>=0&&me("/"+le+" "+At[le].objectNumber+" 0 R");Dt.publish("putShadingPatternDict"),me(">>")}})(),(function(le){if(Object.keys(At).length>0){for(var Ee in me("/Pattern <<"),At)At.hasOwnProperty(Ee)&&At[Ee]instanceof g.TilingPattern&&At[Ee].objectNumber>=0&&At[Ee].objectNumber<le&&me("/"+Ee+" "+At[Ee].objectNumber+" 0 R");Dt.publish("putTilingPatternDict"),me(">>")}})(k.objectOid),(function(){if(Object.keys(St).length>0){var le;for(le in me("/ExtGState <<"),St)St.hasOwnProperty(le)&&St[le].objectNumber>=0&&me("/"+le+" "+St[le].objectNumber+" 0 R");Dt.publish("putGStateDict"),me(">>")}})(),(function(){for(var le in me("/XObject <<"),rn)rn.hasOwnProperty(le)&&rn[le].objectNumber>=0&&me("/"+le+" "+rn[le].objectNumber+" 0 R");Dt.publish("putXobjectDict"),me(">>")})(),me(">>"),me("endobj")},Ft=function(k){Ve[k.fontName]=Ve[k.fontName]||{},Ve[k.fontName][k.fontStyle]=k.id},Gt=function(k,le,Ee,Re,ze){var vt={id:"F"+(Object.keys(ht).length+1).toString(10),postScriptName:k,fontName:le,fontStyle:Ee,encoding:Re,isStandardFont:ze||!1,metadata:{}};return Dt.publish("addFont",{font:vt,instance:this}),ht[vt.id]=vt,Ft(vt),vt.id},En=g.__private__.pdfEscape=g.pdfEscape=function(k,le){return(function(Ee,Re){var ze,vt,Tt,pn,wn,Ln,_n,Es,Er;if(Tt=(Re=Re||{}).sourceEncoding||"Unicode",wn=Re.outputEncoding,(Re.autoencode||wn)&&ht[Ot].metadata&&ht[Ot].metadata[Tt]&&ht[Ot].metadata[Tt].encoding&&(pn=ht[Ot].metadata[Tt].encoding,!wn&&ht[Ot].encoding&&(wn=ht[Ot].encoding),!wn&&pn.codePages&&(wn=pn.codePages[0]),typeof wn=="string"&&(wn=pn[wn]),wn)){for(_n=!1,Ln=[],ze=0,vt=Ee.length;ze<vt;ze++)(Es=wn[Ee.charCodeAt(ze)])?Ln.push(String.fromCharCode(Es)):Ln.push(Ee[ze]),Ln[ze].charCodeAt(0)>>8&&(_n=!0);Ee=Ln.join("")}for(ze=Ee.length;_n===void 0&&ze!==0;)Ee.charCodeAt(ze-1)>>8&&(_n=!0),ze--;if(!_n)return Ee;for(Ln=Re.noBOM?[]:[254,255],ze=0,vt=Ee.length;ze<vt;ze++){if((Er=(Es=Ee.charCodeAt(ze))>>8)>>8)throw new Error("Character at position "+ze+" of string '"+Ee+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ln.push(Er),Ln.push(Es-(Er<<8))}return String.fromCharCode.apply(void 0,Ln)})(k,le).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},vn=g.__private__.beginPage=function(k){Ue[++jt]=[],ct[jt]={objId:0,contentsObjId:0,userUnit:Number(h),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(k[0]),topRightY:Number(k[1])}},Zt(jt),Le(Ue[W])},Gn=function(k,le){var Ee,Re,ze;switch(t=le||t,typeof k=="string"&&(Ee=S(k.toLowerCase()),Array.isArray(Ee)&&(Re=Ee[0],ze=Ee[1])),Array.isArray(k)&&(Re=k[0]*gt,ze=k[1]*gt),isNaN(Re)&&(Re=a[0],ze=a[1]),(Re>14400||ze>14400)&&(aa.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Re=Math.min(14400,Re),ze=Math.min(14400,ze)),a=[Re,ze],t.substr(0,1)){case"l":ze>Re&&(a=[ze,Re]);break;case"p":Re>ze&&(a=[ze,Re])}vn(a),Wt(ms),me(Jr),xi!==0&&me(xi+" J"),ca!==0&&me(ca+" j"),Dt.publish("addPage",{pageNumber:jt})},as=function(k){k>0&&k<=jt&&(Ue.splice(k,1),ct.splice(k,1),jt--,W>jt&&(W=jt),this.setPage(W))},Zt=function(k){k>0&&k<=jt&&(W=k)},Gs=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return Ue.length-1},ds=function(k,le,Ee){var Re,ze=void 0;return Ee=Ee||{},k=k!==void 0?k:ht[Ot].fontName,le=le!==void 0?le:ht[Ot].fontStyle,Re=k.toLowerCase(),Ve[Re]!==void 0&&Ve[Re][le]!==void 0?ze=Ve[Re][le]:Ve[k]!==void 0&&Ve[k][le]!==void 0?ze=Ve[k][le]:Ee.disableWarning===!1&&aa.warn("Unable to look up font label for font '"+k+"', '"+le+"'. Refer to getFontList() for available fonts."),ze||Ee.noFallback||(ze=Ve.times[le])==null&&(ze=Ve.times.normal),ze},Sn=g.__private__.putInfo=function(){var k=dn(),le=function(Re){return Re};for(var Ee in A!==null&&(le=Ar.encryptor(k,0)),me("<<"),me("/Producer ("+En(le("jsPDF "+Dn.version))+")"),kt)kt.hasOwnProperty(Ee)&&kt[Ee]&&me("/"+Ee.substr(0,1).toUpperCase()+Ee.substr(1)+" ("+En(le(kt[Ee]))+")");me("/CreationDate ("+En(le(de))+")"),me(">>"),me("endobj")},Cs=g.__private__.putCatalog=function(k){var le=(k=k||{}).rootDictionaryObjId||cs;switch(dn(),me("<<"),me("/Type /Catalog"),me("/Pages "+le+" 0 R"),Ut||(Ut="fullwidth"),Ut){case"fullwidth":me("/OpenAction [3 0 R /FitH null]");break;case"fullheight":me("/OpenAction [3 0 R /FitV null]");break;case"fullpage":me("/OpenAction [3 0 R /Fit]");break;case"original":me("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ee=""+Ut;Ee.substr(Ee.length-1)==="%"&&(Ut=parseInt(Ut)/100),typeof Ut=="number"&&me("/OpenAction [3 0 R /XYZ null null "+P(Ut)+"]")}switch(sn||(sn="continuous"),sn){case"continuous":me("/PageLayout /OneColumn");break;case"single":me("/PageLayout /SinglePage");break;case"two":case"twoleft":me("/PageLayout /TwoColumnLeft");break;case"tworight":me("/PageLayout /TwoColumnRight")}$t&&me("/PageMode /"+$t),Dt.publish("putCatalog"),me(">>"),me("endobj")},is=g.__private__.putTrailer=function(){me("trailer"),me("<<"),me("/Size "+(ce+1)),me("/Root "+ce+" 0 R"),me("/Info "+(ce-1)+" 0 R"),A!==null&&me("/Encrypt "+Ar.oid+" 0 R"),me("/ID [ <"+X+"> <"+X+"> ]"),me(">>")},Vn=g.__private__.putHeader=function(){me("%PDF-"+b),me("%")},mr=g.__private__.putXRef=function(){var k="0000000000";me("xref"),me("0 "+(ce+1)),me("0000000000 65535 f ");for(var le=1;le<=ce;le++)typeof ge[le]=="function"?me((k+ge[le]()).slice(-10)+" 00000 n "):ge[le]!==void 0?me((k+ge[le]).slice(-10)+" 00000 n "):me("0000000000 00000 n ")},Ds=g.__private__.buildDocument=function(){var k;ce=0,xe=0,Se=[],ge=[],Ie=[],cs=Hs(),rs=Hs(),Le(Se),Dt.publish("buildDocument"),Vn(),Kr(),(function(){Dt.publish("putAdditionalObjects");for(var Ee=0;Ee<Ie.length;Ee++){var Re=Ie[Ee];Cr(Re.objId,!0),me(Re.content),me("endobj")}Dt.publish("postPutAdditionalObjects")})(),k=[],(function(){for(var Ee in ht)ht.hasOwnProperty(Ee)&&(m===!1||m===!0&&v.hasOwnProperty(Ee))&&_r(ht[Ee])})(),(function(){var Ee;for(Ee in St)St.hasOwnProperty(Ee)&&_e(St[Ee])})(),(function(){for(var Ee in rn)rn.hasOwnProperty(Ee)&&vi(rn[Ee])})(),(function(Ee){var Re;for(Re in At)At.hasOwnProperty(Re)&&(At[Re]instanceof Sd?zr(At[Re]):At[Re]instanceof Qh&&Sa(At[Re],Ee))})(k),Dt.publish("putResources"),k.forEach(Et),Et({resourcesOid:rs,objectOid:Number.MAX_SAFE_INTEGER}),Dt.publish("postPutResources"),A!==null&&(Ar.oid=dn(),me("<<"),me("/Filter /Standard"),me("/V "+Ar.v),me("/R "+Ar.r),me("/U <"+Ar.toHexString(Ar.U)+">"),me("/O <"+Ar.toHexString(Ar.O)+">"),me("/P "+Ar.P),me(">>"),me("endobj")),Sn(),Cs();var le=xe;return mr(),is(),me("startxref"),me(""+le),me("%%EOF"),Le(Ue[W]),Se.join(`
`)},Kn=g.__private__.getBlob=function(k){return new Blob([pt(k)],{type:"application/pdf"})},Oi=g.output=g.__private__.output=(Xr=function(k,le){switch(typeof(le=le||{})=="string"?le={filename:le}:le.filename=le.filename||"generated.pdf",k){case void 0:return Ds();case"save":g.save(le.filename);break;case"arraybuffer":return pt(Ds());case"blob":return Kn(Ds());case"bloburi":case"bloburl":if(ls.URL!==void 0&&typeof ls.URL.createObjectURL=="function")return ls.URL&&ls.URL.createObjectURL(Kn(Ds()))||void 0;aa.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ee="",Re=Ds();try{Ee=KC(Re)}catch{Ee=KC(unescape(encodeURIComponent(Re)))}return"data:application/pdf;filename="+le.filename+";base64,"+Ee;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ls)==="[object Window]"){var ze="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",vt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';le.pdfObjectUrl&&(ze=le.pdfObjectUrl,vt="");var Tt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ze+'"'+vt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(le)+");<\/script></body></html>",pn=ls.open();return pn!==null&&pn.document.write(Tt),pn}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ls)==="[object Window]"){var wn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(le.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+le.filename+'" width="500px" height="400px" /></body></html>',Ln=ls.open();if(Ln!==null){Ln.document.write(wn);var _n=this;Ln.document.documentElement.querySelector("#pdfViewer").onload=function(){Ln.document.title=le.filename,Ln.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(_n.output("bloburl"))}}return Ln}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ls)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Es='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",le)+'"></iframe></body></html>',Er=ls.open();if(Er!==null&&(Er.document.write(Es),Er.document.title=le.filename),Er||typeof safari>"u")return Er;break;case"datauri":case"dataurl":return ls.document.location.href=this.output("datauristring",le);default:return null}},Xr.foo=function(){try{return Xr.apply(this,arguments)}catch(Ee){var k=Ee.stack||"";~k.indexOf(" at ")&&(k=k.split(" at ")[1]);var le="Error in function "+k.split(`
`)[0].split("<")[0]+": "+Ee.message;if(!ls.console)throw new Error(le);ls.console.error(le,Ee),ls.alert&&alert(le)}},Xr.foo.bar=Xr,Xr.foo),ys=function(k){return Array.isArray(Yt)===!0&&Yt.indexOf(k)>-1};switch(s){case"pt":gt=1;break;case"mm":gt=72/25.4;break;case"cm":gt=72/2.54;break;case"in":gt=72;break;case"px":gt=ys("px_scaling")==1?.75:96/72;break;case"pc":case"em":gt=12;break;case"ex":gt=6;break;default:if(typeof s!="number")throw new Error("Invalid unit: "+s);gt=s}var Ar=null;ne(),Z();var Fr=g.__private__.getPageInfo=g.getPageInfo=function(k){if(isNaN(k)||k%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ct[k].objId,pageNumber:k,pageContext:ct[k]}},sl=g.__private__.getPageInfoByObjId=function(k){if(isNaN(k)||k%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var le in ct)if(ct[le].objId===k)break;return Fr(le)},AA=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:ct[W].objId,pageNumber:W,pageContext:ct[W]}};g.addPage=function(){return Gn.apply(this,arguments),this},g.setPage=function(){return Zt.apply(this,arguments),Le.call(this,Ue[W]),this},g.insertPage=function(k){return this.addPage(),this.movePage(W,k),this},g.movePage=function(k,le){var Ee,Re;if(k>le){Ee=Ue[k],Re=ct[k];for(var ze=k;ze>le;ze--)Ue[ze]=Ue[ze-1],ct[ze]=ct[ze-1];Ue[le]=Ee,ct[le]=Re,this.setPage(le)}else if(k<le){Ee=Ue[k],Re=ct[k];for(var vt=k;vt<le;vt++)Ue[vt]=Ue[vt+1],ct[vt]=ct[vt+1];Ue[le]=Ee,ct[le]=Re,this.setPage(le)}return this},g.deletePage=function(){return as.apply(this,arguments),this},g.__private__.text=g.text=function(k,le,Ee,Re,ze){var vt,Tt,pn,wn,Ln,_n,Es,Er,pr,w=(Re=Re||{}).scope||this;if(typeof k=="number"&&typeof le=="number"&&(typeof Ee=="string"||Array.isArray(Ee))){var Y=Ee;Ee=le,le=k,k=Y}if(arguments[3]instanceof ln==0?(pn=arguments[4],wn=arguments[5],Vr(Es=arguments[3])==="object"&&Es!==null||(typeof pn=="string"&&(wn=pn,pn=null),typeof Es=="string"&&(wn=Es,Es=null),typeof Es=="number"&&(pn=Es,Es=null),Re={flags:Es,angle:pn,align:wn})):(O("The transform parameter of text() with a Matrix value"),pr=ze),isNaN(le)||isNaN(Ee)||k==null)throw new Error("Invalid arguments passed to jsPDF.text");if(k.length===0)return w;var re,we="",Ye=typeof Re.lineHeightFactor=="number"?Re.lineHeightFactor:js,nt=w.internal.scaleFactor;function Mt(Ws){return Ws=Ws.split("	").join(Array(Re.TabLen||9).join(" ")),En(Ws,Es)}function Jn(Ws){for(var Vs,Ir=Ws.concat(),tr=[],cl=Ir.length;cl--;)typeof(Vs=Ir.shift())=="string"?tr.push(Vs):Array.isArray(Ws)&&(Vs.length===1||Vs[1]===void 0&&Vs[2]===void 0)?tr.push(Vs[0]):tr.push([Vs[0],Vs[1],Vs[2]]);return tr}function Tr(Ws,Vs){var Ir;if(typeof Ws=="string")Ir=Vs(Ws)[0];else if(Array.isArray(Ws)){for(var tr,cl,ul=Ws.concat(),MA=[],dA=ul.length;dA--;)typeof(tr=ul.shift())=="string"?MA.push(Vs(tr)[0]):Array.isArray(tr)&&typeof tr[0]=="string"&&(cl=Vs(tr[0],tr[1],tr[2]),MA.push([cl[0],cl[1],cl[2]]));Ir=MA}return Ir}var ps=!1,er=!0;if(typeof k=="string")ps=!0;else if(Array.isArray(k)){var ka=k.concat();Tt=[];for(var ga,$s=ka.length;$s--;)(typeof(ga=ka.shift())!="string"||Array.isArray(ga)&&typeof ga[0]!="string")&&(er=!1);ps=er}if(ps===!1)throw new Error('Type of text must be string or Array. "'+k+'" is not recognized.');typeof k=="string"&&(k=k.match(/[\r?\n]/)?k.split(/\r\n|\r|\n/g):[k]);var ns=Je/w.internal.scaleFactor,lo=ns*(Ye-1);switch(Re.baseline){case"bottom":Ee-=lo;break;case"top":Ee+=ns-lo;break;case"hanging":Ee+=ns-2*lo;break;case"middle":Ee+=ns/2-lo}if((_n=Re.maxWidth||0)>0&&(typeof k=="string"?k=w.splitTextToSize(k,_n):Object.prototype.toString.call(k)==="[object Array]"&&(k=k.reduce(function(Ws,Vs){return Ws.concat(w.splitTextToSize(Vs,_n))},[]))),vt={text:k,x:le,y:Ee,options:Re,mutex:{pdfEscape:En,activeFontKey:Ot,fonts:ht,activeFontSize:Je}},Dt.publish("preProcessText",vt),k=vt.text,pn=(Re=vt.options).angle,pr instanceof ln==0&&pn&&typeof pn=="number"){pn*=Math.PI/180,Re.rotationDirection===0&&(pn=-pn),R===_&&(pn=-pn);var To=Math.cos(pn),al=Math.sin(pn);pr=new ln(To,al,-al,To,0,0)}else pn&&pn instanceof ln&&(pr=pn);R!==_||pr||(pr=Ga),(Ln=Re.charSpace||$a)!==void 0&&(we+=Q(G(Ln))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Er=Re.horizontalScale)!==void 0&&(we+=Q(100*Er)+` Tz
`),Re.lang;var Na=-1,Xa=Re.renderingMode!==void 0?Re.renderingMode:Re.stroke,fc=w.internal.getCurrentPageInfo().pageContext;switch(Xa){case 0:case!1:case"fill":Na=0;break;case 1:case!0:case"stroke":Na=1;break;case 2:case"fillThenStroke":Na=2;break;case 3:case"invisible":Na=3;break;case 4:case"fillAndAddForClipping":Na=4;break;case 5:case"strokeAndAddPathForClipping":Na=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Na=6;break;case 7:case"addToPathForClipping":Na=7}var Io=fc.usedRenderingMode!==void 0?fc.usedRenderingMode:-1;Na!==-1?we+=Na+` Tr
`:Io!==-1&&(we+=`0 Tr
`),Na!==-1&&(fc.usedRenderingMode=Na),wn=Re.align||"left";var Ys,_o=Je*Ye,Dr=w.internal.pageSize.getWidth(),QA=ht[Ot];Ln=Re.charSpace||$a,_n=Re.maxWidth||0,Es=Object.assign({autoencode:!0,noBOM:!0},Re.flags);var Ja=[],Fo=function(Ws){return w.getStringUnitWidth(Ws,{font:QA,charSpace:Ln,fontSize:Je,doKerning:!1})*Je/nt};if(Object.prototype.toString.call(k)==="[object Array]"){var ws;Tt=Jn(k),wn!=="left"&&(Ys=Tt.map(Fo));var yi,il=0;if(wn==="right"){le-=Ys[0],k=[],$s=Tt.length;for(var ol=0;ol<$s;ol++)ol===0?(yi=Rr(le),ws=Nr(Ee)):(yi=G(il-Ys[ol]),ws=-_o),k.push([Tt[ol],yi,ws]),il=Ys[ol]}else if(wn==="center"){le-=Ys[0]/2,k=[],$s=Tt.length;for(var yl=0;yl<$s;yl++)yl===0?(yi=Rr(le),ws=Nr(Ee)):(yi=G((il-Ys[yl])/2),ws=-_o),k.push([Tt[yl],yi,ws]),il=Ys[yl]}else if(wn==="left"){k=[],$s=Tt.length;for(var Kl=0;Kl<$s;Kl++)k.push(Tt[Kl])}else if(wn==="justify"&&QA.encoding==="Identity-H"){k=[],$s=Tt.length,_n=_n!==0?_n:Dr;for(var OA=0,ua=0;ua<$s;ua++)if(ws=ua===0?Nr(Ee):-_o,yi=ua===0?Rr(le):OA,ua<$s-1){var Mi=G((_n-Ys[ua])/(Tt[ua].split(" ").length-1)),oi=Tt[ua].split(" ");k.push([oi[0]+" ",yi,ws]),OA=0;for(var li=1;li<oi.length;li++){var Ls=(Fo(oi[li-1]+" "+oi[li])-Fo(oi[li]))*nt+Mi;li==oi.length-1?k.push([oi[li],Ls,0]):k.push([oi[li]+" ",Ls,0]),OA-=Ls}}else k.push([Tt[ua],yi,ws]);k.push(["",OA,0])}else{if(wn!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(k=[],$s=Tt.length,_n=_n!==0?_n:Dr,ua=0;ua<$s;ua++){ws=ua===0?Nr(Ee):-_o,yi=ua===0?Rr(le):0;var bi=Tt[ua].split(" ").length-1,PA=bi>0?(_n-Ys[ua])/bi:0;ua<$s-1?Ja.push(Q(G(PA))):Ja.push(0),k.push([Tt[ua],yi,ws])}}}(typeof Re.R2L=="boolean"?Re.R2L:zt)===!0&&(k=Tr(k,function(Ws,Vs,Ir){return[Ws.split("").reverse().join(""),Vs,Ir]})),vt={text:k,x:le,y:Ee,options:Re,mutex:{pdfEscape:En,activeFontKey:Ot,fonts:ht,activeFontSize:Je}},Dt.publish("postProcessText",vt),k=vt.text,re=vt.mutex.isHex||!1;var kA=ht[Ot].encoding;kA!=="WinAnsiEncoding"&&kA!=="StandardEncoding"||(k=Tr(k,function(Ws,Vs,Ir){return[Mt(Ws),Vs,Ir]})),Tt=Jn(k),k=[];for(var ll,bl,wl,Al=Array.isArray(Tt[0])?1:0,va="",zl=function(Ws,Vs,Ir){var tr="";return Ir instanceof ln?(Ir=typeof Re.angle=="number"?ri(Ir,new ln(1,0,0,1,Ws,Vs)):ri(new ln(1,0,0,1,Ws,Vs),Ir),R===_&&(Ir=ri(new ln(1,0,0,-1,0,0),Ir)),tr=Ir.join(" ")+` Tm
`):tr=Q(Ws)+" "+Q(Vs)+` Td
`,tr},wi=0;wi<Tt.length;wi++){switch(va="",Al){case 1:wl=(re?"<":"(")+Tt[wi][0]+(re?">":")"),ll=parseFloat(Tt[wi][1]),bl=parseFloat(Tt[wi][2]);break;case 0:wl=(re?"<":"(")+Tt[wi]+(re?">":")"),ll=Rr(le),bl=Nr(Ee)}Ja!==void 0&&Ja[wi]!==void 0&&(va=Ja[wi]+` Tw
`),wi===0?k.push(va+zl(ll,bl,pr)+wl):Al===0?k.push(va+wl):Al===1&&k.push(va+zl(ll,bl,pr)+wl)}k=Al===0?k.join(` Tj
T* `):k.join(` Tj
`),k+=` Tj
`;var Hi=`BT
/`;return Hi+=Ot+" "+Je+` Tf
`,Hi+=Q(Je*Ye)+` TL
`,Hi+=qr+`
`,Hi+=we,Hi+=k,me(Hi+="ET"),v[Ot]=!0,w};var Ml=g.__private__.clip=g.clip=function(k){return me(k==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return Ml("evenodd")},g.__private__.discardPath=g.discardPath=function(){return me("n"),this};var Pa=g.__private__.isValidStyle=function(k){var le=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(k)!==-1&&(le=!0),le};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(k){return Pa(k)&&(f=k),this};var Hl=g.__private__.getStyle=g.getStyle=function(k){var le=f;switch(k){case"D":case"S":le="S";break;case"F":le="f";break;case"FD":case"DF":le="B";break;case"f":case"f*":case"B":case"B*":le=k}return le},ao=g.close=function(){return me("h"),this};g.stroke=function(){return me("S"),this},g.fill=function(k){return Ur("f",k),this},g.fillEvenOdd=function(k){return Ur("f*",k),this},g.fillStroke=function(k){return Ur("B",k),this},g.fillStrokeEvenOdd=function(k){return Ur("B*",k),this};var Ur=function(k,le){Vr(le)==="object"?vl(le,k):me(k)},Co=function(k){k===null||R===_&&k===void 0||(k=Hl(k),me(k))};function qi(k,le,Ee,Re,ze){var vt=new Qh(le||this.boundingBox,Ee||this.xStep,Re||this.yStep,this.gState,ze||this.matrix);vt.stream=this.stream;var Tt=k+"$$"+this.cloneIndex+++"$$";return Ca(Tt,vt),vt}var vl=function(k,le){var Ee=Qt[k.key],Re=At[Ee];if(Re instanceof Sd)me("q"),me(So(le)),Re.gState&&g.setGState(Re.gState),me(k.matrix.toString()+" cm"),me("/"+Ee+" sh"),me("Q");else if(Re instanceof Qh){var ze=new ln(1,0,0,-1,0,oo());k.matrix&&(ze=ze.multiply(k.matrix||Ga),Ee=qi.call(Re,k.key,k.boundingBox,k.xStep,k.yStep,ze).id),me("q"),me("/Pattern cs"),me("/"+Ee+" scn"),Re.gState&&g.setGState(Re.gState),me(le),me("Q")}},So=function(k){switch(k){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},io=g.moveTo=function(k,le){return me(Q(G(k))+" "+Q(ie(le))+" m"),this},ai=g.lineTo=function(k,le){return me(Q(G(k))+" "+Q(ie(le))+" l"),this},Sr=g.curveTo=function(k,le,Ee,Re,ze,vt){return me([Q(G(k)),Q(ie(le)),Q(G(Ee)),Q(ie(Re)),Q(G(ze)),Q(ie(vt)),"c"].join(" ")),this};g.__private__.line=g.line=function(k,le,Ee,Re,ze){if(isNaN(k)||isNaN(le)||isNaN(Ee)||isNaN(Re)||!Pa(ze))throw new Error("Invalid arguments passed to jsPDF.line");return R===E?this.lines([[Ee-k,Re-le]],k,le,[1,1],ze||"S"):this.lines([[Ee-k,Re-le]],k,le,[1,1]).stroke()},g.__private__.lines=g.lines=function(k,le,Ee,Re,ze,vt){var Tt,pn,wn,Ln,_n,Es,Er,pr,w,Y,re,we;if(typeof k=="number"&&(we=Ee,Ee=le,le=k,k=we),Re=Re||[1,1],vt=vt||!1,isNaN(le)||isNaN(Ee)||!Array.isArray(k)||!Array.isArray(Re)||!Pa(ze)||typeof vt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(io(le,Ee),Tt=Re[0],pn=Re[1],Ln=k.length,Y=le,re=Ee,wn=0;wn<Ln;wn++)(_n=k[wn]).length===2?(Y=_n[0]*Tt+Y,re=_n[1]*pn+re,ai(Y,re)):(Es=_n[0]*Tt+Y,Er=_n[1]*pn+re,pr=_n[2]*Tt+Y,w=_n[3]*pn+re,Y=_n[4]*Tt+Y,re=_n[5]*pn+re,Sr(Es,Er,pr,w,Y,re));return vt&&ao(),Co(ze),this},g.path=function(k){for(var le=0;le<k.length;le++){var Ee=k[le],Re=Ee.c;switch(Ee.op){case"m":io(Re[0],Re[1]);break;case"l":ai(Re[0],Re[1]);break;case"c":Sr.apply(this,Re);break;case"h":ao()}}return this},g.__private__.rect=g.rect=function(k,le,Ee,Re,ze){if(isNaN(k)||isNaN(le)||isNaN(Ee)||isNaN(Re)||!Pa(ze))throw new Error("Invalid arguments passed to jsPDF.rect");return R===E&&(Re=-Re),me([Q(G(k)),Q(ie(le)),Q(G(Ee)),Q(G(Re)),"re"].join(" ")),Co(ze),this},g.__private__.triangle=g.triangle=function(k,le,Ee,Re,ze,vt,Tt){if(isNaN(k)||isNaN(le)||isNaN(Ee)||isNaN(Re)||isNaN(ze)||isNaN(vt)||!Pa(Tt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ee-k,Re-le],[ze-Ee,vt-Re],[k-ze,le-vt]],k,le,[1,1],Tt,!0),this},g.__private__.roundedRect=g.roundedRect=function(k,le,Ee,Re,ze,vt,Tt){if(isNaN(k)||isNaN(le)||isNaN(Ee)||isNaN(Re)||isNaN(ze)||isNaN(vt)||!Pa(Tt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var pn=4/3*(Math.SQRT2-1);return ze=Math.min(ze,.5*Ee),vt=Math.min(vt,.5*Re),this.lines([[Ee-2*ze,0],[ze*pn,0,ze,vt-vt*pn,ze,vt],[0,Re-2*vt],[0,vt*pn,-ze*pn,vt,-ze,vt],[2*ze-Ee,0],[-ze*pn,0,-ze,-vt*pn,-ze,-vt],[0,2*vt-Re],[0,-vt*pn,ze*pn,-vt,ze,-vt]],k+ze,le,[1,1],Tt,!0),this},g.__private__.ellipse=g.ellipse=function(k,le,Ee,Re,ze){if(isNaN(k)||isNaN(le)||isNaN(Ee)||isNaN(Re)||!Pa(ze))throw new Error("Invalid arguments passed to jsPDF.ellipse");var vt=4/3*(Math.SQRT2-1)*Ee,Tt=4/3*(Math.SQRT2-1)*Re;return io(k+Ee,le),Sr(k+Ee,le-Tt,k+vt,le-Re,k,le-Re),Sr(k-vt,le-Re,k-Ee,le-Tt,k-Ee,le),Sr(k-Ee,le+Tt,k-vt,le+Re,k,le+Re),Sr(k+vt,le+Re,k+Ee,le+Tt,k+Ee,le),Co(ze),this},g.__private__.circle=g.circle=function(k,le,Ee,Re){if(isNaN(k)||isNaN(le)||isNaN(Ee)||!Pa(Re))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(k,le,Ee,Ee,Re)},g.setFont=function(k,le,Ee){return Ee&&(le=D(le,Ee)),Ot=ds(k,le,{disableWarning:!1}),this};var hn=g.__private__.getFont=g.getFont=function(){return ht[ds.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var k,le,Ee={};for(k in Ve)if(Ve.hasOwnProperty(k))for(le in Ee[k]=[],Ve[k])Ve[k].hasOwnProperty(le)&&Ee[k].push(le);return Ee},g.addFont=function(k,le,Ee,Re,ze){var vt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&vt.indexOf(arguments[3])!==-1?ze=arguments[3]:arguments[3]&&vt.indexOf(arguments[3])==-1&&(Ee=D(Ee,Re)),Gt.call(this,k,le,Ee,ze=ze||"Identity-H")};var js,ms=n.lineWidth||.200025,_s=g.__private__.getLineWidth=g.getLineWidth=function(){return ms},Wt=g.__private__.setLineWidth=g.setLineWidth=function(k){return ms=k,me(Q(G(k))+" w"),this};g.__private__.setLineDash=Dn.API.setLineDash=Dn.API.setLineDashPattern=function(k,le){if(k=k||[],le=le||0,isNaN(le)||!Array.isArray(k))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return k=k.map(function(Ee){return Q(G(Ee))}).join(" "),le=Q(G(le)),me("["+k+"] "+le+" d"),this};var cn=g.__private__.getLineHeight=g.getLineHeight=function(){return Je*js};g.__private__.getLineHeight=g.getLineHeight=function(){return Je*js};var sr=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(k){return typeof(k=k||1.15)=="number"&&(js=k),this},oa=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return js};sr(n.lineHeight);var Rr=g.__private__.getHorizontalCoordinate=function(k){return G(k)},Nr=g.__private__.getVerticalCoordinate=function(k){return R===_?k:ct[W].mediaBox.topRightY-ct[W].mediaBox.bottomLeftY-G(k)},la=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(k){return Q(Rr(k))},bs=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(k){return Q(Nr(k))},Jr=n.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return us(Jr)},g.__private__.setStrokeColor=g.setDrawColor=function(k,le,Ee,Re){return Jr=Rs({ch1:k,ch2:le,ch3:Ee,ch4:Re,pdfColorType:"draw",precision:2}),me(Jr),this};var Aa=n.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return us(Aa)},g.__private__.setFillColor=g.setFillColor=function(k,le,Ee,Re){return Aa=Rs({ch1:k,ch2:le,ch3:Ee,ch4:Re,pdfColorType:"fill",precision:2}),me(Aa),this};var qr=n.textColor||"0 g",rl=g.__private__.getTextColor=g.getTextColor=function(){return us(qr)};g.__private__.setTextColor=g.setTextColor=function(k,le,Ee,Re){return qr=Rs({ch1:k,ch2:le,ch3:Ee,ch4:Re,pdfColorType:"text",precision:3}),this};var $a=n.charSpace,Zi=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat($a||0)};g.__private__.setCharSpace=g.setCharSpace=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return $a=k,this};var xi=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(k){var le=g.CapJoinStyles[k];if(le===void 0)throw new Error("Line cap style of '"+k+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return xi=le,me(le+" J"),this};var ca=0;g.__private__.setLineJoin=g.setLineJoin=function(k){var le=g.CapJoinStyles[k];if(le===void 0)throw new Error("Line join style of '"+k+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ca=le,me(le+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(k){if(k=k||0,isNaN(k))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return me(Q(G(k))+" M"),this},g.GState=dg,g.setGState=function(k){(k=typeof k=="string"?St[Vt[k]]:No(null,k)).equals(en)||(me("/"+k.id+" gs"),en=k)};var No=function(k,le){if(!k||!Vt[k]){var Ee=!1;for(var Re in St)if(St.hasOwnProperty(Re)&&St[Re].equals(le)){Ee=!0;break}if(Ee)le=St[Re];else{var ze="GS"+(Object.keys(St).length+1).toString(10);St[ze]=le,le.id=ze}return k&&(Vt[k]=le.id),Dt.publish("addGState",le),le}};g.addGState=function(k,le){return No(k,le),this},g.saveGraphicsState=function(){return me("q"),lt.push({key:Ot,size:Je,color:qr}),this},g.restoreGraphicsState=function(){me("Q");var k=lt.pop();return Ot=k.key,Je=k.size,qr=k.color,en=null,this},g.setCurrentTransformationMatrix=function(k){return me(k.toString()+" cm"),this},g.comment=function(k){return me("#"+k),this};var Ya=function(k,le){var Ee=k||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ee},set:function(vt){isNaN(vt)||(Ee=parseFloat(vt))}});var Re=le||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Re},set:function(vt){isNaN(vt)||(Re=parseFloat(vt))}});var ze="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ze},set:function(vt){ze=vt.toString()}}),this},xr=function(k,le,Ee,Re){Ya.call(this,k,le),this.type="rect";var ze=Ee||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ze},set:function(Tt){isNaN(Tt)||(ze=parseFloat(Tt))}});var vt=Re||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return vt},set:function(Tt){isNaN(Tt)||(vt=parseFloat(Tt))}}),this},xl=function(){this.page=jt,this.currentPage=W,this.pages=Ue.slice(0),this.pagesContext=ct.slice(0),this.x=_t,this.y=Un,this.matrix=Me,this.width=eo(W),this.height=cA(W),this.outputDestination=rt,this.id="",this.objectNumber=-1};xl.prototype.restore=function(){jt=this.page,W=this.currentPage,ct=this.pagesContext,Ue=this.pages,_t=this.x,Un=this.y,Me=this.matrix,Vl(W,this.width),Wa(W,this.height),rt=this.outputDestination};var ii=function(k,le,Ee,Re,ze){Ms.push(new xl),jt=W=0,Ue=[],_t=k,Un=le,Me=ze,vn([Ee,Re])};for(var Eo in g.beginFormObject=function(k,le,Ee,Re,ze){return ii(k,le,Ee,Re,ze),this},g.endFormObject=function(k){return(function(le){if(ts[le])Ms.pop().restore();else{var Ee=new xl,Re="Xo"+(Object.keys(rn).length+1).toString(10);Ee.id=Re,ts[le]=Re,rn[Re]=Ee,Dt.publish("addFormObject",Ee),Ms.pop().restore()}})(k),this},g.doFormObject=function(k,le){var Ee=rn[ts[k]];return me("q"),me(le.toString()+" cm"),me("/"+Ee.id+" Do"),me("Q"),this},g.getFormObject=function(k){var le=rn[ts[k]];return{x:le.x,y:le.y,width:le.width,height:le.height,matrix:le.matrix}},g.save=function(k,le){return k=k||"generated.pdf",(le=le||{}).returnPromise=le.returnPromise||!1,le.returnPromise===!1?(Uh(Kn(Ds()),k),typeof Uh.unload=="function"&&ls.setTimeout&&setTimeout(Uh.unload,911),this):new Promise(function(Ee,Re){try{var ze=Uh(Kn(Ds()),k);typeof Uh.unload=="function"&&ls.setTimeout&&setTimeout(Uh.unload,911),Ee(ze)}catch(vt){Re(vt.message)}})},Dn.API)Dn.API.hasOwnProperty(Eo)&&(Eo==="events"&&Dn.API.events.length?(function(k,le){var Ee,Re,ze;for(ze=le.length-1;ze!==-1;ze--)Ee=le[ze][0],Re=le[ze][1],k.subscribe.apply(k,[Ee].concat(typeof Re=="function"?[Re]:Re))})(Dt,Dn.API.events):g[Eo]=Dn.API[Eo]);function eo(k){return ct[k].mediaBox.topRightX-ct[k].mediaBox.bottomLeftX}function Vl(k,le){ct[k].mediaBox.topRightX=le+ct[k].mediaBox.bottomLeftX}function cA(k){return ct[k].mediaBox.topRightY-ct[k].mediaBox.bottomLeftY}function Wa(k,le){ct[k].mediaBox.topRightY=le+ct[k].mediaBox.bottomLeftY}var Pi=g.getPageWidth=function(k){return eo(k=k||W)/gt},uA=g.setPageWidth=function(k,le){Vl(k,le*gt)},oo=g.getPageHeight=function(k){return cA(k=k||W)/gt},ki=g.setPageHeight=function(k,le){Wa(k,le*gt)};return g.internal={pdfEscape:En,getStyle:Hl,getFont:hn,getFontSize:Rt,getCharSpace:Zi,getTextColor:rl,getLineHeight:cn,getLineHeightFactor:oa,getLineWidth:_s,write:Ze,getHorizontalCoordinate:Rr,getVerticalCoordinate:Nr,getCoordinateString:la,getVerticalCoordinateString:bs,collections:{},newObject:dn,newAdditionalObject:Ns,newObjectDeferred:Hs,newObjectDeferredBegin:Cr,getFilters:fr,putStream:pa,events:Dt,scaleFactor:gt,pageSize:{getWidth:function(){return Pi(W)},setWidth:function(k){uA(W,k)},getHeight:function(){return oo(W)},setHeight:function(k){ki(W,k)}},encryptionOptions:A,encryption:Ar,getEncryptor:function(k){return A!==null?Ar.encryptor(k,0):function(le){return le}},output:Oi,getNumberOfPages:Gs,get pages(){return Ue},out:me,f2:P,f3:V,getPageInfo:Fr,getPageInfoByObjId:sl,getCurrentPageInfo:AA,getPDFVersion:I,Point:Ya,Rectangle:xr,Matrix:ln,hasHotfix:ys},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return Pi(W)},set:function(k){uA(W,k)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return oo(W)},set:function(k){ki(W,k)},enumerable:!0,configurable:!0}),(function(k){for(var le=0,Ee=dt.length;le<Ee;le++){var Re=Gt.call(this,k[le][0],k[le][1],k[le][2],dt[le][3],!0);m===!1&&(v[Re]=!0);var ze=k[le][0].split("-");Ft({id:Re,fontName:ze[0],fontStyle:ze[1]||""})}Dt.publish("addFonts",{fonts:ht,dictionary:Ve})}).call(g,dt),Ot="F1",Gn(a,t),Dt.publish("initialized"),g}Kf.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},Kf.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Kf.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},Kf.prototype.processOwnerPassword=function(n,e){return Bb(jb(e).substr(0,5),n)},Kf.prototype.encryptor=function(n,e){var t=jb(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(s){return Bb(t,s)}},dg.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||Vr(n)!==Vr(this))return!1;var s=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;s++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&s--;return s===0},Dn.API={events:[]},Dn.version="3.0.4";var ti=Dn.API,u2=1,Af=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Of=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},xs=function(n){return n.toFixed(2)},xd=function(n){return n.toFixed(5)};ti.__acroform__={};var kl=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},YC=function(n){return n*u2},Qc=function(n){var e=new BI,t=Cn.internal.getHeight(n)||0,s=Cn.internal.getWidth(n)||0;return e.BBox=[0,0,Number(xs(s)),Number(xs(t))],e},O9=ti.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},P9=ti.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},k9=ti.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},mi=ti.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return k9(n,e-1)},pi=ti.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return O9(n,e-1)},gi=ti.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return P9(n,e-1)},M9=ti.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,s=e.internal.getVerticalCoordinate,a=n[0],o=n[1],c=n[2],h=n[3],u={};return u.lowerLeft_X=t(a)||0,u.lowerLeft_Y=s(o+h)||0,u.upperRight_X=t(a+c)||0,u.upperRight_Y=s(o)||0,[Number(xs(u.lowerLeft_X)),Number(xs(u.lowerLeft_Y)),Number(xs(u.upperRight_X)),Number(xs(u.upperRight_Y))]},H9=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,s=Cb(n,t),a=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+a+" "+xs(s.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(s.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=Qc(n);return o.scope=n.scope,o.stream=e.join(`
`),o}},Cb=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,s={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=n.multiline?a.map(function(P){return P.split(`
`)}):a.map(function(P){return[P]});var o=t,c=Cn.internal.getHeight(n)||0;c=c<0?-c:c;var h=Cn.internal.getWidth(n)||0;h=h<0?-h:h;var u=function(P,V,G){if(P+1<a.length){var ie=V+" "+a[P+1][0];return W0(ie,n,G).width<=h-4}return!1};o++;e:for(;o>0;){e="",o--;var f,A,m=W0("3",n,o).height,v=n.multiline?c-o:(c-m)/2,g=v+=2,b=0,I=0,N=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+W0(e,n,o=12).width+", FieldWidth:"+h+`
`;break}for(var S="",E=0,_=0;_<a.length;_++)if(a.hasOwnProperty(_)){var R=!1;if(a[_].length!==1&&N!==a[_].length-1){if((m+2)*(E+2)+2>c)continue e;S+=a[_][N],R=!0,I=_,_--}else{S=(S+=a[_][N]+" ").substr(S.length-1)==" "?S.substr(0,S.length-1):S;var L=parseInt(_),H=u(L,S,o),D=_>=a.length-1;if(H&&!D){S+=" ",N=0;continue}if(H||D){if(D)I=L;else if(n.multiline&&(m+2)*(E+2)+2>c)continue e}else{if(!n.multiline||(m+2)*(E+2)+2>c)continue e;I=L}}for(var Q="",O=b;O<=I;O++){var $=a[O];if(n.multiline){if(O===I){Q+=$[N]+" ",N=(N+1)%$.length;continue}if(O===b){Q+=$[$.length-1]+" ";continue}}Q+=$[0]+" "}switch(Q=Q.substr(Q.length-1)==" "?Q.substr(0,Q.length-1):Q,A=W0(Q,n,o).width,n.textAlign){case"right":f=h-A-2;break;case"center":f=(h-A)/2;break;default:f=2}e+=xs(f)+" "+xs(g)+` Td
`,e+="("+Af(Q)+`) Tj
`,e+=-xs(f)+` 0 Td
`,g=-(o+2),A=0,b=R?I:I+1,E++,S=""}break}return s.text=e,s.fontSize=o,s},W0=function(n,e,t){var s=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(n,{font:s,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:s,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:a}},V9={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},K9=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(s){return s.type===t.type&&s.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},z9=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(dc.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(V9)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");u2=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new CI,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var s=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];o.objId=void 0,o.hasAnnotation&&K9(o,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(s,a){var o=!s;for(var c in s||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),s=s||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(s.hasOwnProperty(c)){var h=s[c],u=[],f=h.Rect;if(h.Rect&&(h.Rect=M9(h.Rect,a)),a.internal.newObjectDeferredBegin(h.objId,!0),h.DA=Cn.createDefaultAppearanceStream(h),Vr(h)==="object"&&typeof h.getKeyValueListForStream=="function"&&(u=h.getKeyValueListForStream()),h.Rect=f,h.hasAppearanceStream&&!h.appearanceStreamContent){var A=H9(h);u.push({key:"AP",value:"<</N "+A+">>"}),a.internal.acroformPlugin.xForms.push(A)}if(h.appearanceStreamContent){var m="";for(var v in h.appearanceStreamContent)if(h.appearanceStreamContent.hasOwnProperty(v)){var g=h.appearanceStreamContent[v];if(m+="/"+v+" ",m+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var c in g)if(g.hasOwnProperty(c)){var b=g[c];typeof b=="function"&&(b=b.call(a,h)),m+="/"+c+" "+b+" ",a.internal.acroformPlugin.xForms.indexOf(b)>=0||a.internal.acroformPlugin.xForms.push(b)}}else typeof(b=g)=="function"&&(b=b.call(a,h)),m+="/"+c+" "+b,a.internal.acroformPlugin.xForms.indexOf(b)>=0||a.internal.acroformPlugin.xForms.push(b);m+=">>"}u.push({key:"AP",value:`<<
`+m+">>"})}a.internal.putStream({additionalKeyValues:u,objectId:h.objId}),a.internal.out("endobj")}o&&(function(I,N){for(var S in I)if(I.hasOwnProperty(S)){var E=S,_=I[S];N.internal.newObjectDeferredBegin(_.objId,!0),Vr(_)==="object"&&typeof _.putStream=="function"&&_.putStream(),delete I[E]}})(a.internal.acroformPlugin.xForms,a)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},jI=ti.__acroform__.arrayToPdfArray=function(n,e,t){var s=function(c){return c};if(Array.isArray(n)){for(var a="[",o=0;o<n.length;o++)switch(o!==0&&(a+=" "),Vr(n[o])){case"boolean":case"number":case"object":a+=n[o].toString();break;case"string":n[o].substr(0,1)!=="/"?(e!==void 0&&t&&(s=t.internal.getEncryptor(e)),a+="("+Af(s(n[o].toString()))+")"):a+=n[o].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},h1=function(n,e,t){var s=function(a){return a};return e!==void 0&&t&&(s=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+Af(s(n))+")"},Pc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Pc.prototype.toString=function(){return this.objId+" 0 R"},Pc.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Pc.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var s=e[t],a=this[s];a&&(Array.isArray(a)?n.push({key:s,value:jI(a,this.objId,this.scope)}):a instanceof Pc?(a.scope=this.scope,n.push({key:s,value:a.objId+" 0 R"})):typeof a!="function"&&n.push({key:s,value:a}))}return n};var BI=function(){Pc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};kl(BI,Pc);var CI=function(){Pc.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(s){return s};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Af(t(n))+")"}},set:function(t){n=t}})};kl(CI,Pc);var dc=function n(){Pc.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute F supplied.');e=S}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!mi(e,3)},set:function(S){S?this.F=pi(e,3):this.F=gi(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute Ff supplied.');t=S}});var s=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(s.length!==0)return s},set:function(S){s=S!==void 0?S:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[0])?0:s[0]},set:function(S){s[0]=S}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[1])?0:s[1]},set:function(S){s[1]=S}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[2])?0:s[2]},set:function(S){s[2]=S}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[3])?0:s[3]},set:function(S){s[3]=S}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(S){switch(S){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=S;break;default:throw new Error('Invalid value "'+S+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof ex)return;o="FieldObject"+n.FieldNum++}var S=function(E){return E};return this.scope&&(S=this.scope.internal.getEncryptor(this.objId)),"("+Af(S(o))+")"},set:function(S){o=S.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(S){o=S}});var c="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return c},set:function(S){c=S}});var h="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return h},set:function(S){h=S}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(S){u=S}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/u2:f},set:function(S){f=S}});var A="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return A},set:function(S){A=S}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof ex||this instanceof Qd))return h1(m,this.objId,this.scope)},set:function(S){S=S.toString(),m=S}});var v=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof Wi==0?h1(v,this.objId,this.scope):v},set:function(S){S=S.toString(),v=this instanceof Wi==0?S.substr(0,1)==="("?Of(S.substr(1,S.length-2)):Of(S):S}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Wi==1?Of(v.substr(1,v.length-1)):v},set:function(S){S=S.toString(),v=this instanceof Wi==1?"/"+S:S}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(S){this.V=S}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Wi==0?h1(g,this.objId,this.scope):g},set:function(S){S=S.toString(),g=this instanceof Wi==0?S.substr(0,1)==="("?Of(S.substr(1,S.length-2)):Of(S):S}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Wi==1?Of(g.substr(1,g.length-1)):g},set:function(S){S=S.toString(),g=this instanceof Wi==1?"/"+S:S}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var b,I=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return I},set:function(S){S=!!S,I=S}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(b)return b},set:function(S){b=S}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!mi(this.Ff,1)},set:function(S){S?this.Ff=pi(this.Ff,1):this.Ff=gi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!mi(this.Ff,2)},set:function(S){S?this.Ff=pi(this.Ff,2):this.Ff=gi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!mi(this.Ff,3)},set:function(S){S?this.Ff=pi(this.Ff,3):this.Ff=gi(this.Ff,3)}});var N=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(N!==null)return N},set:function(S){if([0,1,2].indexOf(S)===-1)throw new Error('Invalid value "'+S+'" for attribute Q supplied.');N=S}}),Object.defineProperty(this,"textAlign",{get:function(){var S;switch(N){case 0:default:S="left";break;case 1:S="center";break;case 2:S="right"}return S},configurable:!0,enumerable:!0,set:function(S){switch(S){case"right":case 2:N=2;break;case"center":case 1:N=1;break;default:N=0}}})};kl(dc,Pc);var zh=function(){dc.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return jI(e,this.objId,this.scope)},set:function(t){var s,a;a=[],typeof(s=t)=="string"&&(a=(function(o,c,h){h||(h=1);for(var u,f=[];u=c.exec(o);)f.push(u[h]);return f})(s,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,s){for(s=s||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),s!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!mi(this.Ff,18)},set:function(t){t?this.Ff=pi(this.Ff,18):this.Ff=gi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!mi(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=pi(this.Ff,19):this.Ff=gi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!mi(this.Ff,20)},set:function(t){t?(this.Ff=pi(this.Ff,20),e.sort()):this.Ff=gi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!mi(this.Ff,22)},set:function(t){t?this.Ff=pi(this.Ff,22):this.Ff=gi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!mi(this.Ff,23)},set:function(t){t?this.Ff=pi(this.Ff,23):this.Ff=gi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!mi(this.Ff,27)},set:function(t){t?this.Ff=pi(this.Ff,27):this.Ff=gi(this.Ff,27)}}),this.hasAppearanceStream=!1};kl(zh,dc);var Gh=function(){zh.call(this),this.fontName="helvetica",this.combo=!1};kl(Gh,zh);var $h=function(){Gh.call(this),this.combo=!0};kl($h,Gh);var Kp=function(){$h.call(this),this.edit=!0};kl(Kp,$h);var Wi=function(){dc.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!mi(this.Ff,15)},set:function(t){t?this.Ff=pi(this.Ff,15):this.Ff=gi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!mi(this.Ff,16)},set:function(t){t?this.Ff=pi(this.Ff,16):this.Ff=gi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!mi(this.Ff,17)},set:function(t){t?this.Ff=pi(this.Ff,17):this.Ff=gi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!mi(this.Ff,26)},set:function(t){t?this.Ff=pi(this.Ff,26):this.Ff=gi(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(o){return o};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var s,a=[];for(s in a.push("<<"),e)a.push("/"+s+" ("+Af(t(e[s]))+")");return a.push(">>"),a.join(`
`)}},set:function(t){Vr(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};kl(Wi,dc);var zp=function(){Wi.call(this),this.pushButton=!0};kl(zp,Wi);var Yh=function(){Wi.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};kl(Yh,Wi);var ex=function(){var n,e;dc.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(a){n=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var t,s={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(h){return h};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var o,c=[];for(o in c.push("<<"),s)c.push("/"+o+" ("+Af(a(s[o]))+")");return c.push(">>"),c.join(`
`)},set:function(a){Vr(a)==="object"&&(s=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return s.CA||""},set:function(a){typeof a=="string"&&(s.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(a){t="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Cn.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};kl(ex,dc),Yh.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},Yh.prototype.createOption=function(n){var e=new ex;return e.Parent=this,e.optionName=n,this.Kids.push(e),G9.call(this.scope,e),e};var Gp=function(){Wi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Cn.CheckBox.createAppearanceStream()};kl(Gp,Wi);var Qd=function(){dc.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!mi(this.Ff,13)},set:function(e){e?this.Ff=pi(this.Ff,13):this.Ff=gi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!mi(this.Ff,21)},set:function(e){e?this.Ff=pi(this.Ff,21):this.Ff=gi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!mi(this.Ff,23)},set:function(e){e?this.Ff=pi(this.Ff,23):this.Ff=gi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!mi(this.Ff,24)},set:function(e){e?this.Ff=pi(this.Ff,24):this.Ff=gi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!mi(this.Ff,25)},set:function(e){e?this.Ff=pi(this.Ff,25):this.Ff=gi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!mi(this.Ff,26)},set:function(e){e?this.Ff=pi(this.Ff,26):this.Ff=gi(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};kl(Qd,dc);var $p=function(){Qd.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!mi(this.Ff,14)},set:function(n){n?this.Ff=pi(this.Ff,14):this.Ff=gi(this.Ff,14)}}),this.password=!0};kl($p,Qd);var Cn={CheckBox:{createAppearanceStream:function(){return{N:{On:Cn.CheckBox.YesNormal},D:{On:Cn.CheckBox.YesPushDown,Off:Cn.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=Qc(n);e.scope=n.scope;var t=[],s=n.scope.internal.getFont(n.fontName,n.fontStyle).id,a=n.scope.__private__.encodeColorString(n.color),o=Cb(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+xs(Cn.internal.getWidth(n))+" "+xs(Cn.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+s+" "+xs(o.fontSize)+" Tf "+a),t.push("BT"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=Qc(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,s=n.scope.__private__.encodeColorString(n.color),a=[],o=Cn.internal.getHeight(n),c=Cn.internal.getWidth(n),h=Cb(n,n.caption);return a.push("1 g"),a.push("0 0 "+xs(c)+" "+xs(o)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+xs(c-1)+" "+xs(o-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+t+" "+xs(h.fontSize)+" Tf "+s),a.push(h.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(n){var e=Qc(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+xs(Cn.internal.getWidth(n))+" "+xs(Cn.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:Cn.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=Cn.RadioButton.Circle.YesNormal,e.D[n]=Cn.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=Qc(n);e.scope=n.scope;var t=[],s=Cn.internal.getWidth(n)<=Cn.internal.getHeight(n)?Cn.internal.getWidth(n)/4:Cn.internal.getHeight(n)/4;s=Number((.9*s).toFixed(5));var a=Cn.internal.Bezier_C,o=Number((s*a).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+xd(Cn.internal.getWidth(n)/2)+" "+xd(Cn.internal.getHeight(n)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),t.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),t.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),t.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Qc(n);e.scope=n.scope;var t=[],s=Cn.internal.getWidth(n)<=Cn.internal.getHeight(n)?Cn.internal.getWidth(n)/4:Cn.internal.getHeight(n)/4;s=Number((.9*s).toFixed(5));var a=Number((2*s).toFixed(5)),o=Number((a*Cn.internal.Bezier_C).toFixed(5)),c=Number((s*Cn.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+xd(Cn.internal.getWidth(n)/2)+" "+xd(Cn.internal.getHeight(n)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),t.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),t.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),t.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+xd(Cn.internal.getWidth(n)/2)+" "+xd(Cn.internal.getHeight(n)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+c+" "+c+" "+s+" 0 "+s+" c"),t.push("-"+c+" "+s+" -"+s+" "+c+" -"+s+" 0 c"),t.push("-"+s+" -"+c+" -"+c+" -"+s+" 0 -"+s+" c"),t.push(c+" -"+s+" "+s+" -"+c+" "+s+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=Qc(n);e.scope=n.scope;var t=[],s=Cn.internal.getWidth(n)<=Cn.internal.getHeight(n)?Cn.internal.getWidth(n)/4:Cn.internal.getHeight(n)/4;s=Number((.9*s).toFixed(5));var a=Number((2*s).toFixed(5)),o=Number((a*Cn.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+xd(Cn.internal.getWidth(n)/2)+" "+xd(Cn.internal.getHeight(n)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),t.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),t.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),t.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:Cn.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=Cn.RadioButton.Cross.YesNormal,e.D[n]=Cn.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=Qc(n);e.scope=n.scope;var t=[],s=Cn.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+xs(Cn.internal.getWidth(n)-2)+" "+xs(Cn.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(xs(s.x1.x)+" "+xs(s.x1.y)+" m"),t.push(xs(s.x2.x)+" "+xs(s.x2.y)+" l"),t.push(xs(s.x4.x)+" "+xs(s.x4.y)+" m"),t.push(xs(s.x3.x)+" "+xs(s.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Qc(n);e.scope=n.scope;var t=Cn.internal.calculateCross(n),s=[];return s.push("0.749023 g"),s.push("0 0 "+xs(Cn.internal.getWidth(n))+" "+xs(Cn.internal.getHeight(n))+" re"),s.push("f"),s.push("q"),s.push("1 1 "+xs(Cn.internal.getWidth(n)-2)+" "+xs(Cn.internal.getHeight(n)-2)+" re"),s.push("W"),s.push("n"),s.push(xs(t.x1.x)+" "+xs(t.x1.y)+" m"),s.push(xs(t.x2.x)+" "+xs(t.x2.y)+" l"),s.push(xs(t.x4.x)+" "+xs(t.x4.y)+" m"),s.push(xs(t.x3.x)+" "+xs(t.x3.y)+" l"),s.push("s"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(n){var e=Qc(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+xs(Cn.internal.getWidth(n))+" "+xs(Cn.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};Cn.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=Cn.internal.getWidth(n),t=Cn.internal.getHeight(n),s=Math.min(e,t);return{x1:{x:(e-s)/2,y:(t-s)/2+s},x2:{x:(e-s)/2+s,y:(t-s)/2},x3:{x:(e-s)/2,y:(t-s)/2},x4:{x:(e-s)/2+s,y:(t-s)/2+s}}}},Cn.internal.getWidth=function(n){var e=0;return Vr(n)==="object"&&(e=YC(n.Rect[2])),e},Cn.internal.getHeight=function(n){var e=0;return Vr(n)==="object"&&(e=YC(n.Rect[3])),e};var G9=ti.addField=function(n){if(z9(this,n),!(n instanceof dc))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};ti.AcroFormChoiceField=zh,ti.AcroFormListBox=Gh,ti.AcroFormComboBox=$h,ti.AcroFormEditBox=Kp,ti.AcroFormButton=Wi,ti.AcroFormPushButton=zp,ti.AcroFormRadioButton=Yh,ti.AcroFormCheckBox=Gp,ti.AcroFormTextField=Qd,ti.AcroFormPasswordField=$p,ti.AcroFormAppearance=Cn,ti.AcroForm={ChoiceField:zh,ListBox:Gh,ComboBox:$h,EditBox:Kp,Button:Wi,PushButton:zp,RadioButton:Yh,CheckBox:Gp,TextField:Qd,PasswordField:$p,Appearance:Cn},Dn.AcroForm={ChoiceField:zh,ListBox:Gh,ComboBox:$h,EditBox:Kp,Button:Wi,PushButton:zp,RadioButton:Yh,CheckBox:Gp,TextField:Qd,PasswordField:$p,Appearance:Cn};var $9=Dn.AcroForm;function SI(n){return n.reduce(function(e,t,s){return e[t]=s,e},{})}(function(n){var e="addImage_";n.__addimage__={};var t="UNKNOWN",s={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=n.__addimage__.getImageFileTypeByImageData=function(P,V){var G,ie,de,X,q,Z=t;if((V=V||t)==="RGBA"||P.data!==void 0&&P.data instanceof Uint8ClampedArray&&"height"in P&&"width"in P)return"RGBA";if(H(P))for(q in s)for(de=s[q],G=0;G<de.length;G+=1){for(X=!0,ie=0;ie<de[G].length;ie+=1)if(de[G][ie]!==void 0&&de[G][ie]!==P[ie]){X=!1;break}if(X===!0){Z=q;break}}else for(q in s)for(de=s[q],G=0;G<de.length;G+=1){for(X=!0,ie=0;ie<de[G].length;ie+=1)if(de[G][ie]!==void 0&&de[G][ie]!==P.charCodeAt(ie)){X=!1;break}if(X===!0){Z=q;break}}return Z===t&&V!==t&&(Z=V),Z},o=function P(V){for(var G=this.internal.write,ie=this.internal.putStream,de=(0,this.internal.getFilters)();de.indexOf("FlateEncode")!==-1;)de.splice(de.indexOf("FlateEncode"),1);V.objectId=this.internal.newObject();var X=[];if(X.push({key:"Type",value:"/XObject"}),X.push({key:"Subtype",value:"/Image"}),X.push({key:"Width",value:V.width}),X.push({key:"Height",value:V.height}),V.colorSpace===S.INDEXED?X.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(V.palette.length/3-1)+" "+("sMask"in V&&V.sMask!==void 0?V.objectId+2:V.objectId+1)+" 0 R]"}):(X.push({key:"ColorSpace",value:"/"+V.colorSpace}),V.colorSpace===S.DEVICE_CMYK&&X.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),X.push({key:"BitsPerComponent",value:V.bitsPerComponent}),"decodeParameters"in V&&V.decodeParameters!==void 0&&X.push({key:"DecodeParms",value:"<<"+V.decodeParameters+">>"}),"transparency"in V&&Array.isArray(V.transparency)&&V.transparency.length>0){for(var q="",Z=0,oe=V.transparency.length;Z<oe;Z++)q+=V.transparency[Z]+" "+V.transparency[Z]+" ";X.push({key:"Mask",value:"["+q+"]"})}V.sMask!==void 0&&X.push({key:"SMask",value:V.objectId+1+" 0 R"});var ye=V.filter!==void 0?["/"+V.filter]:void 0;if(ie({data:V.data,additionalKeyValues:X,alreadyAppliedFilters:ye,objectId:V.objectId}),G("endobj"),"sMask"in V&&V.sMask!==void 0){var ne,M=(ne=V.sMaskBitsPerComponent)!==null&&ne!==void 0?ne:V.bitsPerComponent,W={width:V.width,height:V.height,colorSpace:"DeviceGray",bitsPerComponent:M,data:V.sMask};"filter"in V&&(W.decodeParameters="/Predictor ".concat(V.predictor," /Colors 1 /BitsPerComponent ").concat(M," /Columns ").concat(V.width),W.filter=V.filter),P.call(this,W)}if(V.colorSpace===S.INDEXED){var ae=this.internal.newObject();ie({data:Q(new Uint8Array(V.palette)),objectId:ae}),G("endobj")}},c=function(){var P=this.internal.collections[e+"images"];for(var V in P)o.call(this,P[V])},h=function(){var P,V=this.internal.collections[e+"images"],G=this.internal.write;for(var ie in V)G("/I"+(P=V[ie]).index,P.objectId,"0","R")},u=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",c),this.internal.events.subscribe("putXobjectDict",h))},f=function(){var P=this.internal.collections[e+"images"];return u.call(this),P},A=function(){return Object.keys(this.internal.collections[e+"images"]).length},m=function(P){return typeof n["process"+P.toUpperCase()]=="function"},v=function(P){return Vr(P)==="object"&&P.nodeType===1},g=function(P,V){if(P.nodeName==="IMG"&&P.hasAttribute("src")){var G=""+P.getAttribute("src");if(G.indexOf("data:image/")===0)return vv(unescape(G).split("base64,").pop());var ie=n.loadFile(G,!0);if(ie!==void 0)return ie}if(P.nodeName==="CANVAS"){if(P.width===0||P.height===0)throw new Error("Given canvas must have data. Canvas width: "+P.width+", height: "+P.height);var de;switch(V){case"PNG":de="image/png";break;case"WEBP":de="image/webp";break;default:de="image/jpeg"}return vv(P.toDataURL(de,1).split("base64,").pop())}},b=function(P){var V=this.internal.collections[e+"images"];if(V){for(var G in V)if(P===V[G].alias)return V[G]}},I=function(P,V,G){return P||V||(P=-96,V=-96),P<0&&(P=-1*G.width*72/P/this.internal.scaleFactor),V<0&&(V=-1*G.height*72/V/this.internal.scaleFactor),P===0&&(P=V*G.width/G.height),V===0&&(V=P*G.height/G.width),[P,V]},N=function(P,V,G,ie,de,X){var q=I.call(this,G,ie,de),Z=this.internal.getCoordinateString,oe=this.internal.getVerticalCoordinateString,ye=f.call(this);if(G=q[0],ie=q[1],ye[de.index]=de,X){X*=Math.PI/180;var ne=Math.cos(X),M=Math.sin(X),W=function(ue){return ue.toFixed(4)},ae=[W(ne),W(M),W(-1*M),W(ne),0,0,"cm"]}this.internal.write("q"),X?(this.internal.write([1,"0","0",1,Z(P),oe(V+ie),"cm"].join(" ")),this.internal.write(ae.join(" ")),this.internal.write([Z(G),"0","0",Z(ie),"0","0","cm"].join(" "))):this.internal.write([Z(G),"0","0",Z(ie),Z(P),oe(V+ie),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+de.index+" Do"),this.internal.write("Q")},S=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var E=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},_=n.__addimage__.sHashCode=function(P){var V,G,ie=0;if(typeof P=="string")for(G=P.length,V=0;V<G;V++)ie=(ie<<5)-ie+P.charCodeAt(V),ie|=0;else if(H(P))for(G=P.byteLength/2,V=0;V<G;V++)ie=(ie<<5)-ie+P[V],ie|=0;return ie},R=n.__addimage__.validateStringAsBase64=function(P){(P=P||"").toString().trim();var V=!0;return P.length===0&&(V=!1),P.length%4!=0&&(V=!1),/^[A-Za-z0-9+/]+$/.test(P.substr(0,P.length-2))===!1&&(V=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(P.substr(-2))===!1&&(V=!1),V},L=n.__addimage__.extractImageFromDataUrl=function(P){if(P==null||!(P=P.trim()).startsWith("data:"))return null;var V=P.indexOf(",");return V<0?null:P.substring(0,V).trim().endsWith("base64")?P.substring(V+1):null};n.__addimage__.isArrayBuffer=function(P){return P instanceof ArrayBuffer};var H=n.__addimage__.isArrayBufferView=function(P){return P instanceof Int8Array||P instanceof Uint8Array||P instanceof Uint8ClampedArray||P instanceof Int16Array||P instanceof Uint16Array||P instanceof Int32Array||P instanceof Uint32Array||P instanceof Float32Array||P instanceof Float64Array},D=n.__addimage__.binaryStringToUint8Array=function(P){for(var V=P.length,G=new Uint8Array(V),ie=0;ie<V;ie++)G[ie]=P.charCodeAt(ie);return G},Q=n.__addimage__.arrayBufferToBinaryString=function(P){for(var V="",G=H(P)?P:new Uint8Array(P),ie=0;ie<G.length;ie+=8192)V+=String.fromCharCode.apply(null,G.subarray(ie,ie+8192));return V};n.addImage=function(){var P,V,G,ie,de,X,q,Z,oe;if(typeof arguments[1]=="number"?(V=t,G=arguments[1],ie=arguments[2],de=arguments[3],X=arguments[4],q=arguments[5],Z=arguments[6],oe=arguments[7]):(V=arguments[1],G=arguments[2],ie=arguments[3],de=arguments[4],X=arguments[5],q=arguments[6],Z=arguments[7],oe=arguments[8]),Vr(P=arguments[0])==="object"&&!v(P)&&"imageData"in P){var ye=P;P=ye.imageData,V=ye.format||V||t,G=ye.x||G||0,ie=ye.y||ie||0,de=ye.w||ye.width||de,X=ye.h||ye.height||X,q=ye.alias||q,Z=ye.compression||Z,oe=ye.rotation||ye.angle||oe}var ne=this.internal.getFilters();if(Z===void 0&&ne.indexOf("FlateEncode")!==-1&&(Z="SLOW"),isNaN(G)||isNaN(ie))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var M=O.call(this,P,V,q,Z);return N.call(this,G,ie,de,X,M,oe),this};var O=function(P,V,G,ie){var de,X,q;if(typeof P=="string"&&a(P)===t){P=unescape(P);var Z=$(P,!1);(Z!==""||(Z=n.loadFile(P,!0))!==void 0)&&(P=Z)}if(v(P)&&(P=g(P,V)),V=a(P,V),!m(V))throw new Error("addImage does not support files of type '"+V+"', please ensure that a plugin for '"+V+"' support is added.");if(((q=G)==null||q.length===0)&&(G=(function(oe){return typeof oe=="string"||H(oe)?_(oe):H(oe.data)?_(oe.data):null})(P)),(de=b.call(this,G))||(P instanceof Uint8Array||V==="RGBA"||(X=P,P=D(P)),de=this["process"+V.toUpperCase()](P,A.call(this),G,(function(oe){return oe&&typeof oe=="string"&&(oe=oe.toUpperCase()),oe in n.image_compression?oe:E.NONE})(ie),X)),!de)throw new Error("An unknown error occurred whilst processing the image.");return de},$=n.__addimage__.convertBase64ToBinaryString=function(P,V){V=typeof V!="boolean"||V;var G,ie="";if(typeof P=="string"){var de;G=(de=L(P))!==null&&de!==void 0?de:P;try{ie=vv(G)}catch(X){if(V)throw R(G)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+X.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ie};n.getImageProperties=function(P){var V,G,ie="";if(v(P)&&(P=g(P)),typeof P=="string"&&a(P)===t&&((ie=$(P,!1))===""&&(ie=n.loadFile(P)||""),P=ie),G=a(P),!m(G))throw new Error("addImage does not support files of type '"+G+"', please ensure that a plugin for '"+G+"' support is added.");if(P instanceof Uint8Array||(P=D(P)),!(V=this["process"+G.toUpperCase()](P)))throw new Error("An unknown error occurred whilst processing the image");return V.fileType=G,V}})(Dn.API),(function(n){var e=function(t){if(t!==void 0&&t!="")return!0};Dn.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var s,a,o,c=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(t.objId),f=t.pageContext.annotations,A=!1,m=0;m<f.length&&!A;m++)switch((s=f[m]).type){case"link":(e(s.options.url)||e(s.options.pageNumber))&&(A=!0);break;case"reference":case"text":case"freetext":A=!0}if(A!=0){this.internal.write("/Annots [");for(var v=0;v<f.length;v++){s=f[v];var g=this.internal.pdfEscape,b=this.internal.getEncryptor(t.objId);switch(s.type){case"reference":this.internal.write(" "+s.object.objId+" 0 R ");break;case"text":var I=this.internal.newAdditionalObject(),N=this.internal.newAdditionalObject(),S=this.internal.getEncryptor(I.objId),E=s.title||"Note";o="<</Type /Annot /Subtype /Text "+(a="/Rect ["+c(s.bounds.x)+" "+h(s.bounds.y+s.bounds.h)+" "+c(s.bounds.x+s.bounds.w)+" "+h(s.bounds.y)+"] ")+"/Contents ("+g(S(s.contents))+")",o+=" /Popup "+N.objId+" 0 R",o+=" /P "+u.objId+" 0 R",o+=" /T ("+g(S(E))+") >>",I.content=o;var _=I.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+c(s.bounds.x+30)+" "+h(s.bounds.y+s.bounds.h)+" "+c(s.bounds.x+s.bounds.w+30)+" "+h(s.bounds.y)+"] ")+" /Parent "+_,s.open&&(o+=" /Open true"),o+=" >>",N.content=o,this.internal.write(I.objId,"0 R",N.objId,"0 R");break;case"freetext":a="/Rect ["+c(s.bounds.x)+" "+h(s.bounds.y)+" "+c(s.bounds.x+s.bounds.w)+" "+h(s.bounds.y+s.bounds.h)+"] ";var R=s.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+g(b(s.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+R+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(s.options.name){var L=this.annotations._nameMap[s.options.name];s.options.pageNumber=L.page,s.options.top=L.y}else s.options.top||(s.options.top=0);if(a="/Rect ["+s.finalBounds.x+" "+s.finalBounds.y+" "+s.finalBounds.w+" "+s.finalBounds.h+"] ",o="",s.options.url)o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+g(b(s.options.url))+") >>";else if(s.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(s.options.pageNumber).objId+" 0 R",s.options.magFactor=s.options.magFactor||"XYZ",s.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+s.options.top+"]";break;case"FitV":s.options.left=s.options.left||0,o+=" /FitV "+s.options.left+"]";break;default:var H=h(s.options.top);s.options.left=s.options.left||0,s.options.zoom===void 0&&(s.options.zoom=0),o+=" /XYZ "+s.options.left+" "+H+" "+s.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var s=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":s.pageContext.annotations.push(t)}},n.link=function(t,s,a,o,c){var h=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;h.pageContext.annotations.push({finalBounds:{x:u(t),y:f(s),w:u(t+a),h:f(s+o)},options:c,type:"link"})},n.textWithLink=function(t,s,a,o){var c,h,u=this.getTextWidth(t),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){h=o.maxWidth;var A=this.splitTextToSize(t,h).length;c=Math.ceil(f*A)}else h=u,c=f;return this.text(t,s,a,o),a+=.2*f,o.align==="center"&&(s-=u/2),o.align==="right"&&(s-=u),this.link(s,a-f,h,c,o),u},n.getTextWidth=function(t){var s=this.internal.getFontSize();return this.getStringUnitWidth(t)*s/this.internal.scaleFactor}})(Dn.API),(function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},s={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];n.__arabicParser__={};var o=n.__arabicParser__.isInArabicSubstitutionA=function(I){return e[I.charCodeAt(0)]!==void 0},c=n.__arabicParser__.isArabicLetter=function(I){return typeof I=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(I)},h=n.__arabicParser__.isArabicEndLetter=function(I){return c(I)&&o(I)&&e[I.charCodeAt(0)].length<=2},u=n.__arabicParser__.isArabicAlfLetter=function(I){return c(I)&&a.indexOf(I.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(I){return c(I)&&o(I)&&e[I.charCodeAt(0)].length>=1};var f=n.__arabicParser__.arabicLetterHasFinalForm=function(I){return c(I)&&o(I)&&e[I.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(I){return c(I)&&o(I)&&e[I.charCodeAt(0)].length>=3};var A=n.__arabicParser__.arabicLetterHasMedialForm=function(I){return c(I)&&o(I)&&e[I.charCodeAt(0)].length==4},m=n.__arabicParser__.resolveLigatures=function(I){var N=0,S=t,E="",_=0;for(N=0;N<I.length;N+=1)S[I.charCodeAt(N)]!==void 0?(_++,typeof(S=S[I.charCodeAt(N)])=="number"&&(E+=String.fromCharCode(S),S=t,_=0),N===I.length-1&&(S=t,E+=I.charAt(N-(_-1)),N-=_-1,_=0)):(S=t,E+=I.charAt(N-_),N-=_,_=0);return E};n.__arabicParser__.isArabicDiacritic=function(I){return I!==void 0&&s[I.charCodeAt(0)]!==void 0};var v=n.__arabicParser__.getCorrectForm=function(I,N,S){return c(I)?o(I)===!1?-1:!f(I)||!c(N)&&!c(S)||!c(S)&&h(N)||h(I)&&!c(N)||h(I)&&u(N)||h(I)&&h(N)?0:A(I)&&c(N)&&!h(N)&&c(S)&&f(S)?3:h(I)||!c(S)?1:2:-1},g=function(I){var N=0,S=0,E=0,_="",R="",L="",H=(I=I||"").split("\\s+"),D=[];for(N=0;N<H.length;N+=1){for(D.push(""),S=0;S<H[N].length;S+=1)_=H[N][S],R=H[N][S-1],L=H[N][S+1],c(_)?(E=v(_,R,L),D[N]+=E!==-1?String.fromCharCode(e[_.charCodeAt(0)][E]):_):D[N]+=_;D[N]=m(D[N])}return D.join(" ")},b=n.__arabicParser__.processArabic=n.processArabic=function(){var I,N=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,S=[];if(Array.isArray(N)){var E=0;for(S=[],E=0;E<N.length;E+=1)Array.isArray(N[E])?S.push([g(N[E][0]),N[E][1],N[E][2]]):S.push([g(N[E])]);I=S}else I=g(N);return typeof arguments[0]=="string"?I:(arguments[0].text=I,arguments[0])};n.events.push(["preProcessText",b])})(Dn.API),Dn.API.autoPrint=function(n){var e;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(h){t=h}});var s=150;Object.defineProperty(this,"width",{get:function(){return s},set:function(h){s=isNaN(h)||Number.isInteger(h)===!1||h<0?150:h,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=s+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(h){a=isNaN(h)||Number.isInteger(h)===!1||h<0?300:h,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(h){o=h}});var c={};Object.defineProperty(this,"style",{get:function(){return c},set:function(h){c=h}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,s){var a;if((t=t||"2d")!=="2d")return null;for(a in s)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=s[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Dn.API),(function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,s=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(I){u=I}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(I){f=I}});var A=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return A},set:function(I){A=I}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(I){m=I}});var v=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return v},set:function(I){v=I}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(I){g=I}});var b=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return b},set:function(I){b=I}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(u){return s.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},n.getTextDimensions=function(u,f){s.call(this);var A=(f=f||{}).fontSize||this.getFontSize(),m=f.font||this.getFont(),v=f.scaleFactor||this.internal.scaleFactor,g=0,b=0,I=0,N=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var S=f.maxWidth;S>0?typeof u=="string"?u=this.splitTextToSize(u,S):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(_,R){return _.concat(N.splitTextToSize(R,S))},[])):u=Array.isArray(u)?u:[u];for(var E=0;E<u.length;E++)g<(I=this.getStringUnitWidth(u[E],{font:m})*A)&&(g=I);return g!==0&&(b=u.length),{w:g/=v,h:Math.max((b*A*this.getLineHeightFactor()-A*(this.getLineHeightFactor()-1))/v,0)}},n.cellAddPage=function(){s.call(this),this.addPage();var u=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var c=n.cell=function(){var u;u=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),s.call(this);var f=this.internal.__cell__.lastCell,A=this.internal.__cell__.padding,m=this.internal.__cell__.margins||e,v=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===u.lineNumber?(u.x=(f.x||0)+(f.width||0),u.y=f.y||0):f.y+f.height+u.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=m.top,g&&v&&(this.printHeaderRow(u.lineNumber,!0),u.y+=v[0].height)):u.y=f.y+f.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,t===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-A,u.y+A,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+A,{align:"center",baseline:"top",maxWidth:u.width-A-A}):this.text(u.text,u.x+A,u.y+A,{align:"left",baseline:"top",maxWidth:u.width-A-A})),this.internal.__cell__.lastCell=u,this};n.table=function(u,f,A,m,v){if(s.call(this),!A)throw new Error("No data for PDF table.");var g,b,I,N,S=[],E=[],_=[],R={},L={},H=[],D=[],Q=(v=v||{}).autoSize||!1,O=v.printHeaders!==!1,$=v.css&&v.css["font-size"]!==void 0?16*v.css["font-size"]:v.fontSize||12,P=v.margins||Object.assign({width:this.getPageWidth()},e),V=typeof v.padding=="number"?v.padding:3,G=v.headerBackgroundColor||"#c8c8c8",ie=v.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=O,this.internal.__cell__.margins=P,this.internal.__cell__.table_font_size=$,this.internal.__cell__.padding=V,this.internal.__cell__.headerBackgroundColor=G,this.internal.__cell__.headerTextColor=ie,this.setFontSize($),m==null)E=S=Object.keys(A[0]),_=S.map(function(){return"left"});else if(Array.isArray(m)&&Vr(m[0])==="object")for(S=m.map(function(ye){return ye.name}),E=m.map(function(ye){return ye.prompt||ye.name||""}),_=m.map(function(ye){return ye.align||"left"}),g=0;g<m.length;g+=1)L[m[g].name]=.7499990551181103*m[g].width;else Array.isArray(m)&&typeof m[0]=="string"&&(E=S=m,_=S.map(function(){return"left"}));if(Q||Array.isArray(m)&&typeof m[0]=="string")for(g=0;g<S.length;g+=1){for(R[N=S[g]]=A.map(function(ye){return ye[N]}),this.setFont(void 0,"bold"),H.push(this.getTextDimensions(E[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),b=R[N],this.setFont(void 0,"normal"),I=0;I<b.length;I+=1)H.push(this.getTextDimensions(b[I],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);L[N]=Math.max.apply(null,H)+V+V,H=[]}if(O){var de={};for(g=0;g<S.length;g+=1)de[S[g]]={},de[S[g]].text=E[g],de[S[g]].align=_[g];var X=h.call(this,de,L);D=S.map(function(ye){return new o(u,f,L[ye],X,de[ye].text,void 0,de[ye].align)}),this.setTableHeaderRow(D),this.printHeaderRow(1,!1)}var q=m.reduce(function(ye,ne){return ye[ne.name]=ne.align,ye},{});for(g=0;g<A.length;g+=1){"rowStart"in v&&v.rowStart instanceof Function&&v.rowStart({row:g,data:A[g]},this);var Z=h.call(this,A[g],L);for(I=0;I<S.length;I+=1){var oe=A[g][S[I]];"cellStart"in v&&v.cellStart instanceof Function&&v.cellStart({row:g,col:I,data:oe},this),c.call(this,new o(u,f,L[S[I]],Z,oe,g+2,q[S[I]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=f,this};var h=function(u,f){var A=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,v=this.internal.scaleFactor;return Object.keys(u).map(function(g){var b=u[g];return this.splitTextToSize(b.hasOwnProperty("text")?b.text:b,f[g]-A-A)},this).map(function(g){return this.getLineHeightFactor()*g.length*m/v+A+A},this).reduce(function(g,b){return Math.max(g,b)},0)};n.setTableHeaderRow=function(u){s.call(this),this.internal.__cell__.tableHeaderRow=u},n.printHeaderRow=function(u,f){if(s.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var A;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var v=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){A=this.internal.__cell__.tableHeaderRow[g].clone(),f&&(A.y=this.internal.__cell__.margins.top||0,v.push(A)),A.lineNumber=u;var b=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),c.call(this,A),this.setTextColor(b)}v.length>0&&this.setTableHeaderRow(v),this.setFont(void 0,"normal"),t=!1}})(Dn.API);var NI={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},EI=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Sb=SI(EI),TI=[100,200,300,400,500,600,700,800,900],Y9=SI(TI);function f1(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=(function(o){return NI[o=o||"normal"]?o:"normal"})(n.style),s=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(n.weight),a=(function(o){return typeof Sb[o=o||"normal"]=="number"?o:"normal"})(n.stretch);return{family:e,style:t,weight:s,stretch:a,src:n.src||[],ref:n.ref||{name:e,style:[a,t,s].join(" ")}}}function WC(n,e,t,s){var a;for(a=t;a>=0&&a<e.length;a+=s)if(n[e[a]])return n[e[a]];for(a=t;a>=0&&a<e.length;a-=s)if(n[e[a]])return n[e[a]]}var W9={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},XC={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function JC(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function qC(n){return n.trimLeft()}function X9(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function J9(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var X0,ZC,eS,Pf,J0,tS,nS,sS,m1=["times"];function rS(n,e,t,s,a){var o=4,c=iS;switch(a){case Dn.API.image_compression.FAST:o=1,c=aS;break;case Dn.API.image_compression.MEDIUM:o=6,c=oS;break;case Dn.API.image_compression.SLOW:o=9,c=lS}n=(function(u,f,A,m){for(var v,g=u.length/f,b=new Uint8Array(u.length+g),I=[q9,aS,iS,oS,lS],N=0;N<g;N+=1){var S=N*f,E=u.subarray(S,S+f);if(m)b.set(m(E,A,v),S+N);else{for(var _=I.length,R=[],L=0;L<_;L+=1)R[L]=I[L](E,A,v);var H=eV(R.concat());b.set(R[H],S+N)}v=E}return b})(n,e,Math.ceil(t*s/8),c);var h=xb(n,{level:o});return Dn.API.__addimage__.arrayBufferToBinaryString(h)}function q9(n){var e=Array.apply([],n);return e.unshift(0),e}function aS(n,e){var t=n.length,s=[];s[0]=1;for(var a=0;a<t;a+=1){var o=n[a-e]||0;s[a+1]=n[a]-o+256&255}return s}function iS(n,e,t){var s=n.length,a=[];a[0]=2;for(var o=0;o<s;o+=1){var c=t&&t[o]||0;a[o+1]=n[o]-c+256&255}return a}function oS(n,e,t){var s=n.length,a=[];a[0]=3;for(var o=0;o<s;o+=1){var c=n[o-e]||0,h=t&&t[o]||0;a[o+1]=n[o]+256-(c+h>>>1)&255}return a}function lS(n,e,t){var s=n.length,a=[];a[0]=4;for(var o=0;o<s;o+=1){var c=Z9(n[o-e]||0,t&&t[o]||0,t&&t[o-e]||0);a[o+1]=n[o]-c+256&255}return a}function Z9(n,e,t){if(n===e&&e===t)return n;var s=Math.abs(e-t),a=Math.abs(n-t),o=Math.abs(n+e-t-t);return s<=a&&s<=o?n:a<=o?e:t}function eV(n){var e=n.map(function(t){return t.reduce(function(s,a){return s+Math.abs(a)},0)});return e.indexOf(Math.min.apply(null,e))}function p1(n,e,t){var s=e*t,a=Math.floor(s/8),o=16-(s-8*a+t),c=(1<<t)-1;return II(n,a)>>o&c}function AS(n,e,t,s){var a=t*s,o=Math.floor(a/8),c=16-(a-8*o+s),h=(1<<s)-1,u=(e&h)<<c;(function(f,A,m){if(A+1<f.byteLength)f.setUint16(A,m,!1);else{var v=m>>8&255;f.setUint8(A,v)}})(n,o,II(n,o)&~(h<<c)&65535|u)}function II(n,e){return e+1<n.byteLength?n.getUint16(e,!1):n.getUint8(e)<<8}function tV(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,s=n[e++]|n[e++]<<8,a=n[e++],o=a>>7,c=1<<1+(7&a);n[e++],n[e++];var h=null,u=null;o&&(h=e,u=c,e+=3*c);var f=!0,A=[],m=0,v=null,g=0,b=null;for(this.width=t,this.height=s;f&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,b=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((P=n[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var I=n[e++];m=n[e++]|n[e++]<<8,v=n[e++],1&I||(v=null),g=I>>2&7,e++;break;case 254:for(;;){if(!((P=n[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var N=n[e++]|n[e++]<<8,S=n[e++]|n[e++]<<8,E=n[e++]|n[e++]<<8,_=n[e++]|n[e++]<<8,R=n[e++],L=R>>6&1,H=1<<1+(7&R),D=h,Q=u,O=!1;R>>7&&(O=!0,D=e,Q=H,e+=3*H);var $=e;for(e++;;){var P;if(!((P=n[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}A.push({x:N,y:S,width:E,height:_,has_local_palette:O,palette_offset:D,palette_size:Q,data_offset:$,data_length:e-$,transparent_index:v,interlaced:!!L,delay:m,disposal:g});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return A.length},this.loopCount=function(){return b},this.frameInfo=function(V){if(V<0||V>=A.length)throw new Error("Frame index out of range.");return A[V]},this.decodeAndBlitFrameBGRA=function(V,G){var ie=this.frameInfo(V),de=ie.width*ie.height,X=new Uint8Array(de);cS(n,ie.data_offset,X,de);var q=ie.palette_offset,Z=ie.transparent_index;Z===null&&(Z=256);var oe=ie.width,ye=t-oe,ne=oe,M=4*(ie.y*t+ie.x),W=4*((ie.y+ie.height)*t+ie.x),ae=M,ue=4*ye;ie.interlaced===!0&&(ue+=4*t*7);for(var ce=8,ge=0,Se=X.length;ge<Se;++ge){var xe=X[ge];if(ne===0&&(ne=oe,(ae+=ue)>=W&&(ue=4*ye+4*t*(ce-1),ae=M+(oe+ye)*(ce<<1),ce>>=1)),xe===Z)ae+=4;else{var Ie=n[q+3*xe],Ue=n[q+3*xe+1],Pe=n[q+3*xe+2];G[ae++]=Pe,G[ae++]=Ue,G[ae++]=Ie,G[ae++]=255}--ne}},this.decodeAndBlitFrameRGBA=function(V,G){var ie=this.frameInfo(V),de=ie.width*ie.height,X=new Uint8Array(de);cS(n,ie.data_offset,X,de);var q=ie.palette_offset,Z=ie.transparent_index;Z===null&&(Z=256);var oe=ie.width,ye=t-oe,ne=oe,M=4*(ie.y*t+ie.x),W=4*((ie.y+ie.height)*t+ie.x),ae=M,ue=4*ye;ie.interlaced===!0&&(ue+=4*t*7);for(var ce=8,ge=0,Se=X.length;ge<Se;++ge){var xe=X[ge];if(ne===0&&(ne=oe,(ae+=ue)>=W&&(ue=4*ye+4*t*(ce-1),ae=M+(oe+ye)*(ce<<1),ce>>=1)),xe===Z)ae+=4;else{var Ie=n[q+3*xe],Ue=n[q+3*xe+1],Pe=n[q+3*xe+2];G[ae++]=Ie,G[ae++]=Ue,G[ae++]=Pe,G[ae++]=255}--ne}}}function cS(n,e,t,s){for(var a=n[e++],o=1<<a,c=o+1,h=c+1,u=a+1,f=(1<<u)-1,A=0,m=0,v=0,g=n[e++],b=new Int32Array(4096),I=null;;){for(;A<16&&g!==0;)m|=n[e++]<<A,A+=8,g===1?g=n[e++]:--g;if(A<u)break;var N=m&f;if(m>>=u,A-=u,N!==o){if(N===c)break;for(var S=N<h?N:I,E=0,_=S;_>o;)_=b[_]>>8,++E;var R=_;if(v+E+(S!==N?1:0)>s)return void aa.log("Warning, gif stream longer than expected.");t[v++]=R;var L=v+=E;for(S!==N&&(t[v++]=R),_=S;E--;)_=b[_],t[--L]=255&_,_>>=8;I!==null&&h<4096&&(b[h++]=I<<8|R,h>=f+1&&u<12&&(++u,f=f<<1|1)),I=N}else h=c+1,f=(1<<(u=a+1))-1,I=null}return v!==s&&aa.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function g1(n){var e,t,s,a,o,c=Math.floor,h=new Array(64),u=new Array(64),f=new Array(64),A=new Array(64),m=new Array(65535),v=new Array(65535),g=new Array(64),b=new Array(64),I=[],N=0,S=7,E=new Array(64),_=new Array(64),R=new Array(64),L=new Array(256),H=new Array(2048),D=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Q=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],$=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],P=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],V=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],G=[0,1,2,3,4,5,6,7,8,9,10,11],ie=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],de=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function X(M,W){for(var ae=0,ue=0,ce=new Array,ge=1;ge<=16;ge++){for(var Se=1;Se<=M[ge];Se++)ce[W[ue]]=[],ce[W[ue]][0]=ae,ce[W[ue]][1]=ge,ue++,ae++;ae*=2}return ce}function q(M){for(var W=M[0],ae=M[1]-1;ae>=0;)W&1<<ae&&(N|=1<<S),ae--,--S<0&&(N==255?(Z(255),Z(0)):Z(N),S=7,N=0)}function Z(M){I.push(M)}function oe(M){Z(M>>8&255),Z(255&M)}function ye(M,W,ae,ue,ce){for(var ge,Se=ce[0],xe=ce[240],Ie=(function(Je,Ut){var Rt,zt,$t,Jt,sn,Ge,Ht,kt,Ot,gt,_t=0;for(Ot=0;Ot<8;++Ot){Rt=Je[_t],zt=Je[_t+1],$t=Je[_t+2],Jt=Je[_t+3],sn=Je[_t+4],Ge=Je[_t+5],Ht=Je[_t+6];var Un=Rt+(kt=Je[_t+7]),Me=Rt-kt,ht=zt+Ht,Ve=zt-Ht,lt=$t+Ge,At=$t-Ge,Qt=Jt+sn,St=Jt-sn,Vt=Un+Qt,en=Un-Qt,jt=ht+lt,ct=ht-lt;Je[_t]=Vt+jt,Je[_t+4]=Vt-jt;var Dt=.707106781*(ct+en);Je[_t+2]=en+Dt,Je[_t+6]=en-Dt;var Yt=.382683433*((Vt=St+At)-(ct=Ve+Me)),rn=.5411961*Vt+Yt,ts=1.306562965*ct+Yt,Ms=.707106781*(jt=At+Ve),ln=Me+Ms,ri=Me-Ms;Je[_t+5]=ri+rn,Je[_t+3]=ri-rn,Je[_t+1]=ln+ts,Je[_t+7]=ln-ts,_t+=8}for(_t=0,Ot=0;Ot<8;++Ot){Rt=Je[_t],zt=Je[_t+8],$t=Je[_t+16],Jt=Je[_t+24],sn=Je[_t+32],Ge=Je[_t+40],Ht=Je[_t+48];var Ga=Rt+(kt=Je[_t+56]),Ca=Rt-kt,Xr=zt+Ht,dn=zt-Ht,Hs=$t+Ge,Cr=$t-Ge,Ns=Jt+sn,cs=Jt-sn,rs=Ga+Ns,us=Ga-Ns,Rs=Xr+Hs,fr=Xr-Hs;Je[_t]=rs+Rs,Je[_t+32]=rs-Rs;var pa=.707106781*(fr+us);Je[_t+16]=us+pa,Je[_t+48]=us-pa;var Qi=.382683433*((rs=cs+Cr)-(fr=dn+Ca)),Kr=.5411961*rs+Qi,_r=1.306562965*fr+Qi,vi=.707106781*(Rs=Cr+dn),zr=Ca+vi,Sa=Ca-vi;Je[_t+40]=Sa+Kr,Je[_t+24]=Sa-Kr,Je[_t+8]=zr+_r,Je[_t+56]=zr-_r,_t++}for(Ot=0;Ot<64;++Ot)gt=Je[Ot]*Ut[Ot],g[Ot]=gt>0?gt+.5|0:gt-.5|0;return g})(M,W),Ue=0;Ue<64;++Ue)b[D[Ue]]=Ie[Ue];var Pe=b[0]-ae;ae=b[0],Pe==0?q(ue[0]):(q(ue[v[ge=32767+Pe]]),q(m[ge]));for(var rt=63;rt>0&&b[rt]==0;)rt--;if(rt==0)return q(Se),ae;for(var Le,me=1;me<=rt;){for(var Ze=me;b[me]==0&&me<=rt;)++me;var pt=me-Ze;if(pt>=16){Le=pt>>4;for(var dt=1;dt<=Le;++dt)q(xe);pt&=15}ge=32767+b[me],q(ce[(pt<<4)+v[ge]]),q(m[ge]),me++}return rt!=63&&q(Se),ae}function ne(M){M=Math.min(Math.max(M,1),100),o!=M&&((function(W){for(var ae=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ue=0;ue<64;ue++){var ce=c((ae[ue]*W+50)/100);ce=Math.min(Math.max(ce,1),255),h[D[ue]]=ce}for(var ge=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Se=0;Se<64;Se++){var xe=c((ge[Se]*W+50)/100);xe=Math.min(Math.max(xe,1),255),u[D[Se]]=xe}for(var Ie=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ue=0,Pe=0;Pe<8;Pe++)for(var rt=0;rt<8;rt++)f[Ue]=1/(h[D[Ue]]*Ie[Pe]*Ie[rt]*8),A[Ue]=1/(u[D[Ue]]*Ie[Pe]*Ie[rt]*8),Ue++})(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),o=M)}this.encode=function(M,W){W&&ne(W),I=new Array,N=0,S=7,oe(65496),oe(65504),oe(16),Z(74),Z(70),Z(73),Z(70),Z(0),Z(1),Z(1),Z(0),oe(1),oe(1),Z(0),Z(0),(function(){oe(65499),oe(132),Z(0);for(var zt=0;zt<64;zt++)Z(h[zt]);Z(1);for(var $t=0;$t<64;$t++)Z(u[$t])})(),(function(zt,$t){oe(65472),oe(17),Z(8),oe($t),oe(zt),Z(3),Z(1),Z(17),Z(0),Z(2),Z(17),Z(1),Z(3),Z(17),Z(1)})(M.width,M.height),(function(){oe(65476),oe(418),Z(0);for(var zt=0;zt<16;zt++)Z(Q[zt+1]);for(var $t=0;$t<=11;$t++)Z(O[$t]);Z(16);for(var Jt=0;Jt<16;Jt++)Z($[Jt+1]);for(var sn=0;sn<=161;sn++)Z(P[sn]);Z(1);for(var Ge=0;Ge<16;Ge++)Z(V[Ge+1]);for(var Ht=0;Ht<=11;Ht++)Z(G[Ht]);Z(17);for(var kt=0;kt<16;kt++)Z(ie[kt+1]);for(var Ot=0;Ot<=161;Ot++)Z(de[Ot])})(),oe(65498),oe(12),Z(3),Z(1),Z(0),Z(2),Z(17),Z(3),Z(17),Z(0),Z(63),Z(0);var ae=0,ue=0,ce=0;N=0,S=7,this.encode.displayName="_encode_";for(var ge,Se,xe,Ie,Ue,Pe,rt,Le,me,Ze=M.data,pt=M.width,dt=M.height,Je=4*pt,Ut=0;Ut<dt;){for(ge=0;ge<Je;){for(Ue=Je*Ut+ge,rt=-1,Le=0,me=0;me<64;me++)Pe=Ue+(Le=me>>3)*Je+(rt=4*(7&me)),Ut+Le>=dt&&(Pe-=Je*(Ut+1+Le-dt)),ge+rt>=Je&&(Pe-=ge+rt-Je+4),Se=Ze[Pe++],xe=Ze[Pe++],Ie=Ze[Pe++],E[me]=(H[Se]+H[xe+256|0]+H[Ie+512|0]>>16)-128,_[me]=(H[Se+768|0]+H[xe+1024|0]+H[Ie+1280|0]>>16)-128,R[me]=(H[Se+1280|0]+H[xe+1536|0]+H[Ie+1792|0]>>16)-128;ae=ye(E,f,ae,e,s),ue=ye(_,A,ue,t,a),ce=ye(R,A,ce,t,a),ge+=32}Ut+=8}if(S>=0){var Rt=[];Rt[1]=S+1,Rt[0]=(1<<S+1)-1,q(Rt)}return oe(65497),new Uint8Array(I)},n=n||50,(function(){for(var M=String.fromCharCode,W=0;W<256;W++)L[W]=M(W)})(),e=X(Q,O),t=X(V,G),s=X($,P),a=X(ie,de),(function(){for(var M=1,W=2,ae=1;ae<=15;ae++){for(var ue=M;ue<W;ue++)v[32767+ue]=ae,m[32767+ue]=[],m[32767+ue][1]=ae,m[32767+ue][0]=ue;for(var ce=-(W-1);ce<=-M;ce++)v[32767+ce]=ae,m[32767+ce]=[],m[32767+ce][1]=ae,m[32767+ce][0]=W-1+ce;M<<=1,W<<=1}})(),(function(){for(var M=0;M<256;M++)H[M]=19595*M,H[M+256|0]=38470*M,H[M+512|0]=7471*M+32768,H[M+768|0]=-11059*M,H[M+1024|0]=-21709*M,H[M+1280|0]=32768*M+8421375,H[M+1536|0]=-27439*M,H[M+1792|0]=-5329*M})(),ne(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ec(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function uS(n){function e(O){if(!O)throw Error("assert :P")}function t(O,$,P){for(var V=0;4>V;V++)if(O[$+V]!=P.charCodeAt(V))return!0;return!1}function s(O,$,P,V,G){for(var ie=0;ie<G;ie++)O[$+ie]=P[V+ie]}function a(O,$,P,V){for(var G=0;G<V;G++)O[$+G]=P}function o(O){return new Int32Array(O)}function c(O,$){for(var P=[],V=0;V<O;V++)P.push(new $);return P}function h(O,$){var P=[];return(function V(G,ie,de){for(var X=de[ie],q=0;q<X&&(G.push(de.length>ie+1?[]:new $),!(de.length<ie+1));q++)V(G[q],ie+1,de)})(P,0,O),P}var u=function(){var O=this;function $(y,F){for(var K=1<<F-1>>>0;y&K;)K>>>=1;return K?(y&K-1)+K:y}function P(y,F,K,J,Ae){e(!(J%K));do y[F+(J-=K)]=Ae;while(0<J)}function V(y,F,K,J,Ae){if(e(2328>=Ae),512>=Ae)var fe=o(512);else if((fe=o(Ae))==null)return 0;return(function(pe,be,je,Te,Qe,qe){var Ne,ke,He=be,ft=1<<je,Xe=o(16),ut=o(16);for(e(Qe!=0),e(Te!=null),e(pe!=null),e(0<je),ke=0;ke<Qe;++ke){if(15<Te[ke])return 0;++Xe[Te[ke]]}if(Xe[0]==Qe)return 0;for(ut[1]=0,Ne=1;15>Ne;++Ne){if(Xe[Ne]>1<<Ne)return 0;ut[Ne+1]=ut[Ne]+Xe[Ne]}for(ke=0;ke<Qe;++ke)Ne=Te[ke],0<Te[ke]&&(qe[ut[Ne]++]=ke);if(ut[15]==1)return(Te=new G).g=0,Te.value=qe[0],P(pe,He,1,ft,Te),ft;var yt,Lt=-1,Bt=ft-1,jn=0,fn=1,qn=1,xn=1<<je;for(ke=0,Ne=1,Qe=2;Ne<=je;++Ne,Qe<<=1){if(fn+=qn<<=1,0>(qn-=Xe[Ne]))return 0;for(;0<Xe[Ne];--Xe[Ne])(Te=new G).g=Ne,Te.value=qe[ke++],P(pe,He+jn,Qe,xn,Te),jn=$(jn,Ne)}for(Ne=je+1,Qe=2;15>=Ne;++Ne,Qe<<=1){if(fn+=qn<<=1,0>(qn-=Xe[Ne]))return 0;for(;0<Xe[Ne];--Xe[Ne]){if(Te=new G,(jn&Bt)!=Lt){for(He+=xn,yt=1<<(Lt=Ne)-je;15>Lt&&!(0>=(yt-=Xe[Lt]));)++Lt,yt<<=1;ft+=xn=1<<(yt=Lt-je),pe[be+(Lt=jn&Bt)].g=yt+je,pe[be+Lt].value=He-be-Lt}Te.g=Ne-je,Te.value=qe[ke++],P(pe,He+(jn>>je),Qe,xn,Te),jn=$(jn,Ne)}}return fn!=2*ut[15]-1?0:ft})(y,F,K,J,Ae,fe)}function G(){this.value=this.g=0}function ie(){this.value=this.g=0}function de(){this.G=c(5,G),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=c(Fo,ie)}function X(y,F,K,J){e(y!=null),e(F!=null),e(2147483648>J),y.Ca=254,y.I=0,y.b=-8,y.Ka=0,y.oa=F,y.pa=K,y.Jd=F,y.Yc=K+J,y.Zc=4<=J?K+J-4+1:K,Se(y)}function q(y,F){for(var K=0;0<F--;)K|=Ie(y,128)<<F;return K}function Z(y,F){var K=q(y,F);return xe(y)?-K:K}function oe(y,F,K,J){var Ae,fe=0;for(e(y!=null),e(F!=null),e(4294967288>J),y.Sb=J,y.Ra=0,y.u=0,y.h=0,4<J&&(J=4),Ae=0;Ae<J;++Ae)fe+=F[K+Ae]<<8*Ae;y.Ra=fe,y.bb=J,y.oa=F,y.pa=K}function ye(y){for(;8<=y.u&&y.bb<y.Sb;)y.Ra>>>=8,y.Ra+=y.oa[y.pa+y.bb]<<il-8>>>0,++y.bb,y.u-=8;ue(y)&&(y.h=1,y.u=0)}function ne(y,F){if(e(0<=F),!y.h&&F<=yi){var K=ae(y)&ws[F];return y.u+=F,ye(y),K}return y.h=1,y.u=0}function M(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function W(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ae(y){return y.Ra>>>(y.u&il-1)>>>0}function ue(y){return e(y.bb<=y.Sb),y.h||y.bb==y.Sb&&y.u>il}function ce(y,F){y.u=F,y.h=ue(y)}function ge(y){y.u>=ol&&(e(y.u>=ol),ye(y))}function Se(y){e(y!=null&&y.oa!=null),y.pa<y.Zc?(y.I=(y.oa[y.pa++]|y.I<<8)>>>0,y.b+=8):(e(y!=null&&y.oa!=null),y.pa<y.Yc?(y.b+=8,y.I=y.oa[y.pa++]|y.I<<8):y.Ka?y.b=0:(y.I<<=8,y.b+=8,y.Ka=1))}function xe(y){return q(y,1)}function Ie(y,F){var K=y.Ca;0>y.b&&Se(y);var J=y.b,Ae=K*F>>>8,fe=(y.I>>>J>Ae)+0;for(fe?(K-=Ae,y.I-=Ae+1<<J>>>0):K=Ae+1,J=K,Ae=0;256<=J;)Ae+=8,J>>=8;return J=7^Ae+yl[J],y.b-=J,y.Ca=(K<<J)-1,fe}function Ue(y,F,K){y[F+0]=K>>24&255,y[F+1]=K>>16&255,y[F+2]=K>>8&255,y[F+3]=255&K}function Pe(y,F){return y[F+0]|y[F+1]<<8}function rt(y,F){return Pe(y,F)|y[F+2]<<16}function Le(y,F){return Pe(y,F)|Pe(y,F+2)<<16}function me(y,F){var K=1<<F;return e(y!=null),e(0<F),y.X=o(K),y.X==null?0:(y.Mb=32-F,y.Xa=F,1)}function Ze(y,F){e(y!=null),e(F!=null),e(y.Xa==F.Xa),s(F.X,0,y.X,0,1<<F.Xa)}function pt(){this.X=[],this.Xa=this.Mb=0}function dt(y,F,K,J){e(K!=null),e(J!=null);var Ae=K[0],fe=J[0];return Ae==0&&(Ae=(y*fe+F/2)/F),fe==0&&(fe=(F*Ae+y/2)/y),0>=Ae||0>=fe?0:(K[0]=Ae,J[0]=fe,1)}function Je(y,F){return y+(1<<F)-1>>>F}function Ut(y,F){return((4278255360&y)+(4278255360&F)>>>0&4278255360)+((16711935&y)+(16711935&F)>>>0&16711935)>>>0}function Rt(y,F){O[F]=function(K,J,Ae,fe,pe,be,je){var Te;for(Te=0;Te<pe;++Te){var Qe=O[y](be[je+Te-1],Ae,fe+Te);be[je+Te]=Ut(K[J+Te],Qe)}}}function zt(){this.ud=this.hd=this.jd=0}function $t(y,F){return((4278124286&(y^F))>>>1)+(y&F)>>>0}function Jt(y){return 0<=y&&256>y?y:0>y?0:255<y?255:void 0}function sn(y,F){return Jt(y+(y-F+.5>>1))}function Ge(y,F,K){return Math.abs(F-K)-Math.abs(y-K)}function Ht(y,F,K,J,Ae,fe,pe){for(J=fe[pe-1],K=0;K<Ae;++K)fe[pe+K]=J=Ut(y[F+K],J)}function kt(y,F,K,J,Ae){var fe;for(fe=0;fe<K;++fe){var pe=y[F+fe],be=pe>>8&255,je=16711935&(je=(je=16711935&pe)+((be<<16)+be));J[Ae+fe]=(4278255360&pe)+je>>>0}}function Ot(y,F){F.jd=255&y,F.hd=y>>8&255,F.ud=y>>16&255}function gt(y,F,K,J,Ae,fe){var pe;for(pe=0;pe<J;++pe){var be=F[K+pe],je=be>>>8,Te=be,Qe=255&(Qe=(Qe=be>>>16)+((y.jd<<24>>24)*(je<<24>>24)>>>5));Te=255&(Te=(Te+=(y.hd<<24>>24)*(je<<24>>24)>>>5)+((y.ud<<24>>24)*(Qe<<24>>24)>>>5)),Ae[fe+pe]=(4278255360&be)+(Qe<<16)+Te}}function _t(y,F,K,J,Ae){O[F]=function(fe,pe,be,je,Te,Qe,qe,Ne,ke){for(je=qe;je<Ne;++je)for(qe=0;qe<ke;++qe)Te[Qe++]=Ae(be[J(fe[pe++])])},O[y]=function(fe,pe,be,je,Te,Qe,qe){var Ne=8>>fe.b,ke=fe.Ea,He=fe.K[0],ft=fe.w;if(8>Ne)for(fe=(1<<fe.b)-1,ft=(1<<Ne)-1;pe<be;++pe){var Xe,ut=0;for(Xe=0;Xe<ke;++Xe)Xe&fe||(ut=J(je[Te++])),Qe[qe++]=Ae(He[ut&ft]),ut>>=Ne}else O["VP8LMapColor"+K](je,Te,He,ft,Qe,qe,pe,be,ke)}}function Un(y,F,K,J,Ae){for(K=F+K;F<K;){var fe=y[F++];J[Ae++]=fe>>16&255,J[Ae++]=fe>>8&255,J[Ae++]=255&fe}}function Me(y,F,K,J,Ae){for(K=F+K;F<K;){var fe=y[F++];J[Ae++]=fe>>16&255,J[Ae++]=fe>>8&255,J[Ae++]=255&fe,J[Ae++]=fe>>24&255}}function ht(y,F,K,J,Ae){for(K=F+K;F<K;){var fe=(pe=y[F++])>>16&240|pe>>12&15,pe=240&pe|pe>>28&15;J[Ae++]=fe,J[Ae++]=pe}}function Ve(y,F,K,J,Ae){for(K=F+K;F<K;){var fe=(pe=y[F++])>>16&248|pe>>13&7,pe=pe>>5&224|pe>>3&31;J[Ae++]=fe,J[Ae++]=pe}}function lt(y,F,K,J,Ae){for(K=F+K;F<K;){var fe=y[F++];J[Ae++]=255&fe,J[Ae++]=fe>>8&255,J[Ae++]=fe>>16&255}}function At(y,F,K,J,Ae,fe){if(fe==0)for(K=F+K;F<K;)Ue(J,((fe=y[F++])[0]>>24|fe[1]>>8&65280|fe[2]<<8&16711680|fe[3]<<24)>>>0),Ae+=32;else s(J,Ae,y,F,K)}function Qt(y,F){O[F][0]=O[y+"0"],O[F][1]=O[y+"1"],O[F][2]=O[y+"2"],O[F][3]=O[y+"3"],O[F][4]=O[y+"4"],O[F][5]=O[y+"5"],O[F][6]=O[y+"6"],O[F][7]=O[y+"7"],O[F][8]=O[y+"8"],O[F][9]=O[y+"9"],O[F][10]=O[y+"10"],O[F][11]=O[y+"11"],O[F][12]=O[y+"12"],O[F][13]=O[y+"13"],O[F][14]=O[y+"0"],O[F][15]=O[y+"0"]}function St(y){return y==su||y==ku||y==pc||y==VA}function Vt(){this.eb=[],this.size=this.A=this.fb=0}function en(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function jt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Vt,this.f.kb=new en,this.sd=null}function ct(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Dt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Yt(y){return alert("todo:WebPSamplerProcessPlane"),y.T}function rn(y,F){var K=y.T,J=F.ba.f.RGBA,Ae=J.eb,fe=J.fb+y.ka*J.A,pe=ui[F.ba.S],be=y.y,je=y.O,Te=y.f,Qe=y.N,qe=y.ea,Ne=y.W,ke=F.cc,He=F.dc,ft=F.Mc,Xe=F.Nc,ut=y.ka,yt=y.ka+y.T,Lt=y.U,Bt=Lt+1>>1;for(ut==0?pe(be,je,null,null,Te,Qe,qe,Ne,Te,Qe,qe,Ne,Ae,fe,null,null,Lt):(pe(F.ec,F.fc,be,je,ke,He,ft,Xe,Te,Qe,qe,Ne,Ae,fe-J.A,Ae,fe,Lt),++K);ut+2<yt;ut+=2)ke=Te,He=Qe,ft=qe,Xe=Ne,Qe+=y.Rc,Ne+=y.Rc,fe+=2*J.A,pe(be,(je+=2*y.fa)-y.fa,be,je,ke,He,ft,Xe,Te,Qe,qe,Ne,Ae,fe-J.A,Ae,fe,Lt);return je+=y.fa,y.j+yt<y.o?(s(F.ec,F.fc,be,je,Lt),s(F.cc,F.dc,Te,Qe,Bt),s(F.Mc,F.Nc,qe,Ne,Bt),K--):1&yt||pe(be,je,null,null,Te,Qe,qe,Ne,Te,Qe,qe,Ne,Ae,fe+J.A,null,null,Lt),K}function ts(y,F,K){var J=y.F,Ae=[y.J];if(J!=null){var fe=y.U,pe=F.ba.S,be=pe==nu||pe==pc;F=F.ba.f.RGBA;var je=[0],Te=y.ka;je[0]=y.T,y.Kb&&(Te==0?--je[0]:(--Te,Ae[0]-=y.width),y.j+y.ka+y.T==y.o&&(je[0]=y.o-y.j-Te));var Qe=F.eb;Te=F.fb+Te*F.A,y=mc(J,Ae[0],y.width,fe,je,Qe,Te+(be?0:3),F.A),e(K==je),y&&St(pe)&&hA(Qe,Te,be,fe,je,F.A)}return 0}function Ms(y){var F=y.ma,K=F.ba.S,J=11>K,Ae=K==Bi||K==Uo||K==nu||K==$l||K==12||St(K);if(F.memory=null,F.Ib=null,F.Jb=null,F.Nd=null,!Dr(F.Oa,y,Ae?11:12))return 0;if(Ae&&St(K)&&Jn(),y.da)alert("todo:use_scaling");else{if(J){if(F.Ib=Yt,y.Kb){if(K=y.U+1>>1,F.memory=o(y.U+2*K),F.memory==null)return 0;F.ec=F.memory,F.fc=0,F.cc=F.ec,F.dc=F.fc+y.U,F.Mc=F.cc,F.Nc=F.dc+K,F.Ib=rn,Jn()}}else alert("todo:EmitYUV");Ae&&(F.Jb=ts,J&&nt())}if(J&&!bA){for(y=0;256>y;++y)di[y]=89858*(y-128)+vc>>Oo,Tm[y]=-22014*(y-128)+vc,df[y]=-45773*(y-128),zu[y]=113618*(y-128)+vc>>Oo;for(y=Nl;y<yA;++y)F=76283*(y-16)+vc>>Oo,Im[y-Nl]=Sn(F,255),_m[y-Nl]=Sn(F+8>>4,15);bA=1}return 1}function ln(y){var F=y.ma,K=y.U,J=y.T;return e(!(1&y.ka)),0>=K||0>=J?0:(K=F.Ib(y,F),F.Jb!=null&&F.Jb(y,F,K),F.Dc+=K,1)}function ri(y){y.ma.memory=null}function Ga(y,F,K,J){return ne(y,8)!=47?0:(F[0]=ne(y,14)+1,K[0]=ne(y,14)+1,J[0]=ne(y,1),ne(y,3)!=0?0:!y.h)}function Ca(y,F){if(4>y)return y+1;var K=y-2>>1;return(2+(1&y)<<K)+ne(F,K)+1}function Xr(y,F){return 120<F?F-120:1<=(K=((K=Do[F-1])>>4)*y+(8-(15&K)))?K:1;var K}function dn(y,F,K){var J=ae(K),Ae=y[F+=255&J].g-8;return 0<Ae&&(ce(K,K.u+8),J=ae(K),F+=y[F].value,F+=J&(1<<Ae)-1),ce(K,K.u+y[F].g),y[F].value}function Hs(y,F,K){return K.g+=y.g,K.value+=y.value<<F>>>0,e(8>=K.g),y.g}function Cr(y,F,K){var J=y.xc;return e((F=J==0?0:y.vc[y.md*(K>>J)+(F>>J)])<y.Wb),y.Ya[F]}function Ns(y,F,K,J){var Ae=y.ab,fe=y.c*F,pe=y.C;F=pe+F;var be=K,je=J;for(J=y.Ta,K=y.Ua;0<Ae--;){var Te=y.gc[Ae],Qe=pe,qe=F,Ne=be,ke=je,He=(je=J,be=K,Te.Ea);switch(e(Qe<qe),e(qe<=Te.nc),Te.hc){case 2:ua(Ne,ke,(qe-Qe)*He,je,be);break;case 0:var ft=Qe,Xe=qe,ut=je,yt=be,Lt=(xn=Te).Ea;ft==0&&(Kl(Ne,ke,null,null,1,ut,yt),Ht(Ne,ke+1,0,0,Lt-1,ut,yt+1),ke+=Lt,yt+=Lt,++ft);for(var Bt=1<<xn.b,jn=Bt-1,fn=Je(Lt,xn.b),qn=xn.K,xn=xn.w+(ft>>xn.b)*fn;ft<Xe;){var Ts=qn,Qr=xn,os=1;for(OA(Ne,ke,ut,yt-Lt,1,ut,yt);os<Lt;){var at=(os&~jn)+Bt;at>Lt&&(at=Lt),(0,bi[Ts[Qr++]>>8&15])(Ne,ke+ +os,ut,yt+os-Lt,at-os,ut,yt+os),os=at}ke+=Lt,yt+=Lt,++ft&jn||(xn+=fn)}qe!=Te.nc&&s(je,be-He,je,be+(qe-Qe-1)*He,He);break;case 1:for(He=Ne,Xe=ke,Lt=(Ne=Te.Ea)-(yt=Ne&~(ut=(ke=1<<Te.b)-1)),ft=Je(Ne,Te.b),Bt=Te.K,Te=Te.w+(Qe>>Te.b)*ft;Qe<qe;){for(jn=Bt,fn=Te,qn=new zt,xn=Xe+yt,Ts=Xe+Ne;Xe<xn;)Ot(jn[fn++],qn),PA(qn,He,Xe,ke,je,be),Xe+=ke,be+=ke;Xe<Ts&&(Ot(jn[fn++],qn),PA(qn,He,Xe,Lt,je,be),Xe+=Lt,be+=Lt),++Qe&ut||(Te+=ft)}break;case 3:if(Ne==je&&ke==be&&0<Te.b){for(Xe=je,Ne=He=be+(qe-Qe)*He-(yt=(qe-Qe)*Je(Te.Ea,Te.b)),ke=je,ut=be,ft=[],yt=(Lt=yt)-1;0<=yt;--yt)ft[yt]=ke[ut+yt];for(yt=Lt-1;0<=yt;--yt)Xe[Ne+yt]=ft[yt];Mi(Te,Qe,qe,je,He,je,be)}else Mi(Te,Qe,qe,Ne,ke,je,be)}be=J,je=K}je!=K&&s(J,K,be,je,fe)}function cs(y,F){var K=y.V,J=y.Ba+y.c*y.C,Ae=F-y.C;if(e(F<=y.l.o),e(16>=Ae),0<Ae){var fe=y.l,pe=y.Ta,be=y.Ua,je=fe.width;if(Ns(y,Ae,K,J),Ae=be=[be],e((K=y.C)<(J=F)),e(fe.v<fe.va),J>fe.o&&(J=fe.o),K<fe.j){var Te=fe.j-K;K=fe.j,Ae[0]+=Te*je}if(K>=J?K=0:(Ae[0]+=4*fe.v,fe.ka=K-fe.j,fe.U=fe.va-fe.v,fe.T=J-K,K=1),K){if(be=be[0],11>(K=y.ca).S){var Qe=K.f.RGBA,qe=(J=K.S,Ae=fe.U,fe=fe.T,Te=Qe.eb,Qe.A),Ne=fe;for(Qe=Qe.fb+y.Ma*Qe.A;0<Ne--;){var ke=pe,He=be,ft=Ae,Xe=Te,ut=Qe;switch(J){case Pu:kA(ke,He,ft,Xe,ut);break;case Bi:ll(ke,He,ft,Xe,ut);break;case su:ll(ke,He,ft,Xe,ut),hA(Xe,ut,0,ft,1,0);break;case Gl:Al(ke,He,ft,Xe,ut);break;case Uo:At(ke,He,ft,Xe,ut,1);break;case ku:At(ke,He,ft,Xe,ut,1),hA(Xe,ut,0,ft,1,0);break;case nu:At(ke,He,ft,Xe,ut,0);break;case pc:At(ke,He,ft,Xe,ut,0),hA(Xe,ut,1,ft,1,0);break;case $l:bl(ke,He,ft,Xe,ut);break;case VA:bl(ke,He,ft,Xe,ut),Ao(Xe,ut,ft,1,0);break;case fA:wl(ke,He,ft,Xe,ut);break;default:e(0)}be+=je,Qe+=qe}y.Ma+=fe}else alert("todo:EmitRescaledRowsYUVA");e(y.Ma<=K.height)}}y.C=F,e(y.C<=y.i)}function rs(y){var F;if(0<y.ua)return 0;for(F=0;F<y.Wb;++F){var K=y.Ya[F].G,J=y.Ya[F].H;if(0<K[1][J[1]+0].g||0<K[2][J[2]+0].g||0<K[3][J[3]+0].g)return 0}return 1}function us(y,F,K,J,Ae,fe){if(y.Z!=0){var pe=y.qd,be=y.rd;for(e(Cl[y.Z]!=null);F<K;++F)Cl[y.Z](pe,be,J,Ae,J,Ae,fe),pe=J,be=Ae,Ae+=fe;y.qd=pe,y.rd=be}}function Rs(y,F){var K=y.l.ma,J=K.Z==0||K.Z==1?y.l.j:y.C;if(J=y.C<J?J:y.C,e(F<=y.l.o),F>J){var Ae=y.l.width,fe=K.ca,pe=K.tb+Ae*J,be=y.V,je=y.Ba+y.c*J,Te=y.gc;e(y.ab==1),e(Te[0].hc==3),li(Te[0],J,F,be,je,fe,pe),us(K,J,F,fe,pe,Ae)}y.C=y.Ma=F}function fr(y,F,K,J,Ae,fe,pe){var be=y.$/J,je=y.$%J,Te=y.m,Qe=y.s,qe=K+y.$,Ne=qe;Ae=K+J*Ae;var ke=K+J*fe,He=280+Qe.ua,ft=y.Pb?be:16777216,Xe=0<Qe.ua?Qe.Wa:null,ut=Qe.wc,yt=qe<ke?Cr(Qe,je,be):null;e(y.C<fe),e(ke<=Ae);var Lt=!1;e:for(;;){for(;Lt||qe<ke;){var Bt=0;if(be>=ft){var jn=qe-K;e((ft=y).Pb),ft.wd=ft.m,ft.xd=jn,0<ft.s.ua&&Ze(ft.s.Wa,ft.s.vb),ft=be+pA}if(je&ut||(yt=Cr(Qe,je,be)),e(yt!=null),yt.Qb&&(F[qe]=yt.qb,Lt=!0),!Lt)if(ge(Te),yt.jc){Bt=Te,jn=F;var fn=qe,qn=yt.pd[ae(Bt)&Fo-1];e(yt.jc),256>qn.g?(ce(Bt,Bt.u+qn.g),jn[fn]=qn.value,Bt=0):(ce(Bt,Bt.u+qn.g-256),e(256<=qn.value),Bt=qn.value),Bt==0&&(Lt=!0)}else Bt=dn(yt.G[0],yt.H[0],Te);if(Te.h)break;if(Lt||256>Bt){if(!Lt)if(yt.nd)F[qe]=(yt.qb|Bt<<8)>>>0;else{if(ge(Te),Lt=dn(yt.G[1],yt.H[1],Te),ge(Te),jn=dn(yt.G[2],yt.H[2],Te),fn=dn(yt.G[3],yt.H[3],Te),Te.h)break;F[qe]=(fn<<24|Lt<<16|Bt<<8|jn)>>>0}if(Lt=!1,++qe,++je>=J&&(je=0,++be,pe!=null&&be<=fe&&!(be%16)&&pe(y,be),Xe!=null))for(;Ne<qe;)Bt=F[Ne++],Xe.X[(506832829*Bt&4294967295)>>>Xe.Mb]=Bt}else if(280>Bt){if(Bt=Ca(Bt-256,Te),jn=dn(yt.G[4],yt.H[4],Te),ge(Te),jn=Xr(J,jn=Ca(jn,Te)),Te.h)break;if(qe-K<jn||Ae-qe<Bt)break e;for(fn=0;fn<Bt;++fn)F[qe+fn]=F[qe+fn-jn];for(qe+=Bt,je+=Bt;je>=J;)je-=J,++be,pe!=null&&be<=fe&&!(be%16)&&pe(y,be);if(e(qe<=Ae),je&ut&&(yt=Cr(Qe,je,be)),Xe!=null)for(;Ne<qe;)Bt=F[Ne++],Xe.X[(506832829*Bt&4294967295)>>>Xe.Mb]=Bt}else{if(!(Bt<He))break e;for(Lt=Bt-280,e(Xe!=null);Ne<qe;)Bt=F[Ne++],Xe.X[(506832829*Bt&4294967295)>>>Xe.Mb]=Bt;Bt=qe,e(!(Lt>>>(jn=Xe).Xa)),F[Bt]=jn.X[Lt],Lt=!0}Lt||e(Te.h==ue(Te))}if(y.Pb&&Te.h&&qe<Ae)e(y.m.h),y.a=5,y.m=y.wd,y.$=y.xd,0<y.s.ua&&Ze(y.s.vb,y.s.Wa);else{if(Te.h)break e;pe!=null&&pe(y,be>fe?fe:be),y.a=0,y.$=qe-K}return 1}return y.a=3,0}function pa(y){e(y!=null),y.vc=null,y.yc=null,y.Ya=null;var F=y.Wa;F!=null&&(F.X=null),y.vb=null,e(y!=null)}function Qi(){var y=new Ln;return y==null?null:(y.a=0,y.xb=ah,Qt("Predictor","VP8LPredictors"),Qt("Predictor","VP8LPredictors_C"),Qt("PredictorAdd","VP8LPredictorsAdd"),Qt("PredictorAdd","VP8LPredictorsAdd_C"),ua=kt,PA=gt,kA=Un,ll=Me,bl=ht,wl=Ve,Al=lt,O.VP8LMapColor32b=oi,O.VP8LMapColor8b=Ls,y)}function Kr(y,F,K,J,Ae){var fe=1,pe=[y],be=[F],je=J.m,Te=J.s,Qe=null,qe=0;e:for(;;){if(K)for(;fe&&ne(je,1);){var Ne=pe,ke=be,He=J,ft=1,Xe=He.m,ut=He.gc[He.ab],yt=ne(Xe,2);if(He.Oc&1<<yt)fe=0;else{switch(He.Oc|=1<<yt,ut.hc=yt,ut.Ea=Ne[0],ut.nc=ke[0],ut.K=[null],++He.ab,e(4>=He.ab),yt){case 0:case 1:ut.b=ne(Xe,3)+2,ft=Kr(Je(ut.Ea,ut.b),Je(ut.nc,ut.b),0,He,ut.K),ut.K=ut.K[0];break;case 3:var Lt,Bt=ne(Xe,8)+1,jn=16<Bt?0:4<Bt?1:2<Bt?2:3;if(Ne[0]=Je(ut.Ea,jn),ut.b=jn,Lt=ft=Kr(Bt,1,0,He,ut.K)){var fn,qn=Bt,xn=ut,Ts=1<<(8>>xn.b),Qr=o(Ts);if(Qr==null)Lt=0;else{var os=xn.K[0],at=xn.w;for(Qr[0]=xn.K[0][0],fn=1;fn<1*qn;++fn)Qr[fn]=Ut(os[at+fn],Qr[fn-1]);for(;fn<4*Ts;++fn)Qr[fn]=0;xn.K[0]=null,xn.K[0]=Qr,Lt=1}}ft=Lt;break;case 2:break;default:e(0)}fe=ft}}if(pe=pe[0],be=be[0],fe&&ne(je,1)&&!(fe=1<=(qe=ne(je,4))&&11>=qe)){J.a=3;break e}var Xt;if(Xt=fe)t:{var Zr,kn,zn,cr=J,Ea=pe,ya=be,ur=qe,Ta=K,Ci=cr.m,Ia=cr.s,ss=[null],Qs=1,Or=0,nr=Lo[ur];n:for(;;){if(Ta&&ne(Ci,1)){var _a=ne(Ci,3)+2,ea=Je(Ea,_a),Os=Je(ya,_a),ba=ea*Os;if(!Kr(ea,Os,0,cr,ss))break n;for(ss=ss[0],Ia.xc=_a,Zr=0;Zr<ba;++Zr){var dr=ss[Zr]>>8&65535;ss[Zr]=dr,dr>=Qs&&(Qs=dr+1)}}if(Ci.h)break n;for(kn=0;5>kn;++kn){var Fa=KA[kn];!kn&&0<ur&&(Fa+=1<<ur),Or<Fa&&(Or=Fa)}var Ua=c(Qs*nr,G),yr=Qs,Ks=c(yr,de);if(Ks==null)var Si=null;else e(65536>=yr),Si=Ks;var ha=o(Or);if(Si==null||ha==null||Ua==null){cr.a=1;break n}var Rn=Ua;for(Zr=zn=0;Zr<Qs;++Zr){var Qn=Si[Zr],Xs=Qn.G,no=Qn.H,ho=0,zi=1,ta=0;for(kn=0;5>kn;++kn){Fa=KA[kn],Xs[kn]=Rn,no[kn]=zn,!kn&&0<ur&&(Fa+=1<<ur);r:{var wA,El=Fa,bc=cr,br=ha,$u=Rn,ih=zn,iu=0,dl=bc.m,oh=ne(dl,1);if(a(br,0,0,El),oh){var Yu=ne(dl,1)+1,Wu=ne(dl,1),ou=ne(dl,Wu==0?1:8);br[ou]=1,Yu==2&&(br[ou=ne(dl,8)]=1);var Ma=1}else{var Gr=o(19),lu=ne(dl,4)+4;if(19<lu){bc.a=3;var jA=0;break r}for(wA=0;wA<lu;++wA)Gr[mA[wA]]=ne(dl,3);var wc=void 0,qa=void 0,Po=bc,Xu=Gr,jc=El,Ju=br,qu=0,Wl=Po.m,lh=8,Ah=c(128,G);s:for(;V(Ah,0,7,Xu,19);){if(ne(Wl,1)){var hf=2+2*ne(Wl,3);if((wc=2+ne(Wl,hf))>jc)break s}else wc=jc;for(qa=0;qa<jc&&wc--;){ge(Wl);var ch=Ah[0+(127&ae(Wl))];ce(Wl,Wl.u+ch.g);var Xl=ch.value;if(16>Xl)Ju[qa++]=Xl,Xl!=0&&(lh=Xl);else{var ff=Xl==16,Zu=Xl-16,uh=gc[Zu],Ha=ne(Wl,Ro[Zu])+uh;if(qa+Ha>jc)break s;for(var Bc=ff?lh:0;0<Ha--;)Ju[qa++]=Bc}}qu=1;break s}qu||(Po.a=3),Ma=qu}(Ma=Ma&&!dl.h)&&(iu=V($u,ih,8,br,El)),Ma&&iu!=0?jA=iu:(bc.a=3,jA=0)}if(jA==0)break n;if(zi&&Mu[kn]==1&&(zi=Rn[zn].g==0),ho+=Rn[zn].g,zn+=jA,3>=kn){var GA,ed=ha[0];for(GA=1;GA<Fa;++GA)ha[GA]>ed&&(ed=ha[GA]);ta+=ed}}if(Qn.nd=zi,Qn.Qb=0,zi&&(Qn.qb=(Xs[3][no[3]+0].value<<24|Xs[1][no[1]+0].value<<16|Xs[2][no[2]+0].value)>>>0,ho==0&&256>Xs[0][no[0]+0].value&&(Qn.Qb=1,Qn.qb+=Xs[0][no[0]+0].value<<8)),Qn.jc=!Qn.Qb&&6>ta,Qn.jc){var Cc,ko=Qn;for(Cc=0;Cc<Fo;++Cc){var Jl=Cc,ql=ko.pd[Jl],td=ko.G[0][ko.H[0]+Jl];256<=td.value?(ql.g=td.g+256,ql.value=td.value):(ql.g=0,ql.value=0,Jl>>=Hs(td,8,ql),Jl>>=Hs(ko.G[1][ko.H[1]+Jl],16,ql),Jl>>=Hs(ko.G[2][ko.H[2]+Jl],0,ql),Hs(ko.G[3][ko.H[3]+Jl],24,ql))}}}Ia.vc=ss,Ia.Wb=Qs,Ia.Ya=Si,Ia.yc=Ua,Xt=1;break t}Xt=0}if(!(fe=Xt)){J.a=3;break e}if(0<qe){if(Te.ua=1<<qe,!me(Te.Wa,qe)){J.a=1,fe=0;break e}}else Te.ua=0;var nd=J,$A=pe,mf=be,Sc=nd.s,Nc=Sc.xc;if(nd.c=$A,nd.i=mf,Sc.md=Je($A,Nc),Sc.wc=Nc==0?-1:(1<<Nc)-1,K){J.xb=gA;break e}if((Qe=o(pe*be))==null){J.a=1,fe=0;break e}fe=(fe=fr(J,Qe,0,pe,be,be,null))&&!je.h;break e}return fe?(Ae!=null?Ae[0]=Qe:(e(Qe==null),e(K)),J.$=0,K||pa(Te)):pa(Te),fe}function _r(y,F){var K=y.c*y.i,J=K+F+16*F;return e(y.c<=F),y.V=o(J),y.V==null?(y.Ta=null,y.Ua=0,y.a=1,0):(y.Ta=y.V,y.Ua=y.Ba+K+F,1)}function vi(y,F){var K=y.C,J=F-K,Ae=y.V,fe=y.Ba+y.c*K;for(e(F<=y.l.o);0<J;){var pe=16<J?16:J,be=y.l.ma,je=y.l.width,Te=je*pe,Qe=be.ca,qe=be.tb+je*K,Ne=y.Ta,ke=y.Ua;Ns(y,pe,Ae,fe),co(Ne,ke,Qe,qe,Te),us(be,K,K+pe,Qe,qe,je),J-=pe,Ae+=pe*y.c,K+=pe}e(K==F),y.C=y.Ma=F}function zr(){this.ub=this.yd=this.td=this.Rb=0}function Sa(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function _e(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function Et(){this.Yb=(function(){var y=[];return(function F(K,J,Ae){for(var fe=Ae[J],pe=0;pe<fe&&(K.push(Ae.length>J+1?[]:0),!(Ae.length<J+1));pe++)F(K[pe],J+1,Ae)})(y,0,[3,11]),y})()}function Ft(){this.jb=o(3),this.Wc=h([4,8],Et),this.Xc=h([4,17],Et)}function Gt(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function En(){this.ld=this.La=this.dd=this.tc=0}function vn(){this.Na=this.la=0}function Gn(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function as(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Zt(){this.uc=this.M=this.Nb=0,this.wa=Array(new En),this.Y=0,this.ya=Array(new as),this.aa=0,this.l=new Cs}function Gs(){this.y=o(16),this.f=o(8),this.ea=o(8)}function ds(){this.cb=this.a=0,this.sc="",this.m=new M,this.Od=new zr,this.Kc=new Sa,this.ed=new Gt,this.Qa=new _e,this.Ic=this.$c=this.Aa=0,this.D=new Zt,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=c(8,M),this.ia=0,this.pb=c(4,Gn),this.Pa=new Ft,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Gs),this.Hd=0,this.rb=Array(new vn),this.sb=0,this.wa=Array(new En),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new as),this.L=this.aa=0,this.gd=h([4,2],En),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Sn(y,F){return 0>y?0:y>F?F:y}function Cs(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function is(){var y=new ds;return y!=null&&(y.a=0,y.sc="OK",y.cb=0,y.Xb=0,uo||(uo=Kn)),y}function Vn(y,F,K){return y.a==0&&(y.a=F,y.sc=K,y.cb=0),0}function mr(y,F,K){return 3<=K&&y[F+0]==157&&y[F+1]==1&&y[F+2]==42}function Ds(y,F){if(y==null)return 0;if(y.a=0,y.sc="OK",F==null)return Vn(y,2,"null VP8Io passed to VP8GetHeaders()");var K=F.data,J=F.w,Ae=F.ha;if(4>Ae)return Vn(y,7,"Truncated header.");var fe=K[J+0]|K[J+1]<<8|K[J+2]<<16,pe=y.Od;if(pe.Rb=!(1&fe),pe.td=fe>>1&7,pe.yd=fe>>4&1,pe.ub=fe>>5,3<pe.td)return Vn(y,3,"Incorrect keyframe parameters.");if(!pe.yd)return Vn(y,4,"Frame not displayable.");J+=3,Ae-=3;var be=y.Kc;if(pe.Rb){if(7>Ae)return Vn(y,7,"cannot parse picture header");if(!mr(K,J,Ae))return Vn(y,3,"Bad code word");be.c=16383&(K[J+4]<<8|K[J+3]),be.Td=K[J+4]>>6,be.i=16383&(K[J+6]<<8|K[J+5]),be.Ud=K[J+6]>>6,J+=7,Ae-=7,y.za=be.c+15>>4,y.Ub=be.i+15>>4,F.width=be.c,F.height=be.i,F.Da=0,F.j=0,F.v=0,F.va=F.width,F.o=F.height,F.da=0,F.ib=F.width,F.hb=F.height,F.U=F.width,F.T=F.height,a((fe=y.Pa).jb,0,255,fe.jb.length),e((fe=y.Qa)!=null),fe.Cb=0,fe.Bb=0,fe.Fb=1,a(fe.Zb,0,0,fe.Zb.length),a(fe.Lb,0,0,fe.Lb)}if(pe.ub>Ae)return Vn(y,7,"bad partition length");X(fe=y.m,K,J,pe.ub),J+=pe.ub,Ae-=pe.ub,pe.Rb&&(be.Ld=xe(fe),be.Kd=xe(fe)),be=y.Qa;var je,Te=y.Pa;if(e(fe!=null),e(be!=null),be.Cb=xe(fe),be.Cb){if(be.Bb=xe(fe),xe(fe)){for(be.Fb=xe(fe),je=0;4>je;++je)be.Zb[je]=xe(fe)?Z(fe,7):0;for(je=0;4>je;++je)be.Lb[je]=xe(fe)?Z(fe,6):0}if(be.Bb)for(je=0;3>je;++je)Te.jb[je]=xe(fe)?q(fe,8):255}else be.Bb=0;if(fe.Ka)return Vn(y,3,"cannot parse segment header");if((be=y.ed).zd=xe(fe),be.Tb=q(fe,6),be.wb=q(fe,3),be.Pc=xe(fe),be.Pc&&xe(fe)){for(Te=0;4>Te;++Te)xe(fe)&&(be.vd[Te]=Z(fe,6));for(Te=0;4>Te;++Te)xe(fe)&&(be.od[Te]=Z(fe,6))}if(y.L=be.Tb==0?0:be.zd?1:2,fe.Ka)return Vn(y,3,"cannot parse filter header");var Qe=Ae;if(Ae=je=J,J=je+Qe,be=Qe,y.Xb=(1<<q(y.m,2))-1,Qe<3*(Te=y.Xb))K=7;else{for(je+=3*Te,be-=3*Te,Qe=0;Qe<Te;++Qe){var qe=K[Ae+0]|K[Ae+1]<<8|K[Ae+2]<<16;qe>be&&(qe=be),X(y.Jc[+Qe],K,je,qe),je+=qe,be-=qe,Ae+=3}X(y.Jc[+Te],K,je,be),K=je<J?0:5}if(K!=0)return Vn(y,K,"cannot parse partitions");for(K=q(je=y.m,7),Ae=xe(je)?Z(je,4):0,J=xe(je)?Z(je,4):0,be=xe(je)?Z(je,4):0,Te=xe(je)?Z(je,4):0,je=xe(je)?Z(je,4):0,Qe=y.Qa,qe=0;4>qe;++qe){if(Qe.Cb){var Ne=Qe.Zb[qe];Qe.Fb||(Ne+=K)}else{if(0<qe){y.pb[qe]=y.pb[0];continue}Ne=K}var ke=y.pb[qe];ke.Sc[0]=Qo[Sn(Ne+Ae,127)],ke.Sc[1]=Vi[Sn(Ne+0,127)],ke.Eb[0]=2*Qo[Sn(Ne+J,127)],ke.Eb[1]=101581*Vi[Sn(Ne+be,127)]>>16,8>ke.Eb[1]&&(ke.Eb[1]=8),ke.Qc[0]=Qo[Sn(Ne+Te,117)],ke.Qc[1]=Vi[Sn(Ne+je,127)],ke.lc=Ne+je}if(!pe.Rb)return Vn(y,4,"Not a key frame.");for(xe(fe),pe=y.Pa,K=0;4>K;++K){for(Ae=0;8>Ae;++Ae)for(J=0;3>J;++J)for(be=0;11>be;++be)Te=Ie(fe,Lr[K][Ae][J][be])?q(fe,8):uf[K][Ae][J][be],pe.Wc[K][Ae].Yb[J][be]=Te;for(Ae=0;17>Ae;++Ae)pe.Xc[K][Ae]=pe.Wc[K][Fs[Ae]]}return y.kc=xe(fe),y.kc&&(y.Bd=q(fe,8)),y.cb=1}function Kn(y,F,K,J,Ae,fe,pe){var be=F[Ae].Yb[K];for(K=0;16>Ae;++Ae){if(!Ie(y,be[K+0]))return Ae;for(;!Ie(y,be[K+1]);)if(be=F[++Ae].Yb[0],K=0,Ae==16)return 16;var je=F[Ae+1].Yb;if(Ie(y,be[K+2])){var Te=y,Qe=0;if(Ie(Te,(Ne=be)[(qe=K)+3]))if(Ie(Te,Ne[qe+6])){for(be=0,qe=2*(Qe=Ie(Te,Ne[qe+8]))+(Ne=Ie(Te,Ne[qe+9+Qe])),Qe=0,Ne=cf[qe];Ne[be];++be)Qe+=Qe+Ie(Te,Ne[be]);Qe+=3+(8<<qe)}else Ie(Te,Ne[qe+7])?(Qe=7+2*Ie(Te,165),Qe+=Ie(Te,145)):Qe=5+Ie(Te,159);else Qe=Ie(Te,Ne[qe+4])?3+Ie(Te,Ne[qe+5]):2;be=je[2]}else Qe=1,be=je[1];je=pe+rh[Ae],0>(Te=y).b&&Se(Te);var qe,Ne=Te.b,ke=(qe=Te.Ca>>1)-(Te.I>>Ne)>>31;--Te.b,Te.Ca+=ke,Te.Ca|=1,Te.I-=(qe+1&ke)<<Ne,fe[je]=((Qe^ke)-ke)*J[(0<Ae)+0]}return 16}function Oi(y){var F=y.rb[y.sb-1];F.la=0,F.Na=0,a(y.zc,0,0,y.zc.length),y.ja=0}function ys(y,F,K,J,Ae){Ae=y[F+K+32*J]+(Ae>>3),y[F+K+32*J]=-256&Ae?0>Ae?0:255:Ae}function Ar(y,F,K,J,Ae,fe){ys(y,F,0,K,J+Ae),ys(y,F,1,K,J+fe),ys(y,F,2,K,J-fe),ys(y,F,3,K,J-Ae)}function Fr(y){return(20091*y>>16)+y}function sl(y,F,K,J){var Ae,fe=0,pe=o(16);for(Ae=0;4>Ae;++Ae){var be=y[F+0]+y[F+8],je=y[F+0]-y[F+8],Te=(35468*y[F+4]>>16)-Fr(y[F+12]),Qe=Fr(y[F+4])+(35468*y[F+12]>>16);pe[fe+0]=be+Qe,pe[fe+1]=je+Te,pe[fe+2]=je-Te,pe[fe+3]=be-Qe,fe+=4,F++}for(Ae=fe=0;4>Ae;++Ae)be=(y=pe[fe+0]+4)+pe[fe+8],je=y-pe[fe+8],Te=(35468*pe[fe+4]>>16)-Fr(pe[fe+12]),ys(K,J,0,0,be+(Qe=Fr(pe[fe+4])+(35468*pe[fe+12]>>16))),ys(K,J,1,0,je+Te),ys(K,J,2,0,je-Te),ys(K,J,3,0,be-Qe),fe++,J+=32}function AA(y,F,K,J){var Ae=y[F+0]+4,fe=35468*y[F+4]>>16,pe=Fr(y[F+4]),be=35468*y[F+1]>>16;Ar(K,J,0,Ae+pe,y=Fr(y[F+1]),be),Ar(K,J,1,Ae+fe,y,be),Ar(K,J,2,Ae-fe,y,be),Ar(K,J,3,Ae-pe,y,be)}function Ml(y,F,K,J,Ae){sl(y,F,K,J),Ae&&sl(y,F+16,K,J+4)}function Pa(y,F,K,J){zl(y,F+0,K,J,1),zl(y,F+32,K,J+128,1)}function Hl(y,F,K,J){var Ae;for(y=y[F+0]+4,Ae=0;4>Ae;++Ae)for(F=0;4>F;++F)ys(K,J,F,Ae,y)}function ao(y,F,K,J){y[F+0]&&Ws(y,F+0,K,J),y[F+16]&&Ws(y,F+16,K,J+4),y[F+32]&&Ws(y,F+32,K,J+128),y[F+48]&&Ws(y,F+48,K,J+128+4)}function Ur(y,F,K,J){var Ae,fe=o(16);for(Ae=0;4>Ae;++Ae){var pe=y[F+0+Ae]+y[F+12+Ae],be=y[F+4+Ae]+y[F+8+Ae],je=y[F+4+Ae]-y[F+8+Ae],Te=y[F+0+Ae]-y[F+12+Ae];fe[0+Ae]=pe+be,fe[8+Ae]=pe-be,fe[4+Ae]=Te+je,fe[12+Ae]=Te-je}for(Ae=0;4>Ae;++Ae)pe=(y=fe[0+4*Ae]+3)+fe[3+4*Ae],be=fe[1+4*Ae]+fe[2+4*Ae],je=fe[1+4*Ae]-fe[2+4*Ae],Te=y-fe[3+4*Ae],K[J+0]=pe+be>>3,K[J+16]=Te+je>>3,K[J+32]=pe-be>>3,K[J+48]=Te-je>>3,J+=64}function Co(y,F,K){var J,Ae=F-32,fe=ji,pe=255-y[Ae-1];for(J=0;J<K;++J){var be,je=fe,Te=pe+y[F-1];for(be=0;be<K;++be)y[F+be]=je[Te+y[Ae+be]];F+=32}}function qi(y,F){Co(y,F,4)}function vl(y,F){Co(y,F,8)}function So(y,F){Co(y,F,16)}function io(y,F){var K;for(K=0;16>K;++K)s(y,F+32*K,y,F-32,16)}function ai(y,F){var K;for(K=16;0<K;--K)a(y,F,y[F-1],16),F+=32}function Sr(y,F,K){var J;for(J=0;16>J;++J)a(F,K+32*J,y,16)}function hn(y,F){var K,J=16;for(K=0;16>K;++K)J+=y[F-1+32*K]+y[F+K-32];Sr(J>>5,y,F)}function js(y,F){var K,J=8;for(K=0;16>K;++K)J+=y[F-1+32*K];Sr(J>>4,y,F)}function ms(y,F){var K,J=8;for(K=0;16>K;++K)J+=y[F+K-32];Sr(J>>4,y,F)}function _s(y,F){Sr(128,y,F)}function Wt(y,F,K){return y+2*F+K+2>>2}function cn(y,F){var K,J=F-32;for(J=new Uint8Array([Wt(y[J-1],y[J+0],y[J+1]),Wt(y[J+0],y[J+1],y[J+2]),Wt(y[J+1],y[J+2],y[J+3]),Wt(y[J+2],y[J+3],y[J+4])]),K=0;4>K;++K)s(y,F+32*K,J,0,J.length)}function sr(y,F){var K=y[F-1],J=y[F-1+32],Ae=y[F-1+64],fe=y[F-1+96];Ue(y,F+0,16843009*Wt(y[F-1-32],K,J)),Ue(y,F+32,16843009*Wt(K,J,Ae)),Ue(y,F+64,16843009*Wt(J,Ae,fe)),Ue(y,F+96,16843009*Wt(Ae,fe,fe))}function oa(y,F){var K,J=4;for(K=0;4>K;++K)J+=y[F+K-32]+y[F-1+32*K];for(J>>=3,K=0;4>K;++K)a(y,F+32*K,J,4)}function Rr(y,F){var K=y[F-1+0],J=y[F-1+32],Ae=y[F-1+64],fe=y[F-1-32],pe=y[F+0-32],be=y[F+1-32],je=y[F+2-32],Te=y[F+3-32];y[F+0+96]=Wt(J,Ae,y[F-1+96]),y[F+1+96]=y[F+0+64]=Wt(K,J,Ae),y[F+2+96]=y[F+1+64]=y[F+0+32]=Wt(fe,K,J),y[F+3+96]=y[F+2+64]=y[F+1+32]=y[F+0+0]=Wt(pe,fe,K),y[F+3+64]=y[F+2+32]=y[F+1+0]=Wt(be,pe,fe),y[F+3+32]=y[F+2+0]=Wt(je,be,pe),y[F+3+0]=Wt(Te,je,be)}function Nr(y,F){var K=y[F+1-32],J=y[F+2-32],Ae=y[F+3-32],fe=y[F+4-32],pe=y[F+5-32],be=y[F+6-32],je=y[F+7-32];y[F+0+0]=Wt(y[F+0-32],K,J),y[F+1+0]=y[F+0+32]=Wt(K,J,Ae),y[F+2+0]=y[F+1+32]=y[F+0+64]=Wt(J,Ae,fe),y[F+3+0]=y[F+2+32]=y[F+1+64]=y[F+0+96]=Wt(Ae,fe,pe),y[F+3+32]=y[F+2+64]=y[F+1+96]=Wt(fe,pe,be),y[F+3+64]=y[F+2+96]=Wt(pe,be,je),y[F+3+96]=Wt(be,je,je)}function la(y,F){var K=y[F-1+0],J=y[F-1+32],Ae=y[F-1+64],fe=y[F-1-32],pe=y[F+0-32],be=y[F+1-32],je=y[F+2-32],Te=y[F+3-32];y[F+0+0]=y[F+1+64]=fe+pe+1>>1,y[F+1+0]=y[F+2+64]=pe+be+1>>1,y[F+2+0]=y[F+3+64]=be+je+1>>1,y[F+3+0]=je+Te+1>>1,y[F+0+96]=Wt(Ae,J,K),y[F+0+64]=Wt(J,K,fe),y[F+0+32]=y[F+1+96]=Wt(K,fe,pe),y[F+1+32]=y[F+2+96]=Wt(fe,pe,be),y[F+2+32]=y[F+3+96]=Wt(pe,be,je),y[F+3+32]=Wt(be,je,Te)}function bs(y,F){var K=y[F+0-32],J=y[F+1-32],Ae=y[F+2-32],fe=y[F+3-32],pe=y[F+4-32],be=y[F+5-32],je=y[F+6-32],Te=y[F+7-32];y[F+0+0]=K+J+1>>1,y[F+1+0]=y[F+0+64]=J+Ae+1>>1,y[F+2+0]=y[F+1+64]=Ae+fe+1>>1,y[F+3+0]=y[F+2+64]=fe+pe+1>>1,y[F+0+32]=Wt(K,J,Ae),y[F+1+32]=y[F+0+96]=Wt(J,Ae,fe),y[F+2+32]=y[F+1+96]=Wt(Ae,fe,pe),y[F+3+32]=y[F+2+96]=Wt(fe,pe,be),y[F+3+64]=Wt(pe,be,je),y[F+3+96]=Wt(be,je,Te)}function Jr(y,F){var K=y[F-1+0],J=y[F-1+32],Ae=y[F-1+64],fe=y[F-1+96];y[F+0+0]=K+J+1>>1,y[F+2+0]=y[F+0+32]=J+Ae+1>>1,y[F+2+32]=y[F+0+64]=Ae+fe+1>>1,y[F+1+0]=Wt(K,J,Ae),y[F+3+0]=y[F+1+32]=Wt(J,Ae,fe),y[F+3+32]=y[F+1+64]=Wt(Ae,fe,fe),y[F+3+64]=y[F+2+64]=y[F+0+96]=y[F+1+96]=y[F+2+96]=y[F+3+96]=fe}function Aa(y,F){var K=y[F-1+0],J=y[F-1+32],Ae=y[F-1+64],fe=y[F-1+96],pe=y[F-1-32],be=y[F+0-32],je=y[F+1-32],Te=y[F+2-32];y[F+0+0]=y[F+2+32]=K+pe+1>>1,y[F+0+32]=y[F+2+64]=J+K+1>>1,y[F+0+64]=y[F+2+96]=Ae+J+1>>1,y[F+0+96]=fe+Ae+1>>1,y[F+3+0]=Wt(be,je,Te),y[F+2+0]=Wt(pe,be,je),y[F+1+0]=y[F+3+32]=Wt(K,pe,be),y[F+1+32]=y[F+3+64]=Wt(J,K,pe),y[F+1+64]=y[F+3+96]=Wt(Ae,J,K),y[F+1+96]=Wt(fe,Ae,J)}function qr(y,F){var K;for(K=0;8>K;++K)s(y,F+32*K,y,F-32,8)}function rl(y,F){var K;for(K=0;8>K;++K)a(y,F,y[F-1],8),F+=32}function $a(y,F,K){var J;for(J=0;8>J;++J)a(F,K+32*J,y,8)}function Zi(y,F){var K,J=8;for(K=0;8>K;++K)J+=y[F+K-32]+y[F-1+32*K];$a(J>>4,y,F)}function xi(y,F){var K,J=4;for(K=0;8>K;++K)J+=y[F+K-32];$a(J>>3,y,F)}function ca(y,F){var K,J=4;for(K=0;8>K;++K)J+=y[F-1+32*K];$a(J>>3,y,F)}function No(y,F){$a(128,y,F)}function Ya(y,F,K){var J=y[F-K],Ae=y[F+0],fe=3*(Ae-J)+Bl[1020+y[F-2*K]-y[F+K]],pe=tu[112+(fe+4>>3)];y[F-K]=ji[255+J+tu[112+(fe+3>>3)]],y[F+0]=ji[255+Ae-pe]}function xr(y,F,K,J){var Ae=y[F+0],fe=y[F+K];return Ai[255+y[F-2*K]-y[F-K]]>J||Ai[255+fe-Ae]>J}function xl(y,F,K,J){return 4*Ai[255+y[F-K]-y[F+0]]+Ai[255+y[F-2*K]-y[F+K]]<=J}function ii(y,F,K,J,Ae){var fe=y[F-3*K],pe=y[F-2*K],be=y[F-K],je=y[F+0],Te=y[F+K],Qe=y[F+2*K],qe=y[F+3*K];return 4*Ai[255+be-je]+Ai[255+pe-Te]>J?0:Ai[255+y[F-4*K]-fe]<=Ae&&Ai[255+fe-pe]<=Ae&&Ai[255+pe-be]<=Ae&&Ai[255+qe-Qe]<=Ae&&Ai[255+Qe-Te]<=Ae&&Ai[255+Te-je]<=Ae}function Eo(y,F,K,J){var Ae=2*J+1;for(J=0;16>J;++J)xl(y,F+J,K,Ae)&&Ya(y,F+J,K)}function eo(y,F,K,J){var Ae=2*J+1;for(J=0;16>J;++J)xl(y,F+J*K,1,Ae)&&Ya(y,F+J*K,1)}function Vl(y,F,K,J){var Ae;for(Ae=3;0<Ae;--Ae)Eo(y,F+=4*K,K,J)}function cA(y,F,K,J){var Ae;for(Ae=3;0<Ae;--Ae)eo(y,F+=4,K,J)}function Wa(y,F,K,J,Ae,fe,pe,be){for(fe=2*fe+1;0<Ae--;){if(ii(y,F,K,fe,pe))if(xr(y,F,K,be))Ya(y,F,K);else{var je=y,Te=F,Qe=K,qe=je[Te-2*Qe],Ne=je[Te-Qe],ke=je[Te+0],He=je[Te+Qe],ft=je[Te+2*Qe],Xe=27*(yt=Bl[1020+3*(ke-Ne)+Bl[1020+qe-He]])+63>>7,ut=18*yt+63>>7,yt=9*yt+63>>7;je[Te-3*Qe]=ji[255+je[Te-3*Qe]+yt],je[Te-2*Qe]=ji[255+qe+ut],je[Te-Qe]=ji[255+Ne+Xe],je[Te+0]=ji[255+ke-Xe],je[Te+Qe]=ji[255+He-ut],je[Te+2*Qe]=ji[255+ft-yt]}F+=J}}function Pi(y,F,K,J,Ae,fe,pe,be){for(fe=2*fe+1;0<Ae--;){if(ii(y,F,K,fe,pe))if(xr(y,F,K,be))Ya(y,F,K);else{var je=y,Te=F,Qe=K,qe=je[Te-Qe],Ne=je[Te+0],ke=je[Te+Qe],He=tu[112+(4+(ft=3*(Ne-qe))>>3)],ft=tu[112+(ft+3>>3)],Xe=He+1>>1;je[Te-2*Qe]=ji[255+je[Te-2*Qe]+Xe],je[Te-Qe]=ji[255+qe+ft],je[Te+0]=ji[255+Ne-He],je[Te+Qe]=ji[255+ke-Xe]}F+=J}}function uA(y,F,K,J,Ae,fe){Wa(y,F,K,1,16,J,Ae,fe)}function oo(y,F,K,J,Ae,fe){Wa(y,F,1,K,16,J,Ae,fe)}function ki(y,F,K,J,Ae,fe){var pe;for(pe=3;0<pe;--pe)Pi(y,F+=4*K,K,1,16,J,Ae,fe)}function k(y,F,K,J,Ae,fe){var pe;for(pe=3;0<pe;--pe)Pi(y,F+=4,1,K,16,J,Ae,fe)}function le(y,F,K,J,Ae,fe,pe,be){Wa(y,F,Ae,1,8,fe,pe,be),Wa(K,J,Ae,1,8,fe,pe,be)}function Ee(y,F,K,J,Ae,fe,pe,be){Wa(y,F,1,Ae,8,fe,pe,be),Wa(K,J,1,Ae,8,fe,pe,be)}function Re(y,F,K,J,Ae,fe,pe,be){Pi(y,F+4*Ae,Ae,1,8,fe,pe,be),Pi(K,J+4*Ae,Ae,1,8,fe,pe,be)}function ze(y,F,K,J,Ae,fe,pe,be){Pi(y,F+4,1,Ae,8,fe,pe,be),Pi(K,J+4,1,Ae,8,fe,pe,be)}function vt(){this.ba=new jt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Dt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Tt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function pn(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function wn(){this.ua=0,this.Wa=new pt,this.vb=new pt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new de,this.yc=new G}function Ln(){this.xb=this.a=0,this.l=new Cs,this.ca=new jt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new W,this.Pb=0,this.wd=new W,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new wn,this.ab=0,this.gc=c(4,pn),this.Oc=0}function _n(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Cs,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Es(y,F,K,J,Ae,fe,pe){for(y=y==null?0:y[F+0],F=0;F<pe;++F)Ae[fe+F]=y+K[J+F]&255,y=Ae[fe+F]}function Er(y,F,K,J,Ae,fe,pe){var be;if(y==null)Es(null,null,K,J,Ae,fe,pe);else for(be=0;be<pe;++be)Ae[fe+be]=y[F+be]+K[J+be]&255}function pr(y,F,K,J,Ae,fe,pe){if(y==null)Es(null,null,K,J,Ae,fe,pe);else{var be,je=y[F+0],Te=je,Qe=je;for(be=0;be<pe;++be)Te=Qe+(je=y[F+be])-Te,Qe=K[J+be]+(-256&Te?0>Te?0:255:Te)&255,Te=je,Ae[fe+be]=Qe}}function w(y,F,K,J){var Ae=F.width,fe=F.o;if(e(y!=null&&F!=null),0>K||0>=J||K+J>fe)return null;if(!y.Cc){if(y.ga==null){var pe;if(y.ga=new _n,(pe=y.ga==null)||(pe=F.width*F.o,e(y.Gb.length==0),y.Gb=o(pe),y.Uc=0,y.Gb==null?pe=0:(y.mb=y.Gb,y.nb=y.Uc,y.rc=null,pe=1),pe=!pe),!pe){pe=y.ga;var be=y.Fa,je=y.P,Te=y.qc,Qe=y.mb,qe=y.nb,Ne=je+1,ke=Te-1,He=pe.l;if(e(be!=null&&Qe!=null&&F!=null),Cl[0]=null,Cl[1]=Es,Cl[2]=Er,Cl[3]=pr,pe.ca=Qe,pe.tb=qe,pe.c=F.width,pe.i=F.height,e(0<pe.c&&0<pe.i),1>=Te)F=0;else if(pe.$a=3&be[je+0],pe.Z=be[je+0]>>2&3,pe.Lc=be[je+0]>>4&3,je=be[je+0]>>6&3,0>pe.$a||1<pe.$a||4<=pe.Z||1<pe.Lc||je)F=0;else if(He.put=ln,He.ac=Ms,He.bc=ri,He.ma=pe,He.width=F.width,He.height=F.height,He.Da=F.Da,He.v=F.v,He.va=F.va,He.j=F.j,He.o=F.o,pe.$a)e:{e(pe.$a==1),F=Qi();t:for(;;){if(F==null){F=0;break e}if(e(pe!=null),pe.mc=F,F.c=pe.c,F.i=pe.i,F.l=pe.l,F.l.ma=pe,F.l.width=pe.c,F.l.height=pe.i,F.a=0,oe(F.m,be,Ne,ke),!Kr(pe.c,pe.i,1,F,null)||(F.ab==1&&F.gc[0].hc==3&&rs(F.s)?(pe.ic=1,be=F.c*F.i,F.Ta=null,F.Ua=0,F.V=o(be),F.Ba=0,F.V==null?(F.a=1,F=0):F=1):(pe.ic=0,F=_r(F,pe.c)),!F))break t;F=1;break e}pe.mc=null,F=0}else F=ke>=pe.c*pe.i;pe=!F}if(pe)return null;y.ga.Lc!=1?y.Ga=0:J=fe-K}e(y.ga!=null),e(K+J<=fe);e:{if(F=(be=y.ga).c,fe=be.l.o,be.$a==0){if(Ne=y.rc,ke=y.Vc,He=y.Fa,je=y.P+1+K*F,Te=y.mb,Qe=y.nb+K*F,e(je<=y.P+y.qc),be.Z!=0)for(e(Cl[be.Z]!=null),pe=0;pe<J;++pe)Cl[be.Z](Ne,ke,He,je,Te,Qe,F),Ne=Te,ke=Qe,Qe+=F,je+=F;else for(pe=0;pe<J;++pe)s(Te,Qe,He,je,F),Ne=Te,ke=Qe,Qe+=F,je+=F;y.rc=Ne,y.Vc=ke}else{if(e(be.mc!=null),F=K+J,e((pe=be.mc)!=null),e(F<=pe.i),pe.C>=F)F=1;else if(be.ic||nt(),be.ic){be=pe.V,Ne=pe.Ba,ke=pe.c;var ft=pe.i,Xe=(He=1,je=pe.$/ke,Te=pe.$%ke,Qe=pe.m,qe=pe.s,pe.$),ut=ke*ft,yt=ke*F,Lt=qe.wc,Bt=Xe<yt?Cr(qe,Te,je):null;e(Xe<=ut),e(F<=ft),e(rs(qe));t:for(;;){for(;!Qe.h&&Xe<yt;){if(Te&Lt||(Bt=Cr(qe,Te,je)),e(Bt!=null),ge(Qe),256>(ft=dn(Bt.G[0],Bt.H[0],Qe)))be[Ne+Xe]=ft,++Xe,++Te>=ke&&(Te=0,++je<=F&&!(je%16)&&Rs(pe,je));else{if(!(280>ft)){He=0;break t}ft=Ca(ft-256,Qe);var jn,fn=dn(Bt.G[4],Bt.H[4],Qe);if(ge(Qe),!(Xe>=(fn=Xr(ke,fn=Ca(fn,Qe)))&&ut-Xe>=ft)){He=0;break t}for(jn=0;jn<ft;++jn)be[Ne+Xe+jn]=be[Ne+Xe+jn-fn];for(Xe+=ft,Te+=ft;Te>=ke;)Te-=ke,++je<=F&&!(je%16)&&Rs(pe,je);Xe<yt&&Te&Lt&&(Bt=Cr(qe,Te,je))}e(Qe.h==ue(Qe))}Rs(pe,je>F?F:je);break t}!He||Qe.h&&Xe<ut?(He=0,pe.a=Qe.h?5:3):pe.$=Xe,F=He}else F=fr(pe,pe.V,pe.Ba,pe.c,pe.i,F,vi);if(!F){J=0;break e}}K+J>=fe&&(y.Cc=1),J=1}if(!J)return null;if(y.Cc&&((J=y.ga)!=null&&(J.mc=null),y.ga=null,0<y.Ga))return alert("todo:WebPDequantizeLevels"),null}return y.nb+K*Ae}function Y(y,F,K,J,Ae,fe){for(;0<Ae--;){var pe,be=y,je=F+(K?1:0),Te=y,Qe=F+(K?0:3);for(pe=0;pe<J;++pe){var qe=Te[Qe+4*pe];qe!=255&&(qe*=32897,be[je+4*pe+0]=be[je+4*pe+0]*qe>>23,be[je+4*pe+1]=be[je+4*pe+1]*qe>>23,be[je+4*pe+2]=be[je+4*pe+2]*qe>>23)}F+=fe}}function re(y,F,K,J,Ae){for(;0<J--;){var fe;for(fe=0;fe<K;++fe){var pe=y[F+2*fe+0],be=15&(Te=y[F+2*fe+1]),je=4369*be,Te=(240&Te|Te>>4)*je>>16;y[F+2*fe+0]=(240&pe|pe>>4)*je>>16&240|(15&pe|pe<<4)*je>>16>>4&15,y[F+2*fe+1]=240&Te|be}F+=Ae}}function we(y,F,K,J,Ae,fe,pe,be){var je,Te,Qe=255;for(Te=0;Te<Ae;++Te){for(je=0;je<J;++je){var qe=y[F+je];fe[pe+4*je]=qe,Qe&=qe}F+=K,pe+=be}return Qe!=255}function Ye(y,F,K,J,Ae){var fe;for(fe=0;fe<Ae;++fe)K[J+fe]=y[F+fe]>>8}function nt(){hA=Y,Ao=re,mc=we,co=Ye}function Mt(y,F,K){O[y]=function(J,Ae,fe,pe,be,je,Te,Qe,qe,Ne,ke,He,ft,Xe,ut,yt,Lt){var Bt,jn=Lt-1>>1,fn=be[je+0]|Te[Qe+0]<<16,qn=qe[Ne+0]|ke[He+0]<<16;e(J!=null);var xn=3*fn+qn+131074>>2;for(F(J[Ae+0],255&xn,xn>>16,ft,Xe),fe!=null&&(xn=3*qn+fn+131074>>2,F(fe[pe+0],255&xn,xn>>16,ut,yt)),Bt=1;Bt<=jn;++Bt){var Ts=be[je+Bt]|Te[Qe+Bt]<<16,Qr=qe[Ne+Bt]|ke[He+Bt]<<16,os=fn+Ts+qn+Qr+524296,at=os+2*(Ts+qn)>>3;xn=at+fn>>1,fn=(os=os+2*(fn+Qr)>>3)+Ts>>1,F(J[Ae+2*Bt-1],255&xn,xn>>16,ft,Xe+(2*Bt-1)*K),F(J[Ae+2*Bt-0],255&fn,fn>>16,ft,Xe+(2*Bt-0)*K),fe!=null&&(xn=os+qn>>1,fn=at+Qr>>1,F(fe[pe+2*Bt-1],255&xn,xn>>16,ut,yt+(2*Bt-1)*K),F(fe[pe+2*Bt+0],255&fn,fn>>16,ut,yt+(2*Bt+0)*K)),fn=Ts,qn=Qr}1&Lt||(xn=3*fn+qn+131074>>2,F(J[Ae+Lt-1],255&xn,xn>>16,ft,Xe+(Lt-1)*K),fe!=null&&(xn=3*qn+fn+131074>>2,F(fe[pe+Lt-1],255&xn,xn>>16,ut,yt+(Lt-1)*K)))}}function Jn(){ui[Pu]=zA,ui[Bi]=Yl,ui[Gl]=ru,ui[Uo]=Vu,ui[nu]=vA,ui[$l]=Sl,ui[fA]=xA,ui[su]=Yl,ui[ku]=Vu,ui[pc]=vA,ui[VA]=Sl}function Tr(y){return y&-16384?0>y?0:255:y>>Ku}function ps(y,F){return Tr((19077*y>>8)+(26149*F>>8)-14234)}function er(y,F,K){return Tr((19077*y>>8)-(6419*F>>8)-(13320*K>>8)+8708)}function ka(y,F){return Tr((19077*y>>8)+(33050*F>>8)-17685)}function ga(y,F,K,J,Ae){J[Ae+0]=ps(y,K),J[Ae+1]=er(y,F,K),J[Ae+2]=ka(y,F)}function $s(y,F,K,J,Ae){J[Ae+0]=ka(y,F),J[Ae+1]=er(y,F,K),J[Ae+2]=ps(y,K)}function ns(y,F,K,J,Ae){var fe=er(y,F,K);F=fe<<3&224|ka(y,F)>>3,J[Ae+0]=248&ps(y,K)|fe>>5,J[Ae+1]=F}function lo(y,F,K,J,Ae){var fe=240&ka(y,F)|15;J[Ae+0]=240&ps(y,K)|er(y,F,K)>>4,J[Ae+1]=fe}function To(y,F,K,J,Ae){J[Ae+0]=255,ga(y,F,K,J,Ae+1)}function al(y,F,K,J,Ae){$s(y,F,K,J,Ae),J[Ae+3]=255}function Na(y,F,K,J,Ae){ga(y,F,K,J,Ae),J[Ae+3]=255}function Xa(y,F,K){O[y]=function(J,Ae,fe,pe,be,je,Te,Qe,qe){for(var Ne=Qe+(-2&qe)*K;Qe!=Ne;)F(J[Ae+0],fe[pe+0],be[je+0],Te,Qe),F(J[Ae+1],fe[pe+0],be[je+0],Te,Qe+K),Ae+=2,++pe,++je,Qe+=2*K;1&qe&&F(J[Ae+0],fe[pe+0],be[je+0],Te,Qe)}}function fc(y,F,K){return K==0?y==0?F==0?6:5:F==0?4:0:K}function Io(y,F,K,J,Ae){switch(y>>>30){case 3:zl(F,K,J,Ae,0);break;case 2:wi(F,K,J,Ae);break;case 1:Ws(F,K,J,Ae)}}function Ys(y,F){var K,J,Ae=F.M,fe=F.Nb,pe=y.oc,be=y.pc+40,je=y.oc,Te=y.pc+584,Qe=y.oc,qe=y.pc+600;for(K=0;16>K;++K)pe[be+32*K-1]=129;for(K=0;8>K;++K)je[Te+32*K-1]=129,Qe[qe+32*K-1]=129;for(0<Ae?pe[be-1-32]=je[Te-1-32]=Qe[qe-1-32]=129:(a(pe,be-32-1,127,21),a(je,Te-32-1,127,9),a(Qe,qe-32-1,127,9)),J=0;J<y.za;++J){var Ne=F.ya[F.aa+J];if(0<J){for(K=-1;16>K;++K)s(pe,be+32*K-4,pe,be+32*K+12,4);for(K=-1;8>K;++K)s(je,Te+32*K-4,je,Te+32*K+4,4),s(Qe,qe+32*K-4,Qe,qe+32*K+4,4)}var ke=y.Gd,He=y.Hd+J,ft=Ne.ad,Xe=Ne.Hc;if(0<Ae&&(s(pe,be-32,ke[He].y,0,16),s(je,Te-32,ke[He].f,0,8),s(Qe,qe-32,ke[He].ea,0,8)),Ne.Za){var ut=pe,yt=be-32+16;for(0<Ae&&(J>=y.za-1?a(ut,yt,ke[He].y[15],4):s(ut,yt,ke[He+1].y,0,4)),K=0;4>K;K++)ut[yt+128+K]=ut[yt+256+K]=ut[yt+384+K]=ut[yt+0+K];for(K=0;16>K;++K,Xe<<=2)ut=pe,yt=be+xa[K],da[Ne.Ob[K]](ut,yt),Io(Xe,ft,16*+K,ut,yt)}else if(ut=fc(J,Ae,Ne.Ob[0]),Ki[ut](pe,be),Xe!=0)for(K=0;16>K;++K,Xe<<=2)Io(Xe,ft,16*+K,pe,be+xa[K]);for(K=Ne.Gc,ut=fc(J,Ae,Ne.Dd),to[ut](je,Te),to[ut](Qe,qe),Xe=ft,ut=je,yt=Te,255&(Ne=0|K)&&(170&Ne?Hi(Xe,256,ut,yt):Vs(Xe,256,ut,yt)),Ne=Qe,Xe=qe,255&(K>>=8)&&(170&K?Hi(ft,320,Ne,Xe):Vs(ft,320,Ne,Xe)),Ae<y.Ub-1&&(s(ke[He].y,0,pe,be+480,16),s(ke[He].f,0,je,Te+224,8),s(ke[He].ea,0,Qe,qe+224,8)),K=8*fe*y.B,ke=y.sa,He=y.ta+16*J+16*fe*y.R,ft=y.qa,Ne=y.ra+8*J+K,Xe=y.Ha,ut=y.Ia+8*J+K,K=0;16>K;++K)s(ke,He+K*y.R,pe,be+32*K,16);for(K=0;8>K;++K)s(ft,Ne+K*y.B,je,Te+32*K,8),s(Xe,ut+K*y.B,Qe,qe+32*K,8)}}function _o(y,F,K,J,Ae,fe,pe,be,je){var Te=[0],Qe=[0],qe=0,Ne=je!=null?je.kd:0,ke=je??new Tt;if(y==null||12>K)return 7;ke.data=y,ke.w=F,ke.ha=K,F=[F],K=[K],ke.gb=[ke.gb];e:{var He=F,ft=K,Xe=ke.gb;if(e(y!=null),e(ft!=null),e(Xe!=null),Xe[0]=0,12<=ft[0]&&!t(y,He[0],"RIFF")){if(t(y,He[0]+8,"WEBP")){Xe=3;break e}var ut=Le(y,He[0]+4);if(12>ut||4294967286<ut){Xe=3;break e}if(Ne&&ut>ft[0]-8){Xe=7;break e}Xe[0]=ut,He[0]+=12,ft[0]-=12}Xe=0}if(Xe!=0)return Xe;for(ut=0<ke.gb[0],K=K[0];;){e:{var yt=y;ft=F,Xe=K;var Lt=Te,Bt=Qe,jn=He=[0];if((xn=qe=[qe])[0]=0,8>Xe[0])Xe=7;else{if(!t(yt,ft[0],"VP8X")){if(Le(yt,ft[0]+4)!=10){Xe=3;break e}if(18>Xe[0]){Xe=7;break e}var fn=Le(yt,ft[0]+8),qn=1+rt(yt,ft[0]+12);if(2147483648<=qn*(yt=1+rt(yt,ft[0]+15))){Xe=3;break e}jn!=null&&(jn[0]=fn),Lt!=null&&(Lt[0]=qn),Bt!=null&&(Bt[0]=yt),ft[0]+=18,Xe[0]-=18,xn[0]=1}Xe=0}}if(qe=qe[0],He=He[0],Xe!=0)return Xe;if(ft=!!(2&He),!ut&&qe)return 3;if(fe!=null&&(fe[0]=!!(16&He)),pe!=null&&(pe[0]=ft),be!=null&&(be[0]=0),pe=Te[0],He=Qe[0],qe&&ft&&je==null){Xe=0;break}if(4>K){Xe=7;break}if(ut&&qe||!ut&&!qe&&!t(y,F[0],"ALPH")){K=[K],ke.na=[ke.na],ke.P=[ke.P],ke.Sa=[ke.Sa];e:{fn=y,Xe=F,ut=K;var xn=ke.gb;Lt=ke.na,Bt=ke.P,jn=ke.Sa,qn=22,e(fn!=null),e(ut!=null),yt=Xe[0];var Ts=ut[0];for(e(Lt!=null),e(jn!=null),Lt[0]=null,Bt[0]=null,jn[0]=0;;){if(Xe[0]=yt,ut[0]=Ts,8>Ts){Xe=7;break e}var Qr=Le(fn,yt+4);if(4294967286<Qr){Xe=3;break e}var os=8+Qr+1&-2;if(qn+=os,0<xn&&qn>xn){Xe=3;break e}if(!t(fn,yt,"VP8 ")||!t(fn,yt,"VP8L")){Xe=0;break e}if(Ts[0]<os){Xe=7;break e}t(fn,yt,"ALPH")||(Lt[0]=fn,Bt[0]=yt+8,jn[0]=Qr),yt+=os,Ts-=os}}if(K=K[0],ke.na=ke.na[0],ke.P=ke.P[0],ke.Sa=ke.Sa[0],Xe!=0)break}K=[K],ke.Ja=[ke.Ja],ke.xa=[ke.xa];e:if(xn=y,Xe=F,ut=K,Lt=ke.gb[0],Bt=ke.Ja,jn=ke.xa,fn=Xe[0],yt=!t(xn,fn,"VP8 "),qn=!t(xn,fn,"VP8L"),e(xn!=null),e(ut!=null),e(Bt!=null),e(jn!=null),8>ut[0])Xe=7;else{if(yt||qn){if(xn=Le(xn,fn+4),12<=Lt&&xn>Lt-12){Xe=3;break e}if(Ne&&xn>ut[0]-8){Xe=7;break e}Bt[0]=xn,Xe[0]+=8,ut[0]-=8,jn[0]=qn}else jn[0]=5<=ut[0]&&xn[fn+0]==47&&!(xn[fn+4]>>5),Bt[0]=ut[0];Xe=0}if(K=K[0],ke.Ja=ke.Ja[0],ke.xa=ke.xa[0],F=F[0],Xe!=0)break;if(4294967286<ke.Ja)return 3;if(be==null||ft||(be[0]=ke.xa?2:1),pe=[pe],He=[He],ke.xa){if(5>K){Xe=7;break}be=pe,Ne=He,ft=fe,y==null||5>K?y=0:5<=K&&y[F+0]==47&&!(y[F+4]>>5)?(ut=[0],xn=[0],Lt=[0],oe(Bt=new W,y,F,K),Ga(Bt,ut,xn,Lt)?(be!=null&&(be[0]=ut[0]),Ne!=null&&(Ne[0]=xn[0]),ft!=null&&(ft[0]=Lt[0]),y=1):y=0):y=0}else{if(10>K){Xe=7;break}be=He,y==null||10>K||!mr(y,F+3,K-3)?y=0:(Ne=y[F+0]|y[F+1]<<8|y[F+2]<<16,ft=16383&(y[F+7]<<8|y[F+6]),y=16383&(y[F+9]<<8|y[F+8]),1&Ne||3<(Ne>>1&7)||!(Ne>>4&1)||Ne>>5>=ke.Ja||!ft||!y?y=0:(pe&&(pe[0]=ft),be&&(be[0]=y),y=1))}if(!y||(pe=pe[0],He=He[0],qe&&(Te[0]!=pe||Qe[0]!=He)))return 3;je!=null&&(je[0]=ke,je.offset=F-je.w,e(4294967286>F-je.w),e(je.offset==je.ha-K));break}return Xe==0||Xe==7&&qe&&je==null?(fe!=null&&(fe[0]|=ke.na!=null&&0<ke.na.length),J!=null&&(J[0]=pe),Ae!=null&&(Ae[0]=He),0):Xe}function Dr(y,F,K){var J=F.width,Ae=F.height,fe=0,pe=0,be=J,je=Ae;if(F.Da=y!=null&&0<y.Da,F.Da&&(be=y.cd,je=y.bd,fe=y.v,pe=y.j,11>K||(fe&=-2,pe&=-2),0>fe||0>pe||0>=be||0>=je||fe+be>J||pe+je>Ae))return 0;if(F.v=fe,F.j=pe,F.va=fe+be,F.o=pe+je,F.U=be,F.T=je,F.da=y!=null&&0<y.da,F.da){if(!dt(be,je,K=[y.ib],fe=[y.hb]))return 0;F.ib=K[0],F.hb=fe[0]}return F.ob=y!=null&&y.ob,F.Kb=y==null||!y.Sd,F.da&&(F.ob=F.ib<3*J/4&&F.hb<3*Ae/4,F.Kb=0),1}function QA(y){if(y==null)return 2;if(11>y.S){var F=y.f.RGBA;F.fb+=(y.height-1)*F.A,F.A=-F.A}else F=y.f.kb,y=y.height,F.O+=(y-1)*F.fa,F.fa=-F.fa,F.N+=(y-1>>1)*F.Ab,F.Ab=-F.Ab,F.W+=(y-1>>1)*F.Db,F.Db=-F.Db,F.F!=null&&(F.J+=(y-1)*F.lb,F.lb=-F.lb);return 0}function Ja(y,F,K,J){if(J==null||0>=y||0>=F)return 2;if(K!=null){if(K.Da){var Ae=K.cd,fe=K.bd,pe=-2&K.v,be=-2&K.j;if(0>pe||0>be||0>=Ae||0>=fe||pe+Ae>y||be+fe>F)return 2;y=Ae,F=fe}if(K.da){if(!dt(y,F,Ae=[K.ib],fe=[K.hb]))return 2;y=Ae[0],F=fe[0]}}J.width=y,J.height=F;e:{var je=J.width,Te=J.height;if(y=J.S,0>=je||0>=Te||!(y>=Pu&&13>y))y=2;else{if(0>=J.Rd&&J.sd==null){pe=fe=Ae=F=0;var Qe=(be=je*Gu[y])*Te;if(11>y||(fe=(Te+1)/2*(F=(je+1)/2),y==12&&(pe=(Ae=je)*Te)),(Te=o(Qe+2*fe+pe))==null){y=1;break e}J.sd=Te,11>y?((je=J.f.RGBA).eb=Te,je.fb=0,je.A=be,je.size=Qe):((je=J.f.kb).y=Te,je.O=0,je.fa=be,je.Fd=Qe,je.f=Te,je.N=0+Qe,je.Ab=F,je.Cd=fe,je.ea=Te,je.W=0+Qe+fe,je.Db=F,je.Ed=fe,y==12&&(je.F=Te,je.J=0+Qe+2*fe),je.Tc=pe,je.lb=Ae)}if(F=1,Ae=J.S,fe=J.width,pe=J.height,Ae>=Pu&&13>Ae)if(11>Ae)y=J.f.RGBA,F&=(be=Math.abs(y.A))*(pe-1)+fe<=y.size,F&=be>=fe*Gu[Ae],F&=y.eb!=null;else{y=J.f.kb,be=(fe+1)/2,Qe=(pe+1)/2,je=Math.abs(y.fa),Te=Math.abs(y.Ab);var qe=Math.abs(y.Db),Ne=Math.abs(y.lb),ke=Ne*(pe-1)+fe;F&=je*(pe-1)+fe<=y.Fd,F&=Te*(Qe-1)+be<=y.Cd,F=(F&=qe*(Qe-1)+be<=y.Ed)&je>=fe&Te>=be&qe>=be,F&=y.y!=null,F&=y.f!=null,F&=y.ea!=null,Ae==12&&(F&=Ne>=fe,F&=ke<=y.Tc,F&=y.F!=null)}else F=0;y=F?0:2}}return y!=0||K!=null&&K.fd&&(y=QA(J)),y}var Fo=64,ws=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],yi=24,il=32,ol=8,yl=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Rt("Predictor0","PredictorAdd0"),O.Predictor0=function(){return 4278190080},O.Predictor1=function(y){return y},O.Predictor2=function(y,F,K){return F[K+0]},O.Predictor3=function(y,F,K){return F[K+1]},O.Predictor4=function(y,F,K){return F[K-1]},O.Predictor5=function(y,F,K){return $t($t(y,F[K+1]),F[K+0])},O.Predictor6=function(y,F,K){return $t(y,F[K-1])},O.Predictor7=function(y,F,K){return $t(y,F[K+0])},O.Predictor8=function(y,F,K){return $t(F[K-1],F[K+0])},O.Predictor9=function(y,F,K){return $t(F[K+0],F[K+1])},O.Predictor10=function(y,F,K){return $t($t(y,F[K-1]),$t(F[K+0],F[K+1]))},O.Predictor11=function(y,F,K){var J=F[K+0];return 0>=Ge(J>>24&255,y>>24&255,(F=F[K-1])>>24&255)+Ge(J>>16&255,y>>16&255,F>>16&255)+Ge(J>>8&255,y>>8&255,F>>8&255)+Ge(255&J,255&y,255&F)?J:y},O.Predictor12=function(y,F,K){var J=F[K+0];return(Jt((y>>24&255)+(J>>24&255)-((F=F[K-1])>>24&255))<<24|Jt((y>>16&255)+(J>>16&255)-(F>>16&255))<<16|Jt((y>>8&255)+(J>>8&255)-(F>>8&255))<<8|Jt((255&y)+(255&J)-(255&F)))>>>0},O.Predictor13=function(y,F,K){var J=F[K-1];return(sn((y=$t(y,F[K+0]))>>24&255,J>>24&255)<<24|sn(y>>16&255,J>>16&255)<<16|sn(y>>8&255,J>>8&255)<<8|sn(255&y,255&J))>>>0};var Kl=O.PredictorAdd0;O.PredictorAdd1=Ht,Rt("Predictor2","PredictorAdd2"),Rt("Predictor3","PredictorAdd3"),Rt("Predictor4","PredictorAdd4"),Rt("Predictor5","PredictorAdd5"),Rt("Predictor6","PredictorAdd6"),Rt("Predictor7","PredictorAdd7"),Rt("Predictor8","PredictorAdd8"),Rt("Predictor9","PredictorAdd9"),Rt("Predictor10","PredictorAdd10"),Rt("Predictor11","PredictorAdd11"),Rt("Predictor12","PredictorAdd12"),Rt("Predictor13","PredictorAdd13");var OA=O.PredictorAdd2;_t("ColorIndexInverseTransform","MapARGB","32b",function(y){return y>>8&255},function(y){return y}),_t("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(y){return y},function(y){return y>>8&255});var ua,Mi=O.ColorIndexInverseTransform,oi=O.MapARGB,li=O.VP8LColorIndexInverseTransformAlpha,Ls=O.MapAlpha,bi=O.VP8LPredictorsAdd=[];bi.length=16,(O.VP8LPredictors=[]).length=16,(O.VP8LPredictorsAdd_C=[]).length=16,(O.VP8LPredictors_C=[]).length=16;var PA,kA,ll,bl,wl,Al,va,zl,wi,Hi,Ws,Vs,Ir,tr,cl,ul,MA,dA,eh,th,nh,sh,Du,Lu,hA,Ao,mc,co,jl=o(511),Qu=o(2041),eu=o(225),HA=o(767),Ou=0,Bl=Qu,tu=eu,ji=HA,Ai=jl,Pu=0,Bi=1,Gl=2,Uo=3,nu=4,$l=5,fA=6,su=7,ku=8,pc=9,VA=10,Ro=[2,3,7],gc=[3,3,11],KA=[280,256,256,256,40],Mu=[0,1,1,1,0],mA=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Do=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Lo=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],pA=8,Qo=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Vi=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],uo=null,cf=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],rh=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Hu=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],uf=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],ci=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Lr=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Fs=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ki=[],da=[],to=[],gA=1,ah=2,Cl=[],ui=[];Mt("UpsampleRgbLinePair",ga,3),Mt("UpsampleBgrLinePair",$s,3),Mt("UpsampleRgbaLinePair",Na,4),Mt("UpsampleBgraLinePair",al,4),Mt("UpsampleArgbLinePair",To,4),Mt("UpsampleRgba4444LinePair",lo,2),Mt("UpsampleRgb565LinePair",ns,2);var zA=O.UpsampleRgbLinePair,ru=O.UpsampleBgrLinePair,Yl=O.UpsampleRgbaLinePair,Vu=O.UpsampleBgraLinePair,vA=O.UpsampleArgbLinePair,Sl=O.UpsampleRgba4444LinePair,xA=O.UpsampleRgb565LinePair,Oo=16,vc=1<<Oo-1,Nl=-227,yA=482,Ku=6,bA=0,di=o(256),zu=o(256),df=o(256),Tm=o(256),Im=o(yA-Nl),_m=o(yA-Nl);Xa("YuvToRgbRow",ga,3),Xa("YuvToBgrRow",$s,3),Xa("YuvToRgbaRow",Na,4),Xa("YuvToBgraRow",al,4),Xa("YuvToArgbRow",To,4),Xa("YuvToRgba4444Row",lo,2),Xa("YuvToRgb565Row",ns,2);var xa=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],xc=[0,2,8],au=[8,7,6,4,4,2,2,2,1,1,1,1],yc=1;this.WebPDecodeRGBA=function(y,F,K,J,Ae){var fe=Bi,pe=new vt,be=new jt;pe.ba=be,be.S=fe,be.width=[be.width],be.height=[be.height];var je=be.width,Te=be.height,Qe=new ct;if(Qe==null||y==null)var qe=2;else e(Qe!=null),qe=_o(y,F,K,Qe.width,Qe.height,Qe.Pd,Qe.Qd,Qe.format,null);if(qe!=0?je=0:(je!=null&&(je[0]=Qe.width[0]),Te!=null&&(Te[0]=Qe.height[0]),je=1),je){be.width=be.width[0],be.height=be.height[0],J!=null&&(J[0]=be.width),Ae!=null&&(Ae[0]=be.height);e:{if(J=new Cs,(Ae=new Tt).data=y,Ae.w=F,Ae.ha=K,Ae.kd=1,F=[0],e(Ae!=null),((y=_o(Ae.data,Ae.w,Ae.ha,null,null,null,F,null,Ae))==0||y==7)&&F[0]&&(y=4),(F=y)==0){if(e(pe!=null),J.data=Ae.data,J.w=Ae.w+Ae.offset,J.ha=Ae.ha-Ae.offset,J.put=ln,J.ac=Ms,J.bc=ri,J.ma=pe,Ae.xa){if((y=Qi())==null){pe=1;break e}if((function(Ne,ke){var He=[0],ft=[0],Xe=[0];t:for(;;){if(Ne==null)return 0;if(ke==null)return Ne.a=2,0;if(Ne.l=ke,Ne.a=0,oe(Ne.m,ke.data,ke.w,ke.ha),!Ga(Ne.m,He,ft,Xe)){Ne.a=3;break t}if(Ne.xb=ah,ke.width=He[0],ke.height=ft[0],!Kr(He[0],ft[0],1,Ne,null))break t;return 1}return e(Ne.a!=0),0})(y,J)){if(J=(F=Ja(J.width,J.height,pe.Oa,pe.ba))==0){t:{J=y;n:for(;;){if(J==null){J=0;break t}if(e(J.s.yc!=null),e(J.s.Ya!=null),e(0<J.s.Wb),e((K=J.l)!=null),e((Ae=K.ma)!=null),J.xb!=0){if(J.ca=Ae.ba,J.tb=Ae.tb,e(J.ca!=null),!Dr(Ae.Oa,K,Uo)){J.a=2;break n}if(!_r(J,K.width)||K.da)break n;if((K.da||St(J.ca.S))&&nt(),11>J.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),J.ca.f.kb.F!=null&&nt()),J.Pb&&0<J.s.ua&&J.s.vb.X==null&&!me(J.s.vb,J.s.Wa.Xa)){J.a=1;break n}J.xb=0}if(!fr(J,J.V,J.Ba,J.c,J.i,K.o,cs))break n;Ae.Dc=J.Ma,J=1;break t}e(J.a!=0),J=0}J=!J}J&&(F=y.a)}else F=y.a}else{if((y=new is)==null){pe=1;break e}if(y.Fa=Ae.na,y.P=Ae.P,y.qc=Ae.Sa,Ds(y,J)){if((F=Ja(J.width,J.height,pe.Oa,pe.ba))==0){if(y.Aa=0,K=pe.Oa,e((Ae=y)!=null),K!=null){if(0<(je=0>(je=K.Md)?0:100<je?255:255*je/100)){for(Te=Qe=0;4>Te;++Te)12>(qe=Ae.pb[Te]).lc&&(qe.ia=je*au[0>qe.lc?0:qe.lc]>>3),Qe|=qe.ia;Qe&&(alert("todo:VP8InitRandom"),Ae.ia=1)}Ae.Ga=K.Id,100<Ae.Ga?Ae.Ga=100:0>Ae.Ga&&(Ae.Ga=0)}(function(Ne,ke){if(Ne==null)return 0;if(ke==null)return Vn(Ne,2,"NULL VP8Io parameter in VP8Decode().");if(!Ne.cb&&!Ds(Ne,ke))return 0;if(e(Ne.cb),ke.ac==null||ke.ac(ke)){ke.ob&&(Ne.L=0);var He=xc[Ne.L];if(Ne.L==2?(Ne.yb=0,Ne.zb=0):(Ne.yb=ke.v-He>>4,Ne.zb=ke.j-He>>4,0>Ne.yb&&(Ne.yb=0),0>Ne.zb&&(Ne.zb=0)),Ne.Va=ke.o+15+He>>4,Ne.Hb=ke.va+15+He>>4,Ne.Hb>Ne.za&&(Ne.Hb=Ne.za),Ne.Va>Ne.Ub&&(Ne.Va=Ne.Ub),0<Ne.L){var ft=Ne.ed;for(He=0;4>He;++He){var Xe;if(Ne.Qa.Cb){var ut=Ne.Qa.Lb[He];Ne.Qa.Fb||(ut+=ft.Tb)}else ut=ft.Tb;for(Xe=0;1>=Xe;++Xe){var yt=Ne.gd[He][Xe],Lt=ut;if(ft.Pc&&(Lt+=ft.vd[0],Xe&&(Lt+=ft.od[0])),0<(Lt=0>Lt?0:63<Lt?63:Lt)){var Bt=Lt;0<ft.wb&&(Bt=4<ft.wb?Bt>>2:Bt>>1)>9-ft.wb&&(Bt=9-ft.wb),1>Bt&&(Bt=1),yt.dd=Bt,yt.tc=2*Lt+Bt,yt.ld=40<=Lt?2:15<=Lt?1:0}else yt.tc=0;yt.La=Xe}}}He=0}else Vn(Ne,6,"Frame setup failed"),He=Ne.a;if(He=He==0){if(He){Ne.$c=0,0<Ne.Aa||(Ne.Ic=yc);t:{He=Ne.Ic,ft=4*(Bt=Ne.za);var jn=32*Bt,fn=Bt+1,qn=0<Ne.L?Bt*(0<Ne.Aa?2:1):0,xn=(Ne.Aa==2?2:1)*Bt;if((yt=ft+832+(Xe=3*(16*He+xc[Ne.L])/2*jn)+(ut=Ne.Fa!=null&&0<Ne.Fa.length?Ne.Kc.c*Ne.Kc.i:0))!=yt)He=0;else{if(yt>Ne.Vb){if(Ne.Vb=0,Ne.Ec=o(yt),Ne.Fc=0,Ne.Ec==null){He=Vn(Ne,1,"no memory during frame initialization.");break t}Ne.Vb=yt}yt=Ne.Ec,Lt=Ne.Fc,Ne.Ac=yt,Ne.Bc=Lt,Lt+=ft,Ne.Gd=c(jn,Gs),Ne.Hd=0,Ne.rb=c(fn+1,vn),Ne.sb=1,Ne.wa=qn?c(qn,En):null,Ne.Y=0,Ne.D.Nb=0,Ne.D.wa=Ne.wa,Ne.D.Y=Ne.Y,0<Ne.Aa&&(Ne.D.Y+=Bt),e(!0),Ne.oc=yt,Ne.pc=Lt,Lt+=832,Ne.ya=c(xn,as),Ne.aa=0,Ne.D.ya=Ne.ya,Ne.D.aa=Ne.aa,Ne.Aa==2&&(Ne.D.aa+=Bt),Ne.R=16*Bt,Ne.B=8*Bt,Bt=(jn=xc[Ne.L])*Ne.R,jn=jn/2*Ne.B,Ne.sa=yt,Ne.ta=Lt+Bt,Ne.qa=Ne.sa,Ne.ra=Ne.ta+16*He*Ne.R+jn,Ne.Ha=Ne.qa,Ne.Ia=Ne.ra+8*He*Ne.B+jn,Ne.$c=0,Lt+=Xe,Ne.mb=ut?yt:null,Ne.nb=ut?Lt:null,e(Lt+ut<=Ne.Fc+Ne.Vb),Oi(Ne),a(Ne.Ac,Ne.Bc,0,ft),He=1}}if(He){if(ke.ka=0,ke.y=Ne.sa,ke.O=Ne.ta,ke.f=Ne.qa,ke.N=Ne.ra,ke.ea=Ne.Ha,ke.Vd=Ne.Ia,ke.fa=Ne.R,ke.Rc=Ne.B,ke.F=null,ke.J=0,!Ou){for(He=-255;255>=He;++He)jl[255+He]=0>He?-He:He;for(He=-1020;1020>=He;++He)Qu[1020+He]=-128>He?-128:127<He?127:He;for(He=-112;112>=He;++He)eu[112+He]=-16>He?-16:15<He?15:He;for(He=-255;510>=He;++He)HA[255+He]=0>He?0:255<He?255:He;Ou=1}va=Ur,zl=Ml,Hi=Pa,Ws=Hl,Vs=ao,wi=AA,Ir=uA,tr=oo,cl=le,ul=Ee,MA=ki,dA=k,eh=Re,th=ze,nh=Eo,sh=eo,Du=Vl,Lu=cA,da[0]=oa,da[1]=qi,da[2]=cn,da[3]=sr,da[4]=Rr,da[5]=la,da[6]=Nr,da[7]=bs,da[8]=Aa,da[9]=Jr,Ki[0]=hn,Ki[1]=So,Ki[2]=io,Ki[3]=ai,Ki[4]=js,Ki[5]=ms,Ki[6]=_s,to[0]=Zi,to[1]=vl,to[2]=qr,to[3]=rl,to[4]=ca,to[5]=xi,to[6]=No,He=1}else He=0}He&&(He=(function(Ts,Qr){for(Ts.M=0;Ts.M<Ts.Va;++Ts.M){var os,at=Ts.Jc[Ts.M&Ts.Xb],Xt=Ts.m,Zr=Ts;for(os=0;os<Zr.za;++os){var kn=Xt,zn=Zr,cr=zn.Ac,Ea=zn.Bc+4*os,ya=zn.zc,ur=zn.ya[zn.aa+os];if(zn.Qa.Bb?ur.$b=Ie(kn,zn.Pa.jb[0])?2+Ie(kn,zn.Pa.jb[2]):Ie(kn,zn.Pa.jb[1]):ur.$b=0,zn.kc&&(ur.Ad=Ie(kn,zn.Bd)),ur.Za=!Ie(kn,145)+0,ur.Za){var Ta=ur.Ob,Ci=0;for(zn=0;4>zn;++zn){var Ia,ss=ya[0+zn];for(Ia=0;4>Ia;++Ia){ss=ci[cr[Ea+Ia]][ss];for(var Qs=Hu[Ie(kn,ss[0])];0<Qs;)Qs=Hu[2*Qs+Ie(kn,ss[Qs])];ss=-Qs,cr[Ea+Ia]=ss}s(Ta,Ci,cr,Ea,4),Ci+=4,ya[0+zn]=ss}}else ss=Ie(kn,156)?Ie(kn,128)?1:3:Ie(kn,163)?2:0,ur.Ob[0]=ss,a(cr,Ea,ss,4),a(ya,0,ss,4);ur.Dd=Ie(kn,142)?Ie(kn,114)?Ie(kn,183)?1:3:2:0}if(Zr.m.Ka)return Vn(Ts,7,"Premature end-of-partition0 encountered.");for(;Ts.ja<Ts.za;++Ts.ja){if(Zr=at,kn=(Xt=Ts).rb[Xt.sb-1],cr=Xt.rb[Xt.sb+Xt.ja],os=Xt.ya[Xt.aa+Xt.ja],Ea=Xt.kc?os.Ad:0)kn.la=cr.la=0,os.Za||(kn.Na=cr.Na=0),os.Hc=0,os.Gc=0,os.ia=0;else{var Or,nr;if(kn=cr,cr=Zr,Ea=Xt.Pa.Xc,ya=Xt.ya[Xt.aa+Xt.ja],ur=Xt.pb[ya.$b],zn=ya.ad,Ta=0,Ci=Xt.rb[Xt.sb-1],ss=Ia=0,a(zn,Ta,0,384),ya.Za)var _a=0,ea=Ea[3];else{Qs=o(16);var Os=kn.Na+Ci.Na;if(Os=uo(cr,Ea[1],Os,ur.Eb,0,Qs,0),kn.Na=Ci.Na=(0<Os)+0,1<Os)va(Qs,0,zn,Ta);else{var ba=Qs[0]+3>>3;for(Qs=0;256>Qs;Qs+=16)zn[Ta+Qs]=ba}_a=1,ea=Ea[0]}var dr=15&kn.la,Fa=15&Ci.la;for(Qs=0;4>Qs;++Qs){var Ua=1&Fa;for(ba=nr=0;4>ba;++ba)dr=dr>>1|(Ua=(Os=uo(cr,ea,Os=Ua+(1&dr),ur.Sc,_a,zn,Ta))>_a)<<7,nr=nr<<2|(3<Os?3:1<Os?2:zn[Ta+0]!=0),Ta+=16;dr>>=4,Fa=Fa>>1|Ua<<7,Ia=(Ia<<8|nr)>>>0}for(ea=dr,_a=Fa>>4,Or=0;4>Or;Or+=2){for(nr=0,dr=kn.la>>4+Or,Fa=Ci.la>>4+Or,Qs=0;2>Qs;++Qs){for(Ua=1&Fa,ba=0;2>ba;++ba)Os=Ua+(1&dr),dr=dr>>1|(Ua=0<(Os=uo(cr,Ea[2],Os,ur.Qc,0,zn,Ta)))<<3,nr=nr<<2|(3<Os?3:1<Os?2:zn[Ta+0]!=0),Ta+=16;dr>>=2,Fa=Fa>>1|Ua<<5}ss|=nr<<4*Or,ea|=dr<<4<<Or,_a|=(240&Fa)<<Or}kn.la=ea,Ci.la=_a,ya.Hc=Ia,ya.Gc=ss,ya.ia=43690&ss?0:ur.ia,Ea=!(Ia|ss)}if(0<Xt.L&&(Xt.wa[Xt.Y+Xt.ja]=Xt.gd[os.$b][os.Za],Xt.wa[Xt.Y+Xt.ja].La|=!Ea),Zr.Ka)return Vn(Ts,7,"Premature end-of-file encountered.")}if(Oi(Ts),Xt=Qr,Zr=1,os=(at=Ts).D,kn=0<at.L&&at.M>=at.zb&&at.M<=at.Va,at.Aa==0)t:{if(os.M=at.M,os.uc=kn,Ys(at,os),Zr=1,os=(nr=at.D).Nb,kn=(ss=xc[at.L])*at.R,cr=ss/2*at.B,Qs=16*os*at.R,ba=8*os*at.B,Ea=at.sa,ya=at.ta-kn+Qs,ur=at.qa,zn=at.ra-cr+ba,Ta=at.Ha,Ci=at.Ia-cr+ba,Fa=(dr=nr.M)==0,Ia=dr>=at.Va-1,at.Aa==2&&Ys(at,nr),nr.uc)for(Ua=(Os=at).D.M,e(Os.D.uc),nr=Os.yb;nr<Os.Hb;++nr){_a=nr,ea=Ua;var yr=(Ks=(ta=Os).D).Nb;Or=ta.R;var Ks=Ks.wa[Ks.Y+_a],Si=ta.sa,ha=ta.ta+16*yr*Or+16*_a,Rn=Ks.dd,Qn=Ks.tc;if(Qn!=0)if(e(3<=Qn),ta.L==1)0<_a&&sh(Si,ha,Or,Qn+4),Ks.La&&Lu(Si,ha,Or,Qn),0<ea&&nh(Si,ha,Or,Qn+4),Ks.La&&Du(Si,ha,Or,Qn);else{var Xs=ta.B,no=ta.qa,ho=ta.ra+8*yr*Xs+8*_a,zi=ta.Ha,ta=ta.Ia+8*yr*Xs+8*_a;yr=Ks.ld,0<_a&&(tr(Si,ha,Or,Qn+4,Rn,yr),ul(no,ho,zi,ta,Xs,Qn+4,Rn,yr)),Ks.La&&(dA(Si,ha,Or,Qn,Rn,yr),th(no,ho,zi,ta,Xs,Qn,Rn,yr)),0<ea&&(Ir(Si,ha,Or,Qn+4,Rn,yr),cl(no,ho,zi,ta,Xs,Qn+4,Rn,yr)),Ks.La&&(MA(Si,ha,Or,Qn,Rn,yr),eh(no,ho,zi,ta,Xs,Qn,Rn,yr))}}if(at.ia&&alert("todo:DitherRow"),Xt.put!=null){if(nr=16*dr,dr=16*(dr+1),Fa?(Xt.y=at.sa,Xt.O=at.ta+Qs,Xt.f=at.qa,Xt.N=at.ra+ba,Xt.ea=at.Ha,Xt.W=at.Ia+ba):(nr-=ss,Xt.y=Ea,Xt.O=ya,Xt.f=ur,Xt.N=zn,Xt.ea=Ta,Xt.W=Ci),Ia||(dr-=ss),dr>Xt.o&&(dr=Xt.o),Xt.F=null,Xt.J=null,at.Fa!=null&&0<at.Fa.length&&nr<dr&&(Xt.J=w(at,Xt,nr,dr-nr),Xt.F=at.mb,Xt.F==null&&Xt.F.length==0)){Zr=Vn(at,3,"Could not decode alpha data.");break t}nr<Xt.j&&(ss=Xt.j-nr,nr=Xt.j,e(!(1&ss)),Xt.O+=at.R*ss,Xt.N+=at.B*(ss>>1),Xt.W+=at.B*(ss>>1),Xt.F!=null&&(Xt.J+=Xt.width*ss)),nr<dr&&(Xt.O+=Xt.v,Xt.N+=Xt.v>>1,Xt.W+=Xt.v>>1,Xt.F!=null&&(Xt.J+=Xt.v),Xt.ka=nr-Xt.j,Xt.U=Xt.va-Xt.v,Xt.T=dr-nr,Zr=Xt.put(Xt))}os+1!=at.Ic||Ia||(s(at.sa,at.ta-kn,Ea,ya+16*at.R,kn),s(at.qa,at.ra-cr,ur,zn+8*at.B,cr),s(at.Ha,at.Ia-cr,Ta,Ci+8*at.B,cr))}if(!Zr)return Vn(Ts,6,"Output aborted.")}return 1})(Ne,ke)),ke.bc!=null&&ke.bc(ke),He&=1}return He?(Ne.cb=0,He):0})(y,J)||(F=y.a)}}else F=y.a}F==0&&pe.Oa!=null&&pe.Oa.fd&&(F=QA(pe.ba))}pe=F}fe=pe!=0?null:11>fe?be.f.RGBA.eb:be.f.kb.y}else fe=null;return fe};var Gu=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(O,$){for(var P="",V=0;V<4;V++)P+=String.fromCharCode(O[$++]);return P}function A(O,$){return O[$+0]|O[$+1]<<8}function m(O,$){return(O[$+0]|O[$+1]<<8|O[$+2]<<16)>>>0}function v(O,$){return(O[$+0]|O[$+1]<<8|O[$+2]<<16|O[$+3]<<24)>>>0}new u;var g=[0],b=[0],I=[],N=new u,S=n,E=(function(O,$){var P={},V=0,G=!1,ie=0,de=0;if(P.frames=[],!(function(M,W){for(var ae=0;ae<4;ae++)if(M[W+ae]!="RIFF".charCodeAt(ae))return!0;return!1})(O,$)){for(v(O,$+=4),$+=8;$<O.length;){var X=f(O,$),q=v(O,$+=4);$+=4;var Z=q+(1&q);switch(X){case"VP8 ":case"VP8L":P.frames[V]===void 0&&(P.frames[V]={}),(ne=P.frames[V]).src_off=G?de:$-8,ne.src_size=ie+q+8,V++,G&&(G=!1,ie=0,de=0);break;case"VP8X":(ne=P.header={}).feature_flags=O[$];var oe=$+4;ne.canvas_width=1+m(O,oe),oe+=3,ne.canvas_height=1+m(O,oe),oe+=3;break;case"ALPH":G=!0,ie=Z+8,de=$-8;break;case"ANIM":(ne=P.header).bgcolor=v(O,$),oe=$+4,ne.loop_count=A(O,oe),oe+=2;break;case"ANMF":var ye,ne;(ne=P.frames[V]={}).offset_x=2*m(O,$),$+=3,ne.offset_y=2*m(O,$),$+=3,ne.width=1+m(O,$),$+=3,ne.height=1+m(O,$),$+=3,ne.duration=m(O,$),$+=3,ye=O[$++],ne.dispose=1&ye,ne.blend=ye>>1&1}X!="ANMF"&&($+=Z)}return P}})(S,0);E.response=S,E.rgbaoutput=!0,E.dataurl=!1;var _=E.header?E.header:null,R=E.frames?E.frames:null;if(_){_.loop_counter=_.loop_count,g=[_.canvas_height],b=[_.canvas_width];for(var L=0;L<R.length&&R[L].blend!=0;L++);}var H=R[0],D=N.WebPDecodeRGBA(S,H.src_off,H.src_size,b,g);H.rgba=D,H.imgwidth=b[0],H.imgheight=g[0];for(var Q=0;Q<b[0]*g[0]*4;Q++)I[Q]=D[Q];return this.width=b,this.height=g,this.data=I,this}(function(n){var e,t,s,a,o,c,h,u,f,A=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new u,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new c,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new c,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new m(this),e=this.internal.f2,t=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,c=this.internal.Point,h=this.internal.Rectangle,u=this.internal.Matrix,f=new A}]);var m=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var W=M;Object.defineProperty(this,"pdf",{get:function(){return W}});var ae=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ae},set:function(me){ae=!!me}});var ue=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ue},set:function(me){ue=!!me}});var ce=0;Object.defineProperty(this,"posX",{get:function(){return ce},set:function(me){isNaN(me)||(ce=me)}});var ge=0;Object.defineProperty(this,"posY",{get:function(){return ge},set:function(me){isNaN(me)||(ge=me)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(me){var Ze;typeof me=="number"?Ze=[me,me,me,me]:((Ze=new Array(4))[0]=me[0],Ze[1]=me.length>=2?me[1]:Ze[0],Ze[2]=me.length>=3?me[2]:Ze[0],Ze[3]=me.length>=4?me[3]:Ze[1]),f.margin=Ze}});var Se=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Se},set:function(me){Se=me}});var xe=0;Object.defineProperty(this,"lastBreak",{get:function(){return xe},set:function(me){xe=me}});var Ie=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ie},set:function(me){Ie=me}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(me){me instanceof A&&(f=me)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(me){f.path=me}});var Ue=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ue},set:function(me){Ue=me}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(me){var Ze;Ze=v(me),this.ctx.fillStyle=Ze.style,this.ctx.isFillTransparent=Ze.a===0,this.ctx.fillOpacity=Ze.a,this.pdf.setFillColor(Ze.r,Ze.g,Ze.b,{a:Ze.a}),this.pdf.setTextColor(Ze.r,Ze.g,Ze.b,{a:Ze.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(me){var Ze=v(me);this.ctx.strokeStyle=Ze.style,this.ctx.isStrokeTransparent=Ze.a===0,this.ctx.strokeOpacity=Ze.a,Ze.a===0?this.pdf.setDrawColor(255,255,255):(Ze.a,this.pdf.setDrawColor(Ze.r,Ze.g,Ze.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(me){["butt","round","square"].indexOf(me)!==-1&&(this.ctx.lineCap=me,this.pdf.setLineCap(me))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(me){isNaN(me)||(this.ctx.lineWidth=me,this.pdf.setLineWidth(me))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(me){["bevel","round","miter"].indexOf(me)!==-1&&(this.ctx.lineJoin=me,this.pdf.setLineJoin(me))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(me){isNaN(me)||(this.ctx.miterLimit=me,this.pdf.setMiterLimit(me))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(me){this.ctx.textBaseline=me}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(me){["right","end","center","left","start"].indexOf(me)!==-1&&(this.ctx.textAlign=me)}});var Pe=null,rt=null,Le=null;Object.defineProperty(this,"fontFaces",{get:function(){return Le},set:function(me){Pe=null,rt=null,Le=me}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(me){var Ze;if(this.ctx.font=me,(Ze=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(me))!==null){var pt=Ze[1];Ze[2];var dt=Ze[3],Je=Ze[4];Ze[5];var Ut=Ze[6],Rt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Je)[2];Je=Math.floor(Rt==="px"?parseFloat(Je)*this.pdf.internal.scaleFactor:Rt==="em"?parseFloat(Je)*this.pdf.getFontSize():parseFloat(Je)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Je);var zt=(function(_t){var Un,Me,ht=[],Ve=_t.trim();if(Ve==="")return m1;if(Ve in XC)return[XC[Ve]];for(;Ve!=="";){switch(Me=null,Un=(Ve=qC(Ve)).charAt(0)){case'"':case"'":Me=X9(Ve.substring(1),Un);break;default:Me=J9(Ve)}if(Me===null||(ht.push(Me[0]),(Ve=qC(Me[1]))!==""&&Ve.charAt(0)!==","))return m1;Ve=Ve.replace(/^,/,"")}return ht})(Ut);if(this.fontFaces){var $t=(function(_t,Un){var Me=_t.getFontList(),ht=JSON.stringify(Me);if(Pe===null||rt!==ht){var Ve=(function(lt){var At=[];return Object.keys(lt).forEach(function(Qt){lt[Qt].forEach(function(St){var Vt=null;switch(St){case"bold":Vt={family:Qt,weight:"bold"};break;case"italic":Vt={family:Qt,style:"italic"};break;case"bolditalic":Vt={family:Qt,weight:"bold",style:"italic"};break;case"":case"normal":Vt={family:Qt}}Vt!==null&&(Vt.ref={name:Qt,style:St},At.push(Vt))})}),At})(Me);Pe=(function(lt){for(var At={},Qt=0;Qt<lt.length;++Qt){var St=f1(lt[Qt]),Vt=St.family,en=St.stretch,jt=St.style,ct=St.weight;At[Vt]=At[Vt]||{},At[Vt][en]=At[Vt][en]||{},At[Vt][en][jt]=At[Vt][en][jt]||{},At[Vt][en][jt][ct]=St}return At})(Ve.concat(Un)),rt=ht}return Pe})(this.pdf,this.fontFaces),Jt=zt.map(function(_t){return{family:_t,stretch:"normal",weight:dt,style:pt}}),sn=(function(_t,Un,Me){for(var ht=(Me=Me||{}).defaultFontFamily||"times",Ve=Object.assign({},W9,Me.genericFontFamilies||{}),lt=null,At=null,Qt=0;Qt<Un.length;++Qt)if(Ve[(lt=f1(Un[Qt])).family]&&(lt.family=Ve[lt.family]),_t.hasOwnProperty(lt.family)){At=_t[lt.family];break}if(!(At=At||_t[ht]))throw new Error("Could not find a font-family for the rule '"+JC(lt)+"' and default family '"+ht+"'.");if(At=(function(St,Vt){if(Vt[St])return Vt[St];var en=Sb[St],jt=en<=Sb.normal?-1:1,ct=WC(Vt,EI,en,jt);if(!ct)throw new Error("Could not find a matching font-stretch value for "+St);return ct})(lt.stretch,At),At=(function(St,Vt){if(Vt[St])return Vt[St];for(var en=NI[St],jt=0;jt<en.length;++jt)if(Vt[en[jt]])return Vt[en[jt]];throw new Error("Could not find a matching font-style for "+St)})(lt.style,At),!(At=(function(St,Vt){if(Vt[St])return Vt[St];if(St===400&&Vt[500])return Vt[500];if(St===500&&Vt[400])return Vt[400];var en=Y9[St],jt=WC(Vt,TI,en,St<400?-1:1);if(!jt)throw new Error("Could not find a matching font-weight for value "+St);return jt})(lt.weight,At)))throw new Error("Failed to resolve a font for the rule '"+JC(lt)+"'.");return At})($t,Jt);this.pdf.setFont(sn.ref.name,sn.ref.style)}else{var Ge="";(dt==="bold"||parseInt(dt,10)>=700||pt==="bold")&&(Ge="bold"),pt==="italic"&&(Ge+="italic"),Ge.length===0&&(Ge="normal");for(var Ht="",kt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ot=0;Ot<zt.length;Ot++){if(this.pdf.internal.getFont(zt[Ot],Ge,{noFallback:!0,disableWarning:!0})!==void 0){Ht=zt[Ot];break}if(Ge==="bolditalic"&&this.pdf.internal.getFont(zt[Ot],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ht=zt[Ot],Ge="bold";else if(this.pdf.internal.getFont(zt[Ot],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ht=zt[Ot],Ge="normal";break}}if(Ht===""){for(var gt=0;gt<zt.length;gt++)if(kt[zt[gt]]){Ht=kt[zt[gt]];break}}Ht=Ht===""?"Times":Ht,this.pdf.setFont(Ht,Ge)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(me){this.ctx.globalCompositeOperation=me}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(me){this.ctx.globalAlpha=me}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(me){this.ctx.lineDashOffset=me,ne.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(me){this.ctx.lineDash=me,ne.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(me){this.ctx.ignoreClearRect=!!me}})};m.prototype.setLineDash=function(M){this.lineDash=M},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){R.call(this,"fill",!1)},m.prototype.stroke=function(){R.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(M,W){if(isNaN(M)||isNaN(W))throw aa.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ae=this.ctx.transform.applyToPoint(new c(M,W));this.path.push({type:"mt",x:ae.x,y:ae.y}),this.ctx.lastPoint=new c(M,W)},m.prototype.closePath=function(){var M=new c(0,0),W=0;for(W=this.path.length-1;W!==-1;W--)if(this.path[W].type==="begin"&&Vr(this.path[W+1])==="object"&&typeof this.path[W+1].x=="number"){M=new c(this.path[W+1].x,this.path[W+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new c(M.x,M.y)},m.prototype.lineTo=function(M,W){if(isNaN(M)||isNaN(W))throw aa.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ae=this.ctx.transform.applyToPoint(new c(M,W));this.path.push({type:"lt",x:ae.x,y:ae.y}),this.ctx.lastPoint=new c(ae.x,ae.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),R.call(this,null,!0)},m.prototype.quadraticCurveTo=function(M,W,ae,ue){if(isNaN(ae)||isNaN(ue)||isNaN(M)||isNaN(W))throw aa.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ce=this.ctx.transform.applyToPoint(new c(ae,ue)),ge=this.ctx.transform.applyToPoint(new c(M,W));this.path.push({type:"qct",x1:ge.x,y1:ge.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new c(ce.x,ce.y)},m.prototype.bezierCurveTo=function(M,W,ae,ue,ce,ge){if(isNaN(ce)||isNaN(ge)||isNaN(M)||isNaN(W)||isNaN(ae)||isNaN(ue))throw aa.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Se=this.ctx.transform.applyToPoint(new c(ce,ge)),xe=this.ctx.transform.applyToPoint(new c(M,W)),Ie=this.ctx.transform.applyToPoint(new c(ae,ue));this.path.push({type:"bct",x1:xe.x,y1:xe.y,x2:Ie.x,y2:Ie.y,x:Se.x,y:Se.y}),this.ctx.lastPoint=new c(Se.x,Se.y)},m.prototype.arc=function(M,W,ae,ue,ce,ge){if(isNaN(M)||isNaN(W)||isNaN(ae)||isNaN(ue)||isNaN(ce))throw aa.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ge=!!ge,!this.ctx.transform.isIdentity){var Se=this.ctx.transform.applyToPoint(new c(M,W));M=Se.x,W=Se.y;var xe=this.ctx.transform.applyToPoint(new c(0,ae)),Ie=this.ctx.transform.applyToPoint(new c(0,0));ae=Math.sqrt(Math.pow(xe.x-Ie.x,2)+Math.pow(xe.y-Ie.y,2))}Math.abs(ce-ue)>=2*Math.PI&&(ue=0,ce=2*Math.PI),this.path.push({type:"arc",x:M,y:W,radius:ae,startAngle:ue,endAngle:ce,counterclockwise:ge})},m.prototype.arcTo=function(M,W,ae,ue,ce){throw new Error("arcTo not implemented.")},m.prototype.rect=function(M,W,ae,ue){if(isNaN(M)||isNaN(W)||isNaN(ae)||isNaN(ue))throw aa.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,W),this.lineTo(M+ae,W),this.lineTo(M+ae,W+ue),this.lineTo(M,W+ue),this.lineTo(M,W),this.lineTo(M+ae,W),this.lineTo(M,W)},m.prototype.fillRect=function(M,W,ae,ue){if(isNaN(M)||isNaN(W)||isNaN(ae)||isNaN(ue))throw aa.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var ce={};this.lineCap!=="butt"&&(ce.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ce.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,W,ae,ue),this.fill(),ce.hasOwnProperty("lineCap")&&(this.lineCap=ce.lineCap),ce.hasOwnProperty("lineJoin")&&(this.lineJoin=ce.lineJoin)}},m.prototype.strokeRect=function(M,W,ae,ue){if(isNaN(M)||isNaN(W)||isNaN(ae)||isNaN(ue))throw aa.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");b.call(this)||(this.beginPath(),this.rect(M,W,ae,ue),this.stroke())},m.prototype.clearRect=function(M,W,ae,ue){if(isNaN(M)||isNaN(W)||isNaN(ae)||isNaN(ue))throw aa.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,W,ae,ue))},m.prototype.save=function(M){M=typeof M!="boolean"||M;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,ae=0;ae<this.pdf.internal.getNumberOfPages();ae++)this.pdf.setPage(ae+1),this.pdf.internal.out("q");if(this.pdf.setPage(W),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var ue=new A(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ue}},m.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,ae=0;ae<this.pdf.internal.getNumberOfPages();ae++)this.pdf.setPage(ae+1),this.pdf.internal.out("Q");this.pdf.setPage(W),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var v=function(M){var W,ae,ue,ce;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))W=0,ae=0,ue=0,ce=0;else{var ge=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(ge!==null)W=parseInt(ge[1]),ae=parseInt(ge[2]),ue=parseInt(ge[3]),ce=1;else if((ge=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)W=parseInt(ge[1]),ae=parseInt(ge[2]),ue=parseInt(ge[3]),ce=parseFloat(ge[4]);else{if(ce=1,typeof M=="string"&&M.charAt(0)!=="#"){var Se=new yI(M);M=Se.ok?Se.toHex():"#000000"}M.length===4?(W=M.substring(1,2),W+=W,ae=M.substring(2,3),ae+=ae,ue=M.substring(3,4),ue+=ue):(W=M.substring(1,3),ae=M.substring(3,5),ue=M.substring(5,7)),W=parseInt(W,16),ae=parseInt(ae,16),ue=parseInt(ue,16)}}return{r:W,g:ae,b:ue,a:ce,style:M}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},b=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(M,W,ae,ue){if(isNaN(W)||isNaN(ae)||typeof M!="string")throw aa.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ue=isNaN(ue)?void 0:ue,!g.call(this)){var ce=Z(this.ctx.transform.rotation),ge=this.ctx.transform.scaleX;V.call(this,{text:M,x:W,y:ae,scale:ge,angle:ce,align:this.textAlign,maxWidth:ue})}},m.prototype.strokeText=function(M,W,ae,ue){if(isNaN(W)||isNaN(ae)||typeof M!="string")throw aa.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!b.call(this)){ue=isNaN(ue)?void 0:ue;var ce=Z(this.ctx.transform.rotation),ge=this.ctx.transform.scaleX;V.call(this,{text:M,x:W,y:ae,scale:ge,renderingMode:"stroke",angle:ce,align:this.textAlign,maxWidth:ue})}},m.prototype.measureText=function(M){if(typeof M!="string")throw aa.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var W=this.pdf,ae=this.pdf.internal.scaleFactor,ue=W.internal.getFontSize(),ce=W.getStringUnitWidth(M)*ue/W.internal.scaleFactor;return new function(ge){var Se=(ge=ge||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Se}}),this}({width:ce*=Math.round(96*ae/72*1e4)/1e4})},m.prototype.scale=function(M,W){if(isNaN(M)||isNaN(W))throw aa.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ae=new u(M,0,0,W,0,0);this.ctx.transform=this.ctx.transform.multiply(ae)},m.prototype.rotate=function(M){if(isNaN(M))throw aa.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var W=new u(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply(W)},m.prototype.translate=function(M,W){if(isNaN(M)||isNaN(W))throw aa.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ae=new u(1,0,0,1,M,W);this.ctx.transform=this.ctx.transform.multiply(ae)},m.prototype.transform=function(M,W,ae,ue,ce,ge){if(isNaN(M)||isNaN(W)||isNaN(ae)||isNaN(ue)||isNaN(ce)||isNaN(ge))throw aa.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Se=new u(M,W,ae,ue,ce,ge);this.ctx.transform=this.ctx.transform.multiply(Se)},m.prototype.setTransform=function(M,W,ae,ue,ce,ge){M=isNaN(M)?1:M,W=isNaN(W)?0:W,ae=isNaN(ae)?0:ae,ue=isNaN(ue)?1:ue,ce=isNaN(ce)?0:ce,ge=isNaN(ge)?0:ge,this.ctx.transform=new u(M,W,ae,ue,ce,ge)};var I=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(M,W,ae,ue,ce,ge,Se,xe,Ie){var Ue=this.pdf.getImageProperties(M),Pe=1,rt=1,Le=1,me=1;ue!==void 0&&xe!==void 0&&(Le=xe/ue,me=Ie/ce,Pe=Ue.width/ue*xe/ue,rt=Ue.height/ce*Ie/ce),ge===void 0&&(ge=W,Se=ae,W=0,ae=0),ue!==void 0&&xe===void 0&&(xe=ue,Ie=ce),ue===void 0&&xe===void 0&&(xe=Ue.width,Ie=Ue.height);var Ze=this.ctx.transform.decompose(),pt=Z(Ze.rotate.shx),dt=new u,Je=(dt=(dt=(dt=dt.multiply(Ze.translate)).multiply(Ze.skew)).multiply(Ze.scale)).applyToRectangle(new h(ge-W*Le,Se-ae*me,ue*Pe,ce*rt));if(this.autoPaging){for(var Ut,Rt=N.call(this,Je),zt=[],$t=0;$t<Rt.length;$t+=1)zt.indexOf(Rt[$t])===-1&&zt.push(Rt[$t]);_(zt);for(var Jt=zt[0],sn=zt[zt.length-1],Ge=Jt;Ge<sn+1;Ge++){this.pdf.setPage(Ge);var Ht=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],kt=Ge===1?this.posY+this.margin[0]:this.margin[0],Ot=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],gt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],_t=Ge===1?0:Ot+(Ge-2)*gt;if(this.ctx.clip_path.length!==0){var Un=this.path;Ut=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(Ut,this.posX+this.margin[3],-_t+kt+this.ctx.prevPageLastElemOffset),L.call(this,"fill",!0),this.path=Un}var Me=JSON.parse(JSON.stringify(Je));Me=E([Me],this.posX+this.margin[3],-_t+kt+this.ctx.prevPageLastElemOffset)[0];var ht=(Ge>Jt||Ge<sn)&&I.call(this);ht&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ht,gt,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",Me.x,Me.y,Me.w,Me.h,null,null,pt),ht&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(M,"JPEG",Je.x,Je.y,Je.w,Je.h,null,null,pt)};var N=function(M,W,ae){var ue=[];W=W||this.pdf.internal.pageSize.width,ae=ae||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ce=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":ue.push(Math.floor((M.y+ce)/ae)+1);break;case"arc":ue.push(Math.floor((M.y+ce-M.radius)/ae)+1),ue.push(Math.floor((M.y+ce+M.radius)/ae)+1);break;case"qct":var ge=oe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);ue.push(Math.floor((ge.y+ce)/ae)+1),ue.push(Math.floor((ge.y+ge.h+ce)/ae)+1);break;case"bct":var Se=ye(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);ue.push(Math.floor((Se.y+ce)/ae)+1),ue.push(Math.floor((Se.y+Se.h+ce)/ae)+1);break;case"rect":ue.push(Math.floor((M.y+ce)/ae)+1),ue.push(Math.floor((M.y+M.h+ce)/ae)+1)}for(var xe=0;xe<ue.length;xe+=1)for(;this.pdf.internal.getNumberOfPages()<ue[xe];)S.call(this);return ue},S=function(){var M=this.fillStyle,W=this.strokeStyle,ae=this.font,ue=this.lineCap,ce=this.lineWidth,ge=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=W,this.font=ae,this.lineCap=ue,this.lineWidth=ce,this.lineJoin=ge},E=function(M,W,ae){for(var ue=0;ue<M.length;ue++)switch(M[ue].type){case"bct":M[ue].x2+=W,M[ue].y2+=ae;case"qct":M[ue].x1+=W,M[ue].y1+=ae;default:M[ue].x+=W,M[ue].y+=ae}return M},_=function(M){return M.sort(function(W,ae){return W-ae})},R=function(M,W){var ae=this.fillStyle,ue=this.strokeStyle,ce=this.lineCap,ge=this.lineWidth,Se=Math.abs(ge*this.ctx.transform.scaleX),xe=this.lineJoin;if(this.autoPaging){for(var Ie,Ue,Pe=JSON.parse(JSON.stringify(this.path)),rt=JSON.parse(JSON.stringify(this.path)),Le=[],me=0;me<rt.length;me++)if(rt[me].x!==void 0)for(var Ze=N.call(this,rt[me]),pt=0;pt<Ze.length;pt+=1)Le.indexOf(Ze[pt])===-1&&Le.push(Ze[pt]);for(var dt=0;dt<Le.length;dt++)for(;this.pdf.internal.getNumberOfPages()<Le[dt];)S.call(this);_(Le);for(var Je=Le[0],Ut=Le[Le.length-1],Rt=Je;Rt<Ut+1;Rt++){this.pdf.setPage(Rt),this.fillStyle=ae,this.strokeStyle=ue,this.lineCap=ce,this.lineWidth=Se,this.lineJoin=xe;var zt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],$t=Rt===1?this.posY+this.margin[0]:this.margin[0],Jt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],sn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ge=Rt===1?0:Jt+(Rt-2)*sn;if(this.ctx.clip_path.length!==0){var Ht=this.path;Ie=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(Ie,this.posX+this.margin[3],-Ge+$t+this.ctx.prevPageLastElemOffset),L.call(this,M,!0),this.path=Ht}if(Ue=JSON.parse(JSON.stringify(Pe)),this.path=E(Ue,this.posX+this.margin[3],-Ge+$t+this.ctx.prevPageLastElemOffset),W===!1||Rt===0){var kt=(Rt>Je||Rt<Ut)&&I.call(this);kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],zt,sn,null).clip().discardPath()),L.call(this,M,W),kt&&this.pdf.restoreGraphicsState()}this.lineWidth=ge}this.path=Pe}else this.lineWidth=Se,L.call(this,M,W),this.lineWidth=ge},L=function(M,W){if((M!=="stroke"||W||!b.call(this))&&(M==="stroke"||W||!g.call(this))){for(var ae,ue,ce=[],ge=this.path,Se=0;Se<ge.length;Se++){var xe=ge[Se];switch(xe.type){case"begin":ce.push({begin:!0});break;case"close":ce.push({close:!0});break;case"mt":ce.push({start:xe,deltas:[],abs:[]});break;case"lt":var Ie=ce.length;if(ge[Se-1]&&!isNaN(ge[Se-1].x)&&(ae=[xe.x-ge[Se-1].x,xe.y-ge[Se-1].y],Ie>0)){for(;Ie>=0;Ie--)if(ce[Ie-1].close!==!0&&ce[Ie-1].begin!==!0){ce[Ie-1].deltas.push(ae),ce[Ie-1].abs.push(xe);break}}break;case"bct":ae=[xe.x1-ge[Se-1].x,xe.y1-ge[Se-1].y,xe.x2-ge[Se-1].x,xe.y2-ge[Se-1].y,xe.x-ge[Se-1].x,xe.y-ge[Se-1].y],ce[ce.length-1].deltas.push(ae);break;case"qct":var Ue=ge[Se-1].x+2/3*(xe.x1-ge[Se-1].x),Pe=ge[Se-1].y+2/3*(xe.y1-ge[Se-1].y),rt=xe.x+2/3*(xe.x1-xe.x),Le=xe.y+2/3*(xe.y1-xe.y),me=xe.x,Ze=xe.y;ae=[Ue-ge[Se-1].x,Pe-ge[Se-1].y,rt-ge[Se-1].x,Le-ge[Se-1].y,me-ge[Se-1].x,Ze-ge[Se-1].y],ce[ce.length-1].deltas.push(ae);break;case"arc":ce.push({deltas:[],abs:[],arc:!0}),Array.isArray(ce[ce.length-1].abs)&&ce[ce.length-1].abs.push(xe)}}ue=W?null:M==="stroke"?"stroke":"fill";for(var pt=!1,dt=0;dt<ce.length;dt++)if(ce[dt].arc)for(var Je=ce[dt].abs,Ut=0;Ut<Je.length;Ut++){var Rt=Je[Ut];Rt.type==="arc"?Q.call(this,Rt.x,Rt.y,Rt.radius,Rt.startAngle,Rt.endAngle,Rt.counterclockwise,void 0,W,!pt):G.call(this,Rt.x,Rt.y),pt=!0}else if(ce[dt].close===!0)this.pdf.internal.out("h"),pt=!1;else if(ce[dt].begin!==!0){var zt=ce[dt].start.x,$t=ce[dt].start.y;ie.call(this,ce[dt].deltas,zt,$t),pt=!0}ue&&O.call(this,ue),W&&$.call(this)}},H=function(M){var W=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ae=W*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-ae;case"top":return M+W-ae;case"hanging":return M+W-2*ae;case"middle":return M+W/2-ae;default:return M}},D=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function(W,ae){this.colorStops.push([W,ae])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var Q=function(M,W,ae,ue,ce,ge,Se,xe,Ie){for(var Ue=X.call(this,ae,ue,ce,ge),Pe=0;Pe<Ue.length;Pe++){var rt=Ue[Pe];Pe===0&&(Ie?P.call(this,rt.x1+M,rt.y1+W):G.call(this,rt.x1+M,rt.y1+W)),de.call(this,M,W,rt.x2,rt.y2,rt.x3,rt.y3,rt.x4,rt.y4)}xe?$.call(this):O.call(this,Se)},O=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},$=function(){this.pdf.clip(),this.pdf.discardPath()},P=function(M,W){this.pdf.internal.out(t(M)+" "+s(W)+" m")},V=function(M){var W;switch(M.align){case"right":case"end":W="right";break;case"center":W="center";break;default:W="left"}var ae,ue,ce,ge=this.pdf.getTextDimensions(M.text),Se=H.call(this,M.y),xe=D.call(this,Se)-ge.h,Ie=this.ctx.transform.applyToPoint(new c(M.x,Se));if(this.autoPaging){var Ue=this.ctx.transform.decompose(),Pe=new u;Pe=(Pe=(Pe=Pe.multiply(Ue.translate)).multiply(Ue.skew)).multiply(Ue.scale);for(var rt=this.ctx.transform.applyToRectangle(new h(M.x,Se,ge.w,ge.h)),Le=Pe.applyToRectangle(new h(M.x,xe,ge.w,ge.h)),me=N.call(this,Le),Ze=[],pt=0;pt<me.length;pt+=1)Ze.indexOf(me[pt])===-1&&Ze.push(me[pt]);_(Ze);for(var dt=Ze[0],Je=Ze[Ze.length-1],Ut=dt;Ut<Je+1;Ut++){this.pdf.setPage(Ut);var Rt=Ut===1?this.posY+this.margin[0]:this.margin[0],zt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],$t=this.pdf.internal.pageSize.height-this.margin[2],Jt=$t-this.margin[0],sn=this.pdf.internal.pageSize.width-this.margin[1],Ge=sn-this.margin[3],Ht=Ut===1?0:zt+(Ut-2)*Jt;if(this.ctx.clip_path.length!==0){var kt=this.path;ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(ae,this.posX+this.margin[3],-1*Ht+Rt),L.call(this,"fill",!0),this.path=kt}var Ot=E([JSON.parse(JSON.stringify(Le))],this.posX+this.margin[3],-Ht+Rt+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&(ue=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ue*M.scale),ce=this.lineWidth,this.lineWidth=ce*M.scale);var gt=this.autoPaging!=="text";if(gt||Ot.y+Ot.h<=$t){if(gt||Ot.y>=Rt&&Ot.x<=sn){var _t=gt?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||sn-Ot.x)[0],Un=E([JSON.parse(JSON.stringify(rt))],this.posX+this.margin[3],-Ht+Rt+this.ctx.prevPageLastElemOffset)[0],Me=gt&&(Ut>dt||Ut<Je)&&I.call(this);Me&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ge,Jt,null).clip().discardPath()),this.pdf.text(_t,Un.x,Un.y,{angle:M.angle,align:W,renderingMode:M.renderingMode}),Me&&this.pdf.restoreGraphicsState()}}else Ot.y<$t&&(this.ctx.prevPageLastElemOffset+=$t-Ot.y);M.scale>=.01&&(this.pdf.setFontSize(ue),this.lineWidth=ce)}}else M.scale>=.01&&(ue=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ue*M.scale),ce=this.lineWidth,this.lineWidth=ce*M.scale),this.pdf.text(M.text,Ie.x+this.posX,Ie.y+this.posY,{angle:M.angle,align:W,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize(ue),this.lineWidth=ce)},G=function(M,W,ae,ue){ae=ae||0,ue=ue||0,this.pdf.internal.out(t(M+ae)+" "+s(W+ue)+" l")},ie=function(M,W,ae){return this.pdf.lines(M,W,ae,null,null)},de=function(M,W,ae,ue,ce,ge,Se,xe){this.pdf.internal.out([e(a(ae+M)),e(o(ue+W)),e(a(ce+M)),e(o(ge+W)),e(a(Se+M)),e(o(xe+W)),"c"].join(" "))},X=function(M,W,ae,ue){for(var ce=2*Math.PI,ge=Math.PI/2;W>ae;)W-=ce;var Se=Math.abs(ae-W);Se<ce&&ue&&(Se=ce-Se);for(var xe=[],Ie=ue?-1:1,Ue=W;Se>1e-5;){var Pe=Ue+Ie*Math.min(Se,ge);xe.push(q.call(this,M,Ue,Pe)),Se-=Math.abs(Pe-Ue),Ue=Pe}return xe},q=function(M,W,ae){var ue=(ae-W)/2,ce=M*Math.cos(ue),ge=M*Math.sin(ue),Se=ce,xe=-ge,Ie=Se*Se+xe*xe,Ue=Ie+Se*ce+xe*ge,Pe=4/3*(Math.sqrt(2*Ie*Ue)-Ue)/(Se*ge-xe*ce),rt=Se-Pe*xe,Le=xe+Pe*Se,me=rt,Ze=-Le,pt=ue+W,dt=Math.cos(pt),Je=Math.sin(pt);return{x1:M*Math.cos(W),y1:M*Math.sin(W),x2:rt*dt-Le*Je,y2:rt*Je+Le*dt,x3:me*dt-Ze*Je,y3:me*Je+Ze*dt,x4:M*Math.cos(ae),y4:M*Math.sin(ae)}},Z=function(M){return 180*M/Math.PI},oe=function(M,W,ae,ue,ce,ge){var Se=M+.5*(ae-M),xe=W+.5*(ue-W),Ie=ce+.5*(ae-ce),Ue=ge+.5*(ue-ge),Pe=Math.min(M,ce,Se,Ie),rt=Math.max(M,ce,Se,Ie),Le=Math.min(W,ge,xe,Ue),me=Math.max(W,ge,xe,Ue);return new h(Pe,Le,rt-Pe,me-Le)},ye=function(M,W,ae,ue,ce,ge,Se,xe){var Ie,Ue,Pe,rt,Le,me,Ze,pt,dt,Je,Ut,Rt,zt,$t,Jt=ae-M,sn=ue-W,Ge=ce-ae,Ht=ge-ue,kt=Se-ce,Ot=xe-ge;for(Ue=0;Ue<41;Ue++)dt=(Ze=(Pe=M+(Ie=Ue/40)*Jt)+Ie*((Le=ae+Ie*Ge)-Pe))+Ie*(Le+Ie*(ce+Ie*kt-Le)-Ze),Je=(pt=(rt=W+Ie*sn)+Ie*((me=ue+Ie*Ht)-rt))+Ie*(me+Ie*(ge+Ie*Ot-me)-pt),Ue==0?(Ut=dt,Rt=Je,zt=dt,$t=Je):(Ut=Math.min(Ut,dt),Rt=Math.min(Rt,Je),zt=Math.max(zt,dt),$t=Math.max($t,Je));return new h(Math.round(Ut),Math.round(Rt),Math.round(zt-Ut),Math.round($t-Rt))},ne=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,W,ae=(M=this.ctx.lineDash,W=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:W}));this.prevLineDash!==ae&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ae)}}})(Dn.API),(function(n){var e=function(c){var h,u,f,A,m,v,g,b,I,N;for(u=[],f=0,A=(c+=h="\0\0\0\0".slice(c.length%4||4)).length;A>f;f+=4)(m=(c.charCodeAt(f)<<24)+(c.charCodeAt(f+1)<<16)+(c.charCodeAt(f+2)<<8)+c.charCodeAt(f+3))!==0?(v=(m=((m=((m=((m=(m-(N=m%85))/85)-(I=m%85))/85)-(b=m%85))/85)-(g=m%85))/85)%85,u.push(v+33,g+33,b+33,I+33,N+33)):u.push(122);return(function(S,E){for(var _=E;_>0;_--)S.pop()})(u,h.length),String.fromCharCode.apply(String,u)+"~>"},t=function(c){var h,u,f,A,m,v=String,g="length",b=255,I="charCodeAt",N="slice",S="replace";for(c[N](-2),c=c[N](0,-2)[S](/\s/g,"")[S]("z","!!!!!"),f=[],A=0,m=(c+=h="uuuuu"[N](c[g]%5||5))[g];m>A;A+=5)u=52200625*(c[I](A)-33)+614125*(c[I](A+1)-33)+7225*(c[I](A+2)-33)+85*(c[I](A+3)-33)+(c[I](A+4)-33),f.push(b&u>>24,b&u>>16,b&u>>8,b&u);return(function(E,_){for(var R=_;R>0;R--)E.pop()})(f,h[g]),v.fromCharCode.apply(v,f)},s=function(c){return c.split("").map(function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(c){var h=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((c=c.replace(/\s/g,"")).indexOf(">")!==-1&&(c=c.substr(0,c.indexOf(">"))),c.length%2&&(c+="0"),h.test(c)===!1)return"";for(var u="",f=0;f<c.length;f+=2)u+=String.fromCharCode("0x"+(c[f]+c[f+1]));return u},o=function(c){for(var h=new Uint8Array(c.length),u=c.length;u--;)h[u]=c.charCodeAt(u);return(h=xb(h)).reduce(function(f,A){return f+String.fromCharCode(A)},"")};n.processDataByFilters=function(c,h){var u=0,f=c||"",A=[];for(typeof(h=h||[])=="string"&&(h=[h]),u=0;u<h.length;u+=1)switch(h[u]){case"ASCII85Decode":case"/ASCII85Decode":f=t(f),A.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":f=e(f),A.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":f=a(f),A.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":f=s(f),A.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":f=o(f),A.push("/FlateDecode");break;default:throw new Error('The filter: "'+h[u]+'" is not implemented')}return{data:f,reverseChain:A.reverse().join(" ")}}})(Dn.API),(function(n){n.loadFile=function(e,t,s){return(function(a,o,c){o=o!==!1,c=typeof c=="function"?c:function(){};var h=void 0;try{h=(function(u,f,A){var m=new XMLHttpRequest,v=0,g=function(b){var I=b.length,N=[],S=String.fromCharCode;for(v=0;v<I;v+=1)N.push(S(255&b.charCodeAt(v)));return N.join("")};if(m.open("GET",u,!f),m.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(m.onload=function(){m.status===200?A(g(this.responseText)):A(void 0)}),m.send(null),f&&m.status===200)return g(m.responseText)})(a,o,c)}catch{}return h})(e,t,s)},n.loadImageFile=n.loadFile})(Dn.API),(function(n){function e(){return(ls.html2canvas?Promise.resolve(ls.html2canvas):Xy(()=>import("./html2canvas.esm-QH1iLAAe.js"),[],import.meta.url)).catch(function(h){return Promise.reject(new Error("Could not load html2canvas: "+h))}).then(function(h){return h.default?h.default:h})}function t(){return(ls.DOMPurify?Promise.resolve(ls.DOMPurify):Xy(()=>import("./purify.es-B9ZVCkUG.js"),[],import.meta.url)).catch(function(h){return Promise.reject(new Error("Could not load dompurify: "+h))}).then(function(h){return h.default?h.default:h})}var s=function(h){var u=Vr(h);return u==="undefined"?"undefined":u==="string"||h instanceof String?"string":u==="number"||h instanceof Number?"number":u==="function"||h instanceof Function?"function":h&&h.constructor===Array?"array":h&&h.nodeType===1?"element":u==="object"?"object":"unknown"},a=function(h,u){var f=document.createElement(h);for(var A in u.className&&(f.className=u.className),u.innerHTML&&u.dompurify&&(f.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)f.style[A]=u.style[A];return f},o=function h(u,f){for(var A=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),m=u.firstChild;m;m=m.nextSibling)f!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||A.appendChild(h(m,f));return u.nodeType===1&&(u.nodeName==="CANVAS"?(A.width=u.width,A.height=u.height,A.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(A.value=u.value),A.addEventListener("load",function(){A.scrollTop=u.scrollTop,A.scrollLeft=u.scrollLeft},!0)),A},c=function h(u){var f=Object.assign(h.convert(Promise.resolve()),JSON.parse(JSON.stringify(h.template))),A=h.convert(Promise.resolve(),f);return(A=A.setProgress(1,h,1,[h])).set(u)};(c.prototype=Object.create(Promise.prototype)).constructor=c,c.convert=function(h,u){return h.__proto__=u||c.prototype,h},c.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},c.prototype.from=function(h,u){return this.then(function(){switch(u=u||(function(f){switch(s(f)){case"string":return"string";case"element":return f.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(h),u){case"string":return this.then(t).then(function(f){return this.set({src:a("div",{innerHTML:h,dompurify:f})})});case"element":return this.set({src:h});case"canvas":return this.set({canvas:h});case"img":return this.set({img:h});default:return this.error("Unknown source type.")}})},c.prototype.to=function(h){switch(h){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},c.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var h={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(h.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:h}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},c.prototype.toCanvas=function(){var h=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(h).then(e).then(function(u){var f=Object.assign({},this.opt.html2canvas);return delete f.onrendered,u(this.prop.container,f)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},c.prototype.toContext2d=function(){var h=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(h).then(e).then(function(u){var f=this.opt.jsPDF,A=this.opt.fontFaces,m=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,v=Object.assign({async:!0,allowTaint:!0,scale:m,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete v.onrendered,f.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,f.context2d.posX=this.opt.x,f.context2d.posY=this.opt.y,f.context2d.margin=this.opt.margin,f.context2d.fontFaces=A,A)for(var g=0;g<A.length;++g){var b=A[g],I=b.src.find(function(N){return N.format==="truetype"});I&&f.addFont(I.url,b.ref.name,b.ref.style)}return v.windowHeight=v.windowHeight||0,v.windowHeight=v.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):v.windowHeight,f.context2d.save(!0),u(this.prop.container,v)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},c.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var h=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=h})},c.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},c.prototype.output=function(h,u,f){return(f=f||"pdf").toLowerCase()==="img"||f.toLowerCase()==="image"?this.outputImg(h,u):this.outputPdf(h,u)},c.prototype.outputPdf=function(h,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(h,u)})},c.prototype.outputImg=function(h){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(h){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+h+'" is not supported.'}})},c.prototype.save=function(h){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(h?{filename:h}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},c.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},c.prototype.set=function(h){if(s(h)!=="object")return this;var u=Object.keys(h||{}).map(function(f){if(f in c.template.prop)return function(){this.prop[f]=h[f]};switch(f){case"margin":return this.setMargin.bind(this,h.margin);case"jsPDF":return function(){return this.opt.jsPDF=h.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,h.pageSize);default:return function(){this.opt[f]=h[f]}}},this);return this.then(function(){return this.thenList(u)})},c.prototype.get=function(h,u){return this.then(function(){var f=h in c.template.prop?this.prop[h]:this.opt[h];return u?u(f):f})},c.prototype.setMargin=function(h){return this.then(function(){switch(s(h)){case"number":h=[h,h,h,h];case"array":if(h.length===2&&(h=[h[0],h[1],h[0],h[1]]),h.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=h}).then(this.setPageSize)},c.prototype.setPageSize=function(h){function u(f,A){return Math.floor(f*A/72*96)}return this.then(function(){(h=h||Dn.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(h.inner={width:h.width-this.opt.margin[1]-this.opt.margin[3],height:h.height-this.opt.margin[0]-this.opt.margin[2]},h.inner.px={width:u(h.inner.width,h.k),height:u(h.inner.height,h.k)},h.inner.ratio=h.inner.height/h.inner.width),this.prop.pageSize=h})},c.prototype.setProgress=function(h,u,f,A){return h!=null&&(this.progress.val=h),u!=null&&(this.progress.state=u),f!=null&&(this.progress.n=f),A!=null&&(this.progress.stack=A),this.progress.ratio=this.progress.val/this.progress.state,this},c.prototype.updateProgress=function(h,u,f,A){return this.setProgress(h?this.progress.val+h:null,u||null,f?this.progress.n+f:null,A?this.progress.stack.concat(A):null)},c.prototype.then=function(h,u){var f=this;return this.thenCore(h,u,function(A,m){return f.updateProgress(null,null,1,[A]),Promise.prototype.then.call(this,function(v){return f.updateProgress(null,A),v}).then(A,m).then(function(v){return f.updateProgress(1),v})})},c.prototype.thenCore=function(h,u,f){f=f||Promise.prototype.then;var A=this;h&&(h=h.bind(A)),u&&(u=u.bind(A));var m=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?A:c.convert(Object.assign({},A),Promise.prototype),v=f.call(m,h,u);return c.convert(v,A.__proto__)},c.prototype.thenExternal=function(h,u){return Promise.prototype.then.call(this,h,u)},c.prototype.thenList=function(h){var u=this;return h.forEach(function(f){u=u.thenCore(f)}),u},c.prototype.catch=function(h){h&&(h=h.bind(this));var u=Promise.prototype.catch.call(this,h);return c.convert(u,this)},c.prototype.catchExternal=function(h){return Promise.prototype.catch.call(this,h)},c.prototype.error=function(h){return this.then(function(){throw new Error(h)})},c.prototype.using=c.prototype.set,c.prototype.saveAs=c.prototype.save,c.prototype.export=c.prototype.output,c.prototype.run=c.prototype.then,Dn.getPageSize=function(h,u,f){if(Vr(h)==="object"){var A=h;h=A.orientation,u=A.unit||u,f=A.format||f}u=u||"mm",f=f||"a4",h=(""+(h||"P")).toLowerCase();var m,v=(""+f).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":m=1;break;case"mm":m=72/25.4;break;case"cm":m=72/2.54;break;case"in":m=72;break;case"px":m=.75;break;case"pc":case"em":m=12;break;case"ex":m=6;break;default:throw"Invalid unit: "+u}var b,I=0,N=0;if(g.hasOwnProperty(v))I=g[v][1]/m,N=g[v][0]/m;else try{I=f[1],N=f[0]}catch{throw new Error("Invalid format: "+f)}if(h==="p"||h==="portrait")h="p",N>I&&(b=N,N=I,I=b);else{if(h!=="l"&&h!=="landscape")throw"Invalid orientation: "+h;h="l",I>N&&(b=N,N=I,I=b)}return{width:N,height:I,unit:u,k:m,orientation:h}},n.html=function(h,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(f1):null;var f=new c(u);return u.worker?f:f.from(h).doCallback()}})(Dn.API),Dn.API.addJS=function(n){return eS=n,this.internal.events.subscribe("postPutResources",function(){X0=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(X0+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),ZC=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+eS+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){X0!==void 0&&ZC!==void 0&&this.internal.out("/Names <</JavaScript "+X0+" 0 R>>")}),this},(function(n){var e;n.events.push(["postPutResources",function(){var t=this,s=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=t.outline.render().split(/\r\n/),o=0;o<a.length;o++){var c=a[o],h=s.exec(c);if(h!=null){var u=h[1];t.internal.newObjectDeferredBegin(u,!1)}t.internal.write(c)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,A=[];for(o=0;o<f;o++){var m=t.internal.newObject();A.push(m);var v=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+v.objId+" 0 R /XYZ null null null]>> endobj")}var g=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<A.length;o++)t.internal.write("(page_"+(o+1)+")"+A[o]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+g+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(s,a,o){var c={title:a,options:o,children:[]};return s==null&&(s=this.root),s.children.push(c),c},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(s){s.id=t.internal.newObjectDeferred();for(var a=0;a<s.children.length;a++)this.genIds_r(s.children[a])},t.outline.renderRoot=function(s){this.objStart(s),this.line("/Type /Outlines"),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1]))),this.line("/Count "+this.count_r({count:0},s)),this.objEnd()},t.outline.renderItems=function(s){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<s.children.length;o++){var c=s.children[o];this.objStart(c),this.line("/Title "+this.makeString(c.title)),this.line("/Parent "+this.makeRef(s)),o>0&&this.line("/Prev "+this.makeRef(s.children[o-1])),o<s.children.length-1&&this.line("/Next "+this.makeRef(s.children[o+1])),c.children.length>0&&(this.line("/First "+this.makeRef(c.children[0])),this.line("/Last "+this.makeRef(c.children[c.children.length-1])));var h=this.count=this.count_r({count:0},c);if(h>0&&this.line("/Count "+h),c.options&&c.options.pageNumber){var u=t.internal.getPageInfo(c.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var f=0;f<s.children.length;f++)this.renderItems(s.children[f])},t.outline.line=function(s){this.ctx.val+=s+`\r
`},t.outline.makeRef=function(s){return s.id+" 0 R"},t.outline.makeString=function(s){return"("+t.internal.pdfEscape(s)+")"},t.outline.objStart=function(s){this.ctx.val+=`\r
`+s.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(s,a){for(var o=0;o<a.children.length;o++)s.count++,this.count_r(s,a.children[o]);return s.count}}])})(Dn.API),(function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,s,a,o,c,h){var u,f=this.decode.DCT_DECODE,A=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=c||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,u=(function(m){for(var v,g=256*m.charCodeAt(4)+m.charCodeAt(5),b=m.length,I={width:0,height:0,numcomponents:1},N=4;N<b;N+=2){if(N+=g,e.indexOf(m.charCodeAt(N+1))!==-1){v=256*m.charCodeAt(N+5)+m.charCodeAt(N+6),I={width:256*m.charCodeAt(N+7)+m.charCodeAt(N+8),height:v,numcomponents:m.charCodeAt(N+9)};break}g=256*m.charCodeAt(N+2)+m.charCodeAt(N+3)}return I})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),u.numcomponents){case 1:h=this.color_spaces.DEVICE_GRAY;break;case 4:h=this.color_spaces.DEVICE_CMYK;break;case 3:h=this.color_spaces.DEVICE_RGB}A={data:t,width:u.width,height:u.height,colorSpace:h,bitsPerComponent:8,filter:f,index:s,alias:a}}return A}})(Dn.API),Dn.API.processPNG=function(n,e,t,s){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var a,o=U9(n,{checkCrc:!0}),c=o.width,h=o.height,u=o.channels,f=o.palette,A=o.depth;a=f&&u===1?(function(Q){for(var O=Q.width,$=Q.height,P=Q.data,V=Q.palette,G=Q.depth,ie=!1,de=[],X=[],q=void 0,Z=!1,oe=0,ye=0;ye<V.length;ye++){var ne=rC(V[ye],4),M=ne[0],W=ne[1],ae=ne[2],ue=ne[3];de.push(M,W,ae),ue!=null&&(ue===0?(oe++,X.length<1&&X.push(ye)):ue<255&&(Z=!0))}if(Z||oe>1){ie=!0,X=void 0;var ce=O*$;q=new Uint8Array(ce);for(var ge=new DataView(P.buffer),Se=0;Se<ce;Se++){var xe=p1(ge,Se,G),Ie=rC(V[xe],4)[3];q[Se]=Ie}}else oe===0&&(X=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:ie?8:void 0,colorBytes:P,alphaBytes:q,needSMask:ie,palette:de,mask:X}})(o):u===2||u===4?(function(Q){for(var O=Q.data,$=Q.width,P=Q.height,V=Q.channels,G=Q.depth,ie=V===2?"DeviceGray":"DeviceRGB",de=V-1,X=$*P,q=de,Z=X*q,oe=1*X,ye=Math.ceil(Z*G/8),ne=Math.ceil(oe*G/8),M=new Uint8Array(ye),W=new Uint8Array(ne),ae=new DataView(O.buffer),ue=new DataView(M.buffer),ce=new DataView(W.buffer),ge=!1,Se=0;Se<X;Se++){for(var xe=Se*V,Ie=0;Ie<q;Ie++)AS(ue,p1(ae,xe+Ie,G),Se*q+Ie,G);var Ue=p1(ae,xe+q,G);Ue<(1<<G)-1&&(ge=!0),AS(ce,Ue,1*Se,G)}return{colorSpace:ie,colorsPerPixel:de,sMaskBitsPerComponent:ge?G:void 0,colorBytes:M,alphaBytes:W,needSMask:ge}})(o):(function(Q){var O=Q.data,$=Q.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:$,colorsPerPixel:$==="DeviceGray"?1:3,colorBytes:O instanceof Uint16Array?(function(P){for(var V=P.length,G=new Uint8Array(2*V),ie=new DataView(G.buffer,G.byteOffset,G.byteLength),de=0;de<V;de++)ie.setUint16(2*de,P[de],!1);return G})(O):O,needSMask:!1}})(o);var m,v,g,b=a,I=b.colorSpace,N=b.colorsPerPixel,S=b.sMaskBitsPerComponent,E=b.colorBytes,_=b.alphaBytes,R=b.needSMask,L=b.palette,H=b.mask,D=null;return s!==Dn.API.image_compression.NONE&&typeof xb=="function"?(D=(function(Q){var O;switch(Q){case Dn.API.image_compression.FAST:O=11;break;case Dn.API.image_compression.MEDIUM:O=13;break;case Dn.API.image_compression.SLOW:O=14;break;default:O=12}return O})(s),m=this.decode.FLATE_DECODE,v="/Predictor ".concat(D," /Colors ").concat(N," /BitsPerComponent ").concat(A," /Columns ").concat(c),n=rS(E,Math.ceil(c*N*A/8),N,A,s),R&&(g=rS(_,Math.ceil(c*S/8),1,S,s))):(m=void 0,v=void 0,n=E,R&&(g=_)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(g&&this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),{alias:t,data:n,index:e,filter:m,decodeParameters:v,transparency:H,palette:L,sMask:g,predictor:D,width:c,height:h,bitsPerComponent:A,sMaskBitsPerComponent:S,colorSpace:I}}},(function(n){n.processGIF89A=function(e,t,s,a){var o=new tV(e),c=o.width,h=o.height,u=[];o.decodeAndBlitFrameRGBA(0,u);var f={data:u,width:c,height:h},A=new g1(100).encode(f,100);return n.processJPEG.call(this,A,t,s,a)},n.processGIF87A=n.processGIF89A})(Dn.API),ec.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:s,blue:t,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ec.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){aa.log("bit decode error:"+t)}},ec.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,a=0;a<e;a++)for(var o=this.datav.getUint8(this.pos++,!0),c=s*this.width*4+8*a*4,h=0;h<8&&8*a+h<this.width;h++){var u=this.palette[o>>7-h&1];this.data[c+4*h]=u.blue,this.data[c+4*h+1]=u.green,this.data[c+4*h+2]=u.red,this.data[c+4*h+3]=255}t!==0&&(this.pos+=4-t)}},ec.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var s=this.bottom_up?t:this.height-1-t,a=0;a<n;a++){var o=this.datav.getUint8(this.pos++,!0),c=s*this.width*4+2*a*4,h=o>>4,u=15&o,f=this.palette[h];if(this.data[c]=f.blue,this.data[c+1]=f.green,this.data[c+2]=f.red,this.data[c+3]=255,2*a+1>=this.width)break;f=this.palette[u],this.data[c+4]=f.blue,this.data[c+4+1]=f.green,this.data[c+4+2]=f.red,this.data[c+4+3]=255}e!==0&&(this.pos+=4-e)}},ec.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,s=0;s<this.width;s++){var a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*s;if(a<this.palette.length){var c=this.palette[a];this.data[o]=c.red,this.data[o+1]=c.green,this.data[o+2]=c.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}n!==0&&(this.pos+=4-n)}},ec.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var s=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(o&e)/e*255|0,h=(o>>5&e)/e*255|0,u=(o>>10&e)/e*255|0,f=o>>15?255:0,A=s*this.width*4+4*a;this.data[A]=u,this.data[A+1]=h,this.data[A+2]=c,this.data[A+3]=f}this.pos+=n}},ec.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),s=this.height-1;s>=0;s--){for(var a=this.bottom_up?s:this.height-1-s,o=0;o<this.width;o++){var c=this.datav.getUint16(this.pos,!0);this.pos+=2;var h=(c&e)/e*255|0,u=(c>>5&t)/t*255|0,f=(c>>11)/e*255|0,A=a*this.width*4+4*o;this.data[A]=f,this.data[A+1]=u,this.data[A+2]=h,this.data[A+3]=255}this.pos+=n}},ec.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*t;this.data[c]=o,this.data[c+1]=a,this.data[c+2]=s,this.data[c+3]=255}this.pos+=this.width%4}},ec.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),h=e*this.width*4+4*t;this.data[h]=o,this.data[h+1]=a,this.data[h+2]=s,this.data[h+3]=c}},ec.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(e,t,s,a){var o=new ec(e,!1),c=o.width,h=o.height,u={data:o.getData(),width:c,height:h},f=new g1(100).encode(u,100);return n.processJPEG.call(this,f,t,s,a)}})(Dn.API),uS.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(e,t,s,a){var o=new uS(e),c=o.width,h=o.height,u={data:o.getData(),width:c,height:h},f=new g1(100).encode(u,100);return n.processJPEG.call(this,f,t,s,a)}})(Dn.API),Dn.API.processRGBA=function(n,e,t){for(var s=n.data,a=s.length,o=new Uint8Array(a/4*3),c=new Uint8Array(a/4),h=0,u=0,f=0;f<a;f+=4){var A=s[f],m=s[f+1],v=s[f+2],g=s[f+3];o[h++]=A,o[h++]=m,o[h++]=v,c[u++]=g}var b=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(c),data:b,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Dn.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Pf=Dn.API,J0=Pf.getCharWidthsArray=function(n,e){var t,s,a=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),c=e.charSpace||this.internal.getCharSpace(),h=e.widths?e.widths:a.metadata.Unicode.widths,u=h.fof?h.fof:1,f=e.kerning?e.kerning:a.metadata.Unicode.kerning,A=f.fof?f.fof:1,m=e.doKerning!==!1,v=0,g=n.length,b=0,I=h[0]||u,N=[];for(t=0;t<g;t++)s=n.charCodeAt(t),typeof a.metadata.widthOfString=="function"?N.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(s))+c*(1e3/o)||0)/1e3):(v=m&&Vr(f[s])==="object"&&!isNaN(parseInt(f[s][b],10))?f[s][b]/A:0,N.push((h[s]||I)/u+v)),b=s;return N},tS=Pf.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),s=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return Pf.processArabic&&(n=Pf.processArabic(n)),typeof s.metadata.widthOfString=="function"?s.metadata.widthOfString(n,t,a)/t:J0.apply(this,arguments).reduce(function(o,c){return o+c},0)},nS=function(n,e,t,s){for(var a=[],o=0,c=n.length,h=0;o!==c&&h+e[o]<t;)h+=e[o],o++;a.push(n.slice(0,o));var u=o;for(h=0;o!==c;)h+e[o]>s&&(a.push(n.slice(u,o)),h=0,u=o),h+=e[o],o++;return u!==o&&a.push(n.slice(u,o)),a},sS=function(n,e,t){t||(t={});var s,a,o,c,h,u,f,A=[],m=[A],v=t.textIndent||0,g=0,b=0,I=n.split(" "),N=J0.apply(this,[" ",t])[0];if(u=t.lineIndent===-1?I[0].length+2:t.lineIndent||0){var S=Array(u).join(" "),E=[];I.map(function(R){(R=R.split(/\s*\n/)).length>1?E=E.concat(R.map(function(L,H){return(H&&L.length?`
`:"")+L})):E.push(R[0])}),I=E,u=tS.apply(this,[S,t])}for(o=0,c=I.length;o<c;o++){var _=0;if(s=I[o],u&&s[0]==`
`&&(s=s.substr(1),_=1),v+g+(b=(a=J0.apply(this,[s,t])).reduce(function(R,L){return R+L},0))>e||_){if(b>e){for(h=nS.apply(this,[s,a,e-(v+g),e]),A.push(h.shift()),A=[h.pop()];h.length;)m.push([h.shift()]);b=a.slice(s.length-(A[0]?A[0].length:0)).reduce(function(R,L){return R+L},0)}else A=[s];m.push(A),v=b+u,g=N}else A.push(s),v+=g+b,g=N}return f=u?function(R,L){return(L?S:"")+R.join(" ")}:function(R){return R.join(" ")},m.map(f)},Pf.splitTextToSize=function(n,e,t){var s,a=(t=t||{}).fontSize||this.internal.getFontSize(),o=(function(A){if(A.widths&&A.kerning)return{widths:A.widths,kerning:A.kerning};var m=this.internal.getFont(A.fontName,A.fontStyle),v="Unicode";return m.metadata[v]?{widths:m.metadata[v].widths||{0:1},kerning:m.metadata[v].kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);s=Array.isArray(n)?n:String(n).split(/\r?\n/);var c=1*this.internal.scaleFactor*e/a;o.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/a:0,o.lineIndent=t.lineIndent;var h,u,f=[];for(h=0,u=s.length;h<u;h++)f=f.concat(sS.apply(this,[s[h],c,o]));return f},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",s={},a={},o=0;o<16;o++)s[t[o]]=e[o],a[e[o]]=t[o];var c=function(v){return"0x"+parseInt(v,10).toString(16)},h=n.__fontmetrics__.compress=function(v){var g,b,I,N,S=["{"];for(var E in v){if(g=v[E],isNaN(parseInt(E,10))?b="'"+E+"'":(E=parseInt(E,10),b=(b=c(E).slice(2)).slice(0,-1)+a[b.slice(-1)]),typeof g=="number")g<0?(I=c(g).slice(3),N="-"):(I=c(g).slice(2),N=""),I=N+I.slice(0,-1)+a[I.slice(-1)];else{if(Vr(g)!=="object")throw new Error("Don't know what to do with value type "+Vr(g)+".");I=h(g)}S.push(b+I)}return S.push("}"),S.join("")},u=n.__fontmetrics__.uncompress=function(v){if(typeof v!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,b,I,N,S={},E=1,_=S,R=[],L="",H="",D=v.length-1,Q=1;Q<D;Q+=1)(N=v[Q])=="'"?g?(I=g.join(""),g=void 0):g=[]:g?g.push(N):N=="{"?(R.push([_,I]),_={},I=void 0):N=="}"?((b=R.pop())[0][b[1]]=_,I=void 0,_=b[0]):N=="-"?E=-1:I===void 0?s.hasOwnProperty(N)?(L+=s[N],I=parseInt(L,16)*E,E=1,L=""):L+=N:s.hasOwnProperty(N)?(H+=s[N],_[I]=parseInt(H,16)*E,E=1,I=void 0,H=""):H+=N;return S},f={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},A={Unicode:{Courier:f,"Courier-Bold":f,"Courier-BoldOblique":f,"Courier-Oblique":f,Helvetica:f,"Helvetica-Bold":f,"Helvetica-BoldOblique":f,"Helvetica-Oblique":f,"Times-Roman":f,"Times-Bold":f,"Times-BoldItalic":f,"Times-Italic":f}},m={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(v){var g=v.font,b=m.Unicode[g.postScriptName];b&&(g.metadata.Unicode={},g.metadata.Unicode.widths=b.widths,g.metadata.Unicode.kerning=b.kerning);var I=A.Unicode[g.postScriptName];I&&(g.metadata.Unicode.encoding=I,g.encoding=I.codePages[0])}])})(Dn.API),(function(n){var e=function(t){for(var s=t.length,a=new Uint8Array(s),o=0;o<s;o++)a[o]=t.charCodeAt(o);return a};n.API.events.push(["addFont",function(t){var s=void 0,a=t.font,o=t.instance;if(!a.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(s=o.existsFileInVFS(a.postScriptName)===!1?o.loadFile(a.postScriptName):o.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(c,h){h=/^\x00\x01\x00\x00/.test(h)?e(h):e(vv(h)),c.metadata=n.API.TTFFont.open(h),c.metadata.Unicode=c.metadata.Unicode||{encoding:{},kerning:{},widths:[]},c.metadata.glyIdsUsed=[0]})(a,s)}}])})(Dn),Dn.API.addSvgAsImage=function(n,e,t,s,a,o,c,h){if(isNaN(e)||isNaN(t))throw aa.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(a))throw aa.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=s,u.height=a;var f=u.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,u.width,u.height);var A={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return(ls.canvg?Promise.resolve(ls.canvg):Xy(()=>import("./index.es-nzA0ZZ5d.js"),[],import.meta.url)).catch(function(v){return Promise.reject(new Error("Could not load canvg: "+v))}).then(function(v){return v.default?v.default:v}).then(function(v){return v.fromString(f,n,A)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(v){return v.render(A)}).then(function(){m.addImage(u.toDataURL("image/jpeg",1),e,t,s,a,c,h)})},Dn.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var s=1;s<=this.internal.getNumberOfPages();s++)for(var a=0;a<this.internal.pages[s].length;a++)this.internal.pages[s][a]=this.internal.pages[s][a].replace(e,t);return this},Dn.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var s,a,o,c={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},h=Object.keys(c),u=[],f=0,A=0,m=0;function v(b,I){var N,S=!1;for(N=0;N<b.length;N+=1)b[N]===I&&(S=!0);return S}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(c)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var g=h.length;for(m=0;m<g;m+=1)t[h[m]].value=t[h[m]].defaultValue,t[h[m]].explicitSet=!1}if(Vr(n)==="object"){for(a in n)if(o=n[a],v(h,a)&&o!==void 0){if(t[a].type==="boolean"&&typeof o=="boolean")t[a].value=o;else if(t[a].type==="name"&&v(t[a].valueSet,o))t[a].value=o;else if(t[a].type==="integer"&&Number.isInteger(o))t[a].value=o;else if(t[a].type==="array"){for(f=0;f<o.length;f+=1)if(s=!0,o[f].length===1&&typeof o[f][0]=="number")u.push(String(o[f]-1));else if(o[f].length>1){for(A=0;A<o[f].length;A+=1)typeof o[f][A]!="number"&&(s=!1);s===!0&&u.push([o[f][0]-1,o[f][1]-1].join(" "))}t[a].value="["+u.join(" ")+"]"}else t[a].value=t[a].defaultValue;t[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var b,I=[];for(b in t)t[b].explicitSet===!0&&(t[b].type==="name"?I.push("/"+b+" /"+t[b].value):I.push("/"+b+" "+t[b].value));I.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+I.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(n){var e=function(){var s='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(s)),c=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),h=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),f=o.length+c.length+h.length+a.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(a+o+c+h+u),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(s,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:s,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(Dn.API),(function(n){var e=n.API,t=e.pdfEscape16=function(o,c){for(var h,u=c.metadata.Unicode.widths,f=["","0","00","000","0000"],A=[""],m=0,v=o.length;m<v;++m){if(h=c.metadata.characterToGlyph(o.charCodeAt(m)),c.metadata.glyIdsUsed.push(h),c.metadata.toUnicode[h]=o.charCodeAt(m),u.indexOf(h)==-1&&(u.push(h),u.push([parseInt(c.metadata.widthOfGlyph(h),10)])),h=="0")return A.join("");h=h.toString(16),A.push(f[4-h.length],h)}return A.join("")},s=function(o){var c,h,u,f,A,m,v;for(A=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],m=0,v=(h=Object.keys(o).sort(function(g,b){return g-b})).length;m<v;m++)c=h[m],u.length>=100&&(A+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),o[c]!==void 0&&o[c]!==null&&typeof o[c].toString=="function"&&(f=("0000"+o[c].toString(16)).slice(-4),c=("0000"+(+c).toString(16)).slice(-4),u.push("<"+c+"><"+f+">"));return u.length&&(A+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),A+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(c){var h=c.font,u=c.out,f=c.newObject,A=c.putStream;if(h.metadata instanceof n.API.TTFFont&&h.encoding==="Identity-H"){for(var m=h.metadata.Unicode.widths,v=h.metadata.subset.encode(h.metadata.glyIdsUsed,1),g="",b=0;b<v.length;b++)g+=String.fromCharCode(v[b]);var I=f();A({data:g,addLength1:!0,objectId:I}),u("endobj");var N=f();A({data:s(h.metadata.toUnicode),addLength1:!0,objectId:N}),u("endobj");var S=f();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+zf(h.fontName)),u("/FontFile2 "+I+" 0 R"),u("/FontBBox "+n.API.PDFObject.convert(h.metadata.bbox)),u("/Flags "+h.metadata.flags),u("/StemV "+h.metadata.stemV),u("/ItalicAngle "+h.metadata.italicAngle),u("/Ascent "+h.metadata.ascender),u("/Descent "+h.metadata.decender),u("/CapHeight "+h.metadata.capHeight),u(">>"),u("endobj");var E=f();u("<<"),u("/Type /Font"),u("/BaseFont /"+zf(h.fontName)),u("/FontDescriptor "+S+" 0 R"),u("/W "+n.API.PDFObject.convert(m)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+h.encoding+")"),u(">>"),u(">>"),u("endobj"),h.objectNumber=f(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+N+" 0 R"),u("/BaseFont /"+zf(h.fontName)),u("/Encoding /"+h.encoding),u("/DescendantFonts ["+E+" 0 R]"),u(">>"),u("endobj"),h.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(c){var h=c.font,u=c.out,f=c.newObject,A=c.putStream;if(h.metadata instanceof n.API.TTFFont&&h.encoding==="WinAnsiEncoding"){for(var m=h.metadata.rawData,v="",g=0;g<m.length;g++)v+=String.fromCharCode(m[g]);var b=f();A({data:v,addLength1:!0,objectId:b}),u("endobj");var I=f();A({data:s(h.metadata.toUnicode),addLength1:!0,objectId:I}),u("endobj");var N=f();u("<<"),u("/Descent "+h.metadata.decender),u("/CapHeight "+h.metadata.capHeight),u("/StemV "+h.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+b+" 0 R"),u("/Flags 96"),u("/FontBBox "+n.API.PDFObject.convert(h.metadata.bbox)),u("/FontName /"+zf(h.fontName)),u("/ItalicAngle "+h.metadata.italicAngle),u("/Ascent "+h.metadata.ascender),u(">>"),u("endobj"),h.objectNumber=f();for(var S=0;S<h.metadata.hmtx.widths.length;S++)h.metadata.hmtx.widths[S]=parseInt(h.metadata.hmtx.widths[S]*(1e3/h.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+I+" 0 R/BaseFont/"+zf(h.fontName)+"/FontDescriptor "+N+" 0 R/Encoding/"+h.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(h.metadata.hmtx.widths)+">>"),u("endobj"),h.isAlreadyPutted=!0}})(o)}]);var a=function(o){var c,h=o.text||"",u=o.x,f=o.y,A=o.options||{},m=o.mutex||{},v=m.pdfEscape,g=m.activeFontKey,b=m.fonts,I=g,N="",S=0,E="",_=b[I].encoding;if(b[I].encoding!=="Identity-H")return{text:h,x:u,y:f,options:A,mutex:m};for(E=h,I=g,Array.isArray(h)&&(E=h[0]),S=0;S<E.length;S+=1)b[I].metadata.hasOwnProperty("cmap")&&(c=b[I].metadata.cmap.unicode.codeMap[E[S].charCodeAt(0)]),c||E[S].charCodeAt(0)<256&&b[I].metadata.hasOwnProperty("Unicode")?N+=E[S]:N+="";var R="";return parseInt(I.slice(1))<14||_==="WinAnsiEncoding"?R=v(N,I).split("").map(function(L){return L.charCodeAt(0).toString(16)}).join(""):_==="Identity-H"&&(R=t(N,b[I])),m.isHex=!0,{text:R,x:u,y:f,options:A,mutex:m}};e.events.push(["postProcessText",function(o){var c=o.text||"",h=[],u={text:c,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(c)){var f=0;for(f=0;f<c.length;f+=1)Array.isArray(c[f])&&c[f].length===3?h.push([a(Object.assign({},u,{text:c[f][0]})).text,c[f][1],c[f][2]]):h.push(a(Object.assign({},u,{text:c[f]})).text);o.text=h}else o.text=a(Object.assign({},u,{text:c})).text}])})(Dn),(function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,s){return e.call(this),this.internal.vFS[t]=s,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(Dn.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(s){var a,o,c,h,u,f,A,m=e,v=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],b={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},I={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},N=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],S=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),E=!1,_=0;this.__bidiEngine__={};var R=function(P){var V=P.charCodeAt(),G=V>>8,ie=I[G];return ie!==void 0?m[256*ie+(255&V)]:G===252||G===253?"AL":S.test(G)?"L":G===8?"R":"N"},L=function(P){for(var V,G=0;G<P.length;G++){if((V=R(P.charAt(G)))==="L")return!1;if(V==="R")return!0}return!1},H=function(P,V,G,ie){var de,X,q,Z,oe=V[ie];switch(oe){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":E=!1;break;case"N":case"AN":break;case"EN":E&&(oe="AN");break;case"AL":E=!0,oe="R";break;case"WS":case"BN":oe="N";break;case"CS":ie<1||ie+1>=V.length||(de=G[ie-1])!=="EN"&&de!=="AN"||(X=V[ie+1])!=="EN"&&X!=="AN"?oe="N":E&&(X="AN"),oe=X===de?X:"N";break;case"ES":oe=(de=ie>0?G[ie-1]:"B")==="EN"&&ie+1<V.length&&V[ie+1]==="EN"?"EN":"N";break;case"ET":if(ie>0&&G[ie-1]==="EN"){oe="EN";break}if(E){oe="N";break}for(q=ie+1,Z=V.length;q<Z&&V[q]==="ET";)q++;oe=q<Z&&V[q]==="EN"?"EN":"N";break;case"NSM":if(c&&!h){for(Z=V.length,q=ie+1;q<Z&&V[q]==="NSM";)q++;if(q<Z){var ye=P[ie],ne=ye>=1425&&ye<=2303||ye===64286;if(de=V[q],ne&&(de==="R"||de==="AL")){oe="R";break}}}oe=ie<1||(de=V[ie-1])==="B"?"N":G[ie-1];break;case"B":E=!1,a=!0,oe=_;break;case"S":o=!0,oe="N"}return oe},D=function(P,V,G){var ie=P.split("");return G&&Q(ie,G,{hiLevel:_}),ie.reverse(),V&&V.reverse(),ie.join("")},Q=function(P,V,G){var ie,de,X,q,Z,oe=-1,ye=P.length,ne=0,M=[],W=_?g:v,ae=[];for(E=!1,a=!1,o=!1,de=0;de<ye;de++)ae[de]=R(P[de]);for(X=0;X<ye;X++){if(Z=ne,M[X]=H(P,ae,M,X),ie=240&(ne=W[Z][b[M[X]]]),ne&=15,V[X]=q=W[ne][5],ie>0)if(ie===16){for(de=oe;de<X;de++)V[de]=1;oe=-1}else oe=-1;if(W[ne][6])oe===-1&&(oe=X);else if(oe>-1){for(de=oe;de<X;de++)V[de]=q;oe=-1}ae[X]==="B"&&(V[X]=0),G.hiLevel|=q}o&&(function(ue,ce,ge){for(var Se=0;Se<ge;Se++)if(ue[Se]==="S"){ce[Se]=_;for(var xe=Se-1;xe>=0&&ue[xe]==="WS";xe--)ce[xe]=_}})(ae,V,ye)},O=function(P,V,G,ie,de){if(!(de.hiLevel<P)){if(P===1&&_===1&&!a)return V.reverse(),void(G&&G.reverse());for(var X,q,Z,oe,ye=V.length,ne=0;ne<ye;){if(ie[ne]>=P){for(Z=ne+1;Z<ye&&ie[Z]>=P;)Z++;for(oe=ne,q=Z-1;oe<q;oe++,q--)X=V[oe],V[oe]=V[q],V[q]=X,G&&(X=G[oe],G[oe]=G[q],G[q]=X);ne=Z}ne++}}},$=function(P,V,G){var ie=P.split(""),de={hiLevel:_};return G||(G=[]),Q(ie,G,de),(function(X,q,Z){if(Z.hiLevel!==0&&A)for(var oe,ye=0;ye<X.length;ye++)q[ye]===1&&(oe=N.indexOf(X[ye]))>=0&&(X[ye]=N[oe+1])})(ie,G,de),O(2,ie,V,G,de),O(1,ie,V,G,de),ie.join("")};return this.__bidiEngine__.doBidiReorder=function(P,V,G){if((function(de,X){if(X)for(var q=0;q<de.length;q++)X[q]=q;h===void 0&&(h=L(de)),f===void 0&&(f=L(de))})(P,V),c||!u||f)if(c&&u&&h^f)_=h?1:0,P=D(P,V,G);else if(!c&&u&&f)_=h?1:0,P=$(P,V,G),P=D(P,V);else if(!c||h||u||f){if(c&&!u&&h^f)P=D(P,V),h?(_=0,P=$(P,V,G)):(_=1,P=$(P,V,G),P=D(P,V));else if(c&&h&&!u&&f)_=1,P=$(P,V,G),P=D(P,V);else if(!c&&!u&&h^f){var ie=A;h?(_=1,P=$(P,V,G),_=0,A=!1,P=$(P,V,G),A=ie):(_=0,P=$(P,V,G),P=D(P,V),_=1,A=!1,P=$(P,V,G),A=ie,P=D(P,V))}}else _=0,P=$(P,V,G);else _=h?1:0,P=$(P,V,G);return P},this.__bidiEngine__.setOptions=function(P){P&&(c=P.isInputVisual,u=P.isOutputVisual,h=P.isInputRtl,f=P.isOutputRtl,A=P.isSymmetricSwapping)},this.__bidiEngine__.setOptions(s),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(s){var a=s.text;s.x,s.y;var o=s.options||{};s.mutex,o.lang;var c=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,t.setOptions(o),Object.prototype.toString.call(a)==="[object Array]"){var h=0;for(c=[],h=0;h<a.length;h+=1)Object.prototype.toString.call(a[h])==="[object Array]"?c.push([t.doBidiReorder(a[h][0]),a[h][1],a[h][2]]):c.push([t.doBidiReorder(a[h])]);s.text=c}else s.text=t.doBidiReorder(a);t.setOptions({isInputVisual:!0})}])})(Dn),Dn.API.TTFFont=(function(){function n(e){var t;if(this.rawData=e,t=this.contents=new zd(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new pV(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new nV(this.contents),this.head=new rV(this),this.name=new AV(this),this.cmap=new _I(this),this.toUnicode={},this.hhea=new aV(this),this.maxp=new cV(this),this.hmtx=new uV(this),this.post=new oV(this),this.os2=new iV(this),this.loca=new mV(this),this.glyf=new dV(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,s,a,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var c,h,u,f;for(f=[],c=0,h=(u=this.bbox).length;c<h;c++)e=u[c],f.push(Math.round(e*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(s=255&(a=this.post.italic_angle),32768&(t=a>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+s)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,s){var a,o,c,h;for(c=0,o=0,h=(e=""+e).length;0<=h?o<h:o>h;o=0<=h?++o:--o)a=e.charCodeAt(o),c+=this.widthOfGlyph(this.characterToGlyph(a))+s*(1e3/t)||0;return c*(t/1e3)},n.prototype.lineHeight=function(e,t){var s;return t==null&&(t=!1),s=t?this.lineGap:0,(this.ascender+s-this.decender)/1e3*e},n})();var hc,zd=(function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,s;for(s=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)s[t]=String.fromCharCode(this.readByte());return s.join("")},n.prototype.writeString=function(e){var t,s,a;for(a=[],t=0,s=e.length;0<=s?t<s:t>s;t=0<=s?++t:--t)a.push(this.writeByte(e.charCodeAt(t)));return a},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,s,a,o,c,h,u;return e=this.readByte(),t=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),c=this.readByte(),h=this.readByte(),u=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^s)+4294967296*(255^a)+16777216*(255^o)+65536*(255^c)+256*(255^h)+(255^u)+1):72057594037927940*e+281474976710656*t+1099511627776*s+4294967296*a+16777216*o+65536*c+256*h+u},n.prototype.writeLongLong=function(e){var t,s;return t=Math.floor(e/4294967296),s=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(s>>24&255),this.writeByte(s>>16&255),this.writeByte(s>>8&255),this.writeByte(255&s)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,s;for(t=[],s=0;0<=e?s<e:s>e;s=0<=e?++s:--s)t.push(this.readByte());return t},n.prototype.write=function(e){var t,s,a,o;for(o=[],s=0,a=e.length;s<a;s++)t=e[s],o.push(this.writeByte(t));return o},n})(),nV=(function(){var n;function e(t){var s,a,o;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},a=0,o=this.tableCount;0<=o?a<o:a>o;a=0<=o?++a:--a)s={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[s.tag]=s}return e.prototype.encode=function(t){var s,a,o,c,h,u,f,A,m,v,g,b,I;for(I in g=Object.keys(t).length,u=Math.log(2),m=16*Math.floor(Math.log(g)/u),c=Math.floor(m/u),A=16*g-m,(a=new zd).writeInt(this.scalarType),a.writeShort(g),a.writeShort(m),a.writeShort(c),a.writeShort(A),o=16*g,f=a.pos+o,h=null,b=[],t)for(v=t[I],a.writeString(I),a.writeInt(n(v)),a.writeInt(f),a.writeInt(v.length),b=b.concat(v),I==="head"&&(h=f),f+=v.length;f%4;)b.push(0),f++;return a.write(b),s=2981146554-n(a.data),a.pos=h+8,a.writeUInt32(s),a.data},n=function(t){var s,a,o,c;for(t=FI.call(t);t.length%4;)t.push(0);for(o=new zd(t),a=0,s=0,c=t.length;s<c;s=s+=4)a+=o.readUInt32();return 4294967295&a},e})(),sV={}.hasOwnProperty,qc=function(n,e){for(var t in e)sV.call(e,t)&&(n[t]=e[t]);function s(){this.constructor=n}return s.prototype=e.prototype,n.prototype=new s,n.__super__=e.prototype,n};hc=(function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var rV=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return qc(n,hc),n.prototype.tag="head",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},n.prototype.encode=function(e){var t;return(t=new zd).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},n})(),dS=(function(){function n(e,t){var s,a,o,c,h,u,f,A,m,v,g,b,I,N,S,E,_;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),m=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=e.readByte();break;case 4:for(g=e.readUInt16(),v=g/2,e.pos+=6,o=(function(){var R,L;for(L=[],u=R=0;0<=v?R<v:R>v;u=0<=v?++R:--R)L.push(e.readUInt16());return L})(),e.pos+=2,I=(function(){var R,L;for(L=[],u=R=0;0<=v?R<v:R>v;u=0<=v?++R:--R)L.push(e.readUInt16());return L})(),f=(function(){var R,L;for(L=[],u=R=0;0<=v?R<v:R>v;u=0<=v?++R:--R)L.push(e.readUInt16());return L})(),A=(function(){var R,L;for(L=[],u=R=0;0<=v?R<v:R>v;u=0<=v?++R:--R)L.push(e.readUInt16());return L})(),a=(this.length-e.pos+this.offset)/2,h=(function(){var R,L;for(L=[],u=R=0;0<=a?R<a:R>a;u=0<=a?++R:--R)L.push(e.readUInt16());return L})(),u=S=0,_=o.length;S<_;u=++S)for(N=o[u],s=E=b=I[u];b<=N?E<=N:E>=N;s=b<=N?++E:--E)A[u]===0?c=s+f[u]:(c=h[A[u]/2+(s-b)-(v-u)]||0)!==0&&(c+=f[u]),this.codeMap[s]=65535&c}e.pos=m}return n.encode=function(e,t){var s,a,o,c,h,u,f,A,m,v,g,b,I,N,S,E,_,R,L,H,D,Q,O,$,P,V,G,ie,de,X,q,Z,oe,ye,ne,M,W,ae,ue,ce,ge,Se,xe,Ie,Ue,Pe;switch(ie=new zd,c=Object.keys(e).sort(function(rt,Le){return rt-Le}),t){case"macroman":for(I=0,N=(function(){var rt=[];for(b=0;b<256;++b)rt.push(0);return rt})(),E={0:0},o={},de=0,oe=c.length;de<oe;de++)E[xe=e[a=c[de]]]==null&&(E[xe]=++I),o[a]={old:e[a],new:E[e[a]]},N[a]=E[e[a]];return ie.writeUInt16(1),ie.writeUInt16(0),ie.writeUInt32(12),ie.writeUInt16(0),ie.writeUInt16(262),ie.writeUInt16(0),ie.write(N),{charMap:o,subtable:ie.data,maxGlyphID:I+1};case"unicode":for(V=[],m=[],_=0,E={},s={},S=f=null,X=0,ye=c.length;X<ye;X++)E[L=e[a=c[X]]]==null&&(E[L]=++_),s[a]={old:L,new:E[L]},h=E[L]-a,S!=null&&h===f||(S&&m.push(S),V.push(a),f=h),S=a;for(S&&m.push(S),m.push(65535),V.push(65535),$=2*(O=V.length),Q=2*Math.pow(Math.log(O)/Math.LN2,2),v=Math.log(Q/2)/Math.LN2,D=2*O-Q,u=[],H=[],g=[],b=q=0,ne=V.length;q<ne;b=++q){if(P=V[b],A=m[b],P===65535){u.push(0),H.push(0);break}if(P-(G=s[P].new)>=32768)for(u.push(0),H.push(2*(g.length+O-b)),a=Z=P;P<=A?Z<=A:Z>=A;a=P<=A?++Z:--Z)g.push(s[a].new);else u.push(G-P),H.push(0)}for(ie.writeUInt16(3),ie.writeUInt16(1),ie.writeUInt32(12),ie.writeUInt16(4),ie.writeUInt16(16+8*O+2*g.length),ie.writeUInt16(0),ie.writeUInt16($),ie.writeUInt16(Q),ie.writeUInt16(v),ie.writeUInt16(D),ge=0,M=m.length;ge<M;ge++)a=m[ge],ie.writeUInt16(a);for(ie.writeUInt16(0),Se=0,W=V.length;Se<W;Se++)a=V[Se],ie.writeUInt16(a);for(Ie=0,ae=u.length;Ie<ae;Ie++)h=u[Ie],ie.writeUInt16(h);for(Ue=0,ue=H.length;Ue<ue;Ue++)R=H[Ue],ie.writeUInt16(R);for(Pe=0,ce=g.length;Pe<ce;Pe++)I=g[Pe],ie.writeUInt16(I);return{charMap:s,subtable:ie.data,maxGlyphID:_+1}}},n})(),_I=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return qc(n,hc),n.prototype.tag="cmap",n.prototype.parse=function(e){var t,s,a;for(e.pos=this.offset,this.version=e.readUInt16(),a=e.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=a?s<a:s>a;s=0<=a?++s:--s)t=new dS(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},n.encode=function(e,t){var s,a;return t==null&&(t="macroman"),s=dS.encode(e,t),(a=new zd).writeUInt16(0),a.writeUInt16(1),s.table=a.data.concat(s.subtable),s},n})(),aV=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return qc(n,hc),n.prototype.tag="hhea",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},n})(),iV=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return qc(n,hc),n.prototype.tag="OS/2",n.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,s;for(s=[],t=0;t<10;++t)s.push(e.readByte());return s})(),this.charRange=(function(){var t,s;for(s=[],t=0;t<4;++t)s.push(e.readInt());return s})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,s;for(s=[],t=0;t<2;t=++t)s.push(e.readInt());return s})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},n})(),oV=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return qc(n,hc),n.prototype.tag="post",n.prototype.parse=function(e){var t,s,a;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(s=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=s?o<s:o>s;o=0<=s?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],a=[];e.pos<this.offset+this.length;)t=e.readByte(),a.push(this.names.push(e.readString(t)));return a;case 151552:return s=e.readUInt16(),this.offsets=e.read(s);case 262144:return this.map=(function(){var c,h,u;for(u=[],o=c=0,h=this.file.maxp.numGlyphs;0<=h?c<h:c>h;o=0<=h?++c:--c)u.push(e.readUInt32());return u}).call(this)}},n})(),lV=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},AV=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return qc(n,hc),n.prototype.tag="name",n.prototype.parse=function(e){var t,s,a,o,c,h,u,f,A,m,v;for(e.pos=this.offset,e.readShort(),t=e.readShort(),h=e.readShort(),s=[],o=0;0<=t?o<t:o>t;o=0<=t?++o:--o)s.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+h+e.readShort()});for(u={},o=A=0,m=s.length;A<m;o=++A)a=s[o],e.pos=a.offset,f=e.readString(a.length),c=new lV(f,a),u[v=a.nameID]==null&&(u[v]=[]),u[a.nameID].push(c);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},n})(),cV=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return qc(n,hc),n.prototype.tag="maxp",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},n})(),uV=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return qc(n,hc),n.prototype.tag="hmtx",n.prototype.parse=function(e){var t,s,a,o,c,h,u;for(e.pos=this.offset,this.metrics=[],t=0,h=this.file.hhea.numberOfMetrics;0<=h?t<h:t>h;t=0<=h?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var f,A;for(A=[],t=f=0;0<=a?f<a:f>a;t=0<=a?++f:--f)A.push(e.readInt16());return A})(),this.widths=(function(){var f,A,m,v;for(v=[],f=0,A=(m=this.metrics).length;f<A;f++)o=m[f],v.push(o.advance);return v}).call(this),s=this.widths[this.widths.length-1],u=[],t=c=0;0<=a?c<a:c>a;t=0<=a?++c:--c)u.push(this.widths.push(s));return u},n.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},n})(),FI=[].slice,dV=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return qc(n,hc),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(e){var t,s,a,o,c,h,u,f,A,m;return e in this.cache?this.cache[e]:(o=this.file.loca,t=this.file.contents,s=o.indexOf(e),(a=o.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+s,c=(h=new zd(t.read(a))).readShort(),f=h.readShort(),m=h.readShort(),u=h.readShort(),A=h.readShort(),this.cache[e]=c===-1?new fV(h,f,m,u,A):new hV(h,c,f,m,u,A),this.cache[e]))},n.prototype.encode=function(e,t,s){var a,o,c,h,u;for(c=[],o=[],h=0,u=t.length;h<u;h++)a=e[t[h]],o.push(c.length),a&&(c=c.concat(a.encode(s)));return o.push(c.length),{table:c,offsets:o}},n})(),hV=(function(){function n(e,t,s,a,o,c){this.raw=e,this.numberOfContours=t,this.xMin=s,this.yMin=a,this.xMax=o,this.yMax=c,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),fV=(function(){function n(e,t,s,a,o){var c,h;for(this.raw=e,this.xMin=t,this.yMin=s,this.xMax=a,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],c=this.raw;h=c.readShort(),this.glyphOffsets.push(c.pos),this.glyphIDs.push(c.readUInt16()),32&h;)c.pos+=1&h?4:2,128&h?c.pos+=8:64&h?c.pos+=4:8&h&&(c.pos+=2)}return n.prototype.encode=function(){var e,t,s;for(t=new zd(FI.call(this.raw.data)),e=0,s=this.glyphIDs.length;e<s;++e)t.pos=this.glyphOffsets[e];return t.data},n})(),mV=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return qc(n,hc),n.prototype.tag="loca",n.prototype.parse=function(e){var t,s;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var a,o;for(o=[],s=0,a=this.length;s<a;s+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var a,o;for(o=[],s=0,a=this.length;s<a;s+=4)o.push(e.readUInt32());return o}).call(this)},n.prototype.indexOf=function(e){return this.offsets[e]},n.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},n.prototype.encode=function(e,t){for(var s=new Uint32Array(this.offsets.length),a=0,o=0,c=0;c<s.length;++c)if(s[c]=a,o<t.length&&t[o]==c){++o,s[c]=a;var h=this.offsets[c],u=this.offsets[c+1]-h;u>0&&(a+=u)}for(var f=new Array(4*s.length),A=0;A<s.length;++A)f[4*A+3]=255&s[A],f[4*A+2]=(65280&s[A])>>8,f[4*A+1]=(16711680&s[A])>>16,f[4*A]=(4278190080&s[A])>>24;return f},n})(),pV=(function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,s,a,o;for(t in a=this.font.cmap.tables[0].codeMap,e={},o=this.subset)s=o[t],e[t]=a[s];return e},n.prototype.glyphsFor=function(e){var t,s,a,o,c,h,u;for(a={},c=0,h=e.length;c<h;c++)a[o=e[c]]=this.font.glyf.glyphFor(o);for(o in t=[],a)(s=a[o])!=null&&s.compound&&t.push.apply(t,s.glyphIDs);if(t.length>0)for(o in u=this.glyphsFor(t))s=u[o],a[o]=s;return a},n.prototype.encode=function(e,t){var s,a,o,c,h,u,f,A,m,v,g,b,I,N,S;for(a in s=_I.encode(this.generateCmap(),"unicode"),c=this.glyphsFor(e),g={0:0},S=s.charMap)g[(u=S[a]).old]=u.new;for(b in v=s.maxGlyphID,c)b in g||(g[b]=v++);return A=(function(E){var _,R;for(_ in R={},E)R[E[_]]=_;return R})(g),m=Object.keys(A).sort(function(E,_){return E-_}),I=(function(){var E,_,R;for(R=[],E=0,_=m.length;E<_;E++)h=m[E],R.push(A[h]);return R})(),o=this.font.glyf.encode(c,I,g),f=this.font.loca.encode(o.offsets,I),N={cmap:this.font.cmap.raw(),glyf:o.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(N["OS/2"]=this.font.os2.raw()),this.font.directory.encode(N)},n})();Dn.API.PDFObject=(function(){var n;function e(){}return n=function(t,s){return(Array(s+1).join("0")+t).slice(-s)},e.convert=function(t){var s,a,o,c;if(Array.isArray(t))return"["+(function(){var h,u,f;for(f=[],h=0,u=t.length;h<u;h++)s=t[h],f.push(e.convert(s));return f})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(a in o=["<<"],t)c=t[a],o.push("/"+a+" "+e.convert(c));return o.push(">>"),o.join(`
`)}return""+t},e})();const gV=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:$9,AcroFormAppearance:Cn,AcroFormButton:Wi,AcroFormCheckBox:Gp,AcroFormChoiceField:zh,AcroFormComboBox:$h,AcroFormEditBox:Kp,AcroFormListBox:Gh,AcroFormPasswordField:$p,AcroFormPushButton:zp,AcroFormRadioButton:Yh,AcroFormTextField:Qd,GState:dg,ShadingPattern:Sd,TilingPattern:Qh,default:Dn,jsPDF:Dn},Symbol.toStringTag,{value:"Module"})),vV=A6(gV);var xv={exports:{}};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 */var xV=xv.exports,hS;function yV(){return hS||(hS=1,(function(n,e){(function(t,s){n.exports=s()})(xV,(function(){/*! *****************************************************************************
		    Copyright (c) Microsoft Corporation.

		    Permission to use, copy, modify, and/or distribute this software for any
		    purpose with or without fee is hereby granted.

		    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
		    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
		    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
		    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
		    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
		    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
		    PERFORMANCE OF THIS SOFTWARE.
		    ***************************************************************************** */var t=function(j,x){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,B){C.__proto__=B}||function(C,B){for(var z in B)Object.prototype.hasOwnProperty.call(B,z)&&(C[z]=B[z])},t(j,x)};function s(j,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");t(j,x);function C(){this.constructor=j}j.prototype=x===null?Object.create(x):(C.prototype=x.prototype,new C)}var a=function(){return a=Object.assign||function(x){for(var C,B=1,z=arguments.length;B<z;B++){C=arguments[B];for(var se in C)Object.prototype.hasOwnProperty.call(C,se)&&(x[se]=C[se])}return x},a.apply(this,arguments)};function o(j,x,C,B){function z(se){return se instanceof C?se:new C(function(he){he(se)})}return new(C||(C=Promise))(function(se,he){function Be(Ke){try{De(B.next(Ke))}catch(We){he(We)}}function Ce(Ke){try{De(B.throw(Ke))}catch(We){he(We)}}function De(Ke){Ke.done?se(Ke.value):z(Ke.value).then(Be,Ce)}De((B=B.apply(j,[])).next())})}function c(j,x){var C={label:0,sent:function(){if(se[0]&1)throw se[1];return se[1]},trys:[],ops:[]},B,z,se,he;return he={next:Be(0),throw:Be(1),return:Be(2)},typeof Symbol=="function"&&(he[Symbol.iterator]=function(){return this}),he;function Be(De){return function(Ke){return Ce([De,Ke])}}function Ce(De){if(B)throw new TypeError("Generator is already executing.");for(;C;)try{if(B=1,z&&(se=De[0]&2?z.return:De[0]?z.throw||((se=z.return)&&se.call(z),0):z.next)&&!(se=se.call(z,De[1])).done)return se;switch(z=0,se&&(De=[De[0]&2,se.value]),De[0]){case 0:case 1:se=De;break;case 4:return C.label++,{value:De[1],done:!1};case 5:C.label++,z=De[1],De=[0];continue;case 7:De=C.ops.pop(),C.trys.pop();continue;default:if(se=C.trys,!(se=se.length>0&&se[se.length-1])&&(De[0]===6||De[0]===2)){C=0;continue}if(De[0]===3&&(!se||De[1]>se[0]&&De[1]<se[3])){C.label=De[1];break}if(De[0]===6&&C.label<se[1]){C.label=se[1],se=De;break}if(se&&C.label<se[2]){C.label=se[2],C.ops.push(De);break}se[2]&&C.ops.pop(),C.trys.pop();continue}De=x.call(j,C)}catch(Ke){De=[6,Ke],z=0}finally{B=se=0}if(De[0]&5)throw De[1];return{value:De[0]?De[1]:void 0,done:!0}}}function h(j,x,C){if(arguments.length===2)for(var B=0,z=x.length,se;B<z;B++)(se||!(B in x))&&(se||(se=Array.prototype.slice.call(x,0,B)),se[B]=x[B]);return j.concat(se||x)}for(var u=(function(){function j(x,C,B,z){this.left=x,this.top=C,this.width=B,this.height=z}return j.prototype.add=function(x,C,B,z){return new j(this.left+x,this.top+C,this.width+B,this.height+z)},j.fromClientRect=function(x,C){return new j(C.left+x.windowBounds.left,C.top+x.windowBounds.top,C.width,C.height)},j.fromDOMRectList=function(x,C){var B=Array.from(C).find(function(z){return z.width!==0});return B?new j(B.left+x.windowBounds.left,B.top+x.windowBounds.top,B.width,B.height):j.EMPTY},j.EMPTY=new j(0,0,0,0),j})(),f=function(j,x){return u.fromClientRect(j,x.getBoundingClientRect())},A=function(j){var x=j.body,C=j.documentElement;if(!x||!C)throw new Error("Unable to get document size");var B=Math.max(Math.max(x.scrollWidth,C.scrollWidth),Math.max(x.offsetWidth,C.offsetWidth),Math.max(x.clientWidth,C.clientWidth)),z=Math.max(Math.max(x.scrollHeight,C.scrollHeight),Math.max(x.offsetHeight,C.offsetHeight),Math.max(x.clientHeight,C.clientHeight));return new u(0,0,B,z)},m=function(j){for(var x=[],C=0,B=j.length;C<B;){var z=j.charCodeAt(C++);if(z>=55296&&z<=56319&&C<B){var se=j.charCodeAt(C++);(se&64512)===56320?x.push(((z&1023)<<10)+(se&1023)+65536):(x.push(z),C--)}else x.push(z)}return x},v=function(){for(var j=[],x=0;x<arguments.length;x++)j[x]=arguments[x];if(String.fromCodePoint)return String.fromCodePoint.apply(String,j);var C=j.length;if(!C)return"";for(var B=[],z=-1,se="";++z<C;){var he=j[z];he<=65535?B.push(he):(he-=65536,B.push((he>>10)+55296,he%1024+56320)),(z+1===C||B.length>16384)&&(se+=String.fromCharCode.apply(String,B),B.length=0)}return se},g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b=typeof Uint8Array>"u"?[]:new Uint8Array(256),I=0;I<g.length;I++)b[g.charCodeAt(I)]=I;for(var N="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",S=typeof Uint8Array>"u"?[]:new Uint8Array(256),E=0;E<N.length;E++)S[N.charCodeAt(E)]=E;for(var _=function(j){var x=j.length*.75,C=j.length,B,z=0,se,he,Be,Ce;j[j.length-1]==="="&&(x--,j[j.length-2]==="="&&x--);var De=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(x):new Array(x),Ke=Array.isArray(De)?De:new Uint8Array(De);for(B=0;B<C;B+=4)se=S[j.charCodeAt(B)],he=S[j.charCodeAt(B+1)],Be=S[j.charCodeAt(B+2)],Ce=S[j.charCodeAt(B+3)],Ke[z++]=se<<2|he>>4,Ke[z++]=(he&15)<<4|Be>>2,Ke[z++]=(Be&3)<<6|Ce&63;return De},R=function(j){for(var x=j.length,C=[],B=0;B<x;B+=2)C.push(j[B+1]<<8|j[B]);return C},L=function(j){for(var x=j.length,C=[],B=0;B<x;B+=4)C.push(j[B+3]<<24|j[B+2]<<16|j[B+1]<<8|j[B]);return C},H=5,D=11,Q=2,O=D-H,$=65536>>H,P=1<<H,V=P-1,G=1024>>H,ie=$+G,de=ie,X=32,q=de+X,Z=65536>>D,oe=1<<O,ye=oe-1,ne=function(j,x,C){return j.slice?j.slice(x,C):new Uint16Array(Array.prototype.slice.call(j,x,C))},M=function(j,x,C){return j.slice?j.slice(x,C):new Uint32Array(Array.prototype.slice.call(j,x,C))},W=function(j,x){var C=_(j),B=Array.isArray(C)?L(C):new Uint32Array(C),z=Array.isArray(C)?R(C):new Uint16Array(C),se=24,he=ne(z,se/2,B[4]/2),Be=B[5]===2?ne(z,(se+B[4])/2):M(B,Math.ceil((se+B[4])/4));return new ae(B[0],B[1],B[2],B[3],he,Be)},ae=(function(){function j(x,C,B,z,se,he){this.initialValue=x,this.errorValue=C,this.highStart=B,this.highValueIndex=z,this.index=se,this.data=he}return j.prototype.get=function(x){var C;if(x>=0){if(x<55296||x>56319&&x<=65535)return C=this.index[x>>H],C=(C<<Q)+(x&V),this.data[C];if(x<=65535)return C=this.index[$+(x-55296>>H)],C=(C<<Q)+(x&V),this.data[C];if(x<this.highStart)return C=q-Z+(x>>D),C=this.index[C],C+=x>>H&ye,C=this.index[C],C=(C<<Q)+(x&V),this.data[C];if(x<=1114111)return this.data[this.highValueIndex]}return this.errorValue},j})(),ue="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ce=typeof Uint8Array>"u"?[]:new Uint8Array(256),ge=0;ge<ue.length;ge++)ce[ue.charCodeAt(ge)]=ge;var Se="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",xe=50,Ie=1,Ue=2,Pe=3,rt=4,Le=5,me=7,Ze=8,pt=9,dt=10,Je=11,Ut=12,Rt=13,zt=14,$t=15,Jt=16,sn=17,Ge=18,Ht=19,kt=20,Ot=21,gt=22,_t=23,Un=24,Me=25,ht=26,Ve=27,lt=28,At=29,Qt=30,St=31,Vt=32,en=33,jt=34,ct=35,Dt=36,Yt=37,rn=38,ts=39,Ms=40,ln=41,ri=42,Ga=43,Ca=[9001,65288],Xr="!",dn="",Hs="",Cr=W(Se),Ns=[Qt,Dt],cs=[Ie,Ue,Pe,Le],rs=[dt,Ze],us=[Ve,ht],Rs=cs.concat(rs),fr=[rn,ts,Ms,jt,ct],pa=[$t,Rt],Qi=function(j,x){x===void 0&&(x="strict");var C=[],B=[],z=[];return j.forEach(function(se,he){var Be=Cr.get(se);if(Be>xe?(z.push(!0),Be-=xe):z.push(!1),["normal","auto","loose"].indexOf(x)!==-1&&[8208,8211,12316,12448].indexOf(se)!==-1)return B.push(he),C.push(Jt);if(Be===rt||Be===Je){if(he===0)return B.push(he),C.push(Qt);var Ce=C[he-1];return Rs.indexOf(Ce)===-1?(B.push(B[he-1]),C.push(Ce)):(B.push(he),C.push(Qt))}if(B.push(he),Be===St)return C.push(x==="strict"?Ot:Yt);if(Be===ri||Be===At)return C.push(Qt);if(Be===Ga)return se>=131072&&se<=196605||se>=196608&&se<=262141?C.push(Yt):C.push(Qt);C.push(Be)}),[B,C,z]},Kr=function(j,x,C,B){var z=B[C];if(Array.isArray(j)?j.indexOf(z)!==-1:j===z)for(var se=C;se<=B.length;){se++;var he=B[se];if(he===x)return!0;if(he!==dt)break}if(z===dt)for(var se=C;se>0;){se--;var Be=B[se];if(Array.isArray(j)?j.indexOf(Be)!==-1:j===Be)for(var Ce=C;Ce<=B.length;){Ce++;var he=B[Ce];if(he===x)return!0;if(he!==dt)break}if(Be!==dt)break}return!1},_r=function(j,x){for(var C=j;C>=0;){var B=x[C];if(B===dt)C--;else return B}return 0},vi=function(j,x,C,B,z){if(C[B]===0)return dn;var se=B-1;if(Array.isArray(z)&&z[se]===!0)return dn;var he=se-1,Be=se+1,Ce=x[se],De=he>=0?x[he]:0,Ke=x[Be];if(Ce===Ue&&Ke===Pe)return dn;if(cs.indexOf(Ce)!==-1)return Xr;if(cs.indexOf(Ke)!==-1||rs.indexOf(Ke)!==-1)return dn;if(_r(se,x)===Ze)return Hs;if(Cr.get(j[se])===Je||(Ce===Vt||Ce===en)&&Cr.get(j[Be])===Je||Ce===me||Ke===me||Ce===pt||[dt,Rt,$t].indexOf(Ce)===-1&&Ke===pt||[sn,Ge,Ht,Un,lt].indexOf(Ke)!==-1||_r(se,x)===gt||Kr(_t,gt,se,x)||Kr([sn,Ge],Ot,se,x)||Kr(Ut,Ut,se,x))return dn;if(Ce===dt)return Hs;if(Ce===_t||Ke===_t)return dn;if(Ke===Jt||Ce===Jt)return Hs;if([Rt,$t,Ot].indexOf(Ke)!==-1||Ce===zt||De===Dt&&pa.indexOf(Ce)!==-1||Ce===lt&&Ke===Dt||Ke===kt||Ns.indexOf(Ke)!==-1&&Ce===Me||Ns.indexOf(Ce)!==-1&&Ke===Me||Ce===Ve&&[Yt,Vt,en].indexOf(Ke)!==-1||[Yt,Vt,en].indexOf(Ce)!==-1&&Ke===ht||Ns.indexOf(Ce)!==-1&&us.indexOf(Ke)!==-1||us.indexOf(Ce)!==-1&&Ns.indexOf(Ke)!==-1||[Ve,ht].indexOf(Ce)!==-1&&(Ke===Me||[gt,$t].indexOf(Ke)!==-1&&x[Be+1]===Me)||[gt,$t].indexOf(Ce)!==-1&&Ke===Me||Ce===Me&&[Me,lt,Un].indexOf(Ke)!==-1)return dn;if([Me,lt,Un,sn,Ge].indexOf(Ke)!==-1)for(var We=se;We>=0;){var mt=x[We];if(mt===Me)return dn;if([lt,Un].indexOf(mt)!==-1)We--;else break}if([Ve,ht].indexOf(Ke)!==-1)for(var We=[sn,Ge].indexOf(Ce)!==-1?he:se;We>=0;){var mt=x[We];if(mt===Me)return dn;if([lt,Un].indexOf(mt)!==-1)We--;else break}if(rn===Ce&&[rn,ts,jt,ct].indexOf(Ke)!==-1||[ts,jt].indexOf(Ce)!==-1&&[ts,Ms].indexOf(Ke)!==-1||[Ms,ct].indexOf(Ce)!==-1&&Ke===Ms||fr.indexOf(Ce)!==-1&&[kt,ht].indexOf(Ke)!==-1||fr.indexOf(Ke)!==-1&&Ce===Ve||Ns.indexOf(Ce)!==-1&&Ns.indexOf(Ke)!==-1||Ce===Un&&Ns.indexOf(Ke)!==-1||Ns.concat(Me).indexOf(Ce)!==-1&&Ke===gt&&Ca.indexOf(j[Be])===-1||Ns.concat(Me).indexOf(Ke)!==-1&&Ce===Ge)return dn;if(Ce===ln&&Ke===ln){for(var An=C[se],Kt=1;An>0&&(An--,x[An]===ln);)Kt++;if(Kt%2!==0)return dn}return Ce===Vt&&Ke===en?dn:Hs},zr=function(j,x){x||(x={lineBreak:"normal",wordBreak:"normal"});var C=Qi(j,x.lineBreak),B=C[0],z=C[1],se=C[2];(x.wordBreak==="break-all"||x.wordBreak==="break-word")&&(z=z.map(function(Be){return[Me,Qt,ri].indexOf(Be)!==-1?Yt:Be}));var he=x.wordBreak==="keep-all"?se.map(function(Be,Ce){return Be&&j[Ce]>=19968&&j[Ce]<=40959}):void 0;return[B,z,he]},Sa=(function(){function j(x,C,B,z){this.codePoints=x,this.required=C===Xr,this.start=B,this.end=z}return j.prototype.slice=function(){return v.apply(void 0,this.codePoints.slice(this.start,this.end))},j})(),_e=function(j,x){var C=m(j),B=zr(C,x),z=B[0],se=B[1],he=B[2],Be=C.length,Ce=0,De=0;return{next:function(){if(De>=Be)return{done:!0,value:null};for(var Ke=dn;De<Be&&(Ke=vi(C,se,z,++De,he))===dn;);if(Ke!==dn||De===Be){var We=new Sa(C,Ke,Ce,De);return Ce=De,{value:We,done:!1}}return{done:!0,value:null}}}},Et=1,Ft=2,Gt=4,En=8,vn=10,Gn=47,as=92,Zt=9,Gs=32,ds=34,Sn=61,Cs=35,is=36,Vn=37,mr=39,Ds=40,Kn=41,Oi=95,ys=45,Ar=33,Fr=60,sl=62,AA=64,Ml=91,Pa=93,Hl=61,ao=123,Ur=63,Co=125,qi=124,vl=126,So=128,io=65533,ai=42,Sr=43,hn=44,js=58,ms=59,_s=46,Wt=0,cn=8,sr=11,oa=14,Rr=31,Nr=127,la=-1,bs=48,Jr=97,Aa=101,qr=102,rl=117,$a=122,Zi=65,xi=69,ca=70,No=85,Ya=90,xr=function(j){return j>=bs&&j<=57},xl=function(j){return j>=55296&&j<=57343},ii=function(j){return xr(j)||j>=Zi&&j<=ca||j>=Jr&&j<=qr},Eo=function(j){return j>=Jr&&j<=$a},eo=function(j){return j>=Zi&&j<=Ya},Vl=function(j){return Eo(j)||eo(j)},cA=function(j){return j>=So},Wa=function(j){return j===vn||j===Zt||j===Gs},Pi=function(j){return Vl(j)||cA(j)||j===Oi},uA=function(j){return Pi(j)||xr(j)||j===ys},oo=function(j){return j>=Wt&&j<=cn||j===sr||j>=oa&&j<=Rr||j===Nr},ki=function(j,x){return j!==as?!1:x!==vn},k=function(j,x,C){return j===ys?Pi(x)||ki(x,C):Pi(j)?!0:!!(j===as&&ki(j,x))},le=function(j,x,C){return j===Sr||j===ys?xr(x)?!0:x===_s&&xr(C):xr(j===_s?x:j)},Ee=function(j){var x=0,C=1;(j[x]===Sr||j[x]===ys)&&(j[x]===ys&&(C=-1),x++);for(var B=[];xr(j[x]);)B.push(j[x++]);var z=B.length?parseInt(v.apply(void 0,B),10):0;j[x]===_s&&x++;for(var se=[];xr(j[x]);)se.push(j[x++]);var he=se.length,Be=he?parseInt(v.apply(void 0,se),10):0;(j[x]===xi||j[x]===Aa)&&x++;var Ce=1;(j[x]===Sr||j[x]===ys)&&(j[x]===ys&&(Ce=-1),x++);for(var De=[];xr(j[x]);)De.push(j[x++]);var Ke=De.length?parseInt(v.apply(void 0,De),10):0;return C*(z+Be*Math.pow(10,-he))*Math.pow(10,Ce*Ke)},Re={type:2},ze={type:3},vt={type:4},Tt={type:13},pn={type:8},wn={type:21},Ln={type:9},_n={type:10},Es={type:11},Er={type:12},pr={type:14},w={type:23},Y={type:1},re={type:25},we={type:24},Ye={type:26},nt={type:27},Mt={type:28},Jn={type:29},Tr={type:31},ps={type:32},er=(function(){function j(){this._value=[]}return j.prototype.write=function(x){this._value=this._value.concat(m(x))},j.prototype.read=function(){for(var x=[],C=this.consumeToken();C!==ps;)x.push(C),C=this.consumeToken();return x},j.prototype.consumeToken=function(){var x=this.consumeCodePoint();switch(x){case ds:return this.consumeStringToken(ds);case Cs:var C=this.peekCodePoint(0),B=this.peekCodePoint(1),z=this.peekCodePoint(2);if(uA(C)||ki(B,z)){var se=k(C,B,z)?Ft:Et,he=this.consumeName();return{type:5,value:he,flags:se}}break;case is:if(this.peekCodePoint(0)===Sn)return this.consumeCodePoint(),Tt;break;case mr:return this.consumeStringToken(mr);case Ds:return Re;case Kn:return ze;case ai:if(this.peekCodePoint(0)===Sn)return this.consumeCodePoint(),pr;break;case Sr:if(le(x,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(x),this.consumeNumericToken();break;case hn:return vt;case ys:var Be=x,Ce=this.peekCodePoint(0),De=this.peekCodePoint(1);if(le(Be,Ce,De))return this.reconsumeCodePoint(x),this.consumeNumericToken();if(k(Be,Ce,De))return this.reconsumeCodePoint(x),this.consumeIdentLikeToken();if(Ce===ys&&De===sl)return this.consumeCodePoint(),this.consumeCodePoint(),we;break;case _s:if(le(x,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(x),this.consumeNumericToken();break;case Gn:if(this.peekCodePoint(0)===ai)for(this.consumeCodePoint();;){var Ke=this.consumeCodePoint();if(Ke===ai&&(Ke=this.consumeCodePoint(),Ke===Gn))return this.consumeToken();if(Ke===la)return this.consumeToken()}break;case js:return Ye;case ms:return nt;case Fr:if(this.peekCodePoint(0)===Ar&&this.peekCodePoint(1)===ys&&this.peekCodePoint(2)===ys)return this.consumeCodePoint(),this.consumeCodePoint(),re;break;case AA:var We=this.peekCodePoint(0),mt=this.peekCodePoint(1),An=this.peekCodePoint(2);if(k(We,mt,An)){var he=this.consumeName();return{type:7,value:he}}break;case Ml:return Mt;case as:if(ki(x,this.peekCodePoint(0)))return this.reconsumeCodePoint(x),this.consumeIdentLikeToken();break;case Pa:return Jn;case Hl:if(this.peekCodePoint(0)===Sn)return this.consumeCodePoint(),pn;break;case ao:return Es;case Co:return Er;case rl:case No:var Kt=this.peekCodePoint(0),qt=this.peekCodePoint(1);return Kt===Sr&&(ii(qt)||qt===Ur)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(x),this.consumeIdentLikeToken();case qi:if(this.peekCodePoint(0)===Sn)return this.consumeCodePoint(),Ln;if(this.peekCodePoint(0)===qi)return this.consumeCodePoint(),wn;break;case vl:if(this.peekCodePoint(0)===Sn)return this.consumeCodePoint(),_n;break;case la:return ps}return Wa(x)?(this.consumeWhiteSpace(),Tr):xr(x)?(this.reconsumeCodePoint(x),this.consumeNumericToken()):Pi(x)?(this.reconsumeCodePoint(x),this.consumeIdentLikeToken()):{type:6,value:v(x)}},j.prototype.consumeCodePoint=function(){var x=this._value.shift();return typeof x>"u"?-1:x},j.prototype.reconsumeCodePoint=function(x){this._value.unshift(x)},j.prototype.peekCodePoint=function(x){return x>=this._value.length?-1:this._value[x]},j.prototype.consumeUnicodeRangeToken=function(){for(var x=[],C=this.consumeCodePoint();ii(C)&&x.length<6;)x.push(C),C=this.consumeCodePoint();for(var B=!1;C===Ur&&x.length<6;)x.push(C),C=this.consumeCodePoint(),B=!0;if(B){var z=parseInt(v.apply(void 0,x.map(function(Ce){return Ce===Ur?bs:Ce})),16),se=parseInt(v.apply(void 0,x.map(function(Ce){return Ce===Ur?ca:Ce})),16);return{type:30,start:z,end:se}}var he=parseInt(v.apply(void 0,x),16);if(this.peekCodePoint(0)===ys&&ii(this.peekCodePoint(1))){this.consumeCodePoint(),C=this.consumeCodePoint();for(var Be=[];ii(C)&&Be.length<6;)Be.push(C),C=this.consumeCodePoint();var se=parseInt(v.apply(void 0,Be),16);return{type:30,start:he,end:se}}else return{type:30,start:he,end:he}},j.prototype.consumeIdentLikeToken=function(){var x=this.consumeName();return x.toLowerCase()==="url"&&this.peekCodePoint(0)===Ds?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Ds?(this.consumeCodePoint(),{type:19,value:x}):{type:20,value:x}},j.prototype.consumeUrlToken=function(){var x=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===la)return{type:22,value:""};var C=this.peekCodePoint(0);if(C===mr||C===ds){var B=this.consumeStringToken(this.consumeCodePoint());return B.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===la||this.peekCodePoint(0)===Kn)?(this.consumeCodePoint(),{type:22,value:B.value}):(this.consumeBadUrlRemnants(),w)}for(;;){var z=this.consumeCodePoint();if(z===la||z===Kn)return{type:22,value:v.apply(void 0,x)};if(Wa(z))return this.consumeWhiteSpace(),this.peekCodePoint(0)===la||this.peekCodePoint(0)===Kn?(this.consumeCodePoint(),{type:22,value:v.apply(void 0,x)}):(this.consumeBadUrlRemnants(),w);if(z===ds||z===mr||z===Ds||oo(z))return this.consumeBadUrlRemnants(),w;if(z===as)if(ki(z,this.peekCodePoint(0)))x.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),w;else x.push(z)}},j.prototype.consumeWhiteSpace=function(){for(;Wa(this.peekCodePoint(0));)this.consumeCodePoint()},j.prototype.consumeBadUrlRemnants=function(){for(;;){var x=this.consumeCodePoint();if(x===Kn||x===la)return;ki(x,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},j.prototype.consumeStringSlice=function(x){for(var C=5e4,B="";x>0;){var z=Math.min(C,x);B+=v.apply(void 0,this._value.splice(0,z)),x-=z}return this._value.shift(),B},j.prototype.consumeStringToken=function(x){var C="",B=0;do{var z=this._value[B];if(z===la||z===void 0||z===x)return C+=this.consumeStringSlice(B),{type:0,value:C};if(z===vn)return this._value.splice(0,B),Y;if(z===as){var se=this._value[B+1];se!==la&&se!==void 0&&(se===vn?(C+=this.consumeStringSlice(B),B=-1,this._value.shift()):ki(z,se)&&(C+=this.consumeStringSlice(B),C+=v(this.consumeEscapedCodePoint()),B=-1))}B++}while(!0)},j.prototype.consumeNumber=function(){var x=[],C=Gt,B=this.peekCodePoint(0);for((B===Sr||B===ys)&&x.push(this.consumeCodePoint());xr(this.peekCodePoint(0));)x.push(this.consumeCodePoint());B=this.peekCodePoint(0);var z=this.peekCodePoint(1);if(B===_s&&xr(z))for(x.push(this.consumeCodePoint(),this.consumeCodePoint()),C=En;xr(this.peekCodePoint(0));)x.push(this.consumeCodePoint());B=this.peekCodePoint(0),z=this.peekCodePoint(1);var se=this.peekCodePoint(2);if((B===xi||B===Aa)&&((z===Sr||z===ys)&&xr(se)||xr(z)))for(x.push(this.consumeCodePoint(),this.consumeCodePoint()),C=En;xr(this.peekCodePoint(0));)x.push(this.consumeCodePoint());return[Ee(x),C]},j.prototype.consumeNumericToken=function(){var x=this.consumeNumber(),C=x[0],B=x[1],z=this.peekCodePoint(0),se=this.peekCodePoint(1),he=this.peekCodePoint(2);if(k(z,se,he)){var Be=this.consumeName();return{type:15,number:C,flags:B,unit:Be}}return z===Vn?(this.consumeCodePoint(),{type:16,number:C,flags:B}):{type:17,number:C,flags:B}},j.prototype.consumeEscapedCodePoint=function(){var x=this.consumeCodePoint();if(ii(x)){for(var C=v(x);ii(this.peekCodePoint(0))&&C.length<6;)C+=v(this.consumeCodePoint());Wa(this.peekCodePoint(0))&&this.consumeCodePoint();var B=parseInt(C,16);return B===0||xl(B)||B>1114111?io:B}return x===la?io:x},j.prototype.consumeName=function(){for(var x="";;){var C=this.consumeCodePoint();if(uA(C))x+=v(C);else if(ki(C,this.peekCodePoint(0)))x+=v(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(C),x}},j})(),ka=(function(){function j(x){this._tokens=x}return j.create=function(x){var C=new er;return C.write(x),new j(C.read())},j.parseValue=function(x){return j.create(x).parseComponentValue()},j.parseValues=function(x){return j.create(x).parseComponentValues()},j.prototype.parseComponentValue=function(){for(var x=this.consumeToken();x.type===31;)x=this.consumeToken();if(x.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(x);var C=this.consumeComponentValue();do x=this.consumeToken();while(x.type===31);if(x.type===32)return C;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},j.prototype.parseComponentValues=function(){for(var x=[];;){var C=this.consumeComponentValue();if(C.type===32)return x;x.push(C),x.push()}},j.prototype.consumeComponentValue=function(){var x=this.consumeToken();switch(x.type){case 11:case 28:case 2:return this.consumeSimpleBlock(x.type);case 19:return this.consumeFunction(x)}return x},j.prototype.consumeSimpleBlock=function(x){for(var C={type:x,values:[]},B=this.consumeToken();;){if(B.type===32||fc(B,x))return C;this.reconsumeToken(B),C.values.push(this.consumeComponentValue()),B=this.consumeToken()}},j.prototype.consumeFunction=function(x){for(var C={name:x.value,values:[],type:18};;){var B=this.consumeToken();if(B.type===32||B.type===3)return C;this.reconsumeToken(B),C.values.push(this.consumeComponentValue())}},j.prototype.consumeToken=function(){var x=this._tokens.shift();return typeof x>"u"?ps:x},j.prototype.reconsumeToken=function(x){this._tokens.unshift(x)},j})(),ga=function(j){return j.type===15},$s=function(j){return j.type===17},ns=function(j){return j.type===20},lo=function(j){return j.type===0},To=function(j,x){return ns(j)&&j.value===x},al=function(j){return j.type!==31},Na=function(j){return j.type!==31&&j.type!==4},Xa=function(j){var x=[],C=[];return j.forEach(function(B){if(B.type===4){if(C.length===0)throw new Error("Error parsing function args, zero tokens for arg");x.push(C),C=[];return}B.type!==31&&C.push(B)}),C.length&&x.push(C),x},fc=function(j,x){return x===11&&j.type===12||x===28&&j.type===29?!0:x===2&&j.type===3},Io=function(j){return j.type===17||j.type===15},Ys=function(j){return j.type===16||Io(j)},_o=function(j){return j.length>1?[j[0],j[1]]:[j[0]]},Dr={type:17,number:0,flags:Gt},QA={type:16,number:50,flags:Gt},Ja={type:16,number:100,flags:Gt},Fo=function(j,x,C){var B=j[0],z=j[1];return[ws(B,x),ws(typeof z<"u"?z:B,C)]},ws=function(j,x){if(j.type===16)return j.number/100*x;if(ga(j))switch(j.unit){case"rem":case"em":return 16*j.number;case"px":default:return j.number}return j.number},yi="deg",il="grad",ol="rad",yl="turn",Kl={name:"angle",parse:function(j,x){if(x.type===15)switch(x.unit){case yi:return Math.PI*x.number/180;case il:return Math.PI/200*x.number;case ol:return x.number;case yl:return Math.PI*2*x.number}throw new Error("Unsupported angle type")}},OA=function(j){return j.type===15&&(j.unit===yi||j.unit===il||j.unit===ol||j.unit===yl)},ua=function(j){var x=j.filter(ns).map(function(C){return C.value}).join(" ");switch(x){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Dr,Dr];case"to top":case"bottom":return Mi(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Dr,Ja];case"to right":case"left":return Mi(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Ja,Ja];case"to bottom":case"top":return Mi(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Ja,Dr];case"to left":case"right":return Mi(270)}return 0},Mi=function(j){return Math.PI*j/180},oi={name:"color",parse:function(j,x){if(x.type===18){var C=wl[x.name];if(typeof C>"u")throw new Error('Attempting to parse an unsupported color function "'+x.name+'"');return C(j,x.values)}if(x.type===5){if(x.value.length===3){var B=x.value.substring(0,1),z=x.value.substring(1,2),se=x.value.substring(2,3);return bi(parseInt(B+B,16),parseInt(z+z,16),parseInt(se+se,16),1)}if(x.value.length===4){var B=x.value.substring(0,1),z=x.value.substring(1,2),se=x.value.substring(2,3),he=x.value.substring(3,4);return bi(parseInt(B+B,16),parseInt(z+z,16),parseInt(se+se,16),parseInt(he+he,16)/255)}if(x.value.length===6){var B=x.value.substring(0,2),z=x.value.substring(2,4),se=x.value.substring(4,6);return bi(parseInt(B,16),parseInt(z,16),parseInt(se,16),1)}if(x.value.length===8){var B=x.value.substring(0,2),z=x.value.substring(2,4),se=x.value.substring(4,6),he=x.value.substring(6,8);return bi(parseInt(B,16),parseInt(z,16),parseInt(se,16),parseInt(he,16)/255)}}if(x.type===20){var Be=va[x.value.toUpperCase()];if(typeof Be<"u")return Be}return va.TRANSPARENT}},li=function(j){return(255&j)===0},Ls=function(j){var x=255&j,C=255&j>>8,B=255&j>>16,z=255&j>>24;return x<255?"rgba("+z+","+B+","+C+","+x/255+")":"rgb("+z+","+B+","+C+")"},bi=function(j,x,C,B){return(j<<24|x<<16|C<<8|Math.round(B*255)<<0)>>>0},PA=function(j,x){if(j.type===17)return j.number;if(j.type===16){var C=x===3?1:255;return x===3?j.number/100*C:Math.round(j.number/100*C)}return 0},kA=function(j,x){var C=x.filter(Na);if(C.length===3){var B=C.map(PA),z=B[0],se=B[1],he=B[2];return bi(z,se,he,1)}if(C.length===4){var Be=C.map(PA),z=Be[0],se=Be[1],he=Be[2],Ce=Be[3];return bi(z,se,he,Ce)}return 0};function ll(j,x,C){return C<0&&(C+=1),C>=1&&(C-=1),C<1/6?(x-j)*C*6+j:C<1/2?x:C<2/3?(x-j)*6*(2/3-C)+j:j}var bl=function(j,x){var C=x.filter(Na),B=C[0],z=C[1],se=C[2],he=C[3],Be=(B.type===17?Mi(B.number):Kl.parse(j,B))/(Math.PI*2),Ce=Ys(z)?z.number/100:0,De=Ys(se)?se.number/100:0,Ke=typeof he<"u"&&Ys(he)?ws(he,1):1;if(Ce===0)return bi(De*255,De*255,De*255,1);var We=De<=.5?De*(Ce+1):De+Ce-De*Ce,mt=De*2-We,An=ll(mt,We,Be+1/3),Kt=ll(mt,We,Be),qt=ll(mt,We,Be-1/3);return bi(An*255,Kt*255,qt*255,Ke)},wl={hsl:bl,hsla:bl,rgb:kA,rgba:kA},Al=function(j,x){return oi.parse(j,ka.create(x).parseComponentValue())},va={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},zl={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(j,x){return x.map(function(C){if(ns(C))switch(C.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},wi={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Hi=function(j,x){var C=oi.parse(j,x[0]),B=x[1];return B&&Ys(B)?{color:C,stop:B}:{color:C,stop:null}},Ws=function(j,x){var C=j[0],B=j[j.length-1];C.stop===null&&(C.stop=Dr),B.stop===null&&(B.stop=Ja);for(var z=[],se=0,he=0;he<j.length;he++){var Be=j[he].stop;if(Be!==null){var Ce=ws(Be,x);Ce>se?z.push(Ce):z.push(se),se=Ce}else z.push(null)}for(var De=null,he=0;he<z.length;he++){var Ke=z[he];if(Ke===null)De===null&&(De=he);else if(De!==null){for(var We=he-De,mt=z[De-1],An=(Ke-mt)/(We+1),Kt=1;Kt<=We;Kt++)z[De+Kt-1]=An*Kt;De=null}}return j.map(function(qt,Tn){var gn=qt.color;return{color:gn,stop:Math.max(Math.min(1,z[Tn]/x),0)}})},Vs=function(j,x,C){var B=x/2,z=C/2,se=ws(j[0],x)-B,he=z-ws(j[1],C);return(Math.atan2(he,se)+Math.PI*2)%(Math.PI*2)},Ir=function(j,x,C){var B=typeof j=="number"?j:Vs(j,x,C),z=Math.abs(x*Math.sin(B))+Math.abs(C*Math.cos(B)),se=x/2,he=C/2,Be=z/2,Ce=Math.sin(B-Math.PI/2)*Be,De=Math.cos(B-Math.PI/2)*Be;return[z,se-De,se+De,he-Ce,he+Ce]},tr=function(j,x){return Math.sqrt(j*j+x*x)},cl=function(j,x,C,B,z){var se=[[0,0],[0,x],[j,0],[j,x]];return se.reduce(function(he,Be){var Ce=Be[0],De=Be[1],Ke=tr(C-Ce,B-De);return(z?Ke<he.optimumDistance:Ke>he.optimumDistance)?{optimumCorner:Be,optimumDistance:Ke}:he},{optimumDistance:z?1/0:-1/0,optimumCorner:null}).optimumCorner},ul=function(j,x,C,B,z){var se=0,he=0;switch(j.size){case 0:j.shape===0?se=he=Math.min(Math.abs(x),Math.abs(x-B),Math.abs(C),Math.abs(C-z)):j.shape===1&&(se=Math.min(Math.abs(x),Math.abs(x-B)),he=Math.min(Math.abs(C),Math.abs(C-z)));break;case 2:if(j.shape===0)se=he=Math.min(tr(x,C),tr(x,C-z),tr(x-B,C),tr(x-B,C-z));else if(j.shape===1){var Be=Math.min(Math.abs(C),Math.abs(C-z))/Math.min(Math.abs(x),Math.abs(x-B)),Ce=cl(B,z,x,C,!0),De=Ce[0],Ke=Ce[1];se=tr(De-x,(Ke-C)/Be),he=Be*se}break;case 1:j.shape===0?se=he=Math.max(Math.abs(x),Math.abs(x-B),Math.abs(C),Math.abs(C-z)):j.shape===1&&(se=Math.max(Math.abs(x),Math.abs(x-B)),he=Math.max(Math.abs(C),Math.abs(C-z)));break;case 3:if(j.shape===0)se=he=Math.max(tr(x,C),tr(x,C-z),tr(x-B,C),tr(x-B,C-z));else if(j.shape===1){var Be=Math.max(Math.abs(C),Math.abs(C-z))/Math.max(Math.abs(x),Math.abs(x-B)),We=cl(B,z,x,C,!1),De=We[0],Ke=We[1];se=tr(De-x,(Ke-C)/Be),he=Be*se}break}return Array.isArray(j.size)&&(se=ws(j.size[0],B),he=j.size.length===2?ws(j.size[1],z):se),[se,he]},MA=function(j,x){var C=Mi(180),B=[];return Xa(x).forEach(function(z,se){if(se===0){var he=z[0];if(he.type===20&&he.value==="to"){C=ua(z);return}else if(OA(he)){C=Kl.parse(j,he);return}}var Be=Hi(j,z);B.push(Be)}),{angle:C,stops:B,type:1}},dA=function(j,x){var C=Mi(180),B=[];return Xa(x).forEach(function(z,se){if(se===0){var he=z[0];if(he.type===20&&["top","left","right","bottom"].indexOf(he.value)!==-1){C=ua(z);return}else if(OA(he)){C=(Kl.parse(j,he)+Mi(270))%Mi(360);return}}var Be=Hi(j,z);B.push(Be)}),{angle:C,stops:B,type:1}},eh=function(j,x){var C=Mi(180),B=[],z=1,se=0,he=3,Be=[];return Xa(x).forEach(function(Ce,De){var Ke=Ce[0];if(De===0){if(ns(Ke)&&Ke.value==="linear"){z=1;return}else if(ns(Ke)&&Ke.value==="radial"){z=2;return}}if(Ke.type===18){if(Ke.name==="from"){var We=oi.parse(j,Ke.values[0]);B.push({stop:Dr,color:We})}else if(Ke.name==="to"){var We=oi.parse(j,Ke.values[0]);B.push({stop:Ja,color:We})}else if(Ke.name==="color-stop"){var mt=Ke.values.filter(Na);if(mt.length===2){var We=oi.parse(j,mt[1]),An=mt[0];$s(An)&&B.push({stop:{type:16,number:An.number*100,flags:An.flags},color:We})}}}}),z===1?{angle:(C+Mi(180))%Mi(360),stops:B,type:z}:{size:he,shape:se,stops:B,position:Be,type:z}},th="closest-side",nh="farthest-side",sh="closest-corner",Du="farthest-corner",Lu="circle",hA="ellipse",Ao="cover",mc="contain",co=function(j,x){var C=0,B=3,z=[],se=[];return Xa(x).forEach(function(he,Be){var Ce=!0;if(Be===0){var De=!1;Ce=he.reduce(function(We,mt){if(De)if(ns(mt))switch(mt.value){case"center":return se.push(QA),We;case"top":case"left":return se.push(Dr),We;case"right":case"bottom":return se.push(Ja),We}else(Ys(mt)||Io(mt))&&se.push(mt);else if(ns(mt))switch(mt.value){case Lu:return C=0,!1;case hA:return C=1,!1;case"at":return De=!0,!1;case th:return B=0,!1;case Ao:case nh:return B=1,!1;case mc:case sh:return B=2,!1;case Du:return B=3,!1}else if(Io(mt)||Ys(mt))return Array.isArray(B)||(B=[]),B.push(mt),!1;return We},Ce)}if(Ce){var Ke=Hi(j,he);z.push(Ke)}}),{size:B,shape:C,stops:z,position:se,type:2}},jl=function(j,x){var C=0,B=3,z=[],se=[];return Xa(x).forEach(function(he,Be){var Ce=!0;if(Be===0?Ce=he.reduce(function(Ke,We){if(ns(We))switch(We.value){case"center":return se.push(QA),!1;case"top":case"left":return se.push(Dr),!1;case"right":case"bottom":return se.push(Ja),!1}else if(Ys(We)||Io(We))return se.push(We),!1;return Ke},Ce):Be===1&&(Ce=he.reduce(function(Ke,We){if(ns(We))switch(We.value){case Lu:return C=0,!1;case hA:return C=1,!1;case mc:case th:return B=0,!1;case nh:return B=1,!1;case sh:return B=2,!1;case Ao:case Du:return B=3,!1}else if(Io(We)||Ys(We))return Array.isArray(B)||(B=[]),B.push(We),!1;return Ke},Ce)),Ce){var De=Hi(j,he);z.push(De)}}),{size:B,shape:C,stops:z,position:se,type:2}},Qu=function(j){return j.type===1},eu=function(j){return j.type===2},HA={name:"image",parse:function(j,x){if(x.type===22){var C={url:x.value,type:0};return j.cache.addImage(x.value),C}if(x.type===18){var B=Bl[x.name];if(typeof B>"u")throw new Error('Attempting to parse an unsupported image function "'+x.name+'"');return B(j,x.values)}throw new Error("Unsupported image type "+x.type)}};function Ou(j){return!(j.type===20&&j.value==="none")&&(j.type!==18||!!Bl[j.name])}var Bl={"linear-gradient":MA,"-moz-linear-gradient":dA,"-ms-linear-gradient":dA,"-o-linear-gradient":dA,"-webkit-linear-gradient":dA,"radial-gradient":co,"-moz-radial-gradient":jl,"-ms-radial-gradient":jl,"-o-radial-gradient":jl,"-webkit-radial-gradient":jl,"-webkit-gradient":eh},tu={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(j,x){if(x.length===0)return[];var C=x[0];return C.type===20&&C.value==="none"?[]:x.filter(function(B){return Na(B)&&Ou(B)}).map(function(B){return HA.parse(j,B)})}},ji={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(j,x){return x.map(function(C){if(ns(C))switch(C.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Ai={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(j,x){return Xa(x).map(function(C){return C.filter(Ys)}).map(_o)}},Pu={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(j,x){return Xa(x).map(function(C){return C.filter(ns).map(function(B){return B.value}).join(" ")}).map(Bi)}},Bi=function(j){switch(j){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Gl;(function(j){j.AUTO="auto",j.CONTAIN="contain",j.COVER="cover"})(Gl||(Gl={}));var Uo={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(j,x){return Xa(x).map(function(C){return C.filter(nu)})}},nu=function(j){return ns(j)||Ys(j)},$l=function(j){return{name:"border-"+j+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},fA=$l("top"),su=$l("right"),ku=$l("bottom"),pc=$l("left"),VA=function(j){return{name:"border-radius-"+j,initialValue:"0 0",prefix:!1,type:1,parse:function(x,C){return _o(C.filter(Ys))}}},Ro=VA("top-left"),gc=VA("top-right"),KA=VA("bottom-right"),Mu=VA("bottom-left"),mA=function(j){return{name:"border-"+j+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(x,C){switch(C){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Do=mA("top"),Lo=mA("right"),pA=mA("bottom"),Qo=mA("left"),Vi=function(j){return{name:"border-"+j+"-width",initialValue:"0",type:0,prefix:!1,parse:function(x,C){return ga(C)?C.number:0}}},uo=Vi("top"),cf=Vi("right"),rh=Vi("bottom"),Hu=Vi("left"),uf={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},ci={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(j,x){switch(x){case"rtl":return 1;case"ltr":default:return 0}}},Lr={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(j,x){return x.filter(ns).reduce(function(C,B){return C|Fs(B.value)},0)}},Fs=function(j){switch(j){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Ki={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(j,x){switch(x){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},da={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(j,x){return x.type===20&&x.value==="normal"?0:x.type===17||x.type===15?x.number:0}},to;(function(j){j.NORMAL="normal",j.STRICT="strict"})(to||(to={}));var gA={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(j,x){switch(x){case"strict":return to.STRICT;case"normal":default:return to.NORMAL}}},ah={name:"line-height",initialValue:"normal",prefix:!1,type:4},Cl=function(j,x){return ns(j)&&j.value==="normal"?1.2*x:j.type===17?x*j.number:Ys(j)?ws(j,x):x},ui={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(j,x){return x.type===20&&x.value==="none"?null:HA.parse(j,x)}},zA={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(j,x){switch(x){case"inside":return 0;case"outside":default:return 1}}},ru={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(j,x){switch(x){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Yl=function(j){return{name:"margin-"+j,initialValue:"0",prefix:!1,type:4}},Vu=Yl("top"),vA=Yl("right"),Sl=Yl("bottom"),xA=Yl("left"),Oo={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(j,x){return x.filter(ns).map(function(C){switch(C.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},vc={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(j,x){switch(x){case"break-word":return"break-word";case"normal":default:return"normal"}}},Nl=function(j){return{name:"padding-"+j,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},yA=Nl("top"),Ku=Nl("right"),bA=Nl("bottom"),di=Nl("left"),zu={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(j,x){switch(x){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},df={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(j,x){switch(x){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Tm={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(j,x){return x.length===1&&To(x[0],"none")?[]:Xa(x).map(function(C){for(var B={color:va.TRANSPARENT,offsetX:Dr,offsetY:Dr,blur:Dr},z=0,se=0;se<C.length;se++){var he=C[se];Io(he)?(z===0?B.offsetX=he:z===1?B.offsetY=he:B.blur=he,z++):B.color=oi.parse(j,he)}return B})}},Im={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(j,x){switch(x){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},_m={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(j,x){if(x.type===20&&x.value==="none")return null;if(x.type===18){var C=au[x.name];if(typeof C>"u")throw new Error('Attempting to parse an unsupported transform function "'+x.name+'"');return C(x.values)}return null}},xa=function(j){var x=j.filter(function(C){return C.type===17}).map(function(C){return C.number});return x.length===6?x:null},xc=function(j){var x=j.filter(function(Ce){return Ce.type===17}).map(function(Ce){return Ce.number}),C=x[0],B=x[1];x[2],x[3];var z=x[4],se=x[5];x[6],x[7],x[8],x[9],x[10],x[11];var he=x[12],Be=x[13];return x[14],x[15],x.length===16?[C,B,z,se,he,Be]:null},au={matrix:xa,matrix3d:xc},yc={type:16,number:50,flags:Gt},Gu=[yc,yc],y={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(j,x){var C=x.filter(Ys);return C.length!==2?Gu:[C[0],C[1]]}},F={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(j,x){switch(x){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},K;(function(j){j.NORMAL="normal",j.BREAK_ALL="break-all",j.KEEP_ALL="keep-all"})(K||(K={}));for(var J={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(j,x){switch(x){case"break-all":return K.BREAK_ALL;case"keep-all":return K.KEEP_ALL;case"normal":default:return K.NORMAL}}},Ae={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(j,x){if(x.type===20)return{auto:!0,order:0};if($s(x))return{auto:!1,order:x.number};throw new Error("Invalid z-index number parsed")}},fe={name:"time",parse:function(j,x){if(x.type===15)switch(x.unit.toLowerCase()){case"s":return 1e3*x.number;case"ms":return x.number}throw new Error("Unsupported time type")}},pe={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(j,x){return $s(x)?x.number:1}},be={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},je={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(j,x){return x.filter(ns).map(function(C){switch(C.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(C){return C!==0})}},Te={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(j,x){var C=[],B=[];return x.forEach(function(z){switch(z.type){case 20:case 0:C.push(z.value);break;case 17:C.push(z.number.toString());break;case 4:B.push(C.join(" ")),C.length=0;break}}),C.length&&B.push(C.join(" ")),B.map(function(z){return z.indexOf(" ")===-1?z:"'"+z+"'"})}},Qe={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},qe={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(j,x){if($s(x))return x.number;if(ns(x))switch(x.value){case"bold":return 700;case"normal":default:return 400}return 400}},Ne={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(j,x){return x.filter(ns).map(function(C){return C.value})}},ke={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(j,x){switch(x){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},He=function(j,x){return(j&x)!==0},ft={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(j,x){if(x.length===0)return[];var C=x[0];return C.type===20&&C.value==="none"?[]:x}},Xe={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(j,x){if(x.length===0)return null;var C=x[0];if(C.type===20&&C.value==="none")return null;for(var B=[],z=x.filter(al),se=0;se<z.length;se++){var he=z[se],Be=z[se+1];if(he.type===20){var Ce=Be&&$s(Be)?Be.number:1;B.push({counter:he.value,increment:Ce})}}return B}},ut={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(j,x){if(x.length===0)return[];for(var C=[],B=x.filter(al),z=0;z<B.length;z++){var se=B[z],he=B[z+1];if(ns(se)&&se.value!=="none"){var Be=he&&$s(he)?he.number:0;C.push({counter:se.value,reset:Be})}}return C}},yt={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(j,x){return x.filter(ga).map(function(C){return fe.parse(j,C)})}},Lt={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(j,x){if(x.length===0)return null;var C=x[0];if(C.type===20&&C.value==="none")return null;var B=[],z=x.filter(lo);if(z.length%2!==0)return null;for(var se=0;se<z.length;se+=2){var he=z[se].value,Be=z[se+1].value;B.push({open:he,close:Be})}return B}},Bt=function(j,x,C){if(!j)return"";var B=j[Math.min(x,j.length-1)];return B?C?B.open:B.close:""},jn={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(j,x){return x.length===1&&To(x[0],"none")?[]:Xa(x).map(function(C){for(var B={color:255,offsetX:Dr,offsetY:Dr,blur:Dr,spread:Dr,inset:!1},z=0,se=0;se<C.length;se++){var he=C[se];To(he,"inset")?B.inset=!0:Io(he)?(z===0?B.offsetX=he:z===1?B.offsetY=he:z===2?B.blur=he:B.spread=he,z++):B.color=oi.parse(j,he)}return B})}},fn={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(j,x){var C=[0,1,2],B=[];return x.filter(ns).forEach(function(z){switch(z.value){case"stroke":B.push(1);break;case"fill":B.push(0);break;case"markers":B.push(2);break}}),C.forEach(function(z){B.indexOf(z)===-1&&B.push(z)}),B}},qn={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},xn={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(j,x){return ga(x)?x.number:0}},Ts=(function(){function j(x,C){var B,z;this.animationDuration=at(x,yt,C.animationDuration),this.backgroundClip=at(x,zl,C.backgroundClip),this.backgroundColor=at(x,wi,C.backgroundColor),this.backgroundImage=at(x,tu,C.backgroundImage),this.backgroundOrigin=at(x,ji,C.backgroundOrigin),this.backgroundPosition=at(x,Ai,C.backgroundPosition),this.backgroundRepeat=at(x,Pu,C.backgroundRepeat),this.backgroundSize=at(x,Uo,C.backgroundSize),this.borderTopColor=at(x,fA,C.borderTopColor),this.borderRightColor=at(x,su,C.borderRightColor),this.borderBottomColor=at(x,ku,C.borderBottomColor),this.borderLeftColor=at(x,pc,C.borderLeftColor),this.borderTopLeftRadius=at(x,Ro,C.borderTopLeftRadius),this.borderTopRightRadius=at(x,gc,C.borderTopRightRadius),this.borderBottomRightRadius=at(x,KA,C.borderBottomRightRadius),this.borderBottomLeftRadius=at(x,Mu,C.borderBottomLeftRadius),this.borderTopStyle=at(x,Do,C.borderTopStyle),this.borderRightStyle=at(x,Lo,C.borderRightStyle),this.borderBottomStyle=at(x,pA,C.borderBottomStyle),this.borderLeftStyle=at(x,Qo,C.borderLeftStyle),this.borderTopWidth=at(x,uo,C.borderTopWidth),this.borderRightWidth=at(x,cf,C.borderRightWidth),this.borderBottomWidth=at(x,rh,C.borderBottomWidth),this.borderLeftWidth=at(x,Hu,C.borderLeftWidth),this.boxShadow=at(x,jn,C.boxShadow),this.color=at(x,uf,C.color),this.direction=at(x,ci,C.direction),this.display=at(x,Lr,C.display),this.float=at(x,Ki,C.cssFloat),this.fontFamily=at(x,Te,C.fontFamily),this.fontSize=at(x,Qe,C.fontSize),this.fontStyle=at(x,ke,C.fontStyle),this.fontVariant=at(x,Ne,C.fontVariant),this.fontWeight=at(x,qe,C.fontWeight),this.letterSpacing=at(x,da,C.letterSpacing),this.lineBreak=at(x,gA,C.lineBreak),this.lineHeight=at(x,ah,C.lineHeight),this.listStyleImage=at(x,ui,C.listStyleImage),this.listStylePosition=at(x,zA,C.listStylePosition),this.listStyleType=at(x,ru,C.listStyleType),this.marginTop=at(x,Vu,C.marginTop),this.marginRight=at(x,vA,C.marginRight),this.marginBottom=at(x,Sl,C.marginBottom),this.marginLeft=at(x,xA,C.marginLeft),this.opacity=at(x,pe,C.opacity);var se=at(x,Oo,C.overflow);this.overflowX=se[0],this.overflowY=se[se.length>1?1:0],this.overflowWrap=at(x,vc,C.overflowWrap),this.paddingTop=at(x,yA,C.paddingTop),this.paddingRight=at(x,Ku,C.paddingRight),this.paddingBottom=at(x,bA,C.paddingBottom),this.paddingLeft=at(x,di,C.paddingLeft),this.paintOrder=at(x,fn,C.paintOrder),this.position=at(x,df,C.position),this.textAlign=at(x,zu,C.textAlign),this.textDecorationColor=at(x,be,(B=C.textDecorationColor)!==null&&B!==void 0?B:C.color),this.textDecorationLine=at(x,je,(z=C.textDecorationLine)!==null&&z!==void 0?z:C.textDecoration),this.textShadow=at(x,Tm,C.textShadow),this.textTransform=at(x,Im,C.textTransform),this.transform=at(x,_m,C.transform),this.transformOrigin=at(x,y,C.transformOrigin),this.visibility=at(x,F,C.visibility),this.webkitTextStrokeColor=at(x,qn,C.webkitTextStrokeColor),this.webkitTextStrokeWidth=at(x,xn,C.webkitTextStrokeWidth),this.wordBreak=at(x,J,C.wordBreak),this.zIndex=at(x,Ae,C.zIndex)}return j.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},j.prototype.isTransparent=function(){return li(this.backgroundColor)},j.prototype.isTransformed=function(){return this.transform!==null},j.prototype.isPositioned=function(){return this.position!==0},j.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},j.prototype.isFloating=function(){return this.float!==0},j.prototype.isInlineLevel=function(){return He(this.display,4)||He(this.display,33554432)||He(this.display,268435456)||He(this.display,536870912)||He(this.display,67108864)||He(this.display,134217728)},j})(),Qr=(function(){function j(x,C){this.content=at(x,ft,C.content),this.quotes=at(x,Lt,C.quotes)}return j})(),os=(function(){function j(x,C){this.counterIncrement=at(x,Xe,C.counterIncrement),this.counterReset=at(x,ut,C.counterReset)}return j})(),at=function(j,x,C){var B=new er,z=C!==null&&typeof C<"u"?C.toString():x.initialValue;B.write(z);var se=new ka(B.read());switch(x.type){case 2:var he=se.parseComponentValue();return x.parse(j,ns(he)?he.value:x.initialValue);case 0:return x.parse(j,se.parseComponentValue());case 1:return x.parse(j,se.parseComponentValues());case 4:return se.parseComponentValue();case 3:switch(x.format){case"angle":return Kl.parse(j,se.parseComponentValue());case"color":return oi.parse(j,se.parseComponentValue());case"image":return HA.parse(j,se.parseComponentValue());case"length":var Be=se.parseComponentValue();return Io(Be)?Be:Dr;case"length-percentage":var Ce=se.parseComponentValue();return Ys(Ce)?Ce:Dr;case"time":return fe.parse(j,se.parseComponentValue())}break}},Xt="data-html2canvas-debug",Zr=function(j){var x=j.getAttribute(Xt);switch(x){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},kn=function(j,x){var C=Zr(j);return C===1||x===C},zn=(function(){function j(x,C){if(this.context=x,this.textNodes=[],this.elements=[],this.flags=0,kn(C,3))debugger;this.styles=new Ts(x,window.getComputedStyle(C,null)),fh(C)&&(this.styles.animationDuration.some(function(B){return B>0})&&(C.style.animationDuration="0s"),this.styles.transform!==null&&(C.style.transform="none")),this.bounds=f(this.context,C),kn(C,4)&&(this.flags|=16)}return j})(),cr="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Ea="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ya=typeof Uint8Array>"u"?[]:new Uint8Array(256),ur=0;ur<Ea.length;ur++)ya[Ea.charCodeAt(ur)]=ur;for(var Ta=function(j){var x=j.length*.75,C=j.length,B,z=0,se,he,Be,Ce;j[j.length-1]==="="&&(x--,j[j.length-2]==="="&&x--);var De=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(x):new Array(x),Ke=Array.isArray(De)?De:new Uint8Array(De);for(B=0;B<C;B+=4)se=ya[j.charCodeAt(B)],he=ya[j.charCodeAt(B+1)],Be=ya[j.charCodeAt(B+2)],Ce=ya[j.charCodeAt(B+3)],Ke[z++]=se<<2|he>>4,Ke[z++]=(he&15)<<4|Be>>2,Ke[z++]=(Be&3)<<6|Ce&63;return De},Ci=function(j){for(var x=j.length,C=[],B=0;B<x;B+=2)C.push(j[B+1]<<8|j[B]);return C},Ia=function(j){for(var x=j.length,C=[],B=0;B<x;B+=4)C.push(j[B+3]<<24|j[B+2]<<16|j[B+1]<<8|j[B]);return C},ss=5,Qs=11,Or=2,nr=Qs-ss,_a=65536>>ss,ea=1<<ss,Os=ea-1,ba=1024>>ss,dr=_a+ba,Fa=dr,Ua=32,yr=Fa+Ua,Ks=65536>>Qs,Si=1<<nr,ha=Si-1,Rn=function(j,x,C){return j.slice?j.slice(x,C):new Uint16Array(Array.prototype.slice.call(j,x,C))},Qn=function(j,x,C){return j.slice?j.slice(x,C):new Uint32Array(Array.prototype.slice.call(j,x,C))},Xs=function(j,x){var C=Ta(j),B=Array.isArray(C)?Ia(C):new Uint32Array(C),z=Array.isArray(C)?Ci(C):new Uint16Array(C),se=24,he=Rn(z,se/2,B[4]/2),Be=B[5]===2?Rn(z,(se+B[4])/2):Qn(B,Math.ceil((se+B[4])/4));return new no(B[0],B[1],B[2],B[3],he,Be)},no=(function(){function j(x,C,B,z,se,he){this.initialValue=x,this.errorValue=C,this.highStart=B,this.highValueIndex=z,this.index=se,this.data=he}return j.prototype.get=function(x){var C;if(x>=0){if(x<55296||x>56319&&x<=65535)return C=this.index[x>>ss],C=(C<<Or)+(x&Os),this.data[C];if(x<=65535)return C=this.index[_a+(x-55296>>ss)],C=(C<<Or)+(x&Os),this.data[C];if(x<this.highStart)return C=yr-Ks+(x>>Qs),C=this.index[C],C+=x>>ss&ha,C=this.index[C],C=(C<<Or)+(x&Os),this.data[C];if(x<=1114111)return this.data[this.highValueIndex]}return this.errorValue},j})(),ho="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",zi=typeof Uint8Array>"u"?[]:new Uint8Array(256),ta=0;ta<ho.length;ta++)zi[ho.charCodeAt(ta)]=ta;var wA=1,El=2,bc=3,br=4,$u=5,ih=7,iu=8,dl=9,oh=10,Yu=11,Wu=12,ou=13,Ma=14,Gr=15,lu=function(j){for(var x=[],C=0,B=j.length;C<B;){var z=j.charCodeAt(C++);if(z>=55296&&z<=56319&&C<B){var se=j.charCodeAt(C++);(se&64512)===56320?x.push(((z&1023)<<10)+(se&1023)+65536):(x.push(z),C--)}else x.push(z)}return x},jA=function(){for(var j=[],x=0;x<arguments.length;x++)j[x]=arguments[x];if(String.fromCodePoint)return String.fromCodePoint.apply(String,j);var C=j.length;if(!C)return"";for(var B=[],z=-1,se="";++z<C;){var he=j[z];he<=65535?B.push(he):(he-=65536,B.push((he>>10)+55296,he%1024+56320)),(z+1===C||B.length>16384)&&(se+=String.fromCharCode.apply(String,B),B.length=0)}return se},wc=Xs(cr),qa="",Po="",Xu=function(j){return wc.get(j)},jc=function(j,x,C){var B=C-2,z=x[B],se=x[C-1],he=x[C];if(se===El&&he===bc)return qa;if(se===El||se===bc||se===br||he===El||he===bc||he===br)return Po;if(se===iu&&[iu,dl,Yu,Wu].indexOf(he)!==-1||(se===Yu||se===dl)&&(he===dl||he===oh)||(se===Wu||se===oh)&&he===oh||he===ou||he===$u||he===ih||se===wA)return qa;if(se===ou&&he===Ma){for(;z===$u;)z=x[--B];if(z===Ma)return qa}if(se===Gr&&he===Gr){for(var Be=0;z===Gr;)Be++,z=x[--B];if(Be%2===0)return qa}return Po},Ju=function(j){var x=lu(j),C=x.length,B=0,z=0,se=x.map(Xu);return{next:function(){if(B>=C)return{done:!0,value:null};for(var he=qa;B<C&&(he=jc(x,se,++B))===qa;);if(he!==qa||B===C){var Be=jA.apply(null,x.slice(z,B));return z=B,{value:Be,done:!1}}return{done:!0,value:null}}}},qu=function(j){for(var x=Ju(j),C=[],B;!(B=x.next()).done;)B.value&&C.push(B.value.slice());return C},Wl=function(j){var x=123;if(j.createRange){var C=j.createRange();if(C.getBoundingClientRect){var B=j.createElement("boundtest");B.style.height=x+"px",B.style.display="block",j.body.appendChild(B),C.selectNode(B);var z=C.getBoundingClientRect(),se=Math.round(z.height);if(j.body.removeChild(B),se===x)return!0}}return!1},lh=function(j){var x=j.createElement("boundtest");x.style.width="50px",x.style.display="block",x.style.fontSize="12px",x.style.letterSpacing="0px",x.style.wordSpacing="0px",j.body.appendChild(x);var C=j.createRange();x.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var B=x.firstChild,z=m(B.data).map(function(Ce){return v(Ce)}),se=0,he={},Be=z.every(function(Ce,De){C.setStart(B,se),C.setEnd(B,se+Ce.length);var Ke=C.getBoundingClientRect();se+=Ce.length;var We=Ke.x>he.x||Ke.y>he.y;return he=Ke,De===0?!0:We});return j.body.removeChild(x),Be},Ah=function(){return typeof new Image().crossOrigin<"u"},hf=function(){return typeof new XMLHttpRequest().responseType=="string"},ch=function(j){var x=new Image,C=j.createElement("canvas"),B=C.getContext("2d");if(!B)return!1;x.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{B.drawImage(x,0,0),C.toDataURL()}catch{return!1}return!0},Xl=function(j){return j[0]===0&&j[1]===255&&j[2]===0&&j[3]===255},ff=function(j){var x=j.createElement("canvas"),C=100;x.width=C,x.height=C;var B=x.getContext("2d");if(!B)return Promise.reject(!1);B.fillStyle="rgb(0, 255, 0)",B.fillRect(0,0,C,C);var z=new Image,se=x.toDataURL();z.src=se;var he=Zu(C,C,0,0,z);return B.fillStyle="red",B.fillRect(0,0,C,C),uh(he).then(function(Be){B.drawImage(Be,0,0);var Ce=B.getImageData(0,0,C,C).data;B.fillStyle="red",B.fillRect(0,0,C,C);var De=j.createElement("div");return De.style.backgroundImage="url("+se+")",De.style.height=C+"px",Xl(Ce)?uh(Zu(C,C,0,0,De)):Promise.reject(!1)}).then(function(Be){return B.drawImage(Be,0,0),Xl(B.getImageData(0,0,C,C).data)}).catch(function(){return!1})},Zu=function(j,x,C,B,z){var se="http://www.w3.org/2000/svg",he=document.createElementNS(se,"svg"),Be=document.createElementNS(se,"foreignObject");return he.setAttributeNS(null,"width",j.toString()),he.setAttributeNS(null,"height",x.toString()),Be.setAttributeNS(null,"width","100%"),Be.setAttributeNS(null,"height","100%"),Be.setAttributeNS(null,"x",C.toString()),Be.setAttributeNS(null,"y",B.toString()),Be.setAttributeNS(null,"externalResourcesRequired","true"),he.appendChild(Be),Be.appendChild(z),he},uh=function(j){return new Promise(function(x,C){var B=new Image;B.onload=function(){return x(B)},B.onerror=C,B.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(j))})},Ha={get SUPPORT_RANGE_BOUNDS(){var j=Wl(document);return Object.defineProperty(Ha,"SUPPORT_RANGE_BOUNDS",{value:j}),j},get SUPPORT_WORD_BREAKING(){var j=Ha.SUPPORT_RANGE_BOUNDS&&lh(document);return Object.defineProperty(Ha,"SUPPORT_WORD_BREAKING",{value:j}),j},get SUPPORT_SVG_DRAWING(){var j=ch(document);return Object.defineProperty(Ha,"SUPPORT_SVG_DRAWING",{value:j}),j},get SUPPORT_FOREIGNOBJECT_DRAWING(){var j=typeof Array.from=="function"&&typeof window.fetch=="function"?ff(document):Promise.resolve(!1);return Object.defineProperty(Ha,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:j}),j},get SUPPORT_CORS_IMAGES(){var j=Ah();return Object.defineProperty(Ha,"SUPPORT_CORS_IMAGES",{value:j}),j},get SUPPORT_RESPONSE_TYPE(){var j=hf();return Object.defineProperty(Ha,"SUPPORT_RESPONSE_TYPE",{value:j}),j},get SUPPORT_CORS_XHR(){var j="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Ha,"SUPPORT_CORS_XHR",{value:j}),j},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var j=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Ha,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:j}),j}},Bc=(function(){function j(x,C){this.text=x,this.bounds=C}return j})(),GA=function(j,x,C,B){var z=ql(x,C),se=[],he=0;return z.forEach(function(Be){if(C.textDecorationLine.length||Be.trim().length>0)if(Ha.SUPPORT_RANGE_BOUNDS){var Ce=Cc(B,he,Be.length).getClientRects();if(Ce.length>1){var De=ko(Be),Ke=0;De.forEach(function(mt){se.push(new Bc(mt,u.fromDOMRectList(j,Cc(B,Ke+he,mt.length).getClientRects()))),Ke+=mt.length})}else se.push(new Bc(Be,u.fromDOMRectList(j,Ce)))}else{var We=B.splitText(Be.length);se.push(new Bc(Be,ed(j,B))),B=We}else Ha.SUPPORT_RANGE_BOUNDS||(B=B.splitText(Be.length));he+=Be.length}),se},ed=function(j,x){var C=x.ownerDocument;if(C){var B=C.createElement("html2canvaswrapper");B.appendChild(x.cloneNode(!0));var z=x.parentNode;if(z){z.replaceChild(B,x);var se=f(j,B);return B.firstChild&&z.replaceChild(B.firstChild,B),se}}return u.EMPTY},Cc=function(j,x,C){var B=j.ownerDocument;if(!B)throw new Error("Node has no owner document");var z=B.createRange();return z.setStart(j,x),z.setEnd(j,x+C),z},ko=function(j){if(Ha.SUPPORT_NATIVE_TEXT_SEGMENTATION){var x=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(x.segment(j)).map(function(C){return C.segment})}return qu(j)},Jl=function(j,x){if(Ha.SUPPORT_NATIVE_TEXT_SEGMENTATION){var C=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(C.segment(j)).map(function(B){return B.segment})}return nd(j,x)},ql=function(j,x){return x.letterSpacing!==0?ko(j):Jl(j,x)},td=[32,160,4961,65792,65793,4153,4241],nd=function(j,x){for(var C=_e(j,{lineBreak:x.lineBreak,wordBreak:x.overflowWrap==="break-word"?"break-word":x.wordBreak}),B=[],z,se=function(){if(z.value){var he=z.value.slice(),Be=m(he),Ce="";Be.forEach(function(De){td.indexOf(De)===-1?Ce+=v(De):(Ce.length&&B.push(Ce),B.push(v(De)),Ce="")}),Ce.length&&B.push(Ce)}};!(z=C.next()).done;)se();return B},$A=(function(){function j(x,C,B){this.text=mf(C.data,B.textTransform),this.textBounds=GA(x,this.text,B,C)}return j})(),mf=function(j,x){switch(x){case 1:return j.toLowerCase();case 3:return j.replace(Sc,Nc);case 2:return j.toUpperCase();default:return j}},Sc=/(^|\s|:|-|\(|\))([a-z])/g,Nc=function(j,x,C){return j.length>0?x+C.toUpperCase():j},Fm=(function(j){s(x,j);function x(C,B){var z=j.call(this,C,B)||this;return z.src=B.currentSrc||B.src,z.intrinsicWidth=B.naturalWidth,z.intrinsicHeight=B.naturalHeight,z.context.cache.addImage(z.src),z}return x})(zn),pf=(function(j){s(x,j);function x(C,B){var z=j.call(this,C,B)||this;return z.canvas=B,z.intrinsicWidth=B.width,z.intrinsicHeight=B.height,z}return x})(zn),Mg=(function(j){s(x,j);function x(C,B){var z=j.call(this,C,B)||this,se=new XMLSerializer,he=f(C,B);return B.setAttribute("width",he.width+"px"),B.setAttribute("height",he.height+"px"),z.svg="data:image/svg+xml,"+encodeURIComponent(se.serializeToString(B)),z.intrinsicWidth=B.width.baseVal.value,z.intrinsicHeight=B.height.baseVal.value,z.context.cache.addImage(z.svg),z}return x})(zn),Um=(function(j){s(x,j);function x(C,B){var z=j.call(this,C,B)||this;return z.value=B.value,z}return x})(zn),gf=(function(j){s(x,j);function x(C,B){var z=j.call(this,C,B)||this;return z.start=B.start,z.reversed=typeof B.reversed=="boolean"&&B.reversed===!0,z}return x})(zn),Hg=[{type:15,flags:0,unit:"px",number:3}],Vg=[{type:16,flags:0,number:50}],Kg=function(j){return j.width>j.height?new u(j.left+(j.width-j.height)/2,j.top,j.height,j.height):j.width<j.height?new u(j.left,j.top+(j.height-j.width)/2,j.width,j.width):j},Rm=function(j){var x=j.type===Dm?new Array(j.value.length+1).join(""):j.value;return x.length===0?j.placeholder||"":x},dh="checkbox",hh="radio",Dm="password",Lm=707406591,vf=(function(j){s(x,j);function x(C,B){var z=j.call(this,C,B)||this;switch(z.type=B.type.toLowerCase(),z.checked=B.checked,z.value=Rm(B),(z.type===dh||z.type===hh)&&(z.styles.backgroundColor=3739148031,z.styles.borderTopColor=z.styles.borderRightColor=z.styles.borderBottomColor=z.styles.borderLeftColor=2779096575,z.styles.borderTopWidth=z.styles.borderRightWidth=z.styles.borderBottomWidth=z.styles.borderLeftWidth=1,z.styles.borderTopStyle=z.styles.borderRightStyle=z.styles.borderBottomStyle=z.styles.borderLeftStyle=1,z.styles.backgroundClip=[0],z.styles.backgroundOrigin=[0],z.bounds=Kg(z.bounds)),z.type){case dh:z.styles.borderTopRightRadius=z.styles.borderTopLeftRadius=z.styles.borderBottomRightRadius=z.styles.borderBottomLeftRadius=Hg;break;case hh:z.styles.borderTopRightRadius=z.styles.borderTopLeftRadius=z.styles.borderBottomRightRadius=z.styles.borderBottomLeftRadius=Vg;break}return z}return x})(zn),zg=(function(j){s(x,j);function x(C,B){var z=j.call(this,C,B)||this,se=B.options[B.selectedIndex||0];return z.value=se&&se.text||"",z}return x})(zn),xf=(function(j){s(x,j);function x(C,B){var z=j.call(this,C,B)||this;return z.value=B.value,z}return x})(zn),Qm=(function(j){s(x,j);function x(C,B){var z=j.call(this,C,B)||this;z.src=B.src,z.width=parseInt(B.width,10)||0,z.height=parseInt(B.height,10)||0,z.backgroundColor=z.styles.backgroundColor;try{if(B.contentWindow&&B.contentWindow.document&&B.contentWindow.document.documentElement){z.tree=Pm(C,B.contentWindow.document.documentElement);var se=B.contentWindow.document.documentElement?Al(C,getComputedStyle(B.contentWindow.document.documentElement).backgroundColor):va.TRANSPARENT,he=B.contentWindow.document.body?Al(C,getComputedStyle(B.contentWindow.document.body).backgroundColor):va.TRANSPARENT;z.backgroundColor=li(se)?li(he)?z.styles.backgroundColor:he:se}}catch{}return z}return x})(zn),Gg=["OL","UL","MENU"],sd=function(j,x,C,B){for(var z=x.firstChild,se=void 0;z;z=se)if(se=z.nextSibling,km(z)&&z.data.trim().length>0)C.textNodes.push(new $A(j,z,C.styles));else if(BA(z))if(vh(z)&&z.assignedNodes)z.assignedNodes().forEach(function(Be){return sd(j,Be,C,B)});else{var he=Om(j,z);he.styles.isVisible()&&(Kx(z,he,B)?he.flags|=4:zx(he.styles)&&(he.flags|=2),Gg.indexOf(z.tagName)!==-1&&(he.flags|=8),C.elements.push(he),z.slot,z.shadowRoot?sd(j,z.shadowRoot,he,B):!ph(z)&&!yf(z)&&!gh(z)&&sd(j,z,he,B))}},Om=function(j,x){return Bf(x)?new Fm(j,x):wf(x)?new pf(j,x):yf(x)?new Mg(j,x):$g(x)?new Um(j,x):Yg(x)?new gf(j,x):mh(x)?new vf(j,x):gh(x)?new zg(j,x):ph(x)?new xf(j,x):Mm(x)?new Qm(j,x):new zn(j,x)},Pm=function(j,x){var C=Om(j,x);return C.flags|=4,sd(j,x,C,C),C},Kx=function(j,x,C){return x.styles.isPositionedWithZIndex()||x.styles.opacity<1||x.styles.isTransformed()||bf(j)&&C.styles.isTransparent()},zx=function(j){return j.isPositioned()||j.isFloating()},km=function(j){return j.nodeType===Node.TEXT_NODE},BA=function(j){return j.nodeType===Node.ELEMENT_NODE},fh=function(j){return BA(j)&&typeof j.style<"u"&&!Au(j)},Au=function(j){return typeof j.className=="object"},$g=function(j){return j.tagName==="LI"},Yg=function(j){return j.tagName==="OL"},mh=function(j){return j.tagName==="INPUT"},Wg=function(j){return j.tagName==="HTML"},yf=function(j){return j.tagName==="svg"},bf=function(j){return j.tagName==="BODY"},wf=function(j){return j.tagName==="CANVAS"},jf=function(j){return j.tagName==="VIDEO"},Bf=function(j){return j.tagName==="IMG"},Mm=function(j){return j.tagName==="IFRAME"},Ec=function(j){return j.tagName==="STYLE"},Xg=function(j){return j.tagName==="SCRIPT"},ph=function(j){return j.tagName==="TEXTAREA"},gh=function(j){return j.tagName==="SELECT"},vh=function(j){return j.tagName==="SLOT"},Hm=function(j){return j.tagName.indexOf("-")>0},Vm=(function(){function j(){this.counters={}}return j.prototype.getCounterValue=function(x){var C=this.counters[x];return C&&C.length?C[C.length-1]:1},j.prototype.getCounterValues=function(x){var C=this.counters[x];return C||[]},j.prototype.pop=function(x){var C=this;x.forEach(function(B){return C.counters[B].pop()})},j.prototype.parse=function(x){var C=this,B=x.counterIncrement,z=x.counterReset,se=!0;B!==null&&B.forEach(function(Be){var Ce=C.counters[Be.counter];Ce&&Be.increment!==0&&(se=!1,Ce.length||Ce.push(1),Ce[Math.max(0,Ce.length-1)]+=Be.increment)});var he=[];return se&&z.forEach(function(Be){var Ce=C.counters[Be.counter];he.push(Be.counter),Ce||(Ce=C.counters[Be.counter]=[]),Ce.push(Be.reset)}),he},j})(),Km={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},zm={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Gx={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Gm={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},na=function(j,x,C,B,z,se){return j<x||j>C?ad(j,z,se.length>0):B.integers.reduce(function(he,Be,Ce){for(;j>=Be;)j-=Be,he+=B.values[Ce];return he},"")+se},Ni=function(j,x,C,B){var z="";do C||j--,z=B(j)+z,j/=x;while(j*x>=x);return z},Ra=function(j,x,C,B,z){var se=C-x+1;return(j<0?"-":"")+(Ni(Math.abs(j),se,B,function(he){return v(Math.floor(he%se)+x)})+z)},Tc=function(j,x,C){C===void 0&&(C=". ");var B=x.length;return Ni(Math.abs(j),B,!1,function(z){return x[Math.floor(z%B)]})+C},cu=1,YA=2,Tl=4,rd=8,Il=function(j,x,C,B,z,se){if(j<-9999||j>9999)return ad(j,4,z.length>0);var he=Math.abs(j),Be=z;if(he===0)return x[0]+Be;for(var Ce=0;he>0&&Ce<=4;Ce++){var De=he%10;De===0&&He(se,cu)&&Be!==""?Be=x[De]+Be:De>1||De===1&&Ce===0||De===1&&Ce===1&&He(se,YA)||De===1&&Ce===1&&He(se,Tl)&&j>100||De===1&&Ce>1&&He(se,rd)?Be=x[De]+(Ce>0?C[Ce-1]:"")+Be:De===1&&Ce>0&&(Be=C[Ce-1]+Be),he=Math.floor(he/10)}return(j<0?B:"")+Be},$m="",Jg="",xh="",yh="",ad=function(j,x,C){var B=C?". ":"",z=C?"":"",se=C?", ":"",he=C?" ":"";switch(x){case 0:return""+he;case 1:return""+he;case 2:return""+he;case 5:var Be=Ra(j,48,57,!0,B);return Be.length<4?"0"+Be:Be;case 4:return Tc(j,"",z);case 6:return na(j,1,3999,Km,3,B).toLowerCase();case 7:return na(j,1,3999,Km,3,B);case 8:return Ra(j,945,969,!1,B);case 9:return Ra(j,97,122,!1,B);case 10:return Ra(j,65,90,!1,B);case 11:return Ra(j,1632,1641,!0,B);case 12:case 49:return na(j,1,9999,zm,3,B);case 35:return na(j,1,9999,zm,3,B).toLowerCase();case 13:return Ra(j,2534,2543,!0,B);case 14:case 30:return Ra(j,6112,6121,!0,B);case 15:return Tc(j,"",z);case 16:return Tc(j,"",z);case 17:case 48:return Il(j,"",$m,"",z,YA|Tl|rd);case 47:return Il(j,"",Jg,"",z,cu|YA|Tl|rd);case 42:return Il(j,"",$m,"",z,YA|Tl|rd);case 41:return Il(j,"",Jg,"",z,cu|YA|Tl|rd);case 26:return Il(j,"","",xh,z,0);case 25:return Il(j,"","",xh,z,cu|YA|Tl);case 31:return Il(j,"","",yh,se,cu|YA|Tl);case 33:return Il(j,"","",yh,se,0);case 32:return Il(j,"","",yh,se,cu|YA|Tl);case 18:return Ra(j,2406,2415,!0,B);case 20:return na(j,1,19999,Gm,3,B);case 21:return Ra(j,2790,2799,!0,B);case 22:return Ra(j,2662,2671,!0,B);case 22:return na(j,1,10999,Gx,3,B);case 23:return Tc(j,"");case 24:return Tc(j,"");case 27:return Ra(j,3302,3311,!0,B);case 28:return Tc(j,"",z);case 29:return Tc(j,"",z);case 34:return Ra(j,3792,3801,!0,B);case 37:return Ra(j,6160,6169,!0,B);case 38:return Ra(j,4160,4169,!0,B);case 39:return Ra(j,2918,2927,!0,B);case 40:return Ra(j,1776,1785,!0,B);case 43:return Ra(j,3046,3055,!0,B);case 44:return Ra(j,3174,3183,!0,B);case 45:return Ra(j,3664,3673,!0,B);case 46:return Ra(j,3872,3881,!0,B);case 3:default:return Ra(j,48,57,!0,B)}},Ym="data-html2canvas-ignore",Wm=(function(){function j(x,C,B){if(this.context=x,this.options=B,this.scrolledElements=[],this.referenceElement=C,this.counters=new Vm,this.quoteDepth=0,!C.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(C.ownerDocument.documentElement,!1)}return j.prototype.toIFrame=function(x,C){var B=this,z=Xm(x,C);if(!z.contentWindow)return Promise.reject("Unable to find iframe window");var se=x.defaultView.pageXOffset,he=x.defaultView.pageYOffset,Be=z.contentWindow,Ce=Be.document,De=qm(z).then(function(){return o(B,void 0,void 0,function(){var Ke,We;return c(this,function(mt){switch(mt.label){case 0:return this.scrolledElements.forEach(e0),Be&&(Be.scrollTo(C.left,C.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(Be.scrollY!==C.top||Be.scrollX!==C.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(Be.scrollX-C.left,Be.scrollY-C.top,0,0))),Ke=this.options.onclone,We=this.clonedReferenceElement,typeof We>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:Ce.fonts&&Ce.fonts.ready?[4,Ce.fonts.ready]:[3,2];case 1:mt.sent(),mt.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,qg(Ce)]:[3,4];case 3:mt.sent(),mt.label=4;case 4:return typeof Ke=="function"?[2,Promise.resolve().then(function(){return Ke(Ce,We)}).then(function(){return z})]:[2,z]}})})});return Ce.open(),Ce.write(Zg(document.doctype)+"<html></html>"),Zm(this.referenceElement.ownerDocument,se,he),Ce.replaceChild(Ce.adoptNode(this.documentElement),Ce.documentElement),Ce.close(),De},j.prototype.createElementClone=function(x){if(kn(x,2))debugger;if(wf(x))return this.createCanvasClone(x);if(jf(x))return this.createVideoClone(x);if(Ec(x))return this.createStyleClone(x);var C=x.cloneNode(!1);return Bf(C)&&(Bf(x)&&x.currentSrc&&x.currentSrc!==x.src&&(C.src=x.currentSrc,C.srcset=""),C.loading==="lazy"&&(C.loading="eager")),Hm(C)?this.createCustomElementClone(C):C},j.prototype.createCustomElementClone=function(x){var C=document.createElement("html2canvascustomelement");return bh(x.style,C),C},j.prototype.createStyleClone=function(x){try{var C=x.sheet;if(C&&C.cssRules){var B=[].slice.call(C.cssRules,0).reduce(function(se,he){return he&&typeof he.cssText=="string"?se+he.cssText:se},""),z=x.cloneNode(!1);return z.textContent=B,z}}catch(se){if(this.context.logger.error("Unable to access cssRules property",se),se.name!=="SecurityError")throw se}return x.cloneNode(!1)},j.prototype.createCanvasClone=function(x){var C;if(this.options.inlineImages&&x.ownerDocument){var B=x.ownerDocument.createElement("img");try{return B.src=x.toDataURL(),B}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",x)}}var z=x.cloneNode(!1);try{z.width=x.width,z.height=x.height;var se=x.getContext("2d"),he=z.getContext("2d");if(he)if(!this.options.allowTaint&&se)he.putImageData(se.getImageData(0,0,x.width,x.height),0,0);else{var Be=(C=x.getContext("webgl2"))!==null&&C!==void 0?C:x.getContext("webgl");if(Be){var Ce=Be.getContextAttributes();(Ce==null?void 0:Ce.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",x)}he.drawImage(x,0,0)}return z}catch{this.context.logger.info("Unable to clone canvas as it is tainted",x)}return z},j.prototype.createVideoClone=function(x){var C=x.ownerDocument.createElement("canvas");C.width=x.offsetWidth,C.height=x.offsetHeight;var B=C.getContext("2d");try{return B&&(B.drawImage(x,0,0,C.width,C.height),this.options.allowTaint||B.getImageData(0,0,C.width,C.height)),C}catch{this.context.logger.info("Unable to clone video as it is tainted",x)}var z=x.ownerDocument.createElement("canvas");return z.width=x.offsetWidth,z.height=x.offsetHeight,z},j.prototype.appendChildNode=function(x,C,B){(!BA(C)||!Xg(C)&&!C.hasAttribute(Ym)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(C)))&&(!this.options.copyStyles||!BA(C)||!Ec(C))&&x.appendChild(this.cloneNode(C,B))},j.prototype.cloneChildNodes=function(x,C,B){for(var z=this,se=x.shadowRoot?x.shadowRoot.firstChild:x.firstChild;se;se=se.nextSibling)if(BA(se)&&vh(se)&&typeof se.assignedNodes=="function"){var he=se.assignedNodes();he.length&&he.forEach(function(Be){return z.appendChildNode(C,Be,B)})}else this.appendChildNode(C,se,B)},j.prototype.cloneNode=function(x,C){if(km(x))return document.createTextNode(x.data);if(!x.ownerDocument)return x.cloneNode(!1);var B=x.ownerDocument.defaultView;if(B&&BA(x)&&(fh(x)||Au(x))){var z=this.createElementClone(x);z.style.transitionProperty="none";var se=B.getComputedStyle(x),he=B.getComputedStyle(x,":before"),Be=B.getComputedStyle(x,":after");this.referenceElement===x&&fh(z)&&(this.clonedReferenceElement=z),bf(z)&&np(z);var Ce=this.counters.parse(new os(this.context,se)),De=this.resolvePseudoContent(x,z,he,uu.BEFORE);Hm(x)&&(C=!0),jf(x)||this.cloneChildNodes(x,z,C),De&&z.insertBefore(De,z.firstChild);var Ke=this.resolvePseudoContent(x,z,Be,uu.AFTER);return Ke&&z.appendChild(Ke),this.counters.pop(Ce),(se&&(this.options.copyStyles||Au(x))&&!Mm(x)||C)&&bh(se,z),(x.scrollTop!==0||x.scrollLeft!==0)&&this.scrolledElements.push([z,x.scrollLeft,x.scrollTop]),(ph(x)||gh(x))&&(ph(z)||gh(z))&&(z.value=x.value),z}return x.cloneNode(!1)},j.prototype.resolvePseudoContent=function(x,C,B,z){var se=this;if(B){var he=B.content,Be=C.ownerDocument;if(!(!Be||!he||he==="none"||he==="-moz-alt-content"||B.display==="none")){this.counters.parse(new os(this.context,B));var Ce=new Qr(this.context,B),De=Be.createElement("html2canvaspseudoelement");bh(B,De),Ce.content.forEach(function(We){if(We.type===0)De.appendChild(Be.createTextNode(We.value));else if(We.type===22){var mt=Be.createElement("img");mt.src=We.value,mt.style.opacity="1",De.appendChild(mt)}else if(We.type===18){if(We.name==="attr"){var An=We.values.filter(ns);An.length&&De.appendChild(Be.createTextNode(x.getAttribute(An[0].value)||""))}else if(We.name==="counter"){var Kt=We.values.filter(Na),qt=Kt[0],Tn=Kt[1];if(qt&&ns(qt)){var gn=se.counters.getCounterValue(qt.value),mn=Tn&&ns(Tn)?ru.parse(se.context,Tn.value):3;De.appendChild(Be.createTextNode(ad(gn,mn,!1)))}}else if(We.name==="counters"){var Bs=We.values.filter(Na),qt=Bs[0],gs=Bs[1],Tn=Bs[2];if(qt&&ns(qt)){var Yn=se.counters.getCounterValues(qt.value),un=Tn&&ns(Tn)?ru.parse(se.context,Tn.value):3,Is=gs&&gs.type===0?gs.value:"",ks=Yn.map(function(kr){return ad(kr,un,!1)}).join(Is);De.appendChild(Be.createTextNode(ks))}}}else if(We.type===20)switch(We.value){case"open-quote":De.appendChild(Be.createTextNode(Bt(Ce.quotes,se.quoteDepth++,!0)));break;case"close-quote":De.appendChild(Be.createTextNode(Bt(Ce.quotes,--se.quoteDepth,!1)));break;default:De.appendChild(Be.createTextNode(We.value))}}),De.className=tp+" "+Sf;var Ke=z===uu.BEFORE?" "+tp:" "+Sf;return Au(C)?C.className.baseValue+=Ke:C.className+=Ke,De}}},j.destroy=function(x){return x.parentNode?(x.parentNode.removeChild(x),!0):!1},j})(),uu;(function(j){j[j.BEFORE=0]="BEFORE",j[j.AFTER=1]="AFTER"})(uu||(uu={}));var Xm=function(j,x){var C=j.createElement("iframe");return C.className="html2canvas-container",C.style.visibility="hidden",C.style.position="fixed",C.style.left="-10000px",C.style.top="0px",C.style.border="0",C.width=x.width.toString(),C.height=x.height.toString(),C.scrolling="no",C.setAttribute(Ym,"true"),j.body.appendChild(C),C},Jm=function(j){return new Promise(function(x){if(j.complete){x();return}if(!j.src){x();return}j.onload=x,j.onerror=x})},qg=function(j){return Promise.all([].slice.call(j.images,0).map(Jm))},qm=function(j){return new Promise(function(x,C){var B=j.contentWindow;if(!B)return C("No window assigned for iframe");var z=B.document;B.onload=j.onload=function(){B.onload=j.onload=null;var se=setInterval(function(){z.body.childNodes.length>0&&z.readyState==="complete"&&(clearInterval(se),x(j))},50)}})},Cf=["all","d","content"],bh=function(j,x){for(var C=j.length-1;C>=0;C--){var B=j.item(C);Cf.indexOf(B)===-1&&x.style.setProperty(B,j.getPropertyValue(B))}return x},Zg=function(j){var x="";return j&&(x+="<!DOCTYPE ",j.name&&(x+=j.name),j.internalSubset&&(x+=j.internalSubset),j.publicId&&(x+='"'+j.publicId+'"'),j.systemId&&(x+='"'+j.systemId+'"'),x+=">"),x},Zm=function(j,x,C){j&&j.defaultView&&(x!==j.defaultView.pageXOffset||C!==j.defaultView.pageYOffset)&&j.defaultView.scrollTo(x,C)},e0=function(j){var x=j[0],C=j[1],B=j[2];x.scrollLeft=C,x.scrollTop=B},WA=":before",ep=":after",tp="___html2canvas___pseudoelement_before",Sf="___html2canvas___pseudoelement_after",CA=`{
    content: "" !important;
    display: none !important;
}`,np=function(j){t0(j,"."+tp+WA+CA+`
         .`+Sf+ep+CA)},t0=function(j,x){var C=j.ownerDocument;if(C){var B=C.createElement("style");B.textContent=x,j.appendChild(B)}},wh=(function(){function j(){}return j.getOrigin=function(x){var C=j._link;return C?(C.href=x,C.href=C.href,C.protocol+C.hostname+C.port):"about:blank"},j.isSameOrigin=function(x){return j.getOrigin(x)===j._origin},j.setContext=function(x){j._link=x.document.createElement("a"),j._origin=j.getOrigin(x.location.href)},j._origin="about:blank",j})(),jh=(function(){function j(x,C){this.context=x,this._options=C,this._cache={}}return j.prototype.addImage=function(x){var C=Promise.resolve();return this.has(x)||(Nf(x)||n0(x))&&(this._cache[x]=this.loadImage(x)).catch(function(){}),C},j.prototype.match=function(x){return this._cache[x]},j.prototype.loadImage=function(x){return o(this,void 0,void 0,function(){var C,B,z,se,he=this;return c(this,function(Be){switch(Be.label){case 0:return C=wh.isSameOrigin(x),B=!du(x)&&this._options.useCORS===!0&&Ha.SUPPORT_CORS_IMAGES&&!C,z=!du(x)&&!C&&!Nf(x)&&typeof this._options.proxy=="string"&&Ha.SUPPORT_CORS_XHR&&!B,!C&&this._options.allowTaint===!1&&!du(x)&&!Nf(x)&&!z&&!B?[2]:(se=x,z?[4,this.proxy(se)]:[3,2]);case 1:se=Be.sent(),Be.label=2;case 2:return this.context.logger.debug("Added image "+x.substring(0,256)),[4,new Promise(function(Ce,De){var Ke=new Image;Ke.onload=function(){return Ce(Ke)},Ke.onerror=De,(Ic(se)||B)&&(Ke.crossOrigin="anonymous"),Ke.src=se,Ke.complete===!0&&setTimeout(function(){return Ce(Ke)},500),he._options.imageTimeout>0&&setTimeout(function(){return De("Timed out ("+he._options.imageTimeout+"ms) loading image")},he._options.imageTimeout)})];case 3:return[2,Be.sent()]}})})},j.prototype.has=function(x){return typeof this._cache[x]<"u"},j.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},j.prototype.proxy=function(x){var C=this,B=this._options.proxy;if(!B)throw new Error("No proxy defined");var z=x.substring(0,256);return new Promise(function(se,he){var Be=Ha.SUPPORT_RESPONSE_TYPE?"blob":"text",Ce=new XMLHttpRequest;Ce.onload=function(){if(Ce.status===200)if(Be==="text")se(Ce.response);else{var We=new FileReader;We.addEventListener("load",function(){return se(We.result)},!1),We.addEventListener("error",function(mt){return he(mt)},!1),We.readAsDataURL(Ce.response)}else he("Failed to proxy resource "+z+" with status code "+Ce.status)},Ce.onerror=he;var De=B.indexOf("?")>-1?"&":"?";if(Ce.open("GET",""+B+De+"url="+encodeURIComponent(x)+"&responseType="+Be),Be!=="text"&&Ce instanceof XMLHttpRequest&&(Ce.responseType=Be),C._options.imageTimeout){var Ke=C._options.imageTimeout;Ce.timeout=Ke,Ce.ontimeout=function(){return he("Timed out ("+Ke+"ms) proxying "+z)}}Ce.send()})},j})(),sa=/^data:image\/svg\+xml/i,$x=/^data:image\/.*;base64,/i,Yx=/^data:image\/.*/i,n0=function(j){return Ha.SUPPORT_SVG_DRAWING||!s0(j)},du=function(j){return Yx.test(j)},Ic=function(j){return $x.test(j)},Nf=function(j){return j.substr(0,4)==="blob"},s0=function(j){return j.substr(-3).toLowerCase()==="svg"||sa.test(j)},tn=(function(){function j(x,C){this.type=0,this.x=x,this.y=C}return j.prototype.add=function(x,C){return new j(this.x+x,this.y+C)},j})(),fo=function(j,x,C){return new tn(j.x+(x.x-j.x)*C,j.y+(x.y-j.y)*C)},Bh=(function(){function j(x,C,B,z){this.type=1,this.start=x,this.startControl=C,this.endControl=B,this.end=z}return j.prototype.subdivide=function(x,C){var B=fo(this.start,this.startControl,x),z=fo(this.startControl,this.endControl,x),se=fo(this.endControl,this.end,x),he=fo(B,z,x),Be=fo(z,se,x),Ce=fo(he,Be,x);return C?new j(this.start,B,he,Ce):new j(Ce,Be,se,this.end)},j.prototype.add=function(x,C){return new j(this.start.add(x,C),this.startControl.add(x,C),this.endControl.add(x,C),this.end.add(x,C))},j.prototype.reverse=function(){return new j(this.end,this.endControl,this.startControl,this.start)},j})(),Mo=function(j){return j.type===1},r0=(function(){function j(x){var C=x.styles,B=x.bounds,z=Fo(C.borderTopLeftRadius,B.width,B.height),se=z[0],he=z[1],Be=Fo(C.borderTopRightRadius,B.width,B.height),Ce=Be[0],De=Be[1],Ke=Fo(C.borderBottomRightRadius,B.width,B.height),We=Ke[0],mt=Ke[1],An=Fo(C.borderBottomLeftRadius,B.width,B.height),Kt=An[0],qt=An[1],Tn=[];Tn.push((se+Ce)/B.width),Tn.push((Kt+We)/B.width),Tn.push((he+qt)/B.height),Tn.push((De+mt)/B.height);var gn=Math.max.apply(Math,Tn);gn>1&&(se/=gn,he/=gn,Ce/=gn,De/=gn,We/=gn,mt/=gn,Kt/=gn,qt/=gn);var mn=B.width-Ce,Bs=B.height-mt,gs=B.width-We,Yn=B.height-qt,un=C.borderTopWidth,Is=C.borderRightWidth,ks=C.borderBottomWidth,Fn=C.borderLeftWidth,Va=ws(C.paddingTop,x.bounds.width),kr=ws(C.paddingRight,x.bounds.width),Ko=ws(C.paddingBottom,x.bounds.width),jr=ws(C.paddingLeft,x.bounds.width);this.topLeftBorderDoubleOuterBox=se>0||he>0?$r(B.left+Fn/3,B.top+un/3,se-Fn/3,he-un/3,rr.TOP_LEFT):new tn(B.left+Fn/3,B.top+un/3),this.topRightBorderDoubleOuterBox=se>0||he>0?$r(B.left+mn,B.top+un/3,Ce-Is/3,De-un/3,rr.TOP_RIGHT):new tn(B.left+B.width-Is/3,B.top+un/3),this.bottomRightBorderDoubleOuterBox=We>0||mt>0?$r(B.left+gs,B.top+Bs,We-Is/3,mt-ks/3,rr.BOTTOM_RIGHT):new tn(B.left+B.width-Is/3,B.top+B.height-ks/3),this.bottomLeftBorderDoubleOuterBox=Kt>0||qt>0?$r(B.left+Fn/3,B.top+Yn,Kt-Fn/3,qt-ks/3,rr.BOTTOM_LEFT):new tn(B.left+Fn/3,B.top+B.height-ks/3),this.topLeftBorderDoubleInnerBox=se>0||he>0?$r(B.left+Fn*2/3,B.top+un*2/3,se-Fn*2/3,he-un*2/3,rr.TOP_LEFT):new tn(B.left+Fn*2/3,B.top+un*2/3),this.topRightBorderDoubleInnerBox=se>0||he>0?$r(B.left+mn,B.top+un*2/3,Ce-Is*2/3,De-un*2/3,rr.TOP_RIGHT):new tn(B.left+B.width-Is*2/3,B.top+un*2/3),this.bottomRightBorderDoubleInnerBox=We>0||mt>0?$r(B.left+gs,B.top+Bs,We-Is*2/3,mt-ks*2/3,rr.BOTTOM_RIGHT):new tn(B.left+B.width-Is*2/3,B.top+B.height-ks*2/3),this.bottomLeftBorderDoubleInnerBox=Kt>0||qt>0?$r(B.left+Fn*2/3,B.top+Yn,Kt-Fn*2/3,qt-ks*2/3,rr.BOTTOM_LEFT):new tn(B.left+Fn*2/3,B.top+B.height-ks*2/3),this.topLeftBorderStroke=se>0||he>0?$r(B.left+Fn/2,B.top+un/2,se-Fn/2,he-un/2,rr.TOP_LEFT):new tn(B.left+Fn/2,B.top+un/2),this.topRightBorderStroke=se>0||he>0?$r(B.left+mn,B.top+un/2,Ce-Is/2,De-un/2,rr.TOP_RIGHT):new tn(B.left+B.width-Is/2,B.top+un/2),this.bottomRightBorderStroke=We>0||mt>0?$r(B.left+gs,B.top+Bs,We-Is/2,mt-ks/2,rr.BOTTOM_RIGHT):new tn(B.left+B.width-Is/2,B.top+B.height-ks/2),this.bottomLeftBorderStroke=Kt>0||qt>0?$r(B.left+Fn/2,B.top+Yn,Kt-Fn/2,qt-ks/2,rr.BOTTOM_LEFT):new tn(B.left+Fn/2,B.top+B.height-ks/2),this.topLeftBorderBox=se>0||he>0?$r(B.left,B.top,se,he,rr.TOP_LEFT):new tn(B.left,B.top),this.topRightBorderBox=Ce>0||De>0?$r(B.left+mn,B.top,Ce,De,rr.TOP_RIGHT):new tn(B.left+B.width,B.top),this.bottomRightBorderBox=We>0||mt>0?$r(B.left+gs,B.top+Bs,We,mt,rr.BOTTOM_RIGHT):new tn(B.left+B.width,B.top+B.height),this.bottomLeftBorderBox=Kt>0||qt>0?$r(B.left,B.top+Yn,Kt,qt,rr.BOTTOM_LEFT):new tn(B.left,B.top+B.height),this.topLeftPaddingBox=se>0||he>0?$r(B.left+Fn,B.top+un,Math.max(0,se-Fn),Math.max(0,he-un),rr.TOP_LEFT):new tn(B.left+Fn,B.top+un),this.topRightPaddingBox=Ce>0||De>0?$r(B.left+Math.min(mn,B.width-Is),B.top+un,mn>B.width+Is?0:Math.max(0,Ce-Is),Math.max(0,De-un),rr.TOP_RIGHT):new tn(B.left+B.width-Is,B.top+un),this.bottomRightPaddingBox=We>0||mt>0?$r(B.left+Math.min(gs,B.width-Fn),B.top+Math.min(Bs,B.height-ks),Math.max(0,We-Is),Math.max(0,mt-ks),rr.BOTTOM_RIGHT):new tn(B.left+B.width-Is,B.top+B.height-ks),this.bottomLeftPaddingBox=Kt>0||qt>0?$r(B.left+Fn,B.top+Math.min(Yn,B.height-ks),Math.max(0,Kt-Fn),Math.max(0,qt-ks),rr.BOTTOM_LEFT):new tn(B.left+Fn,B.top+B.height-ks),this.topLeftContentBox=se>0||he>0?$r(B.left+Fn+jr,B.top+un+Va,Math.max(0,se-(Fn+jr)),Math.max(0,he-(un+Va)),rr.TOP_LEFT):new tn(B.left+Fn+jr,B.top+un+Va),this.topRightContentBox=Ce>0||De>0?$r(B.left+Math.min(mn,B.width+Fn+jr),B.top+un+Va,mn>B.width+Fn+jr?0:Ce-Fn+jr,De-(un+Va),rr.TOP_RIGHT):new tn(B.left+B.width-(Is+kr),B.top+un+Va),this.bottomRightContentBox=We>0||mt>0?$r(B.left+Math.min(gs,B.width-(Fn+jr)),B.top+Math.min(Bs,B.height+un+Va),Math.max(0,We-(Is+kr)),mt-(ks+Ko),rr.BOTTOM_RIGHT):new tn(B.left+B.width-(Is+kr),B.top+B.height-(ks+Ko)),this.bottomLeftContentBox=Kt>0||qt>0?$r(B.left+Fn+jr,B.top+Yn,Math.max(0,Kt-(Fn+jr)),qt-(ks+Ko),rr.BOTTOM_LEFT):new tn(B.left+Fn+jr,B.top+B.height-(ks+Ko))}return j})(),rr;(function(j){j[j.TOP_LEFT=0]="TOP_LEFT",j[j.TOP_RIGHT=1]="TOP_RIGHT",j[j.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",j[j.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(rr||(rr={}));var $r=function(j,x,C,B,z){var se=4*((Math.sqrt(2)-1)/3),he=C*se,Be=B*se,Ce=j+C,De=x+B;switch(z){case rr.TOP_LEFT:return new Bh(new tn(j,De),new tn(j,De-Be),new tn(Ce-he,x),new tn(Ce,x));case rr.TOP_RIGHT:return new Bh(new tn(j,x),new tn(j+he,x),new tn(Ce,De-Be),new tn(Ce,De));case rr.BOTTOM_RIGHT:return new Bh(new tn(Ce,x),new tn(Ce,x+Be),new tn(j+he,De),new tn(j,De));case rr.BOTTOM_LEFT:default:return new Bh(new tn(Ce,De),new tn(Ce-he,De),new tn(j,x+Be),new tn(j,x))}},hu=function(j){return[j.topLeftBorderBox,j.topRightBorderBox,j.bottomRightBorderBox,j.bottomLeftBorderBox]},a0=function(j){return[j.topLeftContentBox,j.topRightContentBox,j.bottomRightContentBox,j.bottomLeftContentBox]},_l=function(j){return[j.topLeftPaddingBox,j.topRightPaddingBox,j.bottomRightPaddingBox,j.bottomLeftPaddingBox]},Za=(function(){function j(x,C,B){this.offsetX=x,this.offsetY=C,this.matrix=B,this.type=0,this.target=6}return j})(),id=(function(){function j(x,C){this.path=x,this.target=C,this.type=1}return j})(),i0=(function(){function j(x){this.opacity=x,this.type=2,this.target=6}return j})(),Ei=function(j){return j.type===0},o0=function(j){return j.type===1},l0=function(j){return j.type===2},sp=function(j,x){return j.length===x.length?j.some(function(C,B){return C===x[B]}):!1},fa=function(j,x,C,B,z){return j.map(function(se,he){switch(he){case 0:return se.add(x,C);case 1:return se.add(x+B,C);case 2:return se.add(x+B,C+z);case 3:return se.add(x,C+z)}return se})},mo=(function(){function j(x){this.element=x,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return j})(),SA=(function(){function j(x,C){if(this.container=x,this.parent=C,this.effects=[],this.curves=new r0(this.container),this.container.styles.opacity<1&&this.effects.push(new i0(this.container.styles.opacity)),this.container.styles.transform!==null){var B=this.container.bounds.left+this.container.styles.transformOrigin[0].number,z=this.container.bounds.top+this.container.styles.transformOrigin[1].number,se=this.container.styles.transform;this.effects.push(new Za(B,z,se))}if(this.container.styles.overflowX!==0){var he=hu(this.curves),Be=_l(this.curves);sp(he,Be)?this.effects.push(new id(he,6)):(this.effects.push(new id(he,2)),this.effects.push(new id(Be,4)))}}return j.prototype.getEffects=function(x){for(var C=[2,3].indexOf(this.container.styles.position)===-1,B=this.parent,z=this.effects.slice(0);B;){var se=B.effects.filter(function(Ce){return!o0(Ce)});if(C||B.container.styles.position!==0||!B.parent){if(z.unshift.apply(z,se),C=[2,3].indexOf(B.container.styles.position)===-1,B.container.styles.overflowX!==0){var he=hu(B.curves),Be=_l(B.curves);sp(he,Be)||z.unshift(new id(Be,6))}}else z.unshift.apply(z,se);B=B.parent}return z.filter(function(Ce){return He(Ce.target,x)})},j})(),Ef=function(j,x,C,B){j.container.elements.forEach(function(z){var se=He(z.flags,4),he=He(z.flags,2),Be=new SA(z,j);He(z.styles.display,2048)&&B.push(Be);var Ce=He(z.flags,8)?[]:B;if(se||he){var De=se||z.styles.isPositioned()?C:x,Ke=new mo(Be);if(z.styles.isPositioned()||z.styles.opacity<1||z.styles.isTransformed()){var We=z.styles.zIndex.order;if(We<0){var mt=0;De.negativeZIndex.some(function(Kt,qt){return We>Kt.element.container.styles.zIndex.order?(mt=qt,!1):mt>0}),De.negativeZIndex.splice(mt,0,Ke)}else if(We>0){var An=0;De.positiveZIndex.some(function(Kt,qt){return We>=Kt.element.container.styles.zIndex.order?(An=qt+1,!1):An>0}),De.positiveZIndex.splice(An,0,Ke)}else De.zeroOrAutoZIndexOrTransformedOrOpacity.push(Ke)}else z.styles.isFloating()?De.nonPositionedFloats.push(Ke):De.nonPositionedInlineLevel.push(Ke);Ef(Be,Ke,se?Ke:C,Ce)}else z.styles.isInlineLevel()?x.inlineLevel.push(Be):x.nonInlineLevel.push(Be),Ef(Be,x,C,Ce);He(z.flags,8)&&rp(z,Ce)})},rp=function(j,x){for(var C=j instanceof gf?j.start:1,B=j instanceof gf?j.reversed:!1,z=0;z<x.length;z++){var se=x[z];se.container instanceof Um&&typeof se.container.value=="number"&&se.container.value!==0&&(C=se.container.value),se.listValue=ad(C,se.container.styles.listStyleType,!0),C+=B?-1:1}},A0=function(j){var x=new SA(j,null),C=new mo(x),B=[];return Ef(x,C,C,B),rp(x.container,B),C},c0=function(j,x){switch(x){case 0:return ra(j.topLeftBorderBox,j.topLeftPaddingBox,j.topRightBorderBox,j.topRightPaddingBox);case 1:return ra(j.topRightBorderBox,j.topRightPaddingBox,j.bottomRightBorderBox,j.bottomRightPaddingBox);case 2:return ra(j.bottomRightBorderBox,j.bottomRightPaddingBox,j.bottomLeftBorderBox,j.bottomLeftPaddingBox);case 3:default:return ra(j.bottomLeftBorderBox,j.bottomLeftPaddingBox,j.topLeftBorderBox,j.topLeftPaddingBox)}},Tf=function(j,x){switch(x){case 0:return ra(j.topLeftBorderBox,j.topLeftBorderDoubleOuterBox,j.topRightBorderBox,j.topRightBorderDoubleOuterBox);case 1:return ra(j.topRightBorderBox,j.topRightBorderDoubleOuterBox,j.bottomRightBorderBox,j.bottomRightBorderDoubleOuterBox);case 2:return ra(j.bottomRightBorderBox,j.bottomRightBorderDoubleOuterBox,j.bottomLeftBorderBox,j.bottomLeftBorderDoubleOuterBox);case 3:default:return ra(j.bottomLeftBorderBox,j.bottomLeftBorderDoubleOuterBox,j.topLeftBorderBox,j.topLeftBorderDoubleOuterBox)}},Ho=function(j,x){switch(x){case 0:return ra(j.topLeftBorderDoubleInnerBox,j.topLeftPaddingBox,j.topRightBorderDoubleInnerBox,j.topRightPaddingBox);case 1:return ra(j.topRightBorderDoubleInnerBox,j.topRightPaddingBox,j.bottomRightBorderDoubleInnerBox,j.bottomRightPaddingBox);case 2:return ra(j.bottomRightBorderDoubleInnerBox,j.bottomRightPaddingBox,j.bottomLeftBorderDoubleInnerBox,j.bottomLeftPaddingBox);case 3:default:return ra(j.bottomLeftBorderDoubleInnerBox,j.bottomLeftPaddingBox,j.topLeftBorderDoubleInnerBox,j.topLeftPaddingBox)}},Zl=function(j,x){switch(x){case 0:return Ch(j.topLeftBorderStroke,j.topRightBorderStroke);case 1:return Ch(j.topRightBorderStroke,j.bottomRightBorderStroke);case 2:return Ch(j.bottomRightBorderStroke,j.bottomLeftBorderStroke);case 3:default:return Ch(j.bottomLeftBorderStroke,j.topLeftBorderStroke)}},Ch=function(j,x){var C=[];return Mo(j)?C.push(j.subdivide(.5,!1)):C.push(j),Mo(x)?C.push(x.subdivide(.5,!0)):C.push(x),C},ra=function(j,x,C,B){var z=[];return Mo(j)?z.push(j.subdivide(.5,!1)):z.push(j),Mo(C)?z.push(C.subdivide(.5,!0)):z.push(C),Mo(B)?z.push(B.subdivide(.5,!0).reverse()):z.push(B),Mo(x)?z.push(x.subdivide(.5,!1).reverse()):z.push(x),z},ap=function(j){var x=j.bounds,C=j.styles;return x.add(C.borderLeftWidth,C.borderTopWidth,-(C.borderRightWidth+C.borderLeftWidth),-(C.borderTopWidth+C.borderBottomWidth))},Fl=function(j){var x=j.styles,C=j.bounds,B=ws(x.paddingLeft,C.width),z=ws(x.paddingRight,C.width),se=ws(x.paddingTop,C.width),he=ws(x.paddingBottom,C.width);return C.add(B+x.borderLeftWidth,se+x.borderTopWidth,-(x.borderRightWidth+x.borderLeftWidth+B+z),-(x.borderTopWidth+x.borderBottomWidth+se+he))},fu=function(j,x){return j===0?x.bounds:j===2?Fl(x):ap(x)},XA=function(j,x){return j===0?x.bounds:j===2?Fl(x):ap(x)},Sh=function(j,x,C){var B=fu(eA(j.styles.backgroundOrigin,x),j),z=XA(eA(j.styles.backgroundClip,x),j),se=u0(eA(j.styles.backgroundSize,x),C,B),he=se[0],Be=se[1],Ce=Fo(eA(j.styles.backgroundPosition,x),B.width-he,B.height-Be),De=Nh(eA(j.styles.backgroundRepeat,x),Ce,se,B,z),Ke=Math.round(B.left+Ce[0]),We=Math.round(B.top+Ce[1]);return[De,Ke,We,he,Be]},_c=function(j){return ns(j)&&j.value===Gl.AUTO},Vo=function(j){return typeof j=="number"},u0=function(j,x,C){var B=x[0],z=x[1],se=x[2],he=j[0],Be=j[1];if(!he)return[0,0];if(Ys(he)&&Be&&Ys(Be))return[ws(he,C.width),ws(Be,C.height)];var Ce=Vo(se);if(ns(he)&&(he.value===Gl.CONTAIN||he.value===Gl.COVER)){if(Vo(se)){var De=C.width/C.height;return De<se!=(he.value===Gl.COVER)?[C.width,C.width/se]:[C.height*se,C.height]}return[C.width,C.height]}var Ke=Vo(B),We=Vo(z),mt=Ke||We;if(_c(he)&&(!Be||_c(Be))){if(Ke&&We)return[B,z];if(!Ce&&!mt)return[C.width,C.height];if(mt&&Ce){var An=Ke?B:z*se,Kt=We?z:B/se;return[An,Kt]}var qt=Ke?B:C.width,Tn=We?z:C.height;return[qt,Tn]}if(Ce){var gn=0,mn=0;return Ys(he)?gn=ws(he,C.width):Ys(Be)&&(mn=ws(Be,C.height)),_c(he)?gn=mn*se:(!Be||_c(Be))&&(mn=gn/se),[gn,mn]}var Bs=null,gs=null;if(Ys(he)?Bs=ws(he,C.width):Be&&Ys(Be)&&(gs=ws(Be,C.height)),Bs!==null&&(!Be||_c(Be))&&(gs=Ke&&We?Bs/B*z:C.height),gs!==null&&_c(he)&&(Bs=Ke&&We?gs/z*B:C.width),Bs!==null&&gs!==null)return[Bs,gs];throw new Error("Unable to calculate background-size for element")},eA=function(j,x){var C=j[x];return typeof C>"u"?j[0]:C},Nh=function(j,x,C,B,z){var se=x[0],he=x[1],Be=C[0],Ce=C[1];switch(j){case 2:return[new tn(Math.round(B.left),Math.round(B.top+he)),new tn(Math.round(B.left+B.width),Math.round(B.top+he)),new tn(Math.round(B.left+B.width),Math.round(Ce+B.top+he)),new tn(Math.round(B.left),Math.round(Ce+B.top+he))];case 3:return[new tn(Math.round(B.left+se),Math.round(B.top)),new tn(Math.round(B.left+se+Be),Math.round(B.top)),new tn(Math.round(B.left+se+Be),Math.round(B.height+B.top)),new tn(Math.round(B.left+se),Math.round(B.height+B.top))];case 1:return[new tn(Math.round(B.left+se),Math.round(B.top+he)),new tn(Math.round(B.left+se+Be),Math.round(B.top+he)),new tn(Math.round(B.left+se+Be),Math.round(B.top+he+Ce)),new tn(Math.round(B.left+se),Math.round(B.top+he+Ce))];default:return[new tn(Math.round(z.left),Math.round(z.top)),new tn(Math.round(z.left+z.width),Math.round(z.top)),new tn(Math.round(z.left+z.width),Math.round(z.height+z.top)),new tn(Math.round(z.left),Math.round(z.height+z.top))]}},Eh="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",mu="Hidden Text",d0=(function(){function j(x){this._data={},this._document=x}return j.prototype.parseMetrics=function(x,C){var B=this._document.createElement("div"),z=this._document.createElement("img"),se=this._document.createElement("span"),he=this._document.body;B.style.visibility="hidden",B.style.fontFamily=x,B.style.fontSize=C,B.style.margin="0",B.style.padding="0",B.style.whiteSpace="nowrap",he.appendChild(B),z.src=Eh,z.width=1,z.height=1,z.style.margin="0",z.style.padding="0",z.style.verticalAlign="baseline",se.style.fontFamily=x,se.style.fontSize=C,se.style.margin="0",se.style.padding="0",se.appendChild(this._document.createTextNode(mu)),B.appendChild(se),B.appendChild(z);var Be=z.offsetTop-se.offsetTop+2;B.removeChild(se),B.appendChild(this._document.createTextNode(mu)),B.style.lineHeight="normal",z.style.verticalAlign="super";var Ce=z.offsetTop-B.offsetTop+2;return he.removeChild(B),{baseline:Be,middle:Ce}},j.prototype.getMetrics=function(x,C){var B=x+" "+C;return typeof this._data[B]>"u"&&(this._data[B]=this.parseMetrics(x,C)),this._data[B]},j})(),ip=(function(){function j(x,C){this.context=x,this.options=C}return j})(),Th=1e4,h0=(function(j){s(x,j);function x(C,B){var z=j.call(this,C,B)||this;return z._activeEffects=[],z.canvas=B.canvas?B.canvas:document.createElement("canvas"),z.ctx=z.canvas.getContext("2d"),B.canvas||(z.canvas.width=Math.floor(B.width*B.scale),z.canvas.height=Math.floor(B.height*B.scale),z.canvas.style.width=B.width+"px",z.canvas.style.height=B.height+"px"),z.fontMetrics=new d0(document),z.ctx.scale(z.options.scale,z.options.scale),z.ctx.translate(-B.x,-B.y),z.ctx.textBaseline="bottom",z._activeEffects=[],z.context.logger.debug("Canvas renderer initialized ("+B.width+"x"+B.height+") with scale "+B.scale),z}return x.prototype.applyEffects=function(C){for(var B=this;this._activeEffects.length;)this.popEffect();C.forEach(function(z){return B.applyEffect(z)})},x.prototype.applyEffect=function(C){this.ctx.save(),l0(C)&&(this.ctx.globalAlpha=C.opacity),Ei(C)&&(this.ctx.translate(C.offsetX,C.offsetY),this.ctx.transform(C.matrix[0],C.matrix[1],C.matrix[2],C.matrix[3],C.matrix[4],C.matrix[5]),this.ctx.translate(-C.offsetX,-C.offsetY)),o0(C)&&(this.path(C.path),this.ctx.clip()),this._activeEffects.push(C)},x.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},x.prototype.renderStack=function(C){return o(this,void 0,void 0,function(){var B;return c(this,function(z){switch(z.label){case 0:return B=C.element.container.styles,B.isVisible()?[4,this.renderStackContent(C)]:[3,2];case 1:z.sent(),z.label=2;case 2:return[2]}})})},x.prototype.renderNode=function(C){return o(this,void 0,void 0,function(){return c(this,function(B){switch(B.label){case 0:if(He(C.container.flags,16))debugger;return C.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(C)]:[3,3];case 1:return B.sent(),[4,this.renderNodeContent(C)];case 2:B.sent(),B.label=3;case 3:return[2]}})})},x.prototype.renderTextWithLetterSpacing=function(C,B,z){var se=this;if(B===0)this.ctx.fillText(C.text,C.bounds.left,C.bounds.top+z);else{var he=ko(C.text);he.reduce(function(Be,Ce){return se.ctx.fillText(Ce,Be,C.bounds.top+z),Be+se.ctx.measureText(Ce).width},C.bounds.left)}},x.prototype.createFontStyle=function(C){var B=C.fontVariant.filter(function(he){return he==="normal"||he==="small-caps"}).join(""),z=hr(C.fontFamily).join(", "),se=ga(C.fontSize)?""+C.fontSize.number+C.fontSize.unit:C.fontSize.number+"px";return[[C.fontStyle,B,C.fontWeight,se,z].join(" "),z,se]},x.prototype.renderTextNode=function(C,B){return o(this,void 0,void 0,function(){var z,se,he,Be,Ce,De,Ke,We,mt=this;return c(this,function(An){return z=this.createFontStyle(B),se=z[0],he=z[1],Be=z[2],this.ctx.font=se,this.ctx.direction=B.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",Ce=this.fontMetrics.getMetrics(he,Be),De=Ce.baseline,Ke=Ce.middle,We=B.paintOrder,C.textBounds.forEach(function(Kt){We.forEach(function(qt){switch(qt){case 0:mt.ctx.fillStyle=Ls(B.color),mt.renderTextWithLetterSpacing(Kt,B.letterSpacing,De);var Tn=B.textShadow;Tn.length&&Kt.text.trim().length&&(Tn.slice(0).reverse().forEach(function(gn){mt.ctx.shadowColor=Ls(gn.color),mt.ctx.shadowOffsetX=gn.offsetX.number*mt.options.scale,mt.ctx.shadowOffsetY=gn.offsetY.number*mt.options.scale,mt.ctx.shadowBlur=gn.blur.number,mt.renderTextWithLetterSpacing(Kt,B.letterSpacing,De)}),mt.ctx.shadowColor="",mt.ctx.shadowOffsetX=0,mt.ctx.shadowOffsetY=0,mt.ctx.shadowBlur=0),B.textDecorationLine.length&&(mt.ctx.fillStyle=Ls(B.textDecorationColor||B.color),B.textDecorationLine.forEach(function(gn){switch(gn){case 1:mt.ctx.fillRect(Kt.bounds.left,Math.round(Kt.bounds.top+De),Kt.bounds.width,1);break;case 2:mt.ctx.fillRect(Kt.bounds.left,Math.round(Kt.bounds.top),Kt.bounds.width,1);break;case 3:mt.ctx.fillRect(Kt.bounds.left,Math.ceil(Kt.bounds.top+Ke),Kt.bounds.width,1);break}}));break;case 1:B.webkitTextStrokeWidth&&Kt.text.trim().length&&(mt.ctx.strokeStyle=Ls(B.webkitTextStrokeColor),mt.ctx.lineWidth=B.webkitTextStrokeWidth,mt.ctx.lineJoin=window.chrome?"miter":"round",mt.ctx.strokeText(Kt.text,Kt.bounds.left,Kt.bounds.top+De)),mt.ctx.strokeStyle="",mt.ctx.lineWidth=0,mt.ctx.lineJoin="miter";break}})}),[2]})})},x.prototype.renderReplacedElement=function(C,B,z){if(z&&C.intrinsicWidth>0&&C.intrinsicHeight>0){var se=Fl(C),he=_l(B);this.path(he),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(z,0,0,C.intrinsicWidth,C.intrinsicHeight,se.left,se.top,se.width,se.height),this.ctx.restore()}},x.prototype.renderNodeContent=function(C){return o(this,void 0,void 0,function(){var B,z,se,he,Be,Ce,mn,mn,De,Ke,We,mt,gs,An,Kt,Yn,qt,Tn,gn,mn,Bs,gs,Yn;return c(this,function(un){switch(un.label){case 0:this.applyEffects(C.getEffects(4)),B=C.container,z=C.curves,se=B.styles,he=0,Be=B.textNodes,un.label=1;case 1:return he<Be.length?(Ce=Be[he],[4,this.renderTextNode(Ce,se)]):[3,4];case 2:un.sent(),un.label=3;case 3:return he++,[3,1];case 4:if(!(B instanceof Fm))return[3,8];un.label=5;case 5:return un.trys.push([5,7,,8]),[4,this.context.cache.match(B.src)];case 6:return mn=un.sent(),this.renderReplacedElement(B,z,mn),[3,8];case 7:return un.sent(),this.context.logger.error("Error loading image "+B.src),[3,8];case 8:if(B instanceof pf&&this.renderReplacedElement(B,z,B.canvas),!(B instanceof Mg))return[3,12];un.label=9;case 9:return un.trys.push([9,11,,12]),[4,this.context.cache.match(B.svg)];case 10:return mn=un.sent(),this.renderReplacedElement(B,z,mn),[3,12];case 11:return un.sent(),this.context.logger.error("Error loading svg "+B.svg.substring(0,255)),[3,12];case 12:return B instanceof Qm&&B.tree?(De=new x(this.context,{scale:this.options.scale,backgroundColor:B.backgroundColor,x:0,y:0,width:B.width,height:B.height}),[4,De.render(B.tree)]):[3,14];case 13:Ke=un.sent(),B.width&&B.height&&this.ctx.drawImage(Ke,0,0,B.width,B.height,B.bounds.left,B.bounds.top,B.bounds.width,B.bounds.height),un.label=14;case 14:if(B instanceof vf&&(We=Math.min(B.bounds.width,B.bounds.height),B.type===dh?B.checked&&(this.ctx.save(),this.path([new tn(B.bounds.left+We*.39363,B.bounds.top+We*.79),new tn(B.bounds.left+We*.16,B.bounds.top+We*.5549),new tn(B.bounds.left+We*.27347,B.bounds.top+We*.44071),new tn(B.bounds.left+We*.39694,B.bounds.top+We*.5649),new tn(B.bounds.left+We*.72983,B.bounds.top+We*.23),new tn(B.bounds.left+We*.84,B.bounds.top+We*.34085),new tn(B.bounds.left+We*.39363,B.bounds.top+We*.79)]),this.ctx.fillStyle=Ls(Lm),this.ctx.fill(),this.ctx.restore()):B.type===hh&&B.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(B.bounds.left+We/2,B.bounds.top+We/2,We/4,0,Math.PI*2,!0),this.ctx.fillStyle=Ls(Lm),this.ctx.fill(),this.ctx.restore())),If(B)&&B.value.length){switch(mt=this.createFontStyle(se),gs=mt[0],An=mt[1],Kt=this.fontMetrics.getMetrics(gs,An).baseline,this.ctx.font=gs,this.ctx.fillStyle=Ls(se.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Wx(B.styles.textAlign),Yn=Fl(B),qt=0,B.styles.textAlign){case 1:qt+=Yn.width/2;break;case 2:qt+=Yn.width;break}Tn=Yn.add(qt,0,0,-Yn.height/2+1),this.ctx.save(),this.path([new tn(Yn.left,Yn.top),new tn(Yn.left+Yn.width,Yn.top),new tn(Yn.left+Yn.width,Yn.top+Yn.height),new tn(Yn.left,Yn.top+Yn.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Bc(B.value,Tn),se.letterSpacing,Kt),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!He(B.styles.display,2048))return[3,20];if(B.styles.listStyleImage===null)return[3,19];if(gn=B.styles.listStyleImage,gn.type!==0)return[3,18];mn=void 0,Bs=gn.url,un.label=15;case 15:return un.trys.push([15,17,,18]),[4,this.context.cache.match(Bs)];case 16:return mn=un.sent(),this.ctx.drawImage(mn,B.bounds.left-(mn.width+10),B.bounds.top),[3,18];case 17:return un.sent(),this.context.logger.error("Error loading list-style-image "+Bs),[3,18];case 18:return[3,20];case 19:C.listValue&&B.styles.listStyleType!==-1&&(gs=this.createFontStyle(se)[0],this.ctx.font=gs,this.ctx.fillStyle=Ls(se.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",Yn=new u(B.bounds.left,B.bounds.top+ws(B.styles.paddingTop,B.bounds.width),B.bounds.width,Cl(se.lineHeight,se.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Bc(C.listValue,Yn),se.letterSpacing,Cl(se.lineHeight,se.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),un.label=20;case 20:return[2]}})})},x.prototype.renderStackContent=function(C){return o(this,void 0,void 0,function(){var B,z,gn,se,he,gn,Be,Ce,gn,De,Ke,gn,We,mt,gn,An,Kt,gn,qt,Tn,gn;return c(this,function(mn){switch(mn.label){case 0:if(He(C.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(C.element)];case 1:mn.sent(),B=0,z=C.negativeZIndex,mn.label=2;case 2:return B<z.length?(gn=z[B],[4,this.renderStack(gn)]):[3,5];case 3:mn.sent(),mn.label=4;case 4:return B++,[3,2];case 5:return[4,this.renderNodeContent(C.element)];case 6:mn.sent(),se=0,he=C.nonInlineLevel,mn.label=7;case 7:return se<he.length?(gn=he[se],[4,this.renderNode(gn)]):[3,10];case 8:mn.sent(),mn.label=9;case 9:return se++,[3,7];case 10:Be=0,Ce=C.nonPositionedFloats,mn.label=11;case 11:return Be<Ce.length?(gn=Ce[Be],[4,this.renderStack(gn)]):[3,14];case 12:mn.sent(),mn.label=13;case 13:return Be++,[3,11];case 14:De=0,Ke=C.nonPositionedInlineLevel,mn.label=15;case 15:return De<Ke.length?(gn=Ke[De],[4,this.renderStack(gn)]):[3,18];case 16:mn.sent(),mn.label=17;case 17:return De++,[3,15];case 18:We=0,mt=C.inlineLevel,mn.label=19;case 19:return We<mt.length?(gn=mt[We],[4,this.renderNode(gn)]):[3,22];case 20:mn.sent(),mn.label=21;case 21:return We++,[3,19];case 22:An=0,Kt=C.zeroOrAutoZIndexOrTransformedOrOpacity,mn.label=23;case 23:return An<Kt.length?(gn=Kt[An],[4,this.renderStack(gn)]):[3,26];case 24:mn.sent(),mn.label=25;case 25:return An++,[3,23];case 26:qt=0,Tn=C.positiveZIndex,mn.label=27;case 27:return qt<Tn.length?(gn=Tn[qt],[4,this.renderStack(gn)]):[3,30];case 28:mn.sent(),mn.label=29;case 29:return qt++,[3,27];case 30:return[2]}})})},x.prototype.mask=function(C){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(C.slice(0).reverse()),this.ctx.closePath()},x.prototype.path=function(C){this.ctx.beginPath(),this.formatPath(C),this.ctx.closePath()},x.prototype.formatPath=function(C){var B=this;C.forEach(function(z,se){var he=Mo(z)?z.start:z;se===0?B.ctx.moveTo(he.x,he.y):B.ctx.lineTo(he.x,he.y),Mo(z)&&B.ctx.bezierCurveTo(z.startControl.x,z.startControl.y,z.endControl.x,z.endControl.y,z.end.x,z.end.y)})},x.prototype.renderRepeat=function(C,B,z,se){this.path(C),this.ctx.fillStyle=B,this.ctx.translate(z,se),this.ctx.fill(),this.ctx.translate(-z,-se)},x.prototype.resizeImage=function(C,B,z){var se;if(C.width===B&&C.height===z)return C;var he=(se=this.canvas.ownerDocument)!==null&&se!==void 0?se:document,Be=he.createElement("canvas");Be.width=Math.max(1,B),Be.height=Math.max(1,z);var Ce=Be.getContext("2d");return Ce.drawImage(C,0,0,C.width,C.height,0,0,B,z),Be},x.prototype.renderBackgroundImage=function(C){return o(this,void 0,void 0,function(){var B,z,se,he,Be,Ce;return c(this,function(De){switch(De.label){case 0:B=C.styles.backgroundImage.length-1,z=function(Ke){var We,mt,An,Va,$i,so,jr,Gi,ks,Kt,Va,$i,so,jr,Gi,qt,Tn,gn,mn,Bs,gs,Yn,un,Is,ks,Fn,Va,kr,Ko,jr,Gi,po,$i,so,Ul,tA,JA,Uc,Rc,Rl,qA,ZA;return c(this,function(ld){switch(ld.label){case 0:if(Ke.type!==0)return[3,5];We=void 0,mt=Ke.url,ld.label=1;case 1:return ld.trys.push([1,3,,4]),[4,se.context.cache.match(mt)];case 2:return We=ld.sent(),[3,4];case 3:return ld.sent(),se.context.logger.error("Error loading background-image "+mt),[3,4];case 4:return We&&(An=Sh(C,B,[We.width,We.height,We.width/We.height]),Va=An[0],$i=An[1],so=An[2],jr=An[3],Gi=An[4],ks=se.ctx.createPattern(se.resizeImage(We,jr,Gi),"repeat"),se.renderRepeat(Va,ks,$i,so)),[3,6];case 5:Qu(Ke)?(Kt=Sh(C,B,[null,null,null]),Va=Kt[0],$i=Kt[1],so=Kt[2],jr=Kt[3],Gi=Kt[4],qt=Ir(Ke.angle,jr,Gi),Tn=qt[0],gn=qt[1],mn=qt[2],Bs=qt[3],gs=qt[4],Yn=document.createElement("canvas"),Yn.width=jr,Yn.height=Gi,un=Yn.getContext("2d"),Is=un.createLinearGradient(gn,Bs,mn,gs),Ws(Ke.stops,Tn).forEach(function(Ih){return Is.addColorStop(Ih.stop,Ls(Ih.color))}),un.fillStyle=Is,un.fillRect(0,0,jr,Gi),jr>0&&Gi>0&&(ks=se.ctx.createPattern(Yn,"repeat"),se.renderRepeat(Va,ks,$i,so))):eu(Ke)&&(Fn=Sh(C,B,[null,null,null]),Va=Fn[0],kr=Fn[1],Ko=Fn[2],jr=Fn[3],Gi=Fn[4],po=Ke.position.length===0?[QA]:Ke.position,$i=ws(po[0],jr),so=ws(po[po.length-1],Gi),Ul=ul(Ke,$i,so,jr,Gi),tA=Ul[0],JA=Ul[1],tA>0&&JA>0&&(Uc=se.ctx.createRadialGradient(kr+$i,Ko+so,0,kr+$i,Ko+so,tA),Ws(Ke.stops,tA*2).forEach(function(Ih){return Uc.addColorStop(Ih.stop,Ls(Ih.color))}),se.path(Va),se.ctx.fillStyle=Uc,tA!==JA?(Rc=C.bounds.left+.5*C.bounds.width,Rl=C.bounds.top+.5*C.bounds.height,qA=JA/tA,ZA=1/qA,se.ctx.save(),se.ctx.translate(Rc,Rl),se.ctx.transform(1,0,0,qA,0,0),se.ctx.translate(-Rc,-Rl),se.ctx.fillRect(kr,ZA*(Ko-Rl)+Rl,jr,Gi*ZA),se.ctx.restore()):se.ctx.fill())),ld.label=6;case 6:return B--,[2]}})},se=this,he=0,Be=C.styles.backgroundImage.slice(0).reverse(),De.label=1;case 1:return he<Be.length?(Ce=Be[he],[5,z(Ce)]):[3,4];case 2:De.sent(),De.label=3;case 3:return he++,[3,1];case 4:return[2]}})})},x.prototype.renderSolidBorder=function(C,B,z){return o(this,void 0,void 0,function(){return c(this,function(se){return this.path(c0(z,B)),this.ctx.fillStyle=Ls(C),this.ctx.fill(),[2]})})},x.prototype.renderDoubleBorder=function(C,B,z,se){return o(this,void 0,void 0,function(){var he,Be;return c(this,function(Ce){switch(Ce.label){case 0:return B<3?[4,this.renderSolidBorder(C,z,se)]:[3,2];case 1:return Ce.sent(),[2];case 2:return he=Tf(se,z),this.path(he),this.ctx.fillStyle=Ls(C),this.ctx.fill(),Be=Ho(se,z),this.path(Be),this.ctx.fill(),[2]}})})},x.prototype.renderNodeBackgroundAndBorders=function(C){return o(this,void 0,void 0,function(){var B,z,se,he,Be,Ce,De,Ke,We=this;return c(this,function(mt){switch(mt.label){case 0:return this.applyEffects(C.getEffects(2)),B=C.container.styles,z=!li(B.backgroundColor)||B.backgroundImage.length,se=[{style:B.borderTopStyle,color:B.borderTopColor,width:B.borderTopWidth},{style:B.borderRightStyle,color:B.borderRightColor,width:B.borderRightWidth},{style:B.borderBottomStyle,color:B.borderBottomColor,width:B.borderBottomWidth},{style:B.borderLeftStyle,color:B.borderLeftColor,width:B.borderLeftWidth}],he=f0(eA(B.backgroundClip,0),C.curves),z||B.boxShadow.length?(this.ctx.save(),this.path(he),this.ctx.clip(),li(B.backgroundColor)||(this.ctx.fillStyle=Ls(B.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(C.container)]):[3,2];case 1:mt.sent(),this.ctx.restore(),B.boxShadow.slice(0).reverse().forEach(function(An){We.ctx.save();var Kt=hu(C.curves),qt=An.inset?0:Th,Tn=fa(Kt,-qt+(An.inset?1:-1)*An.spread.number,(An.inset?1:-1)*An.spread.number,An.spread.number*(An.inset?-2:2),An.spread.number*(An.inset?-2:2));An.inset?(We.path(Kt),We.ctx.clip(),We.mask(Tn)):(We.mask(Kt),We.ctx.clip(),We.path(Tn)),We.ctx.shadowOffsetX=An.offsetX.number+qt,We.ctx.shadowOffsetY=An.offsetY.number,We.ctx.shadowColor=Ls(An.color),We.ctx.shadowBlur=An.blur.number,We.ctx.fillStyle=An.inset?Ls(An.color):"rgba(0,0,0,1)",We.ctx.fill(),We.ctx.restore()}),mt.label=2;case 2:Be=0,Ce=0,De=se,mt.label=3;case 3:return Ce<De.length?(Ke=De[Ce],Ke.style!==0&&!li(Ke.color)&&Ke.width>0?Ke.style!==2?[3,5]:[4,this.renderDashedDottedBorder(Ke.color,Ke.width,Be,C.curves,2)]:[3,11]):[3,13];case 4:return mt.sent(),[3,11];case 5:return Ke.style!==3?[3,7]:[4,this.renderDashedDottedBorder(Ke.color,Ke.width,Be,C.curves,3)];case 6:return mt.sent(),[3,11];case 7:return Ke.style!==4?[3,9]:[4,this.renderDoubleBorder(Ke.color,Ke.width,Be,C.curves)];case 8:return mt.sent(),[3,11];case 9:return[4,this.renderSolidBorder(Ke.color,Be,C.curves)];case 10:mt.sent(),mt.label=11;case 11:Be++,mt.label=12;case 12:return Ce++,[3,3];case 13:return[2]}})})},x.prototype.renderDashedDottedBorder=function(C,B,z,se,he){return o(this,void 0,void 0,function(){var Be,Ce,De,Ke,We,mt,An,Kt,qt,Tn,gn,mn,Bs,gs,Yn,un,Yn,un;return c(this,function(Is){return this.ctx.save(),Be=Zl(se,z),Ce=c0(se,z),he===2&&(this.path(Ce),this.ctx.clip()),Mo(Ce[0])?(De=Ce[0].start.x,Ke=Ce[0].start.y):(De=Ce[0].x,Ke=Ce[0].y),Mo(Ce[1])?(We=Ce[1].end.x,mt=Ce[1].end.y):(We=Ce[1].x,mt=Ce[1].y),z===0||z===2?An=Math.abs(De-We):An=Math.abs(Ke-mt),this.ctx.beginPath(),he===3?this.formatPath(Be):this.formatPath(Ce.slice(0,2)),Kt=B<3?B*3:B*2,qt=B<3?B*2:B,he===3&&(Kt=B,qt=B),Tn=!0,An<=Kt*2?Tn=!1:An<=Kt*2+qt?(gn=An/(2*Kt+qt),Kt*=gn,qt*=gn):(mn=Math.floor((An+qt)/(Kt+qt)),Bs=(An-mn*Kt)/(mn-1),gs=(An-(mn+1)*Kt)/mn,qt=gs<=0||Math.abs(qt-Bs)<Math.abs(qt-gs)?Bs:gs),Tn&&(he===3?this.ctx.setLineDash([0,Kt+qt]):this.ctx.setLineDash([Kt,qt])),he===3?(this.ctx.lineCap="round",this.ctx.lineWidth=B):this.ctx.lineWidth=B*2+1.1,this.ctx.strokeStyle=Ls(C),this.ctx.stroke(),this.ctx.setLineDash([]),he===2&&(Mo(Ce[0])&&(Yn=Ce[3],un=Ce[0],this.ctx.beginPath(),this.formatPath([new tn(Yn.end.x,Yn.end.y),new tn(un.start.x,un.start.y)]),this.ctx.stroke()),Mo(Ce[1])&&(Yn=Ce[1],un=Ce[2],this.ctx.beginPath(),this.formatPath([new tn(Yn.end.x,Yn.end.y),new tn(un.start.x,un.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},x.prototype.render=function(C){return o(this,void 0,void 0,function(){var B;return c(this,function(z){switch(z.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Ls(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),B=A0(C),[4,this.renderStack(B)];case 1:return z.sent(),this.applyEffects([]),[2,this.canvas]}})})},x})(ip),If=function(j){return j instanceof xf||j instanceof zg?!0:j instanceof vf&&j.type!==hh&&j.type!==dh},f0=function(j,x){switch(j){case 0:return hu(x);case 2:return a0(x);case 1:default:return _l(x)}},Wx=function(j){switch(j){case 1:return"center";case 2:return"right";case 0:default:return"left"}},Xx=["-apple-system","system-ui"],hr=function(j){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?j.filter(function(x){return Xx.indexOf(x)===-1}):j},Pr=(function(j){s(x,j);function x(C,B){var z=j.call(this,C,B)||this;return z.canvas=B.canvas?B.canvas:document.createElement("canvas"),z.ctx=z.canvas.getContext("2d"),z.options=B,z.canvas.width=Math.floor(B.width*B.scale),z.canvas.height=Math.floor(B.height*B.scale),z.canvas.style.width=B.width+"px",z.canvas.style.height=B.height+"px",z.ctx.scale(z.options.scale,z.options.scale),z.ctx.translate(-B.x,-B.y),z.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+B.width+"x"+B.height+" at "+B.x+","+B.y+") with scale "+B.scale),z}return x.prototype.render=function(C){return o(this,void 0,void 0,function(){var B,z;return c(this,function(se){switch(se.label){case 0:return B=Zu(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,C),[4,Us(B)];case 1:return z=se.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Ls(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(z,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},x})(ip),Us=function(j){return new Promise(function(x,C){var B=new Image;B.onload=function(){x(B)},B.onerror=C,B.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(j))})},Ps=(function(){function j(x){var C=x.id,B=x.enabled;this.id=C,this.enabled=B,this.start=Date.now()}return j.prototype.debug=function(){for(var x=[],C=0;C<arguments.length;C++)x[C]=arguments[C];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,h([this.id,this.getTime()+"ms"],x)):this.info.apply(this,x))},j.prototype.getTime=function(){return Date.now()-this.start},j.prototype.info=function(){for(var x=[],C=0;C<arguments.length;C++)x[C]=arguments[C];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,h([this.id,this.getTime()+"ms"],x))},j.prototype.warn=function(){for(var x=[],C=0;C<arguments.length;C++)x[C]=arguments[C];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,h([this.id,this.getTime()+"ms"],x)):this.info.apply(this,x))},j.prototype.error=function(){for(var x=[],C=0;C<arguments.length;C++)x[C]=arguments[C];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,h([this.id,this.getTime()+"ms"],x)):this.info.apply(this,x))},j.instances={},j})(),wr=(function(){function j(x,C){var B;this.windowBounds=C,this.instanceName="#"+j.instanceCount++,this.logger=new Ps({id:this.instanceName,enabled:x.logging}),this.cache=(B=x.cache)!==null&&B!==void 0?B:new jh(this,x)}return j.instanceCount=1,j})(),hl=function(j,x){return x===void 0&&(x={}),Fc(j,x)};typeof window<"u"&&wh.setContext(window);var Fc=function(j,x){return o(void 0,void 0,void 0,function(){var C,B,z,se,he,Be,Ce,De,Ke,We,mt,An,Kt,qt,Tn,gn,mn,Bs,gs,Yn,Is,un,Is,ks,Fn,Va,kr,Ko,jr,Gi,po,$i,so,Ul,tA,JA,Uc,Rc,Rl,qA;return c(this,function(ZA){switch(ZA.label){case 0:if(!j||typeof j!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(C=j.ownerDocument,!C)throw new Error("Element is not attached to a Document");if(B=C.defaultView,!B)throw new Error("Document is not attached to a Window");return z={allowTaint:(ks=x.allowTaint)!==null&&ks!==void 0?ks:!1,imageTimeout:(Fn=x.imageTimeout)!==null&&Fn!==void 0?Fn:15e3,proxy:x.proxy,useCORS:(Va=x.useCORS)!==null&&Va!==void 0?Va:!1},se=a({logging:(kr=x.logging)!==null&&kr!==void 0?kr:!0,cache:x.cache},z),he={windowWidth:(Ko=x.windowWidth)!==null&&Ko!==void 0?Ko:B.innerWidth,windowHeight:(jr=x.windowHeight)!==null&&jr!==void 0?jr:B.innerHeight,scrollX:(Gi=x.scrollX)!==null&&Gi!==void 0?Gi:B.pageXOffset,scrollY:(po=x.scrollY)!==null&&po!==void 0?po:B.pageYOffset},Be=new u(he.scrollX,he.scrollY,he.windowWidth,he.windowHeight),Ce=new wr(se,Be),De=($i=x.foreignObjectRendering)!==null&&$i!==void 0?$i:!1,Ke={allowTaint:(so=x.allowTaint)!==null&&so!==void 0?so:!1,onclone:x.onclone,ignoreElements:x.ignoreElements,inlineImages:De,copyStyles:De},Ce.logger.debug("Starting document clone with size "+Be.width+"x"+Be.height+" scrolled to "+-Be.left+","+-Be.top),We=new Wm(Ce,j,Ke),mt=We.clonedReferenceElement,mt?[4,We.toIFrame(C,Be)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return An=ZA.sent(),Kt=bf(mt)||Wg(mt)?A(mt.ownerDocument):f(Ce,mt),qt=Kt.width,Tn=Kt.height,gn=Kt.left,mn=Kt.top,Bs=od(Ce,mt,x.backgroundColor),gs={canvas:x.canvas,backgroundColor:Bs,scale:(tA=(Ul=x.scale)!==null&&Ul!==void 0?Ul:B.devicePixelRatio)!==null&&tA!==void 0?tA:1,x:((JA=x.x)!==null&&JA!==void 0?JA:0)+gn,y:((Uc=x.y)!==null&&Uc!==void 0?Uc:0)+mn,width:(Rc=x.width)!==null&&Rc!==void 0?Rc:Math.ceil(qt),height:(Rl=x.height)!==null&&Rl!==void 0?Rl:Math.ceil(Tn)},De?(Ce.logger.debug("Document cloned, using foreign object rendering"),Is=new Pr(Ce,gs),[4,Is.render(mt)]):[3,3];case 2:return Yn=ZA.sent(),[3,5];case 3:return Ce.logger.debug("Document cloned, element located at "+gn+","+mn+" with size "+qt+"x"+Tn+" using computed rendering"),Ce.logger.debug("Starting DOM parsing"),un=Pm(Ce,mt),Bs===un.styles.backgroundColor&&(un.styles.backgroundColor=va.TRANSPARENT),Ce.logger.debug("Starting renderer for element at "+gs.x+","+gs.y+" with size "+gs.width+"x"+gs.height),Is=new h0(Ce,gs),[4,Is.render(un)];case 4:Yn=ZA.sent(),ZA.label=5;case 5:return(!((qA=x.removeContainer)!==null&&qA!==void 0)||qA)&&(Wm.destroy(An)||Ce.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),Ce.logger.debug("Finished rendering"),[2,Yn]}})})},od=function(j,x,C){var B=x.ownerDocument,z=B.documentElement?Al(j,getComputedStyle(B.documentElement).backgroundColor):va.TRANSPARENT,se=B.body?Al(j,getComputedStyle(B.body).backgroundColor):va.TRANSPARENT,he=typeof C=="string"?Al(j,C):C===null?va.TRANSPARENT:4294967295;return x===B.documentElement?li(z)?li(se)?he:se:z:he};return hl}))})(xv)),xv.exports}/*!
 * html2pdf.js v0.12.1
 * Copyright (c) 2025 Erik Koopmans
 * Released under the MIT License.
 */var fS;function bV(){return fS||(fS=1,(function(n,e){(function(s,a){n.exports=a(vV,yV())})(self,function(t,s){return(function(){var a={"./node_modules/core-js/internals/a-callable.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/is-callable.js"),v=A("./node_modules/core-js/internals/try-to-string.js"),g=TypeError;u.exports=function(b){if(m(b))return b;throw new g(v(b)+" is not a function")}}),"./node_modules/core-js/internals/a-constructor.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/is-constructor.js"),v=A("./node_modules/core-js/internals/try-to-string.js"),g=TypeError;u.exports=function(b){if(m(b))return b;throw new g(v(b)+" is not a constructor")}}),"./node_modules/core-js/internals/a-possible-prototype.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/is-possible-prototype.js"),v=String,g=TypeError;u.exports=function(b){if(m(b))return b;throw new g("Can't set "+v(b)+" as a prototype")}}),"./node_modules/core-js/internals/a-set.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/set-helpers.js").has;u.exports=function(v){return m(v),v}}),"./node_modules/core-js/internals/add-to-unscopables.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/well-known-symbol.js"),v=A("./node_modules/core-js/internals/object-create.js"),g=A("./node_modules/core-js/internals/object-define-property.js").f,b=m("unscopables"),I=Array.prototype;I[b]===void 0&&g(I,b,{configurable:!0,value:v(null)}),u.exports=function(N){I[b][N]=!0}}),"./node_modules/core-js/internals/an-instance.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/object-is-prototype-of.js"),v=TypeError;u.exports=function(g,b){if(m(b,g))return g;throw new v("Incorrect invocation")}}),"./node_modules/core-js/internals/an-object.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/is-object.js"),v=String,g=TypeError;u.exports=function(b){if(m(b))return b;throw new g(v(b)+" is not an object")}}),"./node_modules/core-js/internals/array-buffer-non-extensible.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js");u.exports=m(function(){if(typeof ArrayBuffer=="function"){var v=new ArrayBuffer(8);Object.isExtensible(v)&&Object.defineProperty(v,"a",{value:8})}})}),"./node_modules/core-js/internals/array-for-each.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/array-iteration.js").forEach,v=A("./node_modules/core-js/internals/array-method-is-strict.js"),g=v("forEach");u.exports=g?[].forEach:function(I){return m(this,I,arguments.length>1?arguments[1]:void 0)}}),"./node_modules/core-js/internals/array-from.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-bind-context.js"),v=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/to-object.js"),b=A("./node_modules/core-js/internals/call-with-safe-iteration-closing.js"),I=A("./node_modules/core-js/internals/is-array-iterator-method.js"),N=A("./node_modules/core-js/internals/is-constructor.js"),S=A("./node_modules/core-js/internals/length-of-array-like.js"),E=A("./node_modules/core-js/internals/create-property.js"),_=A("./node_modules/core-js/internals/get-iterator.js"),R=A("./node_modules/core-js/internals/get-iterator-method.js"),L=Array;u.exports=function(D){var Q=g(D),O=N(this),$=arguments.length,P=$>1?arguments[1]:void 0,V=P!==void 0;V&&(P=m(P,$>2?arguments[2]:void 0));var G=R(Q),ie=0,de,X,q,Z,oe,ye;if(G&&!(this===L&&I(G)))for(X=O?new this:[],Z=_(Q,G),oe=Z.next;!(q=v(oe,Z)).done;ie++)ye=V?b(Z,P,[q.value,ie],!0):q.value,E(X,ie,ye);else for(de=S(Q),X=O?new this(de):L(de);de>ie;ie++)ye=V?P(Q[ie],ie):Q[ie],E(X,ie,ye);return X.length=ie,X}}),"./node_modules/core-js/internals/array-includes.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/to-indexed-object.js"),v=A("./node_modules/core-js/internals/to-absolute-index.js"),g=A("./node_modules/core-js/internals/length-of-array-like.js"),b=function(I){return function(N,S,E){var _=m(N),R=g(_);if(R===0)return!I&&-1;var L=v(E,R),H;if(I&&S!==S){for(;R>L;)if(H=_[L++],H!==H)return!0}else for(;R>L;L++)if((I||L in _)&&_[L]===S)return I||L||0;return!I&&-1}};u.exports={includes:b(!0),indexOf:b(!1)}}),"./node_modules/core-js/internals/array-iteration.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-bind-context.js"),v=A("./node_modules/core-js/internals/function-uncurry-this.js"),g=A("./node_modules/core-js/internals/indexed-object.js"),b=A("./node_modules/core-js/internals/to-object.js"),I=A("./node_modules/core-js/internals/length-of-array-like.js"),N=A("./node_modules/core-js/internals/array-species-create.js"),S=v([].push),E=function(_){var R=_===1,L=_===2,H=_===3,D=_===4,Q=_===6,O=_===7,$=_===5||Q;return function(P,V,G,ie){for(var de=b(P),X=g(de),q=I(X),Z=m(V,G),oe=0,ye=ie||N,ne=R?ye(P,q):L||O?ye(P,0):void 0,M,W;q>oe;oe++)if(($||oe in X)&&(M=X[oe],W=Z(M,oe,de),_))if(R)ne[oe]=W;else if(W)switch(_){case 3:return!0;case 5:return M;case 6:return oe;case 2:S(ne,M)}else switch(_){case 4:return!1;case 7:S(ne,M)}return Q?-1:H||D?D:ne}};u.exports={forEach:E(0),map:E(1),filter:E(2),some:E(3),every:E(4),find:E(5),findIndex:E(6),filterReject:E(7)}}),"./node_modules/core-js/internals/array-method-has-species-support.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js"),v=A("./node_modules/core-js/internals/well-known-symbol.js"),g=A("./node_modules/core-js/internals/environment-v8-version.js"),b=v("species");u.exports=function(I){return g>=51||!m(function(){var N=[],S=N.constructor={};return S[b]=function(){return{foo:1}},N[I](Boolean).foo!==1})}}),"./node_modules/core-js/internals/array-method-is-strict.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js");u.exports=function(v,g){var b=[][v];return!!b&&m(function(){b.call(null,g||function(){return 1},1)})}}),"./node_modules/core-js/internals/array-slice.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js");u.exports=m([].slice)}),"./node_modules/core-js/internals/array-species-constructor.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/is-array.js"),v=A("./node_modules/core-js/internals/is-constructor.js"),g=A("./node_modules/core-js/internals/is-object.js"),b=A("./node_modules/core-js/internals/well-known-symbol.js"),I=b("species"),N=Array;u.exports=function(S){var E;return m(S)&&(E=S.constructor,v(E)&&(E===N||m(E.prototype))?E=void 0:g(E)&&(E=E[I],E===null&&(E=void 0))),E===void 0?N:E}}),"./node_modules/core-js/internals/array-species-create.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/array-species-constructor.js");u.exports=function(v,g){return new(m(v))(g===0?0:g)}}),"./node_modules/core-js/internals/call-with-safe-iteration-closing.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/an-object.js"),v=A("./node_modules/core-js/internals/iterator-close.js");u.exports=function(g,b,I,N){try{return N?b(m(I)[0],I[1]):b(I)}catch(S){v(g,"throw",S)}}}),"./node_modules/core-js/internals/check-correctness-of-iteration.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/well-known-symbol.js"),v=m("iterator"),g=!1;try{var b=0,I={next:function(){return{done:!!b++}},return:function(){g=!0}};I[v]=function(){return this},Array.from(I,function(){throw 2})}catch{}u.exports=function(N,S){try{if(!S&&!g)return!1}catch{return!1}var E=!1;try{var _={};_[v]=function(){return{next:function(){return{done:E=!0}}}},N(_)}catch{}return E}}),"./node_modules/core-js/internals/classof-raw.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js"),v=m({}.toString),g=m("".slice);u.exports=function(b){return g(v(b),8,-1)}}),"./node_modules/core-js/internals/classof.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/to-string-tag-support.js"),v=A("./node_modules/core-js/internals/is-callable.js"),g=A("./node_modules/core-js/internals/classof-raw.js"),b=A("./node_modules/core-js/internals/well-known-symbol.js"),I=b("toStringTag"),N=Object,S=g((function(){return arguments})())==="Arguments",E=function(_,R){try{return _[R]}catch{}};u.exports=m?g:function(_){var R,L,H;return _===void 0?"Undefined":_===null?"Null":typeof(L=E(R=N(_),I))=="string"?L:S?g(R):(H=g(R))==="Object"&&v(R.callee)?"Arguments":H}}),"./node_modules/core-js/internals/collection-strong.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/object-create.js"),v=A("./node_modules/core-js/internals/define-built-in-accessor.js"),g=A("./node_modules/core-js/internals/define-built-ins.js"),b=A("./node_modules/core-js/internals/function-bind-context.js"),I=A("./node_modules/core-js/internals/an-instance.js"),N=A("./node_modules/core-js/internals/is-null-or-undefined.js"),S=A("./node_modules/core-js/internals/iterate.js"),E=A("./node_modules/core-js/internals/iterator-define.js"),_=A("./node_modules/core-js/internals/create-iter-result-object.js"),R=A("./node_modules/core-js/internals/set-species.js"),L=A("./node_modules/core-js/internals/descriptors.js"),H=A("./node_modules/core-js/internals/internal-metadata.js").fastKey,D=A("./node_modules/core-js/internals/internal-state.js"),Q=D.set,O=D.getterFor;u.exports={getConstructor:function($,P,V,G){var ie=$(function(oe,ye){I(oe,de),Q(oe,{type:P,index:m(null),first:null,last:null,size:0}),L||(oe.size=0),N(ye)||S(ye,oe[G],{that:oe,AS_ENTRIES:V})}),de=ie.prototype,X=O(P),q=function(oe,ye,ne){var M=X(oe),W=Z(oe,ye),ae,ue;return W?W.value=ne:(M.last=W={index:ue=H(ye,!0),key:ye,value:ne,previous:ae=M.last,next:null,removed:!1},M.first||(M.first=W),ae&&(ae.next=W),L?M.size++:oe.size++,ue!=="F"&&(M.index[ue]=W)),oe},Z=function(oe,ye){var ne=X(oe),M=H(ye),W;if(M!=="F")return ne.index[M];for(W=ne.first;W;W=W.next)if(W.key===ye)return W};return g(de,{clear:function(){for(var ye=this,ne=X(ye),M=ne.first;M;)M.removed=!0,M.previous&&(M.previous=M.previous.next=null),M=M.next;ne.first=ne.last=null,ne.index=m(null),L?ne.size=0:ye.size=0},delete:function(oe){var ye=this,ne=X(ye),M=Z(ye,oe);if(M){var W=M.next,ae=M.previous;delete ne.index[M.index],M.removed=!0,ae&&(ae.next=W),W&&(W.previous=ae),ne.first===M&&(ne.first=W),ne.last===M&&(ne.last=ae),L?ne.size--:ye.size--}return!!M},forEach:function(ye){for(var ne=X(this),M=b(ye,arguments.length>1?arguments[1]:void 0),W;W=W?W.next:ne.first;)for(M(W.value,W.key,this);W&&W.removed;)W=W.previous},has:function(ye){return!!Z(this,ye)}}),g(de,V?{get:function(ye){var ne=Z(this,ye);return ne&&ne.value},set:function(ye,ne){return q(this,ye===0?0:ye,ne)}}:{add:function(ye){return q(this,ye=ye===0?0:ye,ye)}}),L&&v(de,"size",{configurable:!0,get:function(){return X(this).size}}),ie},setStrong:function($,P,V){var G=P+" Iterator",ie=O(P),de=O(G);E($,P,function(X,q){Q(this,{type:G,target:X,state:ie(X),kind:q,last:null})},function(){for(var X=de(this),q=X.kind,Z=X.last;Z&&Z.removed;)Z=Z.previous;return!X.target||!(X.last=Z=Z?Z.next:X.state.first)?(X.target=null,_(void 0,!0)):_(q==="keys"?Z.key:q==="values"?Z.value:[Z.key,Z.value],!1)},V?"entries":"values",!V,!0),R(P)}}}),"./node_modules/core-js/internals/collection.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/global-this.js"),g=A("./node_modules/core-js/internals/function-uncurry-this.js"),b=A("./node_modules/core-js/internals/is-forced.js"),I=A("./node_modules/core-js/internals/define-built-in.js"),N=A("./node_modules/core-js/internals/internal-metadata.js"),S=A("./node_modules/core-js/internals/iterate.js"),E=A("./node_modules/core-js/internals/an-instance.js"),_=A("./node_modules/core-js/internals/is-callable.js"),R=A("./node_modules/core-js/internals/is-null-or-undefined.js"),L=A("./node_modules/core-js/internals/is-object.js"),H=A("./node_modules/core-js/internals/fails.js"),D=A("./node_modules/core-js/internals/check-correctness-of-iteration.js"),Q=A("./node_modules/core-js/internals/set-to-string-tag.js"),O=A("./node_modules/core-js/internals/inherit-if-required.js");u.exports=function($,P,V){var G=$.indexOf("Map")!==-1,ie=$.indexOf("Weak")!==-1,de=G?"set":"add",X=v[$],q=X&&X.prototype,Z=X,oe={},ye=function(ge){var Se=g(q[ge]);I(q,ge,ge==="add"?function(Ie){return Se(this,Ie===0?0:Ie),this}:ge==="delete"?function(xe){return ie&&!L(xe)?!1:Se(this,xe===0?0:xe)}:ge==="get"?function(Ie){return ie&&!L(Ie)?void 0:Se(this,Ie===0?0:Ie)}:ge==="has"?function(Ie){return ie&&!L(Ie)?!1:Se(this,Ie===0?0:Ie)}:function(Ie,Ue){return Se(this,Ie===0?0:Ie,Ue),this})},ne=b($,!_(X)||!(ie||q.forEach&&!H(function(){new X().entries().next()})));if(ne)Z=V.getConstructor(P,$,G,de),N.enable();else if(b($,!0)){var M=new Z,W=M[de](ie?{}:-0,1)!==M,ae=H(function(){M.has(1)}),ue=D(function(ge){new X(ge)}),ce=!ie&&H(function(){for(var ge=new X,Se=5;Se--;)ge[de](Se,Se);return!ge.has(-0)});ue||(Z=P(function(ge,Se){E(ge,q);var xe=O(new X,ge,Z);return R(Se)||S(Se,xe[de],{that:xe,AS_ENTRIES:G}),xe}),Z.prototype=q,q.constructor=Z),(ae||ce)&&(ye("delete"),ye("has"),G&&ye("get")),(ce||W)&&ye(de),ie&&q.clear&&delete q.clear}return oe[$]=Z,m({global:!0,constructor:!0,forced:Z!==X},oe),Q(Z,$),ie||V.setStrong(Z,$,G),Z}}),"./node_modules/core-js/internals/copy-constructor-properties.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/has-own-property.js"),v=A("./node_modules/core-js/internals/own-keys.js"),g=A("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),b=A("./node_modules/core-js/internals/object-define-property.js");u.exports=function(I,N,S){for(var E=v(N),_=b.f,R=g.f,L=0;L<E.length;L++){var H=E[L];!m(I,H)&&!(S&&m(S,H))&&_(I,H,R(N,H))}}}),"./node_modules/core-js/internals/correct-prototype-getter.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js");u.exports=!m(function(){function v(){}return v.prototype.constructor=null,Object.getPrototypeOf(new v)!==v.prototype})}),"./node_modules/core-js/internals/create-html.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js"),v=A("./node_modules/core-js/internals/require-object-coercible.js"),g=A("./node_modules/core-js/internals/to-string.js"),b=/"/g,I=m("".replace);u.exports=function(N,S,E,_){var R=g(v(N)),L="<"+S;return E!==""&&(L+=" "+E+'="'+I(g(_),b,"&quot;")+'"'),L+">"+R+"</"+S+">"}}),"./node_modules/core-js/internals/create-iter-result-object.js":(function(u){u.exports=function(f,A){return{value:f,done:A}}}),"./node_modules/core-js/internals/create-non-enumerable-property.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/descriptors.js"),v=A("./node_modules/core-js/internals/object-define-property.js"),g=A("./node_modules/core-js/internals/create-property-descriptor.js");u.exports=m?function(b,I,N){return v.f(b,I,g(1,N))}:function(b,I,N){return b[I]=N,b}}),"./node_modules/core-js/internals/create-property-descriptor.js":(function(u){u.exports=function(f,A){return{enumerable:!(f&1),configurable:!(f&2),writable:!(f&4),value:A}}}),"./node_modules/core-js/internals/create-property.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/descriptors.js"),v=A("./node_modules/core-js/internals/object-define-property.js"),g=A("./node_modules/core-js/internals/create-property-descriptor.js");u.exports=function(b,I,N){m?v.f(b,I,g(0,N)):b[I]=N}}),"./node_modules/core-js/internals/define-built-in-accessor.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/make-built-in.js"),v=A("./node_modules/core-js/internals/object-define-property.js");u.exports=function(g,b,I){return I.get&&m(I.get,b,{getter:!0}),I.set&&m(I.set,b,{setter:!0}),v.f(g,b,I)}}),"./node_modules/core-js/internals/define-built-in.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/is-callable.js"),v=A("./node_modules/core-js/internals/object-define-property.js"),g=A("./node_modules/core-js/internals/make-built-in.js"),b=A("./node_modules/core-js/internals/define-global-property.js");u.exports=function(I,N,S,E){E||(E={});var _=E.enumerable,R=E.name!==void 0?E.name:N;if(m(S)&&g(S,R,E),E.global)_?I[N]=S:b(N,S);else{try{E.unsafe?I[N]&&(_=!0):delete I[N]}catch{}_?I[N]=S:v.f(I,N,{value:S,enumerable:!1,configurable:!E.nonConfigurable,writable:!E.nonWritable})}return I}}),"./node_modules/core-js/internals/define-built-ins.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/define-built-in.js");u.exports=function(v,g,b){for(var I in g)m(v,I,g[I],b);return v}}),"./node_modules/core-js/internals/define-global-property.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),v=Object.defineProperty;u.exports=function(g,b){try{v(m,g,{value:b,configurable:!0,writable:!0})}catch{m[g]=b}return b}}),"./node_modules/core-js/internals/descriptors.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js");u.exports=!m(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})}),"./node_modules/core-js/internals/document-create-element.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),v=A("./node_modules/core-js/internals/is-object.js"),g=m.document,b=v(g)&&v(g.createElement);u.exports=function(I){return b?g.createElement(I):{}}}),"./node_modules/core-js/internals/does-not-exceed-safe-integer.js":(function(u){var f=TypeError,A=9007199254740991;u.exports=function(m){if(m>A)throw f("Maximum allowed index exceeded");return m}}),"./node_modules/core-js/internals/dom-iterables.js":(function(u){u.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}),"./node_modules/core-js/internals/dom-token-list-prototype.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/document-create-element.js"),v=m("span").classList,g=v&&v.constructor&&v.constructor.prototype;u.exports=g===Object.prototype?void 0:g}),"./node_modules/core-js/internals/enum-bug-keys.js":(function(u){u.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]}),"./node_modules/core-js/internals/environment-is-ios-pebble.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/environment-user-agent.js");u.exports=/ipad|iphone|ipod/i.test(m)&&typeof Pebble<"u"}),"./node_modules/core-js/internals/environment-is-ios.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/environment-user-agent.js");u.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(m)}),"./node_modules/core-js/internals/environment-is-node.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/environment.js");u.exports=m==="NODE"}),"./node_modules/core-js/internals/environment-is-webos-webkit.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/environment-user-agent.js");u.exports=/web0s(?!.*chrome)/i.test(m)}),"./node_modules/core-js/internals/environment-user-agent.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),v=m.navigator,g=v&&v.userAgent;u.exports=g?String(g):""}),"./node_modules/core-js/internals/environment-v8-version.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),v=A("./node_modules/core-js/internals/environment-user-agent.js"),g=m.process,b=m.Deno,I=g&&g.versions||b&&b.version,N=I&&I.v8,S,E;N&&(S=N.split("."),E=S[0]>0&&S[0]<4?1:+(S[0]+S[1])),!E&&v&&(S=v.match(/Edge\/(\d+)/),(!S||S[1]>=74)&&(S=v.match(/Chrome\/(\d+)/),S&&(E=+S[1]))),u.exports=E}),"./node_modules/core-js/internals/environment.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),v=A("./node_modules/core-js/internals/environment-user-agent.js"),g=A("./node_modules/core-js/internals/classof-raw.js"),b=function(I){return v.slice(0,I.length)===I};u.exports=(function(){return b("Bun/")?"BUN":b("Cloudflare-Workers")?"CLOUDFLARE":b("Deno/")?"DENO":b("Node.js/")?"NODE":m.Bun&&typeof Bun.version=="string"?"BUN":m.Deno&&typeof Deno.version=="object"?"DENO":g(m.process)==="process"?"NODE":m.window&&m.document?"BROWSER":"REST"})()}),"./node_modules/core-js/internals/export.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),v=A("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,g=A("./node_modules/core-js/internals/create-non-enumerable-property.js"),b=A("./node_modules/core-js/internals/define-built-in.js"),I=A("./node_modules/core-js/internals/define-global-property.js"),N=A("./node_modules/core-js/internals/copy-constructor-properties.js"),S=A("./node_modules/core-js/internals/is-forced.js");u.exports=function(E,_){var R=E.target,L=E.global,H=E.stat,D,Q,O,$,P,V;if(L?Q=m:H?Q=m[R]||I(R,{}):Q=m[R]&&m[R].prototype,Q)for(O in _){if(P=_[O],E.dontCallGetSet?(V=v(Q,O),$=V&&V.value):$=Q[O],D=S(L?O:R+(H?".":"#")+O,E.forced),!D&&$!==void 0){if(typeof P==typeof $)continue;N(P,$)}(E.sham||$&&$.sham)&&g(P,"sham",!0),b(Q,O,P,E)}}}),"./node_modules/core-js/internals/fails.js":(function(u){u.exports=function(f){try{return!!f()}catch{return!0}}}),"./node_modules/core-js/internals/freezing.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js");u.exports=!m(function(){return Object.isExtensible(Object.preventExtensions({}))})}),"./node_modules/core-js/internals/function-apply.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-bind-native.js"),v=Function.prototype,g=v.apply,b=v.call;u.exports=typeof Reflect=="object"&&Reflect.apply||(m?b.bind(g):function(){return b.apply(g,arguments)})}),"./node_modules/core-js/internals/function-bind-context.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this-clause.js"),v=A("./node_modules/core-js/internals/a-callable.js"),g=A("./node_modules/core-js/internals/function-bind-native.js"),b=m(m.bind);u.exports=function(I,N){return v(I),N===void 0?I:g?b(I,N):function(){return I.apply(N,arguments)}}}),"./node_modules/core-js/internals/function-bind-native.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js");u.exports=!m(function(){var v=(function(){}).bind();return typeof v!="function"||v.hasOwnProperty("prototype")})}),"./node_modules/core-js/internals/function-call.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-bind-native.js"),v=Function.prototype.call;u.exports=m?v.bind(v):function(){return v.apply(v,arguments)}}),"./node_modules/core-js/internals/function-name.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/descriptors.js"),v=A("./node_modules/core-js/internals/has-own-property.js"),g=Function.prototype,b=m&&Object.getOwnPropertyDescriptor,I=v(g,"name"),N=I&&(function(){}).name==="something",S=I&&(!m||m&&b(g,"name").configurable);u.exports={EXISTS:I,PROPER:N,CONFIGURABLE:S}}),"./node_modules/core-js/internals/function-uncurry-this-accessor.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js"),v=A("./node_modules/core-js/internals/a-callable.js");u.exports=function(g,b,I){try{return m(v(Object.getOwnPropertyDescriptor(g,b)[I]))}catch{}}}),"./node_modules/core-js/internals/function-uncurry-this-clause.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/classof-raw.js"),v=A("./node_modules/core-js/internals/function-uncurry-this.js");u.exports=function(g){if(m(g)==="Function")return v(g)}}),"./node_modules/core-js/internals/function-uncurry-this.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-bind-native.js"),v=Function.prototype,g=v.call,b=m&&v.bind.bind(g,g);u.exports=m?b:function(I){return function(){return g.apply(I,arguments)}}}),"./node_modules/core-js/internals/get-built-in.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),v=A("./node_modules/core-js/internals/is-callable.js"),g=function(b){return v(b)?b:void 0};u.exports=function(b,I){return arguments.length<2?g(m[b]):m[b]&&m[b][I]}}),"./node_modules/core-js/internals/get-iterator-direct.js":(function(u){u.exports=function(f){return{iterator:f,next:f.next,done:!1}}}),"./node_modules/core-js/internals/get-iterator-method.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/classof.js"),v=A("./node_modules/core-js/internals/get-method.js"),g=A("./node_modules/core-js/internals/is-null-or-undefined.js"),b=A("./node_modules/core-js/internals/iterators.js"),I=A("./node_modules/core-js/internals/well-known-symbol.js"),N=I("iterator");u.exports=function(S){if(!g(S))return v(S,N)||v(S,"@@iterator")||b[m(S)]}}),"./node_modules/core-js/internals/get-iterator.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-call.js"),v=A("./node_modules/core-js/internals/a-callable.js"),g=A("./node_modules/core-js/internals/an-object.js"),b=A("./node_modules/core-js/internals/try-to-string.js"),I=A("./node_modules/core-js/internals/get-iterator-method.js"),N=TypeError;u.exports=function(S,E){var _=arguments.length<2?I(S):E;if(v(_))return g(m(_,S));throw new N(b(S)+" is not iterable")}}),"./node_modules/core-js/internals/get-json-replacer-function.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js"),v=A("./node_modules/core-js/internals/is-array.js"),g=A("./node_modules/core-js/internals/is-callable.js"),b=A("./node_modules/core-js/internals/classof-raw.js"),I=A("./node_modules/core-js/internals/to-string.js"),N=m([].push);u.exports=function(S){if(g(S))return S;if(v(S)){for(var E=S.length,_=[],R=0;R<E;R++){var L=S[R];typeof L=="string"?N(_,L):(typeof L=="number"||b(L)==="Number"||b(L)==="String")&&N(_,I(L))}var H=_.length,D=!0;return function(Q,O){if(D)return D=!1,O;if(v(this))return O;for(var $=0;$<H;$++)if(_[$]===Q)return O}}}}),"./node_modules/core-js/internals/get-method.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/a-callable.js"),v=A("./node_modules/core-js/internals/is-null-or-undefined.js");u.exports=function(g,b){var I=g[b];return v(I)?void 0:m(I)}}),"./node_modules/core-js/internals/get-set-record.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/a-callable.js"),v=A("./node_modules/core-js/internals/an-object.js"),g=A("./node_modules/core-js/internals/function-call.js"),b=A("./node_modules/core-js/internals/to-integer-or-infinity.js"),I=A("./node_modules/core-js/internals/get-iterator-direct.js"),N="Invalid size",S=RangeError,E=TypeError,_=Math.max,R=function(L,H){this.set=L,this.size=_(H,0),this.has=m(L.has),this.keys=m(L.keys)};R.prototype={getIterator:function(){return I(v(g(this.keys,this.set)))},includes:function(L){return g(this.has,this.set,L)}},u.exports=function(L){v(L);var H=+L.size;if(H!==H)throw new E(N);var D=b(H);if(D<0)throw new S(N);return new R(L,D)}}),"./node_modules/core-js/internals/global-this.js":(function(u){var f=function(A){return A&&A.Math===Math&&A};u.exports=f(typeof globalThis=="object"&&globalThis)||f(typeof window=="object"&&window)||f(typeof self=="object"&&self)||f(typeof Vj=="object"&&Vj)||f(typeof this=="object"&&this)||(function(){return this})()||Function("return this")()}),"./node_modules/core-js/internals/has-own-property.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js"),v=A("./node_modules/core-js/internals/to-object.js"),g=m({}.hasOwnProperty);u.exports=Object.hasOwn||function(I,N){return g(v(I),N)}}),"./node_modules/core-js/internals/hidden-keys.js":(function(u){u.exports={}}),"./node_modules/core-js/internals/host-report-errors.js":(function(u){u.exports=function(f,A){try{arguments.length===1?console.error(f):console.error(f,A)}catch{}}}),"./node_modules/core-js/internals/html.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/get-built-in.js");u.exports=m("document","documentElement")}),"./node_modules/core-js/internals/ie8-dom-define.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/descriptors.js"),v=A("./node_modules/core-js/internals/fails.js"),g=A("./node_modules/core-js/internals/document-create-element.js");u.exports=!m&&!v(function(){return Object.defineProperty(g("div"),"a",{get:function(){return 7}}).a!==7})}),"./node_modules/core-js/internals/indexed-object.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js"),v=A("./node_modules/core-js/internals/fails.js"),g=A("./node_modules/core-js/internals/classof-raw.js"),b=Object,I=m("".split);u.exports=v(function(){return!b("z").propertyIsEnumerable(0)})?function(N){return g(N)==="String"?I(N,""):b(N)}:b}),"./node_modules/core-js/internals/inherit-if-required.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/is-callable.js"),v=A("./node_modules/core-js/internals/is-object.js"),g=A("./node_modules/core-js/internals/object-set-prototype-of.js");u.exports=function(b,I,N){var S,E;return g&&m(S=I.constructor)&&S!==N&&v(E=S.prototype)&&E!==N.prototype&&g(b,E),b}}),"./node_modules/core-js/internals/inspect-source.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js"),v=A("./node_modules/core-js/internals/is-callable.js"),g=A("./node_modules/core-js/internals/shared-store.js"),b=m(Function.toString);v(g.inspectSource)||(g.inspectSource=function(I){return b(I)}),u.exports=g.inspectSource}),"./node_modules/core-js/internals/internal-metadata.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/function-uncurry-this.js"),g=A("./node_modules/core-js/internals/hidden-keys.js"),b=A("./node_modules/core-js/internals/is-object.js"),I=A("./node_modules/core-js/internals/has-own-property.js"),N=A("./node_modules/core-js/internals/object-define-property.js").f,S=A("./node_modules/core-js/internals/object-get-own-property-names.js"),E=A("./node_modules/core-js/internals/object-get-own-property-names-external.js"),_=A("./node_modules/core-js/internals/object-is-extensible.js"),R=A("./node_modules/core-js/internals/uid.js"),L=A("./node_modules/core-js/internals/freezing.js"),H=!1,D=R("meta"),Q=0,O=function(de){N(de,D,{value:{objectID:"O"+Q++,weakData:{}}})},$=function(de,X){if(!b(de))return typeof de=="symbol"?de:(typeof de=="string"?"S":"P")+de;if(!I(de,D)){if(!_(de))return"F";if(!X)return"E";O(de)}return de[D].objectID},P=function(de,X){if(!I(de,D)){if(!_(de))return!0;if(!X)return!1;O(de)}return de[D].weakData},V=function(de){return L&&H&&_(de)&&!I(de,D)&&O(de),de},G=function(){ie.enable=function(){},H=!0;var de=S.f,X=v([].splice),q={};q[D]=1,de(q).length&&(S.f=function(Z){for(var oe=de(Z),ye=0,ne=oe.length;ye<ne;ye++)if(oe[ye]===D){X(oe,ye,1);break}return oe},m({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:E.f}))},ie=u.exports={enable:G,fastKey:$,getWeakData:P,onFreeze:V};g[D]=!0}),"./node_modules/core-js/internals/internal-state.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/weak-map-basic-detection.js"),v=A("./node_modules/core-js/internals/global-this.js"),g=A("./node_modules/core-js/internals/is-object.js"),b=A("./node_modules/core-js/internals/create-non-enumerable-property.js"),I=A("./node_modules/core-js/internals/has-own-property.js"),N=A("./node_modules/core-js/internals/shared-store.js"),S=A("./node_modules/core-js/internals/shared-key.js"),E=A("./node_modules/core-js/internals/hidden-keys.js"),_="Object already initialized",R=v.TypeError,L=v.WeakMap,H,D,Q,O=function(G){return Q(G)?D(G):H(G,{})},$=function(G){return function(ie){var de;if(!g(ie)||(de=D(ie)).type!==G)throw new R("Incompatible receiver, "+G+" required");return de}};if(m||N.state){var P=N.state||(N.state=new L);P.get=P.get,P.has=P.has,P.set=P.set,H=function(G,ie){if(P.has(G))throw new R(_);return ie.facade=G,P.set(G,ie),ie},D=function(G){return P.get(G)||{}},Q=function(G){return P.has(G)}}else{var V=S("state");E[V]=!0,H=function(G,ie){if(I(G,V))throw new R(_);return ie.facade=G,b(G,V,ie),ie},D=function(G){return I(G,V)?G[V]:{}},Q=function(G){return I(G,V)}}u.exports={set:H,get:D,has:Q,enforce:O,getterFor:$}}),"./node_modules/core-js/internals/is-array-iterator-method.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/well-known-symbol.js"),v=A("./node_modules/core-js/internals/iterators.js"),g=m("iterator"),b=Array.prototype;u.exports=function(I){return I!==void 0&&(v.Array===I||b[g]===I)}}),"./node_modules/core-js/internals/is-array.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/classof-raw.js");u.exports=Array.isArray||function(g){return m(g)==="Array"}}),"./node_modules/core-js/internals/is-callable.js":(function(u){var f=typeof document=="object"&&document.all;u.exports=typeof f>"u"&&f!==void 0?function(A){return typeof A=="function"||A===f}:function(A){return typeof A=="function"}}),"./node_modules/core-js/internals/is-constructor.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js"),v=A("./node_modules/core-js/internals/fails.js"),g=A("./node_modules/core-js/internals/is-callable.js"),b=A("./node_modules/core-js/internals/classof.js"),I=A("./node_modules/core-js/internals/get-built-in.js"),N=A("./node_modules/core-js/internals/inspect-source.js"),S=function(){},E=I("Reflect","construct"),_=/^\s*(?:class|function)\b/,R=m(_.exec),L=!_.test(S),H=function(O){if(!g(O))return!1;try{return E(S,[],O),!0}catch{return!1}},D=function(O){if(!g(O))return!1;switch(b(O)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return L||!!R(_,N(O))}catch{return!0}};D.sham=!0,u.exports=!E||v(function(){var Q;return H(H.call)||!H(Object)||!H(function(){Q=!0})||Q})?D:H}),"./node_modules/core-js/internals/is-forced.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js"),v=A("./node_modules/core-js/internals/is-callable.js"),g=/#|\.prototype\./,b=function(_,R){var L=N[I(_)];return L===E?!0:L===S?!1:v(R)?m(R):!!R},I=b.normalize=function(_){return String(_).replace(g,".").toLowerCase()},N=b.data={},S=b.NATIVE="N",E=b.POLYFILL="P";u.exports=b}),"./node_modules/core-js/internals/is-iterable.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/classof.js"),v=A("./node_modules/core-js/internals/has-own-property.js"),g=A("./node_modules/core-js/internals/is-null-or-undefined.js"),b=A("./node_modules/core-js/internals/well-known-symbol.js"),I=A("./node_modules/core-js/internals/iterators.js"),N=b("iterator"),S=Object;u.exports=function(E){if(g(E))return!1;var _=S(E);return _[N]!==void 0||"@@iterator"in _||v(I,m(_))}}),"./node_modules/core-js/internals/is-null-or-undefined.js":(function(u){u.exports=function(f){return f==null}}),"./node_modules/core-js/internals/is-object.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/is-callable.js");u.exports=function(v){return typeof v=="object"?v!==null:m(v)}}),"./node_modules/core-js/internals/is-possible-prototype.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/is-object.js");u.exports=function(v){return m(v)||v===null}}),"./node_modules/core-js/internals/is-pure.js":(function(u){u.exports=!1}),"./node_modules/core-js/internals/is-symbol.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/get-built-in.js"),v=A("./node_modules/core-js/internals/is-callable.js"),g=A("./node_modules/core-js/internals/object-is-prototype-of.js"),b=A("./node_modules/core-js/internals/use-symbol-as-uid.js"),I=Object;u.exports=b?function(N){return typeof N=="symbol"}:function(N){var S=m("Symbol");return v(S)&&g(S.prototype,I(N))}}),"./node_modules/core-js/internals/iterate-simple.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-call.js");u.exports=function(v,g,b){for(var I=b?v:v.iterator,N=v.next,S,E;!(S=m(N,I)).done;)if(E=g(S.value),E!==void 0)return E}}),"./node_modules/core-js/internals/iterate.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-bind-context.js"),v=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/an-object.js"),b=A("./node_modules/core-js/internals/try-to-string.js"),I=A("./node_modules/core-js/internals/is-array-iterator-method.js"),N=A("./node_modules/core-js/internals/length-of-array-like.js"),S=A("./node_modules/core-js/internals/object-is-prototype-of.js"),E=A("./node_modules/core-js/internals/get-iterator.js"),_=A("./node_modules/core-js/internals/get-iterator-method.js"),R=A("./node_modules/core-js/internals/iterator-close.js"),L=TypeError,H=function(Q,O){this.stopped=Q,this.result=O},D=H.prototype;u.exports=function(Q,O,$){var P=$&&$.that,V=!!($&&$.AS_ENTRIES),G=!!($&&$.IS_RECORD),ie=!!($&&$.IS_ITERATOR),de=!!($&&$.INTERRUPTED),X=m(O,P),q,Z,oe,ye,ne,M,W,ae=function(ce){return q&&R(q,"normal"),new H(!0,ce)},ue=function(ce){return V?(g(ce),de?X(ce[0],ce[1],ae):X(ce[0],ce[1])):de?X(ce,ae):X(ce)};if(G)q=Q.iterator;else if(ie)q=Q;else{if(Z=_(Q),!Z)throw new L(b(Q)+" is not iterable");if(I(Z)){for(oe=0,ye=N(Q);ye>oe;oe++)if(ne=ue(Q[oe]),ne&&S(D,ne))return ne;return new H(!1)}q=E(Q,Z)}for(M=G?Q.next:q.next;!(W=v(M,q)).done;){try{ne=ue(W.value)}catch(ce){R(q,"throw",ce)}if(typeof ne=="object"&&ne&&S(D,ne))return ne}return new H(!1)}}),"./node_modules/core-js/internals/iterator-close-all.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/iterator-close.js");u.exports=function(v,g,b){for(var I=v.length-1;I>=0;I--)if(v[I]!==void 0)try{b=m(v[I].iterator,g,b)}catch(N){g="throw",b=N}if(g==="throw")throw b;return b}}),"./node_modules/core-js/internals/iterator-close.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-call.js"),v=A("./node_modules/core-js/internals/an-object.js"),g=A("./node_modules/core-js/internals/get-method.js");u.exports=function(b,I,N){var S,E;v(b);try{if(S=g(b,"return"),!S){if(I==="throw")throw N;return N}S=m(S,b)}catch(_){E=!0,S=_}if(I==="throw")throw N;if(E)throw S;return v(S),N}}),"./node_modules/core-js/internals/iterator-create-constructor.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,v=A("./node_modules/core-js/internals/object-create.js"),g=A("./node_modules/core-js/internals/create-property-descriptor.js"),b=A("./node_modules/core-js/internals/set-to-string-tag.js"),I=A("./node_modules/core-js/internals/iterators.js"),N=function(){return this};u.exports=function(S,E,_,R){var L=E+" Iterator";return S.prototype=v(m,{next:g(+!R,_)}),b(S,L,!1,!0),I[L]=N,S}}),"./node_modules/core-js/internals/iterator-create-proxy.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-call.js"),v=A("./node_modules/core-js/internals/object-create.js"),g=A("./node_modules/core-js/internals/create-non-enumerable-property.js"),b=A("./node_modules/core-js/internals/define-built-ins.js"),I=A("./node_modules/core-js/internals/well-known-symbol.js"),N=A("./node_modules/core-js/internals/internal-state.js"),S=A("./node_modules/core-js/internals/get-method.js"),E=A("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,_=A("./node_modules/core-js/internals/create-iter-result-object.js"),R=A("./node_modules/core-js/internals/iterator-close.js"),L=A("./node_modules/core-js/internals/iterator-close-all.js"),H=I("toStringTag"),D="IteratorHelper",Q="WrapForValidIterator",O="normal",$="throw",P=N.set,V=function(de){var X=N.getterFor(de?Q:D);return b(v(E),{next:function(){var Z=X(this);if(de)return Z.nextHandler();if(Z.done)return _(void 0,!0);try{var oe=Z.nextHandler();return Z.returnHandlerResult?oe:_(oe,Z.done)}catch(ye){throw Z.done=!0,ye}},return:function(){var q=X(this),Z=q.iterator;if(q.done=!0,de){var oe=S(Z,"return");return oe?m(oe,Z):_(void 0,!0)}if(q.inner)try{R(q.inner.iterator,O)}catch(ye){return R(Z,$,ye)}if(q.openIters)try{L(q.openIters,O)}catch(ye){return R(Z,$,ye)}return Z&&R(Z,O),_(void 0,!0)}})},G=V(!0),ie=V(!1);g(ie,H,"Iterator Helper"),u.exports=function(de,X,q){var Z=function(ye,ne){ne?(ne.iterator=ye.iterator,ne.next=ye.next):ne=ye,ne.type=X?Q:D,ne.returnHandlerResult=!!q,ne.nextHandler=de,ne.counter=0,ne.done=!1,P(this,ne)};return Z.prototype=X?G:ie,Z}}),"./node_modules/core-js/internals/iterator-define.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/is-pure.js"),b=A("./node_modules/core-js/internals/function-name.js"),I=A("./node_modules/core-js/internals/is-callable.js"),N=A("./node_modules/core-js/internals/iterator-create-constructor.js"),S=A("./node_modules/core-js/internals/object-get-prototype-of.js"),E=A("./node_modules/core-js/internals/object-set-prototype-of.js"),_=A("./node_modules/core-js/internals/set-to-string-tag.js"),R=A("./node_modules/core-js/internals/create-non-enumerable-property.js"),L=A("./node_modules/core-js/internals/define-built-in.js"),H=A("./node_modules/core-js/internals/well-known-symbol.js"),D=A("./node_modules/core-js/internals/iterators.js"),Q=A("./node_modules/core-js/internals/iterators-core.js"),O=b.PROPER,$=b.CONFIGURABLE,P=Q.IteratorPrototype,V=Q.BUGGY_SAFARI_ITERATORS,G=H("iterator"),ie="keys",de="values",X="entries",q=function(){return this};u.exports=function(Z,oe,ye,ne,M,W,ae){N(ye,oe,ne);var ue=function(me){if(me===M&&Ie)return Ie;if(!V&&me&&me in Se)return Se[me];switch(me){case ie:return function(){return new ye(this,me)};case de:return function(){return new ye(this,me)};case X:return function(){return new ye(this,me)}}return function(){return new ye(this)}},ce=oe+" Iterator",ge=!1,Se=Z.prototype,xe=Se[G]||Se["@@iterator"]||M&&Se[M],Ie=!V&&xe||ue(M),Ue=oe==="Array"&&Se.entries||xe,Pe,rt,Le;if(Ue&&(Pe=S(Ue.call(new Z)),Pe!==Object.prototype&&Pe.next&&(!g&&S(Pe)!==P&&(E?E(Pe,P):I(Pe[G])||L(Pe,G,q)),_(Pe,ce,!0,!0),g&&(D[ce]=q))),O&&M===de&&xe&&xe.name!==de&&(!g&&$?R(Se,"name",de):(ge=!0,Ie=function(){return v(xe,this)})),M)if(rt={values:ue(de),keys:W?Ie:ue(ie),entries:ue(X)},ae)for(Le in rt)(V||ge||!(Le in Se))&&L(Se,Le,rt[Le]);else m({target:oe,proto:!0,forced:V||ge},rt);return(!g||ae)&&Se[G]!==Ie&&L(Se,G,Ie,{name:M}),D[oe]=Ie,rt}}),"./node_modules/core-js/internals/iterator-helper-throws-on-invalid-iterator.js":(function(u){u.exports=function(f,A){var m=typeof Iterator=="function"&&Iterator.prototype[f];if(m)try{m.call({next:null},A).next()}catch{return!0}}}),"./node_modules/core-js/internals/iterator-helper-without-closing-on-early-error.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js");u.exports=function(v,g){var b=m.Iterator,I=b&&b.prototype,N=I&&I[v],S=!1;if(N)try{N.call({next:function(){return{done:!0}},return:function(){S=!0}},-1)}catch(E){E instanceof g||(S=!1)}if(!S)return N}}),"./node_modules/core-js/internals/iterators-core.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js"),v=A("./node_modules/core-js/internals/is-callable.js"),g=A("./node_modules/core-js/internals/is-object.js"),b=A("./node_modules/core-js/internals/object-create.js"),I=A("./node_modules/core-js/internals/object-get-prototype-of.js"),N=A("./node_modules/core-js/internals/define-built-in.js"),S=A("./node_modules/core-js/internals/well-known-symbol.js"),E=A("./node_modules/core-js/internals/is-pure.js"),_=S("iterator"),R=!1,L,H,D;[].keys&&(D=[].keys(),"next"in D?(H=I(I(D)),H!==Object.prototype&&(L=H)):R=!0);var Q=!g(L)||m(function(){var O={};return L[_].call(O)!==O});Q?L={}:E&&(L=b(L)),v(L[_])||N(L,_,function(){return this}),u.exports={IteratorPrototype:L,BUGGY_SAFARI_ITERATORS:R}}),"./node_modules/core-js/internals/iterators.js":(function(u){u.exports={}}),"./node_modules/core-js/internals/length-of-array-like.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/to-length.js");u.exports=function(v){return m(v.length)}}),"./node_modules/core-js/internals/make-built-in.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js"),v=A("./node_modules/core-js/internals/fails.js"),g=A("./node_modules/core-js/internals/is-callable.js"),b=A("./node_modules/core-js/internals/has-own-property.js"),I=A("./node_modules/core-js/internals/descriptors.js"),N=A("./node_modules/core-js/internals/function-name.js").CONFIGURABLE,S=A("./node_modules/core-js/internals/inspect-source.js"),E=A("./node_modules/core-js/internals/internal-state.js"),_=E.enforce,R=E.get,L=String,H=Object.defineProperty,D=m("".slice),Q=m("".replace),O=m([].join),$=I&&!v(function(){return H(function(){},"length",{value:8}).length!==8}),P=String(String).split("String"),V=u.exports=function(G,ie,de){D(L(ie),0,7)==="Symbol("&&(ie="["+Q(L(ie),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),de&&de.getter&&(ie="get "+ie),de&&de.setter&&(ie="set "+ie),(!b(G,"name")||N&&G.name!==ie)&&(I?H(G,"name",{value:ie,configurable:!0}):G.name=ie),$&&de&&b(de,"arity")&&G.length!==de.arity&&H(G,"length",{value:de.arity});try{de&&b(de,"constructor")&&de.constructor?I&&H(G,"prototype",{writable:!1}):G.prototype&&(G.prototype=void 0)}catch{}var X=_(G);return b(X,"source")||(X.source=O(P,typeof ie=="string"?ie:"")),G};Function.prototype.toString=V(function(){return g(this)&&R(this).source||S(this)},"toString")}),"./node_modules/core-js/internals/math-trunc.js":(function(u){var f=Math.ceil,A=Math.floor;u.exports=Math.trunc||function(v){var g=+v;return(g>0?A:f)(g)}}),"./node_modules/core-js/internals/microtask.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),v=A("./node_modules/core-js/internals/safe-get-built-in.js"),g=A("./node_modules/core-js/internals/function-bind-context.js"),b=A("./node_modules/core-js/internals/task.js").set,I=A("./node_modules/core-js/internals/queue.js"),N=A("./node_modules/core-js/internals/environment-is-ios.js"),S=A("./node_modules/core-js/internals/environment-is-ios-pebble.js"),E=A("./node_modules/core-js/internals/environment-is-webos-webkit.js"),_=A("./node_modules/core-js/internals/environment-is-node.js"),R=m.MutationObserver||m.WebKitMutationObserver,L=m.document,H=m.process,D=m.Promise,Q=v("queueMicrotask"),O,$,P,V,G;if(!Q){var ie=new I,de=function(){var X,q;for(_&&(X=H.domain)&&X.exit();q=ie.get();)try{q()}catch(Z){throw ie.head&&O(),Z}X&&X.enter()};!N&&!_&&!E&&R&&L?($=!0,P=L.createTextNode(""),new R(de).observe(P,{characterData:!0}),O=function(){P.data=$=!$}):!S&&D&&D.resolve?(V=D.resolve(void 0),V.constructor=D,G=g(V.then,V),O=function(){G(de)}):_?O=function(){H.nextTick(de)}:(b=g(b,m),O=function(){b(de)}),Q=function(X){ie.head||O(),ie.add(X)}}u.exports=Q}),"./node_modules/core-js/internals/new-promise-capability.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/a-callable.js"),v=TypeError,g=function(b){var I,N;this.promise=new b(function(S,E){if(I!==void 0||N!==void 0)throw new v("Bad Promise constructor");I=S,N=E}),this.resolve=m(I),this.reject=m(N)};u.exports.f=function(b){return new g(b)}}),"./node_modules/core-js/internals/object-assign.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/descriptors.js"),v=A("./node_modules/core-js/internals/function-uncurry-this.js"),g=A("./node_modules/core-js/internals/function-call.js"),b=A("./node_modules/core-js/internals/fails.js"),I=A("./node_modules/core-js/internals/object-keys.js"),N=A("./node_modules/core-js/internals/object-get-own-property-symbols.js"),S=A("./node_modules/core-js/internals/object-property-is-enumerable.js"),E=A("./node_modules/core-js/internals/to-object.js"),_=A("./node_modules/core-js/internals/indexed-object.js"),R=Object.assign,L=Object.defineProperty,H=v([].concat);u.exports=!R||b(function(){if(m&&R({b:1},R(L({},"a",{enumerable:!0,get:function(){L(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var D={},Q={},O=Symbol("assign detection"),$="abcdefghijklmnopqrst";return D[O]=7,$.split("").forEach(function(P){Q[P]=P}),R({},D)[O]!==7||I(R({},Q)).join("")!==$})?function(Q,O){for(var $=E(Q),P=arguments.length,V=1,G=N.f,ie=S.f;P>V;)for(var de=_(arguments[V++]),X=G?H(I(de),G(de)):I(de),q=X.length,Z=0,oe;q>Z;)oe=X[Z++],(!m||g(ie,de,oe))&&($[oe]=de[oe]);return $}:R}),"./node_modules/core-js/internals/object-create.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/an-object.js"),v=A("./node_modules/core-js/internals/object-define-properties.js"),g=A("./node_modules/core-js/internals/enum-bug-keys.js"),b=A("./node_modules/core-js/internals/hidden-keys.js"),I=A("./node_modules/core-js/internals/html.js"),N=A("./node_modules/core-js/internals/document-create-element.js"),S=A("./node_modules/core-js/internals/shared-key.js"),E=">",_="<",R="prototype",L="script",H=S("IE_PROTO"),D=function(){},Q=function(G){return _+L+E+G+_+"/"+L+E},O=function(G){G.write(Q("")),G.close();var ie=G.parentWindow.Object;return G=null,ie},$=function(){var G=N("iframe"),ie="java"+L+":",de;return G.style.display="none",I.appendChild(G),G.src=String(ie),de=G.contentWindow.document,de.open(),de.write(Q("document.F=Object")),de.close(),de.F},P,V=function(){try{P=new ActiveXObject("htmlfile")}catch{}V=typeof document<"u"?document.domain&&P?O(P):$():O(P);for(var G=g.length;G--;)delete V[R][g[G]];return V()};b[H]=!0,u.exports=Object.create||function(ie,de){var X;return ie!==null?(D[R]=m(ie),X=new D,D[R]=null,X[H]=ie):X=V(),de===void 0?X:v.f(X,de)}}),"./node_modules/core-js/internals/object-define-properties.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/descriptors.js"),v=A("./node_modules/core-js/internals/v8-prototype-define-bug.js"),g=A("./node_modules/core-js/internals/object-define-property.js"),b=A("./node_modules/core-js/internals/an-object.js"),I=A("./node_modules/core-js/internals/to-indexed-object.js"),N=A("./node_modules/core-js/internals/object-keys.js");f.f=m&&!v?Object.defineProperties:function(E,_){b(E);for(var R=I(_),L=N(_),H=L.length,D=0,Q;H>D;)g.f(E,Q=L[D++],R[Q]);return E}}),"./node_modules/core-js/internals/object-define-property.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/descriptors.js"),v=A("./node_modules/core-js/internals/ie8-dom-define.js"),g=A("./node_modules/core-js/internals/v8-prototype-define-bug.js"),b=A("./node_modules/core-js/internals/an-object.js"),I=A("./node_modules/core-js/internals/to-property-key.js"),N=TypeError,S=Object.defineProperty,E=Object.getOwnPropertyDescriptor,_="enumerable",R="configurable",L="writable";f.f=m?g?function(D,Q,O){if(b(D),Q=I(Q),b(O),typeof D=="function"&&Q==="prototype"&&"value"in O&&L in O&&!O[L]){var $=E(D,Q);$&&$[L]&&(D[Q]=O.value,O={configurable:R in O?O[R]:$[R],enumerable:_ in O?O[_]:$[_],writable:!1})}return S(D,Q,O)}:S:function(D,Q,O){if(b(D),Q=I(Q),b(O),v)try{return S(D,Q,O)}catch{}if("get"in O||"set"in O)throw new N("Accessors not supported");return"value"in O&&(D[Q]=O.value),D}}),"./node_modules/core-js/internals/object-get-own-property-descriptor.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/descriptors.js"),v=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/object-property-is-enumerable.js"),b=A("./node_modules/core-js/internals/create-property-descriptor.js"),I=A("./node_modules/core-js/internals/to-indexed-object.js"),N=A("./node_modules/core-js/internals/to-property-key.js"),S=A("./node_modules/core-js/internals/has-own-property.js"),E=A("./node_modules/core-js/internals/ie8-dom-define.js"),_=Object.getOwnPropertyDescriptor;f.f=m?_:function(L,H){if(L=I(L),H=N(H),E)try{return _(L,H)}catch{}if(S(L,H))return b(!v(g.f,L,H),L[H])}}),"./node_modules/core-js/internals/object-get-own-property-names-external.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/classof-raw.js"),v=A("./node_modules/core-js/internals/to-indexed-object.js"),g=A("./node_modules/core-js/internals/object-get-own-property-names.js").f,b=A("./node_modules/core-js/internals/array-slice.js"),I=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],N=function(S){try{return g(S)}catch{return b(I)}};u.exports.f=function(E){return I&&m(E)==="Window"?N(E):g(v(E))}}),"./node_modules/core-js/internals/object-get-own-property-names.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/object-keys-internal.js"),v=A("./node_modules/core-js/internals/enum-bug-keys.js"),g=v.concat("length","prototype");f.f=Object.getOwnPropertyNames||function(I){return m(I,g)}}),"./node_modules/core-js/internals/object-get-own-property-symbols.js":(function(u,f){f.f=Object.getOwnPropertySymbols}),"./node_modules/core-js/internals/object-get-prototype-of.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/has-own-property.js"),v=A("./node_modules/core-js/internals/is-callable.js"),g=A("./node_modules/core-js/internals/to-object.js"),b=A("./node_modules/core-js/internals/shared-key.js"),I=A("./node_modules/core-js/internals/correct-prototype-getter.js"),N=b("IE_PROTO"),S=Object,E=S.prototype;u.exports=I?S.getPrototypeOf:function(_){var R=g(_);if(m(R,N))return R[N];var L=R.constructor;return v(L)&&R instanceof L?L.prototype:R instanceof S?E:null}}),"./node_modules/core-js/internals/object-is-extensible.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js"),v=A("./node_modules/core-js/internals/is-object.js"),g=A("./node_modules/core-js/internals/classof-raw.js"),b=A("./node_modules/core-js/internals/array-buffer-non-extensible.js"),I=Object.isExtensible,N=m(function(){});u.exports=N||b?function(E){return!v(E)||b&&g(E)==="ArrayBuffer"?!1:I?I(E):!0}:I}),"./node_modules/core-js/internals/object-is-prototype-of.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js");u.exports=m({}.isPrototypeOf)}),"./node_modules/core-js/internals/object-keys-internal.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js"),v=A("./node_modules/core-js/internals/has-own-property.js"),g=A("./node_modules/core-js/internals/to-indexed-object.js"),b=A("./node_modules/core-js/internals/array-includes.js").indexOf,I=A("./node_modules/core-js/internals/hidden-keys.js"),N=m([].push);u.exports=function(S,E){var _=g(S),R=0,L=[],H;for(H in _)!v(I,H)&&v(_,H)&&N(L,H);for(;E.length>R;)v(_,H=E[R++])&&(~b(L,H)||N(L,H));return L}}),"./node_modules/core-js/internals/object-keys.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/object-keys-internal.js"),v=A("./node_modules/core-js/internals/enum-bug-keys.js");u.exports=Object.keys||function(b){return m(b,v)}}),"./node_modules/core-js/internals/object-property-is-enumerable.js":(function(u,f){var A={}.propertyIsEnumerable,m=Object.getOwnPropertyDescriptor,v=m&&!A.call({1:2},1);f.f=v?function(b){var I=m(this,b);return!!I&&I.enumerable}:A}),"./node_modules/core-js/internals/object-set-prototype-of.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this-accessor.js"),v=A("./node_modules/core-js/internals/is-object.js"),g=A("./node_modules/core-js/internals/require-object-coercible.js"),b=A("./node_modules/core-js/internals/a-possible-prototype.js");u.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var I=!1,N={},S;try{S=m(Object.prototype,"__proto__","set"),S(N,[]),I=N instanceof Array}catch{}return function(_,R){return g(_),b(R),v(_)&&(I?S(_,R):_.__proto__=R),_}})():void 0)}),"./node_modules/core-js/internals/object-to-string.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/to-string-tag-support.js"),v=A("./node_modules/core-js/internals/classof.js");u.exports=m?{}.toString:function(){return"[object "+v(this)+"]"}}),"./node_modules/core-js/internals/ordinary-to-primitive.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-call.js"),v=A("./node_modules/core-js/internals/is-callable.js"),g=A("./node_modules/core-js/internals/is-object.js"),b=TypeError;u.exports=function(I,N){var S,E;if(N==="string"&&v(S=I.toString)&&!g(E=m(S,I))||v(S=I.valueOf)&&!g(E=m(S,I))||N!=="string"&&v(S=I.toString)&&!g(E=m(S,I)))return E;throw new b("Can't convert object to primitive value")}}),"./node_modules/core-js/internals/own-keys.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/get-built-in.js"),v=A("./node_modules/core-js/internals/function-uncurry-this.js"),g=A("./node_modules/core-js/internals/object-get-own-property-names.js"),b=A("./node_modules/core-js/internals/object-get-own-property-symbols.js"),I=A("./node_modules/core-js/internals/an-object.js"),N=v([].concat);u.exports=m("Reflect","ownKeys")||function(E){var _=g.f(I(E)),R=b.f;return R?N(_,R(E)):_}}),"./node_modules/core-js/internals/path.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js");u.exports=m}),"./node_modules/core-js/internals/perform.js":(function(u){u.exports=function(f){try{return{error:!1,value:f()}}catch(A){return{error:!0,value:A}}}}),"./node_modules/core-js/internals/promise-constructor-detection.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),v=A("./node_modules/core-js/internals/promise-native-constructor.js"),g=A("./node_modules/core-js/internals/is-callable.js"),b=A("./node_modules/core-js/internals/is-forced.js"),I=A("./node_modules/core-js/internals/inspect-source.js"),N=A("./node_modules/core-js/internals/well-known-symbol.js"),S=A("./node_modules/core-js/internals/environment.js"),E=A("./node_modules/core-js/internals/is-pure.js"),_=A("./node_modules/core-js/internals/environment-v8-version.js"),R=v&&v.prototype,L=N("species"),H=!1,D=g(m.PromiseRejectionEvent),Q=b("Promise",function(){var O=I(v),$=O!==String(v);if(!$&&_===66||E&&!(R.catch&&R.finally))return!0;if(!_||_<51||!/native code/.test(O)){var P=new v(function(ie){ie(1)}),V=function(ie){ie(function(){},function(){})},G=P.constructor={};if(G[L]=V,H=P.then(function(){})instanceof V,!H)return!0}return!$&&(S==="BROWSER"||S==="DENO")&&!D});u.exports={CONSTRUCTOR:Q,REJECTION_EVENT:D,SUBCLASSING:H}}),"./node_modules/core-js/internals/promise-native-constructor.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js");u.exports=m.Promise}),"./node_modules/core-js/internals/promise-resolve.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/an-object.js"),v=A("./node_modules/core-js/internals/is-object.js"),g=A("./node_modules/core-js/internals/new-promise-capability.js");u.exports=function(b,I){if(m(b),v(I)&&I.constructor===b)return I;var N=g.f(b),S=N.resolve;return S(I),N.promise}}),"./node_modules/core-js/internals/promise-statics-incorrect-iteration.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/promise-native-constructor.js"),v=A("./node_modules/core-js/internals/check-correctness-of-iteration.js"),g=A("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR;u.exports=g||!v(function(b){m.all(b).then(void 0,function(){})})}),"./node_modules/core-js/internals/queue.js":(function(u){var f=function(){this.head=null,this.tail=null};f.prototype={add:function(A){var m={item:A,next:null},v=this.tail;v?v.next=m:this.head=m,this.tail=m},get:function(){var A=this.head;if(A){var m=this.head=A.next;return m===null&&(this.tail=null),A.item}}},u.exports=f}),"./node_modules/core-js/internals/regexp-exec.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-call.js"),v=A("./node_modules/core-js/internals/function-uncurry-this.js"),g=A("./node_modules/core-js/internals/to-string.js"),b=A("./node_modules/core-js/internals/regexp-flags.js"),I=A("./node_modules/core-js/internals/regexp-sticky-helpers.js"),N=A("./node_modules/core-js/internals/shared.js"),S=A("./node_modules/core-js/internals/object-create.js"),E=A("./node_modules/core-js/internals/internal-state.js").get,_=A("./node_modules/core-js/internals/regexp-unsupported-dot-all.js"),R=A("./node_modules/core-js/internals/regexp-unsupported-ncg.js"),L=N("native-string-replace",String.prototype.replace),H=RegExp.prototype.exec,D=H,Q=v("".charAt),O=v("".indexOf),$=v("".replace),P=v("".slice),V=(function(){var X=/a/,q=/b*/g;return m(H,X,"a"),m(H,q,"a"),X.lastIndex!==0||q.lastIndex!==0})(),G=I.BROKEN_CARET,ie=/()??/.exec("")[1]!==void 0,de=V||ie||G||_||R;de&&(D=function(q){var Z=this,oe=E(Z),ye=g(q),ne=oe.raw,M,W,ae,ue,ce,ge,Se;if(ne)return ne.lastIndex=Z.lastIndex,M=m(D,ne,ye),Z.lastIndex=ne.lastIndex,M;var xe=oe.groups,Ie=G&&Z.sticky,Ue=m(b,Z),Pe=Z.source,rt=0,Le=ye;if(Ie&&(Ue=$(Ue,"y",""),O(Ue,"g")===-1&&(Ue+="g"),Le=P(ye,Z.lastIndex),Z.lastIndex>0&&(!Z.multiline||Z.multiline&&Q(ye,Z.lastIndex-1)!==`
`)&&(Pe="(?: "+Pe+")",Le=" "+Le,rt++),W=new RegExp("^(?:"+Pe+")",Ue)),ie&&(W=new RegExp("^"+Pe+"$(?!\\s)",Ue)),V&&(ae=Z.lastIndex),ue=m(H,Ie?W:Z,Le),Ie?ue?(ue.input=P(ue.input,rt),ue[0]=P(ue[0],rt),ue.index=Z.lastIndex,Z.lastIndex+=ue[0].length):Z.lastIndex=0:V&&ue&&(Z.lastIndex=Z.global?ue.index+ue[0].length:ae),ie&&ue&&ue.length>1&&m(L,ue[0],W,function(){for(ce=1;ce<arguments.length-2;ce++)arguments[ce]===void 0&&(ue[ce]=void 0)}),ue&&xe)for(ue.groups=ge=S(null),ce=0;ce<xe.length;ce++)Se=xe[ce],ge[Se[0]]=ue[Se[1]];return ue}),u.exports=D}),"./node_modules/core-js/internals/regexp-flags-detection.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),v=A("./node_modules/core-js/internals/fails.js"),g=m.RegExp,b=!v(function(){var I=!0;try{g(".","d")}catch{I=!1}var N={},S="",E=I?"dgimsy":"gimsy",_=function(D,Q){Object.defineProperty(N,D,{get:function(){return S+=Q,!0}})},R={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};I&&(R.hasIndices="d");for(var L in R)_(L,R[L]);var H=Object.getOwnPropertyDescriptor(g.prototype,"flags").get.call(N);return H!==E||S!==E});u.exports={correct:b}}),"./node_modules/core-js/internals/regexp-flags.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/an-object.js");u.exports=function(){var v=m(this),g="";return v.hasIndices&&(g+="d"),v.global&&(g+="g"),v.ignoreCase&&(g+="i"),v.multiline&&(g+="m"),v.dotAll&&(g+="s"),v.unicode&&(g+="u"),v.unicodeSets&&(g+="v"),v.sticky&&(g+="y"),g}}),"./node_modules/core-js/internals/regexp-get-flags.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-call.js"),v=A("./node_modules/core-js/internals/has-own-property.js"),g=A("./node_modules/core-js/internals/object-is-prototype-of.js"),b=A("./node_modules/core-js/internals/regexp-flags-detection.js"),I=A("./node_modules/core-js/internals/regexp-flags.js"),N=RegExp.prototype;u.exports=b.correct?function(S){return S.flags}:function(S){return!b.correct&&g(N,S)&&!v(S,"flags")?m(I,S):S.flags}}),"./node_modules/core-js/internals/regexp-sticky-helpers.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js"),v=A("./node_modules/core-js/internals/global-this.js"),g=v.RegExp,b=m(function(){var S=g("a","y");return S.lastIndex=2,S.exec("abcd")!==null}),I=b||m(function(){return!g("a","y").sticky}),N=b||m(function(){var S=g("^r","gy");return S.lastIndex=2,S.exec("str")!==null});u.exports={BROKEN_CARET:N,MISSED_STICKY:I,UNSUPPORTED_Y:b}}),"./node_modules/core-js/internals/regexp-unsupported-dot-all.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js"),v=A("./node_modules/core-js/internals/global-this.js"),g=v.RegExp;u.exports=m(function(){var b=g(".","s");return!(b.dotAll&&b.test(`
`)&&b.flags==="s")})}),"./node_modules/core-js/internals/regexp-unsupported-ncg.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js"),v=A("./node_modules/core-js/internals/global-this.js"),g=v.RegExp;u.exports=m(function(){var b=g("(?<a>b)","g");return b.exec("b").groups.a!=="b"||"b".replace(b,"$<a>c")!=="bc"})}),"./node_modules/core-js/internals/require-object-coercible.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/is-null-or-undefined.js"),v=TypeError;u.exports=function(g){if(m(g))throw new v("Can't call method on "+g);return g}}),"./node_modules/core-js/internals/safe-get-built-in.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),v=A("./node_modules/core-js/internals/descriptors.js"),g=Object.getOwnPropertyDescriptor;u.exports=function(b){if(!v)return m[b];var I=g(m,b);return I&&I.value}}),"./node_modules/core-js/internals/schedulers-fix.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),v=A("./node_modules/core-js/internals/function-apply.js"),g=A("./node_modules/core-js/internals/is-callable.js"),b=A("./node_modules/core-js/internals/environment.js"),I=A("./node_modules/core-js/internals/environment-user-agent.js"),N=A("./node_modules/core-js/internals/array-slice.js"),S=A("./node_modules/core-js/internals/validate-arguments-length.js"),E=m.Function,_=/MSIE .\./.test(I)||b==="BUN"&&(function(){var R=m.Bun.version.split(".");return R.length<3||R[0]==="0"&&(R[1]<3||R[1]==="3"&&R[2]==="0")})();u.exports=function(R,L){var H=L?2:1;return _?function(D,Q){var O=S(arguments.length,1)>H,$=g(D)?D:E(D),P=O?N(arguments,H):[],V=O?function(){v($,this,P)}:$;return L?R(V,Q):R(V)}:R}}),"./node_modules/core-js/internals/set-clone.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/set-helpers.js"),v=A("./node_modules/core-js/internals/set-iterate.js"),g=m.Set,b=m.add;u.exports=function(I){var N=new g;return v(I,function(S){b(N,S)}),N}}),"./node_modules/core-js/internals/set-difference.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/a-set.js"),v=A("./node_modules/core-js/internals/set-helpers.js"),g=A("./node_modules/core-js/internals/set-clone.js"),b=A("./node_modules/core-js/internals/set-size.js"),I=A("./node_modules/core-js/internals/get-set-record.js"),N=A("./node_modules/core-js/internals/set-iterate.js"),S=A("./node_modules/core-js/internals/iterate-simple.js"),E=v.has,_=v.remove;u.exports=function(L){var H=m(this),D=I(L),Q=g(H);return b(H)<=D.size?N(H,function(O){D.includes(O)&&_(Q,O)}):S(D.getIterator(),function(O){E(Q,O)&&_(Q,O)}),Q}}),"./node_modules/core-js/internals/set-helpers.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js"),v=Set.prototype;u.exports={Set,add:m(v.add),has:m(v.has),remove:m(v.delete),proto:v}}),"./node_modules/core-js/internals/set-intersection.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/a-set.js"),v=A("./node_modules/core-js/internals/set-helpers.js"),g=A("./node_modules/core-js/internals/set-size.js"),b=A("./node_modules/core-js/internals/get-set-record.js"),I=A("./node_modules/core-js/internals/set-iterate.js"),N=A("./node_modules/core-js/internals/iterate-simple.js"),S=v.Set,E=v.add,_=v.has;u.exports=function(L){var H=m(this),D=b(L),Q=new S;return g(H)>D.size?N(D.getIterator(),function(O){_(H,O)&&E(Q,O)}):I(H,function(O){D.includes(O)&&E(Q,O)}),Q}}),"./node_modules/core-js/internals/set-is-disjoint-from.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/a-set.js"),v=A("./node_modules/core-js/internals/set-helpers.js").has,g=A("./node_modules/core-js/internals/set-size.js"),b=A("./node_modules/core-js/internals/get-set-record.js"),I=A("./node_modules/core-js/internals/set-iterate.js"),N=A("./node_modules/core-js/internals/iterate-simple.js"),S=A("./node_modules/core-js/internals/iterator-close.js");u.exports=function(_){var R=m(this),L=b(_);if(g(R)<=L.size)return I(R,function(D){if(L.includes(D))return!1},!0)!==!1;var H=L.getIterator();return N(H,function(D){if(v(R,D))return S(H,"normal",!1)})!==!1}}),"./node_modules/core-js/internals/set-is-subset-of.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/a-set.js"),v=A("./node_modules/core-js/internals/set-size.js"),g=A("./node_modules/core-js/internals/set-iterate.js"),b=A("./node_modules/core-js/internals/get-set-record.js");u.exports=function(N){var S=m(this),E=b(N);return v(S)>E.size?!1:g(S,function(_){if(!E.includes(_))return!1},!0)!==!1}}),"./node_modules/core-js/internals/set-is-superset-of.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/a-set.js"),v=A("./node_modules/core-js/internals/set-helpers.js").has,g=A("./node_modules/core-js/internals/set-size.js"),b=A("./node_modules/core-js/internals/get-set-record.js"),I=A("./node_modules/core-js/internals/iterate-simple.js"),N=A("./node_modules/core-js/internals/iterator-close.js");u.exports=function(E){var _=m(this),R=b(E);if(g(_)<R.size)return!1;var L=R.getIterator();return I(L,function(H){if(!v(_,H))return N(L,"normal",!1)})!==!1}}),"./node_modules/core-js/internals/set-iterate.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js"),v=A("./node_modules/core-js/internals/iterate-simple.js"),g=A("./node_modules/core-js/internals/set-helpers.js"),b=g.Set,I=g.proto,N=m(I.forEach),S=m(I.keys),E=S(new b).next;u.exports=function(_,R,L){return L?v({iterator:S(_),next:E},R):N(_,R)}}),"./node_modules/core-js/internals/set-size.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this-accessor.js"),v=A("./node_modules/core-js/internals/set-helpers.js");u.exports=m(v.proto,"size","get")||function(g){return g.size}}),"./node_modules/core-js/internals/set-species.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/get-built-in.js"),v=A("./node_modules/core-js/internals/define-built-in-accessor.js"),g=A("./node_modules/core-js/internals/well-known-symbol.js"),b=A("./node_modules/core-js/internals/descriptors.js"),I=g("species");u.exports=function(N){var S=m(N);b&&S&&!S[I]&&v(S,I,{configurable:!0,get:function(){return this}})}}),"./node_modules/core-js/internals/set-symmetric-difference.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/a-set.js"),v=A("./node_modules/core-js/internals/set-helpers.js"),g=A("./node_modules/core-js/internals/set-clone.js"),b=A("./node_modules/core-js/internals/get-set-record.js"),I=A("./node_modules/core-js/internals/iterate-simple.js"),N=v.add,S=v.has,E=v.remove;u.exports=function(R){var L=m(this),H=b(R).getIterator(),D=g(L);return I(H,function(Q){S(L,Q)?E(D,Q):N(D,Q)}),D}}),"./node_modules/core-js/internals/set-to-string-tag.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/object-define-property.js").f,v=A("./node_modules/core-js/internals/has-own-property.js"),g=A("./node_modules/core-js/internals/well-known-symbol.js"),b=g("toStringTag");u.exports=function(I,N,S){I&&!S&&(I=I.prototype),I&&!v(I,b)&&m(I,b,{configurable:!0,value:N})}}),"./node_modules/core-js/internals/set-union.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/a-set.js"),v=A("./node_modules/core-js/internals/set-helpers.js").add,g=A("./node_modules/core-js/internals/set-clone.js"),b=A("./node_modules/core-js/internals/get-set-record.js"),I=A("./node_modules/core-js/internals/iterate-simple.js");u.exports=function(S){var E=m(this),_=b(S).getIterator(),R=g(E);return I(_,function(L){v(R,L)}),R}}),"./node_modules/core-js/internals/shared-key.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/shared.js"),v=A("./node_modules/core-js/internals/uid.js"),g=m("keys");u.exports=function(b){return g[b]||(g[b]=v(b))}}),"./node_modules/core-js/internals/shared-store.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/is-pure.js"),v=A("./node_modules/core-js/internals/global-this.js"),g=A("./node_modules/core-js/internals/define-global-property.js"),b="__core-js_shared__",I=u.exports=v[b]||g(b,{});(I.versions||(I.versions=[])).push({version:"3.45.1",mode:m?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.45.1/LICENSE",source:"https://github.com/zloirock/core-js"})}),"./node_modules/core-js/internals/shared.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/shared-store.js");u.exports=function(v,g){return m[v]||(m[v]=g||{})}}),"./node_modules/core-js/internals/species-constructor.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/an-object.js"),v=A("./node_modules/core-js/internals/a-constructor.js"),g=A("./node_modules/core-js/internals/is-null-or-undefined.js"),b=A("./node_modules/core-js/internals/well-known-symbol.js"),I=b("species");u.exports=function(N,S){var E=m(N).constructor,_;return E===void 0||g(_=m(E)[I])?S:v(_)}}),"./node_modules/core-js/internals/string-html-forced.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/fails.js");u.exports=function(v){return m(function(){var g=""[v]('"');return g!==g.toLowerCase()||g.split('"').length>3})}}),"./node_modules/core-js/internals/string-multibyte.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js"),v=A("./node_modules/core-js/internals/to-integer-or-infinity.js"),g=A("./node_modules/core-js/internals/to-string.js"),b=A("./node_modules/core-js/internals/require-object-coercible.js"),I=m("".charAt),N=m("".charCodeAt),S=m("".slice),E=function(_){return function(R,L){var H=g(b(R)),D=v(L),Q=H.length,O,$;return D<0||D>=Q?_?"":void 0:(O=N(H,D),O<55296||O>56319||D+1===Q||($=N(H,D+1))<56320||$>57343?_?I(H,D):O:_?S(H,D,D+2):(O-55296<<10)+($-56320)+65536)}};u.exports={codeAt:E(!1),charAt:E(!0)}}),"./node_modules/core-js/internals/string-trim.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js"),v=A("./node_modules/core-js/internals/require-object-coercible.js"),g=A("./node_modules/core-js/internals/to-string.js"),b=A("./node_modules/core-js/internals/whitespaces.js"),I=m("".replace),N=RegExp("^["+b+"]+"),S=RegExp("(^|[^"+b+"])["+b+"]+$"),E=function(_){return function(R){var L=g(v(R));return _&1&&(L=I(L,N,"")),_&2&&(L=I(L,S,"$1")),L}};u.exports={start:E(1),end:E(2),trim:E(3)}}),"./node_modules/core-js/internals/symbol-constructor-detection.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/environment-v8-version.js"),v=A("./node_modules/core-js/internals/fails.js"),g=A("./node_modules/core-js/internals/global-this.js"),b=g.String;u.exports=!!Object.getOwnPropertySymbols&&!v(function(){var I=Symbol("symbol detection");return!b(I)||!(Object(I)instanceof Symbol)||!Symbol.sham&&m&&m<41})}),"./node_modules/core-js/internals/symbol-define-to-primitive.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-call.js"),v=A("./node_modules/core-js/internals/get-built-in.js"),g=A("./node_modules/core-js/internals/well-known-symbol.js"),b=A("./node_modules/core-js/internals/define-built-in.js");u.exports=function(){var I=v("Symbol"),N=I&&I.prototype,S=N&&N.valueOf,E=g("toPrimitive");N&&!N[E]&&b(N,E,function(_){return m(S,this)},{arity:1})}}),"./node_modules/core-js/internals/symbol-registry-detection.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/symbol-constructor-detection.js");u.exports=m&&!!Symbol.for&&!!Symbol.keyFor}),"./node_modules/core-js/internals/task.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),v=A("./node_modules/core-js/internals/function-apply.js"),g=A("./node_modules/core-js/internals/function-bind-context.js"),b=A("./node_modules/core-js/internals/is-callable.js"),I=A("./node_modules/core-js/internals/has-own-property.js"),N=A("./node_modules/core-js/internals/fails.js"),S=A("./node_modules/core-js/internals/html.js"),E=A("./node_modules/core-js/internals/array-slice.js"),_=A("./node_modules/core-js/internals/document-create-element.js"),R=A("./node_modules/core-js/internals/validate-arguments-length.js"),L=A("./node_modules/core-js/internals/environment-is-ios.js"),H=A("./node_modules/core-js/internals/environment-is-node.js"),D=m.setImmediate,Q=m.clearImmediate,O=m.process,$=m.Dispatch,P=m.Function,V=m.MessageChannel,G=m.String,ie=0,de={},X="onreadystatechange",q,Z,oe,ye;N(function(){q=m.location});var ne=function(ue){if(I(de,ue)){var ce=de[ue];delete de[ue],ce()}},M=function(ue){return function(){ne(ue)}},W=function(ue){ne(ue.data)},ae=function(ue){m.postMessage(G(ue),q.protocol+"//"+q.host)};(!D||!Q)&&(D=function(ce){R(arguments.length,1);var ge=b(ce)?ce:P(ce),Se=E(arguments,1);return de[++ie]=function(){v(ge,void 0,Se)},Z(ie),ie},Q=function(ce){delete de[ce]},H?Z=function(ue){O.nextTick(M(ue))}:$&&$.now?Z=function(ue){$.now(M(ue))}:V&&!L?(oe=new V,ye=oe.port2,oe.port1.onmessage=W,Z=g(ye.postMessage,ye)):m.addEventListener&&b(m.postMessage)&&!m.importScripts&&q&&q.protocol!=="file:"&&!N(ae)?(Z=ae,m.addEventListener("message",W,!1)):X in _("script")?Z=function(ue){S.appendChild(_("script"))[X]=function(){S.removeChild(this),ne(ue)}}:Z=function(ue){setTimeout(M(ue),0)}),u.exports={set:D,clear:Q}}),"./node_modules/core-js/internals/this-number-value.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js");u.exports=m(1.1.valueOf)}),"./node_modules/core-js/internals/to-absolute-index.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/to-integer-or-infinity.js"),v=Math.max,g=Math.min;u.exports=function(b,I){var N=m(b);return N<0?v(N+I,0):g(N,I)}}),"./node_modules/core-js/internals/to-indexed-object.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/indexed-object.js"),v=A("./node_modules/core-js/internals/require-object-coercible.js");u.exports=function(g){return m(v(g))}}),"./node_modules/core-js/internals/to-integer-or-infinity.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/math-trunc.js");u.exports=function(v){var g=+v;return g!==g||g===0?0:m(g)}}),"./node_modules/core-js/internals/to-length.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/to-integer-or-infinity.js"),v=Math.min;u.exports=function(g){var b=m(g);return b>0?v(b,9007199254740991):0}}),"./node_modules/core-js/internals/to-object.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/require-object-coercible.js"),v=Object;u.exports=function(g){return v(m(g))}}),"./node_modules/core-js/internals/to-primitive.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-call.js"),v=A("./node_modules/core-js/internals/is-object.js"),g=A("./node_modules/core-js/internals/is-symbol.js"),b=A("./node_modules/core-js/internals/get-method.js"),I=A("./node_modules/core-js/internals/ordinary-to-primitive.js"),N=A("./node_modules/core-js/internals/well-known-symbol.js"),S=TypeError,E=N("toPrimitive");u.exports=function(_,R){if(!v(_)||g(_))return _;var L=b(_,E),H;if(L){if(R===void 0&&(R="default"),H=m(L,_,R),!v(H)||g(H))return H;throw new S("Can't convert object to primitive value")}return R===void 0&&(R="number"),I(_,R)}}),"./node_modules/core-js/internals/to-property-key.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/to-primitive.js"),v=A("./node_modules/core-js/internals/is-symbol.js");u.exports=function(g){var b=m(g,"string");return v(b)?b:b+""}}),"./node_modules/core-js/internals/to-set-like.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/get-built-in.js"),v=A("./node_modules/core-js/internals/is-callable.js"),g=A("./node_modules/core-js/internals/is-iterable.js"),b=A("./node_modules/core-js/internals/is-object.js"),I=m("Set"),N=function(S){return b(S)&&typeof S.size=="number"&&v(S.has)&&v(S.keys)};u.exports=function(S){return N(S)?S:g(S)?new I(S):S}}),"./node_modules/core-js/internals/to-string-tag-support.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/well-known-symbol.js"),v=m("toStringTag"),g={};g[v]="z",u.exports=String(g)==="[object z]"}),"./node_modules/core-js/internals/to-string.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/classof.js"),v=String;u.exports=function(g){if(m(g)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return v(g)}}),"./node_modules/core-js/internals/try-to-string.js":(function(u){var f=String;u.exports=function(A){try{return f(A)}catch{return"Object"}}}),"./node_modules/core-js/internals/uid.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-uncurry-this.js"),v=0,g=Math.random(),b=m(1.1.toString);u.exports=function(I){return"Symbol("+(I===void 0?"":I)+")_"+b(++v+g,36)}}),"./node_modules/core-js/internals/use-symbol-as-uid.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/symbol-constructor-detection.js");u.exports=m&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}),"./node_modules/core-js/internals/v8-prototype-define-bug.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/descriptors.js"),v=A("./node_modules/core-js/internals/fails.js");u.exports=m&&v(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})}),"./node_modules/core-js/internals/validate-arguments-length.js":(function(u){var f=TypeError;u.exports=function(A,m){if(A<m)throw new f("Not enough arguments");return A}}),"./node_modules/core-js/internals/weak-map-basic-detection.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),v=A("./node_modules/core-js/internals/is-callable.js"),g=m.WeakMap;u.exports=v(g)&&/native code/.test(String(g))}),"./node_modules/core-js/internals/well-known-symbol-define.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/path.js"),v=A("./node_modules/core-js/internals/has-own-property.js"),g=A("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),b=A("./node_modules/core-js/internals/object-define-property.js").f;u.exports=function(I){var N=m.Symbol||(m.Symbol={});v(N,I)||b(N,I,{value:g.f(I)})}}),"./node_modules/core-js/internals/well-known-symbol-wrapped.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/well-known-symbol.js");f.f=m}),"./node_modules/core-js/internals/well-known-symbol.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),v=A("./node_modules/core-js/internals/shared.js"),g=A("./node_modules/core-js/internals/has-own-property.js"),b=A("./node_modules/core-js/internals/uid.js"),I=A("./node_modules/core-js/internals/symbol-constructor-detection.js"),N=A("./node_modules/core-js/internals/use-symbol-as-uid.js"),S=m.Symbol,E=v("wks"),_=N?S.for||S:S&&S.withoutSetter||b;u.exports=function(R){return g(E,R)||(E[R]=I&&g(S,R)?S[R]:_("Symbol."+R)),E[R]}}),"./node_modules/core-js/internals/whitespaces.js":(function(u){u.exports=`	
\v\f\r \u2028\u2029\uFEFF`}),"./node_modules/core-js/modules/es.array.concat.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/fails.js"),g=A("./node_modules/core-js/internals/is-array.js"),b=A("./node_modules/core-js/internals/is-object.js"),I=A("./node_modules/core-js/internals/to-object.js"),N=A("./node_modules/core-js/internals/length-of-array-like.js"),S=A("./node_modules/core-js/internals/does-not-exceed-safe-integer.js"),E=A("./node_modules/core-js/internals/create-property.js"),_=A("./node_modules/core-js/internals/array-species-create.js"),R=A("./node_modules/core-js/internals/array-method-has-species-support.js"),L=A("./node_modules/core-js/internals/well-known-symbol.js"),H=A("./node_modules/core-js/internals/environment-v8-version.js"),D=L("isConcatSpreadable"),Q=H>=51||!v(function(){var P=[];return P[D]=!1,P.concat()[0]!==P}),O=function(P){if(!b(P))return!1;var V=P[D];return V!==void 0?!!V:g(P)},$=!Q||!R("concat");m({target:"Array",proto:!0,arity:1,forced:$},{concat:function(V){var G=I(this),ie=_(G,0),de=0,X,q,Z,oe,ye;for(X=-1,Z=arguments.length;X<Z;X++)if(ye=X===-1?G:arguments[X],O(ye))for(oe=N(ye),S(de+oe),q=0;q<oe;q++,de++)q in ye&&E(ie,de,ye[q]);else S(de+1),E(ie,de++,ye);return ie.length=de,ie}})}),"./node_modules/core-js/modules/es.array.from.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/array-from.js"),g=A("./node_modules/core-js/internals/check-correctness-of-iteration.js"),b=!g(function(I){Array.from(I)});m({target:"Array",stat:!0,forced:b},{from:v})}),"./node_modules/core-js/modules/es.array.iterator.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/to-indexed-object.js"),v=A("./node_modules/core-js/internals/add-to-unscopables.js"),g=A("./node_modules/core-js/internals/iterators.js"),b=A("./node_modules/core-js/internals/internal-state.js"),I=A("./node_modules/core-js/internals/object-define-property.js").f,N=A("./node_modules/core-js/internals/iterator-define.js"),S=A("./node_modules/core-js/internals/create-iter-result-object.js"),E=A("./node_modules/core-js/internals/is-pure.js"),_=A("./node_modules/core-js/internals/descriptors.js"),R="Array Iterator",L=b.set,H=b.getterFor(R);u.exports=N(Array,"Array",function(Q,O){L(this,{type:R,target:m(Q),index:0,kind:O})},function(){var Q=H(this),O=Q.target,$=Q.index++;if(!O||$>=O.length)return Q.target=null,S(void 0,!0);switch(Q.kind){case"keys":return S($,!1);case"values":return S(O[$],!1)}return S([$,O[$]],!1)},"values");var D=g.Arguments=g.Array;if(v("keys"),v("values"),v("entries"),!E&&_&&D.name!=="values")try{I(D,"name",{value:"values"})}catch{}}),"./node_modules/core-js/modules/es.array.join.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/function-uncurry-this.js"),g=A("./node_modules/core-js/internals/indexed-object.js"),b=A("./node_modules/core-js/internals/to-indexed-object.js"),I=A("./node_modules/core-js/internals/array-method-is-strict.js"),N=v([].join),S=g!==Object,E=S||!I("join",",");m({target:"Array",proto:!0,forced:E},{join:function(R){return N(b(this),R===void 0?",":R)}})}),"./node_modules/core-js/modules/es.array.map.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/array-iteration.js").map,g=A("./node_modules/core-js/internals/array-method-has-species-support.js"),b=g("map");m({target:"Array",proto:!0,forced:!b},{map:function(N){return v(this,N,arguments.length>1?arguments[1]:void 0)}})}),"./node_modules/core-js/modules/es.array.slice.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/is-array.js"),g=A("./node_modules/core-js/internals/is-constructor.js"),b=A("./node_modules/core-js/internals/is-object.js"),I=A("./node_modules/core-js/internals/to-absolute-index.js"),N=A("./node_modules/core-js/internals/length-of-array-like.js"),S=A("./node_modules/core-js/internals/to-indexed-object.js"),E=A("./node_modules/core-js/internals/create-property.js"),_=A("./node_modules/core-js/internals/well-known-symbol.js"),R=A("./node_modules/core-js/internals/array-method-has-species-support.js"),L=A("./node_modules/core-js/internals/array-slice.js"),H=R("slice"),D=_("species"),Q=Array,O=Math.max;m({target:"Array",proto:!0,forced:!H},{slice:function(P,V){var G=S(this),ie=N(G),de=I(P,ie),X=I(V===void 0?ie:V,ie),q,Z,oe;if(v(G)&&(q=G.constructor,g(q)&&(q===Q||v(q.prototype))?q=void 0:b(q)&&(q=q[D],q===null&&(q=void 0)),q===Q||q===void 0))return L(G,de,X);for(Z=new(q===void 0?Q:q)(O(X-de,0)),oe=0;de<X;de++,oe++)de in G&&E(Z,oe,G[de]);return Z.length=oe,Z}})}),"./node_modules/core-js/modules/es.function.name.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/descriptors.js"),v=A("./node_modules/core-js/internals/function-name.js").EXISTS,g=A("./node_modules/core-js/internals/function-uncurry-this.js"),b=A("./node_modules/core-js/internals/define-built-in-accessor.js"),I=Function.prototype,N=g(I.toString),S=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,E=g(S.exec),_="name";m&&!v&&b(I,_,{configurable:!0,get:function(){try{return E(S,N(this))[1]}catch{return""}}})}),"./node_modules/core-js/modules/es.iterator.constructor.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/global-this.js"),g=A("./node_modules/core-js/internals/an-instance.js"),b=A("./node_modules/core-js/internals/an-object.js"),I=A("./node_modules/core-js/internals/is-callable.js"),N=A("./node_modules/core-js/internals/object-get-prototype-of.js"),S=A("./node_modules/core-js/internals/define-built-in-accessor.js"),E=A("./node_modules/core-js/internals/create-property.js"),_=A("./node_modules/core-js/internals/fails.js"),R=A("./node_modules/core-js/internals/has-own-property.js"),L=A("./node_modules/core-js/internals/well-known-symbol.js"),H=A("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,D=A("./node_modules/core-js/internals/descriptors.js"),Q=A("./node_modules/core-js/internals/is-pure.js"),O="constructor",$="Iterator",P=L("toStringTag"),V=TypeError,G=v[$],ie=Q||!I(G)||G.prototype!==H||!_(function(){G({})}),de=function(){if(g(this,H),N(this)===H)throw new V("Abstract class Iterator not directly constructable")},X=function(q,Z){D?S(H,q,{configurable:!0,get:function(){return Z},set:function(oe){if(b(this),this===H)throw new V("You can't redefine this property");R(this,q)?this[q]=oe:E(this,q,oe)}}):H[q]=Z};R(H,P)||X(P,$),(ie||!R(H,O)||H[O]===Object)&&X(O,de),de.prototype=H,m({global:!0,constructor:!0,forced:ie},{Iterator:de})}),"./node_modules/core-js/modules/es.iterator.for-each.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/iterate.js"),b=A("./node_modules/core-js/internals/a-callable.js"),I=A("./node_modules/core-js/internals/an-object.js"),N=A("./node_modules/core-js/internals/get-iterator-direct.js"),S=A("./node_modules/core-js/internals/iterator-close.js"),E=A("./node_modules/core-js/internals/iterator-helper-without-closing-on-early-error.js"),_=E("forEach",TypeError);m({target:"Iterator",proto:!0,real:!0,forced:_},{forEach:function(L){I(this);try{b(L)}catch(Q){S(this,"throw",Q)}if(_)return v(_,this,L);var H=N(this),D=0;g(H,function(Q){L(Q,D++)},{IS_RECORD:!0})}})}),"./node_modules/core-js/modules/es.iterator.map.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/a-callable.js"),b=A("./node_modules/core-js/internals/an-object.js"),I=A("./node_modules/core-js/internals/get-iterator-direct.js"),N=A("./node_modules/core-js/internals/iterator-create-proxy.js"),S=A("./node_modules/core-js/internals/call-with-safe-iteration-closing.js"),E=A("./node_modules/core-js/internals/iterator-close.js"),_=A("./node_modules/core-js/internals/iterator-helper-throws-on-invalid-iterator.js"),R=A("./node_modules/core-js/internals/iterator-helper-without-closing-on-early-error.js"),L=A("./node_modules/core-js/internals/is-pure.js"),H=!L&&!_("map",function(){}),D=!L&&!H&&R("map",TypeError),Q=L||H||D,O=N(function(){var $=this.iterator,P=b(v(this.next,$)),V=this.done=!!P.done;if(!V)return S($,this.mapper,[P.value,this.counter++],!0)});m({target:"Iterator",proto:!0,real:!0,forced:Q},{map:function(P){b(this);try{g(P)}catch(V){E(this,"throw",V)}return D?v(D,this,P):new O(I(this),{mapper:P})}})}),"./node_modules/core-js/modules/es.json.stringify.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/get-built-in.js"),g=A("./node_modules/core-js/internals/function-apply.js"),b=A("./node_modules/core-js/internals/function-call.js"),I=A("./node_modules/core-js/internals/function-uncurry-this.js"),N=A("./node_modules/core-js/internals/fails.js"),S=A("./node_modules/core-js/internals/is-callable.js"),E=A("./node_modules/core-js/internals/is-symbol.js"),_=A("./node_modules/core-js/internals/array-slice.js"),R=A("./node_modules/core-js/internals/get-json-replacer-function.js"),L=A("./node_modules/core-js/internals/symbol-constructor-detection.js"),H=String,D=v("JSON","stringify"),Q=I(/./.exec),O=I("".charAt),$=I("".charCodeAt),P=I("".replace),V=I(1.1.toString),G=/[\uD800-\uDFFF]/g,ie=/^[\uD800-\uDBFF]$/,de=/^[\uDC00-\uDFFF]$/,X=!L||N(function(){var ye=v("Symbol")("stringify detection");return D([ye])!=="[null]"||D({a:ye})!=="{}"||D(Object(ye))!=="{}"}),q=N(function(){return D("\uDF06\uD834")!=='"\\udf06\\ud834"'||D("\uDEAD")!=='"\\udead"'}),Z=function(ye,ne){var M=_(arguments),W=R(ne);if(!(!S(W)&&(ye===void 0||E(ye))))return M[1]=function(ae,ue){if(S(W)&&(ue=b(W,this,H(ae),ue)),!E(ue))return ue},g(D,null,M)},oe=function(ye,ne,M){var W=O(M,ne-1),ae=O(M,ne+1);return Q(ie,ye)&&!Q(de,ae)||Q(de,ye)&&!Q(ie,W)?"\\u"+V($(ye,0),16):ye};D&&m({target:"JSON",stat:!0,arity:3,forced:X||q},{stringify:function(ne,M,W){var ae=_(arguments),ue=g(X?Z:D,null,ae);return q&&typeof ue=="string"?P(ue,G,oe):ue}})}),"./node_modules/core-js/modules/es.number.constructor.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/is-pure.js"),g=A("./node_modules/core-js/internals/descriptors.js"),b=A("./node_modules/core-js/internals/global-this.js"),I=A("./node_modules/core-js/internals/path.js"),N=A("./node_modules/core-js/internals/function-uncurry-this.js"),S=A("./node_modules/core-js/internals/is-forced.js"),E=A("./node_modules/core-js/internals/has-own-property.js"),_=A("./node_modules/core-js/internals/inherit-if-required.js"),R=A("./node_modules/core-js/internals/object-is-prototype-of.js"),L=A("./node_modules/core-js/internals/is-symbol.js"),H=A("./node_modules/core-js/internals/to-primitive.js"),D=A("./node_modules/core-js/internals/fails.js"),Q=A("./node_modules/core-js/internals/object-get-own-property-names.js").f,O=A("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,$=A("./node_modules/core-js/internals/object-define-property.js").f,P=A("./node_modules/core-js/internals/this-number-value.js"),V=A("./node_modules/core-js/internals/string-trim.js").trim,G="Number",ie=b[G],de=I[G],X=ie.prototype,q=b.TypeError,Z=N("".slice),oe=N("".charCodeAt),ye=function(ce){var ge=H(ce,"number");return typeof ge=="bigint"?ge:ne(ge)},ne=function(ce){var ge=H(ce,"number"),Se,xe,Ie,Ue,Pe,rt,Le,me;if(L(ge))throw new q("Cannot convert a Symbol value to a number");if(typeof ge=="string"&&ge.length>2){if(ge=V(ge),Se=oe(ge,0),Se===43||Se===45){if(xe=oe(ge,2),xe===88||xe===120)return NaN}else if(Se===48){switch(oe(ge,1)){case 66:case 98:Ie=2,Ue=49;break;case 79:case 111:Ie=8,Ue=55;break;default:return+ge}for(Pe=Z(ge,2),rt=Pe.length,Le=0;Le<rt;Le++)if(me=oe(Pe,Le),me<48||me>Ue)return NaN;return parseInt(Pe,Ie)}}return+ge},M=S(G,!ie(" 0o1")||!ie("0b1")||ie("+0x1")),W=function(ce){return R(X,ce)&&D(function(){P(ce)})},ae=function(ge){var Se=arguments.length<1?0:ie(ye(ge));return W(this)?_(Object(Se),this,ae):Se};ae.prototype=X,M&&!v&&(X.constructor=ae),m({global:!0,constructor:!0,wrap:!0,forced:M},{Number:ae});var ue=function(ce,ge){for(var Se=g?Q(ge):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),xe=0,Ie;Se.length>xe;xe++)E(ge,Ie=Se[xe])&&!E(ce,Ie)&&$(ce,Ie,O(ge,Ie))};v&&de&&ue(I[G],de),(M||v)&&ue(I[G],ie)}),"./node_modules/core-js/modules/es.object.assign.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/object-assign.js");m({target:"Object",stat:!0,arity:2,forced:Object.assign!==v},{assign:v})}),"./node_modules/core-js/modules/es.object.get-own-property-symbols.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/symbol-constructor-detection.js"),g=A("./node_modules/core-js/internals/fails.js"),b=A("./node_modules/core-js/internals/object-get-own-property-symbols.js"),I=A("./node_modules/core-js/internals/to-object.js"),N=!v||g(function(){b.f(1)});m({target:"Object",stat:!0,forced:N},{getOwnPropertySymbols:function(E){var _=b.f;return _?_(I(E)):[]}})}),"./node_modules/core-js/modules/es.object.keys.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/to-object.js"),g=A("./node_modules/core-js/internals/object-keys.js"),b=A("./node_modules/core-js/internals/fails.js"),I=b(function(){g(1)});m({target:"Object",stat:!0,forced:I},{keys:function(S){return g(v(S))}})}),"./node_modules/core-js/modules/es.object.to-string.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/to-string-tag-support.js"),v=A("./node_modules/core-js/internals/define-built-in.js"),g=A("./node_modules/core-js/internals/object-to-string.js");m||v(Object.prototype,"toString",g,{unsafe:!0})}),"./node_modules/core-js/modules/es.promise.all.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/a-callable.js"),b=A("./node_modules/core-js/internals/new-promise-capability.js"),I=A("./node_modules/core-js/internals/perform.js"),N=A("./node_modules/core-js/internals/iterate.js"),S=A("./node_modules/core-js/internals/promise-statics-incorrect-iteration.js");m({target:"Promise",stat:!0,forced:S},{all:function(_){var R=this,L=b.f(R),H=L.resolve,D=L.reject,Q=I(function(){var O=g(R.resolve),$=[],P=0,V=1;N(_,function(G){var ie=P++,de=!1;V++,v(O,R,G).then(function(X){de||(de=!0,$[ie]=X,--V||H($))},D)}),--V||H($)});return Q.error&&D(Q.value),L.promise}})}),"./node_modules/core-js/modules/es.promise.catch.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/is-pure.js"),g=A("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR,b=A("./node_modules/core-js/internals/promise-native-constructor.js"),I=A("./node_modules/core-js/internals/get-built-in.js"),N=A("./node_modules/core-js/internals/is-callable.js"),S=A("./node_modules/core-js/internals/define-built-in.js"),E=b&&b.prototype;if(m({target:"Promise",proto:!0,forced:g,real:!0},{catch:function(R){return this.then(void 0,R)}}),!v&&N(b)){var _=I("Promise").prototype.catch;E.catch!==_&&S(E,"catch",_,{unsafe:!0})}}),"./node_modules/core-js/modules/es.promise.constructor.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/is-pure.js"),g=A("./node_modules/core-js/internals/environment-is-node.js"),b=A("./node_modules/core-js/internals/global-this.js"),I=A("./node_modules/core-js/internals/path.js"),N=A("./node_modules/core-js/internals/function-call.js"),S=A("./node_modules/core-js/internals/define-built-in.js"),E=A("./node_modules/core-js/internals/object-set-prototype-of.js"),_=A("./node_modules/core-js/internals/set-to-string-tag.js"),R=A("./node_modules/core-js/internals/set-species.js"),L=A("./node_modules/core-js/internals/a-callable.js"),H=A("./node_modules/core-js/internals/is-callable.js"),D=A("./node_modules/core-js/internals/is-object.js"),Q=A("./node_modules/core-js/internals/an-instance.js"),O=A("./node_modules/core-js/internals/species-constructor.js"),$=A("./node_modules/core-js/internals/task.js").set,P=A("./node_modules/core-js/internals/microtask.js"),V=A("./node_modules/core-js/internals/host-report-errors.js"),G=A("./node_modules/core-js/internals/perform.js"),ie=A("./node_modules/core-js/internals/queue.js"),de=A("./node_modules/core-js/internals/internal-state.js"),X=A("./node_modules/core-js/internals/promise-native-constructor.js"),q=A("./node_modules/core-js/internals/promise-constructor-detection.js"),Z=A("./node_modules/core-js/internals/new-promise-capability.js"),oe="Promise",ye=q.CONSTRUCTOR,ne=q.REJECTION_EVENT,M=q.SUBCLASSING,W=de.getterFor(oe),ae=de.set,ue=X&&X.prototype,ce=X,ge=ue,Se=b.TypeError,xe=b.document,Ie=b.process,Ue=Z.f,Pe=Ue,rt=!!(xe&&xe.createEvent&&b.dispatchEvent),Le="unhandledrejection",me="rejectionhandled",Ze=0,pt=1,dt=2,Je=1,Ut=2,Rt,zt,$t,Jt,sn=function(Ve){var lt;return D(Ve)&&H(lt=Ve.then)?lt:!1},Ge=function(Ve,lt){var At=lt.value,Qt=lt.state===pt,St=Qt?Ve.ok:Ve.fail,Vt=Ve.resolve,en=Ve.reject,jt=Ve.domain,ct,Dt,Yt;try{St?(Qt||(lt.rejection===Ut&&_t(lt),lt.rejection=Je),St===!0?ct=At:(jt&&jt.enter(),ct=St(At),jt&&(jt.exit(),Yt=!0)),ct===Ve.promise?en(new Se("Promise-chain cycle")):(Dt=sn(ct))?N(Dt,ct,Vt,en):Vt(ct)):en(At)}catch(rn){jt&&!Yt&&jt.exit(),en(rn)}},Ht=function(Ve,lt){Ve.notified||(Ve.notified=!0,P(function(){for(var At=Ve.reactions,Qt;Qt=At.get();)Ge(Qt,Ve);Ve.notified=!1,lt&&!Ve.rejection&&Ot(Ve)}))},kt=function(Ve,lt,At){var Qt,St;rt?(Qt=xe.createEvent("Event"),Qt.promise=lt,Qt.reason=At,Qt.initEvent(Ve,!1,!0),b.dispatchEvent(Qt)):Qt={promise:lt,reason:At},!ne&&(St=b["on"+Ve])?St(Qt):Ve===Le&&V("Unhandled promise rejection",At)},Ot=function(Ve){N($,b,function(){var lt=Ve.facade,At=Ve.value,Qt=gt(Ve),St;if(Qt&&(St=G(function(){g?Ie.emit("unhandledRejection",At,lt):kt(Le,lt,At)}),Ve.rejection=g||gt(Ve)?Ut:Je,St.error))throw St.value})},gt=function(Ve){return Ve.rejection!==Je&&!Ve.parent},_t=function(Ve){N($,b,function(){var lt=Ve.facade;g?Ie.emit("rejectionHandled",lt):kt(me,lt,Ve.value)})},Un=function(Ve,lt,At){return function(Qt){Ve(lt,Qt,At)}},Me=function(Ve,lt,At){Ve.done||(Ve.done=!0,At&&(Ve=At),Ve.value=lt,Ve.state=dt,Ht(Ve,!0))},ht=function(Ve,lt,At){if(!Ve.done){Ve.done=!0,At&&(Ve=At);try{if(Ve.facade===lt)throw new Se("Promise can't be resolved itself");var Qt=sn(lt);Qt?P(function(){var St={done:!1};try{N(Qt,lt,Un(ht,St,Ve),Un(Me,St,Ve))}catch(Vt){Me(St,Vt,Ve)}}):(Ve.value=lt,Ve.state=pt,Ht(Ve,!1))}catch(St){Me({done:!1},St,Ve)}}};if(ye&&(ce=function(lt){Q(this,ge),L(lt),N(Rt,this);var At=W(this);try{lt(Un(ht,At),Un(Me,At))}catch(Qt){Me(At,Qt)}},ge=ce.prototype,Rt=function(lt){ae(this,{type:oe,done:!1,notified:!1,parent:!1,reactions:new ie,rejection:!1,state:Ze,value:null})},Rt.prototype=S(ge,"then",function(lt,At){var Qt=W(this),St=Ue(O(this,ce));return Qt.parent=!0,St.ok=H(lt)?lt:!0,St.fail=H(At)&&At,St.domain=g?Ie.domain:void 0,Qt.state===Ze?Qt.reactions.add(St):P(function(){Ge(St,Qt)}),St.promise}),zt=function(){var Ve=new Rt,lt=W(Ve);this.promise=Ve,this.resolve=Un(ht,lt),this.reject=Un(Me,lt)},Z.f=Ue=function(Ve){return Ve===ce||Ve===$t?new zt(Ve):Pe(Ve)},!v&&H(X)&&ue!==Object.prototype)){Jt=ue.then,M||S(ue,"then",function(lt,At){var Qt=this;return new ce(function(St,Vt){N(Jt,Qt,St,Vt)}).then(lt,At)},{unsafe:!0});try{delete ue.constructor}catch{}E&&E(ue,ge)}m({global:!0,constructor:!0,wrap:!0,forced:ye},{Promise:ce}),$t=I.Promise,_(ce,oe,!1,!0),R(oe)}),"./node_modules/core-js/modules/es.promise.js":(function(u,f,A){A("./node_modules/core-js/modules/es.promise.constructor.js"),A("./node_modules/core-js/modules/es.promise.all.js"),A("./node_modules/core-js/modules/es.promise.catch.js"),A("./node_modules/core-js/modules/es.promise.race.js"),A("./node_modules/core-js/modules/es.promise.reject.js"),A("./node_modules/core-js/modules/es.promise.resolve.js")}),"./node_modules/core-js/modules/es.promise.race.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/a-callable.js"),b=A("./node_modules/core-js/internals/new-promise-capability.js"),I=A("./node_modules/core-js/internals/perform.js"),N=A("./node_modules/core-js/internals/iterate.js"),S=A("./node_modules/core-js/internals/promise-statics-incorrect-iteration.js");m({target:"Promise",stat:!0,forced:S},{race:function(_){var R=this,L=b.f(R),H=L.reject,D=I(function(){var Q=g(R.resolve);N(_,function(O){v(Q,R,O).then(L.resolve,H)})});return D.error&&H(D.value),L.promise}})}),"./node_modules/core-js/modules/es.promise.reject.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/new-promise-capability.js"),g=A("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR;m({target:"Promise",stat:!0,forced:g},{reject:function(I){var N=v.f(this),S=N.reject;return S(I),N.promise}})}),"./node_modules/core-js/modules/es.promise.resolve.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/get-built-in.js"),g=A("./node_modules/core-js/internals/is-pure.js"),b=A("./node_modules/core-js/internals/promise-native-constructor.js"),I=A("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR,N=A("./node_modules/core-js/internals/promise-resolve.js"),S=v("Promise"),E=g&&!I;m({target:"Promise",stat:!0,forced:g||I},{resolve:function(R){return N(E&&this===S?b:this,R)}})}),"./node_modules/core-js/modules/es.regexp.exec.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/regexp-exec.js");m({target:"RegExp",proto:!0,forced:/./.exec!==v},{exec:v})}),"./node_modules/core-js/modules/es.regexp.test.js":(function(u,f,A){A("./node_modules/core-js/modules/es.regexp.exec.js");var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/is-callable.js"),b=A("./node_modules/core-js/internals/an-object.js"),I=A("./node_modules/core-js/internals/to-string.js"),N=(function(){var E=!1,_=/[ac]/;return _.exec=function(){return E=!0,/./.exec.apply(this,arguments)},_.test("abc")===!0&&E})(),S=/./.test;m({target:"RegExp",proto:!0,forced:!N},{test:function(E){var _=b(this),R=I(E),L=_.exec;if(!g(L))return v(S,_,R);var H=v(L,_,R);return H===null?!1:(b(H),!0)}})}),"./node_modules/core-js/modules/es.regexp.to-string.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/function-name.js").PROPER,v=A("./node_modules/core-js/internals/define-built-in.js"),g=A("./node_modules/core-js/internals/an-object.js"),b=A("./node_modules/core-js/internals/to-string.js"),I=A("./node_modules/core-js/internals/fails.js"),N=A("./node_modules/core-js/internals/regexp-get-flags.js"),S="toString",E=RegExp.prototype,_=E[S],R=I(function(){return _.call({source:"a",flags:"b"})!=="/a/b"}),L=m&&_.name!==S;(R||L)&&v(E,S,function(){var D=g(this),Q=b(D.source),O=b(N(D));return"/"+Q+"/"+O},{unsafe:!0})}),"./node_modules/core-js/modules/es.set.constructor.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/collection.js"),v=A("./node_modules/core-js/internals/collection-strong.js");m("Set",function(g){return function(){return g(this,arguments.length?arguments[0]:void 0)}},v)}),"./node_modules/core-js/modules/es.set.js":(function(u,f,A){A("./node_modules/core-js/modules/es.set.constructor.js")}),"./node_modules/core-js/modules/es.string.iterator.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/string-multibyte.js").charAt,v=A("./node_modules/core-js/internals/to-string.js"),g=A("./node_modules/core-js/internals/internal-state.js"),b=A("./node_modules/core-js/internals/iterator-define.js"),I=A("./node_modules/core-js/internals/create-iter-result-object.js"),N="String Iterator",S=g.set,E=g.getterFor(N);b(String,"String",function(_){S(this,{type:N,string:v(_),index:0})},function(){var R=E(this),L=R.string,H=R.index,D;return H>=L.length?I(void 0,!0):(D=m(L,H),R.index+=D.length,I(D,!1))})}),"./node_modules/core-js/modules/es.string.link.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/create-html.js"),g=A("./node_modules/core-js/internals/string-html-forced.js");m({target:"String",proto:!0,forced:g("link")},{link:function(I){return v(this,"a","href",I)}})}),"./node_modules/core-js/modules/es.symbol.constructor.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/global-this.js"),g=A("./node_modules/core-js/internals/function-call.js"),b=A("./node_modules/core-js/internals/function-uncurry-this.js"),I=A("./node_modules/core-js/internals/is-pure.js"),N=A("./node_modules/core-js/internals/descriptors.js"),S=A("./node_modules/core-js/internals/symbol-constructor-detection.js"),E=A("./node_modules/core-js/internals/fails.js"),_=A("./node_modules/core-js/internals/has-own-property.js"),R=A("./node_modules/core-js/internals/object-is-prototype-of.js"),L=A("./node_modules/core-js/internals/an-object.js"),H=A("./node_modules/core-js/internals/to-indexed-object.js"),D=A("./node_modules/core-js/internals/to-property-key.js"),Q=A("./node_modules/core-js/internals/to-string.js"),O=A("./node_modules/core-js/internals/create-property-descriptor.js"),$=A("./node_modules/core-js/internals/object-create.js"),P=A("./node_modules/core-js/internals/object-keys.js"),V=A("./node_modules/core-js/internals/object-get-own-property-names.js"),G=A("./node_modules/core-js/internals/object-get-own-property-names-external.js"),ie=A("./node_modules/core-js/internals/object-get-own-property-symbols.js"),de=A("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),X=A("./node_modules/core-js/internals/object-define-property.js"),q=A("./node_modules/core-js/internals/object-define-properties.js"),Z=A("./node_modules/core-js/internals/object-property-is-enumerable.js"),oe=A("./node_modules/core-js/internals/define-built-in.js"),ye=A("./node_modules/core-js/internals/define-built-in-accessor.js"),ne=A("./node_modules/core-js/internals/shared.js"),M=A("./node_modules/core-js/internals/shared-key.js"),W=A("./node_modules/core-js/internals/hidden-keys.js"),ae=A("./node_modules/core-js/internals/uid.js"),ue=A("./node_modules/core-js/internals/well-known-symbol.js"),ce=A("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),ge=A("./node_modules/core-js/internals/well-known-symbol-define.js"),Se=A("./node_modules/core-js/internals/symbol-define-to-primitive.js"),xe=A("./node_modules/core-js/internals/set-to-string-tag.js"),Ie=A("./node_modules/core-js/internals/internal-state.js"),Ue=A("./node_modules/core-js/internals/array-iteration.js").forEach,Pe=M("hidden"),rt="Symbol",Le="prototype",me=Ie.set,Ze=Ie.getterFor(rt),pt=Object[Le],dt=v.Symbol,Je=dt&&dt[Le],Ut=v.RangeError,Rt=v.TypeError,zt=v.QObject,$t=de.f,Jt=X.f,sn=G.f,Ge=Z.f,Ht=b([].push),kt=ne("symbols"),Ot=ne("op-symbols"),gt=ne("wks"),_t=!zt||!zt[Le]||!zt[Le].findChild,Un=function(jt,ct,Dt){var Yt=$t(pt,ct);Yt&&delete pt[ct],Jt(jt,ct,Dt),Yt&&jt!==pt&&Jt(pt,ct,Yt)},Me=N&&E(function(){return $(Jt({},"a",{get:function(){return Jt(this,"a",{value:7}).a}})).a!==7})?Un:Jt,ht=function(jt,ct){var Dt=kt[jt]=$(Je);return me(Dt,{type:rt,tag:jt,description:ct}),N||(Dt.description=ct),Dt},Ve=function(ct,Dt,Yt){ct===pt&&Ve(Ot,Dt,Yt),L(ct);var rn=D(Dt);return L(Yt),_(kt,rn)?(Yt.enumerable?(_(ct,Pe)&&ct[Pe][rn]&&(ct[Pe][rn]=!1),Yt=$(Yt,{enumerable:O(0,!1)})):(_(ct,Pe)||Jt(ct,Pe,O(1,$(null))),ct[Pe][rn]=!0),Me(ct,rn,Yt)):Jt(ct,rn,Yt)},lt=function(ct,Dt){L(ct);var Yt=H(Dt),rn=P(Yt).concat(en(Yt));return Ue(rn,function(ts){(!N||g(Qt,Yt,ts))&&Ve(ct,ts,Yt[ts])}),ct},At=function(ct,Dt){return Dt===void 0?$(ct):lt($(ct),Dt)},Qt=function(ct){var Dt=D(ct),Yt=g(Ge,this,Dt);return this===pt&&_(kt,Dt)&&!_(Ot,Dt)?!1:Yt||!_(this,Dt)||!_(kt,Dt)||_(this,Pe)&&this[Pe][Dt]?Yt:!0},St=function(ct,Dt){var Yt=H(ct),rn=D(Dt);if(!(Yt===pt&&_(kt,rn)&&!_(Ot,rn))){var ts=$t(Yt,rn);return ts&&_(kt,rn)&&!(_(Yt,Pe)&&Yt[Pe][rn])&&(ts.enumerable=!0),ts}},Vt=function(ct){var Dt=sn(H(ct)),Yt=[];return Ue(Dt,function(rn){!_(kt,rn)&&!_(W,rn)&&Ht(Yt,rn)}),Yt},en=function(jt){var ct=jt===pt,Dt=sn(ct?Ot:H(jt)),Yt=[];return Ue(Dt,function(rn){_(kt,rn)&&(!ct||_(pt,rn))&&Ht(Yt,kt[rn])}),Yt};S||(dt=function(){if(R(Je,this))throw new Rt("Symbol is not a constructor");var ct=!arguments.length||arguments[0]===void 0?void 0:Q(arguments[0]),Dt=ae(ct),Yt=function(rn){var ts=this===void 0?v:this;ts===pt&&g(Yt,Ot,rn),_(ts,Pe)&&_(ts[Pe],Dt)&&(ts[Pe][Dt]=!1);var Ms=O(1,rn);try{Me(ts,Dt,Ms)}catch(ln){if(!(ln instanceof Ut))throw ln;Un(ts,Dt,Ms)}};return N&&_t&&Me(pt,Dt,{configurable:!0,set:Yt}),ht(Dt,ct)},Je=dt[Le],oe(Je,"toString",function(){return Ze(this).tag}),oe(dt,"withoutSetter",function(jt){return ht(ae(jt),jt)}),Z.f=Qt,X.f=Ve,q.f=lt,de.f=St,V.f=G.f=Vt,ie.f=en,ce.f=function(jt){return ht(ue(jt),jt)},N&&(ye(Je,"description",{configurable:!0,get:function(){return Ze(this).description}}),I||oe(pt,"propertyIsEnumerable",Qt,{unsafe:!0}))),m({global:!0,constructor:!0,wrap:!0,forced:!S,sham:!S},{Symbol:dt}),Ue(P(gt),function(jt){ge(jt)}),m({target:rt,stat:!0,forced:!S},{useSetter:function(){_t=!0},useSimple:function(){_t=!1}}),m({target:"Object",stat:!0,forced:!S,sham:!N},{create:At,defineProperty:Ve,defineProperties:lt,getOwnPropertyDescriptor:St}),m({target:"Object",stat:!0,forced:!S},{getOwnPropertyNames:Vt}),Se(),xe(dt,rt),W[Pe]=!0}),"./node_modules/core-js/modules/es.symbol.description.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/descriptors.js"),g=A("./node_modules/core-js/internals/global-this.js"),b=A("./node_modules/core-js/internals/function-uncurry-this.js"),I=A("./node_modules/core-js/internals/has-own-property.js"),N=A("./node_modules/core-js/internals/is-callable.js"),S=A("./node_modules/core-js/internals/object-is-prototype-of.js"),E=A("./node_modules/core-js/internals/to-string.js"),_=A("./node_modules/core-js/internals/define-built-in-accessor.js"),R=A("./node_modules/core-js/internals/copy-constructor-properties.js"),L=g.Symbol,H=L&&L.prototype;if(v&&N(L)&&(!("description"in H)||L().description!==void 0)){var D={},Q=function(){var X=arguments.length<1||arguments[0]===void 0?void 0:E(arguments[0]),q=S(H,this)?new L(X):X===void 0?L():L(X);return X===""&&(D[q]=!0),q};R(Q,L),Q.prototype=H,H.constructor=Q;var O=String(L("description detection"))==="Symbol(description detection)",$=b(H.valueOf),P=b(H.toString),V=/^Symbol\((.*)\)[^)]+$/,G=b("".replace),ie=b("".slice);_(H,"description",{configurable:!0,get:function(){var X=$(this);if(I(D,X))return"";var q=P(X),Z=O?ie(q,7,-1):G(q,V,"$1");return Z===""?void 0:Z}}),m({global:!0,constructor:!0,forced:!0},{Symbol:Q})}}),"./node_modules/core-js/modules/es.symbol.for.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/get-built-in.js"),g=A("./node_modules/core-js/internals/has-own-property.js"),b=A("./node_modules/core-js/internals/to-string.js"),I=A("./node_modules/core-js/internals/shared.js"),N=A("./node_modules/core-js/internals/symbol-registry-detection.js"),S=I("string-to-symbol-registry"),E=I("symbol-to-string-registry");m({target:"Symbol",stat:!0,forced:!N},{for:function(_){var R=b(_);if(g(S,R))return S[R];var L=v("Symbol")(R);return S[R]=L,E[L]=R,L}})}),"./node_modules/core-js/modules/es.symbol.iterator.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/well-known-symbol-define.js");m("iterator")}),"./node_modules/core-js/modules/es.symbol.js":(function(u,f,A){A("./node_modules/core-js/modules/es.symbol.constructor.js"),A("./node_modules/core-js/modules/es.symbol.for.js"),A("./node_modules/core-js/modules/es.symbol.key-for.js"),A("./node_modules/core-js/modules/es.json.stringify.js"),A("./node_modules/core-js/modules/es.object.get-own-property-symbols.js")}),"./node_modules/core-js/modules/es.symbol.key-for.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/has-own-property.js"),g=A("./node_modules/core-js/internals/is-symbol.js"),b=A("./node_modules/core-js/internals/try-to-string.js"),I=A("./node_modules/core-js/internals/shared.js"),N=A("./node_modules/core-js/internals/symbol-registry-detection.js"),S=I("symbol-to-string-registry");m({target:"Symbol",stat:!0,forced:!N},{keyFor:function(_){if(!g(_))throw new TypeError(b(_)+" is not a symbol");if(v(S,_))return S[_]}})}),"./node_modules/core-js/modules/esnext.iterator.constructor.js":(function(u,f,A){A("./node_modules/core-js/modules/es.iterator.constructor.js")}),"./node_modules/core-js/modules/esnext.iterator.for-each.js":(function(u,f,A){A("./node_modules/core-js/modules/es.iterator.for-each.js")}),"./node_modules/core-js/modules/esnext.iterator.map.js":(function(u,f,A){A("./node_modules/core-js/modules/es.iterator.map.js")}),"./node_modules/core-js/modules/esnext.set.add-all.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/a-set.js"),g=A("./node_modules/core-js/internals/set-helpers.js").add;m({target:"Set",proto:!0,real:!0,forced:!0},{addAll:function(){for(var I=v(this),N=0,S=arguments.length;N<S;N++)g(I,arguments[N]);return I}})}),"./node_modules/core-js/modules/esnext.set.delete-all.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/a-set.js"),g=A("./node_modules/core-js/internals/set-helpers.js").remove;m({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var I=v(this),N=!0,S,E=0,_=arguments.length;E<_;E++)S=g(I,arguments[E]),N=N&&S;return!!N}})}),"./node_modules/core-js/modules/esnext.set.difference.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/to-set-like.js"),b=A("./node_modules/core-js/internals/set-difference.js");m({target:"Set",proto:!0,real:!0,forced:!0},{difference:function(N){return v(b,this,g(N))}})}),"./node_modules/core-js/modules/esnext.set.every.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/function-bind-context.js"),g=A("./node_modules/core-js/internals/a-set.js"),b=A("./node_modules/core-js/internals/set-iterate.js");m({target:"Set",proto:!0,real:!0,forced:!0},{every:function(N){var S=g(this),E=v(N,arguments.length>1?arguments[1]:void 0);return b(S,function(_){if(!E(_,_,S))return!1},!0)!==!1}})}),"./node_modules/core-js/modules/esnext.set.filter.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/function-bind-context.js"),g=A("./node_modules/core-js/internals/a-set.js"),b=A("./node_modules/core-js/internals/set-helpers.js"),I=A("./node_modules/core-js/internals/set-iterate.js"),N=b.Set,S=b.add;m({target:"Set",proto:!0,real:!0,forced:!0},{filter:function(_){var R=g(this),L=v(_,arguments.length>1?arguments[1]:void 0),H=new N;return I(R,function(D){L(D,D,R)&&S(H,D)}),H}})}),"./node_modules/core-js/modules/esnext.set.find.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/function-bind-context.js"),g=A("./node_modules/core-js/internals/a-set.js"),b=A("./node_modules/core-js/internals/set-iterate.js");m({target:"Set",proto:!0,real:!0,forced:!0},{find:function(N){var S=g(this),E=v(N,arguments.length>1?arguments[1]:void 0),_=b(S,function(R){if(E(R,R,S))return{value:R}},!0);return _&&_.value}})}),"./node_modules/core-js/modules/esnext.set.intersection.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/to-set-like.js"),b=A("./node_modules/core-js/internals/set-intersection.js");m({target:"Set",proto:!0,real:!0,forced:!0},{intersection:function(N){return v(b,this,g(N))}})}),"./node_modules/core-js/modules/esnext.set.is-disjoint-from.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/to-set-like.js"),b=A("./node_modules/core-js/internals/set-is-disjoint-from.js");m({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:function(N){return v(b,this,g(N))}})}),"./node_modules/core-js/modules/esnext.set.is-subset-of.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/to-set-like.js"),b=A("./node_modules/core-js/internals/set-is-subset-of.js");m({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:function(N){return v(b,this,g(N))}})}),"./node_modules/core-js/modules/esnext.set.is-superset-of.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/to-set-like.js"),b=A("./node_modules/core-js/internals/set-is-superset-of.js");m({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:function(N){return v(b,this,g(N))}})}),"./node_modules/core-js/modules/esnext.set.join.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/function-uncurry-this.js"),g=A("./node_modules/core-js/internals/a-set.js"),b=A("./node_modules/core-js/internals/set-iterate.js"),I=A("./node_modules/core-js/internals/to-string.js"),N=v([].join),S=v([].push);m({target:"Set",proto:!0,real:!0,forced:!0},{join:function(_){var R=g(this),L=_===void 0?",":I(_),H=[];return b(R,function(D){S(H,D)}),N(H,L)}})}),"./node_modules/core-js/modules/esnext.set.map.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/function-bind-context.js"),g=A("./node_modules/core-js/internals/a-set.js"),b=A("./node_modules/core-js/internals/set-helpers.js"),I=A("./node_modules/core-js/internals/set-iterate.js"),N=b.Set,S=b.add;m({target:"Set",proto:!0,real:!0,forced:!0},{map:function(_){var R=g(this),L=v(_,arguments.length>1?arguments[1]:void 0),H=new N;return I(R,function(D){S(H,L(D,D,R))}),H}})}),"./node_modules/core-js/modules/esnext.set.reduce.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/a-callable.js"),g=A("./node_modules/core-js/internals/a-set.js"),b=A("./node_modules/core-js/internals/set-iterate.js"),I=TypeError;m({target:"Set",proto:!0,real:!0,forced:!0},{reduce:function(S){var E=g(this),_=arguments.length<2,R=_?void 0:arguments[1];if(v(S),b(E,function(L){_?(_=!1,R=L):R=S(R,L,L,E)}),_)throw new I("Reduce of empty set with no initial value");return R}})}),"./node_modules/core-js/modules/esnext.set.some.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/function-bind-context.js"),g=A("./node_modules/core-js/internals/a-set.js"),b=A("./node_modules/core-js/internals/set-iterate.js");m({target:"Set",proto:!0,real:!0,forced:!0},{some:function(N){var S=g(this),E=v(N,arguments.length>1?arguments[1]:void 0);return b(S,function(_){if(E(_,_,S))return!0},!0)===!0}})}),"./node_modules/core-js/modules/esnext.set.symmetric-difference.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/to-set-like.js"),b=A("./node_modules/core-js/internals/set-symmetric-difference.js");m({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:function(N){return v(b,this,g(N))}})}),"./node_modules/core-js/modules/esnext.set.union.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/function-call.js"),g=A("./node_modules/core-js/internals/to-set-like.js"),b=A("./node_modules/core-js/internals/set-union.js");m({target:"Set",proto:!0,real:!0,forced:!0},{union:function(N){return v(b,this,g(N))}})}),"./node_modules/core-js/modules/web.dom-collections.for-each.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),v=A("./node_modules/core-js/internals/dom-iterables.js"),g=A("./node_modules/core-js/internals/dom-token-list-prototype.js"),b=A("./node_modules/core-js/internals/array-for-each.js"),I=A("./node_modules/core-js/internals/create-non-enumerable-property.js"),N=function(E){if(E&&E.forEach!==b)try{I(E,"forEach",b)}catch{E.forEach=b}};for(var S in v)v[S]&&N(m[S]&&m[S].prototype);N(g)}),"./node_modules/core-js/modules/web.dom-collections.iterator.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/global-this.js"),v=A("./node_modules/core-js/internals/dom-iterables.js"),g=A("./node_modules/core-js/internals/dom-token-list-prototype.js"),b=A("./node_modules/core-js/modules/es.array.iterator.js"),I=A("./node_modules/core-js/internals/create-non-enumerable-property.js"),N=A("./node_modules/core-js/internals/set-to-string-tag.js"),S=A("./node_modules/core-js/internals/well-known-symbol.js"),E=S("iterator"),_=b.values,R=function(H,D){if(H){if(H[E]!==_)try{I(H,E,_)}catch{H[E]=_}if(N(H,D,!0),v[D]){for(var Q in b)if(H[Q]!==b[Q])try{I(H,Q,b[Q])}catch{H[Q]=b[Q]}}}};for(var L in v)R(m[L]&&m[L].prototype,L);R(g,"DOMTokenList")}),"./node_modules/core-js/modules/web.set-interval.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/global-this.js"),g=A("./node_modules/core-js/internals/schedulers-fix.js"),b=g(v.setInterval,!0);m({global:!0,bind:!0,forced:v.setInterval!==b},{setInterval:b})}),"./node_modules/core-js/modules/web.set-timeout.js":(function(u,f,A){var m=A("./node_modules/core-js/internals/export.js"),v=A("./node_modules/core-js/internals/global-this.js"),g=A("./node_modules/core-js/internals/schedulers-fix.js"),b=g(v.setTimeout,!0);m({global:!0,bind:!0,forced:v.setTimeout!==b},{setTimeout:b})}),"./node_modules/core-js/modules/web.timers.js":(function(u,f,A){A("./node_modules/core-js/modules/web.set-interval.js"),A("./node_modules/core-js/modules/web.set-timeout.js")}),"./src/plugin/hyperlinks.js":(function(u,f,A){A.r(f),A("./node_modules/core-js/modules/es.object.to-string.js"),A("./node_modules/core-js/modules/es.string.link.js"),A("./node_modules/core-js/modules/esnext.iterator.constructor.js"),A("./node_modules/core-js/modules/esnext.iterator.for-each.js"),A("./node_modules/core-js/modules/web.dom-collections.for-each.js");var m=A("./src/worker.js"),v=A("./src/utils.js"),g=[],b={toContainer:m.default.prototype.toContainer,toPdf:m.default.prototype.toPdf};m.default.prototype.toContainer=function(){return b.toContainer.call(this).then(function(){if(this.opt.enableLinks){var S=this.prop.container,E=S.querySelectorAll("a"),_=(0,v.unitConvert)(S.getBoundingClientRect(),this.prop.pageSize.k);g=[],Array.prototype.forEach.call(E,function(R){for(var L=R.getClientRects(),H=0;H<L.length;H++){var D=(0,v.unitConvert)(L[H],this.prop.pageSize.k);D.left-=_.left,D.top-=_.top;var Q=Math.floor(D.top/this.prop.pageSize.inner.height)+1,O=this.opt.margin[0]+D.top%this.prop.pageSize.inner.height,$=this.opt.margin[1]+D.left;g.push({page:Q,top:O,left:$,clientRect:D,link:R})}},this)}})},m.default.prototype.toPdf=function(){return b.toPdf.call(this).then(function(){if(this.opt.enableLinks){g.forEach(function(E){this.prop.pdf.setPage(E.page),this.prop.pdf.link(E.left,E.top,E.clientRect.width,E.clientRect.height,{url:E.link.href})},this);var S=this.prop.pdf.internal.getNumberOfPages();this.prop.pdf.setPage(S)}})}}),"./src/plugin/jspdf-plugin.js":(function(u,f,A){A.r(f),A("./node_modules/core-js/modules/es.symbol.js"),A("./node_modules/core-js/modules/es.symbol.description.js"),A("./node_modules/core-js/modules/es.symbol.iterator.js"),A("./node_modules/core-js/modules/es.array.iterator.js"),A("./node_modules/core-js/modules/es.object.to-string.js"),A("./node_modules/core-js/modules/es.string.iterator.js"),A("./node_modules/core-js/modules/web.dom-collections.iterator.js");var m=A("jspdf");function v(g){"@babel/helpers - typeof";return v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},v(g)}m.jsPDF.getPageSize=function(g,b,I){if(v(g)==="object"){var N=g;g=N.orientation,b=N.unit||b,I=N.format||I}b=b||"mm",I=I||"a4",g=(""+(g||"P")).toLowerCase();var S=(""+I).toLowerCase(),E={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(b){case"pt":var _=1;break;case"mm":var _=72/25.4;break;case"cm":var _=72/2.54;break;case"in":var _=72;break;case"px":var _=72/96;break;case"pc":var _=12;break;case"em":var _=12;break;case"ex":var _=6;break;default:throw"Invalid unit: "+b}if(E.hasOwnProperty(S))var R=E[S][1]/_,L=E[S][0]/_;else try{var R=I[1],L=I[0]}catch{throw new Error("Invalid format: "+I)}if(g==="p"||g==="portrait"){if(g="p",L>R){var H=L;L=R,R=H}}else if(g==="l"||g==="landscape"){if(g="l",R>L){var H=L;L=R,R=H}}else throw"Invalid orientation: "+g;var D={width:L,height:R,unit:b,k:_};return D},f.default=m.jsPDF}),"./src/plugin/pagebreaks.js":(function(u,f,A){A.r(f),A("./node_modules/core-js/modules/es.array.concat.js"),A("./node_modules/core-js/modules/es.array.join.js"),A("./node_modules/core-js/modules/es.array.slice.js"),A("./node_modules/core-js/modules/es.object.keys.js"),A("./node_modules/core-js/modules/es.object.to-string.js"),A("./node_modules/core-js/modules/esnext.iterator.constructor.js"),A("./node_modules/core-js/modules/esnext.iterator.for-each.js"),A("./node_modules/core-js/modules/web.dom-collections.for-each.js");var m=A("./src/worker.js"),v=A("./src/utils.js"),g={toContainer:m.default.prototype.toContainer};m.default.template.opt.pagebreak={mode:["css","legacy"],before:[],after:[],avoid:[]},m.default.prototype.toContainer=function(){return g.toContainer.call(this).then(function(){var N=this.prop.container,S=this.prop.pageSize.inner.px.height,E=[].concat(this.opt.pagebreak.mode),_={avoidAll:E.indexOf("avoid-all")!==-1,css:E.indexOf("css")!==-1,legacy:E.indexOf("legacy")!==-1},R={},L=this;["before","after","avoid"].forEach(function(Q){var O=_.avoidAll&&Q==="avoid";R[Q]=O?[]:[].concat(L.opt.pagebreak[Q]||[]),R[Q].length>0&&(R[Q]=Array.prototype.slice.call(N.querySelectorAll(R[Q].join(", "))))});var H=N.querySelectorAll(".html2pdf__page-break");H=Array.prototype.slice.call(H);var D=N.querySelectorAll("*");Array.prototype.forEach.call(D,function(O){var $={before:!1,after:_.legacy&&H.indexOf(O)!==-1,avoid:_.avoidAll};if(_.css){var P=window.getComputedStyle(O),V=["always","page","left","right"],G=["avoid","avoid-page"];$={before:$.before||V.indexOf(P.breakBefore||P.pageBreakBefore)!==-1,after:$.after||V.indexOf(P.breakAfter||P.pageBreakAfter)!==-1,avoid:$.avoid||G.indexOf(P.breakInside||P.pageBreakInside)!==-1}}Object.keys($).forEach(function(oe){$[oe]=$[oe]||R[oe].indexOf(O)!==-1});var ie=O.getBoundingClientRect();if($.avoid&&!$.before){var de=Math.floor(ie.top/S),X=Math.floor(ie.bottom/S),q=Math.abs(ie.bottom-ie.top)/S;X!==de&&q<=1&&($.before=!0)}if($.before){var Z=(0,v.createElement)("div",{style:{display:"block",height:S-ie.top%S+"px"}});O.parentNode.insertBefore(Z,O)}if($.after){var Z=(0,v.createElement)("div",{style:{display:"block",height:S-ie.bottom%S+"px"}});O.parentNode.insertBefore(Z,O.nextSibling)}})})}}),"./src/snapdom/clone.js":(function(u,f,A){A.r(f),A.d(f,{deepCloneBasic:function(){return I}}),A("./node_modules/core-js/modules/es.symbol.js"),A("./node_modules/core-js/modules/es.symbol.description.js"),A("./node_modules/core-js/modules/es.symbol.iterator.js"),A("./node_modules/core-js/modules/es.array.concat.js"),A("./node_modules/core-js/modules/es.array.from.js"),A("./node_modules/core-js/modules/es.array.iterator.js"),A("./node_modules/core-js/modules/es.array.slice.js"),A("./node_modules/core-js/modules/es.function.name.js"),A("./node_modules/core-js/modules/es.object.to-string.js"),A("./node_modules/core-js/modules/es.regexp.exec.js"),A("./node_modules/core-js/modules/es.regexp.test.js"),A("./node_modules/core-js/modules/es.regexp.to-string.js"),A("./node_modules/core-js/modules/es.set.js"),A("./node_modules/core-js/modules/es.string.iterator.js"),A("./node_modules/core-js/modules/esnext.set.add-all.js"),A("./node_modules/core-js/modules/esnext.set.delete-all.js"),A("./node_modules/core-js/modules/esnext.set.difference.js"),A("./node_modules/core-js/modules/esnext.set.every.js"),A("./node_modules/core-js/modules/esnext.set.filter.js"),A("./node_modules/core-js/modules/esnext.set.find.js"),A("./node_modules/core-js/modules/esnext.set.intersection.js"),A("./node_modules/core-js/modules/esnext.set.is-disjoint-from.js"),A("./node_modules/core-js/modules/esnext.set.is-subset-of.js"),A("./node_modules/core-js/modules/esnext.set.is-superset-of.js"),A("./node_modules/core-js/modules/esnext.set.join.js"),A("./node_modules/core-js/modules/esnext.set.map.js"),A("./node_modules/core-js/modules/esnext.set.reduce.js"),A("./node_modules/core-js/modules/esnext.set.some.js"),A("./node_modules/core-js/modules/esnext.set.symmetric-difference.js"),A("./node_modules/core-js/modules/esnext.set.union.js"),A("./node_modules/core-js/modules/web.dom-collections.iterator.js");function m(N,S){var E=typeof Symbol<"u"&&N[Symbol.iterator]||N["@@iterator"];if(!E){if(Array.isArray(N)||(E=v(N))||S){E&&(N=E);var _=0,R=function(){};return{s:R,n:function(){return _>=N.length?{done:!0}:{done:!1,value:N[_++]}},e:function(O){throw O},f:R}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var L,H=!0,D=!1;return{s:function(){E=E.call(N)},n:function(){var O=E.next();return H=O.done,O},e:function(O){D=!0,L=O},f:function(){try{H||E.return==null||E.return()}finally{if(D)throw L}}}}function v(N,S){if(N){if(typeof N=="string")return g(N,S);var E={}.toString.call(N).slice(8,-1);return E==="Object"&&N.constructor&&(E=N.constructor.name),E==="Map"||E==="Set"?Array.from(N):E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E)?g(N,S):void 0}}function g(N,S){(S==null||S>N.length)&&(S=N.length);for(var E=0,_=Array(S);E<S;E++)_[E]=N[E];return _}function b(N,S){try{var E=N.currentSrc||N.src||"";if(!E)return;S.setAttribute("src",E),S.removeAttribute("srcset"),S.removeAttribute("sizes"),S.loading="eager",S.decoding="sync"}catch{}}function I(N){if(!N)throw new Error("Invalid node");var S=new Set,E=null;if(N.nodeType===Node.TEXT_NODE||N.nodeType!==Node.ELEMENT_NODE)return N.cloneNode(!0);if(N.tagName==="IFRAME"){var _=document.createElement("div");return _.style.cssText="width:".concat(N.offsetWidth,"px;height:").concat(N.offsetHeight,"px;background-image:repeating-linear-gradient(45deg,#ddd,#ddd 5px,#f9f9f9 5px,#f9f9f9 10px);display:flex;align-items:center;justify-content:center;font-size:12px;color:#555;border:1px solid #aaa;"),_}if(N.tagName==="CANVAS"){var R=N.toDataURL(),L=document.createElement("img");return L.src=R,L.width=N.width,L.height=N.height,L}var H;try{H=N.cloneNode(!1),N.tagName==="IMG"&&b(N,H)}catch(rt){throw console.error("[Snapdom] Failed to clone node:",N,rt),rt}if(N instanceof HTMLTextAreaElement){H.textContent=N.value,H.value=N.value;var D=N.getBoundingClientRect();return H.style.boxSizing="border-box",H.style.width="".concat(D.width,"px"),H.style.height="".concat(D.height,"px"),H}if(N instanceof HTMLInputElement&&(N.hasAttribute("value")&&(H.value=N.value,H.setAttribute("value",N.value)),N.checked!==void 0&&(H.checked=N.checked,N.checked&&H.setAttribute("checked",""),N.indeterminate&&(H.indeterminate=N.indeterminate))),N instanceof HTMLSelectElement&&(E=N.value),N.shadowRoot){var Q=Array.from(N.shadowRoot.querySelectorAll("slot")).length>0;if(!Q){var O=document.createDocumentFragment(),$=m(N.shadowRoot.childNodes),P;try{for($.s();!(P=$.n()).done;){var V=P.value;if(!(V.nodeType===Node.ELEMENT_NODE&&V.tagName==="STYLE")){var G=I(V);G&&O.appendChild(G)}}}catch(rt){$.e(rt)}finally{$.f()}H.appendChild(O)}}if(N.tagName==="SLOT"){var ie,de=((ie=N.assignedNodes)===null||ie===void 0?void 0:ie.call(N,{flatten:!0}))||[],X=de.length>0?de:Array.from(N.childNodes),q=document.createDocumentFragment(),Z=m(X),oe;try{for(Z.s();!(oe=Z.n()).done;){var ye=oe.value,ne=I(ye);ne&&q.appendChild(ne)}}catch(rt){Z.e(rt)}finally{Z.f()}return q}var M=m(N.childNodes),W;try{for(M.s();!(W=M.n()).done;){var ae=W.value;if(!S.has(ae)){var ue=I(ae);ue&&H.appendChild(ue)}}}catch(rt){M.e(rt)}finally{M.f()}if(E!==null&&H instanceof HTMLSelectElement){H.value=E;var ce=m(H.options),ge;try{for(ce.s();!(ge=ce.n()).done;){var Se=ge.value;Se.value===E?Se.setAttribute("selected",""):Se.removeAttribute("selected")}}catch(rt){ce.e(rt)}finally{ce.f()}}var xe=N.scrollLeft,Ie=N.scrollTop,Ue=xe||Ie;if(Ue&&H instanceof HTMLElement){H.style.overflow="hidden",H.style.scrollbarWidth="none",H.style.msOverflowStyle="none";var Pe=document.createElement("div");for(Pe.style.transform="translate(".concat(-xe,"px, ").concat(-Ie,"px)"),Pe.style.willChange="transform",Pe.style.display="inline-block",Pe.style.width="100%";H.firstChild;)Pe.appendChild(H.firstChild);H.appendChild(Pe)}return H}}),"./src/utils.js":(function(u,f,A){A.r(f),A.d(f,{createElement:function(){return g},objType:function(){return v},toPx:function(){return I},unitConvert:function(){return b}}),A("./node_modules/core-js/modules/es.symbol.js"),A("./node_modules/core-js/modules/es.symbol.description.js"),A("./node_modules/core-js/modules/es.symbol.iterator.js"),A("./node_modules/core-js/modules/es.array.iterator.js"),A("./node_modules/core-js/modules/es.number.constructor.js"),A("./node_modules/core-js/modules/es.object.to-string.js"),A("./node_modules/core-js/modules/es.string.iterator.js"),A("./node_modules/core-js/modules/web.dom-collections.iterator.js");function m(N){"@babel/helpers - typeof";return m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},m(N)}var v=function(S){var E=m(S);return E==="undefined"?"undefined":E==="string"||S instanceof String?"string":E==="number"||S instanceof Number?"number":E==="function"||S instanceof Function?"function":S&&S.constructor===Array?"array":S&&S.nodeType===1?"element":E==="object"?"object":"unknown"},g=function(S,E){var _=document.createElement(S);if(E.className&&(_.className=E.className),E.innerHTML){_.innerHTML=E.innerHTML;for(var R=_.getElementsByTagName("script"),L=R.length;L-- >0;null)R[L].parentNode.removeChild(R[L])}for(var H in E.style)_.style[H]=E.style[H];return _},b=function(S,E){if(v(S)==="number")return S*72/96/E;var _={};for(var R in S)_[R]=S[R]*72/96/E;return _},I=function(S,E){return Math.floor(S*E/72*96)}}),"./src/worker.js":(function(u,f,A){A.r(f),A("./node_modules/core-js/modules/es.array.concat.js"),A("./node_modules/core-js/modules/es.array.map.js"),A("./node_modules/core-js/modules/es.function.name.js"),A("./node_modules/core-js/modules/es.json.stringify.js"),A("./node_modules/core-js/modules/es.object.assign.js"),A("./node_modules/core-js/modules/es.object.keys.js"),A("./node_modules/core-js/modules/es.object.to-string.js"),A("./node_modules/core-js/modules/es.promise.js"),A("./node_modules/core-js/modules/es.regexp.to-string.js"),A("./node_modules/core-js/modules/esnext.iterator.constructor.js"),A("./node_modules/core-js/modules/esnext.iterator.for-each.js"),A("./node_modules/core-js/modules/esnext.iterator.map.js"),A("./node_modules/core-js/modules/web.dom-collections.for-each.js"),A("./node_modules/core-js/modules/web.timers.js");var m=A("jspdf"),v=A("html2canvas"),g=A.n(v),b=A("./src/snapdom/clone.js"),I=A("./src/utils.js"),N=function S(E){var _=Object.assign(S.convert(Promise.resolve()),JSON.parse(JSON.stringify(S.template))),R=S.convert(Promise.resolve(),_);return R=R.setProgress(1,S,1,[S]),R=R.set(E),R};N.prototype=Object.create(Promise.prototype),N.prototype.constructor=N,N.convert=function(E,_){return E.__proto__=_||N.prototype,E},N.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],image:{type:"jpeg",quality:.95},enableLinks:!0,html2canvas:{},jsPDF:{}}},N.prototype.from=function(E,_){function R(L){switch((0,I.objType)(L)){case"string":return"string";case"element":return L.nodeName.toLowerCase&&L.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}return this.then(function(){switch(_=_||R(E),_){case"string":return this.set({src:(0,I.createElement)("div",{innerHTML:E})});case"element":return this.set({src:E});case"canvas":return this.set({canvas:E});case"img":return this.set({img:E});default:return this.error("Unknown source type.")}})},N.prototype.to=function(E){switch(E){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},N.prototype.toContainer=function(){var E=[function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(E).then(function(){var R={position:"fixed",overflow:"hidden",zIndex:1e3,left:0,right:0,bottom:0,top:0,backgroundColor:"rgba(0,0,0,0.8)"},L={position:"absolute",width:this.prop.pageSize.inner.width+this.prop.pageSize.unit,left:0,right:0,top:0,height:"auto",margin:"auto",backgroundColor:"white"};R.opacity=0;var H=(0,b.deepCloneBasic)(this.prop.src);return this.prop.overlay=(0,I.createElement)("div",{className:"html2pdf__overlay",style:R}),this.prop.container=(0,I.createElement)("div",{className:"html2pdf__container",style:L}),this.prop.container.appendChild(H),this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),new Promise(function(D){return setTimeout(D,10)})})},N.prototype.toCanvas=function(){var E=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(E).then(function(){var R=Object.assign({},this.opt.html2canvas);return delete R.onrendered,g()(this.prop.container,R)}).then(function(R){var L=this.opt.html2canvas.onrendered||function(){};L(R),this.prop.canvas=R,document.body.removeChild(this.prop.overlay)})},N.prototype.toImg=function(){var E=[function(){return this.prop.canvas||this.toCanvas()}];return this.thenList(E).then(function(){var R=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=R})},N.prototype.toPdf=function(){var E=[function(){return this.prop.canvas||this.toCanvas()},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(E).then(function(){var R=this.prop.canvas,L=this.opt,H=R.height,D=Math.floor(R.width*this.prop.pageSize.inner.ratio),Q=Math.ceil(H/D),O=this.prop.pageSize.inner.height,$=document.createElement("canvas"),P=$.getContext("2d");$.width=R.width,$.height=D,this.prop.pdf=this.prop.pdf||new m.jsPDF(L.jsPDF);for(var V=0;V<Q;V++){V===Q-1&&H%D!==0&&($.height=H%D,O=$.height*this.prop.pageSize.inner.width/$.width);var G=$.width,ie=$.height;P.fillStyle="white",P.fillRect(0,0,G,ie),P.drawImage(R,0,V*D,G,ie,0,0,G,ie),V&&this.prop.pdf.addPage();var de=$.toDataURL("image/"+L.image.type,L.image.quality);this.prop.pdf.addImage(de,L.image.type,L.margin[1],L.margin[0],this.prop.pageSize.inner.width,O)}})},N.prototype.output=function(E,_,R){return R=R||"pdf",R.toLowerCase()==="img"||R.toLowerCase()==="image"?this.outputImg(E,_):this.outputPdf(E,_)},N.prototype.outputPdf=function(E,_){var R=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(R).then(function(){return this.prop.pdf.output(E,_)})},N.prototype.outputImg=function(E,_){var R=[function(){return this.prop.img||this.toImg()}];return this.thenList(R).then(function(){switch(E){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+E+'" is not supported.'}})},N.prototype.save=function(E){var _=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(_).set(E?{filename:E}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},N.prototype.set=function(E){if((0,I.objType)(E)!=="object")return this;var _=Object.keys(E||{}).map(function(R){switch(R){case"margin":return this.setMargin.bind(this,E.margin);case"jsPDF":return function(){return this.opt.jsPDF=E.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,E.pageSize);default:return R in N.template.prop?function(){this.prop[R]=E[R]}:function(){this.opt[R]=E[R]}}},this);return this.then(function(){return this.thenList(_)})},N.prototype.get=function(E,_){return this.then(function(){var L=E in N.template.prop?this.prop[E]:this.opt[E];return _?_(L):L})},N.prototype.setMargin=function(E){return this.then(function(){switch((0,I.objType)(E)){case"number":E=[E,E,E,E];case"array":if(E.length===2&&(E=[E[0],E[1],E[0],E[1]]),E.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=E}).then(this.setPageSize)},N.prototype.setPageSize=function(E){return this.then(function(){E=E||m.jsPDF.getPageSize(this.opt.jsPDF),E.hasOwnProperty("inner")||(E.inner={width:E.width-this.opt.margin[1]-this.opt.margin[3],height:E.height-this.opt.margin[0]-this.opt.margin[2]},E.inner.px={width:(0,I.toPx)(E.inner.width,E.k),height:(0,I.toPx)(E.inner.height,E.k)},E.inner.ratio=E.inner.height/E.inner.width),this.prop.pageSize=E})},N.prototype.setProgress=function(E,_,R,L){return E!=null&&(this.progress.val=E),_!=null&&(this.progress.state=_),R!=null&&(this.progress.n=R),L!=null&&(this.progress.stack=L),this.progress.ratio=this.progress.val/this.progress.state,this},N.prototype.updateProgress=function(E,_,R,L){return this.setProgress(E?this.progress.val+E:null,_||null,R?this.progress.n+R:null,L?this.progress.stack.concat(L):null)},N.prototype.then=function(E,_){var R=this;return this.thenCore(E,_,function(H,D){return R.updateProgress(null,null,1,[H]),Promise.prototype.then.call(this,function(O){return R.updateProgress(null,H),O}).then(H,D).then(function(O){return R.updateProgress(1),O})})},N.prototype.thenCore=function(E,_,R){R=R||Promise.prototype.then;var L=this;E&&(E=E.bind(L)),_&&(_=_.bind(L));var H=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise",D=H?L:N.convert(Object.assign({},L),Promise.prototype),Q=R.call(D,E,_);return N.convert(Q,L.__proto__)},N.prototype.thenExternal=function(E,_){return Promise.prototype.then.call(this,E,_)},N.prototype.thenList=function(E){var _=this;return E.forEach(function(L){_=_.thenCore(L)}),_},N.prototype.catch=function(S){S&&(S=S.bind(this));var E=Promise.prototype.catch.call(this,S);return N.convert(E,this)},N.prototype.catchExternal=function(E){return Promise.prototype.catch.call(this,E)},N.prototype.error=function(E){return this.then(function(){throw new Error(E)})},N.prototype.using=N.prototype.set,N.prototype.saveAs=N.prototype.save,N.prototype.export=N.prototype.output,N.prototype.run=N.prototype.then,f.default=N}),html2canvas:(function(u){u.exports=s}),jspdf:(function(u){u.exports=t})},o={};function c(u){var f=o[u];if(f!==void 0)return f.exports;var A=o[u]={exports:{}};return a[u].call(A.exports,A,A.exports,c),A.exports}(function(){c.n=function(u){var f=u&&u.__esModule?function(){return u.default}:function(){return u};return c.d(f,{a:f}),f}})(),(function(){c.d=function(u,f){for(var A in f)c.o(f,A)&&!c.o(u,A)&&Object.defineProperty(u,A,{enumerable:!0,get:f[A]})}})(),(function(){c.o=function(u,f){return Object.prototype.hasOwnProperty.call(u,f)}})(),(function(){c.r=function(u){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})}})();var h={};return(function(){/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/c.r(h);var u=c("./src/worker.js");c("./src/plugin/jspdf-plugin.js"),c("./src/plugin/pagebreaks.js"),c("./src/plugin/hyperlinks.js");var f=function A(m,v){var g=new A.Worker(v);return m?g.from(m).save():g};f.Worker=u.default,h.default=f})(),h=h.default,h})()})})(Wy)),Wy.exports}var wV=bV();const jV=Wb(wV),BV=({data:n})=>{var S;const[e,t]=ee.useState(!1),[s,a]=ee.useState(null);if(ee.useEffect(()=>{var _;const E=async()=>{var L;const R=(L=n==null?void 0:n.schoolInfo)==null?void 0:L.logoUrl;if(!R){a(null);return}if(R.startsWith("data:")){a(R);return}try{const D=await(await fetch(R)).blob(),Q=new FileReader;Q.onloadend=()=>{a(Q.result)},Q.readAsDataURL(D)}catch(H){console.error("Failed to fetch or convert logo:",H),a(R)}};(_=n==null?void 0:n.schoolInfo)!=null&&_.logoUrl&&E()},[(S=n==null?void 0:n.schoolInfo)==null?void 0:S.logoUrl]),!n)return null;const{schoolInfo:o,studentInfo:c,attendance:h,performance:u,summary:f,skills:A,remarks:m,promotion:v,termDates:g}=n,b=async E=>{const _=Array.from(E.querySelectorAll("img"));await Promise.all(_.map(R=>(R.setAttribute("crossorigin","anonymous"),R.setAttribute("referrerpolicy","no-referrer"),R.complete&&R.naturalWidth>0?Promise.resolve():new Promise(L=>{const H=()=>L();R.addEventListener("load",H,{once:!0}),R.addEventListener("error",H,{once:!0})}))))},I=async E=>{const _=E.includes("?")?`${E}&cb=${Date.now()}`:`${E}?cb=${Date.now()}`,L=await(await fetch(_)).blob();return await new Promise((H,D)=>{const Q=new FileReader;Q.onloadend=()=>H(Q.result),Q.onerror=D,Q.readAsDataURL(L)})},N=async()=>{const E=document.getElementById("report-card");if(!E)return;t(!0);const _=E.querySelector("img[data-report-logo='true']"),R=_==null?void 0:_.src,L={transform:E.style.transform,transformOrigin:E.style.transformOrigin,width:E.style.width};try{E.style.width="794px";const Q=E.scrollHeight||E.offsetHeight,O=Math.min(1,1123/Q);if(E.style.transform=`scale(${O})`,E.style.transformOrigin="top left",_!=null&&_.src&&!_.src.startsWith("data:image"))try{const P=await I(_.src);_.src=P}catch(P){console.warn("Logo base64 conversion failed. Using normal URL.",P)}await b(E);const $={margin:0,filename:`${n.studentInfo.name}_Report_Card.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2.2,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff",logging:!1},jsPDF:{unit:"px",format:[794,1123],orientation:"portrait",compress:!0},pagebreak:{mode:["avoid-all","css","legacy"]}};await jV().set($).from(E).save()}catch(H){console.error("PDF generation failed:",H)}finally{_&&R&&(_.src=R),E.style.transform=L.transform,E.style.transformOrigin=L.transformOrigin,E.style.width=L.width,t(!1)}};return i.jsxs(i.Fragment,{children:[i.jsxs("div",{id:"report-card",className:"bg-white p-4 rounded-lg shadow-lg border border-slate-200 text-[12.5px] leading-relaxed",style:{minHeight:"10.7in",boxSizing:"border-box",pageBreakInside:"avoid"},children:[i.jsxs("div",{className:"flex justify-between items-center pb-2 mb-2",style:{borderBottom:"2px solid #0B4A82"},children:[i.jsxs("div",{className:"flex items-center",children:[o.logoUrl?i.jsx("img",{"data-report-logo":"true",src:o.logoUrl,alt:"School Logo",className:"h-12 w-12 object-contain",crossOrigin:"anonymous",referrerPolicy:"no-referrer",onError:E=>{E.currentTarget.style.display="none",console.warn("Logo failed to load:",o.logoUrl)}}):null,i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-bold text-primary-900",children:o.name}),i.jsxs("p",{className:"text-xs text-slate-600",children:[o.address," | ",o.phone]})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("h2",{className:"text-lg font-bold text-primary-800",children:"Terminal Report Card"}),i.jsxs("p",{className:"text-xs font-semibold text-slate-700",children:[o.academicYear," | ",o.term]})]})]}),i.jsxs("div",{className:"grid grid-cols-4 gap-2 bg-slate-50 p-2 rounded mb-2 text-xs",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold",children:"Name:"})," ",c.name]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold",children:"Class:"})," ",c.class]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold",children:"Gender:"})," ",c.gender]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold",children:"Teacher:"})," ",c.classTeacher]})]}),i.jsx("div",{className:"mb-2",children:i.jsxs("div",{className:"grid grid-cols-4 gap-2 text-center",children:[i.jsxs("div",{className:"bg-red-50 p-1.5 rounded",children:[i.jsx("span",{className:"block font-bold text-red-800 text-lg",children:h.totalDays}),i.jsx("span",{className:"text-xs text-red-700",children:"School Days"})]}),i.jsxs("div",{className:"bg-green-50 p-1.5 rounded",children:[i.jsx("span",{className:"block font-bold text-green-800 text-lg",children:h.presentDays}),i.jsx("span",{className:"text-xs text-green-700",children:"Present"})]}),i.jsxs("div",{className:"bg-red-50 p-1.5 rounded",children:[i.jsx("span",{className:"block font-bold text-red-800 text-lg",children:h.absentDays}),i.jsx("span",{className:"text-xs text-red-700",children:"Absent"})]}),i.jsxs("div",{className:"bg-purple-50 p-1.5 rounded",children:[i.jsxs("span",{className:"block font-bold text-purple-800 text-lg",children:[h.attendancePercentage,"%"]}),i.jsx("span",{className:"text-xs text-purple-700",children:"Attendance"})]})]})}),i.jsxs("div",{className:"mb-2",children:[i.jsx("h3",{className:"text-sm font-bold text-primary-900 mb-2 px-3 pb-2 bg-slate-50",style:{borderLeft:"2px solid #1160A8",borderRight:"2px solid #1160A8",borderBottom:"1px solid #1160A8"},children:"Academic Performance"}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-left border-collapse text-xs",children:[i.jsx("thead",{className:"text-white",style:{backgroundColor:"#1160A8"},children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-2 pt-0 pb-3 border-b border-white align-middle leading-relaxed",children:"Subject"}),i.jsx("th",{className:"px-2 pt-0 pb-3 border-b border-white align-middle text-center w-12",children:"C.Test"}),i.jsx("th",{className:"px-2 pt-0 pb-3 border-b border-white align-middle text-center w-12",children:"HW"}),i.jsx("th",{className:"px-2 pt-0 pb-3 border-b border-white align-middle text-center w-12",children:"Proj"}),i.jsx("th",{className:"px-2 pt-0 pb-3 border-b border-white align-middle text-center w-12",children:"Exam"}),i.jsx("th",{className:"px-2 pt-0 pb-3 border-b border-white align-middle text-center w-12",children:"Total"}),i.jsx("th",{className:"px-2 pt-0 pb-3 border-b border-white align-middle text-center w-10",children:"Pos"}),i.jsx("th",{className:"px-2 pt-0 pb-3 border-b border-white align-middle text-center w-10",children:"Grade"}),i.jsx("th",{className:"px-2 pt-0 pb-3 border-b border-white align-middle",children:"Remark"})]})}),i.jsx("tbody",{children:n.allStudentsAssessments&&u.map((E,_)=>{const R=dm(E.total),L=n.allStudentsAssessments.filter(Q=>Q.subject===E.subject).map(Q=>Q.total);L.sort((Q,O)=>O-Q);const H=L.indexOf(E.total)+1,D=["st","nd","rd"][H-1]||"th";return i.jsxs("tr",{className:"hover:bg-slate-50",children:[i.jsx("td",{className:"p-1.5 border font-medium",children:E.subject}),i.jsx("td",{className:"px-2 py-2 border text-center leading-relaxed",children:E.testScore}),i.jsx("td",{className:"p-1.5 border text-center",children:E.homeworkScore}),i.jsx("td",{className:"p-1.5 border text-center",children:E.projectScore}),i.jsx("td",{className:"p-1.5 border text-center",children:E.examScore}),i.jsx("td",{className:"p-1.5 border text-center font-bold",children:E.total}),i.jsx("td",{className:"p-1.5 border text-center",children:`${H}${D}`}),i.jsx("td",{className:`p-1.5 border text-center font-bold ${Dg(R.grade).split(" ")[0]}`,children:R.grade}),i.jsx("td",{className:"p-1.5 border",children:R.remark})]},_)})})]})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-2",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-bold text-primary-900 mb-1 pl-2",style:{borderLeft:"3px solid #1160A8"},children:"Performance Summary"}),i.jsxs("div",{className:"bg-slate-50 p-3 rounded text-xs space-y-1",style:{border:"1px solid #1160A8"},children:[i.jsxs("div",{className:"flex justify-between py-0.5",style:{borderBottom:"1px solid #C7D7EA"},children:[i.jsx("span",{className:"font-semibold",children:"Total Score:"}),i.jsx("span",{children:f.totalScore})]}),i.jsxs("div",{className:"flex justify-between py-0.5",style:{borderBottom:"1px solid #C7D7EA"},children:[i.jsx("span",{className:"font-semibold",children:"Average:"}),i.jsx("span",{children:f.averageScore})]}),i.jsxs("div",{className:"flex justify-between py-0.5",style:{borderBottom:"1px solid #C7D7EA"},children:[i.jsx("span",{className:"font-semibold",children:"Grade:"}),i.jsx("span",{className:"font-bold",children:f.overallGrade})]}),i.jsxs("div",{className:"flex justify-between py-0.5",children:[i.jsx("span",{className:"font-semibold",children:"Position:"}),i.jsxs("span",{children:[f.classPosition," of ",f.totalStudents]})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-bold text-primary-900 mb-1 pl-2",style:{borderLeft:"3px solid #1160A8"},children:"Skills & Behaviour"}),i.jsx("div",{className:"bg-slate-50 p-3 rounded text-xs space-y-1",style:{border:"1px solid #1160A8"},children:A&&Object.entries(A).map(([E,_])=>i.jsxs("div",{className:"flex justify-between py-0.5 last:border-0",style:{borderBottom:"1px solid #C7D7EA"},children:[i.jsxs("span",{className:"font-semibold capitalize",children:[E.replace(/([A-Z])/g," $1"),":"]}),i.jsx("span",{children:_})]},E))})]})," "]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("h3",{className:"text-sm font-bold text-primary-900 mb-1 pl-2",style:{borderLeft:"3px solid #1160A8"},children:"Remarks"}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"bg-slate-50 p-3 rounded text-xs min-h-[70px]",children:[i.jsx("h4",{className:"font-bold mb-0.5",children:"Class Teacher:"}),i.jsxs("p",{className:"italic",children:['"',m.teacher,'"']})]}),i.jsxs("div",{className:"bg-slate-50 p-2 rounded text-xs",children:[i.jsx("h4",{className:"font-bold mb-0.5",children:"Head Teacher:"}),i.jsxs("p",{className:"italic",children:['"',m.headTeacher,'"']})]})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-2 text-xs",children:[i.jsxs("div",{className:"bg-red-50 text-red-800 p-2 rounded text-center",children:[i.jsx("span",{className:"font-bold",children:"Promotion:"})," ",v.status]}),i.jsxs("div",{className:"bg-green-50 text-green-800 p-2 rounded text-center",children:[i.jsx("span",{className:"font-bold",children:"Next Term:"})," ",g.reopeningDate]}),i.jsxs("div",{className:"bg-slate-100 text-slate-700 p-2 rounded text-center",children:[i.jsx("span",{className:"font-bold",children:"Term Ends in:"})," ",g.vacationDate]})]}),i.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[i.jsx("div",{className:"text-center",children:i.jsx("p",{className:"border-t border-dotted border-slate-400 w-32 pt-1 text-xs font-semibold",children:"Class Teacher"})}),i.jsx("div",{className:"text-center",children:i.jsx("div",{className:"w-16 h-16 border border-dashed border-slate-300 flex items-center justify-center",children:i.jsx("p",{className:"text-slate-400 text-[10px]",children:"Stamp"})})}),i.jsx("div",{className:"text-center",children:i.jsx("p",{className:"border-t border-dotted border-slate-400 w-32 pt-1 text-xs font-semibold",children:"Head Teacher"})})]})]}),i.jsx("div",{className:"flex justify-end mt-4",children:i.jsx("button",{onClick:N,disabled:e,className:`px-6 py-2 text-white rounded-lg flex items-center gap-2 transition-colors ${e?"bg-[#5C93C4] cursor-not-allowed":"bg-[#1160A8] hover:bg-[#0B4A82]"}`,children:e?i.jsxs(i.Fragment,{children:[i.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Generating PDF..."]}):i.jsxs(i.Fragment,{children:[i.jsx(iA,{className:"h-4 w-4"}),"Download PDF"]})})})]})},CV=n=>new Promise((e,t)=>{const s=new Image;s.crossOrigin="anonymous",s.onload=()=>{try{const a=document.createElement("canvas");a.width=s.width,a.height=s.height;const o=a.getContext("2d");if(!o)return t(new Error("Canvas context not available"));o.drawImage(s,0,0);const c=a.toDataURL("image/png");e(c)}catch(a){t(a)}},s.onerror=()=>t(new Error("Failed to load image for base64")),s.src=n}),mS=n=>{let e=parseInt(n);if(!isNaN(e)&&e>=1&&e<=3)return e;const t=n.split(" ");return t.length>1&&(e=parseInt(t[1]),!isNaN(e)&&e>=1&&e<=3)?e:1},SV=500,NV=()=>{const{school:n}=uc(),e=(n==null?void 0:n.id)||null,[t,s]=ee.useState(Nn[0].id),[a,o]=ee.useState([]),[c,h]=ee.useState(""),[u,f]=ee.useState(null),[A,m]=ee.useState(!1),[v,g]=ee.useState(""),[b,I]=ee.useState(!1),[N,S]=ee.useState(!1),E=async L=>{if(!e){o([]),h(""),f(null);return}s(L);const H=await ot.getStudents(e,L);o(H),h(""),f(null)},_=async()=>{var L,H,D,Q,O,$,P,V,G,ie,de;if(!(!c||!e)){m(!0);try{const q=(await ot.getStudents(e,t)).find(gt=>gt.id===c),Z=await ot.getSchoolConfig(e),oe=((H=(L=Z==null?void 0:Z.logoUrl)==null?void 0:L.trim)==null?void 0:H.call(L))||((Q=(D=Z==null?void 0:Z.logo)==null?void 0:D.trim)==null?void 0:Q.call(D))||(($=(O=Z==null?void 0:Z.schoolLogo)==null?void 0:O.trim)==null?void 0:$.call(O))||"",ye=((V=(P=n==null?void 0:n.logoUrl)==null?void 0:P.trim)==null?void 0:V.call(P))||((ie=(G=n==null?void 0:n.logo)==null?void 0:G.trim)==null?void 0:ie.call(G))||"",ne=oe||ye||"";let M=ne;if(ne&&ne.startsWith("http"))try{M=await CV(ne)}catch(gt){console.warn("Base64 conversion failed, using original URL:",gt),M=ne}const W=mS(Z.currentTerm),ae=Z.academicYear,ue=`${c}_term${W}_${ae}`,ge=(await ot.getAllAssessments(e).then(gt=>gt.filter(_t=>_t.studentId===c))).filter(gt=>gt.term===W),Se=Object.values(ge.reduce((gt,_t)=>{const Un=_t.subject;if(!Un)return gt;const Me=gt[Un],ht=(Me==null?void 0:Me.total)??0,Ve=_t.total??0;return(!Me||Ve>=ht)&&(gt[Un]=_t),gt},{})),xe=await ot.getStudentRemarks(e,t).then(gt=>gt.find(_t=>_t.studentId===c)),Ie=await ot.getAdminRemark(e,ue),Ue=await ot.getClassAttendance(e,t),Pe=new Set([...Ue.filter(gt=>gt.isHoliday).map(gt=>gt.date),...(Z.holidayDates||[]).map(gt=>gt.date)]),rt=Ue.filter(gt=>!gt.isHoliday),Le=await ot.getStudentSkills(e,t).then(gt=>gt.find(_t=>_t.studentId===c)),me=await ot.getUsers(e);let Ze=0;if(Z.schoolReopenDate){const gt=new Date(`${Z.schoolReopenDate}T00:00:00`),_t=Z.vacationDate?new Date(`${Z.vacationDate}T00:00:00`):null,Un=new Date;Un.setHours(0,0,0,0);const Me=_t&&_t<Un?_t:Un;if(Number.isNaN(gt.getTime()))Ze=rt.length;else{const ht=new Date(gt);for(;ht<=Me;){const Ve=ht.getDay();if(!(Ve===0||Ve===6)){const At=`${ht.getFullYear()}-${String(ht.getMonth()+1).padStart(2,"0")}-${String(ht.getDate()).padStart(2,"0")}`;Pe.has(At)||Ze++}ht.setDate(ht.getDate()+1)}}}else Ze=rt.length;const pt=rt.filter(gt=>gt.presentStudentIds.includes(c)).length,dt=Ze-pt,Je=Ze>0?Math.round(pt/Ze*100):0,Ut=me.find(gt=>{var _t;return(_t=gt.assignedClassIds)==null?void 0:_t.includes(t)}),Rt=gt=>gt>=80?"A":gt>=70?"B":gt>=60?"C":gt>=45?"D":"F",zt=await ot.getAllAssessments(e).then(gt=>gt.filter(_t=>_t.classId===t&&_t.term===W)),$t=a.map(gt=>{const Un=zt.filter(Me=>Me.studentId===gt.id).reduce((Me,ht)=>Me+(ht.total||0),0);return{studentId:gt.id,totalScore:Un}});$t.sort((gt,_t)=>_t.totalScore-gt.totalScore);const Jt=$t.findIndex(gt=>gt.studentId===c)+1;g((Ie==null?void 0:Ie.remark)||"");const sn=Se.reduce((gt,_t)=>gt+(_t.total||0),0),Ge=Nn.findIndex(gt=>gt.id===(q==null?void 0:q.classId)),Ht=Ge>=0&&Ge<Nn.length-1?Nn[Ge+1].name:"",kt=W===3?sn>=SV?Ht?`Promoted to ${Ht}`:"Promoted":"Fail":"N/A",Ot={schoolInfo:{name:(n==null?void 0:n.name)||Z.schoolName||"School Manager GH",logoUrl:ne,address:(n==null?void 0:n.address)||Z.address||"",phone:(n==null?void 0:n.phone)||Z.phone||"",email:Z.email||"",academicYear:Z.academicYear||"",term:Z.currentTerm||""},studentInfo:{name:(q==null?void 0:q.name)||"",gender:(q==null?void 0:q.gender)||"",dob:(q==null?void 0:q.dob)||"",class:((de=Nn.find(gt=>gt.id===(q==null?void 0:q.classId)))==null?void 0:de.name)||"",classTeacher:(Ut==null?void 0:Ut.fullName)||"N/A"},attendance:{totalDays:Ze||0,presentDays:pt||0,absentDays:dt||0,attendancePercentage:Je||0},performance:Se||[],summary:{totalScore:sn||0,averageScore:Se.length>0?(Se.reduce((gt,_t)=>gt+(_t.total||0),0)/Se.length).toFixed(1):"0.0",overallGrade:Rt(Se.length>0?Se.reduce((gt,_t)=>gt+(_t.total||0),0)/Se.length:0)||"N/A",classPosition:`${Jt}${["st","nd","rd"][Jt-1]||"th"}`,totalStudents:a.length||0},skills:{punctuality:(Le==null?void 0:Le.punctuality)||"N/A",neatness:(Le==null?void 0:Le.neatness)||"N/A",conduct:(Le==null?void 0:Le.conduct)||"N/A",attitudeToWork:(Le==null?void 0:Le.attitudeToWork)||"N/A",classParticipation:(Le==null?void 0:Le.classParticipation)||"N/A",homeworkCompletion:(Le==null?void 0:Le.homeworkCompletion)||"N/A"},remarks:{teacher:(xe==null?void 0:xe.remark)||"N/A",headTeacher:(Ie==null?void 0:Ie.remark)||Z.headTeacherRemark||"An outstanding performance. The school is proud of you.",adminRemark:(Ie==null?void 0:Ie.remark)||"",adminRemarkDate:(Ie==null?void 0:Ie.dateCreated)||""},promotion:{status:kt},termDates:{endDate:Z.termEndDate||"",reopeningDate:Z.nextTermBegins||"",vacationDate:Z.vacationDate||""},allStudentsAssessments:zt};f(Ot),Pt("Report card generated successfully!",{type:"success"})}catch(X){console.error("Error generating report card:",X),Pt(`Failed to generate report card: ${X.message||"An unknown error occurred."}`,{type:"error"})}finally{m(!1)}}},R=async()=>{if(!(!c||!v.trim()||!e)){S(!0);try{const L=await ot.getSchoolConfig(e),H=mS(L.currentTerm),D={id:`${c}_term${H}_${L.academicYear}`,studentId:c,classId:t,term:H,academicYear:L.academicYear,schoolId:e,remark:v,adminId:"admin",dateCreated:new Date().toISOString().split("T")[0]};await ot.saveAdminRemark(D),I(!1),_()}catch(L){console.error("Error saving admin remark:",L)}finally{S(!1)}}};return ee.useEffect(()=>{(async()=>{try{await E(t)}catch(H){console.error("Error in useEffect:",H)}})()},[e]),i.jsxs(lr,{title:"Generate Report Card",children:[i.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100",children:[i.jsx("h3",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Select Student"}),i.jsxs("div",{className:"flex gap-4 mb-4",children:[i.jsx("select",{className:"border border-slate-300 rounded-md px-3 py-2 text-sm bg-white text-black",value:t,onChange:L=>E(L.target.value),children:Nn.map(L=>i.jsx("option",{value:L.id,children:L.name},L.id))}),i.jsxs("select",{className:"border border-slate-300 rounded-md px-3 py-2 text-sm bg-white text-black flex-grow",value:c,onChange:L=>h(L.target.value),disabled:!a.length,children:[i.jsx("option",{value:"",children:"-- Select a student --"}),a.map(L=>i.jsx("option",{value:L.id,children:L.name},L.id))]})]}),i.jsx("button",{onClick:_,disabled:!c||A,className:"px-6 py-2 bg-[#1160A8] text-white rounded-lg hover:bg-[#0B4A82] disabled:opacity-50",children:A?"Generating...":"Generate Report"})]}),u&&i.jsxs("div",{className:"mt-8",children:[i.jsxs("div",{className:"bg-[#E6F0FA] border border-[#E6F0FA] rounded-xl p-4 mb-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsxs("h3",{className:"text-lg font-semibold text-[#0B4A82] flex items-center gap-2",children:[i.jsx(AM,{className:"w-5 h-5"}),"Admin/Head Teacher Remark"]}),b?i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("button",{onClick:()=>I(!1),className:"flex items-center gap-1 px-3 py-1 text-sm bg-gray-500 text-white rounded hover:bg-gray-600",children:[i.jsx(jo,{className:"w-4 h-4"}),"Cancel"]}),i.jsxs("button",{onClick:R,disabled:N,className:"flex items-center gap-1 px-3 py-1 text-sm bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50",children:[i.jsx(iA,{className:"w-4 h-4"}),N?"Saving...":"Save"]})]}):i.jsxs("button",{onClick:()=>I(!0),className:"flex items-center gap-1 px-3 py-1 text-sm bg-[#1160A8] text-white rounded hover:bg-[#0B4A82]",children:[i.jsx(hM,{className:"w-4 h-4"}),"Edit Remark"]})]}),b?i.jsx("textarea",{value:v,onChange:L=>g(L.target.value),className:"w-full border border-[#E6F0FA] rounded-lg p-3 text-black bg-white",rows:3,placeholder:"Enter admin/head teacher remark..."}):i.jsx("p",{className:"text-[#0B4A82] italic",children:v||"No remark added yet"})]}),i.jsx(BV,{data:u})]})]})};class EV{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI="firebasestorage.googleapis.com",TV="storageBucket",IV=120*1e3,_V=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc extends cc{constructor(e,t,s=0){super(v1(e),`Firebase Storage: ${t} (${v1(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Zc.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return v1(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Xc;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Xc||(Xc={}));function v1(n){return"storage/"+n}function FV(){const n="An unknown error occurred, please check the error payload for server response.";return new Zc(Xc.UNKNOWN,n)}function UV(){return new Zc(Xc.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function RV(){return new Zc(Xc.CANCELED,"User canceled the upload/download.")}function DV(n){return new Zc(Xc.INVALID_URL,"Invalid URL '"+n+"'.")}function LV(n){return new Zc(Xc.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function pS(n){return new Zc(Xc.INVALID_ARGUMENT,n)}function RI(){return new Zc(Xc.APP_DELETED,"The Firebase app was deleted.")}function QV(n){return new Zc(Xc.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=ac.makeFromUrl(e,t)}catch{return new ac(e,"")}if(s.path==="")return s;throw LV(e)}static makeFromUrl(e,t){let s=null;const a="([A-Za-z0-9.\\-_]+)";function o(R){R.path.charAt(R.path.length-1)==="/"&&(R.path_=R.path_.slice(0,-1))}const c="(/(.*))?$",h=new RegExp("^gs://"+a+c,"i"),u={bucket:1,path:3};function f(R){R.path_=decodeURIComponent(R.path)}const A="v[A-Za-z0-9_]+",m=t.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",g=new RegExp(`^https?://${m}/${A}/b/${a}/o${v}`,"i"),b={bucket:1,path:3},I=t===UI?"(?:storage.googleapis.com|storage.cloud.google.com)":t,N="([^?#]*)",S=new RegExp(`^https?://${I}/${a}/${N}`,"i"),_=[{regex:h,indices:u,postModify:o},{regex:g,indices:b,postModify:f},{regex:S,indices:{bucket:1,path:2},postModify:f}];for(let R=0;R<_.length;R++){const L=_[R],H=L.regex.exec(e);if(H){const D=H[L.indices.bucket];let Q=H[L.indices.path];Q||(Q=""),s=new ac(D,Q),L.postModify(s);break}}if(s==null)throw DV(e);return s}}class OV{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PV(n,e,t){let s=1,a=null,o=null,c=!1,h=0;function u(){return h===2}let f=!1;function A(...N){f||(f=!0,e.apply(null,N))}function m(N){a=setTimeout(()=>{a=null,n(g,u())},N)}function v(){o&&clearTimeout(o)}function g(N,...S){if(f){v();return}if(N){v(),A.call(null,N,...S);return}if(u()||c){v(),A.call(null,N,...S);return}s<64&&(s*=2);let _;h===1?(h=2,_=0):_=(s+Math.random())*1e3,m(_)}let b=!1;function I(N){b||(b=!0,v(),!f&&(a!==null?(N||(h=2),clearTimeout(a),m(0)):N||(h=1)))}return m(0),o=setTimeout(()=>{c=!0,I(!0)},t),I}function kV(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MV(n){return n!==void 0}function gS(n,e,t,s){if(s<e)throw pS(`Invalid value for '${n}'. Expected ${e} or greater.`);if(s>t)throw pS(`Invalid value for '${n}'. Expected ${t} or less.`)}function HV(n){const e=encodeURIComponent;let t="?";for(const s in n)if(n.hasOwnProperty(s)){const a=e(s)+"="+e(n[s]);t=t+a+"&"}return t=t.slice(0,-1),t}var tx;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(tx||(tx={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VV(n,e){const t=n>=500&&n<600,a=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||a||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(e,t,s,a,o,c,h,u,f,A,m,v=!0,g=!1){this.url_=e,this.method_=t,this.headers_=s,this.body_=a,this.successCodes_=o,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=u,this.timeout_=f,this.progressCallback_=A,this.connectionFactory_=m,this.retry=v,this.isUsingEmulator=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,I)=>{this.resolve_=b,this.reject_=I,this.start_()})}start_(){const e=(s,a)=>{if(a){s(!1,new q0(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const c=h=>{const u=h.loaded,f=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,f)};this.progressCallback_!==null&&o.addUploadProgressListener(c),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(c),this.pendingConnection_=null;const h=o.getErrorCode()===tx.NO_ERROR,u=o.getStatus();if(!h||VV(u,this.additionalRetryCodes_)&&this.retry){const A=o.getErrorCode()===tx.ABORT;s(!1,new q0(!1,null,A));return}const f=this.successCodes_.indexOf(u)!==-1;s(!0,new q0(f,o))})},t=(s,a)=>{const o=this.resolve_,c=this.reject_,h=a.connection;if(a.wasSuccessCode)try{const u=this.callback_(h,h.getResponse());MV(u)?o(u):o()}catch(u){c(u)}else if(h!==null){const u=FV();u.serverResponse=h.getErrorText(),this.errorCallback_?c(this.errorCallback_(h,u)):c(u)}else if(a.canceled){const u=this.appDelete_?RI():RV();c(u)}else{const u=UV();c(u)}};this.canceled_?t(!1,new q0(!1,null,!0)):this.backoffId_=PV(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&kV(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class q0{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function zV(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function GV(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function $V(n,e){e&&(n["X-Firebase-GMPID"]=e)}function YV(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function WV(n,e,t,s,a,o,c=!0,h=!1){const u=HV(n.urlParams),f=n.url+u,A=Object.assign({},n.headers);return $V(A,e),zV(A,t),GV(A,o),YV(A,s),new KV(f,n.method,A,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a,c,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XV(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function JV(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e,t){this._service=e,t instanceof ac?this._location=t:this._location=ac.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new nx(e,t)}get root(){const e=new ac(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return JV(this._location.path)}get storage(){return this._service}get parent(){const e=XV(this._location.path);if(e===null)return null;const t=new ac(this._location.bucket,e);return new nx(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw QV(e)}}function vS(n,e){const t=e==null?void 0:e[TV];return t==null?null:ac.makeFromBucketSpec(t,n)}class qV{constructor(e,t,s,a,o,c=!1){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=a,this._firebaseVersion=o,this._isUsingEmulator=c,this._bucket=null,this._host=UI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=IV,this._maxUploadRetryTime=_V,this._requests=new Set,a!=null?this._bucket=ac.makeFromBucketSpec(a,this._host):this._bucket=vS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ac.makeFromBucketSpec(this._url,e):this._bucket=vS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){gS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){gS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(sA(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new nx(this,e)}_makeRequest(e,t,s,a,o=!0){if(this._deleted)return new OV(RI());{const c=WV(e,this._appId,s,a,t,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,a).getPromise()}}const xS="@firebase/storage",yS="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZV="storage";function eK(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),s=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new qV(t,s,a,e,sf)}function tK(){Od(new EV(ZV,eK,"PUBLIC").setMultipleInstances(!0)),FA(xS,yS,""),FA(xS,yS,"esm2020")}tK();const bS=n=>{const e=n.toLowerCase();return e.includes("nursery")?"Nursery":e.startsWith("kg")||e.includes("kg")?"KG":/class\s*[1-3]\b/i.test(n)?"Class 1-3":/class\s*[4-6]\b/i.test(n)?"Class 4-6":/jhs\s*[1-3]\b/i.test(n)?"JHS 1-3":"Other"},nK=()=>{var sn;const{user:n}=nl(),e=ET(n),[t,s]=ee.useState([]),[a,o]=ee.useState(""),[c,h]=ee.useState(new Date().toISOString().split("T")[0]),[u,f]=ee.useState("info"),[A,m]=ee.useState(!1),[v,g]=ee.useState(((sn=Nn[0])==null?void 0:sn.id)||""),[b,I]=ee.useState([]),[N,S]=ee.useState(""),[E,_]=ee.useState(null),[R,L]=ee.useState({schoolId:e,schoolName:"",academicYear:"",currentTerm:"",schoolReopenDate:"",vacationDate:"",nextTermBegins:"",termTransitionProcessed:!1,headTeacherRemark:"",termEndDate:"",holidayDates:[]}),[H,D]=ee.useState(!1),[Q,O]=ee.useState(!1),[$,P]=ee.useState(""),[V,G]=ee.useState(""),[ie,de]=ee.useState(!1),[X,q]=ee.useState(!1),[Z,oe]=ee.useState(!1),[ye,ne]=ee.useState(!1),[M,W]=ee.useState(null),[ae,ue]=ee.useState(!1),ce=Ax.useMemo(()=>{const Ge={Nursery:[],KG:[],"Class 1-3":[],"Class 4-6":[],"JHS 1-3":[],Other:[]};return Nn.forEach(Ht=>{const kt=bS(Ht.name);Ge[kt].push(Ht)}),Ge},[]),ge=Ge=>{const Ht=Nn.find(gt=>gt.id===Ge);if(!Ht)return[Ge];const kt=bS(Ht.name),Ot=ce[kt];return(Ot!=null&&Ot.length?Ot:[Ht]).map(gt=>gt.id)},Se=async()=>{const Ge=await ot.getNotices(e);s(Ge)},xe=async()=>{if(v){const Ge=await ot.getSubjects(e,v);I(Ge)}},Ie=async()=>{const Ge=await ot.getSchoolConfig(e);L(Ht=>({...Ht,schoolId:e,...Ge,holidayDates:Ge.holidayDates||[]}))};ee.useEffect(()=>{Se(),Ie()},[e]),ee.useEffect(()=>{xe()},[v,e]);const Ue=async()=>{D(!0),await ot.updateSchoolConfig({...R,holidayDates:R.holidayDates||[]}),D(!1),Pt("Configuration saved successfully!",{type:"success"})},Pe=async()=>{if(!$)return;const Ge=V.trim(),Ht=R.holidayDates||[];if(Ht.some(Ot=>Ot.date===$)){Pt("Holiday date already exists.",{type:"error"});return}const kt={...R,holidayDates:[...Ht,{date:$,reason:Ge||void 0}].sort((Ot,gt)=>Ot.date.localeCompare(gt.date))};L(kt),await ot.updateSchoolConfig({...kt,holidayDates:kt.holidayDates||[]}),Pt("Holiday date saved.",{type:"success"}),P(""),G("")},rt=async Ge=>{const Ht=R.holidayDates||[],kt={...R,holidayDates:Ht.filter(Ot=>Ot.date!==Ge)};L(kt),await ot.updateSchoolConfig({...kt,holidayDates:kt.holidayDates||[]}),Pt("Holiday date removed.",{type:"success"})},Le=async()=>{O(!0);try{await ot.createTermBackup(R,R.currentTerm,R.academicYear),Pt("Term backup created successfully!",{type:"success"})}catch(Ge){console.error("Error creating term backup:",Ge),Pt("Failed to create term backup. Please try again.",{type:"error"})}finally{O(!1)}},me=async Ge=>{if(Ge.preventDefault(),!(!a.trim()||!c)){m(!0);try{const[Ht,kt,Ot]=c.split("-").map(Number),_t=new Date(Ht,kt-1,Ot).toLocaleDateString("en-GB",{day:"numeric",month:"short"});await ot.addNotice({id:Math.random().toString(36).substr(2,9),schoolId:e,message:a,date:_t,type:u,createdAt:Date.now()}),o(""),Se(),Pt("Notice added successfully!",{type:"success"})}catch(Ht){console.error("Error adding notice:",Ht),Pt("Failed to add notice. Please try again.",{type:"error"})}finally{m(!1)}}},Ze=async Ge=>{await ot.deleteNotice(Ge),Se()},pt=async Ge=>{if(Ge.preventDefault(),!N.trim()||!v)return;const Ht=ge(v);await Promise.all(Ht.map(kt=>ot.addSubject(kt,N.trim(),e))),S(""),xe(),Pt("Subject added successfully!",{type:"success"})},dt=Ge=>{W(Ge),ne(!0)},Je=async()=>{if(!(!M||!v)){ne(!1);try{const Ge=ge(v);await Promise.all(Ge.map(Ht=>ot.deleteSubject(Ht,M,e))),xe(),Pt(`Subject "${M}" deleted successfully!`,{type:"success"})}catch(Ge){console.error("Error deleting subject:",Ge),Pt("Failed to delete subject. Please try again.",{type:"error"})}finally{W(null)}}},Ut=Ge=>{_({original:Ge,current:Ge})},Rt=async()=>{if(!E||!E.current.trim()||!v)return;const Ge=ge(v);await Promise.all(Ge.map(Ht=>ot.updateSubject(Ht,E.original,E.current.trim(),e))),_(null),xe(),Pt("Subject updated successfully!",{type:"success"})},zt=()=>{oe(!0)},$t=async Ge=>{const Ht=Pn(Ct,Ge),Ot=(await Xn(Ht)).docs.map(gt=>Fi(gt.ref));await Promise.all(Ot)},Jt=async()=>{oe(!1),q(!0);try{const Ge=["attendance","assessments","teacher_attendance","notices","student_remarks","admin_remarks","student_skills","admin_notifications"];for(const kt of Ge)console.log(`Deleting collection: ${kt}`),await $t(kt);const Ht=On(Ct,"settings",e);await Ii(Ht,{schoolReopenDate:"",vacationDate:"",nextTermBegins:""},{merge:!0}),Pt("Term data reset successfully!",{type:"success"}),window.location.reload()}catch(Ge){console.error("Term Reset error:",Ge),Pt(`Term Reset Failed: ${Ge.message}`,{type:"error"})}finally{q(!1)}};return i.jsxs(lr,{title:"System Settings",children:[i.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[i.jsxs("div",{className:"relative overflow-hidden rounded-2xl border bg-gradient-to-br from-indigo-50 via-white to-emerald-50 p-6 shadow-sm",children:[i.jsx("div",{className:"absolute -top-16 -right-16 h-40 w-40 rounded-full bg-indigo-200/40 blur-3xl"}),i.jsx("div",{className:"absolute -bottom-20 -left-16 h-48 w-48 rounded-full bg-emerald-200/40 blur-3xl"}),i.jsxs("div",{className:"relative flex flex-col gap-2",children:[i.jsxs("h1",{className:"text-3xl font-bold text-slate-900 flex items-center gap-3",children:[i.jsx("span",{className:"h-10 w-10 rounded-2xl bg-indigo-100 text-indigo-700 flex items-center justify-center",children:i.jsx(n2,{size:20})}),"System Settings"]}),i.jsx("p",{className:"text-sm text-slate-600",children:"Configure academic terms, subjects, notices, and backups with a premium control center."})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 p-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"General Configuration"}),i.jsx("p",{className:"text-xs text-slate-500",children:"Academic year, term, and key school dates."})]}),i.jsxs("button",{onClick:Ue,disabled:H,className:"flex items-center text-xs font-bold text-white bg-emerald-600 hover:bg-emerald-700 px-4 py-2 rounded-full transition-colors",children:[i.jsx(iA,{size:14,className:"mr-1"})," ",H?"Saving...":"Save Changes"]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Academic Year"}),i.jsx("input",{type:"text",value:R.academicYear,onChange:Ge=>L({...R,academicYear:Ge.target.value}),className:"w-full border border-slate-200 p-2.5 rounded-xl bg-white text-slate-800 focus:ring-2 focus:ring-emerald-200 outline-none"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Current Term"}),i.jsxs("select",{value:R.currentTerm,onChange:Ge=>L({...R,currentTerm:Ge.target.value}),className:"w-full border border-slate-200 p-2.5 rounded-xl bg-white text-slate-800 focus:ring-2 focus:ring-emerald-200 outline-none",children:[i.jsx("option",{value:"Term 1",children:"Term 1"}),i.jsx("option",{value:"Term 2",children:"Term 2"}),i.jsx("option",{value:"Term 3",children:"Term 3"})]})]})]}),i.jsxs("div",{className:"pt-4 border-t border-slate-100",children:[i.jsx("h3",{className:"font-medium text-slate-800 mb-2",children:"School Information"}),i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"School Re-open Date"}),i.jsxs("div",{className:"relative",children:[i.jsx(Zo,{className:"absolute left-3 top-2.5 w-4 h-4 text-slate-400 pointer-events-none"}),i.jsx("input",{type:"date",value:R.schoolReopenDate,onChange:Ge=>L({...R,schoolReopenDate:Ge.target.value}),className:"w-full border border-slate-200 pl-10 pr-3 py-2.5 rounded-xl bg-white text-slate-800 focus:ring-2 focus:ring-emerald-200 outline-none"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Term Vacation Date"}),i.jsxs("div",{className:"relative",children:[i.jsx(Zo,{className:"absolute left-3 top-2.5 w-4 h-4 text-slate-400 pointer-events-none"}),i.jsx("input",{type:"date",value:R.vacationDate,onChange:Ge=>L({...R,vacationDate:Ge.target.value}),className:"w-full border border-slate-200 pl-10 pr-3 py-2.5 rounded-xl bg-white text-slate-800 focus:ring-2 focus:ring-emerald-200 outline-none"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Next Term Begins"}),i.jsxs("div",{className:"relative",children:[i.jsx(Zo,{className:"absolute left-3 top-2.5 w-4 h-4 text-slate-400 pointer-events-none"}),i.jsx("input",{type:"date",value:R.nextTermBegins||"",onChange:Ge=>L({...R,nextTermBegins:Ge.target.value}),className:"w-full border border-slate-200 pl-10 pr-3 py-2.5 rounded-xl bg-white text-slate-800 focus:ring-2 focus:ring-emerald-200 outline-none"})]})]})]}),i.jsxs("div",{className:"mt-6 rounded-2xl border border-amber-200 bg-amber-50/60 p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 text-amber-900 font-semibold",children:[i.jsx(Li,{className:"h-5 w-5"}),"Holiday Dates (exclude from term totals)"]}),i.jsx("p",{className:"mt-1 text-xs text-amber-800",children:"Add dates here to remove them from term total days and attendance analytics."}),i.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-[180px_1fr_auto] gap-3 items-center",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Zo,{className:"absolute left-3 top-2.5 w-4 h-4 text-amber-400 pointer-events-none"}),i.jsx("input",{type:"date",value:$,onChange:Ge=>P(Ge.target.value),className:"w-full border border-amber-200 pl-10 pr-3 py-2.5 rounded-xl bg-white text-slate-800 focus:ring-2 focus:ring-amber-200 outline-none"})]}),i.jsx("input",{type:"text",value:V,onChange:Ge=>G(Ge.target.value),placeholder:"Reason (optional) e.g. Independence Day",className:"w-full border border-amber-200 px-3 py-2.5 rounded-xl bg-white text-slate-800 focus:ring-2 focus:ring-amber-200 outline-none"}),i.jsxs("button",{type:"button",onClick:Pe,className:"inline-flex items-center justify-center gap-2 rounded-full bg-amber-600 px-4 py-2.5 text-sm font-semibold text-white shadow-sm transition hover:bg-amber-700",children:[i.jsx(Kh,{size:16}),"Add"]})]}),i.jsx("div",{className:"mt-4 space-y-2",children:(R.holidayDates||[]).length===0?i.jsx("div",{className:"text-xs text-amber-700",children:"No holiday dates added yet."}):(R.holidayDates||[]).map(Ge=>i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 rounded-xl border border-amber-200 bg-white px-3 py-2",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-amber-900",children:Ge.date}),Ge.reason&&i.jsx("p",{className:"text-xs text-amber-700",children:Ge.reason})]}),i.jsxs("button",{type:"button",onClick:()=>rt(Ge.date),className:"inline-flex items-center gap-1 text-xs font-semibold text-rose-600 hover:text-rose-700",children:[i.jsx(RA,{size:14}),"Remove"]})]},Ge.date))})]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 p-6",children:[i.jsxs("h2",{className:"text-xl font-bold mb-6 text-slate-800 flex items-center",children:[i.jsx(mk,{className:"mr-2 text-[#0B4A82]",size:24}),"Manage Class Subjects"]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Select Class"}),i.jsx("select",{value:v,onChange:Ge=>g(Ge.target.value),className:"w-full border border-slate-200 p-2.5 rounded-xl bg-white text-slate-800 focus:ring-2 focus:ring-[#1160A8] outline-none",children:["Nursery","KG","Class 1-3","Class 4-6","JHS 1-3","Other"].map(Ge=>{var Ht;return(Ht=ce[Ge])!=null&&Ht.length?i.jsx("optgroup",{label:Ge,children:ce[Ge].map(kt=>i.jsx("option",{value:kt.id,children:kt.name},kt.id))},Ge):null})})]}),i.jsxs("form",{onSubmit:pt,className:"flex gap-2 mb-6",children:[i.jsx("input",{type:"text",required:!0,className:"flex-1 border border-slate-200 p-2.5 rounded-xl focus:ring-2 focus:ring-[#1160A8] outline-none text-sm",placeholder:"New subject name...",value:N,onChange:Ge=>S(Ge.target.value)}),i.jsx("button",{type:"submit",className:"bg-[#1160A8] text-white px-4 py-2 rounded-xl hover:bg-[#0B4A82] transition-colors",children:i.jsx(Kh,{size:20})})]}),i.jsx("div",{className:"space-y-2 max-h-[300px] overflow-y-auto",children:b.length===0?i.jsx("p",{className:"text-sm text-slate-500 text-center italic",children:"No subjects configured for this class. Add some above!"}):b.map(Ge=>i.jsx("div",{className:"flex justify-between items-center p-3 bg-slate-50 rounded-xl border border-slate-100 group",children:(E==null?void 0:E.original)===Ge?i.jsxs("div",{className:"flex items-center flex-1 gap-2",children:[i.jsx("input",{type:"text",className:"flex-1 border border-slate-200 p-2 rounded-lg text-sm focus:ring-2 focus:ring-[#1160A8] outline-none",value:E.current,onChange:Ht=>_({...E,current:Ht.target.value}),autoFocus:!0}),i.jsx("button",{onClick:Rt,className:"text-emerald-600 hover:bg-emerald-50 p-1 rounded",children:i.jsx(Mp,{size:16})}),i.jsx("button",{onClick:()=>_(null),className:"text-[#1160A8] hover:bg-[#E6F0FA] p-1 rounded",children:i.jsx(jo,{size:16})})]}):i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"text-sm font-medium text-slate-700",children:Ge}),i.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[i.jsx("button",{onClick:()=>Ut(Ge),className:"text-slate-400 hover:text-[#1160A8] p-1.5 hover:bg-[#E6F0FA] rounded-md transition-colors",children:i.jsx(r2,{size:14})}),i.jsx("button",{onClick:()=>dt(Ge),className:"text-slate-400 hover:text-[#1160A8] p-1.5 hover:bg-[#E6F0FA] rounded-md transition-colors",children:i.jsx(RA,{size:14})})]})]})},Ge))})]}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 p-6",children:[i.jsxs("h2",{className:"text-xl font-bold mb-6 text-slate-800 flex items-center",children:[i.jsx(iA,{className:"mr-2 text-purple-600",size:24}),"Term Data Backup"]}),i.jsx("p",{className:"text-sm text-slate-600 mb-4",children:`Create a full backup of the current term's academic records, attendance, and student data. Backups can be viewed and restored from the "Manage Backups" section.`}),i.jsx("button",{onClick:Le,disabled:Q,className:"bg-purple-600 text-white px-4 py-2 rounded-full hover:bg-purple-700 transition-colors flex items-center disabled:opacity-70 disabled:cursor-not-allowed",children:Q?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent mr-2"}),"Creating..."]}):i.jsxs(i.Fragment,{children:[i.jsx(iA,{size:16,className:"mr-2"})," Create Current Term Backup"]})}),i.jsxs(fi,{to:"/admin/backups",className:"mt-4 inline-flex items-center text-sm font-medium text-[#1160A8] hover:text-[#0B4A82]",children:[i.jsx(Wk,{size:16,className:"mr-1"})," View and Manage Previous Backups"]})]}),ie&&i.jsxs("div",{className:"bg-rose-50 border border-rose-200 rounded-2xl p-6",children:[i.jsxs("div",{className:"flex items-center mb-4",children:[i.jsx(s2,{className:"text-rose-600 mr-2",size:24}),i.jsx("h2",{className:"text-xl font-bold text-rose-800",children:"Danger Zone: Database Reset"})]}),i.jsx("p",{className:"text-rose-700 mb-4",children:"This action will permanently delete all data and reset the system to its default state. Use with extreme caution."}),i.jsx("div",{className:"flex flex-col space-y-4",children:i.jsx("button",{onClick:zt,disabled:X,className:"bg-rose-600 text-white px-4 py-2 rounded-full hover:bg-rose-700 disabled:bg-rose-400 transition-colors",children:X?"Resetting Term...":"Term Reset"})})]}),i.jsx("div",{className:"text-center mt-4",children:i.jsxs("button",{onClick:()=>de(!ie),className:"text-slate-500 text-sm underline hover:text-slate-700",children:[ie?"Hide":"Show"," Advanced Settings"]})})]}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 p-6 flex flex-col h-full",children:[i.jsxs("h2",{className:"text-xl font-bold mb-6 text-slate-800 flex items-center",children:[i.jsx(aM,{className:"mr-2 text-emerald-600",size:24}),"School Notices"]}),i.jsxs("form",{onSubmit:me,className:"mb-6 bg-slate-50 p-4 rounded-2xl border border-slate-200",children:[i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Date"}),i.jsxs("div",{className:"relative",children:[i.jsx(Zo,{className:"absolute left-3 top-2.5 w-4 h-4 text-slate-400"}),i.jsx("input",{type:"date",required:!0,className:"w-full border border-slate-200 pl-10 pr-3 py-2.5 rounded-xl focus:ring-2 focus:ring-emerald-200 outline-none text-sm",value:c,onChange:Ge=>h(Ge.target.value)})]})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Notice Message"}),i.jsx("textarea",{required:!0,className:"w-full border border-slate-200 p-2.5 rounded-xl focus:ring-2 focus:ring-emerald-200 outline-none text-sm",placeholder:"Type notice here...",rows:2,value:a,onChange:Ge=>o(Ge.target.value)})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("label",{className:"flex items-center text-sm cursor-pointer",children:[i.jsx("input",{type:"radio",name:"type",className:"mr-2 text-emerald-600 focus:ring-emerald-500",checked:u==="info",onChange:()=>f("info")}),"Info"]}),i.jsxs("label",{className:"flex items-center text-sm cursor-pointer",children:[i.jsx("input",{type:"radio",name:"type",className:"mr-2 text-red-600 focus:ring-red-500",checked:u==="urgent",onChange:()=>f("urgent")}),"Urgent"]})]}),i.jsx("button",{type:"submit",disabled:A,className:"bg-emerald-600 text-white px-4 py-2 rounded-full text-sm font-medium hover:bg-emerald-700 transition-colors flex items-center disabled:opacity-70 disabled:cursor-not-allowed",children:A?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent mr-1"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Kh,{size:16,className:"mr-1"})," Add Notice"]})})]})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto pr-1",children:[i.jsx("h3",{className:"text-sm font-bold text-slate-500 uppercase mb-3",children:"Active Notices"}),i.jsx("div",{className:"space-y-3",children:t.length===0?i.jsx("p",{className:"text-slate-400 text-sm text-center italic",children:"No notices posted."}):t.map(Ge=>i.jsxs("div",{className:"flex justify-between items-start group p-3 border border-slate-100 rounded-xl hover:bg-slate-50 transition-colors",children:[i.jsxs("div",{className:`border-l-2 pl-3 ${Ge.type==="urgent"?"border-red-500":"border-emerald-500"}`,children:[i.jsx("p",{className:"text-sm text-slate-800 font-medium",children:Ge.message}),i.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:[Ge.date," "," ",Ge.type==="urgent"?"Urgent":"General Info"]})]}),i.jsx("button",{onClick:()=>Ze(Ge.id),className:"text-slate-300 hover:text-[#1160A8] transition-colors p-1",title:"Delete Notice",children:i.jsx(RA,{size:16})})]},Ge.id))})]})]})]})]}),Z&&i.jsx("div",{className:"fixed inset-0 bg-slate-900 bg-opacity-30 flex items-center justify-center z-50 transition-opacity duration-300",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 max-w-lg w-full mx-4 transform transition-all duration-300 scale-100",children:[i.jsxs("div",{className:"flex items-center mb-4",children:[i.jsx(Li,{className:"text-red-600 mr-3",size:32}),i.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Confirm Term Reset"})]}),i.jsxs("div",{className:"text-slate-600 mb-6 space-y-2",children:[i.jsxs("p",{children:["This will reset all data for the current term, but"," ",i.jsx("strong",{children:"keep core school setup"}),". Are you sure you want to proceed?"]}),i.jsxs("ul",{className:"list-disc list-inside text-sm space-y-1",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"RESET:"})," Attendance, Assessments, Teacher Attendance, Notices, and all student Remarks."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"KEEP:"})," Student Enrollment, Teacher Accounts, Class Subjects, and Timetables."]})]}),i.jsx("p",{className:"font-semibold text-red-700",children:"This action cannot be undone."})]}),i.jsxs("div",{className:"flex justify-end gap-3",children:[i.jsx("button",{onClick:()=>oe(!1),className:"px-4 py-2 text-slate-600 border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors",children:"Cancel"}),i.jsx("button",{onClick:Jt,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Confirm Term Reset"})]})]})}),ye&&M&&i.jsx("div",{className:"fixed inset-0 bg-slate-900 bg-opacity-30 flex items-center justify-center z-50 transition-opacity duration-300",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 max-w-md w-full mx-4 transform transition-all duration-300 scale-100",children:[i.jsxs("div",{className:"flex items-center mb-4",children:[i.jsx(Li,{className:"text-red-600 mr-3",size:32}),i.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Delete Subject"})]}),i.jsxs("p",{className:"text-slate-600 mb-6",children:['Are you sure you want to delete the subject "',i.jsx("strong",{children:M}),'"? This might hide scores associated with this subject and cannot be undone.']}),i.jsxs("div",{className:"flex justify-end gap-3",children:[i.jsx("button",{onClick:()=>{ne(!1),W(null)},className:"px-4 py-2 text-slate-600 border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors",children:"Cancel"}),i.jsx("button",{onClick:Je,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Delete Subject"})]})]})})]})},sK=n=>{if(!n)return"CLASS";const e=Nn.find(t=>t.id===n);return e&&e.level?e.level:n.startsWith("c_n")?"NURSERY":n.startsWith("c_kg")?"KG":n.startsWith("c_p")?"PRIMARY":n.startsWith("c_jhs")?"JHS":"CLASS"},rK=()=>{var de,X,q,Z,oe,ye,ne,M;const{school:n}=uc(),e=(n==null?void 0:n.id)||null,[t,s]=ee.useState([]),[a,o]=ee.useState(!0),[c,h]=ee.useState(null),[u,f]=ee.useState(""),[A,m]=ee.useState(""),[v,g]=ee.useState(""),[b,I]=ee.useState(null),[N,S]=ee.useState(!1),[E,_]=ee.useState(null),[R,L]=ee.useState(!1),[H,D]=ee.useState(!1),Q=ee.useMemo(()=>{var Ie;if(!((Ie=b==null?void 0:b.data)!=null&&Ie.students))return[];const W=b.data.students||[],ae=b.data.attendanceRecords||[],ue=b.data.assessments||[],ce=b.data.studentRemarks||[],ge=ae.reduce((Ue,Pe)=>(Ue[Pe.classId]||(Ue[Pe.classId]=[]),Ue[Pe.classId].push(Pe),Ue),{}),Se=ue.reduce((Ue,Pe)=>{const rt=typeof Pe.total=="number"?Pe.total:rc(Pe);return Ue[Pe.studentId]||(Ue[Pe.studentId]={total:0,count:0}),Ue[Pe.studentId].total+=rt,Ue[Pe.studentId].count+=1,Ue},{}),xe=ce.reduce((Ue,Pe)=>{const rt=Ue[Pe.studentId];if(!rt)return Ue[Pe.studentId]=Pe,Ue;const Le=new Date(rt.dateCreated).getTime();return new Date(Pe.dateCreated).getTime()>=Le&&(Ue[Pe.studentId]=Pe),Ue},{});return W.map(Ue=>{var Je;const Pe=ge[Ue.classId]||[],rt=Pe.filter(Ut=>{var Rt;return(Rt=Ut.presentStudentIds)==null?void 0:Rt.includes(Ue.id)}).length,Le=Pe.length,me=Le?`${Math.round(rt/Le*100)}%`:"-",Ze=Se[Ue.id],pt=Ze!=null&&Ze.count?(Ze.total/Ze.count).toFixed(1):"-",dt=((Je=xe[Ue.id])==null?void 0:Je.remark)||"N/A";return{student:Ue,presentDays:rt,totalDays:Le,attendanceRate:me,avgScore:pt,remark:dt}})},[b]),O=async W=>{o(!0),h(null);try{if(!e){s([]);return}const ae={schoolId:e,term:(W==null?void 0:W.term)||void 0,academicYear:(W==null?void 0:W.academicYear)||void 0,date:(W==null?void 0:W.date)||void 0},ue=await ot.getBackups(ae);s(ue)}catch(ae){console.error("Error fetching backups:",ae),h("Failed to fetch backups."),Pt("Failed to fetch backups.",{type:"error"})}finally{o(!1)}},$=async W=>{try{if(!e)return;const ae=await ot.getBackupDetails(e,W);ae?(I(ae),S(!0)):Pt("Backup details not found.",{type:"error"})}catch(ae){console.error("Error fetching backup details:",ae),Pt("Failed to fetch backup details.",{type:"error"})}},P=W=>{_(W),L(!0)},V=async W=>{try{if(!e)return;const ae=await ot.getBackupDetails(e,W);if(ae&&ae.data){const ue=`backup_${ae.academicYear.replace("-","")}_${ae.term.replace(" ","")}_${ae.timestamp}.json`,ce=JSON.stringify(ae.data,null,2),ge=new Blob([ce],{type:"application/json"}),Se=URL.createObjectURL(ge),xe=document.createElement("a");xe.href=Se,xe.download=ue,document.body.appendChild(xe),xe.click(),document.body.removeChild(xe),URL.revokeObjectURL(Se),Pt("Backup downloaded successfully!",{type:"success"})}else Pt("No data available to download for this backup.",{type:"error"})}catch(ae){console.error("Error downloading backup:",ae),Pt("Failed to download backup.",{type:"error"})}},G=async()=>{if(E){console.log("Attempting to delete backup:",E);try{if(!e)return;await ot.deleteBackup(e,E),console.log("Backup deleted successfully in DB."),Pt("Backup deleted successfully!",{type:"success"}),L(!1),_(null),f(""),m(""),g(""),await O(),console.log("Backup list refreshed after deletion.")}catch(W){console.error("Error during backup deletion or refresh:",W),Pt("Failed to delete backup or refresh list.",{type:"error"})}}},ie=async()=>{D(!1);try{if(!e)return;await ot.deleteAllBackups(e),Pt("All backups cleared successfully!",{type:"success"}),f(""),m(""),g(""),await O()}catch(W){console.error("Error clearing all backups:",W),Pt("Failed to clear all backups.",{type:"error"})}};return ee.useEffect(()=>{O()},[e]),a?i.jsx(lr,{title:"Manage Backups",children:i.jsxs("div",{className:"flex justify-center items-center h-48",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-slate-300 border-t-[#0B4A82]"}),i.jsx("p",{className:"ml-4 text-slate-500",children:"Loading backups..."})]})}):c?i.jsx(lr,{title:"Manage Backups",children:i.jsxs("div",{className:"text-center p-8 bg-[#E6F0FA] border border-[#E6F0FA] rounded-lg",children:[i.jsx("p",{className:"text-[#0B4A82]",children:c}),i.jsxs("button",{onClick:()=>O(),className:"mt-4 px-4 py-2 bg-[#0B4A82] text-white rounded hover:bg-[#0B4A82]",children:[i.jsx(OT,{className:"inline-block mr-2",size:16})," Retry"]})]})}):i.jsxs(lr,{title:"Manage Backups",children:[i.jsx("h1",{className:"text-2xl font-bold text-slate-800 mb-6",children:"Manage Term Backups"}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 p-6 mb-6",children:[i.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:"Backup Filters"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"filterTerm",className:"block text-sm font-medium text-slate-700 mb-1",children:"Term"}),i.jsxs("select",{id:"filterTerm",value:u,onChange:W=>f(W.target.value),className:"w-full border border-slate-300 p-2 rounded-lg bg-white text-slate-800 focus:ring-2 focus:ring-[#1160A8] outline-none",children:[i.jsx("option",{value:"",children:"All Terms"}),i.jsx("option",{value:"Term 1",children:"Term 1"}),i.jsx("option",{value:"Term 2",children:"Term 2"}),i.jsx("option",{value:"Term 3",children:"Term 3"})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"filterAcademicYear",className:"block text-sm font-medium text-slate-700 mb-1",children:"Academic Year"}),i.jsx("input",{id:"filterAcademicYear",type:"text",value:A,onChange:W=>m(W.target.value),placeholder:"e.g., 2023-2024",className:"w-full border border-slate-300 p-2 rounded-lg bg-white text-slate-800 focus:ring-2 focus:ring-[#1160A8] outline-none"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"filterDate",className:"block text-sm font-medium text-slate-700 mb-1",children:"Date Created (YYYY-MM-DD)"}),i.jsx("input",{id:"filterDate",type:"date",value:v,onChange:W=>g(W.target.value),className:"w-full border border-slate-300 p-2 rounded-lg bg-white text-slate-800 focus:ring-2 focus:ring-[#1160A8] outline-none"})]})]}),i.jsxs("button",{onClick:()=>O({term:u,academicYear:A,date:v}),className:"px-4 py-2 bg-[#1160A8] text-white rounded-lg hover:bg-[#0B4A82] transition-colors flex items-center",children:[i.jsx(QT,{size:16,className:"mr-2"})," Apply Filters"]}),i.jsx("button",{onClick:()=>{f(""),m(""),g(""),O()},className:"ml-2 px-4 py-2 bg-slate-200 text-slate-700 rounded-lg hover:bg-slate-300 transition-colors",children:"Clear Filters"}),i.jsx("button",{onClick:()=>D(!0),className:"ml-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Clear All Backups"})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 p-6",children:[i.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:"Available Backups"}),t.length===0?i.jsx("div",{className:"text-center p-8 text-slate-500",children:i.jsx("p",{children:"No backups found. Create one from System Settings."})}):i.jsx("div",{className:"space-y-4",children:t.map((W,ae)=>i.jsxs("div",{className:"flex items-center justify-between p-4 border border-slate-200 rounded-lg",children:[i.jsxs("div",{children:[i.jsxs("p",{className:"font-semibold text-slate-800",children:[W.term," - ",W.academicYear]}),i.jsxs("p",{className:"text-sm text-slate-500",children:["Created: ",new Date(W.timestamp).toLocaleString()]})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs("button",{onClick:()=>$(W.id||""),className:"px-3 py-1 bg-[#E6F0FA] text-[#0B4A82] rounded-md text-sm hover:bg-[#E6F0FA] flex items-center",title:"View Backup Details",children:[i.jsx(qd,{size:16,className:"mr-1"})," View"]}),i.jsxs("button",{onClick:()=>V(W.id||""),className:"px-3 py-1 bg-emerald-100 text-emerald-700 rounded-md text-sm hover:bg-emerald-200 flex items-center",title:"Download Backup",children:[i.jsx(Jv,{size:16,className:"mr-1"})," Download"]}),i.jsxs("button",{onClick:()=>P(W.id||""),className:"px-3 py-1 bg-[#E6F0FA] text-[#0B4A82] rounded-md text-sm hover:bg-[#E6F0FA] flex items-center",title:"Delete Backup",children:[i.jsx(RA,{size:16,className:"mr-1"})," Delete"]})]})]},W.id||`backup-${ae}`))})]}),N&&b&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[100] p-4 animate-in fade-in duration-200",children:i.jsxs("div",{className:"bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto shadow-2xl",children:[i.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:[i.jsxs("h3",{className:"text-lg font-bold text-slate-900",children:["Backup Details: ",b.term," -"," ",b.academicYear]}),i.jsx("button",{onClick:()=>S(!1),className:"text-slate-400 hover:text-slate-700",children:i.jsx(jo,{size:20})})]}),i.jsxs("div",{className:"p-6",children:[i.jsx("div",{className:"bg-gradient-to-r from-[#E6F0FA] to-amber-50 rounded-xl p-4 mb-6 border border-[#E6F0FA]",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 bg-[#E6F0FA] rounded-full",children:i.jsx(Ld,{className:"text-[#0B4A82]",size:24})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-slate-500 uppercase font-semibold",children:"Backup Created"}),i.jsx("p",{className:"text-lg font-bold text-slate-800",children:new Date(b.timestamp).toLocaleString()})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-xs text-slate-500 uppercase font-semibold",children:"Backup ID"}),i.jsxs("p",{className:"text-sm font-mono text-slate-700",children:[(de=b.id)==null?void 0:de.slice(0,8),"..."]})]})]})}),b.data?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[i.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-slate-100 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("div",{className:"p-2 bg-amber-100 rounded-lg",children:i.jsx(um,{className:"text-amber-600",size:20})}),i.jsx("span",{className:"text-xs text-slate-500 font-semibold uppercase",children:"Students"})]}),i.jsx("p",{className:"text-2xl font-bold text-slate-800",children:((X=b.data.students)==null?void 0:X.length)||0})]}),i.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-slate-100 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("div",{className:"p-2 bg-[#E6F0FA] rounded-lg",children:i.jsx(fl,{className:"text-[#0B4A82]",size:20})}),i.jsx("span",{className:"text-xs text-slate-500 font-semibold uppercase",children:"Teachers"})]}),i.jsx("p",{className:"text-2xl font-bold text-slate-800",children:((q=b.data.users)==null?void 0:q.length)||0})]}),i.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-slate-100 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("div",{className:"p-2 bg-emerald-100 rounded-lg",children:i.jsx(Pl,{className:"text-emerald-600",size:20})}),i.jsx("span",{className:"text-xs text-slate-500 font-semibold uppercase",children:"Assessments"})]}),i.jsx("p",{className:"text-2xl font-bold text-slate-800",children:((Z=b.data.assessments)==null?void 0:Z.length)||0})]}),i.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-slate-100 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:i.jsx(Zo,{className:"text-purple-600",size:20})}),i.jsx("span",{className:"text-xs text-slate-500 font-semibold uppercase",children:"Attendance"})]}),i.jsx("p",{className:"text-2xl font-bold text-slate-800",children:((oe=b.data.attendanceRecords)==null?void 0:oe.length)||0})]})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-6",children:[i.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 border border-slate-100",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(Vh,{size:16,className:"text-slate-400"}),i.jsx("span",{className:"text-xs text-slate-500 font-semibold uppercase",children:"Teacher Attendance"})]}),i.jsxs("p",{className:"text-lg font-bold text-slate-700",children:[((ye=b.data.teacherAttendanceRecords)==null?void 0:ye.length)||0," ","records"]})]}),i.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 border border-slate-100",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(pv,{size:16,className:"text-slate-400"}),i.jsx("span",{className:"text-xs text-slate-500 font-semibold uppercase",children:"Remarks"})]}),i.jsxs("p",{className:"text-lg font-bold text-slate-700",children:[((ne=b.data.studentRemarks)==null?void 0:ne.length)||0," ","records"]})]}),i.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 border border-slate-100",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(Pl,{size:16,className:"text-slate-400"}),i.jsx("span",{className:"text-xs text-slate-500 font-semibold uppercase",children:"Timetables"})]}),i.jsxs("p",{className:"text-lg font-bold text-slate-700",children:[((M=b.data.timetables)==null?void 0:M.length)||0," classes"]})]})]}),i.jsxs("div",{className:"border-t border-slate-100 pt-6",children:[i.jsxs("h4",{className:"font-bold text-slate-800 mb-4 flex items-center",children:[i.jsx(fl,{size:18,className:"mr-2 text-[#0B4A82]"}),"Students List"]}),Q.length>0?i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 overflow-hidden",children:[i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm text-left",children:[i.jsx("thead",{className:"bg-slate-50 text-slate-600 font-semibold",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3",children:"Student"}),i.jsx("th",{className:"px-4 py-3",children:"Class"}),i.jsx("th",{className:"px-4 py-3 text-center",children:"Attendance"}),i.jsx("th",{className:"px-4 py-3 text-center",children:"Avg Score"}),i.jsx("th",{className:"px-4 py-3",children:"Remark"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-100",children:Q.map(W=>{var ae;return i.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[i.jsx("td",{className:"px-4 py-3 font-medium text-slate-800",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs text-white mr-3 shadow-sm ${W.student.gender==="Male"?"bg-amber-400":"bg-[#0B4A82]"}`,children:W.student.name.charAt(0)}),i.jsxs("div",{children:[i.jsx("p",{children:W.student.name}),i.jsx("p",{className:"text-xs text-slate-400",children:W.student.gender})]})]})}),i.jsx("td",{className:"px-4 py-3",children:i.jsx("span",{className:"px-2.5 py-1 rounded-md bg-slate-100 text-slate-600 text-xs font-semibold border border-slate-200",children:((ae=Nn.find(ue=>ue.id===W.student.classId))==null?void 0:ae.name)||W.student.classId})}),i.jsxs("td",{className:"px-4 py-3 text-center",children:[i.jsx("div",{className:"text-sm font-semibold text-slate-700",children:W.attendanceRate}),i.jsxs("div",{className:"text-xs text-slate-400",children:[W.presentDays,"/",W.totalDays," days"]})]}),i.jsx("td",{className:"px-4 py-3 text-center font-semibold text-slate-700",children:W.avgScore}),i.jsx("td",{className:"px-4 py-3 text-slate-600",children:W.remark})]},W.student.id)})})]})}),i.jsxs("div",{className:"px-4 py-3 bg-slate-50 border-t border-slate-100 text-xs text-slate-500",children:["Total: ",Q.length," student",Q.length!==1?"s":""]})]}):i.jsxs("div",{className:"text-center py-8 text-slate-500 bg-slate-50 rounded-xl border border-slate-100",children:[i.jsx(fl,{size:32,className:"mx-auto mb-2 text-slate-300"}),i.jsx("p",{children:"No students in this backup."})]}),b.data.classSubjects&&b.data.classSubjects.length>0&&i.jsxs("div",{className:"mt-6",children:[i.jsxs("h5",{className:"font-bold text-slate-800 mb-3 flex items-center",children:[i.jsx(um,{size:18,className:"mr-2 text-amber-600"}),"Classes & Subjects"]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:b.data.classSubjects.map((W,ae)=>{var ge,Se;const ue=Nn.find(xe=>xe.id===W.classId),ce=sK(W.classId);return i.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-white rounded-xl p-4 border border-amber-200 hover:shadow-lg transition-shadow",children:[i.jsxs("div",{className:"text-center mb-3 pb-3 border-b border-amber-200",children:[i.jsx("p",{className:"text-xs font-bold text-amber-600 uppercase tracking-wider mb-1",children:ce}),i.jsx("p",{className:"text-2xl font-extrabold text-slate-800",children:(ue==null?void 0:ue.name)||W.classId})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wide mb-2",children:"Subjects"}),i.jsx("div",{className:"flex flex-wrap gap-1",children:W.subjects&&W.subjects.length>0?W.subjects.map((xe,Ie)=>i.jsx("span",{className:"px-2 py-1 bg-white border border-slate-200 text-slate-700 text-xs rounded-md shadow-sm",children:xe},Ie)):i.jsx("span",{className:"text-xs text-slate-400 italic",children:"No subjects"})}),i.jsxs("p",{className:"text-xs text-slate-500 mt-2 font-medium",children:[((ge=W.subjects)==null?void 0:ge.length)||0," subject",((Se=W.subjects)==null?void 0:Se.length)!==1?"s":""]})]})]},ae)})})]})]})]}):i.jsxs("div",{className:"text-center py-12 text-slate-500",children:[i.jsx(Vh,{size:48,className:"mx-auto mb-4 text-slate-300"}),i.jsx("p",{children:"No data available for this backup."})]})]}),i.jsx("div",{className:"p-6 border-t border-slate-100 text-right",children:i.jsx("button",{onClick:()=>S(!1),className:"px-4 py-2 bg-[#1160A8] text-white rounded-lg hover:bg-[#0B4A82]",children:"Close"})})]})}),R&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[100] p-4 animate-in fade-in duration-200",children:i.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md max-h-[90vh] overflow-y-auto shadow-2xl",children:[i.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:[i.jsx("h3",{className:"text-lg font-bold text-[#0B4A82]",children:"Confirm Deletion"}),i.jsx("button",{onClick:()=>L(!1),className:"text-slate-400 hover:text-slate-700",children:i.jsx(jo,{size:20})})]}),i.jsxs("div",{className:"p-6",children:[i.jsx("p",{className:"text-slate-700 mb-4",children:"Are you sure you want to delete this backup? This action cannot be undone."}),i.jsxs("p",{className:"text-sm text-slate-500",children:["Backup ID: ",E]})]}),i.jsxs("div",{className:"p-6 border-t border-slate-100 text-right space-x-2",children:[i.jsx("button",{onClick:()=>L(!1),className:"px-4 py-2 bg-slate-200 text-slate-700 rounded-lg hover:bg-slate-300",children:"Cancel"}),i.jsx("button",{onClick:G,className:"px-4 py-2 bg-[#1160A8] text-white rounded-lg hover:bg-[#0B4A82]",children:"Delete"})]})]})}),H&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[100] p-4 animate-in fade-in duration-200",children:i.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md max-h-[90vh] overflow-y-auto shadow-2xl",children:[i.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:[i.jsx("h3",{className:"text-lg font-bold text-[#0B4A82]",children:"Confirm Clear All Backups"}),i.jsx("button",{onClick:()=>D(!1),className:"text-slate-400 hover:text-slate-700",children:i.jsx(jo,{size:20})})]}),i.jsxs("div",{className:"p-6",children:[i.jsx("p",{className:"text-slate-700 mb-4",children:"Are you sure you want to delete ALL backups? This action cannot be undone and will permanently remove all backup data."}),i.jsxs("p",{className:"text-sm text-[#0B4A82] font-semibold",children:["Warning: This will affect ",t.length," backup",t.length!==1?"s":"","."]})]}),i.jsxs("div",{className:"p-6 border-t border-slate-100 text-right space-x-2",children:[i.jsx("button",{onClick:()=>D(!1),className:"px-4 py-2 bg-slate-200 text-slate-700 rounded-lg hover:bg-slate-300",children:"Cancel"}),i.jsx("button",{onClick:ie,className:"px-4 py-2 bg-[#1160A8] text-white rounded-lg hover:bg-[#0B4A82]",children:"Clear All"})]})]})})]})},Z0=["Monday","Tuesday","Wednesday","Thursday","Friday"],aK=()=>{var _,R;const{user:n}=nl(),e=ET(n),[t,s]=ee.useState(Nn[0].id),[a,o]=ee.useState({}),[c,h]=ee.useState(!1),[u,f]=ee.useState(Z0[0]),[A,m]=ee.useState([]),[v,g]=ee.useState({startTime:"08:00",endTime:"09:00",subject:"",type:"lesson"});ee.useEffect(()=>{(async()=>{h(!0);const H=await ot.getSubjects(e,t);m(H),H.length>0?g($=>({...$,subject:H[0],type:"lesson"})):g($=>({...$,subject:"",type:"lesson"}));const D=await ot.getTimetable(e,t),Q=(D==null?void 0:D.schedule)||{};Z0.forEach($=>{Q[$]||(Q[$]=[])});let O=!1;if(H.length>0&&Object.keys(Q).forEach($=>{Q[$].forEach(P=>{P.type==="lesson"&&!H.includes(P.subject)&&(P.subject=H[0],O=!0)})}),O){const $={schoolId:e,classId:t,schedule:Q};await ot.saveTimetable($),Pt("Timetable subjects updated to match system settings!",{type:"success"})}o(Q),h(!1)})()},[t,e]);const b=()=>{if(!v.startTime||!v.endTime||!v.subject)return;if(v.startTime>=v.endTime){Pt("End time must be after start time",{type:"error"});return}const L={id:Math.random().toString(36).substr(2,9),startTime:v.startTime,endTime:v.endTime,subject:v.subject,type:v.type},H={...a};H[u]=[...H[u],L].sort((D,Q)=>D.startTime.localeCompare(Q.startTime)),o(H)},I=L=>{const H={...a};H[u]=H[u].filter(D=>D.id!==L),o(H)},N=async()=>{h(!0);const L={schoolId:e,classId:t,schedule:a,updatedAt:Date.now()};await ot.saveTimetable(L),h(!1),Pt("Timetable saved successfully!",{type:"success"})},S=L=>{const H=a[L];return!H||H.length===0?"N/A":H[H.length-1].endTime},E=L=>{switch(L){case"break":return{bg:"bg-amber-50",border:"border-amber-100",icon:Dk,iconColor:"text-amber-600",badge:"text-amber-600 border-amber-200"};case"worship":return{bg:"bg-purple-50",border:"border-purple-100",icon:PT,iconColor:"text-purple-600",badge:"text-purple-600 border-purple-200"};case"assembly":return{bg:"bg-[#E6F0FA]",border:"border-[#E6F0FA]",icon:fl,iconColor:"text-[#0B4A82]",badge:"text-[#0B4A82] border-[#E6F0FA]"};case"arrival":return{bg:"bg-green-50",border:"border-green-100",icon:fl,iconColor:"text-green-600",badge:"text-green-600 border-green-200"};case"closing":return{bg:"bg-slate-100",border:"border-slate-200",icon:Pk,iconColor:"text-slate-600",badge:"text-slate-600 border-slate-300"};default:return{bg:"bg-white",border:"border-slate-100",icon:Ld,iconColor:"text-emerald-600",badge:"text-slate-600 border-slate-200"}}};return i.jsx(lr,{title:"Manage Timetable",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 flex flex-col h-[calc(100vh-8rem)]",children:[i.jsxs("div",{className:"p-4 border-b border-slate-100 flex flex-col md:flex-row justify-between md:items-center gap-4 bg-slate-50",children:[i.jsx("div",{className:"flex items-center gap-4",children:i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Select Class"}),i.jsx("select",{className:"border border-slate-300 rounded-md px-3 py-2 text-sm w-48",value:t,onChange:L=>s(L.target.value),children:Nn.map(L=>i.jsx("option",{value:L.id,children:L.name},L.id))})]})}),i.jsxs("button",{onClick:N,disabled:c,className:"flex items-center bg-emerald-600 text-white px-6 py-2 rounded-lg hover:bg-emerald-700 transition-colors shadow-sm disabled:opacity-50",children:[i.jsx(iA,{size:18,className:"mr-2"}),c?"Saving...":"Save Schedule"]})]}),i.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[i.jsx("div",{className:"hidden md:flex w-40 border-r border-slate-100 bg-white flex flex-col overflow-y-auto",children:Z0.map(L=>{var D;const H=((D=a[L])==null?void 0:D.length)||0;return i.jsxs("button",{onClick:()=>f(L),className:`p-4 text-left border-l-4 transition-colors hover:bg-slate-50 ${u===L?"border-emerald-500 bg-emerald-50 text-emerald-800 font-medium":"border-transparent text-slate-600"}`,children:[i.jsx("span",{className:"block",children:L}),i.jsxs("span",{className:"text-xs text-slate-400",children:[H," Slots"]})]},L)})}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden bg-slate-50/50",children:[i.jsx("div",{className:"md:hidden flex overflow-x-auto bg-white border-b border-slate-100",children:Z0.map(L=>{var D;const H=((D=a[L])==null?void 0:D.length)||0;return i.jsxs("button",{onClick:()=>f(L),className:`px-4 py-3 text-sm whitespace-nowrap transition-colors hover:bg-slate-50 ${u===L?"border-b-2 border-emerald-500 bg-emerald-50 text-emerald-800 font-medium":"border-transparent text-slate-600"}`,children:[i.jsx("span",{children:L}),i.jsxs("span",{className:"text-xs text-slate-400 ml-1",children:["(",H,")"]})]},L)})}),i.jsx("div",{className:"p-4 md:p-6 border-b border-slate-100 flex justify-between items-center bg-white",children:i.jsxs("div",{children:[i.jsxs("h2",{className:"text-xl font-bold text-slate-800",children:[u," Schedule"]}),i.jsxs("p",{className:"text-sm text-slate-500",children:["Closing Time:"," ",i.jsx("span",{className:"font-semibold text-slate-800",children:S(u)})]})]})}),i.jsx("div",{className:"flex-1 overflow-y-auto p-3 md:p-6 space-y-3 md:space-y-4 min-h-[260px]",children:((_=a[u])==null?void 0:_.length)===0?i.jsxs("div",{className:"text-center w-full min-h-[260px] md:min-h-[320px] py-10 md:py-16 px-6 md:px-10 text-slate-500 border-2 border-dashed border-slate-200 rounded-2xl bg-white flex flex-col items-center justify-center",children:[i.jsx("div",{className:"text-xl md:text-2xl font-semibold mb-3 text-slate-700",children:"No classes or breaks scheduled"}),i.jsxs("div",{className:"text-base md:text-lg leading-relaxed max-w-md mx-auto",children:["Add time slots for ",u," using the form below."]})]}):(R=a[u])==null?void 0:R.map(L=>{const H=E(L.type),D=H.icon;return i.jsxs("div",{className:`flex items-center p-4 md:p-5 rounded-lg border shadow-sm ${H.bg} ${H.border}`,children:[i.jsx("div",{className:"flex items-center justify-center w-12 h-12 md:w-14 md:h-14 rounded-full mr-3 md:mr-4 bg-white shadow-sm text-slate-500 flex-shrink-0",children:i.jsx(D,{size:20,className:H.iconColor})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-1",children:[i.jsxs("span",{className:"font-mono text-sm md:text-base font-semibold text-slate-600 bg-slate-100 px-2 py-1 rounded whitespace-nowrap",children:[L.startTime," - ",L.endTime]}),L.type!=="lesson"&&i.jsx("span",{className:`text-xs uppercase font-bold border px-2 py-0.5 rounded ${H.badge}`,children:L.type})]}),i.jsx("p",{className:"text-base md:text-lg font-bold text-slate-800 break-words",children:L.subject})]}),i.jsx("button",{onClick:()=>I(L.id),className:"text-slate-300 hover:text-[#1160A8] p-2 transition-colors flex-shrink-0",children:i.jsx(RA,{size:18})})]},L.id)})}),i.jsxs("div",{className:"p-4 md:p-6 bg-white border-t border-slate-200",children:[i.jsx("h4",{className:"text-sm font-bold text-slate-500 uppercase mb-4",children:"Add Time Slot"}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-12 gap-3 items-end",children:[i.jsxs("div",{className:"sm:col-span-1 lg:col-span-2",children:[i.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Start Time"}),i.jsx("input",{type:"time",className:"w-full border p-3 rounded text-sm md:text-base",value:v.startTime,onChange:L=>g({...v,startTime:L.target.value})})]}),i.jsxs("div",{className:"sm:col-span-1 lg:col-span-2",children:[i.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"End Time"}),i.jsx("input",{type:"time",className:"w-full border p-3 rounded text-sm md:text-base",value:v.endTime,onChange:L=>g({...v,endTime:L.target.value})})]}),i.jsxs("div",{className:"sm:col-span-2 lg:col-span-2",children:[i.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Type"}),i.jsxs("select",{className:"w-full border p-3 rounded text-sm md:text-base",value:v.type,onChange:L=>{const H=L.target.value;let D="";H==="break"?D="Break":H==="worship"?D="Worship":H==="closing"?D="Closing":H==="assembly"?D="Assembly":H==="arrival"?D="Arrival & Free Play":H==="lunch"?D="Lunch":H==="snack"?D="Snack":H==="cleaning"?D="Clean Up":H==="games"?D="Games":H==="nap"?D="Nap Time":H==="clubs"?D="Clubs/Activities":D=A[0]||"",g({...v,type:H,subject:D})},children:[i.jsx("option",{value:"arrival",children:"Arrival & Free Play"}),i.jsx("option",{value:"assembly",children:"Morning Assembly"}),i.jsx("option",{value:"lesson",children:"Lesson"}),i.jsx("option",{value:"break",children:"Break"}),i.jsx("option",{value:"snack",children:"Snack"}),i.jsx("option",{value:"lunch",children:"Lunch"}),i.jsx("option",{value:"worship",children:"Worship/Devotion"}),i.jsx("option",{value:"games",children:"Games/Sports"}),i.jsx("option",{value:"clubs",children:"Clubs/Activities"}),i.jsx("option",{value:"cleaning",children:"Clean Up"}),i.jsx("option",{value:"nap",children:"Nap Time"}),i.jsx("option",{value:"closing",children:"Closing"})]})]}),i.jsxs("div",{className:"sm:col-span-2 lg:col-span-4",children:[i.jsx("label",{className:"block text-xs text-slate-500 mb-1",children:"Activity/Subject"}),v.type==="lesson"?i.jsxs("select",{className:"w-full border p-3 rounded text-sm md:text-base",value:v.subject,onChange:L=>g({...v,subject:L.target.value}),children:[A.map(L=>i.jsx("option",{value:L,children:L},L)),A.length===0&&i.jsx("option",{value:"",children:"No Subjects Found"})]}):i.jsx("input",{type:"text",className:"w-full border p-3 rounded text-sm md:text-base",value:v.subject,onChange:L=>g({...v,subject:L.target.value})})]}),i.jsx("div",{className:"sm:col-span-2 lg:col-span-2",children:i.jsxs("button",{onClick:b,className:"w-full bg-[#1160A8] text-white p-3 rounded text-sm md:text-base font-medium hover:bg-[#0B4A82] transition-colors",children:[i.jsx(Kh,{size:16,className:"inline mr-1"})," Add Slot"]})})]})]})]})]})]})})},iK=()=>{const{school:n}=uc(),[e,t]=ee.useState(!1),[s,a]=ee.useState("0"),[o,c]=ee.useState([]),[h,u]=ee.useState(!1),[f,A]=ee.useState(!1),m=(_,R="GHS")=>{if(!_&&_!==0)return"-";const L=_>=100?_/100:_;return new Intl.NumberFormat("en-GH",{style:"currency",currency:R}).format(L)},v=_=>{if(!_)return"-";if(_ instanceof or)return _.toDate().toLocaleString();if(typeof _=="number")return new Date(_).toLocaleString();const R=new Date(_);return Number.isNaN(R.getTime())?"-":R.toLocaleString()},g=_=>{const R=(_||"pending").toLowerCase();return["success","paid","active"].includes(R)?{label:"Paid",className:"bg-emerald-50 text-emerald-700"}:["failed","failure","past_due"].includes(R)?{label:"Failed",className:"bg-rose-50 text-rose-700"}:["abandoned","cancelled","canceled"].includes(R)?{label:"Cancelled",className:"bg-slate-100 text-slate-600"}:{label:"Pending",className:"bg-amber-50 text-amber-700"}},b=ee.useMemo(()=>{var L;const _=((L=n==null?void 0:n.billing)==null?void 0:L.status)||"inactive",R=(n==null?void 0:n.plan)||"monthly";return{status:_,plan:R}},[n]),I=ee.useMemo(()=>{const _=o[0];return g((_==null?void 0:_.status)||b.status)},[b.status,o]),N=async()=>{if(n!=null&&n.id){u(!0);try{const _=Pn(Ct,"payments"),R=$n(_,nn("schoolId","==",n.id)),H=(await Xn(R)).docs.map(D=>({id:D.id,...D.data()})).sort((D,Q)=>{var P,V;const O=(P=D.createdAt)!=null&&P.toMillis?D.createdAt.toMillis():new Date(D.createdAt||0).getTime();return((V=Q.createdAt)!=null&&V.toMillis?Q.createdAt.toMillis():new Date(Q.createdAt||0).getTime())-O});c(H)}catch(_){console.error("Failed to load payment history",_),Pt("Failed to load payment history.",{type:"error"})}finally{u(!1)}}},S=async()=>{if(!o.length){Pt("No payments to verify.",{type:"info"});return}const _=o.filter(R=>["pending","abandoned","failed"].includes(String(R.status||"pending").toLowerCase()));if(!_.length){Pt("All payments are already verified.",{type:"success"});return}try{A(!0);let R=0;for(const L of _)L.reference&&(await x7({reference:L.reference}),R+=1);Pt(`Verification complete. ${R} payment(s) updated.`,{type:"success"}),await N()}catch(R){console.error("Payment verification failed:",R),Pt((R==null?void 0:R.message)||"Payment verification failed.",{type:"error"})}finally{A(!1)}};ee.useEffect(()=>{N()},[n==null?void 0:n.id]);const E=async()=>{const _=Number(s);if(!_||_<=0){Pt("Enter a valid amount.",{type:"error"});return}try{t(!0);const R=await v7({amount:_*100,currency:"GHS"});window.location.href=R.authorizationUrl}catch(R){console.error("Billing error:",R),Pt((R==null?void 0:R.message)||"Payment initiation failed.",{type:"error"})}finally{t(!1)}};return i.jsx(lr,{title:"Billing & Subscription",children:i.jsxs("div",{className:"max-w-5xl mx-auto space-y-6",children:[i.jsxs("div",{className:"relative overflow-hidden rounded-2xl border bg-gradient-to-br from-indigo-50 via-white to-emerald-50 p-6 shadow-sm",children:[i.jsx("div",{className:"absolute -top-16 -right-16 h-40 w-40 rounded-full bg-indigo-200/40 blur-3xl"}),i.jsx("div",{className:"absolute -bottom-20 -left-16 h-48 w-48 rounded-full bg-emerald-200/40 blur-3xl"}),i.jsxs("div",{className:"relative",children:[i.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Billing & Subscription"}),i.jsx("p",{className:"text-sm text-slate-600 mt-2",children:"Pay monthly via Mobile Money and keep your school active."})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"lg:col-span-2 bg-white rounded-2xl border border-slate-100 p-6 shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"h-10 w-10 rounded-xl bg-emerald-100 text-emerald-600 flex items-center justify-center",children:i.jsx(DT,{size:18})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Pay Monthly (MoMo)"}),i.jsx("p",{className:"text-sm text-slate-500",children:"MTN, Telecel, AirtelTigo supported via Paystack."})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Amount (GHS)"}),i.jsx("input",{type:"number",min:"0",step:"1",value:s,onChange:_=>a(_.target.value),className:"w-full border border-slate-200 rounded-xl p-2.5 focus:ring-2 focus:ring-emerald-200 outline-none",placeholder:"e.g. 500"})]}),i.jsx("div",{className:"flex items-end",children:i.jsxs("button",{onClick:E,disabled:e,className:"w-full inline-flex items-center justify-center gap-2 rounded-full bg-emerald-600 text-white px-5 py-2.5 font-semibold hover:bg-emerald-700 transition disabled:opacity-60",children:[e?"Redirecting...":"Pay with MoMo",i.jsx(lk,{size:16})]})})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 p-6 shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"h-10 w-10 rounded-xl bg-indigo-100 text-indigo-600 flex items-center justify-center",children:i.jsx(SM,{size:18})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Subscription Status"}),i.jsx("p",{className:"text-sm text-slate-500",children:"School Plan"})]})]}),i.jsxs("div",{className:"space-y-3 text-sm",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-slate-500",children:"Plan"}),i.jsx("span",{className:"font-semibold text-slate-800",children:b.plan})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-slate-500",children:"Status"}),i.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-0.5 text-xs font-semibold ${I.className}`,children:I.label})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-slate-500",children:"Renewal"}),i.jsx("span",{className:"font-semibold text-slate-800",children:"Monthly"})]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 p-6 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Payment History"}),i.jsx("p",{className:"text-sm text-slate-500",children:"Track all payments made by your school admin account."})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsx("button",{onClick:S,className:"text-sm text-emerald-700 border border-emerald-200 px-3 py-1.5 rounded-lg hover:bg-emerald-50",disabled:h||f,children:f?"Verifying...":"Verify Pending"}),i.jsx("button",{onClick:N,className:"text-sm text-slate-600 border border-slate-200 px-3 py-1.5 rounded-lg hover:bg-slate-50",disabled:h,children:h?"Loading...":"Refresh"})]})]}),i.jsxs("div",{className:"overflow-x-auto",children:[i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"text-left text-slate-500 border-b border-slate-100",children:[i.jsx("th",{className:"py-3 pr-4",children:"Amount"}),i.jsx("th",{className:"py-3 pr-4",children:"Currency"}),i.jsx("th",{className:"py-3 pr-4",children:"Status"}),i.jsx("th",{className:"py-3 pr-4",children:"Reference"}),i.jsx("th",{className:"py-3",children:"Created"})]})}),i.jsx("tbody",{children:o.map(_=>{const R=g(_.status);return i.jsxs("tr",{className:"border-b border-slate-100",children:[i.jsx("td",{className:"py-3 pr-4 text-slate-700",children:m(_.amount,_.currency)}),i.jsx("td",{className:"py-3 pr-4 text-slate-600",children:_.currency||"GHS"}),i.jsx("td",{className:"py-3 pr-4",children:i.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-0.5 text-xs font-semibold ${R.className}`,children:R.label})}),i.jsx("td",{className:"py-3 pr-4 text-slate-500",children:_.reference||"-"}),i.jsx("td",{className:"py-3 text-slate-500",children:v(_.createdAt)})]},_.id)})})]}),!o.length&&!h&&i.jsx("div",{className:"text-center text-sm text-slate-400 py-10",children:"No payment history yet."})]})]})]})})},DI=ee.createContext({});function oK(n){const e=ee.useRef(null);return e.current===null&&(e.current=n()),e.current}const d2=typeof window<"u",lK=d2?ee.useLayoutEffect:ee.useEffect,h2=ee.createContext(null);function f2(n,e){n.indexOf(e)===-1&&n.push(e)}function m2(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Jc=(n,e,t)=>t>e?e:t<n?n:t;let p2=()=>{};const _u={},LI=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function QI(n){return typeof n=="object"&&n!==null}const OI=n=>/^0[^.\s]+$/u.test(n);function g2(n){let e;return()=>(e===void 0&&(e=n()),e)}const DA=n=>n,AK=(n,e)=>t=>e(n(t)),Qg=(...n)=>n.reduce(AK),hg=(n,e,t)=>{const s=e-n;return s===0?1:(t-n)/s};class v2{constructor(){this.subscriptions=[]}add(e){return f2(this.subscriptions,e),()=>m2(this.subscriptions,e)}notify(e,t,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,t,s);else for(let o=0;o<a;o++){const c=this.subscriptions[o];c&&c(e,t,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Cu=n=>n*1e3,_A=n=>n/1e3;function PI(n,e){return e?n*(1e3/e):0}const kI=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,cK=1e-7,uK=12;function dK(n,e,t,s,a){let o,c,h=0;do c=e+(t-e)/2,o=kI(c,s,a)-n,o>0?t=c:e=c;while(Math.abs(o)>cK&&++h<uK);return c}function Og(n,e,t,s){if(n===e&&t===s)return DA;const a=o=>dK(o,0,1,n,t);return o=>o===0||o===1?o:kI(a(o),e,s)}const MI=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,HI=n=>e=>1-n(1-e),VI=Og(.33,1.53,.69,.99),x2=HI(VI),KI=MI(x2),zI=n=>(n*=2)<1?.5*x2(n):.5*(2-Math.pow(2,-10*(n-1))),y2=n=>1-Math.sin(Math.acos(n)),GI=HI(y2),$I=MI(y2),hK=Og(.42,0,1,1),fK=Og(0,0,.58,1),YI=Og(.42,0,.58,1),mK=n=>Array.isArray(n)&&typeof n[0]!="number",WI=n=>Array.isArray(n)&&typeof n[0]=="number",pK={linear:DA,easeIn:hK,easeInOut:YI,easeOut:fK,circIn:y2,circInOut:$I,circOut:GI,backIn:x2,backInOut:KI,backOut:VI,anticipate:zI},gK=n=>typeof n=="string",wS=n=>{if(WI(n)){p2(n.length===4);const[e,t,s,a]=n;return Og(e,t,s,a)}else if(gK(n))return pK[n];return n},ev=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function vK(n,e){let t=new Set,s=new Set,a=!1,o=!1;const c=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function u(A){c.has(A)&&(f.schedule(A),n()),A(h)}const f={schedule:(A,m=!1,v=!1)=>{const b=v&&a?t:s;return m&&c.add(A),b.has(A)||b.add(A),A},cancel:A=>{s.delete(A),c.delete(A)},process:A=>{if(h=A,a){o=!0;return}a=!0,[t,s]=[s,t],t.forEach(u),t.clear(),a=!1,o&&(o=!1,f.process(A))}};return f}const xK=40;function XI(n,e){let t=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},o=()=>t=!0,c=ev.reduce((_,R)=>(_[R]=vK(o),_),{}),{setup:h,read:u,resolveKeyframes:f,preUpdate:A,update:m,preRender:v,render:g,postRender:b}=c,I=()=>{const _=_u.useManualTiming?a.timestamp:performance.now();t=!1,_u.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(_-a.timestamp,xK),1)),a.timestamp=_,a.isProcessing=!0,h.process(a),u.process(a),f.process(a),A.process(a),m.process(a),v.process(a),g.process(a),b.process(a),a.isProcessing=!1,t&&e&&(s=!1,n(I))},N=()=>{t=!0,s=!0,a.isProcessing||n(I)};return{schedule:ev.reduce((_,R)=>{const L=c[R];return _[R]=(H,D=!1,Q=!1)=>(t||N(),L.schedule(H,D,Q)),_},{}),cancel:_=>{for(let R=0;R<ev.length;R++)c[ev[R]].cancel(_)},state:a,steps:c}}const{schedule:Ba,cancel:Gd,state:xo,steps:x1}=XI(typeof requestAnimationFrame<"u"?requestAnimationFrame:DA,!0);let yv;function yK(){yv=void 0}const ml={now:()=>(yv===void 0&&ml.set(xo.isProcessing||_u.useManualTiming?xo.timestamp:performance.now()),yv),set:n=>{yv=n,queueMicrotask(yK)}},JI=n=>e=>typeof e=="string"&&e.startsWith(n),qI=JI("--"),bK=JI("var(--"),b2=n=>bK(n)?wK.test(n.split("/*")[0].trim()):!1,wK=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function jS(n){return typeof n!="string"?!1:n.split("/*")[0].includes("var(--")}const Sm={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},fg={...Sm,transform:n=>Jc(0,1,n)},tv={...Sm,default:1},Yp=n=>Math.round(n*1e5)/1e5,w2=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function jK(n){return n==null}const BK=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,j2=(n,e)=>t=>!!(typeof t=="string"&&BK.test(t)&&t.startsWith(n)||e&&!jK(t)&&Object.prototype.hasOwnProperty.call(t,e)),ZI=(n,e,t)=>s=>{if(typeof s!="string")return s;const[a,o,c,h]=s.match(w2);return{[n]:parseFloat(a),[e]:parseFloat(o),[t]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},CK=n=>Jc(0,255,n),y1={...Sm,transform:n=>Math.round(CK(n))},Oh={test:j2("rgb","red"),parse:ZI("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:s=1})=>"rgba("+y1.transform(n)+", "+y1.transform(e)+", "+y1.transform(t)+", "+Yp(fg.transform(s))+")"};function SK(n){let e="",t="",s="",a="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),s=n.substring(5,7),a=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),s=n.substring(3,4),a=n.substring(4,5),e+=e,t+=t,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const Nb={test:j2("#"),parse:SK,transform:Oh.transform},Pg=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),yd=Pg("deg"),$c=Pg("%"),bn=Pg("px"),NK=Pg("vh"),EK=Pg("vw"),BS={...$c,parse:n=>$c.parse(n)/100,transform:n=>$c.transform(n*100)},Yf={test:j2("hsl","hue"),parse:ZI("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:s=1})=>"hsla("+Math.round(n)+", "+$c.transform(Yp(e))+", "+$c.transform(Yp(t))+", "+Yp(fg.transform(s))+")"},Ui={test:n=>Oh.test(n)||Nb.test(n)||Yf.test(n),parse:n=>Oh.test(n)?Oh.parse(n):Yf.test(n)?Yf.parse(n):Nb.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Oh.transform(n):Yf.transform(n),getAnimatableNone:n=>{const e=Ui.parse(n);return e.alpha=0,Ui.transform(e)}},TK=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function IK(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(w2))==null?void 0:e.length)||0)+(((t=n.match(TK))==null?void 0:t.length)||0)>0}const e3="number",t3="color",_K="var",FK="var(",CS="${}",UK=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function mg(n){const e=n.toString(),t=[],s={color:[],number:[],var:[]},a=[];let o=0;const h=e.replace(UK,u=>(Ui.test(u)?(s.color.push(o),a.push(t3),t.push(Ui.parse(u))):u.startsWith(FK)?(s.var.push(o),a.push(_K),t.push(u)):(s.number.push(o),a.push(e3),t.push(parseFloat(u))),++o,CS)).split(CS);return{values:t,split:h,indexes:s,types:a}}function n3(n){return mg(n).values}function s3(n){const{split:e,types:t}=mg(n),s=e.length;return a=>{let o="";for(let c=0;c<s;c++)if(o+=e[c],a[c]!==void 0){const h=t[c];h===e3?o+=Yp(a[c]):h===t3?o+=Ui.transform(a[c]):o+=a[c]}return o}}const RK=n=>typeof n=="number"?0:Ui.test(n)?Ui.getAnimatableNone(n):n;function DK(n){const e=n3(n);return s3(n)(e.map(RK))}const $d={test:IK,parse:n3,createTransformer:s3,getAnimatableNone:DK};function b1(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function LK({hue:n,saturation:e,lightness:t,alpha:s}){n/=360,e/=100,t/=100;let a=0,o=0,c=0;if(!e)a=o=c=t;else{const h=t<.5?t*(1+e):t+e-t*e,u=2*t-h;a=b1(u,h,n+1/3),o=b1(u,h,n),c=b1(u,h,n-1/3)}return{red:Math.round(a*255),green:Math.round(o*255),blue:Math.round(c*255),alpha:s}}function sx(n,e){return t=>t>0?e:n}const Ka=(n,e,t)=>n+(e-n)*t,w1=(n,e,t)=>{const s=n*n,a=t*(e*e-s)+s;return a<0?0:Math.sqrt(a)},QK=[Nb,Oh,Yf],OK=n=>QK.find(e=>e.test(n));function SS(n){const e=OK(n);if(!e)return!1;let t=e.parse(n);return e===Yf&&(t=LK(t)),t}const NS=(n,e)=>{const t=SS(n),s=SS(e);if(!t||!s)return sx(n,e);const a={...t};return o=>(a.red=w1(t.red,s.red,o),a.green=w1(t.green,s.green,o),a.blue=w1(t.blue,s.blue,o),a.alpha=Ka(t.alpha,s.alpha,o),Oh.transform(a))},Eb=new Set(["none","hidden"]);function PK(n,e){return Eb.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function kK(n,e){return t=>Ka(n,e,t)}function B2(n){return typeof n=="number"?kK:typeof n=="string"?b2(n)?sx:Ui.test(n)?NS:VK:Array.isArray(n)?r3:typeof n=="object"?Ui.test(n)?NS:MK:sx}function r3(n,e){const t=[...n],s=t.length,a=n.map((o,c)=>B2(o)(o,e[c]));return o=>{for(let c=0;c<s;c++)t[c]=a[c](o);return t}}function MK(n,e){const t={...n,...e},s={};for(const a in t)n[a]!==void 0&&e[a]!==void 0&&(s[a]=B2(n[a])(n[a],e[a]));return a=>{for(const o in s)t[o]=s[o](a);return t}}function HK(n,e){const t=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const o=e.types[a],c=n.indexes[o][s[o]],h=n.values[c]??0;t[a]=h,s[o]++}return t}const VK=(n,e)=>{const t=$d.createTransformer(e),s=mg(n),a=mg(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?Eb.has(n)&&!a.values.length||Eb.has(e)&&!s.values.length?PK(n,e):Qg(r3(HK(s,a),a.values),t):sx(n,e)};function a3(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?Ka(n,e,t):B2(n)(n,e)}const KK=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>Ba.update(e,t),stop:()=>Gd(e),now:()=>xo.isProcessing?xo.timestamp:ml.now()}},i3=(n,e,t=10)=>{let s="";const a=Math.max(Math.round(e/t),2);for(let o=0;o<a;o++)s+=Math.round(n(o/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},rx=2e4;function C2(n){let e=0;const t=50;let s=n.next(e);for(;!s.done&&e<rx;)e+=t,s=n.next(e);return e>=rx?1/0:e}function zK(n,e=100,t){const s=t({...n,keyframes:[0,e]}),a=Math.min(C2(s),rx);return{type:"keyframes",ease:o=>s.next(a*o).value/e,duration:_A(a)}}const GK=5;function o3(n,e,t){const s=Math.max(e-GK,0);return PI(t-n(s),e-s)}const ni={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},j1=.001;function $K({duration:n=ni.duration,bounce:e=ni.bounce,velocity:t=ni.velocity,mass:s=ni.mass}){let a,o,c=1-e;c=Jc(ni.minDamping,ni.maxDamping,c),n=Jc(ni.minDuration,ni.maxDuration,_A(n)),c<1?(a=f=>{const A=f*c,m=A*n,v=A-t,g=Tb(f,c),b=Math.exp(-m);return j1-v/g*b},o=f=>{const m=f*c*n,v=m*t+t,g=Math.pow(c,2)*Math.pow(f,2)*n,b=Math.exp(-m),I=Tb(Math.pow(f,2),c);return(-a(f)+j1>0?-1:1)*((v-g)*b)/I}):(a=f=>{const A=Math.exp(-f*n),m=(f-t)*n+1;return-j1+A*m},o=f=>{const A=Math.exp(-f*n),m=(t-f)*(n*n);return A*m});const h=5/n,u=WK(a,o,h);if(n=Cu(n),isNaN(u))return{stiffness:ni.stiffness,damping:ni.damping,duration:n};{const f=Math.pow(u,2)*s;return{stiffness:f,damping:c*2*Math.sqrt(s*f),duration:n}}}const YK=12;function WK(n,e,t){let s=t;for(let a=1;a<YK;a++)s=s-n(s)/e(s);return s}function Tb(n,e){return n*Math.sqrt(1-e*e)}const XK=["duration","bounce"],JK=["stiffness","damping","mass"];function ES(n,e){return e.some(t=>n[t]!==void 0)}function qK(n){let e={velocity:ni.velocity,stiffness:ni.stiffness,damping:ni.damping,mass:ni.mass,isResolvedFromDuration:!1,...n};if(!ES(n,JK)&&ES(n,XK))if(n.visualDuration){const t=n.visualDuration,s=2*Math.PI/(t*1.2),a=s*s,o=2*Jc(.05,1,1-(n.bounce||0))*Math.sqrt(a);e={...e,mass:ni.mass,stiffness:a,damping:o}}else{const t=$K(n);e={...e,...t,mass:ni.mass},e.isResolvedFromDuration=!0}return e}function ax(n=ni.visualDuration,e=ni.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:s,restDelta:a}=t;const o=t.keyframes[0],c=t.keyframes[t.keyframes.length-1],h={done:!1,value:o},{stiffness:u,damping:f,mass:A,duration:m,velocity:v,isResolvedFromDuration:g}=qK({...t,velocity:-_A(t.velocity||0)}),b=v||0,I=f/(2*Math.sqrt(u*A)),N=c-o,S=_A(Math.sqrt(u/A)),E=Math.abs(N)<5;s||(s=E?ni.restSpeed.granular:ni.restSpeed.default),a||(a=E?ni.restDelta.granular:ni.restDelta.default);let _;if(I<1){const L=Tb(S,I);_=H=>{const D=Math.exp(-I*S*H);return c-D*((b+I*S*N)/L*Math.sin(L*H)+N*Math.cos(L*H))}}else if(I===1)_=L=>c-Math.exp(-S*L)*(N+(b+S*N)*L);else{const L=S*Math.sqrt(I*I-1);_=H=>{const D=Math.exp(-I*S*H),Q=Math.min(L*H,300);return c-D*((b+I*S*N)*Math.sinh(Q)+L*N*Math.cosh(Q))/L}}const R={calculatedDuration:g&&m||null,next:L=>{const H=_(L);if(g)h.done=L>=m;else{let D=L===0?b:0;I<1&&(D=L===0?Cu(b):o3(_,L,H));const Q=Math.abs(D)<=s,O=Math.abs(c-H)<=a;h.done=Q&&O}return h.value=h.done?c:H,h},toString:()=>{const L=Math.min(C2(R),rx),H=i3(D=>R.next(L*D).value,L,30);return L+"ms "+H},toTransition:()=>{}};return R}ax.applyToOptions=n=>{const e=zK(n,100,ax);return n.ease=e.ease,n.duration=Cu(e.duration),n.type="keyframes",n};function Ib({keyframes:n,velocity:e=0,power:t=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:o=500,modifyTarget:c,min:h,max:u,restDelta:f=.5,restSpeed:A}){const m=n[0],v={done:!1,value:m},g=Q=>h!==void 0&&Q<h||u!==void 0&&Q>u,b=Q=>h===void 0?u:u===void 0||Math.abs(h-Q)<Math.abs(u-Q)?h:u;let I=t*e;const N=m+I,S=c===void 0?N:c(N);S!==N&&(I=S-m);const E=Q=>-I*Math.exp(-Q/s),_=Q=>S+E(Q),R=Q=>{const O=E(Q),$=_(Q);v.done=Math.abs(O)<=f,v.value=v.done?S:$};let L,H;const D=Q=>{g(v.value)&&(L=Q,H=ax({keyframes:[v.value,b(v.value)],velocity:o3(_,Q,v.value),damping:a,stiffness:o,restDelta:f,restSpeed:A}))};return D(0),{calculatedDuration:null,next:Q=>{let O=!1;return!H&&L===void 0&&(O=!0,R(Q),D(Q)),L!==void 0&&Q>=L?H.next(Q-L):(!O&&R(Q),v)}}}function ZK(n,e,t){const s=[],a=t||_u.mix||a3,o=n.length-1;for(let c=0;c<o;c++){let h=a(n[c],n[c+1]);if(e){const u=Array.isArray(e)?e[c]||DA:e;h=Qg(u,h)}s.push(h)}return s}function ez(n,e,{clamp:t=!0,ease:s,mixer:a}={}){const o=n.length;if(p2(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const c=n[0]===n[1];n[0]>n[o-1]&&(n=[...n].reverse(),e=[...e].reverse());const h=ZK(e,s,a),u=h.length,f=A=>{if(c&&A<n[0])return e[0];let m=0;if(u>1)for(;m<n.length-2&&!(A<n[m+1]);m++);const v=hg(n[m],n[m+1],A);return h[m](v)};return t?A=>f(Jc(n[0],n[o-1],A)):f}function tz(n,e){const t=n[n.length-1];for(let s=1;s<=e;s++){const a=hg(0,e,s);n.push(Ka(t,1,a))}}function nz(n){const e=[0];return tz(e,n.length-1),e}function sz(n,e){return n.map(t=>t*e)}function rz(n,e){return n.map(()=>e||YI).splice(0,n.length-1)}function Wp({duration:n=300,keyframes:e,times:t,ease:s="easeInOut"}){const a=mK(s)?s.map(wS):wS(s),o={done:!1,value:e[0]},c=sz(t&&t.length===e.length?t:nz(e),n),h=ez(c,e,{ease:Array.isArray(a)?a:rz(e,a)});return{calculatedDuration:n,next:u=>(o.value=h(u),o.done=u>=n,o)}}const az=n=>n!==null;function S2(n,{repeat:e,repeatType:t="loop"},s,a=1){const o=n.filter(az),h=a<0||e&&t!=="loop"&&e%2===1?0:o.length-1;return!h||s===void 0?o[h]:s}const iz={decay:Ib,inertia:Ib,tween:Wp,keyframes:Wp,spring:ax};function l3(n){typeof n.type=="string"&&(n.type=iz[n.type])}class N2{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const oz=n=>n/100;class E2 extends N2{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,a;const{motionValue:t}=this.options;t&&t.updatedAt!==ml.now()&&this.tick(ml.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(s=this.options).onStop)==null||a.call(s))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;l3(e);const{type:t=Wp,repeat:s=0,repeatDelay:a=0,repeatType:o,velocity:c=0}=e;let{keyframes:h}=e;const u=t||Wp;u!==Wp&&typeof h[0]!="number"&&(this.mixKeyframes=Qg(oz,a3(h[0],h[1])),h=[0,100]);const f=u({...e,keyframes:h});o==="mirror"&&(this.mirroredGenerator=u({...e,keyframes:[...h].reverse(),velocity:-c})),f.calculatedDuration===null&&(f.calculatedDuration=C2(f));const{calculatedDuration:A}=f;this.calculatedDuration=A,this.resolvedDuration=A+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=f}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:s,totalDuration:a,mixKeyframes:o,mirroredGenerator:c,resolvedDuration:h,calculatedDuration:u}=this;if(this.startTime===null)return s.next(0);const{delay:f=0,keyframes:A,repeat:m,repeatType:v,repeatDelay:g,type:b,onUpdate:I,finalKeyframe:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const S=this.currentTime-f*(this.playbackSpeed>=0?1:-1),E=this.playbackSpeed>=0?S<0:S>a;this.currentTime=Math.max(S,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let _=this.currentTime,R=s;if(m){const Q=Math.min(this.currentTime,a)/h;let O=Math.floor(Q),$=Q%1;!$&&Q>=1&&($=1),$===1&&O--,O=Math.min(O,m+1),!!(O%2)&&(v==="reverse"?($=1-$,g&&($-=g/h)):v==="mirror"&&(R=c)),_=Jc(0,1,$)*h}const L=E?{done:!1,value:A[0]}:R.next(_);o&&(L.value=o(L.value));let{done:H}=L;!E&&u!==null&&(H=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&H);return D&&b!==Ib&&(L.value=S2(A,this.options,N,this.speed)),I&&I(L.value),D&&this.finish(),L}then(e,t){return this.finished.then(e,t)}get duration(){return _A(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+_A(e)}get time(){return _A(this.currentTime)}set time(e){var t;e=Cu(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(t=this.driver)==null||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(ml.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=_A(this.currentTime))}play(){var a,o;if(this.isStopped)return;const{driver:e=KK,startTime:t}=this.options;this.driver||(this.driver=e(c=>this.tick(c))),(o=(a=this.options).onPlay)==null||o.call(a);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=t??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ml.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",(t=(e=this.options).onComplete)==null||t.call(e)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(t=(e=this.options).onCancel)==null||t.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(t=this.driver)==null||t.stop(),e.observe(this)}}function lz(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const Ph=n=>n*180/Math.PI,_b=n=>{const e=Ph(Math.atan2(n[1],n[0]));return Fb(e)},Az={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:_b,rotateZ:_b,skewX:n=>Ph(Math.atan(n[1])),skewY:n=>Ph(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},Fb=n=>(n=n%360,n<0&&(n+=360),n),TS=_b,IS=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),_S=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),cz={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:IS,scaleY:_S,scale:n=>(IS(n)+_S(n))/2,rotateX:n=>Fb(Ph(Math.atan2(n[6],n[5]))),rotateY:n=>Fb(Ph(Math.atan2(-n[2],n[0]))),rotateZ:TS,rotate:TS,skewX:n=>Ph(Math.atan(n[4])),skewY:n=>Ph(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function Ub(n){return n.includes("scale")?1:0}function Rb(n,e){if(!n||n==="none")return Ub(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(t)s=cz,a=t;else{const h=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=Az,a=h}if(!a)return Ub(e);const o=s[e],c=a[1].split(",").map(dz);return typeof o=="function"?o(c):c[o]}const uz=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return Rb(t,e)};function dz(n){return parseFloat(n.trim())}const Nm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Em=new Set(Nm),FS=n=>n===Sm||n===bn,hz=new Set(["x","y","z"]),fz=Nm.filter(n=>!hz.has(n));function mz(n){const e=[];return fz.forEach(t=>{const s=n.getValue(t);s!==void 0&&(e.push([t,s.get()]),s.set(t.startsWith("scale")?1:0))}),e}const Id={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>Rb(e,"x"),y:(n,{transform:e})=>Rb(e,"y")};Id.translateX=Id.x;Id.translateY=Id.y;const Wh=new Set;let Db=!1,Lb=!1,Qb=!1;function A3(){if(Lb){const n=Array.from(Wh).filter(s=>s.needsMeasurement),e=new Set(n.map(s=>s.element)),t=new Map;e.forEach(s=>{const a=mz(s);a.length&&(t.set(s,a),s.render())}),n.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=t.get(s);a&&a.forEach(([o,c])=>{var h;(h=s.getValue(o))==null||h.set(c)})}),n.forEach(s=>s.measureEndState()),n.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Lb=!1,Db=!1,Wh.forEach(n=>n.complete(Qb)),Wh.clear()}function c3(){Wh.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Lb=!0)})}function pz(){Qb=!0,c3(),A3(),Qb=!1}class T2{constructor(e,t,s,a,o,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=s,this.motionValue=a,this.element=o,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Wh.add(this),Db||(Db=!0,Ba.read(c3),Ba.resolveKeyframes(A3))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:s,motionValue:a}=this;if(e[0]===null){const o=a==null?void 0:a.get(),c=e[e.length-1];if(o!==void 0)e[0]=o;else if(s&&t){const h=s.readValue(t,c);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=c),a&&o===void 0&&a.set(e[0])}lz(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Wh.delete(this)}cancel(){this.state==="scheduled"&&(Wh.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const gz=n=>n.startsWith("--");function vz(n,e,t){gz(e)?n.style.setProperty(e,t):n.style[e]=t}const xz=g2(()=>window.ScrollTimeline!==void 0),yz={};function bz(n,e){const t=g2(n);return()=>yz[e]??t()}const u3=bz(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ip=([n,e,t,s])=>`cubic-bezier(${n}, ${e}, ${t}, ${s})`,US={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ip([0,.65,.55,1]),circOut:Ip([.55,0,1,.45]),backIn:Ip([.31,.01,.66,-.59]),backOut:Ip([.33,1.53,.69,.99])};function d3(n,e){if(n)return typeof n=="function"?u3()?i3(n,e):"ease-out":WI(n)?Ip(n):Array.isArray(n)?n.map(t=>d3(t,e)||US.easeOut):US[n]}function wz(n,e,t,{delay:s=0,duration:a=300,repeat:o=0,repeatType:c="loop",ease:h="easeOut",times:u}={},f=void 0){const A={[e]:t};u&&(A.offset=u);const m=d3(h,a);Array.isArray(m)&&(A.easing=m);const v={delay:s,duration:a,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:o+1,direction:c==="reverse"?"alternate":"normal"};return f&&(v.pseudoElement=f),n.animate(A,v)}function h3(n){return typeof n=="function"&&"applyToOptions"in n}function jz({type:n,...e}){return h3(n)&&u3()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Bz extends N2{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:t,name:s,keyframes:a,pseudoElement:o,allowFlatten:c=!1,finalKeyframe:h,onComplete:u}=e;this.isPseudoElement=!!o,this.allowFlatten=c,this.options=e,p2(typeof e.type!="string");const f=jz(e);this.animation=wz(t,s,a,f,o),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const A=S2(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(A):vz(t,s,A),this.animation.cancel()}u==null||u(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;(t=(e=this.animation).finish)==null||t.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||(t=(e=this.animation).commitStyles)==null||t.call(e)}get duration(){var t,s;const e=((s=(t=this.animation.effect)==null?void 0:t.getComputedTiming)==null?void 0:s.call(t).duration)||0;return _A(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+_A(e)}get time(){return _A(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Cu(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&xz()?(this.animation.timeline=e,DA):t(this)}}const f3={anticipate:zI,backInOut:KI,circInOut:$I};function Cz(n){return n in f3}function Sz(n){typeof n.ease=="string"&&Cz(n.ease)&&(n.ease=f3[n.ease])}const B1=10;class Nz extends Bz{constructor(e){Sz(e),l3(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:s,onComplete:a,element:o,...c}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const h=new E2({...c,autoplay:!1}),u=Math.max(B1,ml.now()-this.startTime),f=Jc(0,B1,u-B1);t.setWithVelocity(h.sample(Math.max(0,u-f)).value,h.sample(u).value,f),h.stop()}}const RS=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&($d.test(n)||n==="0")&&!n.startsWith("url("));function Ez(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function Tz(n,e,t,s){const a=n[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const o=n[n.length-1],c=RS(a,e),h=RS(o,e);return!c||!h?!1:Ez(n)||(t==="spring"||h3(t))&&s}function Ob(n){n.duration=0,n.type="keyframes"}const Iz=new Set(["opacity","clipPath","filter","transform"]),_z=g2(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Fz(n){var A;const{motionValue:e,name:t,repeatDelay:s,repeatType:a,damping:o,type:c}=n;if(!(((A=e==null?void 0:e.owner)==null?void 0:A.current)instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:f}=e.owner.getProps();return _z()&&t&&Iz.has(t)&&(t!=="transform"||!f)&&!u&&!s&&a!=="mirror"&&o!==0&&c!=="inertia"}const Uz=40;class Rz extends N2{constructor({autoplay:e=!0,delay:t=0,type:s="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:c="loop",keyframes:h,name:u,motionValue:f,element:A,...m}){var b;super(),this.stop=()=>{var I,N;this._animation&&(this._animation.stop(),(I=this.stopTimeline)==null||I.call(this)),(N=this.keyframeResolver)==null||N.cancel()},this.createdAt=ml.now();const v={autoplay:e,delay:t,type:s,repeat:a,repeatDelay:o,repeatType:c,name:u,motionValue:f,element:A,...m},g=(A==null?void 0:A.KeyframeResolver)||T2;this.keyframeResolver=new g(h,(I,N,S)=>this.onKeyframesResolved(I,N,v,!S),u,f,A),(b=this.keyframeResolver)==null||b.scheduleResolve()}onKeyframesResolved(e,t,s,a){this.keyframeResolver=void 0;const{name:o,type:c,velocity:h,delay:u,isHandoff:f,onUpdate:A}=s;this.resolvedAt=ml.now(),Tz(e,o,c,h)||((_u.instantAnimations||!u)&&(A==null||A(S2(e,s,t))),e[0]=e[e.length-1],Ob(s),s.repeat=0);const v={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>Uz?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...s,keyframes:e},g=!f&&Fz(v)?new Nz({...v,element:v.motionValue.owner.current}):new E2(v);g.finished.then(()=>this.notifyFinished()).catch(DA),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),pz()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const Dz=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Lz(n){const e=Dz.exec(n);if(!e)return[,];const[,t,s,a]=e;return[`--${t??s}`,a]}function m3(n,e,t=1){const[s,a]=Lz(n);if(!s)return;const o=window.getComputedStyle(e).getPropertyValue(s);if(o){const c=o.trim();return LI(c)?parseFloat(c):c}return b2(a)?m3(a,e,t+1):a}function I2(n,e){return(n==null?void 0:n[e])??(n==null?void 0:n.default)??n}const p3=new Set(["width","height","top","left","right","bottom",...Nm]),Qz={test:n=>n==="auto",parse:n=>n},g3=n=>e=>e.test(n),v3=[Sm,bn,$c,yd,EK,NK,Qz],DS=n=>v3.find(g3(n));function Oz(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||OI(n):!0}const Pz=new Set(["brightness","contrast","saturate","opacity"]);function kz(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[s]=t.match(w2)||[];if(!s)return n;const a=t.replace(s,"");let o=Pz.has(e)?1:0;return s!==t&&(o*=100),e+"("+o+a+")"}const Mz=/\b([a-z-]*)\(.*?\)/gu,Pb={...$d,getAnimatableNone:n=>{const e=n.match(Mz);return e?e.map(kz).join(" "):n}},LS={...Sm,transform:Math.round},Hz={rotate:yd,rotateX:yd,rotateY:yd,rotateZ:yd,scale:tv,scaleX:tv,scaleY:tv,scaleZ:tv,skew:yd,skewX:yd,skewY:yd,distance:bn,translateX:bn,translateY:bn,translateZ:bn,x:bn,y:bn,z:bn,perspective:bn,transformPerspective:bn,opacity:fg,originX:BS,originY:BS,originZ:bn},_2={borderWidth:bn,borderTopWidth:bn,borderRightWidth:bn,borderBottomWidth:bn,borderLeftWidth:bn,borderRadius:bn,radius:bn,borderTopLeftRadius:bn,borderTopRightRadius:bn,borderBottomRightRadius:bn,borderBottomLeftRadius:bn,width:bn,maxWidth:bn,height:bn,maxHeight:bn,top:bn,right:bn,bottom:bn,left:bn,inset:bn,insetBlock:bn,insetBlockStart:bn,insetBlockEnd:bn,insetInline:bn,insetInlineStart:bn,insetInlineEnd:bn,padding:bn,paddingTop:bn,paddingRight:bn,paddingBottom:bn,paddingLeft:bn,paddingBlock:bn,paddingBlockStart:bn,paddingBlockEnd:bn,paddingInline:bn,paddingInlineStart:bn,paddingInlineEnd:bn,margin:bn,marginTop:bn,marginRight:bn,marginBottom:bn,marginLeft:bn,marginBlock:bn,marginBlockStart:bn,marginBlockEnd:bn,marginInline:bn,marginInlineStart:bn,marginInlineEnd:bn,backgroundPositionX:bn,backgroundPositionY:bn,...Hz,zIndex:LS,fillOpacity:fg,strokeOpacity:fg,numOctaves:LS},Vz={..._2,color:Ui,backgroundColor:Ui,outlineColor:Ui,fill:Ui,stroke:Ui,borderColor:Ui,borderTopColor:Ui,borderRightColor:Ui,borderBottomColor:Ui,borderLeftColor:Ui,filter:Pb,WebkitFilter:Pb},x3=n=>Vz[n];function y3(n,e){let t=x3(n);return t!==Pb&&(t=$d),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const Kz=new Set(["auto","none","0"]);function zz(n,e,t){let s=0,a;for(;s<n.length&&!a;){const o=n[s];typeof o=="string"&&!Kz.has(o)&&mg(o).values.length&&(a=n[s]),s++}if(a&&t)for(const o of e)n[o]=y3(t,a)}class Gz extends T2{constructor(e,t,s,a,o){super(e,t,s,a,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:s}=this;if(!t||!t.current)return;super.readKeyframes();for(let A=0;A<e.length;A++){let m=e[A];if(typeof m=="string"&&(m=m.trim(),b2(m))){const v=m3(m,t.current);v!==void 0&&(e[A]=v),A===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!p3.has(s)||e.length!==2)return;const[a,o]=e,c=DS(a),h=DS(o),u=jS(a),f=jS(o);if(u!==f&&Id[s]){this.needsMeasurement=!0;return}if(c!==h)if(FS(c)&&FS(h))for(let A=0;A<e.length;A++){const m=e[A];typeof m=="string"&&(e[A]=parseFloat(m))}else Id[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||Oz(e[a]))&&s.push(a);s.length&&zz(e,s,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Id[s](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const a=t[t.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){var h;const{element:e,name:t,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(t);a&&a.jump(this.measuredOrigin,!1);const o=s.length-1,c=s[o];s[o]=Id[t](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(h=this.removedTransforms)!=null&&h.length&&this.removedTransforms.forEach(([u,f])=>{e.getValue(u).set(f)}),this.resolveNoneKeyframes()}}function $z(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let s=document;const a=(t==null?void 0:t[n])??s.querySelectorAll(n);return a?Array.from(a):[]}return Array.from(n)}const b3=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function Yz(n){return QI(n)&&"offsetHeight"in n}const QS=30,Wz=n=>!isNaN(parseFloat(n));class Xz{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var o;const a=ml.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=ml.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Wz(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new v2);const s=this.events[e].add(t);return e==="change"?()=>{s(),Ba.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,s){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ml.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>QS)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,QS);return PI(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;(e=this.dependents)==null||e.clear(),(t=this.events.destroy)==null||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function hm(n,e){return new Xz(n,e)}const{schedule:F2}=XI(queueMicrotask,!1),nc={x:!1,y:!1};function w3(){return nc.x||nc.y}function Jz(n){return n==="x"||n==="y"?nc[n]?null:(nc[n]=!0,()=>{nc[n]=!1}):nc.x||nc.y?null:(nc.x=nc.y=!0,()=>{nc.x=nc.y=!1})}function j3(n,e){const t=$z(n),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[t,a,()=>s.abort()]}function OS(n){return!(n.pointerType==="touch"||w3())}function qz(n,e,t={}){const[s,a,o]=j3(n,t),c=h=>{if(!OS(h))return;const{target:u}=h,f=e(u,h);if(typeof f!="function"||!u)return;const A=m=>{OS(m)&&(f(m),u.removeEventListener("pointerleave",A))};u.addEventListener("pointerleave",A,a)};return s.forEach(h=>{h.addEventListener("pointerenter",c,a)}),o}const B3=(n,e)=>e?n===e?!0:B3(n,e.parentElement):!1,U2=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,Zz=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function C3(n){return Zz.has(n.tagName)||n.isContentEditable===!0}const bv=new WeakSet;function PS(n){return e=>{e.key==="Enter"&&n(e)}}function C1(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const eG=(n,e)=>{const t=n.currentTarget;if(!t)return;const s=PS(()=>{if(bv.has(t))return;C1(t,"down");const a=PS(()=>{C1(t,"up")}),o=()=>C1(t,"cancel");t.addEventListener("keyup",a,e),t.addEventListener("blur",o,e)});t.addEventListener("keydown",s,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",s),e)};function kS(n){return U2(n)&&!w3()}function tG(n,e,t={}){const[s,a,o]=j3(n,t),c=h=>{const u=h.currentTarget;if(!kS(h))return;bv.add(u);const f=e(u,h),A=(g,b)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",v),bv.has(u)&&bv.delete(u),kS(g)&&typeof f=="function"&&f(g,{success:b})},m=g=>{A(g,u===window||u===document||t.useGlobalTarget||B3(u,g.target))},v=g=>{A(g,!1)};window.addEventListener("pointerup",m,a),window.addEventListener("pointercancel",v,a)};return s.forEach(h=>{(t.useGlobalTarget?window:h).addEventListener("pointerdown",c,a),Yz(h)&&(h.addEventListener("focus",f=>eG(f,a)),!C3(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),o}function S3(n){return QI(n)&&"ownerSVGElement"in n}function nG(n){return S3(n)&&n.tagName==="svg"}const el=n=>!!(n&&n.getVelocity),sG=[...v3,Ui,$d],rG=n=>sG.find(g3(n)),N3=ee.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function aG(n=!0){const e=ee.useContext(h2);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:s,register:a}=e,o=ee.useId();ee.useEffect(()=>{if(n)return a(o)},[n]);const c=ee.useCallback(()=>n&&s&&s(o),[o,s,n]);return!t&&s?[!1,c]:[!0]}const E3=ee.createContext({strict:!1}),MS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},fm={};for(const n in MS)fm[n]={isEnabled:e=>MS[n].some(t=>!!e[t])};function iG(n){for(const e in n)fm[e]={...fm[e],...n[e]}}const oG=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ix(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||oG.has(n)}let T3=n=>!ix(n);function lG(n){typeof n=="function"&&(T3=e=>e.startsWith("on")?!ix(e):n(e))}try{lG(require("@emotion/is-prop-valid").default)}catch{}function AG(n,e,t){const s={};for(const a in n)a==="values"&&typeof n.values=="object"||(T3(a)||t===!0&&ix(a)||!e&&!ix(a)||n.draggable&&a.startsWith("onDrag"))&&(s[a]=n[a]);return s}const Mx=ee.createContext({});function Hx(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function pg(n){return typeof n=="string"||Array.isArray(n)}const R2=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],D2=["initial",...R2];function Vx(n){return Hx(n.animate)||D2.some(e=>pg(n[e]))}function I3(n){return!!(Vx(n)||n.variants)}function cG(n,e){if(Vx(n)){const{initial:t,animate:s}=n;return{initial:t===!1||pg(t)?t:void 0,animate:pg(s)?s:void 0}}return n.inherit!==!1?e:{}}function uG(n){const{initial:e,animate:t}=cG(n,ee.useContext(Mx));return ee.useMemo(()=>({initial:e,animate:t}),[HS(e),HS(t)])}function HS(n){return Array.isArray(n)?n.join(" "):n}function VS(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const jp={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(bn.test(n))n=parseFloat(n);else return n;const t=VS(n,e.target.x),s=VS(n,e.target.y);return`${t}% ${s}%`}},dG={correct:(n,{treeScale:e,projectionDelta:t})=>{const s=n,a=$d.parse(n);if(a.length>5)return s;const o=$d.createTransformer(n),c=typeof a[0]!="number"?1:0,h=t.x.scale*e.x,u=t.y.scale*e.y;a[0+c]/=h,a[1+c]/=u;const f=Ka(h,u,.5);return typeof a[2+c]=="number"&&(a[2+c]/=f),typeof a[3+c]=="number"&&(a[3+c]/=f),o(a)}},kb={borderRadius:{...jp,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:jp,borderTopRightRadius:jp,borderBottomLeftRadius:jp,borderBottomRightRadius:jp,boxShadow:dG};function _3(n,{layout:e,layoutId:t}){return Em.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!kb[n]||n==="opacity")}const hG={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},fG=Nm.length;function mG(n,e,t){let s="",a=!0;for(let o=0;o<fG;o++){const c=Nm[o],h=n[c];if(h===void 0)continue;let u=!0;if(typeof h=="number"?u=h===(c.startsWith("scale")?1:0):u=parseFloat(h)===0,!u||t){const f=b3(h,_2[c]);if(!u){a=!1;const A=hG[c]||c;s+=`${A}(${f}) `}t&&(e[c]=f)}}return s=s.trim(),t?s=t(e,a?"":s):a&&(s="none"),s}function L2(n,e,t){const{style:s,vars:a,transformOrigin:o}=n;let c=!1,h=!1;for(const u in e){const f=e[u];if(Em.has(u)){c=!0;continue}else if(qI(u)){a[u]=f;continue}else{const A=b3(f,_2[u]);u.startsWith("origin")?(h=!0,o[u]=A):s[u]=A}}if(e.transform||(c||t?s.transform=mG(e,n.transform,t):s.transform&&(s.transform="none")),h){const{originX:u="50%",originY:f="50%",originZ:A=0}=o;s.transformOrigin=`${u} ${f} ${A}`}}const Q2=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function F3(n,e,t){for(const s in e)!el(e[s])&&!_3(s,t)&&(n[s]=e[s])}function pG({transformTemplate:n},e){return ee.useMemo(()=>{const t=Q2();return L2(t,e,n),Object.assign({},t.vars,t.style)},[e])}function gG(n,e){const t=n.style||{},s={};return F3(s,t,n),Object.assign(s,pG(n,e)),s}function vG(n,e){const t={},s=gG(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=s,t}const xG={offset:"stroke-dashoffset",array:"stroke-dasharray"},yG={offset:"strokeDashoffset",array:"strokeDasharray"};function bG(n,e,t=1,s=0,a=!0){n.pathLength=1;const o=a?xG:yG;n[o.offset]=bn.transform(-s);const c=bn.transform(e),h=bn.transform(t);n[o.array]=`${c} ${h}`}const wG=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function U3(n,{attrX:e,attrY:t,attrScale:s,pathLength:a,pathSpacing:o=1,pathOffset:c=0,...h},u,f,A){if(L2(n,h,f),u){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:m,style:v}=n;m.transform&&(v.transform=m.transform,delete m.transform),(v.transform||m.transformOrigin)&&(v.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),v.transform&&(v.transformBox=(A==null?void 0:A.transformBox)??"fill-box",delete m.transformBox);for(const g of wG)m[g]!==void 0&&(v[g]=m[g],delete m[g]);e!==void 0&&(m.x=e),t!==void 0&&(m.y=t),s!==void 0&&(m.scale=s),a!==void 0&&bG(m,a,o,c,!1)}const R3=()=>({...Q2(),attrs:{}}),D3=n=>typeof n=="string"&&n.toLowerCase()==="svg";function jG(n,e,t,s){const a=ee.useMemo(()=>{const o=R3();return U3(o,e,D3(s),n.transformTemplate,n.style),{...o.attrs,style:{...o.style}}},[e]);if(n.style){const o={};F3(o,n.style,n),a.style={...o,...a.style}}return a}const BG=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function O2(n){return typeof n!="string"||n.includes("-")?!1:!!(BG.indexOf(n)>-1||/[A-Z]/u.test(n))}function CG(n,e,t,{latestValues:s},a,o=!1,c){const u=(c??O2(n)?jG:vG)(e,s,a,n),f=AG(e,typeof n=="string",o),A=n!==ee.Fragment?{...f,...u,ref:t}:{},{children:m}=e,v=ee.useMemo(()=>el(m)?m.get():m,[m]);return ee.createElement(n,{...A,children:v})}function KS(n){const e=[{},{}];return n==null||n.values.forEach((t,s)=>{e[0][s]=t.get(),e[1][s]=t.getVelocity()}),e}function P2(n,e,t,s){if(typeof e=="function"){const[a,o]=KS(s);e=e(t!==void 0?t:n.custom,a,o)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[a,o]=KS(s);e=e(t!==void 0?t:n.custom,a,o)}return e}function wv(n){return el(n)?n.get():n}function SG({scrapeMotionValuesFromProps:n,createRenderState:e},t,s,a){return{latestValues:NG(t,s,a,n),renderState:e()}}function NG(n,e,t,s){const a={},o=s(n,{});for(const v in o)a[v]=wv(o[v]);let{initial:c,animate:h}=n;const u=Vx(n),f=I3(n);e&&f&&!u&&n.inherit!==!1&&(c===void 0&&(c=e.initial),h===void 0&&(h=e.animate));let A=t?t.initial===!1:!1;A=A||c===!1;const m=A?h:c;if(m&&typeof m!="boolean"&&!Hx(m)){const v=Array.isArray(m)?m:[m];for(let g=0;g<v.length;g++){const b=P2(n,v[g]);if(b){const{transitionEnd:I,transition:N,...S}=b;for(const E in S){let _=S[E];if(Array.isArray(_)){const R=A?_.length-1:0;_=_[R]}_!==null&&(a[E]=_)}for(const E in I)a[E]=I[E]}}}return a}const L3=n=>(e,t)=>{const s=ee.useContext(Mx),a=ee.useContext(h2),o=()=>SG(n,e,s,a);return t?o():oK(o)};function k2(n,e,t){var o;const{style:s}=n,a={};for(const c in s)(el(s[c])||e.style&&el(e.style[c])||_3(c,n)||((o=t==null?void 0:t.getValue(c))==null?void 0:o.liveStyle)!==void 0)&&(a[c]=s[c]);return a}const EG=L3({scrapeMotionValuesFromProps:k2,createRenderState:Q2});function Q3(n,e,t){const s=k2(n,e,t);for(const a in n)if(el(n[a])||el(e[a])){const o=Nm.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[o]=n[a]}return s}const TG=L3({scrapeMotionValuesFromProps:Q3,createRenderState:R3}),IG=Symbol.for("motionComponentSymbol");function _G(n,e,t){const s=ee.useRef(t);ee.useInsertionEffect(()=>{s.current=t});const a=ee.useRef(null);return ee.useCallback(o=>{var h;o&&((h=n.onMount)==null||h.call(n,o)),e&&(o?e.mount(o):e.unmount());const c=s.current;if(typeof c=="function")if(o){const u=c(o);typeof u=="function"&&(a.current=u)}else a.current?(a.current(),a.current=null):c(o);else c&&(c.current=o)},[e])}const M2=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),FG="framerAppearId",O3="data-"+M2(FG),P3=ee.createContext({});function _p(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function UG(n,e,t,s,a,o){var N,S;const{visualElement:c}=ee.useContext(Mx),h=ee.useContext(E3),u=ee.useContext(h2),f=ee.useContext(N3).reducedMotion,A=ee.useRef(null);s=s||h.renderer,!A.current&&s&&(A.current=s(n,{visualState:e,parent:c,props:t,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:f,isSVG:o}));const m=A.current,v=ee.useContext(P3);m&&!m.projection&&a&&(m.type==="html"||m.type==="svg")&&RG(A.current,t,a,v);const g=ee.useRef(!1);ee.useInsertionEffect(()=>{m&&g.current&&m.update(t,u)});const b=t[O3],I=ee.useRef(!!b&&!((N=window.MotionHandoffIsComplete)!=null&&N.call(window,b))&&((S=window.MotionHasOptimisedAnimation)==null?void 0:S.call(window,b)));return lK(()=>{m&&(g.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),I.current&&m.animationState&&m.animationState.animateChanges())}),ee.useEffect(()=>{m&&(!I.current&&m.animationState&&m.animationState.animateChanges(),I.current&&(queueMicrotask(()=>{var E;(E=window.MotionHandoffMarkAsComplete)==null||E.call(window,b)}),I.current=!1),m.enteringChildren=void 0)}),m}function RG(n,e,t,s){const{layoutId:a,layout:o,drag:c,dragConstraints:h,layoutScroll:u,layoutRoot:f,layoutCrossfade:A}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:k3(n.parent)),n.projection.setOptions({layoutId:a,layout:o,alwaysMeasureLayout:!!c||h&&_p(h),visualElement:n,animationType:typeof o=="string"?o:"both",initialPromotionConfig:s,crossfade:A,layoutScroll:u,layoutRoot:f})}function k3(n){if(n)return n.options.allowProjection!==!1?n.projection:k3(n.parent)}function S1(n,{forwardMotionProps:e=!1,type:t}={},s,a){s&&iG(s);const o=t?t==="svg":O2(n),c=o?TG:EG;function h(f,A){let m;const v={...ee.useContext(N3),...f,layoutId:DG(f)},{isStatic:g}=v,b=uG(f),I=c(f,g);if(!g&&d2){LG();const N=QG(v);m=N.MeasureLayout,b.visualElement=UG(n,I,v,a,N.ProjectionNode,o)}return i.jsxs(Mx.Provider,{value:b,children:[m&&b.visualElement?i.jsx(m,{visualElement:b.visualElement,...v}):null,CG(n,f,_G(I,b.visualElement,A),I,g,e,o)]})}h.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const u=ee.forwardRef(h);return u[IG]=n,u}function DG({layoutId:n}){const e=ee.useContext(DI).id;return e&&n!==void 0?e+"-"+n:n}function LG(n,e){ee.useContext(E3).strict}function QG(n){const{drag:e,layout:t}=fm;if(!e&&!t)return{};const s={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function OG(n,e){if(typeof Proxy>"u")return S1;const t=new Map,s=(o,c)=>S1(o,c,n,e),a=(o,c)=>s(o,c);return new Proxy(a,{get:(o,c)=>c==="create"?s:(t.has(c)||t.set(c,S1(c,void 0,n,e)),t.get(c))})}function M3({top:n,left:e,right:t,bottom:s}){return{x:{min:e,max:t},y:{min:n,max:s}}}function PG({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function kG(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),s=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:s.y,right:s.x}}function N1(n){return n===void 0||n===1}function Mb({scale:n,scaleX:e,scaleY:t}){return!N1(n)||!N1(e)||!N1(t)}function Rh(n){return Mb(n)||H3(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function H3(n){return zS(n.x)||zS(n.y)}function zS(n){return n&&n!=="0%"}function ox(n,e,t){const s=n-t,a=e*s;return t+a}function GS(n,e,t,s,a){return a!==void 0&&(n=ox(n,a,s)),ox(n,t,s)+e}function Hb(n,e=0,t=1,s,a){n.min=GS(n.min,e,t,s,a),n.max=GS(n.max,e,t,s,a)}function V3(n,{x:e,y:t}){Hb(n.x,e.translate,e.scale,e.originPoint),Hb(n.y,t.translate,t.scale,t.originPoint)}const $S=.999999999999,YS=1.0000000000001;function MG(n,e,t,s=!1){const a=t.length;if(!a)return;e.x=e.y=1;let o,c;for(let h=0;h<a;h++){o=t[h],c=o.projectionDelta;const{visualElement:u}=o.options;u&&u.props.style&&u.props.style.display==="contents"||(s&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Xf(n,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,V3(n,c)),s&&Rh(o.latestValues)&&Xf(n,o.latestValues))}e.x<YS&&e.x>$S&&(e.x=1),e.y<YS&&e.y>$S&&(e.y=1)}function Wf(n,e){n.min=n.min+e,n.max=n.max+e}function WS(n,e,t,s,a=.5){const o=Ka(n.min,n.max,a);Hb(n,e,t,o,s)}function Xf(n,e){WS(n.x,e.x,e.scaleX,e.scale,e.originX),WS(n.y,e.y,e.scaleY,e.scale,e.originY)}function K3(n,e){return M3(kG(n.getBoundingClientRect(),e))}function HG(n,e,t){const s=K3(n,t),{scroll:a}=e;return a&&(Wf(s.x,a.offset.x),Wf(s.y,a.offset.y)),s}const XS=()=>({translate:0,scale:1,origin:0,originPoint:0}),Jf=()=>({x:XS(),y:XS()}),JS=()=>({min:0,max:0}),Yi=()=>({x:JS(),y:JS()}),Vb={current:null},z3={current:!1};function VG(){if(z3.current=!0,!!d2)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Vb.current=n.matches;n.addEventListener("change",e),e()}else Vb.current=!1}const KG=new WeakMap;function zG(n,e,t){for(const s in e){const a=e[s],o=t[s];if(el(a))n.addValue(s,a);else if(el(o))n.addValue(s,hm(a,{owner:n}));else if(o!==a)if(n.hasValue(s)){const c=n.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=n.getStaticValue(s);n.addValue(s,hm(c!==void 0?c:a,{owner:n}))}}for(const s in t)e[s]===void 0&&n.removeValue(s);return e}const qS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class GG{scrapeMotionValuesFromProps(e,t,s){return{}}constructor({parent:e,props:t,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:o,visualState:c},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=T2,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=ml.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,Ba.render(this.render,!1,!0))};const{latestValues:u,renderState:f}=c;this.latestValues=u,this.baseTarget={...u},this.initialValues=t.initial?{...u}:{},this.renderState=f,this.parent=e,this.props=t,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!o,this.isControllingVariants=Vx(t),this.isVariantNode=I3(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:A,...m}=this.scrapeMotionValuesFromProps(t,{},this);for(const v in m){const g=m[v];u[v]!==void 0&&el(g)&&g.set(u[v])}}mount(e){var t;this.current=e,KG.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,a)=>this.bindToMotionValue(a,s)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(z3.current||VG(),this.shouldReduceMotion=Vb.current),(t=this.parent)==null||t.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Gd(this.notifyUpdate),Gd(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const s=this.features[t];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Em.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=t.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&Ba.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{a(),o&&o(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in fm){const t=fm[e];if(!t)continue;const{isEnabled:s,Feature:a}=t;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Yi()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let s=0;s<qS.length;s++){const a=qS[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const o="on"+a,c=e[o];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=zG(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const s=this.values.get(e);t!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&t!==void 0&&(s=hm(t===null?void 0:t,{owner:this}),this.addValue(e,s)),s}readValue(e,t){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(LI(s)||OI(s))?s=parseFloat(s):!rG(s)&&$d.test(t)&&(s=y3(e,t)),this.setBaseTarget(e,el(s)?s.get():s)),el(s)?s.get():s}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var o;const{initial:t}=this.props;let s;if(typeof t=="string"||typeof t=="object"){const c=P2(this.props,t,(o=this.presenceContext)==null?void 0:o.custom);c&&(s=c[e])}if(t&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!el(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new v2),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){F2.render(this.render)}}class G3 extends GG{constructor(){super(...arguments),this.KeyframeResolver=Gz}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:s}){delete t[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;el(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function $3(n,{style:e,vars:t},s,a){const o=n.style;let c;for(c in e)o[c]=e[c];a==null||a.applyProjectionStyles(o,s);for(c in t)o.setProperty(c,t[c])}function $G(n){return window.getComputedStyle(n)}class YG extends G3{constructor(){super(...arguments),this.type="html",this.renderInstance=$3}readValueFromInstance(e,t){var s;if(Em.has(t))return(s=this.projection)!=null&&s.isProjecting?Ub(t):uz(e,t);{const a=$G(e),o=(qI(t)?a.getPropertyValue(t):a[t])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:t}){return K3(e,t)}build(e,t,s){L2(e,t,s.transformTemplate)}scrapeMotionValuesFromProps(e,t,s){return k2(e,t,s)}}const Y3=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function WG(n,e,t,s){$3(n,e,void 0,s);for(const a in e.attrs)n.setAttribute(Y3.has(a)?a:M2(a),e.attrs[a])}class XG extends G3{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Yi}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Em.has(t)){const s=x3(t);return s&&s.default||0}return t=Y3.has(t)?t:M2(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,s){return Q3(e,t,s)}build(e,t,s){U3(e,t,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,t,s,a){WG(e,t,s,a)}mount(e){this.isSVGTag=D3(e.tagName),super.mount(e)}}const JG=(n,e)=>e.isSVG??O2(n)?new XG(e):new YG(e,{allowProjection:n!==ee.Fragment});function nm(n,e,t){const s=n.getProps();return P2(s,e,t!==void 0?t:s.custom,n)}const Kb=n=>Array.isArray(n);function qG(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,hm(t))}function ZG(n){return Kb(n)?n[n.length-1]||0:n}function e$(n,e){const t=nm(n,e);let{transitionEnd:s={},transition:a={},...o}=t||{};o={...o,...s};for(const c in o){const h=ZG(o[c]);qG(n,c,h)}}function t$(n){return!!(el(n)&&n.add)}function zb(n,e){const t=n.getValue("willChange");if(t$(t))return t.add(e);if(!t&&_u.WillChange){const s=new _u.WillChange("auto");n.addValue("willChange",s),s.add(e)}}function W3(n){return n.props[O3]}const n$=n=>n!==null;function s$(n,{repeat:e,repeatType:t="loop"},s){const a=n.filter(n$),o=e&&t!=="loop"&&e%2===1?0:a.length-1;return a[o]}const r$={type:"spring",stiffness:500,damping:25,restSpeed:10},a$=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),i$={type:"keyframes",duration:.8},o$={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},l$=(n,{keyframes:e})=>e.length>2?i$:Em.has(n)?n.startsWith("scale")?a$(e[1]):r$:o$;function A$({when:n,delay:e,delayChildren:t,staggerChildren:s,staggerDirection:a,repeat:o,repeatType:c,repeatDelay:h,from:u,elapsed:f,...A}){return!!Object.keys(A).length}const H2=(n,e,t,s={},a,o)=>c=>{const h=I2(s,n)||{},u=h.delay||s.delay||0;let{elapsed:f=0}=s;f=f-Cu(u);const A={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-f,onUpdate:v=>{e.set(v),h.onUpdate&&h.onUpdate(v)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:n,motionValue:e,element:o?void 0:a};A$(h)||Object.assign(A,l$(n,A)),A.duration&&(A.duration=Cu(A.duration)),A.repeatDelay&&(A.repeatDelay=Cu(A.repeatDelay)),A.from!==void 0&&(A.keyframes[0]=A.from);let m=!1;if((A.type===!1||A.duration===0&&!A.repeatDelay)&&(Ob(A),A.delay===0&&(m=!0)),(_u.instantAnimations||_u.skipAnimations)&&(m=!0,Ob(A),A.delay=0),A.allowFlatten=!h.type&&!h.ease,m&&!o&&e.get()!==void 0){const v=s$(A.keyframes,h);if(v!==void 0){Ba.update(()=>{A.onUpdate(v),A.onComplete()});return}}return h.isSync?new E2(A):new Rz(A)};function c$({protectedKeys:n,needsAnimating:e},t){const s=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,s}function X3(n,e,{delay:t=0,transitionOverride:s,type:a}={}){let{transition:o=n.getDefaultTransition(),transitionEnd:c,...h}=e;s&&(o=s);const u=[],f=a&&n.animationState&&n.animationState.getState()[a];for(const A in h){const m=n.getValue(A,n.latestValues[A]??null),v=h[A];if(v===void 0||f&&c$(f,A))continue;const g={delay:t,...I2(o||{},A)},b=m.get();if(b!==void 0&&!m.isAnimating&&!Array.isArray(v)&&v===b&&!g.velocity)continue;let I=!1;if(window.MotionHandoffAnimation){const S=W3(n);if(S){const E=window.MotionHandoffAnimation(S,A,Ba);E!==null&&(g.startTime=E,I=!0)}}zb(n,A),m.start(H2(A,m,v,n.shouldReduceMotion&&p3.has(A)?{type:!1}:g,n,I));const N=m.animation;N&&u.push(N)}return c&&Promise.all(u).then(()=>{Ba.update(()=>{c&&e$(n,c)})}),u}function J3(n,e,t,s=0,a=1){const o=Array.from(n).sort((f,A)=>f.sortNodePosition(A)).indexOf(e),c=n.size,h=(c-1)*s;return typeof t=="function"?t(o,c):a===1?o*s:h-o*s}function Gb(n,e,t={}){var u;const s=nm(n,e,t.type==="exit"?(u=n.presenceContext)==null?void 0:u.custom:void 0);let{transition:a=n.getDefaultTransition()||{}}=s||{};t.transitionOverride&&(a=t.transitionOverride);const o=s?()=>Promise.all(X3(n,s,t)):()=>Promise.resolve(),c=n.variantChildren&&n.variantChildren.size?(f=0)=>{const{delayChildren:A=0,staggerChildren:m,staggerDirection:v}=a;return u$(n,e,f,A,m,v,t)}:()=>Promise.resolve(),{when:h}=a;if(h){const[f,A]=h==="beforeChildren"?[o,c]:[c,o];return f().then(()=>A())}else return Promise.all([o(),c(t.delay)])}function u$(n,e,t=0,s=0,a=0,o=1,c){const h=[];for(const u of n.variantChildren)u.notify("AnimationStart",e),h.push(Gb(u,e,{...c,delay:t+(typeof s=="function"?0:s)+J3(n.variantChildren,u,s,a,o)}).then(()=>u.notify("AnimationComplete",e)));return Promise.all(h)}function d$(n,e,t={}){n.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(o=>Gb(n,o,t));s=Promise.all(a)}else if(typeof e=="string")s=Gb(n,e,t);else{const a=typeof e=="function"?nm(n,e,t.custom):e;s=Promise.all(X3(n,a,t))}return s.then(()=>{n.notify("AnimationComplete",e)})}function q3(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let s=0;s<t;s++)if(e[s]!==n[s])return!1;return!0}const h$=D2.length;function Z3(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?Z3(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<h$;t++){const s=D2[t],a=n.props[s];(pg(a)||a===!1)&&(e[s]=a)}return e}const f$=[...R2].reverse(),m$=R2.length;function p$(n){return e=>Promise.all(e.map(({animation:t,options:s})=>d$(n,t,s)))}function g$(n){let e=p$(n),t=ZS(),s=!0;const a=u=>(f,A)=>{var v;const m=nm(n,A,u==="exit"?(v=n.presenceContext)==null?void 0:v.custom:void 0);if(m){const{transition:g,transitionEnd:b,...I}=m;f={...f,...I,...b}}return f};function o(u){e=u(n)}function c(u){const{props:f}=n,A=Z3(n.parent)||{},m=[],v=new Set;let g={},b=1/0;for(let N=0;N<m$;N++){const S=f$[N],E=t[S],_=f[S]!==void 0?f[S]:A[S],R=pg(_),L=S===u?E.isActive:null;L===!1&&(b=N);let H=_===A[S]&&_!==f[S]&&R;if(H&&s&&n.manuallyAnimateOnMount&&(H=!1),E.protectedKeys={...g},!E.isActive&&L===null||!_&&!E.prevProp||Hx(_)||typeof _=="boolean")continue;const D=v$(E.prevProp,_);let Q=D||S===u&&E.isActive&&!H&&R||N>b&&R,O=!1;const $=Array.isArray(_)?_:[_];let P=$.reduce(a(S),{});L===!1&&(P={});const{prevResolvedValues:V={}}=E,G={...V,...P},ie=q=>{Q=!0,v.has(q)&&(O=!0,v.delete(q)),E.needsAnimating[q]=!0;const Z=n.getValue(q);Z&&(Z.liveStyle=!1)};for(const q in G){const Z=P[q],oe=V[q];if(g.hasOwnProperty(q))continue;let ye=!1;Kb(Z)&&Kb(oe)?ye=!q3(Z,oe):ye=Z!==oe,ye?Z!=null?ie(q):v.add(q):Z!==void 0&&v.has(q)?ie(q):E.protectedKeys[q]=!0}E.prevProp=_,E.prevResolvedValues=P,E.isActive&&(g={...g,...P}),s&&n.blockInitialAnimation&&(Q=!1);const de=H&&D;Q&&(!de||O)&&m.push(...$.map(q=>{const Z={type:S};if(typeof q=="string"&&s&&!de&&n.manuallyAnimateOnMount&&n.parent){const{parent:oe}=n,ye=nm(oe,q);if(oe.enteringChildren&&ye){const{delayChildren:ne}=ye.transition||{};Z.delay=J3(oe.enteringChildren,n,ne)}}return{animation:q,options:Z}}))}if(v.size){const N={};if(typeof f.initial!="boolean"){const S=nm(n,Array.isArray(f.initial)?f.initial[0]:f.initial);S&&S.transition&&(N.transition=S.transition)}v.forEach(S=>{const E=n.getBaseTarget(S),_=n.getValue(S);_&&(_.liveStyle=!0),N[S]=E??null}),m.push({animation:N})}let I=!!m.length;return s&&(f.initial===!1||f.initial===f.animate)&&!n.manuallyAnimateOnMount&&(I=!1),s=!1,I?e(m):Promise.resolve()}function h(u,f){var m;if(t[u].isActive===f)return Promise.resolve();(m=n.variantChildren)==null||m.forEach(v=>{var g;return(g=v.animationState)==null?void 0:g.setActive(u,f)}),t[u].isActive=f;const A=c(u);for(const v in t)t[v].protectedKeys={};return A}return{animateChanges:c,setActive:h,setAnimateFunction:o,getState:()=>t,reset:()=>{t=ZS()}}}function v$(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!q3(e,n):!1}function _h(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ZS(){return{animate:_h(!0),whileInView:_h(),whileHover:_h(),whileTap:_h(),whileDrag:_h(),whileFocus:_h(),exit:_h()}}class Zd{constructor(e){this.isMounted=!1,this.node=e}update(){}}class x$ extends Zd{constructor(e){super(e),e.animationState||(e.animationState=g$(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Hx(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let y$=0;class b$ extends Zd{constructor(){super(...arguments),this.id=y$++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);t&&!e&&a.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const w$={animation:{Feature:x$},exit:{Feature:b$}};function gg(n,e,t,s={passive:!0}){return n.addEventListener(e,t,s),()=>n.removeEventListener(e,t)}function kg(n){return{point:{x:n.pageX,y:n.pageY}}}const j$=n=>e=>U2(e)&&n(e,kg(e));function Xp(n,e,t,s){return gg(n,e,j$(t),s)}const e_=1e-4,B$=1-e_,C$=1+e_,t_=.01,S$=0-t_,N$=0+t_;function pl(n){return n.max-n.min}function E$(n,e,t){return Math.abs(n-e)<=t}function eN(n,e,t,s=.5){n.origin=s,n.originPoint=Ka(e.min,e.max,n.origin),n.scale=pl(t)/pl(e),n.translate=Ka(t.min,t.max,n.origin)-n.originPoint,(n.scale>=B$&&n.scale<=C$||isNaN(n.scale))&&(n.scale=1),(n.translate>=S$&&n.translate<=N$||isNaN(n.translate))&&(n.translate=0)}function Jp(n,e,t,s){eN(n.x,e.x,t.x,s?s.originX:void 0),eN(n.y,e.y,t.y,s?s.originY:void 0)}function tN(n,e,t){n.min=t.min+e.min,n.max=n.min+pl(e)}function T$(n,e,t){tN(n.x,e.x,t.x),tN(n.y,e.y,t.y)}function nN(n,e,t){n.min=e.min-t.min,n.max=n.min+pl(e)}function lx(n,e,t){nN(n.x,e.x,t.x),nN(n.y,e.y,t.y)}function TA(n){return[n("x"),n("y")]}const n_=({current:n})=>n?n.ownerDocument.defaultView:null,sN=(n,e)=>Math.abs(n-e);function I$(n,e){const t=sN(n.x,e.x),s=sN(n.y,e.y);return Math.sqrt(t**2+s**2)}const rN=new Set(["auto","scroll"]);class s_{constructor(e,t,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:o=!1,distanceThreshold:c=3,element:h}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=g=>{this.handleScroll(g.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=T1(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,I=I$(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!I)return;const{point:N}=g,{timestamp:S}=xo;this.history.push({...N,timestamp:S});const{onStart:E,onMove:_}=this.handlers;b||(E&&E(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,g)},this.handlePointerMove=(g,b)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=E1(b,this.transformPagePoint),Ba.update(this.updatePoint,!0)},this.handlePointerUp=(g,b)=>{this.end();const{onEnd:I,onSessionEnd:N,resumeAnimation:S}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=T1(g.type==="pointercancel"?this.lastMoveEventInfo:E1(b,this.transformPagePoint),this.history);this.startEvent&&I&&I(g,E),N&&N(g,E)},!U2(e))return;this.dragSnapToOrigin=o,this.handlers=t,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=a||window;const u=kg(e),f=E1(u,this.transformPagePoint),{point:A}=f,{timestamp:m}=xo;this.history=[{...A,timestamp:m}];const{onSessionStart:v}=t;v&&v(e,T1(f,this.history)),this.removeListeners=Qg(Xp(this.contextWindow,"pointermove",this.handlePointerMove),Xp(this.contextWindow,"pointerup",this.handlePointerUp),Xp(this.contextWindow,"pointercancel",this.handlePointerUp)),h&&this.startScrollTracking(h)}startScrollTracking(e){let t=e.parentElement;for(;t;){const s=getComputedStyle(t);(rN.has(s.overflowX)||rN.has(s.overflowY))&&this.scrollPositions.set(t,{x:t.scrollLeft,y:t.scrollTop}),t=t.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const t=this.scrollPositions.get(e);if(!t)return;const s=e===window,a=s?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},o={x:a.x-t.x,y:a.y-t.y};o.x===0&&o.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=o.x,this.lastMoveEventInfo.point.y+=o.y):this.history.length>0&&(this.history[0].x-=o.x,this.history[0].y-=o.y),this.scrollPositions.set(e,a),Ba.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Gd(this.updatePoint)}}function E1(n,e){return e?{point:e(n.point)}:n}function aN(n,e){return{x:n.x-e.x,y:n.y-e.y}}function T1({point:n},e){return{point:n,delta:aN(n,r_(e)),offset:aN(n,_$(e)),velocity:F$(e,.1)}}function _$(n){return n[0]}function r_(n){return n[n.length-1]}function F$(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,s=null;const a=r_(n);for(;t>=0&&(s=n[t],!(a.timestamp-s.timestamp>Cu(e)));)t--;if(!s)return{x:0,y:0};const o=_A(a.timestamp-s.timestamp);if(o===0)return{x:0,y:0};const c={x:(a.x-s.x)/o,y:(a.y-s.y)/o};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function U$(n,{min:e,max:t},s){return e!==void 0&&n<e?n=s?Ka(e,n,s.min):Math.max(n,e):t!==void 0&&n>t&&(n=s?Ka(t,n,s.max):Math.min(n,t)),n}function iN(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function R$(n,{top:e,left:t,bottom:s,right:a}){return{x:iN(n.x,t,a),y:iN(n.y,e,s)}}function oN(n,e){let t=e.min-n.min,s=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,s]=[s,t]),{min:t,max:s}}function D$(n,e){return{x:oN(n.x,e.x),y:oN(n.y,e.y)}}function L$(n,e){let t=.5;const s=pl(n),a=pl(e);return a>s?t=hg(e.min,e.max-s,n.min):s>a&&(t=hg(n.min,n.max-a,e.min)),Jc(0,1,t)}function Q$(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const $b=.35;function O$(n=$b){return n===!1?n=0:n===!0&&(n=$b),{x:lN(n,"left","right"),y:lN(n,"top","bottom")}}function lN(n,e,t){return{min:AN(n,e),max:AN(n,t)}}function AN(n,e){return typeof n=="number"?n:n[e]||0}const P$=new WeakMap;class k${constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Yi(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const o=m=>{t?(this.stopAnimation(),this.snapToCursor(kg(m).point)):this.pauseAnimation()},c=(m,v)=>{this.stopAnimation();const{drag:g,dragPropagation:b,onDragStart:I}=this.getProps();if(g&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Jz(g),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),TA(S=>{let E=this.getAxisMotionValue(S).get()||0;if($c.test(E)){const{projection:_}=this.visualElement;if(_&&_.layout){const R=_.layout.layoutBox[S];R&&(E=pl(R)*(parseFloat(E)/100))}}this.originPoint[S]=E}),I&&Ba.postRender(()=>I(m,v)),zb(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},h=(m,v)=>{this.latestPointerEvent=m,this.latestPanInfo=v;const{dragPropagation:g,dragDirectionLock:b,onDirectionLock:I,onDrag:N}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:S}=v;if(b&&this.currentDirection===null){this.currentDirection=M$(S),this.currentDirection!==null&&I&&I(this.currentDirection);return}this.updateAxis("x",v.point,S),this.updateAxis("y",v.point,S),this.visualElement.render(),N&&N(m,v)},u=(m,v)=>{this.latestPointerEvent=m,this.latestPanInfo=v,this.stop(m,v),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>TA(m=>{var v;return this.getAnimationState(m)==="paused"&&((v=this.getAxisMotionValue(m).animation)==null?void 0:v.play())}),{dragSnapToOrigin:A}=this.getProps();this.panSession=new s_(e,{onSessionStart:o,onStart:c,onMove:h,onSessionEnd:u,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:A,distanceThreshold:s,contextWindow:n_(this.visualElement),element:this.visualElement.current})}stop(e,t){const s=e||this.latestPointerEvent,a=t||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!a||!s)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:h}=this.getProps();h&&Ba.postRender(()=>h(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,s){const{drag:a}=this.getProps();if(!s||!nv(e,a,this.currentDirection))return;const o=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=U$(c,this.constraints[e],this.elastic[e])),o.set(c)}resolveConstraints(){var o;const{dragConstraints:e,dragElastic:t}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,a=this.constraints;e&&_p(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=R$(s.layoutBox,e):this.constraints=!1,this.elastic=O$(t),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&TA(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=Q$(s.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!_p(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const o=HG(s,a.root,this.visualElement.getTransformPagePoint());let c=D$(a.layout.layoutBox,o);if(t){const h=t(PG(c));this.hasMutatedConstraints=!!h,h&&(c=M3(h))}return c}startAnimation(e){const{drag:t,dragMomentum:s,dragElastic:a,dragTransition:o,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),u=this.constraints||{},f=TA(A=>{if(!nv(A,t,this.currentDirection))return;let m=u&&u[A]||{};c&&(m={min:0,max:0});const v=a?200:1e6,g=a?40:1e7,b={type:"inertia",velocity:s?e[A]:0,bounceStiffness:v,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...o,...m};return this.startAxisValueAnimation(A,b)});return Promise.all(f).then(h)}startAxisValueAnimation(e,t){const s=this.getAxisMotionValue(e);return zb(this.visualElement,e),s.start(H2(e,s,0,t,this.visualElement,!1))}stopAnimation(){TA(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){TA(e=>{var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[t];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){TA(t=>{const{drag:s}=this.getProps();if(!nv(t,s,this.currentDirection))return;const{projection:a}=this.visualElement,o=this.getAxisMotionValue(t);if(a&&a.layout){const{min:c,max:h}=a.layout.layoutBox[t],u=o.get()||0;o.set(e[t]-Ka(c,h,.5)+u)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:s}=this.visualElement;if(!_p(t)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};TA(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const u=h.get();a[c]=L$({min:u,max:u},this.constraints[c])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),TA(c=>{if(!nv(c,e,null))return;const h=this.getAxisMotionValue(c),{min:u,max:f}=this.constraints[c];h.set(Ka(u,f,a[c]))})}addListeners(){if(!this.visualElement.current)return;P$.set(this.visualElement,this);const e=this.visualElement.current,t=Xp(e,"pointerdown",u=>{const{drag:f,dragListener:A=!0}=this.getProps();f&&A&&!C3(u.target)&&this.start(u)}),s=()=>{const{dragConstraints:u}=this.getProps();_p(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,o=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Ba.read(s);const c=gg(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:f})=>{this.isDragging&&f&&(TA(A=>{const m=this.getAxisMotionValue(A);m&&(this.originPoint[A]+=u[A].translate,m.set(m.get()+u[A].translate))}),this.visualElement.render())}));return()=>{c(),t(),o(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:o=!1,dragElastic:c=$b,dragMomentum:h=!0}=e;return{...e,drag:t,dragDirectionLock:s,dragPropagation:a,dragConstraints:o,dragElastic:c,dragMomentum:h}}}function nv(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function M$(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class H$ extends Zd{constructor(e){super(e),this.removeGroupControls=DA,this.removeListeners=DA,this.controls=new k$(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||DA}update(){const{dragControls:e}=this.node.getProps(),{dragControls:t}=this.node.prevProps||{};e!==t&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const cN=n=>(e,t)=>{n&&Ba.postRender(()=>n(e,t))};class V$ extends Zd{constructor(){super(...arguments),this.removePointerDownListener=DA}onPointerDown(e){this.session=new s_(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:n_(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:cN(e),onStart:cN(t),onMove:s,onEnd:(o,c)=>{delete this.session,a&&Ba.postRender(()=>a(o,c))}}}mount(){this.removePointerDownListener=Xp(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const jv={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let I1=!1;class K$ extends ee.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:s,layoutId:a}=this.props,{projection:o}=e;o&&(t.group&&t.group.add(o),s&&s.register&&a&&s.register(o),I1&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),jv.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:s,drag:a,isPresent:o}=this.props,{projection:c}=s;return c&&(c.isPresent=o,I1=!0,a||e.layoutDependency!==t||t===void 0||e.isPresent!==o?c.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?c.promote():c.relegate()||Ba.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),F2.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:s}=this.props,{projection:a}=e;I1=!0,a&&(a.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function a_(n){const[e,t]=aG(),s=ee.useContext(DI);return i.jsx(K$,{...n,layoutGroup:s,switchLayoutGroup:ee.useContext(P3),isPresent:e,safeToRemove:t})}function z$(n,e,t){const s=el(n)?n:hm(n);return s.start(H2("",s,e,t)),s.animation}const G$=(n,e)=>n.depth-e.depth;class $${constructor(){this.children=[],this.isDirty=!1}add(e){f2(this.children,e),this.isDirty=!0}remove(e){m2(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(G$),this.isDirty=!1,this.children.forEach(e)}}function Y$(n,e){const t=ml.now(),s=({timestamp:a})=>{const o=a-t;o>=e&&(Gd(s),n(o-e))};return Ba.setup(s,!0),()=>Gd(s)}const i_=["TopLeft","TopRight","BottomLeft","BottomRight"],W$=i_.length,uN=n=>typeof n=="string"?parseFloat(n):n,dN=n=>typeof n=="number"||bn.test(n);function X$(n,e,t,s,a,o){a?(n.opacity=Ka(0,t.opacity??1,J$(s)),n.opacityExit=Ka(e.opacity??1,0,q$(s))):o&&(n.opacity=Ka(e.opacity??1,t.opacity??1,s));for(let c=0;c<W$;c++){const h=`border${i_[c]}Radius`;let u=hN(e,h),f=hN(t,h);if(u===void 0&&f===void 0)continue;u||(u=0),f||(f=0),u===0||f===0||dN(u)===dN(f)?(n[h]=Math.max(Ka(uN(u),uN(f),s),0),($c.test(f)||$c.test(u))&&(n[h]+="%")):n[h]=f}(e.rotate||t.rotate)&&(n.rotate=Ka(e.rotate||0,t.rotate||0,s))}function hN(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const J$=o_(0,.5,GI),q$=o_(.5,.95,DA);function o_(n,e,t){return s=>s<n?0:s>e?1:t(hg(n,e,s))}function fN(n,e){n.min=e.min,n.max=e.max}function tc(n,e){fN(n.x,e.x),fN(n.y,e.y)}function mN(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function pN(n,e,t,s,a){return n-=e,n=ox(n,1/t,s),a!==void 0&&(n=ox(n,1/a,s)),n}function Z$(n,e=0,t=1,s=.5,a,o=n,c=n){if($c.test(e)&&(e=parseFloat(e),e=Ka(c.min,c.max,e/100)-c.min),typeof e!="number")return;let h=Ka(o.min,o.max,s);n===o&&(h-=e),n.min=pN(n.min,e,t,h,a),n.max=pN(n.max,e,t,h,a)}function gN(n,e,[t,s,a],o,c){Z$(n,e[t],e[s],e[a],e.scale,o,c)}const eY=["x","scaleX","originX"],tY=["y","scaleY","originY"];function vN(n,e,t,s){gN(n.x,e,eY,t?t.x:void 0,s?s.x:void 0),gN(n.y,e,tY,t?t.y:void 0,s?s.y:void 0)}function xN(n){return n.translate===0&&n.scale===1}function l_(n){return xN(n.x)&&xN(n.y)}function yN(n,e){return n.min===e.min&&n.max===e.max}function nY(n,e){return yN(n.x,e.x)&&yN(n.y,e.y)}function bN(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function A_(n,e){return bN(n.x,e.x)&&bN(n.y,e.y)}function wN(n){return pl(n.x)/pl(n.y)}function jN(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class sY{constructor(){this.members=[]}add(e){f2(this.members,e),e.scheduleRender()}remove(e){if(m2(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(a=>e===a);if(t===0)return!1;let s;for(let a=t;a>=0;a--){const o=this.members[a];if(o.isPresent!==!1){s=o;break}}return s?(this.promote(s),!0):!1}promote(e,t){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,t&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:s}=e;t.onExitComplete&&t.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function rY(n,e,t){let s="";const a=n.x.translate/e.x,o=n.y.translate/e.y,c=(t==null?void 0:t.z)||0;if((a||o||c)&&(s=`translate3d(${a}px, ${o}px, ${c}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:f,rotate:A,rotateX:m,rotateY:v,skewX:g,skewY:b}=t;f&&(s=`perspective(${f}px) ${s}`),A&&(s+=`rotate(${A}deg) `),m&&(s+=`rotateX(${m}deg) `),v&&(s+=`rotateY(${v}deg) `),g&&(s+=`skewX(${g}deg) `),b&&(s+=`skewY(${b}deg) `)}const h=n.x.scale*e.x,u=n.y.scale*e.y;return(h!==1||u!==1)&&(s+=`scale(${h}, ${u})`),s||"none"}const _1=["","X","Y","Z"],aY=1e3;let iY=0;function F1(n,e,t,s){const{latestValues:a}=e;a[n]&&(t[n]=a[n],e.setStaticValue(n,0),s&&(s[n]=0))}function c_(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=W3(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:a,layoutId:o}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",Ba,!(a||o))}const{parent:s}=n;s&&!s.hasCheckedOptimisedAppear&&c_(s)}function u_({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},h=e==null?void 0:e()){this.id=iY++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(AY),this.nodes.forEach(hY),this.nodes.forEach(fY),this.nodes.forEach(cY)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new $$)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new v2),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const u=this.eventHandlers.get(c);u&&u.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=S3(c)&&!nG(c),this.instance=c;const{layoutId:h,layout:u,visualElement:f}=this.options;if(f&&!f.current&&f.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||h)&&(this.isLayoutDirty=!0),n){let A,m=0;const v=()=>this.root.updateBlockedByResize=!1;Ba.read(()=>{m=window.innerWidth}),n(c,()=>{const g=window.innerWidth;g!==m&&(m=g,this.root.updateBlockedByResize=!0,A&&A(),A=Y$(v,250),jv.hasAnimatedSinceResize&&(jv.hasAnimatedSinceResize=!1,this.nodes.forEach(SN)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&f&&(h||u)&&this.addEventListener("didUpdate",({delta:A,hasLayoutChanged:m,hasRelativeLayoutChanged:v,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||f.getDefaultTransition()||xY,{onLayoutAnimationStart:I,onLayoutAnimationComplete:N}=f.getProps(),S=!this.targetLayout||!A_(this.targetLayout,g),E=!m&&v;if(this.options.layoutRoot||this.resumeFrom||E||m&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const _={...I2(b,"layout"),onPlay:I,onComplete:N};(f.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_),this.setAnimationOrigin(A,E)}else m||SN(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Gd(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(mY),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&c_(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let A=0;A<this.path.length;A++){const m=this.path[A];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:h,layout:u}=this.options;if(h===void 0&&!u)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(BN);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(CN);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(dY),this.nodes.forEach(oY),this.nodes.forEach(lY)):this.nodes.forEach(CN),this.clearAllSnapshots();const h=ml.now();xo.delta=Jc(0,1e3/60,h-xo.timestamp),xo.timestamp=h,xo.isProcessing=!0,x1.update.process(xo),x1.preRender.process(xo),x1.render.process(xo),xo.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,F2.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(uY),this.sharedNodes.forEach(pY)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ba.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ba.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!pl(this.snapshot.measuredBox.x)&&!pl(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Yi(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h&&this.instance){const u=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:u,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!l_(this.projectionDelta),u=this.getTransformTemplate(),f=u?u(this.latestValues,""):void 0,A=f!==this.prevTransformTemplateValue;c&&this.instance&&(h||Rh(this.latestValues)||A)&&(a(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let u=this.removeElementScroll(h);return c&&(u=this.removeTransform(u)),yY(u),{animationId:this.root.animationId,measuredBox:h,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var f;const{visualElement:c}=this.options;if(!c)return Yi();const h=c.measureViewportBox();if(!(((f=this.scroll)==null?void 0:f.wasRoot)||this.path.some(bY))){const{scroll:A}=this.root;A&&(Wf(h.x,A.offset.x),Wf(h.y,A.offset.y))}return h}removeElementScroll(c){var u;const h=Yi();if(tc(h,c),(u=this.scroll)!=null&&u.wasRoot)return h;for(let f=0;f<this.path.length;f++){const A=this.path[f],{scroll:m,options:v}=A;A!==this.root&&m&&v.layoutScroll&&(m.wasRoot&&tc(h,c),Wf(h.x,m.offset.x),Wf(h.y,m.offset.y))}return h}applyTransform(c,h=!1){const u=Yi();tc(u,c);for(let f=0;f<this.path.length;f++){const A=this.path[f];!h&&A.options.layoutScroll&&A.scroll&&A!==A.root&&Xf(u,{x:-A.scroll.offset.x,y:-A.scroll.offset.y}),Rh(A.latestValues)&&Xf(u,A.latestValues)}return Rh(this.latestValues)&&Xf(u,this.latestValues),u}removeTransform(c){const h=Yi();tc(h,c);for(let u=0;u<this.path.length;u++){const f=this.path[u];if(!f.instance||!Rh(f.latestValues))continue;Mb(f.latestValues)&&f.updateSnapshot();const A=Yi(),m=f.measurePageBox();tc(A,m),vN(h,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,A)}return Rh(this.latestValues)&&vN(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==xo.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var g;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==h;if(!(c||u&&this.isSharedProjectionDirty||this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:A,layoutId:m}=this.options;if(!this.layout||!(A||m))return;this.resolvedRelativeTargetAt=xo.timestamp;const v=this.getClosestProjectingParent();v&&this.linkedParentVersion!==v.layoutVersion&&!v.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(v&&v.layout?this.createRelativeTarget(v,this.layout.layoutBox,v.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Yi(),this.targetWithTransforms=Yi()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),T$(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):tc(this.target,this.layout.layoutBox),V3(this.target,this.targetDelta)):tc(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?this.createRelativeTarget(v,this.target,v.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Mb(this.parent.latestValues)||H3(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,h,u){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Yi(),this.relativeTargetOrigin=Yi(),lx(this.relativeTargetOrigin,h,u),tc(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var b;const c=this.getLead(),h=!!this.resumingFrom||this!==c;let u=!0;if((this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty)&&(u=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===xo.timestamp&&(u=!1),u)return;const{layout:f,layoutId:A}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||A))return;tc(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,v=this.treeScale.y;MG(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Yi());const{target:g}=c;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(mN(this.prevProjectionDelta.x,this.projectionDelta.x),mN(this.prevProjectionDelta.y,this.projectionDelta.y)),Jp(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==v||!jN(this.projectionDelta.x,this.prevProjectionDelta.x)||!jN(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var h;if((h=this.options.visualElement)==null||h.scheduleRender(),c){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Jf(),this.projectionDelta=Jf(),this.projectionDeltaWithTransform=Jf()}setAnimationOrigin(c,h=!1){const u=this.snapshot,f=u?u.latestValues:{},A={...this.latestValues},m=Jf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const v=Yi(),g=u?u.source:void 0,b=this.layout?this.layout.source:void 0,I=g!==b,N=this.getStack(),S=!N||N.members.length<=1,E=!!(I&&!S&&this.options.crossfade===!0&&!this.path.some(vY));this.animationProgress=0;let _;this.mixTargetDelta=R=>{const L=R/1e3;NN(m.x,c.x,L),NN(m.y,c.y,L),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(lx(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),gY(this.relativeTarget,this.relativeTargetOrigin,v,L),_&&nY(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=Yi()),tc(_,this.relativeTarget)),I&&(this.animationValues=A,X$(A,f,this.latestValues,L,E,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=L},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var h,u,f;this.notifyListeners("animationStart"),(h=this.currentAnimation)==null||h.stop(),(f=(u=this.resumingFrom)==null?void 0:u.currentAnimation)==null||f.stop(),this.pendingAnimation&&(Gd(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ba.update(()=>{jv.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=hm(0)),this.currentAnimation=z$(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:A=>{this.mixTargetDelta(A),c.onUpdate&&c.onUpdate(A)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(aY),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:u,layout:f,latestValues:A}=c;if(!(!h||!u||!f)){if(this!==c&&this.layout&&f&&d_(this.options.animationType,this.layout.layoutBox,f.layoutBox)){u=this.target||Yi();const m=pl(this.layout.layoutBox.x);u.x.min=c.target.x.min,u.x.max=u.x.min+m;const v=pl(this.layout.layoutBox.y);u.y.min=c.target.y.min,u.y.max=u.y.min+v}tc(h,u),Xf(h,A),Jp(this.projectionDeltaWithTransform,this.layoutCorrected,h,A)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new sY),this.sharedNodes.get(c).add(h);const f=h.options.initialPromotionConfig;h.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var h;const{layoutId:c}=this.options;return c?((h=this.getStack())==null?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:c}=this.options;return c?(h=this.getStack())==null?void 0:h.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:u}={}){const f=this.getStack();f&&f.promote(this,u),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:u}=c;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(h=!0),!h)return;const f={};u.z&&F1("z",c,f,this.animationValues);for(let A=0;A<_1.length;A++)F1(`rotate${_1[A]}`,c,f,this.animationValues),F1(`skew${_1[A]}`,c,f,this.animationValues);c.render();for(const A in f)c.setStaticValue(A,f[A]),this.animationValues&&(this.animationValues[A]=f[A]);c.scheduleRender()}applyProjectionStyles(c,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=wv(h==null?void 0:h.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=wv(h==null?void 0:h.pointerEvents)||""),this.hasProjected&&!Rh(this.latestValues)&&(c.transform=u?u({},""):"none",this.hasProjected=!1);return}c.visibility="";const A=f.animationValues||f.latestValues;this.applyTransformsToTarget();let m=rY(this.projectionDeltaWithTransform,this.treeScale,A);u&&(m=u(A,m)),c.transform=m;const{x:v,y:g}=this.projectionDelta;c.transformOrigin=`${v.origin*100}% ${g.origin*100}% 0`,f.animationValues?c.opacity=f===this?A.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:A.opacityExit:c.opacity=f===this?A.opacity!==void 0?A.opacity:"":A.opacityExit!==void 0?A.opacityExit:0;for(const b in kb){if(A[b]===void 0)continue;const{correct:I,applyTo:N,isCSSVariable:S}=kb[b],E=m==="none"?A[b]:I(A[b],f);if(N){const _=N.length;for(let R=0;R<_;R++)c[N[R]]=E}else S?this.options.visualElement.renderState.vars[b]=E:c[b]=E}this.options.layoutId&&(c.pointerEvents=f===this?wv(h==null?void 0:h.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var h;return(h=c.currentAnimation)==null?void 0:h.stop()}),this.root.nodes.forEach(BN),this.root.sharedNodes.clear()}}}function oY(n){n.updateLayout()}function lY(n){var t;const e=((t=n.resumeFrom)==null?void 0:t.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:a}=n.layout,{animationType:o}=n.options,c=e.source!==n.layout.source;o==="size"?TA(m=>{const v=c?e.measuredBox[m]:e.layoutBox[m],g=pl(v);v.min=s[m].min,v.max=v.min+g}):d_(o,e.layoutBox,s)&&TA(m=>{const v=c?e.measuredBox[m]:e.layoutBox[m],g=pl(s[m]);v.max=v.min+g,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[m].max=n.relativeTarget[m].min+g)});const h=Jf();Jp(h,s,e.layoutBox);const u=Jf();c?Jp(u,n.applyTransform(a,!0),e.measuredBox):Jp(u,s,e.layoutBox);const f=!l_(h);let A=!1;if(!n.resumeFrom){const m=n.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:v,layout:g}=m;if(v&&g){const b=Yi();lx(b,e.layoutBox,v.layoutBox);const I=Yi();lx(I,s,g.layoutBox),A_(b,I)||(A=!0),m.options.layoutRoot&&(n.relativeTarget=I,n.relativeTargetOrigin=b,n.relativeParent=m)}}}n.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:u,layoutDelta:h,hasLayoutChanged:f,hasRelativeLayoutChanged:A})}else if(n.isLead()){const{onExitComplete:s}=n.options;s&&s()}n.options.transition=void 0}function AY(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function cY(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function uY(n){n.clearSnapshot()}function BN(n){n.clearMeasurements()}function CN(n){n.isLayoutDirty=!1}function dY(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function SN(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function hY(n){n.resolveTargetDelta()}function fY(n){n.calcProjection()}function mY(n){n.resetSkewAndRotation()}function pY(n){n.removeLeadSnapshot()}function NN(n,e,t){n.translate=Ka(e.translate,0,t),n.scale=Ka(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function EN(n,e,t,s){n.min=Ka(e.min,t.min,s),n.max=Ka(e.max,t.max,s)}function gY(n,e,t,s){EN(n.x,e.x,t.x,s),EN(n.y,e.y,t.y,s)}function vY(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const xY={duration:.45,ease:[.4,0,.1,1]},TN=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),IN=TN("applewebkit/")&&!TN("chrome/")?Math.round:DA;function _N(n){n.min=IN(n.min),n.max=IN(n.max)}function yY(n){_N(n.x),_N(n.y)}function d_(n,e,t){return n==="position"||n==="preserve-aspect"&&!E$(wN(e),wN(t),.2)}function bY(n){var e;return n!==n.root&&((e=n.scroll)==null?void 0:e.wasRoot)}const wY=u_({attachResizeListener:(n,e)=>gg(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),U1={current:void 0},h_=u_({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!U1.current){const n=new wY({});n.mount(window),n.setOptions({layoutScroll:!0}),U1.current=n}return U1.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),jY={pan:{Feature:V$},drag:{Feature:H$,ProjectionNode:h_,MeasureLayout:a_}};function FN(n,e,t){const{props:s}=n;n.animationState&&s.whileHover&&n.animationState.setActive("whileHover",t==="Start");const a="onHover"+t,o=s[a];o&&Ba.postRender(()=>o(e,kg(e)))}class BY extends Zd{mount(){const{current:e}=this.node;e&&(this.unmount=qz(e,(t,s)=>(FN(this.node,s,"Start"),a=>FN(this.node,a,"End"))))}unmount(){}}class CY extends Zd{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Qg(gg(this.node.current,"focus",()=>this.onFocus()),gg(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function UN(n,e,t){const{props:s}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&s.whileTap&&n.animationState.setActive("whileTap",t==="Start");const a="onTap"+(t==="End"?"":t),o=s[a];o&&Ba.postRender(()=>o(e,kg(e)))}class SY extends Zd{mount(){const{current:e}=this.node;e&&(this.unmount=tG(e,(t,s)=>(UN(this.node,s,"Start"),(a,{success:o})=>UN(this.node,a,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Yb=new WeakMap,R1=new WeakMap,NY=n=>{const e=Yb.get(n.target);e&&e(n)},EY=n=>{n.forEach(NY)};function TY({root:n,...e}){const t=n||document;R1.has(t)||R1.set(t,{});const s=R1.get(t),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(EY,{root:n,...e})),s[a]}function IY(n,e,t){const s=TY(e);return Yb.set(n,t),s.observe(n),()=>{Yb.delete(n),s.unobserve(n)}}const _Y={some:0,all:1};class FY extends Zd{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:s,amount:a="some",once:o}=e,c={root:t?t.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:_Y[a]},h=u=>{const{isIntersecting:f}=u;if(this.isInView===f||(this.isInView=f,o&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:A,onViewportLeave:m}=this.node.getProps(),v=f?A:m;v&&v(u)};return IY(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(UY(e,t))&&this.startObserver()}unmount(){}}function UY({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const RY={inView:{Feature:FY},tap:{Feature:SY},focus:{Feature:CY},hover:{Feature:BY}},DY={layout:{ProjectionNode:h_,MeasureLayout:a_}},LY={...w$,...RY,...jY,...DY},RN=OG(LY,JG),QY=({reopenDate:n})=>{const e=n?(()=>{const[t,s,a]=n.split("-").map(c=>parseInt(c,10));return new Date(t,s-1,a).toLocaleDateString()})():"Not set";return i.jsx(RN.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",children:i.jsxs(RN.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5,delay:.2},className:"bg-white rounded-lg p-8 m-4 text-center shadow-2xl",children:[i.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-4",children:"School is on Vacation!"}),i.jsx("p",{className:"text-lg text-gray-600 mb-2",children:"The school is currently on break. We hope you are having a wonderful time."}),i.jsxs("p",{className:"text-lg text-gray-600",children:["School will reopen on"," ",i.jsx("span",{className:"font-semibold text-red-600",children:e}),"."]})]})})},DN=["Monday","Tuesday","Wednesday","Thursday","Friday"],OY=["punctuality","neatness","conduct","attitudeToWork","classParticipation","homeworkCompletion"],PY=["An outstanding performer with excellent academic progress.","Shows great potential and maintains good conduct in class.","Consistent effort and improvement throughout the term.","Active participant in class activities and assignments.","Demonstrates good leadership qualities among peers.","Maintains excellent attendance and punctuality.","Shows remarkable improvement in academic performance.","A disciplined student who follows school rules diligently.","Excellent interpersonal skills and teamwork abilities.","Creative and innovative in approaching class tasks."],f_=()=>{const{user:n}=nl(),e=(n==null?void 0:n.schoolId)||null,[t,s]=ee.useState([]),a=(n==null?void 0:n.assignedClassIds)||[],[o,c]=ee.useState(""),[h,u]=ee.useState("Term 1"),[f,A]=ee.useState(null),[m,v]=ee.useState(!1);ee.useEffect(()=>{a.length>0&&c(a[0])},[n]);const g=Nn.find(Me=>Me.id===o),b=a.map(Me=>{var ht;return(ht=Nn.find(Ve=>Ve.id===Me))==null?void 0:ht.name}).join(", "),[I,N]=ee.useState([]),[S,E]=ee.useState(null),[_,R]=ee.useState(!1),[L,H]=ee.useState({show:!1,dates:[]}),[D,Q]=ee.useState({show:!1,date:""}),[O,$]=ee.useState(!1),[P,V]=ee.useState([]),[G,ie]=ee.useState({}),[de,X]=ee.useState(!1),[q,Z]=ee.useState(!1),[oe,ye]=ee.useState([]),[ne,M]=ee.useState({}),[W,ae]=ee.useState(!1),[ue,ce]=ee.useState([]),ge=()=>{const Me=new Date().toLocaleDateString("en-US",{weekday:"long"});return DN.includes(Me)?Me:"Monday"},[Se,xe]=ee.useState(null),[Ie,Ue]=ee.useState(ge()),[Pe,rt]=ee.useState([]),[Le,me]=ee.useState([]),[Ze,pt]=ee.useState(0),[dt,Je]=ee.useState(0),[Ut,Rt]=ee.useState(0),[zt,$t]=ee.useState(0),[Jt,sn]=ee.useState(0),[Ge,Ht]=ee.useState("0.0"),[kt,Ot]=ee.useState([]);if(!n)return i.jsx(lr,{title:"Teacher Dashboard",children:i.jsxs("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-8rem)]",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#1160A8] mx-auto mb-4"}),i.jsx("p",{className:"text-slate-500",children:"Loading dashboard..."})]})});const gt=(Me=0)=>{const ht=new Date;ht.setDate(ht.getDate()+Me*7);const Ve=ht.getDay(),lt=Ve===0?-6:1-Ve,At=new Date(ht);At.setDate(ht.getDate()+lt);const Qt=[];for(let St=0;St<5;St++){const Vt=new Date(At);Vt.setDate(At.getDate()+St);const en=Vt.getFullYear(),jt=String(Vt.getMonth()+1).padStart(2,"0"),ct=String(Vt.getDate()).padStart(2,"0");Qt.push(`${en}-${jt}-${ct}`)}return Qt},_t=Me=>{if(Me===0)return"This Week";const ht=gt(Me),Ve=new Date(ht[0]+"T00:00:00"),lt=new Date(ht[4]+"T00:00:00"),At={month:"short",day:"numeric"},Qt=Ve.toLocaleDateString("en-US",At),St=lt.toLocaleDateString("en-US",At);return Me===-1?`Last Week (${Qt} - ${St})`:`${Qt} - ${St}`};ee.useEffect(()=>{let Me=!0;return n&&(async()=>{const Ve=new Date().toISOString().split("T")[0];await ot.getTeacherAttendance(e||void 0,(n==null?void 0:n.id)||"",Ve);try{if(!e)return;const lt=await ot.getSchoolConfig(e);if(!Me)return;const At=new Date,Qt=lt.schoolReopenDate?new Date(lt.schoolReopenDate+"T00:00:00"):null;Qt&&Qt.setHours(0,0,0,0);const St=new Date;St.setHours(0,0,0,0);const Vt=lt.nextTermBegins?new Date(lt.nextTermBegins+"T00:00:00"):null;if(Vt&&Vt.setHours(0,0,0,0),Vt&&St.getTime()===Vt.getTime()){H({show:!1,dates:[]}),Q({show:!1,date:""});return}const en=lt.vacationDate?new Date(lt.vacationDate+"T00:00:00"):null;en&&en.setHours(0,0,0,0);const jt=!Qt||At>=Qt,ct=en&&Vt&&St>=en&&St<Vt;if(jt&&!ct){const Dt=[];let Yt=new Date;for(Yt.setDate(Yt.getDate()-1);Yt>=Qt;){const rn=Yt.getDay(),ts=en&&Yt.toDateString()===en.toDateString();if(rn===0||rn===6||ts){Yt.setDate(Yt.getDate()-1);continue}const Ms=`${Yt.getFullYear()}-${String(Yt.getMonth()+1).padStart(2,"0")}-${String(Yt.getDate()).padStart(2,"0")}`,ln=await ot.getTeacherAttendance(e,(n==null?void 0:n.id)||"",Ms);if(!Me)return;ln||Dt.push(Ms),Yt.setDate(Yt.getDate()-1)}if(Dt.length>0?H({show:!0,dates:Dt}):H({show:!1,dates:[]}),o&&Dt.length>0){const rn=Dt[0],ts=await ot.getAttendance(e,o,rn);if(!Me)return;Q(ts?{show:!1,date:""}:{show:!0,date:rn})}}}catch(lt){console.error("Error re-checking missed attendance:",lt)}})(),()=>{Me=!1}},[n,o]),ee.useEffect(()=>{let Me=!0;return(async()=>{if(!o||!e)return;let Ve;try{if(Ve=await ot.getSchoolConfig(e),Me){A(Ve),u(Ve.currentTerm||`Term ${Xi}`);const Vt=new Date;Vt.setHours(0,0,0,0);const en=Vt.getTime();let jt=null;if(Ve.vacationDate){const rn=new Date(Ve.vacationDate+"T00:00:00");rn.setHours(0,0,0,0),jt=rn.getTime()}let ct=null;if(Ve.nextTermBegins){const rn=new Date(Ve.nextTermBegins+"T00:00:00");rn.setHours(0,0,0,0),ct=rn.getTime()}let Dt=null;if(jt!==null){const rn=new Date(jt);rn.setDate(rn.getDate()+1),Dt=rn.getTime()}let Yt=!1;if(Dt!==null&&en>=Dt&&ct!==null&&en<ct&&(Yt=!0),v(Yt),console.log("--- Vacation Overlay Debug ---"),console.log("Current Date (Local Midnight):",Vt.toLocaleDateString()),console.log("Vacation Date (Last School Day):",Ve.vacationDate),console.log("Vacation Starts (Local Midnight):",Dt?new Date(Dt).toLocaleDateString():"N/A"),console.log("Next Term Begins (Local Midnight):",Ve.nextTermBegins),console.log("Is Vacation:",Yt),console.log("--- End Debug ---"),Ve.nextTermBegins&&en>=ct){if(Ve.termTransitionProcessed===!1){console.log("New term begins today or has passed. Initiating dashboard reset...");try{await ot.resetForNewTerm(Ve),await ot.updateSchoolConfig({...Ve,termTransitionProcessed:!0}),Pt("New term started! Dashboard has been reset.",{type:"success"}),window.location.reload()}catch(rn){console.error("Error during new term reset:",rn),Pt("Failed to reset dashboard for new term.",{type:"error"})}}}else Ve.nextTermBegins&&en<ct&&Ve.termTransitionProcessed===!0&&await ot.updateSchoolConfig({...Ve,termTransitionProcessed:!1})}}catch(Vt){console.error(Vt),Ve={currentTerm:`Term ${Xi}`,academicYear:wo,schoolReopenDate:"",schoolName:"School Manager GH",headTeacherRemark:"An outstanding performance. The school is proud of you.",termEndDate:"2024-12-20",vacationDate:"2024-12-20",nextTermBegins:"",termTransitionProcessed:!1,schoolId:""}}const lt=await ot.getSubjects(e,o);if(!Me)return;s(lt);const At=await ot.getNotices(e);if(!Me)return;N(At);const Qt=new Date().toISOString().split("T")[0],St=await ot.getTeacherAttendance(e,(n==null?void 0:n.id)||"",Qt);if(Me&&(E(St),o)){const Vt=await ot.getTimetable(e,o);if(!Me)return;xe(Vt||null),Ue(ge());try{const[en,jt]=await Promise.all([ot.getClassAttendance(e,o),ot.getStudents(e,o)]);if(!Me)return;const ct=jt.length||1,Dt=gt(Ze),Yt=en.filter(cs=>Dt.includes(cs.date)),rn=Dt.map(cs=>{const rs=Yt.find(_r=>_r.date===cs),us=rs?Math.round(rs.presentStudentIds.length/ct*100):0,[Rs,fr,pa]=cs.split("-").map(Number);return{day:new Date(Rs,fr-1,pa).toLocaleDateString("en-US",{weekday:"short"}),percentage:us}});if(me(rn),ce(jt),Ze===0){Je(jt.length);const cs=new Date().toISOString().split("T")[0],rs=en.find(Rs=>Rs.date===cs),us=rs?rs.presentStudentIds.length:0;Rt(us),$t(jt.length-us)}else Rt(0),$t(0);const ts=parseInt((Ve.currentTerm||`Term ${Xi}`).split(" ")[1]);let Ms=0,ln=0;for(const cs of lt){const us=(await ot.getAssessments(e,o,cs)).filter(Rs=>Rs.term===ts);for(const Rs of us){const fr=Rs.total??rc(Rs);Ms+=fr,ln++}}const ri=ln>0?Ms/ln:0;sn(ri);const Ca=(await ot.getStudentSkills(e,o)).filter(cs=>cs.term===ts);let Xr=0,dn=0;const Hs={Excellent:5,"Very Good":4,Good:3,Fair:2,Poor:1};for(const cs of Ca)cs.conduct&&(Xr+=Hs[cs.conduct]||0,dn++);const Cr=dn>0?Xr/dn:0;Ht(Cr.toFixed(1));const Ns=[];for(const cs of lt){const us=(await ot.getAssessments(e,o,cs)).filter(Kr=>Kr.term===ts);if(us.length===0)continue;let Rs=0,fr=0,pa="";for(const Kr of us){const _r=Kr.total??rc(Kr),vi=jt.find(zr=>zr.id===Kr.studentId);vi&&_r>fr&&(fr=_r,pa=vi.name),Rs+=_r}const Qi=Rs/us.length;Ns.push({subject:cs,topStudent:pa,average:Qi})}Ns.sort((cs,rs)=>rs.average-cs.average),Ot(Ns)}catch(en){console.error("Error calculating dashboard stats:",en)}}})(),()=>{Me=!1}},[o,Ze,e]),ee.useEffect(()=>{if(Se&&Se.schedule&&Ie){const Me=Se.schedule[Ie]||[];rt(Me)}else rt([])},[Se,Ie]);const Un=Me=>{switch(Me){case"break":return{border:"border-amber-400",bgHover:"group-hover:bg-amber-50",text:"text-amber-700 italic",badge:"text-amber-600"};case"worship":return{border:"border-purple-400",bgHover:"group-hover:bg-purple-50",text:"text-purple-700 font-semibold",badge:"text-purple-600"};case"closing":return{border:"border-slate-400",bgHover:"group-hover:bg-slate-50",text:"text-slate-700 font-bold",badge:"text-slate-600"};default:return{border:"border-[#1160A8]",bgHover:"group-hover:bg-[#E6F0FA]",text:"text-slate-800",badge:"text-[#1160A8]"}}};return i.jsxs(lr,{title:"Teacher Dashboard",children:[m&&i.jsx(QY,{reopenDate:(f==null?void 0:f.nextTermBegins)||"TBD"}),i.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl font-bold text-slate-800",children:["Welcome back, ",n==null?void 0:n.fullName]}),i.jsxs("p",{className:"text-slate-500 mt-1",children:[i.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-[#1160A8] mr-2"}),"Class Teacher for:"," ",i.jsx("span",{className:"font-semibold text-slate-800",children:b||"Not Assigned"})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-end sm:items-center",children:[a.length>1&&i.jsxs("div",{className:"flex items-center bg-white border border-slate-200 rounded-lg px-3 py-1.5 shadow-sm",children:[i.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase mr-2",children:"Viewing:"}),i.jsx("select",{value:o,onChange:Me=>c(Me.target.value),className:"text-sm font-semibold text-slate-800 bg-transparent outline-none cursor-pointer",children:a.map(Me=>{const ht=Nn.find(Ve=>Ve.id===Me);return i.jsx("option",{value:Me,children:ht==null?void 0:ht.name},Me)})})]}),i.jsx("div",{className:"flex gap-2",children:i.jsxs("span",{className:"px-3 py-1 bg-emerald-50 text-emerald-700 text-xs font-bold rounded-full border border-emerald-100 uppercase tracking-wide",children:[h," Active"]})})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[i.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[i.jsxs(fi,{to:"/teacher/attendance",className:"group block bg-white p-6 rounded-xl shadow-sm border border-slate-100 hover:border-[#1160A8] transition-all relative overflow-hidden",children:[i.jsx("div",{className:"absolute right-0 top-0 w-24 h-24 bg-[#E6F0FA] rounded-bl-full -mr-4 -mt-4 transition-transform group-hover:scale-110"}),i.jsxs("div",{className:"relative z-10",children:[i.jsx("div",{className:"w-12 h-12 bg-[#E6F0FA] rounded-lg flex items-center justify-center mb-4 group-hover:bg-[#0B4A82] transition-colors",children:i.jsx(Xv,{className:"w-6 h-6 text-[#1160A8] group-hover:text-white"})}),i.jsx("h3",{className:"font-bold text-lg text-slate-800 mb-1",children:"Take Attendance"}),i.jsxs("p",{className:"text-sm text-slate-500",children:["Record daily register for"," ",(g==null?void 0:g.name)||"your class","."]})]})]}),i.jsxs(fi,{to:"/teacher/assessment",className:"group block bg-white p-6 rounded-xl shadow-sm border border-slate-100 hover:border-amber-500 transition-all relative overflow-hidden",children:[i.jsx("div",{className:"absolute right-0 top-0 w-24 h-24 bg-amber-50 rounded-bl-full -mr-4 -mt-4 transition-transform group-hover:scale-110"}),i.jsxs("div",{className:"relative z-10",children:[i.jsx("div",{className:"w-12 h-12 bg-amber-100 rounded-lg flex items-center justify-center mb-4 group-hover:bg-amber-500 transition-colors",children:i.jsx(Pl,{className:"w-6 h-6 text-amber-600 group-hover:text-white"})}),i.jsx("h3",{className:"font-bold text-lg text-slate-800 mb-1",children:"Gradebook"}),i.jsx("p",{className:"text-sm text-slate-500",children:"Record marks for tests, homework & exams."})]})]}),i.jsxs(fi,{to:"/teacher/my-attendance",className:"group block bg-white p-6 rounded-xl shadow-sm border border-slate-100 hover:border-green-500 transition-all relative overflow-hidden w-full text-left",children:[i.jsx("div",{className:"absolute right-0 top-0 w-24 h-24 bg-green-50 rounded-bl-full -mr-4 -mt-4 transition-transform group-hover:scale-110"}),i.jsxs("div",{className:"relative z-10",children:[i.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mb-4 group-hover:bg-green-500 transition-colors",children:i.jsx(Xv,{className:"w-6 h-6 text-green-600 group-hover:text-white"})}),i.jsx("h3",{className:"font-bold text-lg text-slate-800 mb-1",children:"My Attendance"}),i.jsx("p",{className:"text-sm text-slate-500",children:"Mark weekly attendance & view records"}),S&&i.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["Last marked: ",S.date]})]})]}),i.jsxs("button",{onClick:async()=>{let Me=ue;(!Me||Me.length===0)&&(Me=await ot.getStudents(e,o));const Ve=(await ot.getStudentRemarks(e,o)).reduce((Qt,St)=>(Qt[St.studentId]={remark:St.remark,behaviorTag:St.behaviorTag},Qt),{});ie(Ve);const At=(await ot.getStudentSkills(e,o)).reduce((Qt,St)=>(Qt[St.studentId]={punctuality:St.punctuality,neatness:St.neatness,conduct:St.conduct,attitudeToWork:St.attitudeToWork,classParticipation:St.classParticipation,homeworkCompletion:St.homeworkCompletion},Qt),{});M(At),V(Me||[]),$(!0)},className:"group block bg-white p-6 rounded-xl shadow-sm border border-slate-100 hover:border-purple-500 transition-all relative overflow-hidden w-full text-left",children:[i.jsx("div",{className:"absolute right-0 top-0 w-24 h-24 bg-purple-50 rounded-bl-full -mr-4 -mt-4 transition-transform group-hover:scale-110"}),i.jsxs("div",{className:"relative z-10",children:[i.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-4 group-hover:bg-purple-500 transition-colors",children:i.jsx(Pl,{className:"w-6 h-6 text-purple-600 group-hover:text-white"})}),i.jsx("h3",{className:"font-bold text-lg text-slate-800 mb-1",children:"Write Remarks"}),i.jsx("p",{className:"text-sm text-slate-500",children:"End of term comments & behavior tags."})]})]}),i.jsxs("button",{onClick:async()=>{let Me=ue;(!Me||Me.length===0)&&(Me=await ot.getStudents(e,o));const Ve=(await ot.getStudentSkills(e,o)).reduce((lt,At)=>(lt[At.studentId]={punctuality:At.punctuality,neatness:At.neatness,conduct:At.conduct,attitudeToWork:At.attitudeToWork,classParticipation:At.classParticipation,homeworkCompletion:At.homeworkCompletion},lt),{});M(Ve),ye(Me||[]),Z(!0)},className:"group block bg-white p-6 rounded-xl shadow-sm border border-slate-100 hover:border-[#1160A8] transition-all relative overflow-hidden w-full text-left",children:[i.jsx("div",{className:"absolute right-0 top-0 w-24 h-24 bg-[#E6F0FA] rounded-bl-full -mr-4 -mt-4 transition-transform group-hover:scale-110"}),i.jsxs("div",{className:"relative z-10",children:[i.jsx("div",{className:"w-12 h-12 bg-[#E6F0FA] rounded-lg flex items-center justify-center mb-4 group-hover:bg-[#1160A8] transition-colors",children:i.jsx(Ed,{className:"w-6 h-6 text-[#1160A8] group-hover:text-white"})}),i.jsx("h3",{className:"font-bold text-lg text-slate-800 mb-1",children:"Edit Skills"}),i.jsx("p",{className:"text-sm text-slate-500",children:"Rate student skills and behavior."})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100",children:[i.jsx("h4",{className:"font-bold text-slate-800 mb-2",children:"Class Health"}),i.jsxs("div",{className:"space-y-1 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Total Students:"}),i.jsx("span",{className:"font-semibold",children:dt})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Present Today:"}),i.jsx("span",{className:"font-semibold text-green-600",children:Ut})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Absent Today:"}),i.jsx("span",{className:"font-semibold text-red-600",children:zt})]})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100",children:[i.jsx("h4",{className:"font-bold text-slate-800 mb-2",children:"Average Performance"}),i.jsx("div",{className:"text-center",children:Jt>0?i.jsxs("span",{className:"text-2xl font-bold text-[#1160A8]",children:[Jt.toFixed(1),"%"]}):i.jsx("span",{className:"text-sm text-slate-400 italic",children:"No assessment data."})})]}),i.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100",children:[i.jsx("h4",{className:"font-bold text-slate-800 mb-2",children:"Behavior Average"}),i.jsx("div",{className:"text-center",children:parseFloat(Ge)>0?i.jsxs("span",{className:"text-lg font-semibold text-purple-600",children:[Ge,"/5"]}):i.jsx("span",{className:"text-sm text-slate-400 italic",children:"No behavior data."})})]}),i.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100",children:[i.jsx("h4",{className:"font-bold text-slate-800 mb-2",children:"Subject Standings"}),i.jsx("div",{className:"space-y-1 max-h-20 overflow-y-auto",children:kt.slice(0,3).map(Me=>i.jsxs("div",{className:"flex justify-between text-xs",children:[i.jsxs("span",{children:[Me.subject,":"]}),i.jsx("span",{className:"font-semibold",children:Me.topStudent||"N/A"})]},Me.subject))})]})]}),i.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-xl shadow-sm border border-slate-100",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 sm:mb-8 gap-3 sm:gap-0",children:[i.jsxs("h3",{className:"font-bold text-slate-800 flex items-center text-base sm:text-lg",children:[i.jsx(Ed,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2 text-[#1160A8]"})," ","Weekly Attendance Trend"]}),i.jsxs("div",{className:"flex gap-2 items-center w-full sm:w-auto justify-center sm:justify-start",children:[i.jsx("button",{onClick:()=>pt(Ze-1),className:"px-3 py-1.5 text-xs font-medium rounded-full bg-slate-100 hover:bg-slate-200 transition-colors min-w-[60px] touch-manipulation",children:" Prev"}),i.jsx("span",{className:"px-3 py-1.5 text-xs font-medium rounded-full bg-[#1160A8] text-white text-center min-w-[120px] sm:w-36 truncate",children:_t(Ze)}),i.jsx("button",{onClick:()=>pt(Ze+1),disabled:Ze===0,className:"px-3 py-1.5 text-xs font-medium rounded-full bg-slate-100 hover:bg-slate-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed min-w-[60px] touch-manipulation",children:"Next "})]})]}),i.jsx("div",{className:"flex items-end justify-between h-32 sm:h-40 gap-1 sm:gap-2 px-1 sm:px-2",children:Le.length===0?i.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-slate-300",children:[i.jsx(Ed,{className:"w-6 h-6 sm:w-8 sm:h-8 mb-2 opacity-30"}),i.jsx("p",{className:"text-xs sm:text-sm italic",children:"No attendance records found."})]}):Le.map((Me,ht)=>i.jsxs("div",{className:"flex flex-col items-center flex-1 group min-w-0",children:[i.jsxs("div",{className:"relative w-full flex justify-center",children:[i.jsx("div",{className:"w-full max-w-[32px] sm:max-w-[40px] bg-slate-100 rounded-t-lg transition-all duration-500 group-hover:bg-[#E6F0FA] relative overflow-hidden",style:{height:"120px"},children:i.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-[#1160A8] rounded-t-lg transition-all duration-1000",style:{height:`${Me.percentage}%`}})}),i.jsxs("div",{className:"hidden sm:block absolute -top-8 bg-slate-800 text-white text-xs py-1 px-2 rounded opacity-0 group-hover:opacity-100 transition-opacity",children:[Me.percentage,"%"]}),i.jsxs("div",{className:"sm:hidden absolute -top-6 bg-slate-800 text-white text-xs py-0.5 px-1 rounded opacity-0 group-active:opacity-100 transition-opacity",children:[Me.percentage,"%"]})]}),i.jsx("span",{className:"text-xs text-slate-500 mt-2 sm:mt-3 font-medium truncate",children:Me.day})]},ht))})]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100",children:[i.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center",children:[i.jsx(Pp,{className:"w-5 h-5 mr-2 text-[#1160A8]"})," Notice Board"]}),i.jsx("div",{className:"space-y-4 max-h-[350px] overflow-y-auto pr-1",children:I.length===0?i.jsx("div",{className:"text-center py-6 text-slate-400 italic text-sm",children:"No announcements at this time."}):I.map(Me=>i.jsxs("div",{className:"group relative pl-4 pb-2 border-l-2 border-slate-200 hover:border-[#1160A8] transition-colors",children:[i.jsx("div",{className:`absolute -left-[5px] top-1 w-2.5 h-2.5 rounded-full border-2 border-white ${Me.type==="urgent"?"bg-red-500":"bg-amber-400"} shadow-sm`}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between items-start mb-1",children:[i.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wide",children:Me.date}),Me.type==="urgent"&&i.jsx("span",{className:"text-[10px] text-red-500 font-bold px-1.5 py-0.5 bg-red-50 rounded",children:"URGENT"})]}),i.jsx("p",{className:"text-sm font-medium text-slate-800 leading-snug",children:Me.message})]})]},Me.id))})]}),i.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-100",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsxs("h3",{className:"font-bold text-slate-800 flex items-center",children:[i.jsx(Ld,{className:"w-5 h-5 mr-2 text-[#1160A8]"})," Class Schedule"]}),i.jsx("select",{value:Ie,onChange:Me=>Ue(Me.target.value),className:"text-xs font-bold text-[#1160A8] bg-[#E6F0FA] px-2 py-1 rounded uppercase border-none outline-none cursor-pointer hover:bg-[#E6F0FA] transition-colors",children:DN.map(Me=>i.jsx("option",{value:Me,children:Me},Me))})]}),o?i.jsx("div",{className:"space-y-4 relative min-h-[150px]",children:Pe.length===0?i.jsxs("div",{className:"text-center py-10 text-slate-400 text-sm italic border-2 border-dashed border-slate-100 rounded-lg",children:["No schedule set for ",Ie,"."]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"absolute left-2.5 top-2 bottom-2 w-0.5 bg-slate-200"}),Pe.map(Me=>{const ht=Un(Me.type);return i.jsxs("div",{className:"relative pl-8 group",children:[i.jsx("div",{className:`absolute left-0 top-1.5 w-5 h-5 bg-white border-2 rounded-full z-10 transition-colors ${ht.border} ${ht.bgHover}`}),i.jsxs("div",{className:"flex items-baseline justify-between",children:[i.jsxs("p",{className:"text-xs text-slate-500 font-mono",children:[Me.startTime," - ",Me.endTime]}),Me.type!=="lesson"&&i.jsx("span",{className:`text-[10px] font-bold uppercase ${ht.badge}`,children:Me.type})]}),i.jsx("p",{className:`text-sm ${ht.text}`,children:Me.subject})]},Me.id)})]})}):i.jsx("div",{className:"text-center py-10 text-slate-400",children:"Select a class to view schedule."})]})]})]}),L.show&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[100] p-4 animate-in fade-in duration-200",children:i.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md max-h-[90vh] overflow-y-auto shadow-2xl",children:[i.jsx("div",{className:"p-6 border-b border-slate-100",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-amber-100 rounded-full",children:i.jsx(Pp,{className:"text-amber-600",size:20})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-slate-900",children:"Attendance Reminder"}),i.jsx("p",{className:"text-sm text-slate-500",children:"You missed marking attendance for a previous school day"})]})]})}),i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:[i.jsx("p",{className:"text-sm text-amber-800",children:"Please mark your attendance for the following dates to keep your records accurate:"}),i.jsx("ul",{className:"mt-2 space-y-1",children:L.dates.map(Me=>i.jsx("li",{className:"text-sm font-medium",children:i.jsx("strong",{children:(()=>{const ht=Me.split("-");return ht.length===3?`${ht[1]}/${ht[2]}/${ht[0]}`:Me})()})},Me))})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:()=>H({show:!1,dates:[]}),className:"flex-1 px-4 py-2 text-slate-600 border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors",children:"Remind Me Later"}),i.jsx(fi,{to:"/teacher/my-attendance",onClick:()=>H({show:!1,dates:[]}),className:"flex-1 px-4 py-2 bg-[#1160A8] text-white rounded-lg hover:bg-[#0B4A82] transition-colors text-center",children:"Mark Attendance Now"})]})]})]})}),D.show&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[100] p-4 animate-in fade-in duration-200",children:i.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md max-h-[90vh] overflow-y-auto shadow-2xl",children:[i.jsx("div",{className:"p-6 border-b border-slate-100",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-red-100 rounded-full",children:i.jsx(Pp,{className:"text-red-600",size:20})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-slate-900",children:"Student Attendance Reminder"}),i.jsx("p",{className:"text-sm text-slate-500",children:"You missed marking student attendance for your class."})]})]})}),i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:i.jsxs("p",{className:"text-sm text-red-800",children:["Please mark student attendance for"," ",i.jsx("strong",{children:g==null?void 0:g.name})," on"," ",i.jsx("strong",{children:(()=>{const Me=D.date.split("-");return Me.length===3?`${Me[1]}/${Me[2]}/${Me[0]}`:D.date})()})," ","to keep records accurate."]})}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:()=>Q({show:!1,date:""}),className:"flex-1 px-4 py-2 text-slate-600 border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors",children:"Remind Me Later"}),i.jsx(fi,{to:"/teacher/attendance",onClick:()=>Q({show:!1,date:""}),className:"flex-1 px-4 py-2 text-center bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Take Attendance"})]})]})]})}),O&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[100] p-4 animate-in fade-in duration-200",children:i.jsxs("div",{className:"bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto shadow-2xl",children:[i.jsx("div",{className:"p-6 border-b border-slate-100",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-purple-100 rounded-full",children:i.jsx(Pl,{className:"text-purple-600",size:20})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-slate-900",children:"End of Term Remarks"}),i.jsx("p",{className:"text-sm text-slate-500",children:"Write comments and select behavior tags for each student"})]})]}),i.jsx("button",{onClick:()=>$(!1),className:"p-2 hover:bg-slate-100 rounded-full",children:i.jsx(jo,{size:20})})]})}),i.jsxs("div",{className:"p-6",children:[i.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:P.map(Me=>{var ht,Ve;return i.jsxs("div",{className:"border rounded p-4",children:[i.jsx("h4",{className:"font-semibold mb-2",children:Me.name}),i.jsxs("div",{className:"mb-2",children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Behavior Tag"}),i.jsxs("select",{value:((ht=G[Me.id])==null?void 0:ht.behaviorTag)||"",onChange:lt=>ie(At=>({...At,[Me.id]:{...At[Me.id],behaviorTag:lt.target.value}})),className:"w-full p-2 border rounded",children:[i.jsx("option",{value:"",children:"Select Behavior"}),i.jsx("option",{value:"Excellent",children:"Excellent"}),i.jsx("option",{value:"Good",children:"Good"}),i.jsx("option",{value:"Needs Improvement",children:"Needs Improvement"})]})]}),i.jsxs("div",{className:"mb-2",children:[i.jsxs("label",{className:"block text-sm font-medium mb-1 flex items-center gap-2",children:[i.jsx(PT,{size:14,className:"text-purple-600"}),"Remark"]}),i.jsx("textarea",{value:((Ve=G[Me.id])==null?void 0:Ve.remark)||"",onChange:lt=>ie(At=>({...At,[Me.id]:{...At[Me.id],remark:lt.target.value}})),placeholder:"Write remark or select from suggestions below...",className:"w-full p-2 border rounded",rows:3}),i.jsxs("div",{className:"mt-2",children:[i.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Tap to insert suggestion:"}),i.jsx("div",{className:"flex flex-wrap gap-1 max-h-24 overflow-y-auto p-1 bg-slate-50 rounded-lg",children:PY.map((lt,At)=>i.jsx("button",{type:"button",onClick:()=>ie(Qt=>({...Qt,[Me.id]:{...Qt[Me.id],remark:lt}})),className:"text-xs px-2 py-1 bg-purple-50 text-purple-700 rounded-full border border-purple-200 hover:bg-purple-100 transition-colors text-left truncate max-w-full",title:lt,children:lt.length>50?lt.substring(0,50)+"...":lt},At))})]})]})]},Me.id)})}),i.jsxs("div",{className:"mt-4 flex justify-end gap-3",children:[i.jsx("button",{onClick:()=>$(!1),className:"px-4 py-2 text-slate-600 border rounded hover:bg-slate-50",children:"Cancel"}),i.jsx("button",{onClick:async()=>{var Me,ht;X(!0);try{for(const Ve of P){const lt=parseInt(h.split(" ")[1]),At={id:`${Ve.id}_${h}_${wo}`,studentId:Ve.id,classId:o,term:lt,academicYear:wo,schoolId:e||(f==null?void 0:f.schoolId)||"",remark:((Me=G[Ve.id])==null?void 0:Me.remark)||"",behaviorTag:((ht=G[Ve.id])==null?void 0:ht.behaviorTag)||"",teacherId:n.id,dateCreated:new Date().toISOString().split("T")[0]};await ot.saveStudentRemark(At)}Pt("Remarks saved successfully!",{type:"success"}),$(!1)}catch(Ve){console.error(Ve),Pt("Failed to save remarks",{type:"error"})}finally{X(!1)}},disabled:de,className:"px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 disabled:opacity-50",children:de?"Saving...":"Save Remarks"})]})]})]})}),q&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[100] p-4 animate-in fade-in duration-200",children:i.jsxs("div",{className:"bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto shadow-2xl",children:[i.jsx("div",{className:"p-6 border-b border-slate-100",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-[#E6F0FA] rounded-full",children:i.jsx(Ed,{className:"text-[#1160A8]",size:20})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-slate-900",children:"Edit Student Skills"}),i.jsx("p",{className:"text-sm text-slate-500",children:"Rate skills and behavior for each student"})]})]}),i.jsx("button",{onClick:()=>Z(!1),className:"p-2 hover:bg-slate-100 rounded-full",children:i.jsx(jo,{size:20})})]})}),i.jsxs("div",{className:"p-6",children:[i.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:oe.map(Me=>i.jsxs("div",{className:"border rounded p-4",children:[i.jsx("h4",{className:"font-semibold mb-3",children:Me.name}),i.jsx("div",{className:"grid grid-cols-2 gap-3",children:OY.map(ht=>{var Ve;return i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium mb-1 capitalize",children:ht.replace(/([A-Z])/g," $1").trim()}),i.jsxs("select",{value:((Ve=ne[Me.id])==null?void 0:Ve[ht])||"",onChange:lt=>M(At=>({...At,[Me.id]:{...At[Me.id],[ht]:lt.target.value}})),className:"w-full p-2 border rounded text-sm",children:[i.jsx("option",{value:"",children:"Select"}),i.jsx("option",{value:"Excellent",children:"Excellent"}),i.jsx("option",{value:"Very Good",children:"Very Good"}),i.jsx("option",{value:"Good",children:"Good"}),i.jsx("option",{value:"Fair",children:"Fair"}),i.jsx("option",{value:"Poor",children:"Poor"})]})]},ht)})})]},Me.id))}),i.jsxs("div",{className:"mt-4 flex justify-end gap-3",children:[i.jsx("button",{onClick:()=>Z(!1),className:"px-4 py-2 text-slate-600 border rounded hover:bg-slate-50",children:"Cancel"}),i.jsx("button",{onClick:async()=>{ae(!0);try{const Me=parseInt(h.split(" ")[1]);for(const ht of oe){const Ve={id:`${ht.id}_${h}_${wo}`,studentId:ht.id,classId:o,term:Me,academicYear:wo,schoolId:e||(f==null?void 0:f.schoolId)||"",...ne[ht.id]};await ot.saveStudentSkills(Ve)}Pt("Skills saved successfully!",{type:"success"}),Z(!1)}catch(Me){console.error(Me),Pt("Failed to save skills",{type:"error"})}finally{ae(!1)}},disabled:W,className:"px-4 py-2 bg-[#1160A8] text-white rounded hover:bg-[#0B4A82] disabled:opacity-50",children:W?"Saving...":"Save Skills"})]})]})]})})]})},kY=()=>{var ie;const{user:n}=nl(),e=(n==null?void 0:n.assignedClassIds)||[],[t,s]=ee.useState(""),a=(n==null?void 0:n.schoolId)||null,[o,c]=ee.useState([]),[h,u]=ee.useState(new Date().toISOString().split("T")[0]),[f,A]=ee.useState(new Set),[m,v]=ee.useState(!1),[g,b]=ee.useState(""),[I,N]=ee.useState(!1),[S,E]=ee.useState(null),[_,R]=ee.useState(""),[L,H]=ee.useState(null);ee.useEffect(()=>{e.length>0&&!t&&s(e[0])},[e]),ee.useEffect(()=>{(async()=>{if(!a){H(null);return}const X=await ot.getSchoolConfig(a);H(X);const q=Q(X);q&&h<q&&u(q)})()},[a]);const D=()=>Q(L),Q=de=>de&&de.schoolReopenDate?de.schoolReopenDate:"",O=()=>{const de=L==null?void 0:L.vacationDate,X=L==null?void 0:L.nextTermBegins,q=L==null?void 0:L.schoolReopenDate,Z=((L==null?void 0:L.holidayDates)||[]).some(oe=>oe.date===h);return X&&h>=X?!1:!!(Z||de&&h>de||!de&&q&&h<q)};ee.useEffect(()=>{if(!t||!a)return;(async()=>{N(!0);try{const X=await ot.getStudents(a,t);c(X);const q=await ot.getAttendance(a,t,h),Z=((L==null?void 0:L.holidayDates)||[]).find(oe=>oe.date===h);if(Z){E(Z),v(!0),b(Z.reason||""),A(new Set);return}q?q.isHoliday?(v(!0),b(q.holidayReason||""),A(new Set)):(v(!1),b(""),A(new Set(q.presentStudentIds))):(v(!1),b(""),A(new Set)),E(null)}catch(X){console.error(X)}finally{N(!1)}})()},[t,h,a,L]);const $=de=>{if(m||S)return;const X=new Set(f);X.has(de)?X.delete(de):X.add(de),A(X)},P=async()=>{var Z;if(!t||!a)return;const de=L==null?void 0:L.vacationDate,X=L==null?void 0:L.nextTermBegins,q=L==null?void 0:L.schoolReopenDate;if(S){R("This date is marked as a holiday by the admin."),setTimeout(()=>R(""),3e3);return}if(!(X&&h>=X)){if(de&&h>de){R("Cannot mark attendance after school vacation date"),setTimeout(()=>R(""),3e3);return}else if(!de&&q&&h<q){R(`Cannot mark attendance before school re-open date (${q})`),setTimeout(()=>R(""),3e3);return}}N(!0);try{if(m&&(await ot.getAttendanceByDate(a,h)).some(ne=>{var M;return(M=ne.presentStudentIds)==null?void 0:M.length})){R("This date already has attendance records. Clear them before marking a holiday."),setTimeout(()=>R(""),4e3);return}await ot.saveAttendance({id:`${a}_${t}_${h}`,schoolId:a,classId:t,date:h,presentStudentIds:m?[]:Array.from(f),isHoliday:m,holidayReason:m?g.trim():""});const oe=((Z=Nn.find(ye=>ye.id===t))==null?void 0:Z.name)||t;await ot.addSystemNotification(m?`${n==null?void 0:n.fullName} marked ${oe} as Holiday on ${h}.`:`${n==null?void 0:n.fullName} marked attendance for ${oe} on ${h}. (${f.size} Present)`,"attendance",a),R(m?"Holiday saved successfully!":"Attendance saved successfully!"),setTimeout(()=>R(""),3e3)}catch(oe){console.error(oe)}finally{N(!1)}};if(e.length===0)return i.jsx(lr,{title:"Attendance",children:i.jsx("div",{className:"p-8 text-center text-slate-500",children:"You are not assigned to any class. Contact Admin."})});const V=((ie=Nn.find(de=>de.id===t))==null?void 0:ie.name)||t,G=m?0:o.length-f.size;return i.jsx(lr,{title:"Mark Attendance",children:i.jsxs("div",{className:"max-w-5xl mx-auto space-y-6",children:[i.jsxs("div",{className:"relative overflow-hidden rounded-2xl border bg-gradient-to-br from-indigo-50 via-white to-emerald-50 p-6 shadow-sm",children:[i.jsx("div",{className:"absolute -top-16 -right-16 h-40 w-40 rounded-full bg-indigo-200/40 blur-3xl"}),i.jsx("div",{className:"absolute -bottom-20 -left-16 h-48 w-48 rounded-full bg-emerald-200/40 blur-3xl"}),i.jsxs("div",{className:"relative flex flex-col gap-2",children:[i.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Student Attendance"}),i.jsx("p",{className:"text-sm text-slate-600",children:"Mark attendance quickly and accurately for your class."}),S&&i.jsxs("div",{className:"mt-3 rounded-2xl border border-amber-200 bg-amber-50/70 px-4 py-2 text-xs font-semibold text-amber-900 shadow-sm",children:["Admin Holiday: ",S.reason||"No reason provided"]}),m&&i.jsxs("div",{className:"mt-3 inline-flex items-center gap-2 rounded-full bg-amber-100 px-3 py-1 text-xs font-semibold text-amber-800",children:[i.jsx(Li,{className:"h-4 w-4"}),S?"Admin Holiday":"Holiday / No School",g?` ${g}`:""]}),i.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-3 text-sm",children:[i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-white/80 px-3 py-1 font-medium text-slate-700 shadow-sm",children:[i.jsx(fl,{className:"h-4 w-4 text-indigo-500"}),"Class: ",V||"Select class"]}),i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-emerald-50 px-3 py-1 font-medium text-emerald-700 shadow-sm",children:[i.jsx(UA,{className:"h-4 w-4"}),f.size," Present"]}),i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-rose-50 px-3 py-1 font-medium text-rose-700 shadow-sm",children:[i.jsx(Hh,{className:"h-4 w-4"}),G," Absent"]})]})]})]}),i.jsx("div",{className:"rounded-2xl border bg-white/80 p-6 shadow-sm",children:i.jsxs("div",{className:"flex flex-col gap-6",children:[i.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-end md:justify-between",children:[i.jsxs("div",{className:"w-full md:w-64",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Select Class"}),i.jsx("select",{value:t,onChange:de=>s(de.target.value),className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm transition focus:border-emerald-400 focus:ring-2 focus:ring-emerald-200",children:e.map(de=>{const X=Nn.find(q=>q.id===de);return i.jsx("option",{value:de,children:X==null?void 0:X.name},de)})})]}),i.jsxs("div",{className:"w-full md:w-64",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Select Date"}),i.jsxs("div",{className:"relative",children:[i.jsx(Zo,{className:"absolute left-3 top-2.5 w-4 h-4 text-slate-400"}),i.jsx("input",{type:"date",value:h,onChange:de=>u(de.target.value),min:D(),className:"w-full rounded-xl border border-slate-200 bg-white pl-10 pr-4 py-2 text-sm shadow-sm transition focus:border-emerald-400 focus:ring-2 focus:ring-emerald-200"})]})]})]}),i.jsxs("div",{className:"flex flex-col gap-3 rounded-2xl border border-amber-200 bg-amber-50/60 p-4",children:[i.jsxs("label",{className:"inline-flex items-center gap-3 text-sm font-semibold text-amber-900",children:[i.jsx("input",{type:"checkbox",checked:m,onChange:de=>{const X=de.target.checked;v(X),X&&A(new Set)},disabled:!!S,className:"h-4 w-4 rounded border-amber-300 text-amber-600 focus:ring-amber-300"}),"Mark this date as Holiday / No School"]}),S?i.jsx("div",{className:"text-xs text-amber-800",children:"This date is locked as a holiday by the admin."}):m?i.jsx("input",{type:"text",value:g,onChange:de=>b(de.target.value),placeholder:"Reason (optional) e.g. Independence Day",className:"w-full rounded-xl border border-amber-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-amber-400 focus:ring-2 focus:ring-amber-200"}):null]}),i.jsxs("div",{className:"flex flex-col gap-4 border-t border-slate-100 pt-4 sm:flex-row sm:items-center sm:justify-between",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm",children:[i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-emerald-50 px-3 py-1 font-semibold text-emerald-700",children:[i.jsx(UA,{className:"h-4 w-4"}),f.size," Present"]}),i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-rose-50 px-3 py-1 font-semibold text-rose-700",children:[i.jsx(Hh,{className:"h-4 w-4"}),G," Absent"]})]}),i.jsxs("button",{onClick:P,disabled:I||!t||O()||!!S,className:"inline-flex w-full items-center justify-center gap-2 rounded-full bg-emerald-600 px-6 py-2.5 text-sm font-semibold text-white shadow-sm transition hover:scale-[1.01] hover:bg-emerald-700 disabled:opacity-50 sm:w-auto",children:[i.jsx(iA,{size:18}),I?"Saving...":m?"Save Holiday":"Save Register"]})]})]})}),_&&i.jsx("div",{className:`rounded-2xl p-3 text-center text-sm shadow-sm ${_.includes("Cannot")?"bg-rose-50 text-rose-700":"bg-emerald-50 text-emerald-700"}`,children:_}),(O()||S)&&i.jsx("div",{className:"rounded-2xl border border-amber-200 bg-amber-50/70 p-4 text-amber-900 shadow-sm",children:i.jsxs("div",{className:"flex items-center gap-2 text-amber-700",children:[i.jsx(Li,{size:18}),i.jsx("span",{className:"font-medium",children:S?`Admin marked ${S.date} as a holiday${S.reason?` (${S.reason})`:""}.`:L!=null&&L.nextTermBegins&&h>=L.nextTermBegins?"Attendance not available for selected date":L!=null&&L.vacationDate&&h>L.vacationDate?`Cannot mark attendance after vacation date (${L.vacationDate})`:!(L!=null&&L.vacationDate)&&(L!=null&&L.schoolReopenDate)&&h<L.schoolReopenDate?`Cannot mark attendance before school re-open date (${L.schoolReopenDate})`:"Attendance not available for selected date"})]})}),i.jsxs("div",{className:"rounded-2xl border bg-white/80 p-2 shadow-sm",children:[o.map(de=>{const X=f.has(de.id),q=O()||m||!!S;return i.jsxs("div",{className:`group flex items-center justify-between gap-4 rounded-xl border border-slate-200 bg-white p-4 shadow-sm transition duration-300 hover:-translate-y-0.5 hover:shadow-md ${q?"opacity-60":"cursor-pointer"}`,onClick:()=>!q&&$(de.id),children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:`flex h-11 w-11 items-center justify-center rounded-full text-sm font-bold ${X?"bg-emerald-100 text-emerald-700":"bg-rose-100 text-rose-700"}`,children:de.name.charAt(0)}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-slate-900",children:de.name}),i.jsx("p",{className:"text-xs text-slate-500",children:de.gender})]})]}),i.jsxs("div",{className:`inline-flex items-center gap-2 rounded-full border px-3 py-1 text-xs font-semibold ${m?"border-amber-200 bg-amber-50 text-amber-700":X?"border-emerald-200 bg-emerald-50 text-emerald-700":"border-rose-200 bg-rose-50 text-rose-700"}`,children:[m?i.jsx(Li,{className:"h-4 w-4"}):X?i.jsx(UA,{className:"h-4 w-4"}):i.jsx(Hh,{className:"h-4 w-4"}),m?S?"ADMIN HOLIDAY":"HOLIDAY":X?"PRESENT":"ABSENT"]})]},de.id)}),o.length===0&&i.jsx("div",{className:"p-8 text-center text-slate-500",children:t?"No students found in this class.":"Select a class to view students."})]})]})})},vo=n=>{const e=n.split("-");if(e.length===3){const s=new Date(parseInt(e[0]),parseInt(e[1])-1,parseInt(e[2]));if(!isNaN(s.getTime()))return s}const t=new Date(n);return isNaN(t.getTime())?(console.error("Invalid date string:",n),new Date):t},MY=()=>{var X;const{user:n}=nl(),e=(n==null?void 0:n.schoolId)||null,[t,s]=ee.useState({}),[a,o]=ee.useState(!0),[c,h]=ee.useState({}),[u,f]=ee.useState(null),[A,m]=ee.useState(null),[v,g]=ee.useState({}),[b,I]=ee.useState({}),[N,S]=ee.useState(""),E=q=>{const Z=q.getFullYear(),oe=String(q.getMonth()+1).padStart(2,"0"),ye=String(q.getDate()).padStart(2,"0");return`${Z}-${oe}-${ye}`},_=()=>{const q=new Date;return q.setHours(0,0,0,0),q},R=ee.useMemo(()=>_(),[]),L=ee.useMemo(()=>E(R),[R]),H=(q,Z,oe=!1)=>{const ye=[];let ne=new Date(q);for(ne.setHours(0,0,0,0);ye.length<Z;)ne.getDay()!==0&&ne.getDay()!==6&&ye.push(E(ne)),ne.setDate(ne.getDate()+(oe?-1:1));return ye},D=ee.useMemo(()=>{const q=u!=null&&u.schoolReopenDate?vo(u.schoolReopenDate):null,Z=u!=null&&u.vacationDate?vo(u.vacationDate):null,oe=new Date(R);return H(oe,20,!0).filter(ne=>{const M=vo(ne),W=u!=null&&u.nextTermBegins?vo(u.nextTermBegins):null;if(W&&M>=W)return!0;const ae=!q||M>=q,ue=!Z||M<=Z;return ae&&ue}).sort()},[R,u]),Q=q=>{const Z=new Date(q);for(Z.setDate(Z.getDate()-1);Z.getDay()===0||Z.getDay()===6;)Z.setDate(Z.getDate()-1);return E(Z)},O=ee.useMemo(()=>Q(R),[R]),$=(q,Z,oe,ye,ne)=>{const M=vo(q),W=Z?vo(Z):null,ae=oe?vo(oe):null,ue=ye?vo(ye):null,ce=(ne||[]).some(ge=>ge.date===q);return ue&&M>=ue?!0:!(ce||W&&M<W||ae&&M>ae)};ee.useEffect(()=>{(async()=>{if(!e){f(null);return}const Z=await ot.getSchoolConfig(e);f(Z)})()},[e]),ee.useEffect(()=>{if(!(n!=null&&n.id)||!e||D.length===0){o(!1);return}(async()=>{o(!0);const Z={};for(const oe of D)if($(oe,u==null?void 0:u.schoolReopenDate,u==null?void 0:u.vacationDate,u==null?void 0:u.nextTermBegins,u==null?void 0:u.holidayDates)){const ye=await ot.getTeacherAttendance(e,n.id,oe);ye&&(Z[oe]=ye)}s(Z),o(!1)})()},[n==null?void 0:n.id,D,u==null?void 0:u.schoolReopenDate,e]),ee.useEffect(()=>{if(!(n!=null&&n.id)||!e||!u)return;(async()=>{const Z=u.schoolReopenDate,oe=u.vacationDate;if(!$(O,Z,oe,u.nextTermBegins,u.holidayDates))return;await ot.getTeacherAttendance(e,n.id,O)||m(O)})()},[n==null?void 0:n.id,u,O,$]);const P=async(q,Z)=>{if(!(n!=null&&n.id)||!e)return;h(ye=>({...ye,[q]:!0}));const oe={id:`${e}_${n.id}_${q}`,date:q,teacherId:n.id,schoolId:e||(u==null?void 0:u.schoolId)||"",status:Z,isHoliday:!1,holidayReason:""};await ot.saveTeacherAttendance(oe),s(ye=>({...ye,[q]:oe})),m(null),await ot.addSystemNotification(`${(n==null?void 0:n.fullName)||"Teacher"} marked ${Z} for ${q}`,"attendance",e),h(ye=>({...ye,[q]:!1}))},V=async q=>{var Z;if(!(!(n!=null&&n.id)||!e)){h(oe=>({...oe,[q]:!0}));try{if((await ot.getAllTeacherAttendance(e,q)).some(M=>!M.isHoliday)){S("This date already has attendance records. Clear them before marking a holiday."),setTimeout(()=>S(""),4e3);return}const ne={id:`${e}_${n.id}_${q}`,date:q,teacherId:n.id,schoolId:e||(u==null?void 0:u.schoolId)||"",status:"absent",isHoliday:!0,holidayReason:((Z=v[q])==null?void 0:Z.trim())||""};await ot.saveTeacherAttendance(ne),s(M=>({...M,[q]:ne})),m(null),await ot.addSystemNotification(`${(n==null?void 0:n.fullName)||"Teacher"} marked ${q} as Holiday.`,"attendance",e),S("Holiday saved successfully!"),setTimeout(()=>S(""),3e3),I(M=>({...M,[q]:!1}))}finally{h(oe=>({...oe,[q]:!1}))}}},G=()=>u!=null&&u.schoolReopenDate?R>=vo(u.schoolReopenDate):!0,ie=q=>{const Z=vo(q),oe=u!=null&&u.schoolReopenDate?vo(u.schoolReopenDate):null,ye=u!=null&&u.vacationDate?vo(u.vacationDate):null,ne=u!=null&&u.nextTermBegins?vo(u.nextTermBegins):null;return ne&&Z>=ne?!0:!(oe&&Z<oe||ye&&Z>ye)},de=q=>vo(q).toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric",year:"numeric"});return i.jsx(lr,{title:"Daily Attendance",children:i.jsxs("div",{className:"max-w-5xl mx-auto space-y-6",children:[i.jsxs("div",{className:"relative overflow-hidden rounded-2xl border bg-gradient-to-br from-indigo-50 via-white to-emerald-50 p-6 shadow-sm",children:[i.jsx("div",{className:"absolute -top-16 -right-16 h-40 w-40 rounded-full bg-indigo-200/40 blur-3xl"}),i.jsx("div",{className:"absolute -bottom-20 -left-16 h-48 w-48 rounded-full bg-emerald-200/40 blur-3xl"}),i.jsxs("div",{className:"relative flex flex-col gap-2",children:[i.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Daily Attendance"}),i.jsx("p",{className:"text-sm text-slate-600",children:"Mark your attendance with confidence  fast, clear, and beautiful."}),((X=u==null?void 0:u.holidayDates)==null?void 0:X.some(q=>q.date===L))&&i.jsxs("div",{className:"mt-3 rounded-2xl border border-amber-200 bg-amber-50/70 px-4 py-2 text-xs font-semibold text-amber-900 shadow-sm",children:["Admin Holiday:"," ",(()=>{const q=u.holidayDates.find(Z=>Z.date===L);return(q==null?void 0:q.reason)||"No reason provided"})()]}),i.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-3 text-sm",children:[i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-white/80 px-3 py-1 font-medium text-slate-700 shadow-sm",children:[i.jsx(Zo,{className:"h-4 w-4 text-indigo-500"}),"Today: ",de(L)]}),i.jsxs("span",{className:`inline-flex items-center gap-2 rounded-full px-3 py-1 font-medium shadow-sm ${G()?"bg-emerald-50 text-emerald-700":"bg-rose-50 text-rose-700"}`,children:[i.jsx(Ld,{className:"h-4 w-4"}),G()?"School Open":"School Closed"]})]})]})]}),A&&i.jsxs("div",{className:"relative overflow-hidden rounded-2xl border border-amber-200 bg-amber-50/60 p-5 shadow-sm",children:[i.jsx("div",{className:"absolute -right-10 -top-10 h-24 w-24 rounded-full bg-amber-200/60 blur-2xl"}),i.jsxs("div",{className:"relative flex flex-col gap-3",children:[i.jsxs("div",{className:"flex items-center gap-2 text-amber-800",children:[i.jsx(Li,{className:"h-5 w-5"}),i.jsx("span",{className:"font-semibold",children:"Missed Attendance"})]}),i.jsxs("p",{className:"text-sm text-amber-900",children:["You missed attendance for",i.jsxs("span",{className:"font-semibold",children:[" ",de(A)]}),". Please update it now."]}),i.jsxs("div",{className:"flex flex-wrap gap-3",children:[i.jsxs("button",{onClick:()=>P(A,"present"),disabled:c[A],className:"inline-flex items-center gap-2 rounded-full bg-emerald-600 px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:scale-[1.02] hover:bg-emerald-700 disabled:opacity-50",children:[i.jsx(UA,{className:"h-4 w-4"}),"Mark Present"]}),i.jsxs("button",{onClick:()=>P(A,"absent"),disabled:c[A],className:"inline-flex items-center gap-2 rounded-full bg-rose-600 px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:scale-[1.02] hover:bg-rose-700 disabled:opacity-50",children:[i.jsx(Hh,{className:"h-4 w-4"}),"Mark Absent"]})]})]})]}),N&&i.jsx("div",{className:"rounded-2xl border border-emerald-100 bg-emerald-50/70 p-4 text-sm text-emerald-800 shadow-sm",children:N}),!G()&&i.jsx("div",{className:"rounded-2xl border border-rose-200 bg-rose-50/70 p-4 text-rose-800 shadow-sm",children:i.jsxs("div",{className:"flex items-center gap-2 font-semibold",children:[i.jsx(Ld,{className:"h-5 w-5"}),"School not yet open"]})}),(u==null?void 0:u.vacationDate)&&R<vo(u.vacationDate)&&i.jsx("div",{className:"rounded-2xl border border-amber-200 bg-amber-50/70 p-4 text-amber-900 shadow-sm",children:i.jsxs("div",{className:"flex items-center gap-2 font-semibold",children:[i.jsx(Zo,{className:"h-5 w-5 text-amber-600"}),"School will vacate on: ",u.vacationDate]})}),i.jsx("div",{className:"rounded-2xl border bg-white/80 p-2 shadow-sm",children:a?i.jsx("div",{className:"p-8 text-center text-sm text-slate-500",children:"Loading attendance..."}):i.jsx("div",{className:"grid gap-3 p-2",children:D.map(q=>{const Z=t[q],oe=q>L,ye=$(q,u==null?void 0:u.schoolReopenDate,u==null?void 0:u.vacationDate,u==null?void 0:u.nextTermBegins,u==null?void 0:u.holidayDates),ne=((u==null?void 0:u.holidayDates)||[]).find(ue=>ue.date===q),M=!!ne,W=!!(Z!=null&&Z.isHoliday),ae=(Z==null?void 0:Z.holidayReason)||(ne==null?void 0:ne.reason)||"";return i.jsxs("div",{className:"group flex flex-col gap-4 rounded-2xl border border-slate-200 bg-white p-4 shadow-sm transition duration-300 hover:-translate-y-0.5 hover:shadow-md",children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-slate-900",children:de(q)}),i.jsx("p",{className:"text-xs text-slate-500",children:q})]}),i.jsx("div",{className:"flex items-center gap-2",children:M||W?i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-amber-50 px-3 py-1 text-xs font-semibold text-amber-700",children:[i.jsx(Li,{className:"h-4 w-4"}),"Holiday"]}):Z?i.jsxs("span",{className:`inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold ${Z.status==="present"?"bg-emerald-50 text-emerald-700":"bg-rose-50 text-rose-700"}`,children:[Z.status==="present"?i.jsx(UA,{className:"h-4 w-4"}):i.jsx(Hh,{className:"h-4 w-4"}),Z.status.toUpperCase()]}):ye?oe?i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-500",children:[i.jsx(Ld,{className:"h-4 w-4"}),"Future"]}):i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-indigo-50 px-3 py-1 text-xs font-semibold text-indigo-700",children:[i.jsx(Zo,{className:"h-4 w-4"}),"Pending"]}):i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-amber-50 px-3 py-1 text-xs font-semibold text-amber-700",children:[i.jsx(Li,{className:"h-4 w-4"}),vo(q)<vo((u==null?void 0:u.schoolReopenDate)||"")?"Before Reopen":"After Vacation"]})})]}),(M||W)&&ae&&i.jsxs("div",{className:"text-xs font-medium text-amber-700",children:["Reason: ",ae]}),i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[i.jsx("div",{className:"text-xs text-slate-500",children:M||W?"Holiday / No School":ie(q)?"School in session":"Out of session"}),M||!ye||oe?null:i.jsxs("div",{className:"flex flex-1 flex-wrap items-center gap-2",children:[!Z&&i.jsxs(i.Fragment,{children:[i.jsxs("button",{onClick:()=>P(q,"present"),className:"inline-flex items-center gap-2 rounded-full border border-emerald-200 bg-emerald-50 px-4 py-2 text-xs font-semibold text-emerald-700 shadow-sm transition hover:scale-[1.02] hover:bg-emerald-100",children:[i.jsx(UA,{className:"h-4 w-4"}),"Present"]}),i.jsxs("button",{onClick:()=>P(q,"absent"),className:"inline-flex items-center gap-2 rounded-full border border-rose-200 bg-rose-50 px-4 py-2 text-xs font-semibold text-rose-700 shadow-sm transition hover:scale-[1.02] hover:bg-rose-100",children:[i.jsx(Hh,{className:"h-4 w-4"}),"Absent"]})]}),(!Z||Z.isHoliday)&&i.jsxs("button",{onClick:()=>I(ue=>({...ue,[q]:!ue[q]})),className:"inline-flex items-center gap-2 rounded-full border border-amber-200 bg-amber-50 px-4 py-2 text-xs font-semibold text-amber-700 shadow-sm transition hover:scale-[1.02] hover:bg-amber-100",children:[i.jsx(Li,{className:"h-4 w-4"}),Z!=null&&Z.isHoliday?"Update Holiday":"Mark Holiday"]})]})]}),(b[q]||W)&&(!Z||Z.isHoliday)&&!oe&&ye&&!M&&i.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center",children:[i.jsx("input",{type:"text",value:v[q]??(Z==null?void 0:Z.holidayReason)??"",onChange:ue=>g(ce=>({...ce,[q]:ue.target.value})),placeholder:"Reason (optional) e.g. Independence Day",className:"w-full rounded-xl border border-amber-200 bg-white px-3 py-2 text-xs text-slate-900 shadow-sm focus:border-amber-400 focus:ring-2 focus:ring-amber-200"}),i.jsx("button",{onClick:()=>V(q),disabled:c[q],className:"inline-flex items-center justify-center gap-2 rounded-full bg-amber-600 px-4 py-2 text-xs font-semibold text-white shadow-sm transition hover:scale-[1.02] hover:bg-amber-700 disabled:opacity-50",children:"Save Holiday"})]})]},q)})})})]})})},HY=()=>{const{user:n}=nl(),e=(n==null?void 0:n.assignedClassIds)||[],t=(n==null?void 0:n.schoolId)||null,[s,a]=ee.useState(""),[o,c]=ee.useState([]),[h,u]=ee.useState([]),[f,A]=ee.useState(""),[m,v]=ee.useState({}),[g,b]=ee.useState(!1),[I,N]=ee.useState(!1),[S,E]=ee.useState({currentTerm:`Term ${Xi}`,academicYear:wo}),_={testScore:15,homeworkScore:15,projectScore:20,examScore:100};ee.useEffect(()=>{e.length>0&&!s&&a(e[0])},[e]),ee.useEffect(()=>{(async()=>{try{if(!t)return;const D=await ot.getSchoolConfig(t);if(E({currentTerm:D.currentTerm||`Term ${Xi}`,academicYear:D.academicYear||wo}),D.termTransitionProcessed){console.log("Term transition detected, reloading for fresh data..."),await ot.updateSchoolConfig({...D,termTransitionProcessed:!1}),window.location.reload();return}const Q=new Date;Q.setHours(0,0,0,0);const O=D.nextTermBegins?new Date(D.nextTermBegins+"T00:00:00"):null;if(O&&Q>=O){console.log("New term begins, initiating reset..."),await ot.resetForNewTerm(D),await ot.updateSchoolConfig({...D,termTransitionProcessed:!0}),Pt("New term started! Assessments have been reset.",{type:"success"}),window.location.reload();return}}catch(D){console.error("Failed to load school config",D)}})()},[t]),ee.useEffect(()=>{(async()=>{if(!s||!t){u([]),A("");return}const D=await ot.getSubjects(t,s);u(D),D.length>0?A(D[0]):A("")})()},[s,t]),ee.useEffect(()=>{if(!s||!t)return;(async()=>{const D=await ot.getStudents(t,s);c(D)})()},[s,t]),ee.useEffect(()=>{if(!s||!f||!t){v({});return}(async()=>{b(!0);const D=await ot.getAssessments(t,s,f);let Q=Xi;if(S.currentTerm){const $=S.currentTerm.match(/\d+/);$&&(Q=parseInt($[0],10))}const O={};o.forEach($=>{const P=D.find(V=>V.studentId===$.id&&V.term===Q);O[$.id]=P||{id:`${$.id}_${f}_${Q}_${S.academicYear}`,schoolId:t||"",studentId:$.id,classId:s,term:Q,academicYear:S.academicYear,subject:f,testScore:0,homeworkScore:0,projectScore:0,examScore:0,total:0}}),v(O),b(!1)})()},[s,f,o,S.currentTerm,S.academicYear,t]);const R=(H,D,Q)=>{let O=Q===""?0:parseFloat(Q);const $=_[D];O>$&&(O=$),O<0&&(O=0),v(P=>{const V=P[H]||{};return{...P,[H]:{...V,[D]:O}}})},L=async()=>{var H;if(!(!s||!t)){N(!0);try{let D=Xi;if(S.currentTerm){const $=S.currentTerm.match(/\d+/);$&&(D=parseInt($[0],10))}const Q=Object.values(m).map(async $=>{if(!$.studentId)return;const P=rc($),V={...$,id:$.id||Math.random().toString(36),schoolId:t,total:P,studentId:$.studentId,classId:s,subject:f,term:D,academicYear:S.academicYear,testScore:$.testScore||0,homeworkScore:$.homeworkScore||0,projectScore:$.projectScore||0,examScore:$.examScore||0};return ot.saveAssessment(V)});await Promise.all(Q);const O=((H=Nn.find($=>$.id===s))==null?void 0:H.name)||s;await ot.addSystemNotification(`${(n==null?void 0:n.fullName)||"Teacher"} updated assessments for ${O} in ${f}.`,"assessment",t),Pt("Saved Successfully",{type:"success"})}catch(D){console.error(D),Pt("Error saving data",{type:"error"})}finally{N(!1)}}};return e.length===0?i.jsx(lr,{title:"Assessment",children:i.jsx("div",{className:"p-8 text-center text-slate-500",children:"No class assigned."})}):i.jsx(lr,{title:"Assessment Sheet",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 overflow-hidden",children:[i.jsxs("div",{className:"p-6 border-b border-slate-100 bg-slate-50 flex flex-col gap-4",children:[i.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-1",children:"Class"}),i.jsx("select",{value:s,onChange:H=>a(H.target.value),className:"p-2 border border-slate-300 rounded-md shadow-sm w-full md:w-64 bg-white text-black",children:e.map(H=>{const D=Nn.find(Q=>Q.id===H);return i.jsx("option",{value:H,children:D==null?void 0:D.name},H)})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-1",children:"Subject"}),i.jsxs("select",{value:f,onChange:H=>A(H.target.value),className:"p-2 border border-slate-300 rounded-md shadow-sm w-full md:w-64",disabled:h.length===0,children:[h.length===0&&i.jsx("option",{children:"Loading subjects..."}),h.map(H=>i.jsx("option",{value:H,children:H},H))]})]})]}),i.jsxs("div",{className:"flex items-center justify-between border-t border-slate-200 pt-4",children:[i.jsx("div",{className:"hidden sm:block",children:i.jsxs("p",{className:"text-sm font-medium text-slate-900",children:[S.currentTerm,"  ",S.academicYear]})}),i.jsxs("button",{onClick:L,disabled:I||!f||!s,className:"flex items-center bg-emerald-600 text-white px-6 py-2 rounded-lg hover:bg-emerald-700 transition-colors shadow-sm disabled:opacity-50 disabled:cursor-not-allowed ml-auto",children:[i.jsx(iA,{size:18,className:"mr-2"}),I?"Saving...":"Save Scores"]})]})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-left text-sm",children:[i.jsx("thead",{className:"bg-slate-100 text-slate-600 font-semibold uppercase text-xs tracking-wider",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3 sticky left-0 bg-slate-100 z-10 w-48",children:"Student Name"}),i.jsxs("th",{className:"px-2 py-3 w-24 text-center",children:["Class Test",i.jsx("br",{}),i.jsx("span",{className:"text-[10px] normal-case font-bold text-emerald-600",children:"(15)"})]}),i.jsxs("th",{className:"px-2 py-3 w-24 text-center",children:["Homework",i.jsx("br",{}),i.jsx("span",{className:"text-[10px] normal-case font-bold text-emerald-600",children:"(15)"})]}),i.jsxs("th",{className:"px-2 py-3 w-24 text-center",children:["Project",i.jsx("br",{}),i.jsx("span",{className:"text-[10px] normal-case font-bold text-emerald-600",children:"(20)"})]}),i.jsxs("th",{className:"px-2 py-3 w-28 text-center border-l border-slate-200 bg-red-50/50",children:["Exam",i.jsx("br",{}),i.jsx("span",{className:"text-[10px] normal-case font-bold text-red-600",children:"(100)"})]}),i.jsxs("th",{className:"px-4 py-3 w-24 text-center bg-slate-200",children:["Total",i.jsx("br",{}),i.jsx("span",{className:"text-[10px] normal-case",children:"(100%)"})]}),i.jsx("th",{className:"px-4 py-3 w-20 text-center bg-slate-200",children:"Grade"})]})}),i.jsxs("tbody",{className:"divide-y divide-slate-100",children:[o.map(H=>{const D=m[H.id]||{},Q=rc(D),{grade:O,remark:$}=dm(Q),P=Dg(O);return i.jsxs("tr",{className:"hover:bg-slate-50",children:[i.jsx("td",{className:"px-4 py-3 font-medium text-slate-800 sticky left-0 bg-white border-r border-slate-100",children:H.name}),i.jsx("td",{className:"px-2 py-2",children:i.jsx("input",{type:"number",min:"0",max:_.testScore,className:"w-full text-center border border-slate-200 rounded p-1 focus:ring-2 focus:ring-emerald-500 outline-none",value:D.testScore||0,onChange:V=>R(H.id,"testScore",V.target.value),onFocus:V=>V.target.select()})}),i.jsx("td",{className:"px-2 py-2",children:i.jsx("input",{type:"number",min:"0",max:_.homeworkScore,className:"w-full text-center border border-slate-200 rounded p-1 focus:ring-2 focus:ring-emerald-500 outline-none",value:D.homeworkScore||0,onChange:V=>R(H.id,"homeworkScore",V.target.value),onFocus:V=>V.target.select()})}),i.jsx("td",{className:"px-2 py-2",children:i.jsx("input",{type:"number",min:"0",max:_.projectScore,className:"w-full text-center border border-slate-200 rounded p-1 focus:ring-2 focus:ring-emerald-500 outline-none",value:D.projectScore||0,onChange:V=>R(H.id,"projectScore",V.target.value),onFocus:V=>V.target.select()})}),i.jsx("td",{className:"px-2 py-2 border-l border-slate-200 bg-red-50/20",children:i.jsx("input",{type:"number",min:"0",max:_.examScore,className:"w-full text-center border border-red-500 rounded p-1 focus:ring-2 focus:ring-red-300 outline-none font-bold text-slate-800 bg-white shadow-sm",value:D.examScore||0,onChange:V=>R(H.id,"examScore",V.target.value),onFocus:V=>V.target.select()})}),i.jsx("td",{className:"px-4 py-3 text-center font-bold text-slate-800 bg-slate-50",children:Q}),i.jsx("td",{className:"px-4 py-3 text-center bg-slate-50",children:i.jsx("span",{className:`inline-block w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold ${P}`,children:O})})]},H.id)}),o.length===0&&i.jsx("tr",{children:i.jsx("td",{colSpan:7,className:"p-8 text-center text-slate-400",children:s?"No students found in this class.":"Select a class above."})})]})]})})]})})},VY=()=>{const{user:n}=nl(),e=(n==null?void 0:n.assignedClassIds)||[],t=(n==null?void 0:n.schoolId)||null,[s,a]=ee.useState(""),[o,c]=ee.useState([]),[h,u]=ee.useState({}),[f,A]=ee.useState(!1),[m,v]=ee.useState(!1),[g,b]=ee.useState("");ee.useEffect(()=>{e.length>0&&!s&&a(e[0])},[e]),ee.useEffect(()=>{if(!s||!t)return;(async()=>{A(!0);try{const E=await ot.getStudents(t,s);c(E);const _=await ot.getStudentRemarks(t,s),R={};let L=Xi;const H=await ot.getSchoolConfig(t);if(H.currentTerm){const D=H.currentTerm.match(/\d+/);D&&(L=parseInt(D[0],10))}E.forEach(D=>{const Q=_.find(O=>O.studentId===D.id&&O.term===L);R[D.id]=(Q==null?void 0:Q.remark)||""}),u(R)}catch(E){console.error(E)}finally{A(!1)}})()},[s,t]);const I=(S,E)=>{u(_=>({..._,[S]:E}))},N=async()=>{var S;if(!(!s||!t)){v(!0);try{const E=await ot.getSchoolConfig(t);let _=Xi;if(E.currentTerm){const H=E.currentTerm.match(/\d+/);H&&(_=parseInt(H[0],10))}const R=Object.entries(h).map(async([H,D])=>{const Q=D;if(!Q.trim())return;const O={id:`${H}_${s}_${_}_${wo}`,studentId:H,classId:s,term:_,academicYear:wo,schoolId:t,remark:Q,behaviorTag:"Good",teacherId:(n==null?void 0:n.id)||"",dateCreated:new Date().toISOString().split("T")[0]};await ot.saveStudentRemark(O)});await Promise.all(R);const L=((S=Nn.find(H=>H.id===s))==null?void 0:S.name)||s;await ot.addSystemNotification(`${n==null?void 0:n.fullName} updated remarks for ${L}.`,"assessment",t),b("Remarks saved successfully!"),setTimeout(()=>b(""),3e3)}catch(E){console.error(E),b("Error saving remarks"),setTimeout(()=>b(""),3e3)}finally{v(!1)}}};return e.length===0?i.jsx(lr,{title:"Write Remarks",children:i.jsx("div",{className:"p-8 text-center text-slate-500",children:"You are not assigned to any class. Contact Admin."})}):i.jsx(lr,{title:"Write Remarks",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 p-6 max-w-4xl mx-auto",children:[i.jsxs("div",{className:"flex flex-col gap-6 mb-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between",children:[i.jsxs("div",{className:"w-full sm:w-auto",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Select Class"}),i.jsx("select",{value:s,onChange:S=>a(S.target.value),className:"w-full sm:w-64 px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none bg-white text-black",children:e.map(S=>{const E=Nn.find(_=>_.id===S);return i.jsx("option",{value:S,children:E==null?void 0:E.name},S)})})]}),i.jsx("div",{className:"flex items-end",children:i.jsxs("button",{onClick:N,disabled:m||!s,className:"flex items-center bg-emerald-600 text-white px-6 py-2.5 rounded-lg hover:bg-emerald-700 transition-colors disabled:opacity-50 font-medium shadow-sm",children:[i.jsx(iA,{size:18,className:"mr-2"}),m?"Saving...":"Save Remarks"]})})]}),g&&i.jsx("div",{className:`p-3 rounded text-center text-sm ${g.includes("Error")?"bg-red-50 text-red-700":"bg-green-50 text-green-700"}`,children:g})]}),i.jsxs("div",{className:"border border-slate-200 rounded-lg overflow-hidden",children:[f?i.jsx("div",{className:"p-8 text-center text-slate-500",children:"Loading..."}):o.map(S=>{var E;return i.jsxs("div",{className:"p-4 border-b last:border-b-0",children:[i.jsxs("div",{className:"flex items-center mb-2",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 flex items-center justify-center text-sm font-bold text-slate-600 mr-3",children:S.name.charAt(0)}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-slate-800",children:S.name}),i.jsx("p",{className:"text-xs text-slate-400",children:(E=Nn.find(_=>_.id===S.classId))==null?void 0:E.name})]})]}),i.jsx("textarea",{value:h[S.id]||"",onChange:_=>I(S.id,_.target.value),placeholder:"Write remarks for this student...",className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none resize-none",rows:3})]},S.id)}),o.length===0&&i.jsx("div",{className:"p-8 text-center text-slate-500",children:s?"No students found in this class.":"Select a class to view students."})]})]})})},KY=["Excellent","Very Good","Good","Fair","Poor"],zY=()=>{const{user:n}=nl(),e=(n==null?void 0:n.assignedClassIds)||[],t=(n==null?void 0:n.schoolId)||null,[s,a]=ee.useState(""),[o,c]=ee.useState([]),[h,u]=ee.useState({}),[f,A]=ee.useState(!1),[m,v]=ee.useState(!1),[g,b]=ee.useState("");ee.useEffect(()=>{e.length>0&&!s&&a(e[0])},[e]),ee.useEffect(()=>{if(!s||!t)return;(async()=>{A(!0);try{const _=await ot.getStudents(t,s);c(_);const R=await ot.getStudentSkills(t,s),L={};let H=Xi;const D=await ot.getSchoolConfig(t);if(D.currentTerm){const Q=D.currentTerm.match(/\d+/);Q&&(H=parseInt(Q[0],10))}_.forEach(Q=>{const O=R.find($=>$.studentId===Q.id&&$.term===H);O?L[Q.id]=O:L[Q.id]={id:`${Q.id}_${s}_${H}_${wo}`,studentId:Q.id,classId:s,term:H,academicYear:wo,schoolId:t||(D==null?void 0:D.schoolId)||"",punctuality:"Good",neatness:"Good",conduct:"Good",attitudeToWork:"Good",classParticipation:"Good",homeworkCompletion:"Good"}}),u(L)}catch(_){console.error(_)}finally{A(!1)}})()},[s,t]);const I=(E,_,R)=>{u(L=>({...L,[E]:{...L[E],[_]:R}}))},N=async()=>{var E;if(!(!s||!t)){v(!0);try{const _=await ot.getSchoolConfig(t);let R=Xi;if(_.currentTerm){const D=_.currentTerm.match(/\d+/);D&&(R=parseInt(D[0],10))}const L=Object.values(h).map(async D=>{await ot.saveStudentSkills(D)});await Promise.all(L);const H=((E=Nn.find(D=>D.id===s))==null?void 0:E.name)||s;await ot.addSystemNotification(`${(n==null?void 0:n.fullName)||"Teacher"} updated skills for ${H}.`,"assessment",t),b("Skills saved successfully!"),setTimeout(()=>b(""),3e3)}catch(_){console.error(_),b("Error saving skills"),setTimeout(()=>b(""),3e3)}finally{v(!1)}}};if(e.length===0)return i.jsx(lr,{title:"Edit Skills",children:i.jsx("div",{className:"p-8 text-center text-slate-500",children:"You are not assigned to any class. Contact Admin."})});const S=[{key:"punctuality",label:"Punctuality"},{key:"neatness",label:"Neatness"},{key:"conduct",label:"Conduct"},{key:"attitudeToWork",label:"Attitude to Work"},{key:"classParticipation",label:"Class Participation"},{key:"homeworkCompletion",label:"Homework Completion"}];return i.jsx(lr,{title:"Edit Skills",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 p-6 max-w-6xl mx-auto",children:[i.jsxs("div",{className:"flex flex-col gap-6 mb-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between",children:[i.jsxs("div",{className:"w-full sm:w-auto",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Select Class"}),i.jsx("select",{value:s,onChange:E=>a(E.target.value),className:"w-full sm:w-64 px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none bg-white text-black",children:e.map(E=>{const _=Nn.find(R=>R.id===E);return i.jsx("option",{value:E,children:_==null?void 0:_.name},E)})})]}),i.jsx("div",{className:"flex items-end",children:i.jsxs("button",{onClick:N,disabled:m||!s,className:"flex items-center bg-emerald-600 text-white px-6 py-2.5 rounded-lg hover:bg-emerald-700 transition-colors disabled:opacity-50 font-medium shadow-sm",children:[i.jsx(iA,{size:18,className:"mr-2"}),m?"Saving...":"Save Skills"]})})]}),g&&i.jsx("div",{className:`p-3 rounded text-center text-sm ${g.includes("Error")?"bg-red-50 text-red-700":"bg-green-50 text-green-700"}`,children:g})]}),i.jsxs("div",{className:"overflow-x-auto border border-slate-200 rounded-lg",children:[f?i.jsx("div",{className:"p-8 text-center text-slate-500",children:"Loading..."}):i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{className:"bg-slate-100 text-slate-600 font-semibold",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3 text-left w-48",children:"Student Name"}),S.map(E=>i.jsx("th",{className:"px-2 py-3 text-center",children:E.label},E.key))]})}),i.jsx("tbody",{className:"divide-y divide-slate-100",children:o.map(E=>i.jsxs("tr",{className:"hover:bg-slate-50",children:[i.jsx("td",{className:"px-4 py-3 font-medium text-slate-800",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 flex items-center justify-center text-sm font-bold text-slate-600 mr-3",children:E.name.charAt(0)}),E.name]})}),S.map(_=>{var R;return i.jsx("td",{className:"px-2 py-3",children:i.jsx("select",{value:((R=h[E.id])==null?void 0:R[_.key])||"Good",onChange:L=>I(E.id,_.key,L.target.value),className:"w-full px-2 py-1.5 border border-slate-300 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none bg-white text-center",children:KY.map(L=>i.jsx("option",{value:L,children:L},L))})},_.key)})]},E.id))})]}),o.length===0&&i.jsx("div",{className:"p-8 text-center text-slate-500",children:s?"No students found in this class.":"Select a class to view students."})]})]})})},GY=()=>{const{user:n}=nl(),[e,t]=ee.useState([]),[s,a]=ee.useState(!0),[o,c]=ee.useState(!1),[h,u]=ee.useState({name:"",phone:"",address:"",logoUrl:"",plan:"trial"}),[f,A]=ee.useState(!1),[m,v]=ee.useState(null),[g,b]=ee.useState(!1),[I,N]=ee.useState(!1),[S,E]=ee.useState(""),[_,R]=ee.useState(1),[L,H]=ee.useState({x:0,y:0}),[D,Q]=ee.useState({width:0,height:0}),O=ee.useRef(null),$=180,P=512,V=$/2,G=oe=>{if(!oe)return"N/A";const ye=oe,ne=ye instanceof Date?ye:typeof(ye==null?void 0:ye.toDate)=="function"?ye.toDate():typeof ye=="string"||typeof ye=="number"?new Date(ye):null;return!ne||Number.isNaN(ne.getTime())?"N/A":ne.toLocaleDateString()};ee.useEffect(()=>{const oe=Pn(Ct,"schools");return $f(oe,ne=>{const M=ne.docs.map(W=>({id:W.id,...W.data()}));t(M),a(!1)})},[]);const ie=async oe=>{if(oe.preventDefault(),!h.name.trim())return;const ye=()=>{if(!S||!O.current)return"";const ne=O.current,M=D.width||ne.naturalWidth||1,W=D.height||ne.naturalHeight||1,ue=Math.max($/M,$/W)*_*(P/$),ce=L.x*(P/$),ge=L.y*(P/$),Se=document.createElement("canvas");Se.width=P,Se.height=P;const xe=Se.getContext("2d");if(!xe)return"";const Ie=M*ue,Ue=W*ue,Pe=P/2-Ie/2+ce,rt=P/2-Ue/2+ge;return xe.drawImage(ne,Pe,rt,Ie,Ue),Se.toDataURL("image/png")};b(!0);try{const ne=ye();await f7({name:h.name.trim(),phone:h.phone.trim(),address:h.address.trim(),logoUrl:ne||"",plan:h.plan}),u({name:"",phone:"",address:"",logoUrl:"",plan:"trial"}),E(""),R(1),H({x:0,y:0}),Q({width:0,height:0}),c(!1),Pt("School created successfully!",{type:"success"})}catch(ne){console.error("Error creating school:",ne),Pt(ne.message||"Failed to create school",{type:"error"})}finally{b(!1)}},de=oe=>{var M;const ye=(M=oe.target.files)==null?void 0:M[0];if(!ye){E(""),Q({width:0,height:0});return}const ne=new FileReader;ne.onload=()=>{E(ne.result),R(1),H({x:0,y:0})},ne.readAsDataURL(ye)},X=async(oe,ye)=>{try{const ne=ye==="active"?"inactive":"active";await Op(On(Ct,"schools",oe),{status:ne}),Pt(`School ${ne==="active"?"activated":"deactivated"}`,{type:"success"})}catch(ne){console.error("Error updating school status:",ne),Pt("Failed to update school status",{type:"error"})}},q=async()=>{if(m)try{N(!0);const oe=m.id,ye=400,ne=await Xn($n(Pn(Ct,"users"),nn("schoolId","==",oe)));let M=0;const W=[];for(let ce=0;ce<ne.docs.length;ce+=ye){const ge=O5(Ct),Se=ne.docs.slice(ce,ce+ye);for(const xe of Se)ge.delete(On(Ct,"users",xe.id));W.push(ge.commit()),M+=Se.length}W.length>0&&(await Promise.all(W),console.log(`Deleted ${M} user documents`));const ae=["students","classes","attendance","assessments","teacher_attendance","notices","student_remarks","student_skills","admin_remarks","admin_notifications","timetables","class_subjects","settings"];let ue=0;for(const ce of ae)if(ce==="settings")try{await Fi(On(Ct,"settings",oe)),ue+=1}catch{console.log(`Settings document ${oe} not found or already deleted`)}else{const ge=$n(Pn(Ct,ce),nn("schoolId","==",oe)),xe=(await Xn(ge)).docs.map(Ie=>Ie.id);if(xe.length>0)for(let Ie=0;Ie<xe.length;Ie+=ye){const Ue=O5(Ct),Pe=xe.slice(Ie,Ie+ye);for(const rt of Pe)Ue.delete(On(Ct,ce,rt));await Ue.commit(),ue+=Pe.length}}await Fi(On(Ct,"schools",oe)),Pt(`School deleted successfully! Removed ${M} users and ${ue} data records.`,{type:"success"}),A(!1),v(null)}catch(oe){console.error("Error deleting school:",oe),Pt(oe.message||"Failed to delete school",{type:"error"})}finally{N(!1)}},Z=oe=>{v(oe),A(!0)};return s?i.jsx(lr,{title:"Schools",children:i.jsx("div",{className:"flex items-center justify-center h-96",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0B4A82]"})})}):i.jsxs(lr,{title:"Schools",children:[i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-8",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Schools Management"}),i.jsx("p",{className:"text-slate-500 mt-1",children:"Manage all schools in the system"})]}),i.jsxs("button",{onClick:()=>c(!0),className:"flex items-center px-4 py-2 bg-[#0B4A82] text-white rounded-lg hover:bg-[#0B4A82] transition-colors",children:[i.jsx(Kh,{size:18,className:"mr-2"}),"Create School"]})]}),i.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-left text-sm text-slate-600",children:[i.jsx("thead",{className:"bg-slate-50 text-slate-700 font-semibold",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4",children:"Name"}),i.jsx("th",{className:"px-6 py-4",children:"Code"}),i.jsx("th",{className:"px-6 py-4",children:"Status"}),i.jsx("th",{className:"px-6 py-4",children:"Plan"}),i.jsx("th",{className:"px-6 py-4",children:"Created"}),i.jsx("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-100",children:e.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-slate-400",children:"No schools created yet."})}):e.map(oe=>i.jsxs("tr",{className:"hover:bg-slate-50",children:[i.jsxs("td",{className:"px-6 py-4 font-medium text-slate-800 flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-slate-100 rounded-full flex items-center justify-center overflow-hidden",children:oe.logoUrl?i.jsx("img",{src:oe.logoUrl,alt:oe.name,className:"w-full h-full object-cover"}):i.jsx(kp,{size:16,className:"text-slate-600"})}),oe.name]}),i.jsx("td",{className:"px-6 py-4 font-mono text-sm",children:oe.code}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${oe.status==="active"?"bg-emerald-100 text-emerald-700":"bg-red-100 text-red-700"}`,children:oe.status==="active"?"Active":"Inactive"})}),i.jsx("td",{className:"px-6 py-4 capitalize",children:oe.plan}),i.jsx("td",{className:"px-6 py-4",children:G(oe.createdAt)}),i.jsx("td",{className:"px-6 py-4 text-right",children:i.jsxs("div",{className:"flex items-center justify-end gap-2",children:[i.jsx("button",{onClick:()=>X(oe.id,oe.status),className:`p-1 rounded transition-colors ${oe.status==="active"?"text-[#1160A8] hover:bg-[#E6F0FA]":"text-emerald-600 hover:bg-emerald-50"}`,title:oe.status==="active"?"Deactivate":"Activate",children:oe.status==="active"?i.jsx(QM,{size:18}):i.jsx(DM,{size:18})}),i.jsx(fi,{to:`/super-admin/schools/${oe.id}`,className:"p-1 text-slate-600 hover:bg-slate-50 rounded transition-colors",title:"View Details",children:i.jsx(qd,{size:18})}),i.jsx("button",{onClick:()=>Z(oe),className:"p-1 text-red-600 hover:bg-red-50 rounded transition-colors",title:"Delete School",children:i.jsx(RA,{size:18})})]})})]},oe.id))})]})})})]}),o&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6 shadow-xl relative overflow-hidden",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Create New School"}),i.jsx("button",{onClick:()=>c(!1),className:"text-slate-400 hover:text-slate-700",children:i.jsx(jo,{size:20})})]}),i.jsxs("form",{onSubmit:ie,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"School Name"}),i.jsx("input",{type:"text",required:!0,disabled:g,className:"w-full border border-slate-300 p-3 rounded-lg focus:ring-2 focus:ring-[#1160A8] focus:border-transparent outline-none disabled:bg-slate-100 disabled:cursor-not-allowed",value:h.name,onChange:oe=>u({...h,name:oe.target.value}),placeholder:"Enter school name"})]}),i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Phone"}),i.jsx("input",{type:"tel",disabled:g,className:"w-full border border-slate-300 p-3 rounded-lg focus:ring-2 focus:ring-[#1160A8] focus:border-transparent outline-none disabled:bg-slate-100 disabled:cursor-not-allowed",value:h.phone,onChange:oe=>u({...h,phone:oe.target.value}),placeholder:"School phone number"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Address"}),i.jsx("input",{type:"text",disabled:g,className:"w-full border border-slate-300 p-3 rounded-lg focus:ring-2 focus:ring-[#1160A8] focus:border-transparent outline-none disabled:bg-slate-100 disabled:cursor-not-allowed",value:h.address,onChange:oe=>u({...h,address:oe.target.value}),placeholder:"School address"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Logo Upload (Optional)"}),i.jsx("input",{type:"file",accept:"image/*",disabled:g,className:"w-full border border-slate-300 p-3 rounded-lg bg-white focus:ring-2 focus:ring-[#1160A8] focus:border-transparent outline-none disabled:bg-slate-100 disabled:cursor-not-allowed",onChange:de}),S&&i.jsxs("div",{className:"mt-4 space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[i.jsx("span",{children:"Crop to square"}),i.jsxs("span",{children:[Math.round(_*100),"%"]})]}),i.jsx("div",{className:"rounded-xl border border-slate-200 bg-slate-50 flex items-center justify-center overflow-hidden",style:{width:$,height:$},children:i.jsx("img",{ref:O,src:S,alt:"Logo preview",onLoad:oe=>{const ye=oe.currentTarget;Q({width:ye.naturalWidth,height:ye.naturalHeight})},style:{width:D.width?`${Math.max($,$/D.height*D.width)*_}px`:"auto",height:D.height?`${Math.max($,$/D.width*D.height)*_}px`:"auto",transform:`translate(${L.x}px, ${L.y}px)`}})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-xs font-semibold text-slate-600",children:"Zoom"}),i.jsx("input",{type:"range",min:1,max:3,step:.05,value:_,onChange:oe=>R(parseFloat(oe.target.value)),className:"w-full"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-semibold text-slate-600",children:"Move X"}),i.jsx("input",{type:"range",min:-V,max:V,value:L.x,onChange:oe=>H(ye=>({...ye,x:parseFloat(oe.target.value)})),className:"w-full"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-semibold text-slate-600",children:"Move Y"}),i.jsx("input",{type:"range",min:-V,max:V,value:L.y,onChange:oe=>H(ye=>({...ye,y:parseFloat(oe.target.value)})),className:"w-full"})]})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Plan"}),i.jsxs("select",{disabled:g,className:"w-full border border-slate-300 p-3 rounded-lg focus:ring-2 focus:ring-[#1160A8] focus:border-transparent outline-none bg-white disabled:bg-slate-100 disabled:cursor-not-allowed",value:h.plan,onChange:oe=>u({...h,plan:oe.target.value}),children:[i.jsx("option",{value:"trial",children:"Trial"}),i.jsx("option",{value:"monthly",children:"Monthly"}),i.jsx("option",{value:"termly",children:"Termly"}),i.jsx("option",{value:"yearly",children:"Yearly"})]})]}),i.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-4 border-t border-slate-100",children:[i.jsx("button",{type:"button",disabled:g,onClick:()=>c(!1),className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:g,className:"flex items-center px-4 py-2 bg-[#0B4A82] text-white rounded-lg hover:bg-[#0B4A82] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:g?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating..."]}):i.jsxs(i.Fragment,{children:[i.jsx(iA,{size:18,className:"mr-2"}),"Create School"]})})]})]}),g&&i.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-95 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"relative mb-4",children:[i.jsx("div",{className:"w-16 h-16 mx-auto",children:i.jsx(kp,{size:64,className:"text-[#0B4A82] animate-pulse"})}),i.jsx("div",{className:"absolute top-2 left-2 w-2 h-2 bg-[#1160A8] rounded-full animate-bounce"}),i.jsx("div",{className:"absolute top-4 right-3 w-1.5 h-1.5 bg-[#E6F0FA] rounded-full animate-ping"}),i.jsx("div",{className:"absolute bottom-2 left-4 w-1 h-1 bg-[#0B4A82] rounded-full animate-pulse"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-800 animate-pulse",children:"Creating Your School"}),i.jsx("p",{className:"text-sm text-slate-600 animate-pulse delay-100",children:"Setting up everything perfectly..."})]}),i.jsxs("div",{className:"flex justify-center space-x-1 mt-4",children:[i.jsx("div",{className:"w-2 h-2 bg-[#1160A8] rounded-full animate-bounce"}),i.jsx("div",{className:"w-2 h-2 bg-[#1160A8] rounded-full animate-bounce delay-75"}),i.jsx("div",{className:"w-2 h-2 bg-[#1160A8] rounded-full animate-bounce delay-150"})]})]})})]})}),f&&m&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6 shadow-xl relative overflow-hidden",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Delete School"}),i.jsx("button",{onClick:()=>A(!1),disabled:I,className:"text-slate-400 hover:text-slate-700 disabled:opacity-50 disabled:cursor-not-allowed",children:i.jsx(jo,{size:20})})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("svg",{className:"w-5 h-5 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-red-800",children:"Are you sure you want to delete this school?"}),i.jsx("p",{className:"text-sm text-red-700 mt-1",children:"This action cannot be undone. All associated data including students, teachers, admin accounts, and all school records will be permanently removed from the system."})]})]})}),i.jsx("div",{className:"bg-slate-50 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-slate-200 rounded-full flex items-center justify-center",children:i.jsx(kp,{size:20,className:"text-slate-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-slate-900",children:m.name}),i.jsxs("p",{className:"text-sm text-slate-500",children:["Code: ",m.code]})]})]})})]}),i.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-4 border-t border-slate-100",children:[i.jsx("button",{onClick:()=>A(!1),disabled:I,className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),i.jsx("button",{onClick:q,disabled:I,className:"flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:I?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Deleting..."]}):"Delete School"})]}),I&&i.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-95 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"relative mb-4",children:[i.jsx("div",{className:"w-16 h-16 mx-auto",children:i.jsx(RA,{size:64,className:"text-red-600 animate-pulse"})}),i.jsx("div",{className:"absolute top-2 left-2 w-2 h-2 bg-red-400 rounded-full animate-bounce"}),i.jsx("div",{className:"absolute top-4 right-3 w-1.5 h-1.5 bg-red-300 rounded-full animate-ping"}),i.jsx("div",{className:"absolute bottom-2 left-4 w-1 h-1 bg-red-500 rounded-full animate-pulse"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-800 animate-pulse",children:"Deleting School"}),i.jsx("p",{className:"text-sm text-slate-600 animate-pulse delay-100",children:"Removing associated data safely..."})]}),i.jsxs("div",{className:"flex justify-center space-x-1 mt-4",children:[i.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-bounce"}),i.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-bounce delay-75"}),i.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-bounce delay-150"})]})]})})]})})]})},$Y=()=>{const{schoolId:n}=sF(),e=xg(),[t,s]=ee.useState(null),[a,o]=ee.useState(null),[c,h]=ee.useState(!0),[u,f]=ee.useState(!1),[A,m]=ee.useState(!1),[v,g]=ee.useState(!1),[b,I]=ee.useState({fullName:"",email:"",password:""}),[N,S]=ee.useState(!1),[E,_]=ee.useState(null),[R,L]=ee.useState({students:"0",teachers:"0",lastActivity:"Coming soon"}),[H,D]=ee.useState(!1),[Q,O]=ee.useState(""),[$,P]=ee.useState(!1),[V,G]=ee.useState(""),[ie,de]=ee.useState(1),[X,q]=ee.useState({x:0,y:0}),[Z,oe]=ee.useState({width:0,height:0}),ye=ee.useRef(null),ne=180,M=512,W=ne/2;ee.useEffect(()=>{if(!n)return;(async()=>{var me,Ze;try{const pt=await Bu(On(Ct,"schools",n));if(!pt.exists()){Pt("School not found",{type:"error"}),e("/super-admin/schools");return}const dt={id:pt.id,...pt.data()};s(dt);const Je=dt.createdAt&&((Ze=(me=dt.createdAt)==null?void 0:me.toDate)!=null&&Ze.call(me))?dt.createdAt.toDate():null;o({name:dt.name||"",code:dt.code||"",phone:dt.phone||"",address:dt.address||"",logoUrl:dt.logoUrl||"",status:dt.status||"active",plan:dt.plan||"trial",planEndsAt:dt.planEndsAt?new Date(dt.planEndsAt).toISOString().split("T")[0]:"",notes:dt.notes||""});const Ut=$n(Pn(Ct,"users"),nn("role","==",hs.SCHOOL_ADMIN),nn("schoolId","==",dt.id)),zt=(await Xn(Ut)).docs[0];_(zt?{id:zt.id,...zt.data()}:null);const[$t,Jt]=await Promise.all([Xn($n(Pn(Ct,"students"),nn("schoolId","==",dt.id))),Xn($n(Pn(Ct,"users"),nn("schoolId","==",dt.id),nn("role","==",hs.TEACHER)))]);L({students:$t.size.toString(),teachers:Jt.size.toString(),lastActivity:Je?Je.toLocaleDateString():""})}catch(pt){console.error("Error fetching school:",pt),Pt("Failed to load school details",{type:"error"})}finally{h(!1)}})()},[n,e]);const ae=ee.useMemo(()=>{var me,Ze;if(!(t!=null&&t.createdAt))return"";const Le=(Ze=(me=t.createdAt)==null?void 0:me.toDate)!=null&&Ze.call(me)?t.createdAt.toDate():new Date(t.createdAt);return!Le||Number.isNaN(Le.getTime())?"":Le.toLocaleDateString()},[t==null?void 0:t.createdAt]),ue=(Le,me)=>{a&&o({...a,[Le]:me})},ce=Le=>{var pt;const me=(pt=Le.target.files)==null?void 0:pt[0];if(!me){G(""),oe({width:0,height:0});return}const Ze=new FileReader;Ze.onload=()=>{G(Ze.result),de(1),q({x:0,y:0})},Ze.readAsDataURL(me)},ge=()=>{if(!a)return!1;if(!a.name.trim())return Pt("School name is required.",{type:"error"}),!1;if(a.phone&&a.phone.trim().length<7)return Pt("Phone number is too short.",{type:"error"}),!1;if(a.planEndsAt){const Le=new Date(a.planEndsAt),me=new Date;if(me.setHours(0,0,0,0),Le<me)return Pt("Plan end date cannot be in the past.",{type:"error"}),!1}return!0},Se=async()=>{if(!n||!a||!ge())return;const Le=()=>{if(!V||!ye.current)return"";const me=ye.current,Ze=Z.width||me.naturalWidth||1,pt=Z.height||me.naturalHeight||1,Je=Math.max(ne/Ze,ne/pt)*ie*(M/ne),Ut=X.x*(M/ne),Rt=X.y*(M/ne),zt=document.createElement("canvas");zt.width=M,zt.height=M;const $t=zt.getContext("2d");if(!$t)return"";const Jt=Ze*Je,sn=pt*Je,Ge=M/2-Jt/2+Ut,Ht=M/2-sn/2+Rt;return $t.drawImage(me,Ge,Ht,Jt,sn),zt.toDataURL("image/png")};f(!0);try{const Ze=Le()||a.logoUrl.trim();await Ii(On(Ct,"schools",n),{name:a.name.trim(),code:a.code.trim(),phone:a.phone.trim(),address:a.address.trim(),logoUrl:Ze,status:a.status,plan:a.plan,planEndsAt:a.planEndsAt?new Date(a.planEndsAt):null,notes:a.notes.trim()},{merge:!0}),Pt("School updated successfully.",{type:"success"}),s(pt=>pt&&{...pt,...a,logoUrl:Ze,planEndsAt:a.planEndsAt?new Date(a.planEndsAt):null}),o(pt=>pt&&{...pt,logoUrl:Ze}),G(""),de(1),q({x:0,y:0}),oe({width:0,height:0})}catch(me){console.error("Failed to update school",me),Pt(me.message||"Failed to update school.",{type:"error"})}finally{f(!1)}},xe=()=>{t&&o({name:t.name||"",code:t.code||"",phone:t.phone||"",address:t.address||"",logoUrl:t.logoUrl||"",status:t.status||"active",plan:t.plan||"trial",planEndsAt:t.planEndsAt?new Date(t.planEndsAt).toISOString().split("T")[0]:"",notes:t.notes||""})},Ie=async Le=>{if(Le.preventDefault(),!!n&&!(!b.fullName.trim()||!b.email.trim())){S(!0);try{const me=await m7({schoolId:n,fullName:b.fullName.trim(),email:b.email.trim(),password:b.password.trim()||void 0});Pt(b.password.trim()?`Admin created: ${me.email}`:`Admin created: ${me.email}. Reset link sent.`,{type:"success"}),I({fullName:"",email:"",password:""}),m(!1);const Ze=$n(Pn(Ct,"users"),nn("role","==",hs.SCHOOL_ADMIN),nn("schoolId","==",n)),dt=(await Xn(Ze)).docs[0];_(dt?{id:dt.id,...dt.data()}:null)}catch(me){console.error("Error creating admin:",me),Pt(me.message||"Failed to create admin.",{type:"error"})}finally{S(!1)}}},Ue=async()=>{if(E)try{const Le=await p7({adminUid:E.id});await navigator.clipboard.writeText(Le.resetLink),Pt("Reset link copied to clipboard.",{type:"success"})}catch(Le){console.error("Failed to reset admin password",Le),Pt(Le.message||"Failed to reset admin password.",{type:"error"})}},Pe=async()=>{if(E)try{await Op(On(Ct,"users",E.id),{status:"inactive"}),_({...E,status:"inactive"}),Pt("Admin disabled successfully.",{type:"success"})}catch(Le){console.error("Failed to disable admin",Le),Pt(Le.message||"Failed to disable admin.",{type:"error"})}},rt=async()=>{if(!(!t||Q.trim()!==t.name)){P(!0);try{await y7({schoolId:t.id}),Pt("School deleted successfully.",{type:"success"}),D(!1),e("/super-admin/schools")}catch(Le){console.error("Failed to delete school",Le),Pt(Le.message||"Failed to delete school.",{type:"error"})}finally{P(!1),O("")}}};return c?i.jsx(lr,{title:"School Details",children:i.jsx("div",{className:"flex items-center justify-center h-96",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0B4A82]"})})}):!t||!a?i.jsx(lr,{title:"School Details",children:i.jsx("div",{className:"text-center py-12",children:i.jsx("p",{className:"text-slate-500",children:"School not found"})})}):i.jsxs(lr,{title:"School Details",children:[i.jsxs("div",{className:"p-6 space-y-8",children:[i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsxs("button",{onClick:()=>e("/super-admin/schools"),className:"flex items-center gap-2 text-slate-500 hover:text-slate-700 text-sm",children:[i.jsx(FT,{size:16}),"Schools / ",t.name]}),i.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-6 flex flex-col md:flex-row md:items-center md:justify-between gap-6",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-16 h-16 rounded-2xl bg-slate-100 flex items-center justify-center overflow-hidden",children:t.logoUrl?i.jsx("img",{src:t.logoUrl,alt:t.name,className:"w-full h-full object-cover"}):i.jsx(gk,{className:"text-slate-500"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:t.name}),i.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm text-slate-500",children:[i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(Vh,{size:14})," Code: ",t.code||""]}),i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(Zo,{size:14})," Created: ",ae]})]})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${t.status==="active"?"bg-emerald-100 text-emerald-700":"bg-[#E6F0FA] text-[#0B4A82]"}`,children:t.status==="active"?"Active":"Inactive"}),i.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium bg-slate-100 text-slate-600",children:t.plan})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[1.1fr_1.4fr] gap-6",children:[i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-6 space-y-4",children:[i.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Overview"}),i.jsxs("div",{className:"grid gap-3 text-sm text-slate-600",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(gM,{size:16}),i.jsx("span",{children:t.phone||"No phone"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(sM,{size:16}),i.jsx("span",{children:t.address||"No address"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Vh,{size:16}),i.jsx("span",{children:t.notes||"No internal notes"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-6 space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Administration"}),!E&&i.jsx("button",{onClick:()=>m(!0),className:"text-sm font-medium text-emerald-600 hover:text-emerald-700",children:"Create Admin"})]}),E?i.jsxs("div",{className:"border border-slate-200 rounded-xl p-4 space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-slate-900",children:E.fullName}),i.jsx("p",{className:"text-sm text-slate-500",children:E.email})]}),i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${E.status==="active"?"bg-emerald-100 text-emerald-700":"bg-[#E6F0FA] text-[#0B4A82]"}`,children:E.status})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("button",{onClick:Ue,className:"px-3 py-2 rounded-lg border border-slate-200 text-sm text-slate-600 hover:bg-slate-50",children:"Reset Admin Password"}),i.jsx("button",{onClick:Pe,className:"px-3 py-2 rounded-lg border border-red-200 text-sm text-red-600 hover:bg-red-50",children:"Disable Admin"})]})]}):i.jsx("div",{className:"text-sm text-slate-500",children:"No admin assigned yet."})]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[{label:"Total students",value:R.students},{label:"Total teachers",value:R.teachers},{label:"Last activity",value:R.lastActivity}].map(Le=>i.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-4",children:[i.jsx("p",{className:"text-xs uppercase text-slate-400",children:Le.label}),i.jsx("p",{className:"text-lg font-semibold text-slate-900",children:Le.value})]},Le.label))})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-6",children:[i.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Edit School Settings"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Name"}),i.jsx("input",{value:a.name,onChange:Le=>ue("name",Le.target.value),className:"w-full mt-1 border border-slate-200 rounded-xl px-3 py-2"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Code"}),i.jsx("input",{value:a.code,onChange:Le=>ue("code",Le.target.value),className:"w-full mt-1 border border-slate-200 rounded-xl px-3 py-2"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Phone"}),i.jsx("input",{value:a.phone,onChange:Le=>ue("phone",Le.target.value),className:"w-full mt-1 border border-slate-200 rounded-xl px-3 py-2"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Status"}),i.jsxs("select",{value:a.status,onChange:Le=>ue("status",Le.target.value),className:"w-full mt-1 border border-slate-200 rounded-xl px-3 py-2 bg-white",children:[i.jsx("option",{value:"active",children:"Active"}),i.jsx("option",{value:"inactive",children:"Inactive"})]})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Address"}),i.jsx("input",{value:a.address,onChange:Le=>ue("address",Le.target.value),className:"w-full mt-1 border border-slate-200 rounded-xl px-3 py-2"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Logo Upload"}),i.jsx("input",{type:"file",accept:"image/*",onChange:ce,className:"w-full mt-1 border border-slate-200 rounded-xl px-3 py-2 bg-white"}),a.logoUrl&&!V&&i.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Current logo is saved. Upload a new file to replace it."}),V&&i.jsxs("div",{className:"mt-4 space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[i.jsx("span",{children:"Crop to square"}),i.jsxs("span",{children:[Math.round(ie*100),"%"]})]}),i.jsx("div",{className:"rounded-xl border border-slate-200 bg-slate-50 flex items-center justify-center overflow-hidden",style:{width:ne,height:ne},children:i.jsx("img",{ref:ye,src:V,alt:"Logo preview",onLoad:Le=>{const me=Le.currentTarget;oe({width:me.naturalWidth,height:me.naturalHeight})},style:{width:Z.width?`${Math.max(ne,ne/Z.height*Z.width)*ie}px`:"auto",height:Z.height?`${Math.max(ne,ne/Z.width*Z.height)*ie}px`:"auto",transform:`translate(${X.x}px, ${X.y}px)`}})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-xs font-semibold text-slate-600",children:"Zoom"}),i.jsx("input",{type:"range",min:1,max:3,step:.05,value:ie,onChange:Le=>de(parseFloat(Le.target.value)),className:"w-full"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-semibold text-slate-600",children:"Move X"}),i.jsx("input",{type:"range",min:-W,max:W,value:X.x,onChange:Le=>q(me=>({...me,x:parseFloat(Le.target.value)})),className:"w-full"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-semibold text-slate-600",children:"Move Y"}),i.jsx("input",{type:"range",min:-W,max:W,value:X.y,onChange:Le=>q(me=>({...me,y:parseFloat(Le.target.value)})),className:"w-full"})]})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Plan"}),i.jsxs("select",{value:a.plan,onChange:Le=>ue("plan",Le.target.value),className:"w-full mt-1 border border-slate-200 rounded-xl px-3 py-2 bg-white",children:[i.jsx("option",{value:"trial",children:"Trial"}),i.jsx("option",{value:"monthly",children:"Monthly"}),i.jsx("option",{value:"termly",children:"Termly"}),i.jsx("option",{value:"yearly",children:"Yearly"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Plan Ends At"}),i.jsx("input",{type:"date",value:a.planEndsAt,onChange:Le=>ue("planEndsAt",Le.target.value),className:"w-full mt-1 border border-slate-200 rounded-xl px-3 py-2"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Internal Notes"}),i.jsx("textarea",{value:a.notes,onChange:Le=>ue("notes",Le.target.value),rows:4,className:"w-full mt-1 border border-slate-200 rounded-xl px-3 py-2"})]})]}),i.jsxs("div",{className:"flex flex-wrap gap-3 mt-6",children:[i.jsx("button",{onClick:xe,className:"px-4 py-2 rounded-xl border border-slate-200 text-slate-600",children:"Cancel"}),i.jsxs("button",{onClick:Se,disabled:u,className:"px-4 py-2 rounded-xl bg-emerald-600 text-white flex items-center gap-2 disabled:opacity-60",children:[i.jsx(iA,{size:16})," ",u?"Saving...":"Save Changes"]})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl border border-red-100 shadow-sm p-6",children:[i.jsxs("div",{className:"flex items-center gap-2 text-red-600 mb-4",children:[i.jsx(G5,{size:18}),i.jsx("h2",{className:"text-lg font-semibold",children:"Danger Zone"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("button",{onClick:()=>ue("status",a.status==="active"?"inactive":"active"),className:"w-full flex items-center justify-between px-4 py-3 rounded-xl border border-red-200 text-red-600 hover:bg-red-50",children:[i.jsx("span",{children:a.status==="active"?"Deactivate School":"Activate School"}),i.jsx(RA,{size:16})]}),i.jsxs("button",{onClick:()=>D(!0),className:"w-full flex items-center justify-between px-4 py-3 rounded-xl border border-red-200 text-red-600 hover:bg-red-50",children:[i.jsx("span",{children:"Delete School"}),i.jsx(RA,{size:16})]})]})]})]})]})]}),A&&i.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md p-6 shadow-xl relative",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Create School Admin"}),i.jsx("button",{onClick:()=>m(!1),className:"text-slate-400 hover:text-slate-700",children:i.jsx(jo,{size:18})})]}),i.jsxs("form",{onSubmit:Ie,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Full Name"}),i.jsx("input",{value:b.fullName,onChange:Le=>I({...b,fullName:Le.target.value}),className:"w-full mt-1 border border-slate-200 rounded-xl px-3 py-2"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Email"}),i.jsx("input",{type:"email",value:b.email,onChange:Le=>I({...b,email:Le.target.value}),className:"w-full mt-1 border border-slate-200 rounded-xl px-3 py-2"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Password (optional)"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:v?"text":"password",value:b.password,onChange:Le=>I({...b,password:Le.target.value}),className:"w-full mt-1 border border-slate-200 rounded-xl px-3 py-2 pr-10"}),i.jsx("button",{type:"button",onClick:()=>g(!v),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400",children:v?i.jsx(LT,{size:16}):i.jsx(qd,{size:16})})]}),i.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Leave blank to send a reset link."})]}),i.jsxs("button",{type:"submit",disabled:N,className:"w-full py-2 rounded-xl bg-emerald-600 text-white flex items-center justify-center gap-2 disabled:opacity-60",children:[i.jsx(a2,{size:16}),N?"Creating...":"Create Admin"]})]})]})}),H&&i.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md p-6 shadow-xl space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-2 text-red-600",children:[i.jsx(G5,{size:18}),i.jsx("h3",{className:"text-lg font-semibold",children:"Delete School"})]}),i.jsxs("p",{className:"text-sm text-slate-500",children:["Type ",i.jsx("span",{className:"font-semibold",children:t.name})," to confirm deletion."]}),i.jsx("input",{value:Q,onChange:Le=>O(Le.target.value),className:"w-full border border-slate-200 rounded-xl px-3 py-2"}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:()=>D(!1),className:"flex-1 py-2 rounded-xl border border-slate-200 text-slate-600",children:"Cancel"}),i.jsx("button",{onClick:rt,disabled:Q.trim()!==t.name||$,className:"flex-1 py-2 rounded-xl bg-red-600 text-white disabled:opacity-60",children:$?"Deleting...":"Delete"})]})]})})]})},Dh=({children:n,className:e=""})=>i.jsx("div",{className:`bg-white rounded-2xl border border-slate-100 shadow-sm hover:shadow-md transition-shadow p-6 ${e}`,children:n}),sv=({label:n,value:e,hint:t,icon:s,trend:a=0})=>i.jsxs(Dh,{className:"group hover:-translate-y-0.5 hover:shadow-lg transition-all",children:[i.jsxs("div",{className:"flex items-start justify-between gap-3 mb-3",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"text-xs font-medium text-slate-500 uppercase tracking-wide",children:n}),i.jsx("div",{className:"text-3xl md:text-4xl font-bold text-slate-900 mt-2",children:e})]}),i.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center text-white ${a>=0?"bg-gradient-to-br from-emerald-400 to-emerald-600":"bg-gradient-to-br from-amber-400 to-amber-600"}`,children:s})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[t&&i.jsx("div",{className:"text-xs text-slate-500",children:t}),a!==void 0&&i.jsxs("div",{className:`flex items-center gap-1 text-xs font-semibold ${a>=0?"text-emerald-600":"text-[#0B4A82]"}`,children:[a>=0?i.jsx(UT,{size:14}):i.jsx(ak,{size:14}),Math.abs(a),"%"]})]}),i.jsx("div",{className:"mt-3 h-1 bg-gradient-to-r from-slate-100 via-slate-200 to-slate-100 rounded-full opacity-50"})]}),D1=({icon:n,title:e,count:t,description:s,accentColor:a})=>i.jsx(Dh,{className:`border-l-4 ${a} group hover:shadow-lg transition-all`,children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center text-white ${a.replace("border","bg")}`,children:n}),i.jsx("h3",{className:"font-semibold text-slate-800",children:e})]}),i.jsx("div",{className:"text-3xl font-bold text-slate-900 mb-1",children:t}),i.jsx("p",{className:"text-sm text-slate-600",children:s})]}),i.jsx("button",{className:"p-2 rounded-lg hover:bg-slate-50 transition",children:i.jsx(RT,{size:18,className:"text-slate-400"})})]})}),kf=({className:n="h-6 bg-gradient-to-r from-slate-100 via-slate-50 to-slate-100 rounded animate-pulse"})=>i.jsx("div",{className:n}),LN=({icon:n,title:e,description:t,action:s})=>i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"flex justify-center mb-4",children:n}),i.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-2",children:e}),i.jsx("p",{className:"text-sm text-slate-600 mb-6",children:t}),s&&i.jsx("button",{onClick:s.onClick,className:"inline-flex items-center gap-2 px-4 py-2 bg-[#0B4A82] text-white rounded-lg hover:bg-[#0B4A82] transition-colors text-sm font-medium",children:s.label})]}),m_=()=>{const{user:n}=nl(),[e,t]=ee.useState([]),[s,a]=ee.useState([]),[o,c]=ee.useState([]),[h,u]=ee.useState(!1),[f,A]=ee.useState(""),[m,v]=ee.useState(""),[g,b]=ee.useState(""),[I,N]=ee.useState("inactive"),[S,E]=ee.useState(null),[_,R]=ee.useState({summary:{},perSchool:{}}),L=ee.useCallback(async()=>{u(!0);try{const X=Pn(Ct,"schools"),Z=(await Xn(X)).docs.map(ge=>({id:ge.id,...ge.data()}));t(Z);const oe=Pn(Ct,"activity_logs"),ye=$n(oe,ub("createdAt","desc"),$v(20)),M=(await Xn(ye)).docs.map(ge=>({id:ge.id,...ge.data()}));a(M);const W=Pn(Ct,"payments"),ae=$n(W,ub("createdAt","desc"),$v(200)),ce=(await Xn(ae)).docs.map(ge=>({id:ge.id,...ge.data()}));c(ce),E(new Date)}catch(X){console.error(X)}finally{u(!1)}},[]);ee.useEffect(()=>{if(!e.length)return;(async()=>{try{const q=new Date,oe=(pt=>{const dt=pt.getFullYear(),Je=String(pt.getMonth()+1).padStart(2,"0"),Ut=String(pt.getDate()).padStart(2,"0");return`${dt}-${Je}-${Ut}`})(q),ye=new Date(q);ye.setHours(0,0,0,0);const ne=new Date(q);ne.setHours(23,59,59,999);const M=ye.getTime(),W=ne.getTime(),ae=e.length,ue={attendance:{completed:0,total:ae},teacherAttendance:{completed:0,total:ae},assessments:{completed:0,total:ae},timetable:{completed:0,total:ae},notices:{completed:0,total:ae}},ce={},[ge,Se,xe,Ie,Ue]=await Promise.all([Xn($n(Pn(Ct,"attendance"),nn("date","==",oe))),Xn($n(Pn(Ct,"teacher_attendance"),nn("date","==",oe))),Xn($n(Pn(Ct,"assessments"),nn("createdAt",">=",M),nn("createdAt","<=",W))),Xn(Pn(Ct,"timetables")),Xn($n(Pn(Ct,"notices"),nn("createdAt",">=",M),nn("createdAt","<=",W)))]),Pe=new Set(ge.docs.map(pt=>pt.data().schoolId).filter(Boolean)),rt=new Set(Se.docs.map(pt=>pt.data().schoolId).filter(Boolean)),Le=new Set(xe.docs.map(pt=>pt.data().schoolId).filter(Boolean)),me=new Set(Ie.docs.map(pt=>pt.data().schoolId).filter(Boolean)),Ze=new Set(Ue.docs.map(pt=>pt.data().schoolId).filter(Boolean));e.forEach(pt=>{const dt=pt.id;if(!dt)return;const Je={attendance:Pe.has(dt),teacherAttendance:rt.has(dt),assessments:Le.has(dt),timetable:me.has(dt),notices:Ze.has(dt)};ce[dt]=Je,Je.attendance&&(ue.attendance.completed+=1),Je.teacherAttendance&&(ue.teacherAttendance.completed+=1),Je.assessments&&(ue.assessments.completed+=1),Je.timetable&&(ue.timetable.completed+=1),Je.notices&&(ue.notices.completed+=1)}),R({summary:ue,perSchool:ce})}catch(q){console.error("Failed to load daily checklist",q)}})()},[e]),ee.useEffect(()=>{L()},[L]);const H=ee.useMemo(()=>{const X=e.length,q=e.filter(W=>W.status==="active").length,Z=e.filter(W=>W.status==="inactive").length,oe=e.filter(W=>W.plan==="trial").length,ye=e.filter(W=>W.plan&&W.plan!=="trial").length,ne=e.filter(W=>W.createdAt?(W.createdAt instanceof or?W.createdAt.toDate():new Date(W.createdAt))>=new Date(Date.now()-720*60*60*1e3):!1).length,M=new Set(s.filter(W=>W.createdAt?(W.createdAt instanceof or?W.createdAt.toDate():new Date(W.createdAt))>=new Date(Date.now()-10080*60*1e3):!1).map(W=>W.schoolId)).size;return{total:X,active:q,inactive:Z,trial:oe,paid:ye,newSchools:ne,activeLast7:M}},[e,s]),D=X=>{const q=String(X||"pending").toLowerCase();return["success","paid","active"].includes(q)?"success":["failed","failure","past_due"].includes(q)||["abandoned","cancelled","canceled"].includes(q)?"failed":"pending"},Q=(X,q="GHS")=>new Intl.NumberFormat("en-GH",{style:"currency",currency:q,maximumFractionDigits:2}).format(X),O=ee.useMemo(()=>{const X=new Date,q=[];for(let ge=5;ge>=0;ge-=1){const Se=new Date(X.getFullYear(),X.getMonth()-ge,1),xe=`${Se.getFullYear()}-${String(Se.getMonth()+1).padStart(2,"0")}`,Ie=Se.toLocaleString("en-US",{month:"short"});q.push({key:xe,label:Ie})}const Z=Object.fromEntries(q.map(ge=>[ge.key,0])),oe=new Date(Date.now()-720*60*60*1e3);let ye=0,ne=0,M=0,W=0,ae=0;o.forEach(ge=>{const Se=D(ge.status),xe=ge.amount??0,Ie=xe>=100?xe/100:xe,Ue=ge.createdAt instanceof or?ge.createdAt.toDate():new Date(ge.createdAt||0);if(Se==="success"){ye+=Ie,ne+=1,Ue>=oe&&(ae+=Ie);const Pe=`${Ue.getFullYear()}-${String(Ue.getMonth()+1).padStart(2,"0")}`;Z[Pe]!==void 0&&(Z[Pe]+=Ie)}Se==="pending"&&(M+=1),Se==="failed"&&(W+=1)});const ue=ne+M+W,ce=ue?Math.round(ne/ue*100):0;return{paidAmount:ye,paidCount:ne,pendingCount:M,failedCount:W,last30Amount:ae,successRate:ce,monthlySeries:q.map(ge=>({label:ge.label,value:Z[ge.key]||0}))}},[o]),$=ee.useMemo(()=>{const X={trial:0,monthly:0,termly:0,yearly:0};return e.forEach(q=>{const Z=q.plan||"trial";X[Z]=(X[Z]||0)+1}),X},[e]),P=e.filter(X=>!(f&&!X.name.toLowerCase().includes(f.toLowerCase())||m&&X.status!==m||g&&X.plan!==g)),V=e.filter(X=>X.status!=="active"),G=e.filter(X=>X.plan==="trial"&&X.planEndsAt).sort((X,q)=>{const Z=X.planEndsAt instanceof or?X.planEndsAt.toDate().getTime():new Date(X.planEndsAt).getTime(),oe=q.planEndsAt instanceof or?q.planEndsAt.toDate().getTime():new Date(q.planEndsAt).getTime();return Z-oe}),ie=(()=>{const X=new Date(Date.now()-12096e5),q={};return s.forEach(Z=>{if(!Z.schoolId)return;const oe=Z.createdAt instanceof or?Z.createdAt.toDate():new Date(Z.createdAt);(!q[Z.schoolId]||q[Z.schoolId]<oe)&&(q[Z.schoolId]=oe)}),e.filter(Z=>{const oe=q[Z.id];return!oe||oe<X})})(),de=[{label:"Active",count:H.active,color:"bg-emerald-100 text-emerald-700"},{label:"Trial",count:H.trial,color:"bg-amber-100 text-amber-700"},{label:"Paid",count:H.paid,color:"bg-[#E6F0FA] text-[#0B4A82]"}];return i.jsx("div",{className:"p-6",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsx("div",{className:"mb-8",children:i.jsxs("div",{className:"bg-gradient-to-br from-slate-50 via-white to-slate-50 rounded-3xl border border-slate-100 shadow-sm p-8",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-6",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-emerald-500"}),i.jsx("span",{className:"text-xs font-semibold text-emerald-600 uppercase tracking-widest",children:"System Status"})]}),i.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-2",children:"Super Admin Dashboard"}),i.jsxs("p",{className:"text-slate-600",children:["Manage ",H.total," schools across ",H.active," active organizations"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("button",{onClick:()=>L(),"aria-label":"Refresh dashboard",className:"inline-flex items-center gap-2 px-4 py-2 bg-white border border-slate-200 rounded-lg text-sm font-medium text-slate-700 hover:bg-slate-50 hover:border-slate-300 transition-all focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#1160A8]",children:[i.jsx(Ag,{size:16,className:"group-hover:rotate-180 transition-transform"}),"Refresh"]}),i.jsxs(fi,{to:"/super-admin/schools",className:"inline-flex items-center gap-2 px-4 py-2 bg-[#0B4A82] text-white rounded-lg text-sm font-medium hover:bg-[#0B4A82] transition-all focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#1160A8]",children:[i.jsx(kp,{size:16}),"View Schools"]})]})]}),i.jsxs("div",{className:"flex flex-wrap gap-3 mt-6 pt-6 border-t border-slate-100",children:[de.map(X=>i.jsxs("div",{className:`px-3 py-1.5 rounded-full text-xs font-semibold ${X.color}`,children:[X.label,": ",i.jsx("span",{className:"font-bold",children:X.count})]},X.label)),i.jsx("div",{className:"text-xs text-slate-500 flex items-center ml-auto",children:S?`Last updated ${S.toLocaleTimeString()}`:"Not updated yet"})]})]})}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-5 mb-8",children:h?Array.from({length:4}).map((X,q)=>i.jsx("div",{children:i.jsx(kf,{className:"h-32"})},q)):i.jsxs(i.Fragment,{children:[i.jsx(sv,{label:"Total Schools",value:H.total,hint:"All time",icon:i.jsx(fl,{size:20}),trend:5}),i.jsx(sv,{label:"Active Schools",value:H.active,hint:"Currently active",icon:i.jsx(UA,{size:20}),trend:3}),i.jsx(sv,{label:"Inactive Schools",value:H.inactive,hint:"Needs attention",icon:i.jsx(Li,{size:20}),trend:-1}),i.jsx(sv,{label:"New Schools",value:H.newSchools,hint:"Last 30 days",icon:i.jsx(Ed,{size:20}),trend:8})]})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[i.jsxs(Dh,{className:"lg:col-span-2",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Billing Analytics"}),i.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Payment performance over the last 6 months"})]}),i.jsxs(fi,{to:"/super-admin/payments",className:"inline-flex items-center gap-2 text-sm font-semibold text-[#0B4A82]",children:["View payments ",i.jsx(RT,{size:16})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[i.jsxs("div",{className:"rounded-2xl border border-emerald-100 bg-emerald-50/50 p-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-xs font-semibold uppercase text-emerald-600",children:"Total Revenue"}),i.jsx("span",{className:"w-8 h-8 rounded-lg bg-emerald-500/90 text-white flex items-center justify-center",children:i.jsx(uk,{size:16})})]}),i.jsx("div",{className:"mt-3 text-2xl font-bold text-slate-900",children:Q(O.paidAmount)}),i.jsxs("p",{className:"text-xs text-emerald-700 mt-2",children:[O.paidCount," successful payments"]})]}),i.jsxs("div",{className:"rounded-2xl border border-amber-100 bg-amber-50/60 p-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-xs font-semibold uppercase text-amber-600",children:"Pending"}),i.jsx("span",{className:"w-8 h-8 rounded-lg bg-amber-500/90 text-white flex items-center justify-center",children:i.jsx(Ld,{size:16})})]}),i.jsx("div",{className:"mt-3 text-2xl font-bold text-slate-900",children:O.pendingCount}),i.jsx("p",{className:"text-xs text-amber-700 mt-2",children:"Awaiting confirmation"})]}),i.jsxs("div",{className:"rounded-2xl border border-rose-100 bg-rose-50/60 p-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-xs font-semibold uppercase text-rose-600",children:"Failed"}),i.jsx("span",{className:"w-8 h-8 rounded-lg bg-rose-500/90 text-white flex items-center justify-center",children:i.jsx(Li,{size:16})})]}),i.jsx("div",{className:"mt-3 text-2xl font-bold text-slate-900",children:O.failedCount}),i.jsx("p",{className:"text-xs text-rose-700 mt-2",children:"Needs follow-up"})]})]}),i.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-white p-5",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:"Monthly Revenue"}),i.jsx("p",{className:"text-xs text-slate-500",children:"Successful payments per month"})]}),i.jsxs("span",{className:"text-xs font-semibold text-emerald-600",children:["+",O.successRate,"% success rate"]})]}),i.jsx("div",{className:"grid grid-cols-6 gap-3 items-end h-36",children:O.monthlySeries.map(X=>{const q=Math.max(1,...O.monthlySeries.map(oe=>oe.value)),Z=Math.round(X.value/q*100);return i.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i.jsx("div",{className:"w-10 rounded-full bg-gradient-to-t from-[#0B4A82] to-emerald-400 shadow-sm",style:{height:`${Z}%`,minHeight:"12%"}}),i.jsx("span",{className:"text-[11px] text-slate-500",children:X.label})]},X.label)})}),i.jsxs("div",{className:"mt-4 flex items-center justify-between text-xs text-slate-500",children:[i.jsxs("span",{children:["Last 30 days: ",Q(O.last30Amount)]}),i.jsxs("span",{className:"inline-flex items-center gap-1",children:[i.jsx(V5,{size:12})," Updated with payments data"]})]})]})]}),i.jsxs(Dh,{children:[i.jsxs("div",{className:"flex items-center justify-between mb-5",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Billing Health"}),i.jsx("p",{className:"text-sm text-slate-600",children:"Current payment status mix"})]}),i.jsx("div",{className:"w-11 h-11 rounded-xl bg-[#E6F0FA] text-[#0B4A82] flex items-center justify-center",children:i.jsx(i2,{size:18})})]}),i.jsx("div",{className:"space-y-4",children:[{label:"Successful",value:O.paidCount,color:"bg-emerald-500"},{label:"Pending",value:O.pendingCount,color:"bg-amber-500"},{label:"Failed",value:O.failedCount,color:"bg-rose-500"}].map(X=>{const q=O.paidCount+O.pendingCount+O.failedCount,Z=q?Math.round(X.value/q*100):0;return i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"font-medium text-slate-700",children:X.label}),i.jsxs("span",{className:"text-slate-500",children:[Z,"%"]})]}),i.jsx("div",{className:"h-2 rounded-full bg-slate-100 overflow-hidden",children:i.jsx("div",{className:`h-full ${X.color} rounded-full`,style:{width:`${Z}%`}})})]},X.label)})}),i.jsxs("div",{className:"mt-6 rounded-2xl bg-slate-50 border border-slate-100 p-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Success rate"}),i.jsxs("p",{className:"text-2xl font-bold text-slate-900",children:[O.successRate,"%"]})]}),i.jsx("div",{className:"w-12 h-12 rounded-full bg-emerald-100 text-emerald-600 flex items-center justify-center",children:i.jsx(Ed,{size:18})})]}),i.jsx("p",{className:"text-xs text-slate-500 mt-3",children:"Track billed revenue and follow up on pending payments."})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-5 mb-8",children:[i.jsx(D1,{icon:i.jsx(Li,{size:18}),title:"Inactive Schools",count:V.length,description:"Schools requiring attention",accentColor:"border-[#1160A8] bg-[#E6F0FA]"}),i.jsx(D1,{icon:i.jsx(JM,{size:18}),title:"Trials Ending",count:G.length,description:"Trial periods expiring soon",accentColor:"border-amber-400 bg-amber-80"}),i.jsx(D1,{icon:i.jsx(Ld,{size:18}),title:"No Recent Activity",count:ie.length,description:"Last 14 days with no activity",accentColor:"border-slate-400 bg-slate-50"})]}),i.jsxs(Dh,{className:"mb-8",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Plan Distribution"}),i.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:["Plan split across ",H.total," schools"]})]}),e.length===0?i.jsx(LN,{icon:i.jsx(Sk,{className:"mx-auto text-slate-300",size:48}),title:"No Plan Data",description:"Create your first school to see plan distribution",action:{label:"Create School",onClick:()=>{}}}):i.jsxs("div",{className:"flex flex-col lg:flex-row gap-8 items-center",children:[i.jsx("div",{className:"w-full lg:w-1/3 flex justify-center",children:i.jsx("div",{className:"w-40 h-40",children:i.jsxs("svg",{viewBox:"0 0 36 36",className:"w-full h-full",style:{transform:"rotate(-90deg)"},children:[i.jsx("circle",{cx:"18",cy:"18",r:"15.915",fill:"none",stroke:"#f1f5f9",strokeWidth:"8"}),i.jsx("circle",{cx:"18",cy:"18",r:"15.915",fill:"none",stroke:"#f97316",strokeWidth:"8",strokeDasharray:`${$.trial/Math.max(1,e.length)*100} 100`}),i.jsx("circle",{cx:"18",cy:"18",r:"15.915",fill:"none",stroke:"#3b82f6",strokeWidth:"8",strokeDasharray:`${$.monthly/Math.max(1,e.length)*100} 100`,style:{strokeDashoffset:`${-($.trial/Math.max(1,e.length)*100)}`}})]})})}),i.jsx("div",{className:"w-full lg:w-2/3",children:i.jsx("div",{className:"grid grid-cols-2 gap-4",children:[{label:"Trial",value:$.trial,color:"bg-orange-100 border-l-4 border-orange-500"},{label:"Monthly",value:$.monthly,color:"bg-[#E6F0FA] border-l-4 border-[#1160A8]"},{label:"Termly",value:$.termly,color:"bg-green-100 border-l-4 border-green-500"},{label:"Yearly",value:$.yearly,color:"bg-purple-100 border-l-4 border-purple-500"}].map(X=>i.jsxs("div",{className:`${X.color} rounded-lg p-4`,children:[i.jsx("div",{className:"text-2xl font-bold text-slate-900",children:X.value}),i.jsxs("div",{className:"text-xs text-slate-600 mt-1",children:[X.label," Plan"]})]},X.label))})})]})]}),i.jsxs(Dh,{className:"mb-8",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Schools Directory"}),i.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:[P.length," of ",e.length," schools"]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 items-stretch sm:items-center",children:[i.jsxs("div",{className:"relative flex-1 sm:flex-none",children:[i.jsx(fb,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:16}),i.jsx("input",{value:f,onChange:X=>A(X.target.value),placeholder:"Search schools...",className:"w-full pl-10 pr-4 py-2 rounded-lg border border-slate-200 bg-white text-sm focus:outline-none focus:ring-2 focus:ring-offset-0 focus:ring-[#1160A8] transition-all","aria-label":"Search schools"})]}),i.jsxs("select",{value:m,onChange:X=>v(X.target.value),className:"px-3 py-2 text-sm border border-slate-200 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-[#1160A8]",children:[i.jsx("option",{value:"",children:"All Status"}),i.jsx("option",{value:"active",children:"Active"}),i.jsx("option",{value:"inactive",children:"Inactive"})]}),i.jsxs("select",{value:g,onChange:X=>b(X.target.value),className:"px-3 py-2 text-sm border border-slate-200 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-[#1160A8]",children:[i.jsx("option",{value:"",children:"All Plans"}),i.jsx("option",{value:"trial",children:"Trial"}),i.jsx("option",{value:"monthly",children:"Monthly"}),i.jsx("option",{value:"termly",children:"Termly"}),i.jsx("option",{value:"yearly",children:"Yearly"})]})]})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-slate-100",children:[i.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"School"}),i.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"Status"}),i.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"Plan"}),i.jsx("th",{className:"text-left py-3 px-4 font-semibold text-slate-700",children:"Created"}),i.jsx("th",{className:"text-right py-3 px-4 font-semibold text-slate-700",children:"Action"})]})}),i.jsx("tbody",{children:h?Array.from({length:5}).map((X,q)=>i.jsxs("tr",{className:"border-b border-slate-100",children:[i.jsx("td",{className:"py-4 px-4",children:i.jsx(kf,{className:"h-4 w-32"})}),i.jsx("td",{className:"py-4 px-4",children:i.jsx(kf,{className:"h-4 w-16"})}),i.jsx("td",{className:"py-4 px-4",children:i.jsx(kf,{className:"h-4 w-20"})}),i.jsx("td",{className:"py-4 px-4",children:i.jsx(kf,{className:"h-4 w-24"})}),i.jsx("td",{className:"py-4 px-4 text-right",children:i.jsx(kf,{className:"h-8 w-16 ml-auto"})})]},q)):P.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:5,className:"py-12 px-4",children:i.jsx(LN,{icon:i.jsx(fb,{className:"text-slate-300 mx-auto",size:40}),title:"No schools found",description:"Try adjusting your filters or search criteria"})})}):P.map((X,q)=>i.jsxs("tr",{className:`border-b border-slate-100 hover:bg-slate-50 transition-colors ${q%2===0?"bg-white":"bg-slate-50/30"}`,children:[i.jsx("td",{className:"py-4 px-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-slate-100 to-slate-200 flex items-center justify-center text-slate-600 overflow-hidden font-semibold flex-shrink-0",children:X.logoUrl?i.jsx("img",{src:X.logoUrl,alt:X.name,className:"w-full h-full object-cover"}):X.name.charAt(0).toUpperCase()}),i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold text-slate-900",children:X.name}),i.jsx("div",{className:"text-xs text-slate-500",children:X.code||""})]})]})}),i.jsx("td",{className:"py-4 px-4",children:i.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold ${X.status==="active"?"bg-emerald-100 text-emerald-700":"bg-[#E6F0FA] text-[#0B4A82]"}`,children:X.status==="active"?"Active":"Inactive"})}),i.jsx("td",{className:"py-4 px-4",children:i.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold bg-slate-100 text-slate-700 capitalize",children:X.plan})}),i.jsx("td",{className:"py-4 px-4 text-slate-600",children:X.createdAt?X.createdAt instanceof or?X.createdAt.toDate().toLocaleDateString():new Date(X.createdAt).toLocaleDateString():""}),i.jsx("td",{className:"py-4 px-4 text-right",children:i.jsxs(fi,{to:`/super-admin/schools/${X.id}`,className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-semibold bg-[#0B4A82] text-white hover:bg-[#0B4A82] transition-colors",children:[i.jsx(qd,{size:14})," View"]})})]},X.id))})]})}),P.length>0&&i.jsxs("div",{className:"flex items-center justify-between mt-6 pt-6 border-t border-slate-100",children:[i.jsxs("div",{className:"text-xs text-slate-600",children:["Showing 1 to ",Math.min(10,P.length)," of"," ",P.length]}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx("button",{className:"px-3 py-1 rounded-lg border border-slate-200 text-sm font-medium text-slate-700 hover:bg-slate-50 disabled:opacity-50",children:" Previous"}),i.jsx("button",{className:"px-3 py-1 rounded-lg border border-slate-200 text-sm font-medium text-slate-700 hover:bg-slate-50 disabled:opacity-50",children:"Next "})]})]})]}),i.jsxs(Dh,{className:"bg-gradient-to-br from-white via-slate-50 to-white border border-slate-100",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4 mb-6",children:[i.jsx("div",{children:i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("div",{className:"w-10 h-10 rounded-2xl bg-[#E6F0FA] text-[#0B4A82] flex items-center justify-center",children:i.jsx(V5,{size:20})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Daily Operations Checklist"}),i.jsx("p",{className:"text-sm text-slate-600",children:"Track routine school actions completed each day"})]})]})}),i.jsxs("div",{className:"flex items-center gap-3 text-xs text-slate-500",children:[i.jsx("span",{className:"px-3 py-1 rounded-full border border-slate-200 bg-white",children:"Live today"}),i.jsxs("span",{className:"px-3 py-1 rounded-full border border-slate-200 bg-white",children:[e.length," schools"]})]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{key:"attendance",title:"Attendance submitted",description:"Daily student attendance recorded by classes.",gradient:"from-emerald-500/15 to-emerald-500/5",accent:"text-emerald-600",bar:"bg-emerald-500"},{key:"teacherAttendance",title:"Teacher attendance completed",description:"Staff attendance confirmed for the day.",gradient:"from-blue-500/15 to-blue-500/5",accent:"text-blue-600",bar:"bg-blue-500"},{key:"timetable",title:"Lesson plans logged",description:"Timetable updated today to reflect lessons.",gradient:"from-violet-500/15 to-violet-500/5",accent:"text-violet-600",bar:"bg-violet-500"},{key:"assessments",title:"Assessments graded",description:"Class assessments scored and saved.",gradient:"from-amber-500/15 to-amber-500/5",accent:"text-amber-600",bar:"bg-amber-500"},{key:"notices",title:"Notices posted",description:"Daily notices shared to staff and students.",gradient:"from-slate-500/15 to-slate-500/5",accent:"text-slate-600",bar:"bg-slate-500"}].map(X=>{const q=_.summary[X.key],Z=q?Math.round(q.completed/Math.max(1,q.total)*100):0,oe=(q==null?void 0:q.completed)??0,ye=(q==null?void 0:q.total)??0;return i.jsxs("div",{className:`rounded-2xl border border-slate-100 bg-gradient-to-br ${X.gradient} p-4 shadow-sm hover:shadow-md transition-shadow`,children:[i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:`mt-1 ${X.accent}`,children:i.jsx(UA,{size:18})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-slate-900",children:X.title}),i.jsx("p",{className:"text-xs text-slate-500 mt-1",children:X.description})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:`text-lg font-bold ${X.accent}`,children:[Z,"%"]}),i.jsxs("div",{className:"text-[10px] text-slate-500",children:[oe,"/",ye," schools"]})]})]}),i.jsx("div",{className:"mt-4",children:i.jsx("div",{className:"h-2 w-full rounded-full bg-white/70 border border-white/60 overflow-hidden",children:i.jsx("div",{className:`h-full ${X.bar} transition-all`,style:{width:`${Z}%`}})})})]},X.title)})}),i.jsxs("div",{className:"mt-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-base font-semibold text-slate-900",children:"School Activity Status"}),i.jsx("span",{className:"text-xs text-slate-500",children:"Live today per school"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:e.map(X=>{const q=_.perSchool[X.id]||{attendance:!1,teacherAttendance:!1,assessments:!1,timetable:!1,notices:!1},Z=[{label:"Attendance",value:q.attendance},{label:"Teacher Attendance",value:q.teacherAttendance},{label:"Assessments",value:q.assessments},{label:"Timetable",value:q.timetable},{label:"Notices",value:q.notices}],oe=Z.filter(ye=>ye.value).length;return i.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-white p-5 shadow-sm hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-500",children:"School"}),i.jsx("p",{className:"text-lg font-semibold text-slate-900",children:X.name}),i.jsx("p",{className:"text-xs text-slate-400",children:X.code})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Completion"}),i.jsxs("p",{className:"text-lg font-bold text-emerald-600",children:[oe,"/",Z.length]})]})]}),i.jsx("div",{className:"mt-4 grid grid-cols-2 gap-2 text-xs",children:Z.map(ye=>i.jsxs("div",{className:`flex items-center justify-between rounded-lg border px-2 py-1.5 ${ye.value?"border-emerald-200 bg-emerald-50 text-emerald-700":"border-slate-200 bg-slate-50 text-slate-500"}`,children:[i.jsx("span",{children:ye.label}),i.jsx("span",{className:"font-semibold",children:ye.value?"Done":"Pending"})]},ye.label))})]},X.id)})})]})]})]})})},YY=()=>{var Z,oe,ye,ne;const[n,e]=ee.useState([]),[t,s]=ee.useState([]),[a,o]=ee.useState(!0),[c,h]=ee.useState(null),[u,f]=ee.useState(""),[A,m]=ee.useState(""),[v,g]=ee.useState(""),[b,I]=ee.useState(""),[N,S]=ee.useState(null),[E,_]=ee.useState(!1),[R,L]=ee.useState(null),[H,D]=ee.useState(!1),Q=ee.useMemo(()=>n.reduce((M,W)=>(M[W.id]=W,M),{}),[n]),O=ee.useMemo(()=>{var xe;if(!((xe=N==null?void 0:N.data)!=null&&xe.students))return[];const M=N.data.students||[],W=N.data.attendanceRecords||[],ae=N.data.assessments||[],ue=N.data.studentRemarks||[],ce=W.reduce((Ie,Ue)=>(Ie[Ue.classId]||(Ie[Ue.classId]=[]),Ie[Ue.classId].push(Ue),Ie),{}),ge=ae.reduce((Ie,Ue)=>{const Pe=typeof Ue.total=="number"?Ue.total:rc(Ue);return Ie[Ue.studentId]||(Ie[Ue.studentId]={total:0,count:0}),Ie[Ue.studentId].total+=Pe,Ie[Ue.studentId].count+=1,Ie},{}),Se=ue.reduce((Ie,Ue)=>{const Pe=Ie[Ue.studentId];if(!Pe)return Ie[Ue.studentId]=Ue,Ie;const rt=new Date(Pe.dateCreated).getTime();return new Date(Ue.dateCreated).getTime()>=rt&&(Ie[Ue.studentId]=Ue),Ie},{});return M.map(Ie=>{var dt;const Ue=ce[Ie.classId]||[],Pe=Ue.filter(Je=>{var Ut;return(Ut=Je.presentStudentIds)==null?void 0:Ut.includes(Ie.id)}).length,rt=Ue.length,Le=rt?`${Math.round(Pe/rt*100)}%`:"-",me=ge[Ie.id],Ze=me!=null&&me.count?(me.total/me.count).toFixed(1):"-",pt=((dt=Se[Ie.id])==null?void 0:dt.remark)||"N/A";return{student:Ie,presentDays:Pe,totalDays:rt,attendanceRate:Le,avgScore:Ze,remark:pt}})},[N]),$=M=>{if(!M)return"CLASS";const W=Nn.find(ae=>ae.id===M);return W&&W.level?W.level:M.startsWith("c_n")?"NURSERY":M.startsWith("c_kg")?"KG":M.startsWith("c_p")?"PRIMARY":M.startsWith("c_jhs")?"JHS":"CLASS"},P=u&&Q[u]?Q[u].name:"All Schools",V=async()=>{const W=(await Xn(Pn(Ct,"schools"))).docs.map(ae=>({id:ae.id,...ae.data()}));e(W)},G=async()=>{o(!0),h(null);try{const M=[];if(u&&M.push(nn("schoolId","==",u)),A&&M.push(nn("term","==",A)),v&&M.push(nn("academicYear","==",v)),b){const ge=new Date(b).getTime(),Se=ge+1440*60*1e3-1;M.push(nn("timestamp",">=",ge)),M.push(nn("timestamp","<=",Se))}const W=Pn(Ct,"backups"),ae=M.length>0?$n(W,...M):W,ce=(await Xn(ae)).docs.map(ge=>ge.data());ce.sort((ge,Se)=>(Se.timestamp||0)-(ge.timestamp||0)),s(ce)}catch(M){console.error("Error fetching backups:",M),h("Failed to fetch backups."),Pt("Failed to fetch backups.",{type:"error"})}finally{o(!1)}},ie=async M=>{try{const W=await Bu(On(Ct,"backups",M));if(!W.exists()){Pt("Backup details not found.",{type:"error"});return}S(W.data()),_(!0)}catch(W){console.error("Error fetching backup details:",W),Pt("Failed to fetch backup details.",{type:"error"})}},de=async M=>{try{const W=await Bu(On(Ct,"backups",M));if(!W.exists()){Pt("No data available to download.",{type:"error"});return}const ae=W.data();if(!ae.data){Pt("No data available to download.",{type:"error"});return}const ue=`backup_${ae.academicYear.replace("-","")}_${ae.term.replace(" ","")}_${ae.timestamp}.json`,ce=JSON.stringify(ae.data,null,2),ge=new Blob([ce],{type:"application/json"}),Se=URL.createObjectURL(ge),xe=document.createElement("a");xe.href=Se,xe.download=ue,document.body.appendChild(xe),xe.click(),document.body.removeChild(xe),URL.revokeObjectURL(Se),Pt("Backup downloaded successfully!",{type:"success"})}catch(W){console.error("Error downloading backup:",W),Pt("Failed to download backup.",{type:"error"})}},X=async()=>{if(R)try{await Fi(On(Ct,"backups",R)),Pt("Backup deleted successfully!",{type:"success"}),D(!1),L(null),await G()}catch(M){console.error("Error deleting backup:",M),Pt("Failed to delete backup.",{type:"error"})}};ee.useEffect(()=>{V()},[]),ee.useEffect(()=>{G()},[u,A,v,b]);const q=M=>M?M.length:"-";return i.jsxs(lr,{title:"Backups Overview",children:[i.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[i.jsxs("div",{className:"relative overflow-hidden rounded-2xl border bg-gradient-to-br from-indigo-50 via-white to-emerald-50 p-6 shadow-sm",children:[i.jsx("div",{className:"absolute -top-16 -right-16 h-40 w-40 rounded-full bg-indigo-200/40 blur-3xl"}),i.jsx("div",{className:"absolute -bottom-20 -left-16 h-48 w-48 rounded-full bg-emerald-200/40 blur-3xl"}),i.jsxs("div",{className:"relative flex flex-col gap-2",children:[i.jsxs("h1",{className:"text-3xl font-bold text-slate-900 flex items-center gap-3",children:[i.jsx("span",{className:"h-10 w-10 rounded-2xl bg-indigo-100 text-indigo-700 flex items-center justify-center",children:i.jsx(s2,{size:20})}),"Global Backups"]}),i.jsx("p",{className:"text-sm text-slate-600",children:"View, audit, and manage term backups across all schools."}),i.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-3 text-sm",children:[i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-white/80 px-3 py-1 font-medium text-slate-700 shadow-sm",children:[i.jsx(kp,{className:"h-4 w-4 text-indigo-500"}),P]}),i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-emerald-50 px-3 py-1 font-medium text-emerald-700 shadow-sm",children:[i.jsx(Vh,{className:"h-4 w-4"}),"Backups: ",t.length]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 p-6",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4 text-slate-700 font-semibold",children:[i.jsx(QT,{size:16})," Filters"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"School"}),i.jsxs("select",{value:u,onChange:M=>f(M.target.value),className:"w-full border border-slate-200 p-2.5 rounded-xl bg-white text-slate-800 focus:ring-2 focus:ring-emerald-200 outline-none",children:[i.jsx("option",{value:"",children:"All Schools"}),n.map(M=>i.jsx("option",{value:M.id,children:M.name},M.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Term"}),i.jsxs("select",{value:A,onChange:M=>m(M.target.value),className:"w-full border border-slate-200 p-2.5 rounded-xl bg-white text-slate-800 focus:ring-2 focus:ring-emerald-200 outline-none",children:[i.jsx("option",{value:"",children:"All Terms"}),i.jsx("option",{value:"Term 1",children:"Term 1"}),i.jsx("option",{value:"Term 2",children:"Term 2"}),i.jsx("option",{value:"Term 3",children:"Term 3"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Academic Year"}),i.jsx("input",{type:"text",value:v,onChange:M=>g(M.target.value),placeholder:"e.g. 2024-2025",className:"w-full border border-slate-200 p-2.5 rounded-xl bg-white text-slate-800 focus:ring-2 focus:ring-emerald-200 outline-none"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Date"}),i.jsxs("div",{className:"relative",children:[i.jsx(Zo,{className:"absolute left-3 top-3 h-4 w-4 text-slate-400"}),i.jsx("input",{type:"date",value:b,onChange:M=>I(M.target.value),className:"w-full border border-slate-200 pl-10 pr-3 py-2.5 rounded-xl bg-white text-slate-800 focus:ring-2 focus:ring-emerald-200 outline-none"})]})]})]}),i.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[i.jsxs("button",{onClick:G,className:"inline-flex items-center gap-2 rounded-full bg-[#0B4A82] text-white px-4 py-2 text-sm font-semibold hover:bg-[#0B4A82]",children:[i.jsx(OT,{size:16})," Refresh"]}),i.jsx("button",{onClick:()=>{f(""),m(""),g(""),I("")},className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-4 py-2 text-sm text-slate-600 hover:bg-slate-50",children:"Clear Filters"})]})]}),a?i.jsx("div",{className:"text-center py-12 text-slate-500",children:"Loading backups..."}):c?i.jsx("div",{className:"text-center py-12 text-rose-600",children:c}):t.length===0?i.jsx("div",{className:"text-center py-12 text-slate-500",children:"No backups found for the current filters."}):i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:t.map(M=>{var ae,ue,ce,ge;const W=M.schoolId?((ae=Q[M.schoolId])==null?void 0:ae.name)||M.schoolId:"Unknown School";return i.jsxs("div",{className:"rounded-2xl border border-slate-100 bg-white p-5 shadow-sm",children:[i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-500",children:"School"}),i.jsx("p",{className:"text-lg font-semibold text-slate-900",children:W}),i.jsxs("p",{className:"text-sm text-slate-500",children:[M.term,"  ",M.academicYear]}),i.jsx("p",{className:"text-xs text-slate-400 mt-1",children:M.timestamp?new Date(M.timestamp).toLocaleString():"N/A"})]}),i.jsx(fi,{to:M.schoolId?`/super-admin/schools/${M.schoolId}`:"/super-admin/schools",className:"text-xs font-semibold text-[#1160A8] hover:text-[#0B4A82]",children:"View School"})]}),i.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-3 text-xs text-slate-500",children:[i.jsxs("div",{className:"rounded-xl bg-slate-50 p-3",children:[i.jsx("p",{children:"Students"}),i.jsx("p",{className:"text-sm font-semibold text-slate-800",children:q((ue=M.data)==null?void 0:ue.students)})]}),i.jsxs("div",{className:"rounded-xl bg-slate-50 p-3",children:[i.jsx("p",{children:"Assessments"}),i.jsx("p",{className:"text-sm font-semibold text-slate-800",children:q((ce=M.data)==null?void 0:ce.assessments)})]}),i.jsxs("div",{className:"rounded-xl bg-slate-50 p-3",children:[i.jsx("p",{children:"Users"}),i.jsx("p",{className:"text-sm font-semibold text-slate-800",children:q((ge=M.data)==null?void 0:ge.users)})]})]}),i.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-2",children:[i.jsxs("button",{onClick:()=>ie(M.id||""),className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-3 py-1.5 text-xs font-semibold text-slate-700 hover:bg-slate-50",children:[i.jsx(qd,{size:14})," View"]}),i.jsxs("button",{onClick:()=>de(M.id||""),className:"inline-flex items-center gap-2 rounded-full border border-emerald-200 bg-emerald-50 px-3 py-1.5 text-xs font-semibold text-emerald-700 hover:bg-emerald-100",children:[i.jsx(Jv,{size:14})," Download"]}),i.jsxs("button",{onClick:()=>{L(M.id||null),D(!0)},className:"inline-flex items-center gap-2 rounded-full border border-rose-200 bg-rose-50 px-3 py-1.5 text-xs font-semibold text-rose-700 hover:bg-rose-100",children:[i.jsx(RA,{size:14})," Delete"]})]})]},M.id)})})]}),E&&N&&i.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto shadow-2xl",children:[i.jsxs("div",{className:"p-5 border-b border-slate-100 flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Backup Details"}),i.jsxs("p",{className:"text-sm text-slate-500",children:[N.term,"  ",N.academicYear]})]}),i.jsx("button",{onClick:()=>_(!1),className:"text-slate-400 hover:text-slate-600",children:""})]}),i.jsxs("div",{className:"p-5 space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[i.jsxs("div",{className:"rounded-xl border border-slate-100 bg-slate-50 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Students"}),i.jsx("p",{className:"text-lg font-semibold text-slate-900",children:q((Z=N.data)==null?void 0:Z.students)})]}),i.jsxs("div",{className:"rounded-xl border border-slate-100 bg-slate-50 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Assessments"}),i.jsx("p",{className:"text-lg font-semibold text-slate-900",children:q((oe=N.data)==null?void 0:oe.assessments)})]}),i.jsxs("div",{className:"rounded-xl border border-slate-100 bg-slate-50 p-3",children:[i.jsx("p",{className:"text-xs text-slate-500",children:"Users"}),i.jsx("p",{className:"text-lg font-semibold text-slate-900",children:q((ye=N.data)==null?void 0:ye.users)})]})]}),i.jsxs("div",{children:[i.jsxs("h4",{className:"font-bold text-slate-800 mb-3 flex items-center",children:[i.jsx(Vh,{size:18,className:"mr-2 text-[#0B4A82]"}),"Student Performance Snapshot"]}),O.length>0?i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 overflow-hidden",children:[i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm text-left",children:[i.jsx("thead",{className:"bg-slate-50 text-slate-600 font-semibold",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3",children:"Student"}),i.jsx("th",{className:"px-4 py-3",children:"Class"}),i.jsx("th",{className:"px-4 py-3 text-center",children:"Attendance"}),i.jsx("th",{className:"px-4 py-3 text-center",children:"Avg Score"}),i.jsx("th",{className:"px-4 py-3",children:"Remark"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-100",children:O.map(M=>{var W;return i.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[i.jsx("td",{className:"px-4 py-3 font-medium text-slate-800",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs text-white mr-3 shadow-sm ${M.student.gender==="Male"?"bg-amber-400":"bg-[#0B4A82]"}`,children:M.student.name.charAt(0)}),i.jsxs("div",{children:[i.jsx("p",{children:M.student.name}),i.jsx("p",{className:"text-xs text-slate-400",children:M.student.gender})]})]})}),i.jsx("td",{className:"px-4 py-3",children:i.jsx("span",{className:"px-2.5 py-1 rounded-md bg-slate-100 text-slate-600 text-xs font-semibold border border-slate-200",children:((W=Nn.find(ae=>ae.id===M.student.classId))==null?void 0:W.name)||M.student.classId})}),i.jsxs("td",{className:"px-4 py-3 text-center",children:[i.jsx("div",{className:"text-sm font-semibold text-slate-700",children:M.attendanceRate}),i.jsxs("div",{className:"text-xs text-slate-400",children:[M.presentDays,"/",M.totalDays," days"]})]}),i.jsx("td",{className:"px-4 py-3 text-center font-semibold text-slate-700",children:M.avgScore}),i.jsx("td",{className:"px-4 py-3 text-slate-600",children:M.remark})]},M.student.id)})})]})}),i.jsxs("div",{className:"px-4 py-3 bg-slate-50 border-t border-slate-100 text-xs text-slate-500",children:["Total: ",O.length," student",O.length!==1?"s":""]})]}):i.jsxs("div",{className:"text-center py-8 text-slate-500 bg-slate-50 rounded-xl border border-slate-100",children:[i.jsx(Vh,{size:32,className:"mx-auto mb-2 text-slate-300"}),i.jsx("p",{children:"No student records in this backup."})]})]}),((ne=N.data)==null?void 0:ne.classSubjects)&&N.data.classSubjects.length>0&&i.jsxs("div",{children:[i.jsxs("h4",{className:"font-bold text-slate-800 mb-3 flex items-center",children:[i.jsx(um,{size:18,className:"mr-2 text-amber-600"}),"Classes & Subjects"]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:N.data.classSubjects.map((M,W)=>{var ce,ge;const ae=Nn.find(Se=>Se.id===M.classId),ue=$(M.classId);return i.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-white rounded-xl p-4 border border-amber-200 hover:shadow-lg transition-shadow",children:[i.jsxs("div",{className:"text-center mb-3 pb-3 border-b border-amber-200",children:[i.jsx("p",{className:"text-xs font-bold text-amber-600 uppercase tracking-wider mb-1",children:ue}),i.jsx("p",{className:"text-2xl font-extrabold text-slate-800",children:(ae==null?void 0:ae.name)||M.classId})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wide mb-2",children:"Subjects"}),i.jsx("div",{className:"flex flex-wrap gap-1",children:M.subjects&&M.subjects.length>0?M.subjects.map((Se,xe)=>i.jsx("span",{className:"px-2 py-1 bg-white border border-slate-200 text-slate-700 text-xs rounded-md shadow-sm",children:Se},xe)):i.jsx("span",{className:"text-xs text-slate-400 italic",children:"No subjects"})}),i.jsxs("p",{className:"text-xs text-slate-500 mt-2 font-medium",children:[((ce=M.subjects)==null?void 0:ce.length)||0," subject",((ge=M.subjects)==null?void 0:ge.length)!==1?"s":""]})]})]},W)})})]}),i.jsx("div",{className:"flex justify-end gap-2",children:i.jsxs("button",{onClick:()=>de(N.id),className:"inline-flex items-center gap-2 rounded-full border border-emerald-200 bg-emerald-50 px-4 py-2 text-sm font-semibold text-emerald-700 hover:bg-emerald-100",children:[i.jsx(Jv,{size:16})," Download JSON"]})})]})]})}),H&&R&&i.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-sm p-6 shadow-2xl",children:[i.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"Delete Backup"}),i.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Are you sure you want to delete this backup? This action cannot be undone."}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx("button",{onClick:()=>D(!1),className:"px-4 py-2 rounded-full border border-slate-200 text-slate-600",children:"Cancel"}),i.jsx("button",{onClick:X,className:"px-4 py-2 rounded-full bg-rose-600 text-white",children:"Delete"})]})]})})]})},WY=n=>{if(!n)return"-";if(n instanceof or)return n.toDate().toLocaleString();if(typeof n=="number")return new Date(n).toLocaleString();const e=new Date(n);return Number.isNaN(e.getTime())?"-":e.toLocaleString()},XY=(n,e="GHS")=>{if(!n&&n!==0)return"-";const t=n>=100?n/100:n;return new Intl.NumberFormat("en-GH",{style:"currency",currency:e}).format(t)},QN=n=>{const e=(n||"pending").toLowerCase();return["success","paid","active"].includes(e)?{label:"Paid",className:"bg-emerald-50 text-emerald-700"}:["failed","failure","past_due"].includes(e)?{label:"Failed",className:"bg-rose-50 text-rose-700"}:["abandoned","cancelled","canceled"].includes(e)?{label:"Cancelled",className:"bg-slate-100 text-slate-600"}:{label:"Pending",className:"bg-amber-50 text-amber-700"}},JY=()=>{const[n,e]=ee.useState([]),[t,s]=ee.useState(!1),[a,o]=ee.useState(""),c=async()=>{s(!0);try{const u=Pn(Ct,"payments"),f=$n(u,ub("createdAt","desc")),m=(await Xn(f)).docs.map(v=>({id:v.id,...v.data()}));e(m)}catch(u){console.error("Failed to load payments",u),Pt("Failed to load payment data.",{type:"error"})}finally{s(!1)}};ee.useEffect(()=>{c()},[]);const h=ee.useMemo(()=>{const u=a.trim().toLowerCase();return u?n.filter(f=>[f.schoolName,f.schoolId,f.adminEmail,f.status,f.reference,f.currency].filter(Boolean).join(" ").toLowerCase().includes(u)):n},[n,a]);return i.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[i.jsx("div",{className:"bg-white rounded-2xl border border-slate-100 p-6 shadow-sm",children:i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Payments"}),i.jsx("p",{className:"text-sm text-slate-500",children:"View all school admin payments in one place."})]}),i.jsxs("button",{onClick:c,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-slate-200 text-slate-600 hover:bg-slate-50",disabled:t,children:[i.jsx(Ag,{size:16,className:t?"animate-spin":""}),"Refresh"]})]})}),i.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 p-6 shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(fb,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),i.jsx("input",{value:a,onChange:u=>o(u.target.value),placeholder:"Search by school, email, status, reference",className:"w-full rounded-xl border border-slate-200 bg-white pl-10 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[#0B4A82]/20"})]}),i.jsxs("span",{className:"text-xs text-slate-400",children:[h.length," records"]})]}),i.jsxs("div",{className:"overflow-x-auto",children:[i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"text-left text-slate-500 border-b border-slate-100",children:[i.jsx("th",{className:"py-3 pr-4",children:"School"}),i.jsx("th",{className:"py-3 pr-4",children:"Admin Email"}),i.jsx("th",{className:"py-3 pr-4",children:"Amount"}),i.jsx("th",{className:"py-3 pr-4",children:"Currency"}),i.jsx("th",{className:"py-3 pr-4",children:"Status"}),i.jsx("th",{className:"py-3 pr-4",children:"Reference"}),i.jsx("th",{className:"py-3",children:"Created"})]})}),i.jsx("tbody",{children:h.map(u=>i.jsxs("tr",{className:"border-b border-slate-100",children:[i.jsxs("td",{className:"py-3 pr-4",children:[i.jsx("div",{className:"font-medium text-slate-800",children:u.schoolName||"-"}),i.jsx("div",{className:"text-xs text-slate-400",children:u.schoolId||""})]}),i.jsx("td",{className:"py-3 pr-4 text-slate-600",children:u.adminEmail||"-"}),i.jsx("td",{className:"py-3 pr-4 text-slate-700",children:XY(u.amount,u.currency)}),i.jsx("td",{className:"py-3 pr-4 text-slate-600",children:u.currency||"GHS"}),i.jsx("td",{className:"py-3 pr-4",children:i.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-0.5 text-xs font-semibold ${QN(u.status).className}`,children:QN(u.status).label})}),i.jsx("td",{className:"py-3 pr-4 text-slate-500",children:u.reference||"-"}),i.jsx("td",{className:"py-3 text-slate-500",children:WY(u.createdAt)})]},u.id))})]}),!h.length&&!t&&i.jsx("div",{className:"text-center text-sm text-slate-400 py-10",children:"No payments found yet."})]})]})]})},qY=()=>{const{user:n,loading:e,authLoading:t,error:s,logout:a}=nl(),{school:o,schoolLoading:c,schoolError:h}=uc();return t?i.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0B4A82] mb-4"}),i.jsx("p",{className:"text-slate-600",children:"Authenticating..."})]})}):s==="Your account is not set up yet. Please contact your administrator for access."?i.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-lg border border-slate-100 p-8 text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-[#E6F0FA] rounded-full flex items-center justify-center mx-auto mb-6",children:i.jsx("svg",{className:"w-8 h-8 text-[#0B4A82]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),i.jsx("h1",{className:"text-2xl font-bold text-slate-800 mb-4",children:"Account Not Set Up"}),i.jsx("p",{className:"text-slate-600 mb-6",children:"Your account is not set up yet. Please contact your administrator for access to the system."}),i.jsx("button",{onClick:a,className:"px-6 py-2 bg-slate-600 text-white rounded-lg hover:bg-slate-700 transition-colors",children:"Sign Out"})]})}):h&&(n==null?void 0:n.role)!==hs.SUPER_ADMIN?i.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-lg border border-slate-100 p-8 text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-[#E6F0FA] rounded-full flex items-center justify-center mx-auto mb-6",children:i.jsx("svg",{className:"w-8 h-8 text-[#0B4A82]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),i.jsx("h1",{className:"text-2xl font-bold text-slate-800 mb-4",children:"School Access Issue"}),i.jsx("p",{className:"text-slate-600 mb-6",children:h}),i.jsx("button",{onClick:a,className:"px-6 py-2 bg-slate-600 text-white rounded-lg hover:bg-slate-700 transition-colors",children:"Sign Out"})]})}):i.jsx(qM,{children:i.jsx(tW,{})})},ZY=()=>i.jsx(XP,{children:i.jsx(JP,{children:i.jsx(HF,{children:i.jsx(qY,{})})})}),ei=({children:n,allowedRoles:e})=>{const{user:t,isAuthenticated:s,authLoading:a}=nl();if(a)return i.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#0B4A82] mb-4"}),i.jsx("p",{className:"text-slate-600",children:"Authenticating..."})]})});if(!s)return i.jsx(Q1,{to:"/login",replace:!0});if(e&&t&&!e.includes(t.role)){const o=t.role===hs.SUPER_ADMIN?"/super-admin/schools":t.role===hs.SCHOOL_ADMIN?"/admin/students":"/teacher";return i.jsx(Q1,{to:o,replace:!0})}return n},eW=()=>{const{user:n}=nl();return(n==null?void 0:n.role)===hs.SUPER_ADMIN?i.jsx(lr,{title:"Super Admin Dashboard",children:i.jsx(m_,{})}):(n==null?void 0:n.role)===hs.SCHOOL_ADMIN?i.jsx(c7,{}):(n==null?void 0:n.role)===hs.TEACHER?i.jsx(f_,{}):i.jsx(Q1,{to:"/login"})},tW=()=>i.jsxs(vF,{children:[i.jsx(La,{path:"/login",element:i.jsx(ZM,{})}),i.jsx(La,{path:"/",element:i.jsx(ei,{children:i.jsx(eW,{})})}),i.jsx(La,{path:"/admin/students",element:i.jsx(ei,{allowedRoles:[hs.SCHOOL_ADMIN],children:i.jsx(u7,{})})}),i.jsx(La,{path:"/admin/teachers",element:i.jsx(ei,{allowedRoles:[hs.SCHOOL_ADMIN],children:i.jsx(w7,{})})}),i.jsx(La,{path:"/admin/attendance",element:i.jsx(ei,{allowedRoles:[hs.SCHOOL_ADMIN],children:i.jsx(j7,{})})}),i.jsx(La,{path:"/admin/teacher-attendance",element:i.jsx(ei,{allowedRoles:[hs.SCHOOL_ADMIN],children:i.jsx(B7,{})})}),i.jsx(La,{path:"/admin/reports",element:i.jsx(ei,{allowedRoles:[hs.SCHOOL_ADMIN],children:i.jsx(C7,{})})}),i.jsx(La,{path:"/admin/report-card",element:i.jsx(ei,{allowedRoles:[hs.SCHOOL_ADMIN],children:i.jsx(NV,{})})}),i.jsx(La,{path:"/admin/timetable",element:i.jsx(ei,{allowedRoles:[hs.SCHOOL_ADMIN],children:i.jsx(aK,{})})}),i.jsx(La,{path:"/admin/settings",element:i.jsx(ei,{allowedRoles:[hs.SCHOOL_ADMIN],children:i.jsx(nK,{})})}),i.jsx(La,{path:"/admin/backups",element:i.jsx(ei,{allowedRoles:[hs.SCHOOL_ADMIN],children:i.jsx(rK,{})})}),i.jsx(La,{path:"/admin/billing",element:i.jsx(ei,{allowedRoles:[hs.SCHOOL_ADMIN],children:i.jsx(iK,{})})}),i.jsx(La,{path:"/super-admin/schools",element:i.jsx(ei,{allowedRoles:[hs.SUPER_ADMIN],children:i.jsx(GY,{})})}),i.jsx(La,{path:"/super-admin/dashboard",element:i.jsx(ei,{allowedRoles:[hs.SUPER_ADMIN],children:i.jsx(lr,{title:"Super Admin Dashboard",children:i.jsx(m_,{})})})}),i.jsx(La,{path:"/super-admin/schools/:schoolId",element:i.jsx(ei,{allowedRoles:[hs.SUPER_ADMIN],children:i.jsx($Y,{})})}),i.jsx(La,{path:"/super-admin/backups",element:i.jsx(ei,{allowedRoles:[hs.SUPER_ADMIN],children:i.jsx(YY,{})})}),i.jsx(La,{path:"/super-admin/payments",element:i.jsx(ei,{allowedRoles:[hs.SUPER_ADMIN],children:i.jsx(lr,{title:"Payments",children:i.jsx(JY,{})})})}),i.jsx(La,{path:"/teacher",element:i.jsx(ei,{allowedRoles:[hs.TEACHER],children:i.jsx(f_,{})})}),i.jsx(La,{path:"/teacher/attendance",element:i.jsx(ei,{allowedRoles:[hs.TEACHER],children:i.jsx(kY,{})})}),i.jsx(La,{path:"/teacher/assessment",element:i.jsx(ei,{allowedRoles:[hs.TEACHER],children:i.jsx(HY,{})})}),i.jsx(La,{path:"/teacher/my-attendance",element:i.jsx(ei,{allowedRoles:[hs.TEACHER],children:i.jsx(MY,{})})}),i.jsx(La,{path:"/teacher/write-remarks",element:i.jsx(ei,{allowedRoles:[hs.TEACHER],children:i.jsx(VY,{})})}),i.jsx(La,{path:"/teacher/edit-skills",element:i.jsx(ei,{allowedRoles:[hs.TEACHER],children:i.jsx(zY,{})})})]}),p_=document.getElementById("root");if(!p_)throw new Error("Could not find root element to mount to");const nW=y6.createRoot(p_);nW.render(i.jsx(Ax.StrictMode,{children:i.jsx(ZY,{})}));export{Vr as _,Vj as c,Wb as g};
